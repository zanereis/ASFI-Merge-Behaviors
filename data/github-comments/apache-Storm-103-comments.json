[{"url":"https://api.github.com/repos/apache/storm/issues/comments/134412604","html_url":"https://github.com/apache/storm/pull/694#issuecomment-134412604","issue_url":"https://api.github.com/repos/apache/storm/issues/694","id":134412604,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDQxMjYwNA==","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-24T23:27:24Z","updated_at":"2015-08-24T23:27:24Z","author_association":"CONTRIBUTOR","body":"@mjsax, I'm not sure it's not related. Here is the output from my benchmarks:\n\nPre-batching (apache master)\n\n```\nstatus  time            time-diff ms    transferred throughput (MB/s)\nWAITING 1440456969132   0           0           0.0\nWAITING 1440456999132   30000           99560           0.031649271647135414\nWAITING 1440457029131   29999           2073460         0.6591571546037212\nRUNNING 1440457059131   30000           2043680         0.6496683756510416\nRUNNING 1440457089132   30001           2000600         0.6359524140536461\nRUNNING 1440457119133   30001           1921980         0.6109606221947549\nRUNNING 1440457149131   29998           1846040         0.5868794369819967\nRUNNING 1440457179132   30001           1847640         0.5873293603429365\nRUNNING 1440457209133   30001           1688440         0.5367227301733171\nRUNNING 1440457239131   29998           1733740         0.5511778482986105\nRUNNING 1440457269131   30000           1751700         0.5568504333496094\nRUNNING 1440457299133   30002           1748280         0.5557261962158252\nRUNNING 1440457329132   29999           1706500         0.54249982364321\nRUNNING 1440457359133   30001           1787720         0.568281940243919\nRUNNING 1440457389131   29998           1717900         0.5461421121922451\nRUNNING 1440457419132   30001           1779180         0.5655672378466291\nRUNNING 1440457449132   30000           1639820         0.5212847391764323\nRUNNING 1440457479131   29999           1743720         0.5543321374058823\nRUNNING 1440457509134   30003           1681140         0.5343665767700574\nRUNNING 1440457539133   29999           1716760         0.5457614985278155\nRUNNING 1440457569131   29998           1700800         0.5407058061683279\nRUNNING 1440457599132   30001           1754100         0.5575947863098574\nRUNNING 1440457629134   30002           1669220         0.53059537445225\nRUNNING 1440457659132   29998           1757240         0.5586487951735845\nRUNNING 1440457689131   29999           1781520         0.5663488343491658\nRUNNING 1440457719131   30000           1772920         0.5635960896809896\nRUNNING 1440457749134   30003           1656020         0.5263819422907969\nRUNNING 1440457779135   30001           1557820         0.49520113449017844\nRUNNING 1440457809134   29999           1750760         0.5565701677360599\nRUNNING 1440457839131   29997           1773740         0.5639131519760049\nRUNNING 1440457869132   30001           1656360         0.5265251127371275\nRUNNING 1440457899131   29999           1770140         0.5627311091847593\nRUNNING 1440457929131   30000           1767480         0.5618667602539062\n```\n\nWith batching, no typehints. (This pull request as of now)\n\n```\nstatus  time            time-diff ms    transferred     throughput (MB/s)\nWAITING 1440455622424   0               0               0.0\nWAITING 1440455652425   30001           87340           0.027763712807880363\nWAITING 1440455682427   30002           652540          0.2074230512724933\nRUNNING 1440455712428   30001           678920          0.21581566177611788\nRUNNING 1440455742425   29997           729960          0.23207124179214797\nRUNNING 1440455772425   30000           667320          0.21213531494140625\nRUNNING 1440455802427   30002           670380          0.2130938564870415\nRUNNING 1440455832423   29996           616080          0.19587267397371733\nRUNNING 1440455862423   30000           645540          0.20521163940429688\nRUNNING 1440455892428   30005           635080          0.2018528528122917\nRUNNING 1440455922427   29999           622760          0.1979766716507738\nRUNNING 1440455952428   30001           610080          0.19393274455955634\nRUNNING 1440455982424   29996           633800          0.20150646144095255\nRUNNING 1440456012423   29999           573820          0.18241854603161253\nRUNNING 1440456042427   30004           596680          0.18965417648089627\nRUNNING 1440456072423   29996           592880          0.18849660911819494\nRUNNING 1440456102425   30002           558000          0.17737159807835728\nRUNNING 1440456132424   29999           614140          0.19523635610444828\nRUNNING 1440456162423   29999           580520          0.18454848966970774\nRUNNING 1440456192423   30000           585380          0.18608729044596353\nRUNNING 1440456222425   30002           568560          0.18072830789145308\nRUNNING 1440456252423   29998           598440          0.19025163607912401\nRUNNING 1440456282426   30003           560560          0.1781794069941964\nRUNNING 1440456312423   29997           579480          0.1842301539724285\nRUNNING 1440456342424   30001           589860          0.18750519391866624\nRUNNING 1440456372428   30004           569560          0.18103411000278088\nRUNNING 1440456402423   29995           536220          0.17048816200812114\nRUNNING 1440456432427   30004           607340          0.19304244744906407\nRUNNING 1440456462425   29998           563460          0.17913105217756703\nRUNNING 1440456492427   30002           588020          0.18691406290687393\nRUNNING 1440456522423   29996           594640          0.18905617265895872\nRUNNING 1440456552423   30000           594260          0.18891016642252603\nRUNNING 1440456582426   30003           582340          0.18510239023298192\nRUNNING 1440456612425   29999           554180          0.17617495005367367\n```\n\nWith batching, typehints added:\n\n```\nstatus  time            time-diff ms    transferred throughput (MB/s)\nWAITING 1440453725066   0           0           0.0\nWAITING 1440453755065   29999           78920           0.025088828644548568\nWAITING 1440453785067   30002           2003120         0.6367322500765574\nRUNNING 1440453815066   29999           1940420         0.6168634677959318\nRUNNING 1440453845065   29999           2073440         0.6591507965630105\nRUNNING 1440453875068   30003           1952840         0.6207290444458158\nRUNNING 1440453905067   29999           1751360         0.556760908957382\nRUNNING 1440453935068   30001           1823440         0.5796366439478059\nRUNNING 1440453965065   29997           1835720         0.5836180338411445\nRUNNING 1440453995070   30005           1776660         0.5646908885140237\nRUNNING 1440454025066   29996           1599600         0.5085669544350705\nRUNNING 1440454055065   29999           1566060         0.4978536617724497\nRUNNING 1440454085068   30003           1632100         0.5187787393949407\nRUNNING 1440454115065   29997           1619780         0.5149656913119698\nRUNNING 1440454145066   30001           1665920         0.5295640535940468\nRUNNING 1440454175068   30002           1697340         0.5395338858106075\nRUNNING 1440454205065   29997           1705360         0.542173561431664\nRUNNING 1440454235067   30002           1628760         0.5177343442403319\nRUNNING 1440454265066   29999           1721040         0.5471221192399122\nRUNNING 1440454295070   30004           1731960         0.5505018561001762\nRUNNING 1440454325067   29997           1648780         0.5241854650146004\nRUNNING 1440454355065   29998           1665100         0.529356325171027\nRUNNING 1440454385065   30000           1573460         0.500189463297526\nRUNNING 1440454415068   30003           1700960         0.5406665550892827\nRUNNING 1440454445066   29998           1744260         0.554522289197535\nRUNNING 1440454475065   29999           1580540         0.5024568832470198\nRUNNING 1440454505068   30003           1695720         0.5390009705084179\nRUNNING 1440454535066   29998           1746140         0.5551199649475329\nRUNNING 1440454565065   29999           1685440         0.5358048067748091\nRUNNING 1440454595066   30001           1738360         0.5525913418445947\nRUNNING 1440454625069   30003           1431160         0.4549080207539142\nRUNNING 1440454655065   29996           1421760         0.45202560211153153\nRUNNING 1440454685070   30005           1403440         0.4460672163363398\n```\n\nWith the type-hints in place, the throughput goes up to very near apache-master levels.\nThese were gathered with the command:\n`storm jar storm_perf_test-1.0.0-SNAPSHOT-jar-with-dependencies.jar com.yahoo.storm.perftest.Main --ack --bolt 4 --name test -l 1 -n 1 --workers 4 --spout 3 --testTimeSec 900 -c topology.max.spout.pending=1092 --messageSize 10`\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134412604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563521","html_url":"https://github.com/apache/storm/issues/4695#issuecomment-2612563521","issue_url":"https://api.github.com/repos/apache/storm/issues/4695","id":2612563521,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjM1MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-24T23:27:25Z","updated_at":"2025-01-24T13:43:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/694#issuecomment-134412604\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/694#issuecomment-134412604</a></p>\n\n<p>    @mjsax, I'm not sure it's not related. Here is the output from my benchmarks:</p>\n\n<p>    Pre-batching (apache master)<br/>\n    ```<br/>\n    status\ttime    time-diff ms\ttransferred\tthroughput (MB/s)<br/>\n    WAITING\t1440456969132\t0\t0\t0.0<br/>\n    WAITING\t1440456999132\t30000\t99560   0.031649271647135414<br/>\n    WAITING\t1440457029131\t29999\t2073460 0.6591571546037212<br/>\n    RUNNING\t1440457059131\t30000\t2043680 0.6496683756510416<br/>\n    RUNNING\t1440457089132\t30001\t2000600 0.6359524140536461<br/>\n    RUNNING\t1440457119133\t30001\t1921980 0.6109606221947549<br/>\n    RUNNING\t1440457149131\t29998\t1846040 0.5868794369819967<br/>\n    RUNNING\t1440457179132\t30001\t1847640 0.5873293603429365<br/>\n    RUNNING\t1440457209133\t30001\t1688440 0.5367227301733171<br/>\n    RUNNING\t1440457239131\t29998\t1733740 0.5511778482986105<br/>\n    RUNNING\t1440457269131\t30000\t1751700 0.5568504333496094<br/>\n    RUNNING\t1440457299133\t30002\t1748280 0.5557261962158252<br/>\n    RUNNING\t1440457329132\t29999\t1706500 0.54249982364321<br/>\n    RUNNING\t1440457359133\t30001\t1787720 0.568281940243919<br/>\n    RUNNING\t1440457389131\t29998\t1717900 0.5461421121922451<br/>\n    RUNNING\t1440457419132\t30001\t1779180 0.5655672378466291<br/>\n    RUNNING\t1440457449132\t30000\t1639820 0.5212847391764323<br/>\n    RUNNING\t1440457479131\t29999\t1743720 0.5543321374058823<br/>\n    RUNNING\t1440457509134\t30003\t1681140 0.5343665767700574<br/>\n    RUNNING\t1440457539133\t29999\t1716760 0.5457614985278155<br/>\n    RUNNING\t1440457569131\t29998\t1700800 0.5407058061683279<br/>\n    RUNNING\t1440457599132\t30001\t1754100 0.5575947863098574<br/>\n    RUNNING\t1440457629134\t30002\t1669220 0.53059537445225<br/>\n    RUNNING\t1440457659132\t29998\t1757240 0.5586487951735845<br/>\n    RUNNING\t1440457689131\t29999\t1781520 0.5663488343491658<br/>\n    RUNNING\t1440457719131\t30000\t1772920 0.5635960896809896<br/>\n    RUNNING\t1440457749134\t30003\t1656020 0.5263819422907969<br/>\n    RUNNING\t1440457779135\t30001\t1557820 0.49520113449017844<br/>\n    RUNNING\t1440457809134\t29999\t1750760 0.5565701677360599<br/>\n    RUNNING\t1440457839131\t29997\t1773740 0.5639131519760049<br/>\n    RUNNING\t1440457869132\t30001\t1656360 0.5265251127371275<br/>\n    RUNNING\t1440457899131\t29999\t1770140 0.5627311091847593<br/>\n    RUNNING\t1440457929131\t30000\t1767480 0.5618667602539062<br/>\n    ```</p>\n\n<p>    With batching, no typehints. (This pull request as of now)<br/>\n    ```<br/>\n    status  time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1440455622424   0       0       0.0<br/>\n    WAITING 1440455652425   30001   87340   0.027763712807880363<br/>\n    WAITING 1440455682427   30002   652540  0.2074230512724933<br/>\n    RUNNING 1440455712428   30001   678920  0.21581566177611788<br/>\n    RUNNING 1440455742425   29997   729960  0.23207124179214797<br/>\n    RUNNING 1440455772425   30000   667320  0.21213531494140625<br/>\n    RUNNING 1440455802427   30002   670380  0.2130938564870415<br/>\n    RUNNING 1440455832423   29996   616080  0.19587267397371733<br/>\n    RUNNING 1440455862423   30000   645540  0.20521163940429688<br/>\n    RUNNING 1440455892428   30005   635080  0.2018528528122917<br/>\n    RUNNING 1440455922427   29999   622760  0.1979766716507738<br/>\n    RUNNING 1440455952428   30001   610080  0.19393274455955634<br/>\n    RUNNING 1440455982424   29996   633800  0.20150646144095255<br/>\n    RUNNING 1440456012423   29999   573820  0.18241854603161253<br/>\n    RUNNING 1440456042427   30004   596680  0.18965417648089627<br/>\n    RUNNING 1440456072423   29996   592880  0.18849660911819494<br/>\n    RUNNING 1440456102425   30002   558000  0.17737159807835728<br/>\n    RUNNING 1440456132424   29999   614140  0.19523635610444828<br/>\n    RUNNING 1440456162423   29999   580520  0.18454848966970774<br/>\n    RUNNING 1440456192423   30000   585380  0.18608729044596353<br/>\n    RUNNING 1440456222425   30002   568560  0.18072830789145308<br/>\n    RUNNING 1440456252423   29998   598440  0.19025163607912401<br/>\n    RUNNING 1440456282426   30003   560560  0.1781794069941964<br/>\n    RUNNING 1440456312423   29997   579480  0.1842301539724285<br/>\n    RUNNING 1440456342424   30001   589860  0.18750519391866624<br/>\n    RUNNING 1440456372428   30004   569560  0.18103411000278088<br/>\n    RUNNING 1440456402423   29995   536220  0.17048816200812114<br/>\n    RUNNING 1440456432427   30004   607340  0.19304244744906407<br/>\n    RUNNING 1440456462425   29998   563460  0.17913105217756703<br/>\n    RUNNING 1440456492427   30002   588020  0.18691406290687393<br/>\n    RUNNING 1440456522423   29996   594640  0.18905617265895872<br/>\n    RUNNING 1440456552423   30000   594260  0.18891016642252603<br/>\n    RUNNING 1440456582426   30003   582340  0.18510239023298192<br/>\n    RUNNING 1440456612425   29999   554180  0.17617495005367367<br/>\n    ```</p>\n\n<p>    With batching, typehints added:<br/>\n    ```<br/>\n    status\ttime    time-diff ms\ttransferred\tthroughput (MB/s)<br/>\n    WAITING\t1440453725066\t0\t0\t0.0<br/>\n    WAITING\t1440453755065\t29999\t78920   0.025088828644548568<br/>\n    WAITING\t1440453785067\t30002\t2003120 0.6367322500765574<br/>\n    RUNNING\t1440453815066\t29999\t1940420 0.6168634677959318<br/>\n    RUNNING\t1440453845065\t29999\t2073440 0.6591507965630105<br/>\n    RUNNING\t1440453875068\t30003\t1952840 0.6207290444458158<br/>\n    RUNNING\t1440453905067\t29999\t1751360 0.556760908957382<br/>\n    RUNNING\t1440453935068\t30001\t1823440 0.5796366439478059<br/>\n    RUNNING\t1440453965065\t29997\t1835720 0.5836180338411445<br/>\n    RUNNING\t1440453995070\t30005\t1776660 0.5646908885140237<br/>\n    RUNNING\t1440454025066\t29996\t1599600 0.5085669544350705<br/>\n    RUNNING\t1440454055065\t29999\t1566060 0.4978536617724497<br/>\n    RUNNING\t1440454085068\t30003\t1632100 0.5187787393949407<br/>\n    RUNNING\t1440454115065\t29997\t1619780 0.5149656913119698<br/>\n    RUNNING\t1440454145066\t30001\t1665920 0.5295640535940468<br/>\n    RUNNING\t1440454175068\t30002\t1697340 0.5395338858106075<br/>\n    RUNNING\t1440454205065\t29997\t1705360 0.542173561431664<br/>\n    RUNNING\t1440454235067\t30002\t1628760 0.5177343442403319<br/>\n    RUNNING\t1440454265066\t29999\t1721040 0.5471221192399122<br/>\n    RUNNING\t1440454295070\t30004\t1731960 0.5505018561001762<br/>\n    RUNNING\t1440454325067\t29997\t1648780 0.5241854650146004<br/>\n    RUNNING\t1440454355065\t29998\t1665100 0.529356325171027<br/>\n    RUNNING\t1440454385065\t30000\t1573460 0.500189463297526<br/>\n    RUNNING\t1440454415068\t30003\t1700960 0.5406665550892827<br/>\n    RUNNING\t1440454445066\t29998\t1744260 0.554522289197535<br/>\n    RUNNING\t1440454475065\t29999\t1580540 0.5024568832470198<br/>\n    RUNNING\t1440454505068\t30003\t1695720 0.5390009705084179<br/>\n    RUNNING\t1440454535066\t29998\t1746140 0.5551199649475329<br/>\n    RUNNING\t1440454565065\t29999\t1685440 0.5358048067748091<br/>\n    RUNNING\t1440454595066\t30001\t1738360 0.5525913418445947<br/>\n    RUNNING\t1440454625069\t30003\t1431160 0.4549080207539142<br/>\n    RUNNING\t1440454655065\t29996\t1421760 0.45202560211153153<br/>\n    RUNNING\t1440454685070\t30005\t1403440 0.4460672163363398<br/>\n    ```</p>\n\n\n<p>    With the type-hints in place, the throughput goes up to very near apache-master levels.<br/>\n    These were gathered with the command:<br/>\n    `storm jar storm_perf_test-1.0.0-SNAPSHOT-jar-with-dependencies.jar com.yahoo.storm.perftest.Main --ack --bolt 4 --name test -l 1 -n 1 --workers 4 --spout 3 --testTimeSec 900 -c topology.max.spout.pending=1092 --messageSize 10`</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134415592","html_url":"https://github.com/apache/storm/pull/669#issuecomment-134415592","issue_url":"https://api.github.com/repos/apache/storm/issues/669","id":134415592,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDQxNTU5Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-24T23:44:04Z","updated_at":"2015-08-24T23:44:04Z","author_association":"CONTRIBUTOR","body":"Since @harshach's comment seems to be minor, and I think it's valid reason to not addressing comment, I'll merge this in.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134415592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563310","html_url":"https://github.com/apache/storm/issues/4694#issuecomment-2612563310","issue_url":"https://api.github.com/repos/apache/storm/issues/4694","id":2612563310,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjMzMTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-24T23:44:05Z","updated_at":"2025-01-24T13:43:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/669#issuecomment-134415592\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/669#issuecomment-134415592</a></p>\n\n<p>    Since @harshach's comment seems to be minor, and I think it's valid reason to not addressing comment, I'll merge this in.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134418143","html_url":"https://github.com/apache/storm/pull/669#issuecomment-134418143","issue_url":"https://api.github.com/repos/apache/storm/issues/669","id":134418143,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDQxODE0Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-24T23:51:17Z","updated_at":"2015-08-24T23:51:17Z","author_association":"CONTRIBUTOR","body":"@rohanag12 \nPlease assign STORM-854 to your Apache JIRA account so that I can see your name (or maybe nickname) and add you to contributor list. Thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134418143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563317","html_url":"https://github.com/apache/storm/issues/4694#issuecomment-2612563317","issue_url":"https://api.github.com/repos/apache/storm/issues/4694","id":2612563317,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjMzMTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-24T23:51:19Z","updated_at":"2025-01-24T13:43:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/669#issuecomment-134418143\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/669#issuecomment-134418143</a></p>\n\n<p>    @rohanag12 <br/>\n    Please assign <a href=\"https://issues.apache.org/jira/browse/STORM-854\" title=\"[Storm-Kafka] KafkaSpout can  set the topic name as the output streamid\" class=\"issue-link\" data-issue-key=\"STORM-854\"><del>STORM-854</del></a> to your Apache JIRA account so that I can see your name (or maybe nickname) and add you to contributor list. Thanks!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587382","html_url":"https://github.com/apache/storm/issues/4830#issuecomment-2612587382","issue_url":"https://api.github.com/repos/apache/storm/issues/4830","id":2612587382,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODczODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T00:24:23Z","updated_at":"2025-01-24T13:55:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/680\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/680</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134423270","html_url":"https://github.com/apache/storm/pull/680#issuecomment-134423270","issue_url":"https://api.github.com/repos/apache/storm/issues/680","id":134423270,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDQyMzI3MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T00:24:42Z","updated_at":"2015-08-25T00:24:52Z","author_association":"CONTRIBUTOR","body":"Late to give +1.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134423270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587384","html_url":"https://github.com/apache/storm/issues/4830#issuecomment-2612587384","issue_url":"https://api.github.com/repos/apache/storm/issues/4830","id":2612587384,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODczODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T00:24:43Z","updated_at":"2025-01-24T13:55:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/680#issuecomment-134423270\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/680#issuecomment-134423270</a></p>\n\n<p>    +1.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587387","html_url":"https://github.com/apache/storm/issues/4830#issuecomment-2612587387","issue_url":"https://api.github.com/repos/apache/storm/issues/4830","id":2612587387,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODczODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T00:27:13Z","updated_at":"2025-01-24T13:55:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Since it incurs potential bug which would be hard to debug, I also merged this to 0.10.x-branch.</p>\n\n<p>Thanks, <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wangli1426\" class=\"user-hover\" rel=\"wangli1426\">Li Wang</a><br/>\nI merged this to master and 0.10.x-branch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134436752","html_url":"https://github.com/apache/storm/pull/696#issuecomment-134436752","issue_url":"https://api.github.com/repos/apache/storm/issues/696","id":134436752,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDQzNjc1Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T01:21:44Z","updated_at":"2015-08-25T01:21:44Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134436752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612592807","html_url":"https://github.com/apache/storm/issues/4841#issuecomment-2612592807","issue_url":"https://api.github.com/repos/apache/storm/issues/4841","id":2612592807,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTI4MDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T01:21:45Z","updated_at":"2025-01-24T13:57:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/696#issuecomment-134436752\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/696#issuecomment-134436752</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612592807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134450197","html_url":"https://github.com/apache/storm/pull/694#issuecomment-134450197","issue_url":"https://api.github.com/repos/apache/storm/issues/694","id":134450197,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDQ1MDE5Nw==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T02:18:17Z","updated_at":"2015-08-25T16:17:24Z","author_association":"MEMBER","body":"I just pushed some changes (I added a new commit, so you can better see what I changed):\n- added type hints\n- split tuple and batch serialization in separate classes\n- assemble different \"emit function\" in Clojure for single tuple and batch case (to add more type hints)\n\nI get the following result running on a 4 node cluster with parameters: `storm jar storm_perf_test-1.0.0-SNAPSHOT-jar-with-dependencies.jar com.yahoo.storm.perftest.Main --bolt 3 --name test -l 1 -n 1 --messageSize 4 --workers 4 --spout 1 --testTimeSec 300`\n\nMaster Branch:\n\n```\nstatus  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)\nWAITING 1       48      0       4       0       1440466170638   0       0       0.0\nWAITING 1       48      4       4       4       1440466200638   30000   6122840 0.7785593668619791\nWAITING 1       48      4       4       4       1440466230638   30000   11565400        1.4706166585286458\nRUNNING 1       48      4       4       4       1440466260638   30000   11394040        1.4488271077473958\nRUNNING 1       48      4       4       4       1440466290638   30000   11718240        1.49005126953125\nRUNNING 1       48      4       4       4       1440466320638   30000   11615920        1.4770406087239583\nRUNNING 1       48      4       4       4       1440466350638   30000   11557380        1.4695968627929688\nRUNNING 1       48      4       4       4       1440466380638   30000   11581080        1.4726104736328125\nRUNNING 1       48      4       4       4       1440466410638   30000   11492600        1.4613596598307292\nRUNNING 1       48      4       4       4       1440466440638   30000   11413760        1.4513346354166667\nRUNNING 1       48      4       4       4       1440466470638   30000   11300580        1.4369430541992188\nRUNNING 1       48      4       4       4       1440466500638   30000   11368760        1.4456125895182292\nRUNNING 1       48      4       4       4       1440466530638   30000   11509820        1.463549296061198\n```\n\nBatching branch with batching disabled:\n\n```\nstatus  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)\nWAITING 1       48      0       4       0       1440467016767   0       0       0.0\nWAITING 1       48      4       4       4       1440467046767   30000   7095940 0.9022954305013021\nWAITING 1       48      4       4       4       1440467076767   30000   11136640        1.4160970052083333\nRUNNING 1       48      4       4       4       1440467106767   30000   11159220        1.4189682006835938\nRUNNING 1       48      4       4       4       1440467136767   30000   7757660 0.9864374796549479\nRUNNING 1       48      4       4       4       1440467166767   30000   11375580        1.4464797973632812\nRUNNING 1       48      4       4       4       1440467196767   30000   11669980        1.4839146931966145\nRUNNING 1       48      4       4       4       1440467226767   30000   11344380        1.4425125122070312\nRUNNING 1       48      4       4       4       1440467256767   30000   11521460        1.4650293986002605\nRUNNING 1       48      4       4       4       1440467286767   30000   11401040        1.4497172037760417\nRUNNING 1       48      4       4       4       1440467316767   30000   11493700        1.461499532063802\nRUNNING 1       48      4       4       4       1440467346767   30000   11452680        1.4562835693359375\nRUNNING 1       48      4       4       4       1440467376767   30000   11148300        1.4175796508789062\n```\n\nBatching branch with batch size of 100 tuples:\n\n```\nstatus  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)\nWAITING 1       48      1       4       0       1440467461710   0       0       0.0\nWAITING 1       48      4       4       4       1440467491710   30000   11686000        1.4859517415364583\nWAITING 1       48      4       4       4       1440467521710   30000   18026640        2.292205810546875\nRUNNING 1       48      4       4       4       1440467551710   30000   17936300        2.2807184855143228\nRUNNING 1       48      4       4       4       1440467581710   30000   18969300        2.4120712280273438\nRUNNING 1       48      4       4       4       1440467611710   30000   18581620        2.3627751668294272\nRUNNING 1       48      4       4       4       1440467641711   30001   18963120        2.4112050268897285\nRUNNING 1       48      4       4       4       1440467671710   29999   18607200        2.3661067022546587\nRUNNING 1       48      4       4       4       1440467701710   30000   19333620        2.4583969116210938\nRUNNING 1       48      4       4       4       1440467731710   30000   18629100        2.3688125610351562\nRUNNING 1       48      4       4       4       1440467761711   30001   18847820        2.3965443624209923\nRUNNING 1       48      4       4       4       1440467791710   29999   18021400        2.291615897287722\nRUNNING 1       48      4       4       4       1440467821710   30000   18143360        2.3070475260416665\n```\n\nThe negative impact is gone and batching increases output rate by about 50%. Need to do more tests. Also need to investigate the performance impact of input debachting. Furthermore, need to test with acking enabled.\n\nSome more question:\n- What about `assert-can-serialize`? Is it performance critical? Did not test it, but it seems that a generic approach for tuple and batch should be good enough.\n- What about batching `acks`? Would it make sense? I don't understand the acking code path good enough right now to judge. As acking is quite expensive, it might be a good idea.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134450197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563538","html_url":"https://github.com/apache/storm/issues/4695#issuecomment-2612563538","issue_url":"https://api.github.com/repos/apache/storm/issues/4695","id":2612563538,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjM1Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T02:18:18Z","updated_at":"2025-01-24T13:43:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user mjsax commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/694#issuecomment-134450197\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/694#issuecomment-134450197</a></p>\n\n<p>    I just pushed some changes (I added a new commit, so you can better see what I changed):</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>added type hints</li>\n\t<li>split tuple and batch serialization in separate classes</li>\n\t<li>assemble different \"emit function\" in Clojure for single tuple and batch case (to add more type hints)</li>\n</ul>\n\n\n<p>    I get the following result running on a 4 node cluster with parameters: `storm jar storm_perf_test-1.0.0-SNAPSHOT-jar-with-dependencies.jar com.yahoo.storm.perftest.Main --bolt 3 --name test -l 1 -n 1 --messageSize 4 --workers 4 --spout 1 --testTimeSec 300`</p>\n\n<p>    Master Branch:<br/>\n    ```<br/>\n    status  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1       48      0       4       0       1440466170638   0       0       0.0<br/>\n    WAITING 1       48      4       4       4       1440466200638   30000   6122840 0.7785593668619791<br/>\n    WAITING 1       48      4       4       4       1440466230638   30000   115654001.4706166585286458<br/>\n    RUNNING 1       48      4       4       4       1440466260638   30000   113940401.4488271077473958<br/>\n    RUNNING 1       48      4       4       4       1440466290638   30000   117182401.49005126953125<br/>\n    RUNNING 1       48      4       4       4       1440466320638   30000   116159201.4770406087239583<br/>\n    RUNNING 1       48      4       4       4       1440466350638   30000   115573801.4695968627929688<br/>\n    RUNNING 1       48      4       4       4       1440466380638   30000   115810801.4726104736328125<br/>\n    RUNNING 1       48      4       4       4       1440466410638   30000   114926001.4613596598307292<br/>\n    RUNNING 1       48      4       4       4       1440466440638   30000   114137601.4513346354166667<br/>\n    RUNNING 1       48      4       4       4       1440466470638   30000   113005801.4369430541992188<br/>\n    RUNNING 1       48      4       4       4       1440466500638   30000   113687601.4456125895182292<br/>\n    RUNNING 1       48      4       4       4       1440466530638   30000   115098201.463549296061198<br/>\n    ```</p>\n\n<p>    Batching branch with batching disabled:<br/>\n    ```<br/>\n    status  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1       48      0       4       0       1440467016767   0       0       0.0<br/>\n    WAITING 1       48      4       4       4       1440467046767   30000   7095940 0.9022954305013021<br/>\n    WAITING 1       48      4       4       4       1440467076767   30000   111366401.4160970052083333<br/>\n    RUNNING 1       48      4       4       4       1440467106767   30000   111592201.4189682006835938<br/>\n    RUNNING 1       48      4       4       4       1440467136767   30000   7757660 0.9864374796549479<br/>\n    RUNNING 1       48      4       4       4       1440467166767   30000   113755801.4464797973632812<br/>\n    RUNNING 1       48      4       4       4       1440467196767   30000   116699801.4839146931966145<br/>\n    RUNNING 1       48      4       4       4       1440467226767   30000   113443801.4425125122070312<br/>\n    RUNNING 1       48      4       4       4       1440467256767   30000   115214601.4650293986002605<br/>\n    RUNNING 1       48      4       4       4       1440467286767   30000   114010401.4497172037760417<br/>\n    RUNNING 1       48      4       4       4       1440467316767   30000   114937001.461499532063802<br/>\n    RUNNING 1       48      4       4       4       1440467346767   30000   114526801.4562835693359375<br/>\n    RUNNING 1       48      4       4       4       1440467376767   30000   111483001.4175796508789062<br/>\n    ```</p>\n\n<p>    Batching branch with batch size of 100 tuples:<br/>\n    ```<br/>\n    status  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1       48      1       4       0       1440467461710   0       0       0.0<br/>\n    WAITING 1       48      4       4       4       1440467491710   30000   116860001.4859517415364583<br/>\n    WAITING 1       48      4       4       4       1440467521710   30000   180266402.292205810546875<br/>\n    RUNNING 1       48      4       4       4       1440467551710   30000   179363002.2807184855143228<br/>\n    RUNNING 1       48      4       4       4       1440467581710   30000   189693002.4120712280273438<br/>\n    RUNNING 1       48      4       4       4       1440467611710   30000   185816202.3627751668294272<br/>\n    RUNNING 1       48      4       4       4       1440467641711   30001   189631202.4112050268897285<br/>\n    RUNNING 1       48      4       4       4       1440467671710   29999   186072002.3661067022546587<br/>\n    RUNNING 1       48      4       4       4       1440467701710   30000   193336202.4583969116210938<br/>\n    RUNNING 1       48      4       4       4       1440467731710   30000   186291002.3688125610351562<br/>\n    RUNNING 1       48      4       4       4       1440467761711   30001   188478202.3965443624209923<br/>\n    RUNNING 1       48      4       4       4       1440467791710   29999   180214002.291615897287722<br/>\n    RUNNING 1       48      4       4       4       1440467821710   30000   181433602.3070475260416665<br/>\n    ```</p>\n\n<p>    The negative impact is gone and batching increases output rate by about 50%. Need to do more tests. Also need to investigate the performance impact of input debachting. Furthermore, need to test with acking enabled.</p>\n\n<p>    Some more question:</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>What about `assert-can-serialize`? Is it performance critical? Did not test it, but it seems that a generic approach for tuple and batch should be good enough.</li>\n\t<li>I also do not understand the following code (line 648-622 in `executor.clj` in batching branch). I used batching, but did not modify this code. Nevertheless it works (I guess this part is not executed?). Can you explain?<br/>\n    ```<br/>\n    (task/send-unanchored task-data<br/>\n  ACKER-INIT-STREAM-ID<br/>\n  <span class=\"error\">&#91;root-id (bit-xor-vals out-ids) task-id&#93;</span><br/>\n  overflow-buffer)<br/>\n    ```</li>\n\t<li>What about batching `acks`? Would it make sense? I don't understand the acking code path good enough right now to judge. As acking is quite expensive, it might be a good idea.</li>\n</ul>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134456617","html_url":"https://github.com/apache/storm/pull/669#issuecomment-134456617","issue_url":"https://api.github.com/repos/apache/storm/issues/669","id":134456617,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDQ1NjYxNw==","user":{"login":"rohanag12","id":10829859,"node_id":"MDQ6VXNlcjEwODI5ODU5","avatar_url":"https://avatars.githubusercontent.com/u/10829859?v=4","gravatar_id":"","url":"https://api.github.com/users/rohanag12","html_url":"https://github.com/rohanag12","followers_url":"https://api.github.com/users/rohanag12/followers","following_url":"https://api.github.com/users/rohanag12/following{/other_user}","gists_url":"https://api.github.com/users/rohanag12/gists{/gist_id}","starred_url":"https://api.github.com/users/rohanag12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rohanag12/subscriptions","organizations_url":"https://api.github.com/users/rohanag12/orgs","repos_url":"https://api.github.com/users/rohanag12/repos","events_url":"https://api.github.com/users/rohanag12/events{/privacy}","received_events_url":"https://api.github.com/users/rohanag12/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T02:41:22Z","updated_at":"2015-08-25T02:41:22Z","author_association":"CONTRIBUTOR","body":"Assigned to myself. Assignee name - Rohan Agarwal\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134456617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563323","html_url":"https://github.com/apache/storm/issues/4694#issuecomment-2612563323","issue_url":"https://api.github.com/repos/apache/storm/issues/4694","id":2612563323,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjMzMjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T02:41:23Z","updated_at":"2025-01-24T13:43:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user rohanag12 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/669#issuecomment-134456617\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/669#issuecomment-134456617</a></p>\n\n<p>    Assigned to myself. Assignee name - Rohan Agarwal</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563327","html_url":"https://github.com/apache/storm/issues/4694#issuecomment-2612563327","issue_url":"https://api.github.com/repos/apache/storm/issues/4694","id":2612563327,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjMzMjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T03:05:34Z","updated_at":"2025-01-24T13:43:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/669\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/669</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563335","html_url":"https://github.com/apache/storm/issues/4694#issuecomment-2612563335","issue_url":"https://api.github.com/repos/apache/storm/issues/4694","id":2612563335,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjMzMzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T03:06:07Z","updated_at":"2025-01-24T13:43:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Thanks, <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohanag12\" class=\"user-hover\" rel=\"rohanag12\">Rohan Agarwal</a>.<br/>\nI merged into master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134468397","html_url":"https://github.com/apache/storm/pull/694#issuecomment-134468397","issue_url":"https://api.github.com/repos/apache/storm/issues/694","id":134468397,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDQ2ODM5Nw==","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T04:02:37Z","updated_at":"2015-08-25T04:04:23Z","author_association":"CONTRIBUTOR","body":"Excellent work. This looks very promising. \nI'll address your questions and review the new code tomorrow.\nI am very interested, though, in how the size of the messages affects the throughput. Have you tried with larger `--messageSize`?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134468397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563548","html_url":"https://github.com/apache/storm/issues/4695#issuecomment-2612563548","issue_url":"https://api.github.com/repos/apache/storm/issues/4695","id":2612563548,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjM1NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T04:02:39Z","updated_at":"2025-01-24T13:43:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/694#issuecomment-134468397\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/694#issuecomment-134468397</a></p>\n\n<p>    Excellent work. This looks very promising. I'll address your questions tomorrow.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134506199","html_url":"https://github.com/apache/storm/pull/695#issuecomment-134506199","issue_url":"https://api.github.com/repos/apache/storm/issues/695","id":134506199,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDUwNjE5OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T07:10:06Z","updated_at":"2015-08-25T07:10:06Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134506199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612592555","html_url":"https://github.com/apache/storm/issues/4839#issuecomment-2612592555","issue_url":"https://api.github.com/repos/apache/storm/issues/4839","id":2612592555,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTI1NTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T07:10:08Z","updated_at":"2025-01-24T13:57:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/695#issuecomment-134506199\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/695#issuecomment-134506199</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612592555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134516149","html_url":"https://github.com/apache/storm/pull/691#issuecomment-134516149","issue_url":"https://api.github.com/repos/apache/storm/issues/691","id":134516149,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDUxNjE0OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T08:04:38Z","updated_at":"2015-08-25T08:04:38Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134516149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612588582","html_url":"https://github.com/apache/storm/issues/4838#issuecomment-2612588582","issue_url":"https://api.github.com/repos/apache/storm/issues/4838","id":2612588582,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODg1ODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T08:04:38Z","updated_at":"2025-01-24T13:55:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/691#issuecomment-134516149\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/691#issuecomment-134516149</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612588582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581778","html_url":"https://github.com/apache/storm/issues/4792#issuecomment-2612581778","issue_url":"https://api.github.com/repos/apache/storm/issues/4792","id":2612581778,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODE3Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T08:52:30Z","updated_at":"2025-01-24T13:52:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/673#discussion_r37845257\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/673#discussion_r37845257</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/common.clj &#8212;<br/>\n    @@ -273,6 +293,26 @@<br/>\n  (metrics-consumer-register-ids storm-conf)<br/>\n  (get storm-conf TOPOLOGY-METRICS-CONSUMER-REGISTER))))</p>\n\n<p>    +;; return the fields that event logger bolt expects<br/>\n    +(defn eventlogger-bolt-fields []<br/>\n    +  <span class=\"error\">&#91;(EventLoggerBolt/FIELD_COMPONENT_ID)  (EventLoggerBolt/FIELD_TS) (EventLoggerBolt/FIELD_VALUES)&#93;</span><br/>\n    +  )<br/>\n    +<br/>\n    +(defn add-eventlogger! <span class=\"error\">&#91;storm-conf ^StormTopology ret&#93;</span><br/>\n    +  (let [num-executors (if (nil? (storm-conf TOPOLOGY-EVENTLOGGER-EXECUTORS)) (storm-conf TOPOLOGY-WORKERS) (storm-conf TOPOLOGY-EVENTLOGGER-EXECUTORS))<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I followed similar logic as \"add-acker!\". When num-executors is set to 0, no threads would execute the task. Verified it by setting the value to 0 and no event logger tasks ran.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134533312","html_url":"https://github.com/apache/storm/pull/673#issuecomment-134533312","issue_url":"https://api.github.com/repos/apache/storm/issues/673","id":134533312,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDUzMzMxMg==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T09:03:35Z","updated_at":"2015-08-25T09:03:35Z","author_association":"CONTRIBUTOR","body":"@Parth-Brahmbhatt  I have double checked the thrift generated files. It appears that since a `map` type was added to `StormBase` and `TopologyInfo` thrift changed variable names across other Java files as well, though their thrift structure itself did not have any change.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134533312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581785","html_url":"https://github.com/apache/storm/issues/4792#issuecomment-2612581785","issue_url":"https://api.github.com/repos/apache/storm/issues/4792","id":2612581785,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODE3ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T09:03:36Z","updated_at":"2025-01-24T13:52:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/673#issuecomment-134533312\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/673#issuecomment-134533312</a></p>\n\n<p>    @Parth-Brahmbhatt  I have double checked the thrift generated files. It appears that since a `map` type was added to `StormBase` and `TopologyInfo` thrift changed variable names across other Java files as well, though their thrift structure itself did not have any change.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587593","html_url":"https://github.com/apache/storm/issues/4832#issuecomment-2612587593","issue_url":"https://api.github.com/repos/apache/storm/issues/4832","id":2612587593,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODc1OTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T13:19:39Z","updated_at":"2025-01-24T13:55:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user fmazoyer opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/697\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/697</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-994\" title=\"Connection leak between nimbus and supervisors\" class=\"issue-link\" data-issue-key=\"STORM-994\"><del>STORM-994</del></a> Close download clients and channels to avoid resource leaks</p>\n\n<p>    This pull request to fix <a href=\"https://issues.apache.org/jira/browse/STORM-994\" title=\"Connection leak between nimbus and supervisors\" class=\"issue-link\" data-issue-key=\"STORM-994\"><del>STORM-994</del></a> to avoid resource leaks between nimbus and supervisors.<br/>\n    Could you please review ?<br/>\n    Thanks</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/fmazoyer/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/fmazoyer/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-994\" title=\"Connection leak between nimbus and supervisors\" class=\"issue-link\" data-issue-key=\"STORM-994\"><del>STORM-994</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/697.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/697.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #697</p>\n\n<hr />\n<p>commit f2e3ea0eb411547802cc87a95a9b4a8f56cd9d10<br/>\nAuthor: fmazoyer <frantz.mazoyer@altran.com><br/>\nDate:   2015-08-25T12:57:59Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-994\" title=\"Connection leak between nimbus and supervisors\" class=\"issue-link\" data-issue-key=\"STORM-994\"><del>STORM-994</del></a> Close download clients and channels to avoid resource leaks</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562839","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562839","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562839,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4Mzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T15:56:44Z","updated_at":"2025-01-24T13:43:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37882952\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37882952</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/mapper/SolrJsonMapper.java &#8212;<br/>\n    @@ -0,0 +1,97 @@<br/>\n    +package org.apache.storm.solr.mapper;<br/>\n    +<br/>\n    +import backtype.storm.tuple.ITuple;<br/>\n    +import com.google.gson.Gson;<br/>\n    +import org.apache.solr.client.solrj.SolrClient;<br/>\n    +import org.apache.solr.client.solrj.SolrRequest;<br/>\n    +import org.apache.solr.client.solrj.impl.CloudSolrClient;<br/>\n    +import org.apache.solr.client.solrj.request.ContentStreamUpdateRequest;<br/>\n    +import org.apache.solr.common.util.ContentStream;<br/>\n    +import org.apache.solr.common.util.ContentStreamBase;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * Created by hlouro on 7/24/15.<br/>\n    + */<br/>\n    +public class SolrJsonMapper implements SolrMapper {<br/>\n    +    private static final Logger logger = LoggerFactory.getLogger(SolrJsonMapper.class);<br/>\n    +    private static final String JSON_UPDATE_URL = \"/update/json/docs\";<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Done</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562843","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562843","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562843,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4NDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T15:58:13Z","updated_at":"2025-01-24T13:43:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37883137\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37883137</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/mapper/SolrJsonMapper.java &#8212;<br/>\n    @@ -0,0 +1,97 @@<br/>\n    +package org.apache.storm.solr.mapper;<br/>\n    +<br/>\n    +import backtype.storm.tuple.ITuple;<br/>\n    +import com.google.gson.Gson;<br/>\n    +import org.apache.solr.client.solrj.SolrClient;<br/>\n    +import org.apache.solr.client.solrj.SolrRequest;<br/>\n    +import org.apache.solr.client.solrj.impl.CloudSolrClient;<br/>\n    +import org.apache.solr.client.solrj.request.ContentStreamUpdateRequest;<br/>\n    +import org.apache.solr.common.util.ContentStream;<br/>\n    +import org.apache.solr.common.util.ContentStreamBase;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * Created by hlouro on 7/24/15.<br/>\n    + */<br/>\n    +public class SolrJsonMapper implements SolrMapper {<br/>\n    +    private static final Logger logger = LoggerFactory.getLogger(SolrJsonMapper.class);<br/>\n    +    private static final String JSON_UPDATE_URL = \"/update/json/docs\";<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Done</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562844","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562844","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562844,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T15:58:51Z","updated_at":"2025-01-24T13:43:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37883211\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37883211</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/bolt/AbstractSolrBolt.java &#8212;<br/>\n    @@ -0,0 +1,33 @@<br/>\n    +package org.apache.storm.solr.bolt;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I deleted this class as I was able to abstract the specific implementations in the mapper, which returns the SolrRequest object</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562848","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562848","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562848,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T15:58:59Z","updated_at":"2025-01-24T13:43:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37883234\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37883234</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/bolt/SolrUpdateBolt.java &#8212;<br/>\n    @@ -0,0 +1,107 @@<br/>\n    +package org.apache.storm.solr.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import org.apache.solr.client.solrj.SolrRequest;<br/>\n    +import org.apache.solr.client.solrj.SolrServerException;<br/>\n    +import org.apache.storm.solr.config.SolrCommitStrategy;<br/>\n    +import org.apache.storm.solr.config.SolrConfig;<br/>\n    +import org.apache.storm.solr.mapper.SolrMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.util.LinkedList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Created by hlouro on 7/19/15.<br/>\n    + */<br/>\n    +public class SolrUpdateBolt extends AbstractSolrBolt {<br/>\n    +    private final Logger logger = LoggerFactory.getLogger(SolrUpdateBolt.class);<br/>\n    +    private final SolrMapper solrMapper;<br/>\n    +    private final SolrCommitStrategy commitStgy;<br/>\n    +    private List<Tuple> toCommitTuples;<br/>\n    +    private final String ackFailLock = \"LOCK\";      //serializable lock<br/>\n    +<br/>\n    +<br/>\n    +    public SolrUpdateBolt(SolrConfig solrConfig, SolrMapper solrMapper) </p>\n{\n    +this(solrConfig, solrMapper, null);\n    +    }\n<p>    +<br/>\n    +    public SolrUpdateBolt(SolrConfig solrConfig, SolrMapper solrMapper, SolrCommitStrategy commitStgy) {<br/>\n    +super(solrConfig);<br/>\n    +this.solrMapper = solrMapper;<br/>\n    +this.commitStgy = commitStgy;<br/>\n    +logger.info(\"Created {} with the following configuration: \" +<br/>\n    +    \"<span class=\"error\">&#91;SolrConfig = {}&#93;</span>, <span class=\"error\">&#91;SolrMapper = {}&#93;</span>, <span class=\"error\">&#91;CommitStgy = {}&#93;</span>\",<br/>\n    +    this.getClass().getSimpleName(), solrConfig, solrMapper, commitStgy);<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +super.prepare(stormConf, context, collector);\n    +this.toCommitTuples = new LinkedList<>();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try </p>\n{\n    +    SolrRequest request = solrMapper.toSolrRequest(tuple);\n    +    solrClient.request(request, solrMapper.getCollection());\n    +    ack(tuple);\n    +}\n<p> catch (Exception e) </p>\n{\n    +    fail(tuple, e);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private void ack(Tuple tuple) throws SolrServerException, IOException {<br/>\n    +if (commitStgy == null) </p>\n{\n    +    collector.ack(tuple);\n    +}\n<p> else {<br/>\n    +    synchronized(ackFailLock) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Done</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562851","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562851","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562851,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4NTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T15:59:40Z","updated_at":"2025-01-24T13:43:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37883322\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37883322</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/bolt/SolrUpdateBolt.java &#8212;<br/>\n    @@ -0,0 +1,107 @@<br/>\n    +package org.apache.storm.solr.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import org.apache.solr.client.solrj.SolrRequest;<br/>\n    +import org.apache.solr.client.solrj.SolrServerException;<br/>\n    +import org.apache.storm.solr.config.SolrCommitStrategy;<br/>\n    +import org.apache.storm.solr.config.SolrConfig;<br/>\n    +import org.apache.storm.solr.mapper.SolrMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.util.LinkedList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Created by hlouro on 7/19/15.<br/>\n    + */<br/>\n    +public class SolrUpdateBolt extends AbstractSolrBolt {<br/>\n    +    private final Logger logger = LoggerFactory.getLogger(SolrUpdateBolt.class);<br/>\n    +    private final SolrMapper solrMapper;<br/>\n    +    private final SolrCommitStrategy commitStgy;<br/>\n    +    private List<Tuple> toCommitTuples;<br/>\n    +    private final String ackFailLock = \"LOCK\";      //serializable lock<br/>\n    +<br/>\n    +<br/>\n    +    public SolrUpdateBolt(SolrConfig solrConfig, SolrMapper solrMapper) </p>\n{\n    +this(solrConfig, solrMapper, null);\n    +    }\n<p>    +<br/>\n    +    public SolrUpdateBolt(SolrConfig solrConfig, SolrMapper solrMapper, SolrCommitStrategy commitStgy) {<br/>\n    +super(solrConfig);<br/>\n    +this.solrMapper = solrMapper;<br/>\n    +this.commitStgy = commitStgy;<br/>\n    +logger.info(\"Created {} with the following configuration: \" +<br/>\n    +    \"<span class=\"error\">&#91;SolrConfig = {}&#93;</span>, <span class=\"error\">&#91;SolrMapper = {}&#93;</span>, <span class=\"error\">&#91;CommitStgy = {}&#93;</span>\",<br/>\n    +    this.getClass().getSimpleName(), solrConfig, solrMapper, commitStgy);<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) {<br/>\n    +super.prepare(stormConf, context, collector);<br/>\n    +this.toCommitTuples = new LinkedList<>();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It now uses ArrayList with the correct size at creation, to avoid reallocation overhead.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562856","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562856","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562856,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T15:59:59Z","updated_at":"2025-01-24T13:43:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37883364\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37883364</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/bolt/AbstractSolrBolt.java &#8212;<br/>\n    @@ -0,0 +1,33 @@<br/>\n    +package org.apache.storm.solr.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.topology.base.BaseRichBolt;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import org.apache.solr.client.solrj.SolrClient;<br/>\n    +import org.apache.solr.client.solrj.impl.CloudSolrClient;<br/>\n    +import org.apache.storm.solr.config.SolrConfig;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Created by hlouro on 7/17/15.<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Done. Also added the Apache Copyright.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134656876","html_url":"https://github.com/apache/storm/pull/694#issuecomment-134656876","issue_url":"https://api.github.com/repos/apache/storm/issues/694","id":134656876,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDY1Njg3Ng==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T16:16:52Z","updated_at":"2015-08-25T16:16:52Z","author_association":"MEMBER","body":"I just checked some older benchmark result doing batching in user land, ie, on top of Storm (=> Aeolus). For this case, a batch size of 100 increased the spout output rate by a factor of 6 (instead of 1.5 as the benchmark above shows). The benchmark should yield more than 70M tuples per 30 seconds... (and not about 19M).\n\nOf course, batching is done a little different now. In Aeolus, a fat-tuple is used as batch. Thus, the system sees only a single batch-tuple. Now, the system sees all tuples, but emitting is delayed until the batch is full (this still saved the overhead of going through the disruptor for each tuple). However, we generate a tuple-ID for each tuple in the batch, instead of a single ID per batch. Not sure how expensive this is. Because acking was not enabled, it should not be too expensive, because the IDs have not to be \"registered\" at the ackers (right?).\n\nAs a further optimization, it might be a good idea not to batch whole tuples, but only `Values` and tuple-id. The `worker-context`, `task-id`, and `outstream-id` is the same for all tuples within a batch. I will try this out, and push a new version the next days if it works.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134656876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563559","html_url":"https://github.com/apache/storm/issues/4695#issuecomment-2612563559","issue_url":"https://api.github.com/repos/apache/storm/issues/4695","id":2612563559,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjM1NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T16:16:54Z","updated_at":"2025-01-24T13:43:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user mjsax commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/694#issuecomment-134656876\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/694#issuecomment-134656876</a></p>\n\n<p>    I just checked some older benchmark result doing batching in user land, ie, on top of Storm (=> Aeolus). For this case, a batch size of 100 increased the spout output rate by a factor of 6 (instead of 1.5 as the benchmark above shows). The benchmark should yield more than 70M tuples per 30 seconds... (and not about 19M).</p>\n\n<p>    Of course, batching is done a little different now. In Aeolus, a fat-tuple is used as batch. Thus, the system sees only a single batch-tuple. Now, the system sees all tuples, but emitting is delayed until the batch is full (this still saved the overhead of going through the disruptor for each tuple). However, we generate a tuple-ID for each tuple in the batch, instead of a single ID per batch. Not sure how expensive this is. Because acking was not enabled, it should not be too expensive, because the IDs have not to be \"registered\" at the ackers (right?).</p>\n\n<p>    As a further optimization, it might be a good idea not to batch whole tuples, but only `Values` and tuple-id. The `worker-context`, `task-id`, and `outstream-id` is the same for all tuples within a batch. I will try this out, and push a new version the next days if it works.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134657971","html_url":"https://github.com/apache/storm/pull/665#issuecomment-134657971","issue_url":"https://api.github.com/repos/apache/storm/issues/665","id":134657971,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDY1Nzk3MQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T16:21:31Z","updated_at":"2015-08-25T16:21:31Z","author_association":"CONTRIBUTOR","body":"+1 .  @Parth-Brahmbhatt @ptgoetz  can you take a look at it as well.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134657971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562862","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562862","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562862,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4NjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T16:21:32Z","updated_at":"2025-01-24T13:43:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#issuecomment-134657971\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#issuecomment-134657971</a></p>\n\n<p>    +1 .  @Parth-Brahmbhatt @ptgoetz  can you take a look at it as well.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134682336","html_url":"https://github.com/apache/storm/pull/694#issuecomment-134682336","issue_url":"https://api.github.com/repos/apache/storm/issues/694","id":134682336,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDY4MjMzNg==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T17:42:30Z","updated_at":"2015-08-25T17:42:30Z","author_association":"MEMBER","body":"Here are some additional benchmark results with larger `--messageSize` (ie, 100 and 250). Those benchmarks are run in a 12 node cluster (with `nimbus.thrift.max_buffer_size: 33554432` and `worker.childopts: \"-Xmx2g\"`) as follows:\n`storm jar target/storm_perf_test-1.0.0-SNAPSHOT-jar-with-dependencies.jar com.yahoo.storm.perftest.Main --name test -l 1 -n 1 --messageSize 100 --workers 24 --spout 1 --bolt 10 --testTimeSec 300`\n\nAs you can observe, the output rate is slightly reduced for larger tuple size in all cases (what is expected due to larger serialization costs). That batching case with batch size 100 and`--messageSize 250` does not improve output rate as significant as before, because it hits the underlaying 1Gbit Ethernet limit. In the beginning, it starts promising. After about 2 minutes performance does down. Because tuples cannot be transfered over the network fast enough, they get buffered in main memory which reaches it's limit (assumption) and thus Storm slows down the spout. Not sure, why performances goes down in each report. Any ideas?\n\n`--messageSize 100`\n**master branch**\n\n```\nstatus  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)\nWAITING 1       144     0       11      0       1440523358523   0       0       0.0\nWAITING 1       144     11      11      11      1440523388523   30000   6336040 20.14172871907552\nWAITING 1       144     11      11      11      1440523418523   30000   10554200        33.55089823404948\nRUNNING 1       144     11      11      11      1440523448523   30000   10005840        31.807708740234375\nRUNNING 1       144     11      11      11      1440523478523   30000   10514120        33.4234873453776\nRUNNING 1       144     11      11      11      1440523508523   30000   10430700        33.158302307128906\nRUNNING 1       144     11      11      11      1440523538523   30000   7608960 24.188232421875\nRUNNING 1       144     11      11      11      1440523568523   30000   10279460        32.67752329508463\nRUNNING 1       144     11      11      11      1440523598524   30001   10496260        33.36559974774929\nRUNNING 1       144     11      11      11      1440523628523   29999   10382860        33.00732328691556\nRUNNING 1       144     11      11      11      1440523658523   30000   10138280        32.22872416178385\nRUNNING 1       144     11      11      11      1440523688523   30000   10072940        32.02101389567057\nRUNNING 1       144     11      11      11      1440523718523   30000   10095820        32.09374745686849\n```\n\n**batching branch (no batching)**\n\n```\nstatus  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)\nWAITING 1       144     0       11      0       1440520763917   0       0       0.0\nWAITING 1       144     11      11      11      1440520793917   30000   4467900 14.203071594238281\nWAITING 1       144     11      11      11      1440520823917   30000   10616160        33.74786376953125\nRUNNING 1       144     11      11      11      1440520853917   30000   10473700        33.294995625813804\nRUNNING 1       144     11      11      11      1440520883917   30000   10556860        33.55935414632162\nRUNNING 1       144     11      11      11      1440520913917   30000   10580760        33.63533020019531\nRUNNING 1       144     11      11      11      1440520943917   30000   10367580        32.95764923095703\nRUNNING 1       144     11      11      11      1440520973917   30000   10646760        33.84513854980469\nRUNNING 1       144     11      11      11      1440521003917   30000   10750300        34.17428334554037\nRUNNING 1       144     11      11      11      1440521033917   30000   10607220        33.719444274902344\nRUNNING 1       144     11      11      11      1440521063917   30000   10456920        33.24165344238281\nRUNNING 1       144     11      11      11      1440521093917   30000   10108000        32.132466634114586\nRUNNING 1       144     11      11      11      1440521123917   30000   10576120        33.6205800374349\n```\n\n**batching branch (batch size: 100)**\n\n```\nstatus  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)\nWAITING 1       144     0       11      0       1440521937049   0       0       0.0\nWAITING 1       144     11      11      11      1440521967049   30000   11346480        36.069488525390625\nWAITING 1       144     11      11      11      1440521997050   30001   17333500        55.0998758822297\nRUNNING 1       144     11      11      11      1440522027049   29999   17815260        56.635074176137906\nRUNNING 1       144     11      11      11      1440522057049   30000   17993660        57.200304667154946\nRUNNING 1       144     11      11      11      1440522087049   30000   17720880        56.333160400390625\nRUNNING 1       144     11      11      11      1440522117050   30001   17957200        57.08249869861108\nRUNNING 1       144     11      11      11      1440522147049   29999   18286500        58.13315572840058\nRUNNING 1       144     11      11      11      1440522177050   30001   18027820        57.306986149778076\nRUNNING 1       144     11      11      11      1440522207049   29999   12470520        39.64403692199896\nRUNNING 1       144     11      11      11      1440522237049   30000   17256760        54.8577626546224\nRUNNING 1       144     11      11      11      1440522267049   30000   17288300        54.95802561442057\nRUNNING 1       144     11      11      11      1440522297049   30000   17077300        54.28727467854818\n```\n\n`--messageSize 250`\n**master branch**\n\n```\nstatus  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)\nWAITING 1       144     0       11      0       1440523772498   0       0       0.0\nWAITING 1       144     11      11      11      1440523802498   30000   6047420 48.06057612101237\nWAITING 1       144     11      11      11      1440523832498   30000   9909100 78.7504514058431\nRUNNING 1       144     11      11      11      1440523862498   30000   9846400 78.25215657552083\nRUNNING 1       144     11      11      11      1440523892498   30000   7100940 56.43320083618164\nRUNNING 1       144     11      11      11      1440523922498   30000   9870500 78.4436861673991\nRUNNING 1       144     11      11      11      1440523952498   30000   9856460 78.33210627237956\nRUNNING 1       144     11      11      11      1440523982498   30000   9662740 76.79255803426106\nRUNNING 1       144     11      11      11      1440524012498   30000   10060860        79.9565315246582\nRUNNING 1       144     11      11      11      1440524042499   30001   10049660        79.86485975980162\nRUNNING 1       144     11      11      11      1440524072498   29999   9937680 78.98021751278428\nRUNNING 1       144     11      11      11      1440524102498   30000   10061600        79.96241251627605\nRUNNING 1       144     11      11      11      1440524132498   30000   9804960 77.92282104492188\n```\n\n**batching branch (no batching)**\n\n```\nstatus  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)\nWAITING 1       144     0       11      0       1440521276880   0       0       0.0\nWAITING 1       144     11      11      11      1440521306880   30000   4983420 39.60466384887695\nWAITING 1       144     11      11      11      1440521336880   30000   9760600 77.57027943929036\nRUNNING 1       144     11      11      11      1440521366881   30001   9344540 74.26125626338171\nRUNNING 1       144     11      11      11      1440521396880   29999   9323920 74.10232867951068\nRUNNING 1       144     11      11      11      1440521426880   30000   9354460 74.3425687154134\nRUNNING 1       144     11      11      11      1440521456880   30000   9601440 76.30538940429688\nRUNNING 1       144     11      11      11      1440521486880   30000   9476900 75.3156344095866\nRUNNING 1       144     11      11      11      1440521516880   30000   9581560 76.14739735921223\nRUNNING 1       144     11      11      11      1440521546881   30001   9494500 75.4529915429414\nRUNNING 1       144     11      11      11      1440521576880   29999   9260020 73.59448017774095\nRUNNING 1       144     11      11      11      1440521606880   30000   9054000 71.95472717285156\nRUNNING 1       144     11      11      11      1440521636880   30000   9278340 73.73762130737305\nRUNNING 1       144     11      11      11      1440521666880   30000   9153180 72.74293899536133\n```\n\n**batching branch (batch size: 100)**\n\n```\nstatus  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)\nWAITING 1       144     0       11      0       1440522380492   0       0       0.0\nWAITING 1       144     11      11      11      1440522410492   30000   10616760        84.37442779541016\nWAITING 1       144     11      11      11      1440522440492   30000   15851220        125.97417831420898\nRUNNING 1       144     11      11      11      1440522470492   30000   12884860        102.39966710408528\nRUNNING 1       144     11      11      11      1440522500492   30000   8743860 69.48995590209961\nRUNNING 1       144     11      11      11      1440522530492   30000   6445660 51.225503285725914\nRUNNING 1       144     11      11      11      1440522560492   30000   5974480 47.48090108235677\nRUNNING 1       144     11      11      11      1440522590493   30001   5198640 41.3137016119645\nRUNNING 1       144     11      11      11      1440522620492   29999   5209800 41.405150618464624\nRUNNING 1       144     11      11      11      1440522650492   30000   4585960 36.445935567220054\nRUNNING 1       144     11      11      11      1440522680492   30000   3870140 30.75710932413737\nRUNNING 1       144     11      11      11      1440522710492   30000   3751040 29.810587565104168\nRUNNING 1       144     11      11      11      1440522740493   30001   3450600 27.421990901898322\n```\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134682336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563564","html_url":"https://github.com/apache/storm/issues/4695#issuecomment-2612563564","issue_url":"https://api.github.com/repos/apache/storm/issues/4695","id":2612563564,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjM1NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T17:42:32Z","updated_at":"2025-01-24T13:43:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user mjsax commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/694#issuecomment-134682336\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/694#issuecomment-134682336</a></p>\n\n<p>    Here are some additional benchmark results with larger `--messageSize` (ie, 100 and 250). Those benchmarks are run in a 12 node cluster (with `nimbus.thrift.max_buffer_size: 33554432` and `worker.childopts: \"-Xmx2g\"`) as follows:<br/>\n    `storm jar target/storm_perf_test-1.0.0-SNAPSHOT-jar-with-dependencies.jar com.yahoo.storm.perftest.Main --name test -l 1 -n 1 --messageSize 100 --workers 24 --spout 1 --bolt 10 --testTimeSec 300`</p>\n\n<p>    As you can observe, the output rate is slightly reduced for larger tuple size in all cases (what is expected due to larger serialization costs). That batching case with batch size 100 and`--messageSize 250` does not improve output rate as significant as before, because it hits the underlaying 1Gbit Ethernet limit. In the beginning, it starts promising. After about 2 minutes performance does down. Because tuples cannot be transfered over the network fast enough, they get buffered in main memory which reaches it's limit (assumption) and thus Storm slows down the spout. Not sure, why performances goes down in each report. Any ideas?</p>\n\n<p>    `--messageSize 100`<br/>\n    *<b>master branch</b>*<br/>\n    ```<br/>\n    status  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1       144     0       11      0       1440523358523   0       0       0.0<br/>\n    WAITING 1       144     11      11      11      1440523388523   30000   6336040 20.14172871907552<br/>\n    WAITING 1       144     11      11      11      1440523418523   30000   1055420033.55089823404948<br/>\n    RUNNING 1       144     11      11      11      1440523448523   30000   1000584031.807708740234375<br/>\n    RUNNING 1       144     11      11      11      1440523478523   30000   1051412033.4234873453776<br/>\n    RUNNING 1       144     11      11      11      1440523508523   30000   1043070033.158302307128906<br/>\n    RUNNING 1       144     11      11      11      1440523538523   30000   7608960 24.188232421875<br/>\n    RUNNING 1       144     11      11      11      1440523568523   30000   1027946032.67752329508463<br/>\n    RUNNING 1       144     11      11      11      1440523598524   30001   1049626033.36559974774929<br/>\n    RUNNING 1       144     11      11      11      1440523628523   29999   1038286033.00732328691556<br/>\n    RUNNING 1       144     11      11      11      1440523658523   30000   1013828032.22872416178385<br/>\n    RUNNING 1       144     11      11      11      1440523688523   30000   1007294032.02101389567057<br/>\n    RUNNING 1       144     11      11      11      1440523718523   30000   1009582032.09374745686849<br/>\n    ```<br/>\n    *<b>batching branch (no batching)</b>*<br/>\n    ```<br/>\n    status  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1       144     0       11      0       1440520763917   0       0       0.0<br/>\n    WAITING 1       144     11      11      11      1440520793917   30000   4467900 14.203071594238281<br/>\n    WAITING 1       144     11      11      11      1440520823917   30000   1061616033.74786376953125<br/>\n    RUNNING 1       144     11      11      11      1440520853917   30000   1047370033.294995625813804<br/>\n    RUNNING 1       144     11      11      11      1440520883917   30000   1055686033.55935414632162<br/>\n    RUNNING 1       144     11      11      11      1440520913917   30000   1058076033.63533020019531<br/>\n    RUNNING 1       144     11      11      11      1440520943917   30000   1036758032.95764923095703<br/>\n    RUNNING 1       144     11      11      11      1440520973917   30000   1064676033.84513854980469<br/>\n    RUNNING 1       144     11      11      11      1440521003917   30000   1075030034.17428334554037<br/>\n    RUNNING 1       144     11      11      11      1440521033917   30000   1060722033.719444274902344<br/>\n    RUNNING 1       144     11      11      11      1440521063917   30000   1045692033.24165344238281<br/>\n    RUNNING 1       144     11      11      11      1440521093917   30000   1010800032.132466634114586<br/>\n    RUNNING 1       144     11      11      11      1440521123917   30000   1057612033.6205800374349<br/>\n    ```<br/>\n    *<b>batching branch (batch size: 100)</b>*<br/>\n    ```<br/>\n    status  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1       144     0       11      0       1440521937049   0       0       0.0<br/>\n    WAITING 1       144     11      11      11      1440521967049   30000   1134648036.069488525390625<br/>\n    WAITING 1       144     11      11      11      1440521997050   30001   1733350055.0998758822297<br/>\n    RUNNING 1       144     11      11      11      1440522027049   29999   1781526056.635074176137906<br/>\n    RUNNING 1       144     11      11      11      1440522057049   30000   1799366057.200304667154946<br/>\n    RUNNING 1       144     11      11      11      1440522087049   30000   1772088056.333160400390625<br/>\n    RUNNING 1       144     11      11      11      1440522117050   30001   1795720057.08249869861108<br/>\n    RUNNING 1       144     11      11      11      1440522147049   29999   1828650058.13315572840058<br/>\n    RUNNING 1       144     11      11      11      1440522177050   30001   1802782057.306986149778076<br/>\n    RUNNING 1       144     11      11      11      1440522207049   29999   1247052039.64403692199896<br/>\n    RUNNING 1       144     11      11      11      1440522237049   30000   1725676054.8577626546224<br/>\n    RUNNING 1       144     11      11      11      1440522267049   30000   1728830054.95802561442057<br/>\n    RUNNING 1       144     11      11      11      1440522297049   30000   1707730054.28727467854818<br/>\n    ```<br/>\n    `--messageSize 250`<br/>\n    *<b>master branch</b>*<br/>\n    ```<br/>\n    status  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1       144     0       11      0       1440523772498   0       0       0.0<br/>\n    WAITING 1       144     11      11      11      1440523802498   30000   6047420 48.06057612101237<br/>\n    WAITING 1       144     11      11      11      1440523832498   30000   9909100 78.7504514058431<br/>\n    RUNNING 1       144     11      11      11      1440523862498   30000   9846400 78.25215657552083<br/>\n    RUNNING 1       144     11      11      11      1440523892498   30000   7100940 56.43320083618164<br/>\n    RUNNING 1       144     11      11      11      1440523922498   30000   9870500 78.4436861673991<br/>\n    RUNNING 1       144     11      11      11      1440523952498   30000   9856460 78.33210627237956<br/>\n    RUNNING 1       144     11      11      11      1440523982498   30000   9662740 76.79255803426106<br/>\n    RUNNING 1       144     11      11      11      1440524012498   30000   1006086079.9565315246582<br/>\n    RUNNING 1       144     11      11      11      1440524042499   30001   1004966079.86485975980162<br/>\n    RUNNING 1       144     11      11      11      1440524072498   29999   9937680 78.98021751278428<br/>\n    RUNNING 1       144     11      11      11      1440524102498   30000   1006160079.96241251627605<br/>\n    RUNNING 1       144     11      11      11      1440524132498   30000   9804960 77.92282104492188<br/>\n    ```<br/>\n    *<b>batching branch (no batching)</b>*<br/>\n    ```<br/>\n    status  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1       144     0       11      0       1440521276880   0       0       0.0<br/>\n    WAITING 1       144     11      11      11      1440521306880   30000   4983420 39.60466384887695<br/>\n    WAITING 1       144     11      11      11      1440521336880   30000   9760600 77.57027943929036<br/>\n    RUNNING 1       144     11      11      11      1440521366881   30001   9344540 74.26125626338171<br/>\n    RUNNING 1       144     11      11      11      1440521396880   29999   9323920 74.10232867951068<br/>\n    RUNNING 1       144     11      11      11      1440521426880   30000   9354460 74.3425687154134<br/>\n    RUNNING 1       144     11      11      11      1440521456880   30000   9601440 76.30538940429688<br/>\n    RUNNING 1       144     11      11      11      1440521486880   30000   9476900 75.3156344095866<br/>\n    RUNNING 1       144     11      11      11      1440521516880   30000   9581560 76.14739735921223<br/>\n    RUNNING 1       144     11      11      11      1440521546881   30001   9494500 75.4529915429414<br/>\n    RUNNING 1       144     11      11      11      1440521576880   29999   9260020 73.59448017774095<br/>\n    RUNNING 1       144     11      11      11      1440521606880   30000   9054000 71.95472717285156<br/>\n    RUNNING 1       144     11      11      11      1440521636880   30000   9278340 73.73762130737305<br/>\n    RUNNING 1       144     11      11      11      1440521666880   30000   9153180 72.74293899536133<br/>\n    ```<br/>\n    *<b>batching branch (batch size: 100)</b>*<br/>\n    ```<br/>\n    status  topologies      totalSlots      slotsUsed       totalExecutors  executorsWithMetrics    time    time-diff ms    transferred     throughput (MB/s)<br/>\n    WAITING 1       144     0       11      0       1440522380492   0       0       0.0<br/>\n    WAITING 1       144     11      11      11      1440522410492   30000   1061676084.37442779541016<br/>\n    WAITING 1       144     11      11      11      1440522440492   30000   15851220125.97417831420898<br/>\n    RUNNING 1       144     11      11      11      1440522470492   30000   12884860102.39966710408528<br/>\n    RUNNING 1       144     11      11      11      1440522500492   30000   8743860 69.48995590209961<br/>\n    RUNNING 1       144     11      11      11      1440522530492   30000   6445660 51.225503285725914<br/>\n    RUNNING 1       144     11      11      11      1440522560492   30000   5974480 47.48090108235677<br/>\n    RUNNING 1       144     11      11      11      1440522590493   30001   5198640 41.3137016119645<br/>\n    RUNNING 1       144     11      11      11      1440522620492   29999   5209800 41.405150618464624<br/>\n    RUNNING 1       144     11      11      11      1440522650492   30000   4585960 36.445935567220054<br/>\n    RUNNING 1       144     11      11      11      1440522680492   30000   3870140 30.75710932413737<br/>\n    RUNNING 1       144     11      11      11      1440522710492   30000   3751040 29.810587565104168<br/>\n    RUNNING 1       144     11      11      11      1440522740493   30001   3450600 27.421990901898322<br/>\n    ```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562866","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562866","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562866,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T18:02:27Z","updated_at":"2025-01-24T13:43:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37897758\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37897758</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/README.md &#8212;<br/>\n    @@ -0,0 +1,188 @@<br/>\n    +# Storm Solr<br/>\n    +Storm and Trident integration for Apache Solr. This package includes a bolt and a trident state that enable a Storm topology<br/>\n    +stream the contents of storm tuples to index Solr collections.<br/>\n    + <br/>\n    +# Index Storm tuples into a Solr collection<br/>\n    +The The bolt and trident state provided use one of the supplied mappers to build a `SolrRequest` object that is <br/>\n    +responsible for making the update calls to Solr, thus updating the index of the collection specified.<br/>\n    + <br/>\n    +# Usage Examples <br/>\n    +In this section we provide some simple code snippets on how to build Storm and Trident topologies to index Solr. In subsequent sections we <br/>\n    +describe in detail the two key components of the Storm Solr integration, the `SolrUpdateBolt`, and the `Mappers`, `SolrFieldsMapper`, and `SolrJsonMapper`.<br/>\n    +<br/>\n    +## Storm Bolt With JSON Mapper and Count Based Commit Strategy<br/>\n    +<br/>\n    +```java<br/>\n    +    new SolrUpdateBolt(solrConfig, solrMapper, solrCommitStgy)<br/>\n    +    <br/>\n    +    // zkHostString for Solr 'gettingstarted' example<br/>\n    +    SolrConfig solrConfig = new SolrConfig(\"127.0.0.1:9983\");<br/>\n    +    <br/>\n    +    // JSON Mapper used to generate 'SolrRequest' requests to update the \"gettingstarted\" Solr collection with JSON content declared the tuple field with name \"JSON\"<br/>\n    +    SolrMapper solrMapper = new SolrJsonMapper.Builder(\"gettingstarted\", \"JSON\").build(); <br/>\n    +     <br/>\n    +    // Acks every other five tuples. Setting to null acks every tuple<br/>\n    +    SolrCommitStrategy solrCommitStgy = new CountBasedCommit(5);  <br/>\n    +```<br/>\n    +<br/>\n    +## Trident Topology With Fields Mapper<br/>\n    +```java<br/>\n    +    new SolrStateFactory(solrConfig, solrMapper);<br/>\n    +    <br/>\n    +    // zkHostString for Solr 'gettingstarted' example<br/>\n    +    SolrConfig solrConfig = new SolrConfig(\"127.0.0.1:9983\");<br/>\n    +    <br/>\n    +    /* Solr Fields Mapper used to generate 'SolrRequest' requests to update the \"gettingstarted\" Solr collection. The Solr index is updated using the field values of the tuple fields that match static or dynamic fields declared in the schema object build using schemaBuilder */ <br/>\n    +    SolrMapper solrMapper = new SolrFieldsMapper.Builder(schemaBuilder, 'gettingstarted').build();<br/>\n    +<br/>\n    +    // builds the Schema object from the JSON representation of the schema as returned by the URL <a href=\"http://localhost:8983/solr/gettingstarted/schema/\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://localhost:8983/solr/gettingstarted/schema/</a> <br/>\n    +    SchemaBuilder schemaBuilder = new RestJsonSchemaBuilder(\"localhost\", \"8983\", \"gettingstarted\")<br/>\n    +```<br/>\n    +<br/>\n    +## SolrUpdateBolt<br/>\n    + `SolrUpdateBolt` streams tuples directly into Apache Solr. The Solr index is updated using`SolrRequest` requests. <br/>\n    + The `SolrUpdateBolt` is configurable using implementations of `SolrConfig`, `SolrMapper`, and optionally `SolrCommitStrategy`.<br/>\n    +   <br/>\n    + The data to stream onto Solr is extracted from the tuples using the strategy defined in the `SolrMapper` implementation.<br/>\n    + <br/>\n    + The `SolrRquest` can be sent every tuple, or according to a strategy defined by `SolrCommitStrategy` implementations. <br/>\n    + If a `SolrCommitStrategy` is in place and one of the tuples in the batch fails, the batch is not committed, and all the tuples in that <br/>\n    +  batch are marked as Fail, and retried. On the other hand, if all tuples succeed, the `SolrRequest` is committed and all tuples are successfully acked.<br/>\n    + <br/>\n    + `SolrConfig` is the class containing Solr configuration to be made available to Storm Solr bolts. Any configuration needed in the bolts should be put in this class.<br/>\n    + <br/>\n    +<br/>\n    +## SolrMapper<br/>\n    +`SorlMapper` implementations define the strategy to extract information from the tuples. The public method<br/>\n    +`toSolrRequest` receives a tuple or a list of tuples and returns a `SolrRequest` object that is used to update the Solr index.<br/>\n    +<br/>\n    +<br/>\n    +### SolrJsonMapper<br/>\n    +The `SolrJsonMapper` creates a Solr update request that is sent to the URL endpoint defined by Solr as the resource <br/>\n    +destination for requests in JSON format. <br/>\n    + <br/>\n    +To create a `SolrJsonMapper` the client must specify the name of the collection to update as well as the <br/>\n    +tuple field that contains the JSON object used to update the Solr index. If the tuple does not contain the field specified, <br/>\n    +a `SolrMapperException` will be thrown when the method `toSolrRequest`is called. If the field exists, its value can either <br/>\n    +be a String with the contents in JSON format, or a Java object that will be serialized to JSON<br/>\n    + <br/>\n    +Code snippet illustrating how to create a `SolrJsonMapper` object to update the `gettingstarted` Solr collection with JSON content <br/>\n    +declared in the tuple field with name \"JSON\"<br/>\n    +``` java<br/>\n    +    SolrMapper solrMapper = new SolrJsonMapper.Builder(\"gettingstarted\", \"JSON\").build();<br/>\n    +```<br/>\n    +<br/>\n    +<br/>\n    +### SolrFieldsMapper<br/>\n    +The `SolrFieldsMapper` creates a Solr update request that is sent to the Solr URL endpoint that handles the updates of `SolrInputDocument` objects.<br/>\n    +<br/>\n    +To create a `SolrFieldsMapper` the client must specify the name of the collection to update as well as the `SolrSchemaBuilder`. <br/>\n    +The Solr `Schema` is used to extract information about the Solr schema fields and corresponding types. This metadata is used<br/>\n    +to get the information from the tuples. Only tuple fields that match a static or dynamic Solr fields are added to the document. Tuple fields <br/>\n    +that do not match the schema are not added to the `SolrInputDocument` being prepared for indexing. A debug log message is printed for the <br/>\n    + tuple fields that do not match the schema and hence are not indexed.<br/>\n    + <br/>\n    +<br/>\n    +The `SolrFieldsMapper` supports multivalue fields. A multivalue tuple field must be tokenized. The default token is |. Any <br/>\n    +arbitrary token can be specified by calling the method `org.apache.storm.solr.mapper.SolrFieldsMapper.Builder.setMultiValueFieldToken`<br/>\n    +that is part of the `SolrFieldsMapper.Builder` builder class. <br/>\n    +<br/>\n    +Code snippet illustrating how to create a `SolrFieldsMapper` object to update the `gettingstarted` Solr collection. The multivalue <br/>\n    +field separates each value with the token % instead of the default | . To use the default token you can ommit the call to the method<br/>\n    +`setMultiValueFieldToken`.<br/>\n    +<br/>\n    +``` java<br/>\n    +    new SolrFieldsMapper.Builder(<br/>\n    +    new RestJsonSchemaBuilder(\"localhost\", \"8983\", `gettingstarted`), `gettingstarted`)<br/>\n    +.setMultiValueFieldToken(\"%\").build();<br/>\n    +```<br/>\n    +<br/>\n    +# Build And Run Bundled Examples  <br/>\n    +To be able to run the examples you must first build the java code in the package `storm-solr`, <br/>\n    +and then generate an uber jar with all the dependencies.<br/>\n    +<br/>\n    +<br/>\n    +## Build the Storm Apache Solr Integration Code<br/>\n    +<br/>\n    +`mvn clean install -f REPO_HOME/storm/external/storm-solr`<br/>\n    + <br/>\n    +## Use the Maven Assembly Plugin to Build the Uber Jar<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    We should encourage the use of the Maven shade plugin over the assembly plugin. The assembly plugin doesn't handle jar manifest data properly and can cause problems with Hadoop dependencies.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562871","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562871","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562871,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T18:05:16Z","updated_at":"2025-01-24T13:43:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37898067\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37898067</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/bolt/.gitignore &#8212;<br/>\n    @@ -0,0 +1 @@<br/>\n    +# Created by .ignore support plugin (hsz.mobi)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This file can probably be deleted.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562877","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562877","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562877,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4Nzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T18:07:28Z","updated_at":"2025-01-24T13:43:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37898379\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37898379</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/mapper/.gitignore &#8212;<br/>\n    @@ -0,0 +1 @@<br/>\n    +# Created by .ignore support plugin (hsz.mobi)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Can delete this as well.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562879","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562879","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562879,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T18:10:33Z","updated_at":"2025-01-24T13:43:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37898773\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37898773</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/test/java/org/apache/storm/solr/topology/.gitignore &#8212;<br/>\n    @@ -0,0 +1 @@<br/>\n    +# Created by .ignore support plugin (hsz.mobi)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Can remove this file.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562884","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562884","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562884,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4ODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T18:14:10Z","updated_at":"2025-01-24T13:43:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37899232\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37899232</a></p>\n\n<p>    &#8212; Diff: pom.xml &#8212;<br/>\n    @@ -169,8 +169,9 @@<br/>\n     <module>external/storm-redis</module><br/>\n     <module>external/storm-eventhubs</module><br/>\n     <module>external/flux</module></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li><module>examples/storm-starter</module><br/>\n     <module>external/storm-elasticsearch</module><br/>\n    +<module>external/storm-solr</module><br/>\n    +\t\t<module>examples/storm-starter</module>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Whitespace?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134693551","html_url":"https://github.com/apache/storm/pull/665#issuecomment-134693551","issue_url":"https://api.github.com/repos/apache/storm/issues/665","id":134693551,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDY5MzU1MQ==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T18:26:18Z","updated_at":"2015-08-25T18:26:18Z","author_association":"MEMBER","body":"I left a few minor comments. There are a few .gitignore files that can be removed, and the documentation should use the Maven shade plugin, instead of the assembly plugin.\n\nI'm +1 once those are addressed, and am also willing to sponsor this module.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134693551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562889","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562889","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562889,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T18:26:21Z","updated_at":"2025-01-24T13:43:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#issuecomment-134693551\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#issuecomment-134693551</a></p>\n\n<p>    I left a few minor comments. There are a few .gitignore files that can be removed, and the documentation should use the Maven shade plugin, instead of the assembly plugin.</p>\n\n<p>    I'm +1 once those are addressed, and am also willing to sponsor this module.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562893","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562893","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562893,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4OTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T18:27:39Z","updated_at":"2025-01-24T13:43:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37901014\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37901014</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/pom.xml &#8212;<br/>\n    @@ -0,0 +1,106 @@<br/>\n    +<?xml version=\"1.0\" encoding=\"UTF-8\"?><br/>\n    +<project xmlns=\"http://maven.apache.org/POM/4.0.0\"<br/>\n    + xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"<br/>\n    + xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 <a href=\"http://maven.apache.org/xsd/maven-4.0.0.xsd\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://maven.apache.org/xsd/maven-4.0.0.xsd</a>\"><br/>\n    +    <parent><br/>\n    +<artifactId>storm</artifactId><br/>\n    +<groupId>org.apache.storm</groupId><br/>\n    +<version>0.11.0-SNAPSHOT</version><br/>\n    +<relativePath>../../pom.xml</relativePath><br/>\n    +    </parent><br/>\n    +    <modelVersion>4.0.0</modelVersion><br/>\n    +<br/>\n    +    <artifactId>storm-solr</artifactId><br/>\n    +<br/>\n    +    <developers><br/>\n    +<developer><br/>\n    +    <id>Hugo-Louro</id><br/>\n    +    <name>Hugo Louro</name><br/>\n    +    <email>hmclouro@gmail.com</email><br/>\n    +</developer><br/>\n    +    </developers><br/>\n    +<br/>\n    +    <dependencies><br/>\n    +<dependency><br/>\n    +    <groupId>org.apache.storm</groupId><br/>\n    +    <artifactId>storm-core</artifactId><br/>\n    +    <version>${project.version}</version><br/>\n    +    <scope>provided</scope><br/>\n    +</dependency><br/>\n    +<!-- Solr and its dependencies --><br/>\n    +<dependency><br/>\n    +    <groupId>org.apache.solr</groupId><br/>\n    +    <artifactId>solr-solrj</artifactId><br/>\n    +    <version>5.2.1</version><br/>\n    +    <scope>compile</scope><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>commons-codec</groupId><br/>\n    +    <artifactId>commons-codec</artifactId><br/>\n    +    <version>1.3</version><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>commons-httpclient</groupId><br/>\n    +    <artifactId>commons-httpclient</artifactId><br/>\n    +    <version>3.1</version><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>commons-io</groupId><br/>\n    +    <artifactId>commons-io</artifactId><br/>\n    +    <version>1.4</version><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>org.apache.solr</groupId><br/>\n    +    <artifactId>solr-core</artifactId><br/>\n    +    <version>5.2.1</version><br/>\n    +    <scope>test</scope><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>org.apache.solr</groupId><br/>\n    +    <artifactId>solr-test-framework</artifactId><br/>\n    +    <version>5.2.1</version><br/>\n    +    <scope>test</scope><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>com.google.guava</groupId><br/>\n    +    <artifactId>guava</artifactId><br/>\n    +    <version>17.0</version><br/>\n    +</dependency><br/>\n    +<!--test dependencies --><br/>\n    +<dependency><br/>\n    +    <groupId>junit</groupId><br/>\n    +    <artifactId>junit</artifactId><br/>\n    +    <version>4.11</version><br/>\n    +    <scope>test</scope><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>com.google.code.gson</groupId><br/>\n    +    <artifactId>gson</artifactId><br/>\n    +    <version>2.3.1</version><br/>\n    +</dependency><br/>\n    +    </dependencies><br/>\n    +    <build><br/>\n    +<plugins><br/>\n    +    <plugin><br/>\n    +<groupId>org.apache.maven.plugins</groupId><br/>\n    +<artifactId>maven-jar-plugin</artifactId><br/>\n    +<version>2.5</version><br/>\n    +<executions><br/>\n    +    <execution><br/>\n    +<goals><br/>\n    +    <goal>test-jar</goal><br/>\n    +</goals><br/>\n    +    </execution><br/>\n    +</executions><br/>\n    +    </plugin><br/>\n    +    <plugin><br/>\n    +<artifactId>maven-assembly-plugin</artifactId><br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I'd prefer to see the Maven shade plugin used instead.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134759973","html_url":"https://github.com/apache/storm/pull/597#issuecomment-134759973","issue_url":"https://api.github.com/repos/apache/storm/issues/597","id":134759973,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDc1OTk3Mw==","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:26:11Z","updated_at":"2015-08-25T22:26:11Z","author_association":"CONTRIBUTOR","body":"@eshioji We are catching `Error` not `RunTimeException` which shows more of a JVM  resource issue - hence we do exit from the JVM - its more serious than just considering some service being down.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134759973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612566597","html_url":"https://github.com/apache/storm/issues/4714#issuecomment-2612566597","issue_url":"https://api.github.com/repos/apache/storm/issues/4714","id":2612566597,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjY1OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:26:13Z","updated_at":"2025-01-24T13:45:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/597#issuecomment-134759973\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/597#issuecomment-134759973</a></p>\n\n<p>    @eshioji We are catching `Error` not `RunTimeException` which shows more of a JVM  resource issue - hence we do exit from the JVM - its more serious than just considering some service being down.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612566597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612566603","html_url":"https://github.com/apache/storm/issues/4714#issuecomment-2612566603","issue_url":"https://api.github.com/repos/apache/storm/issues/4714","id":2612566603,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjY2MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:27:48Z","updated_at":"2025-01-24T13:45:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/597#discussion_r37927420\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/597#discussion_r37927420</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/NettyUncaughtExceptionHandler.java &#8212;<br/>\n    @@ -0,0 +1,35 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.messaging.netty;<br/>\n    +<br/>\n    +import backtype.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +public class NettyUncaughtExceptionHandler implements Thread.UncaughtExceptionHandler {<br/>\n    +  private static final Logger LOG = LoggerFactory.getLogger(NettyUncaughtExceptionHandler.class);<br/>\n    +  @Override<br/>\n    +  public void uncaughtException(Thread t, Throwable e) {<br/>\n    +    try {<br/>\n    +      Utils.handleUncaughtException(e);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @HeartSaVioR  We consider the Netty message handlers should take care of all those exceptions. We leave JVM level Error to be handled at executorservice handler level.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612566603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134761846","html_url":"https://github.com/apache/storm/pull/597#issuecomment-134761846","issue_url":"https://api.github.com/repos/apache/storm/issues/597","id":134761846,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDc2MTg0Ng==","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:38:40Z","updated_at":"2015-08-25T22:38:40Z","author_association":"CONTRIBUTOR","body":"@harshach Sorry for so long in responding to it. The `Utils.handleUncaughtException` writes ot STDOUT to avoid further major exception by attempting to log exceptions. But otherwise we log them. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134761846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612566605","html_url":"https://github.com/apache/storm/issues/4714#issuecomment-2612566605","issue_url":"https://api.github.com/repos/apache/storm/issues/4714","id":2612566605,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjY2MDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:38:41Z","updated_at":"2025-01-24T13:45:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/597#issuecomment-134761846\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/597#issuecomment-134761846</a></p>\n\n<p>    @harshach Sorry for so long in responding to it. The `Utils.handleUncaughtException` writes ot STDOUT to avoid further major exception by attempting to log exceptions. But otherwise we log them. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612566605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562896","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562896","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562896,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4OTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:43:03Z","updated_at":"2025-01-24T13:43:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37928671\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37928671</a></p>\n\n<p>    &#8212; Diff: pom.xml &#8212;<br/>\n    @@ -169,8 +169,9 @@<br/>\n     <module>external/storm-redis</module><br/>\n     <module>external/storm-eventhubs</module><br/>\n     <module>external/flux</module></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li><module>examples/storm-starter</module><br/>\n     <module>external/storm-elasticsearch</module><br/>\n    +<module>external/storm-solr</module><br/>\n    +\t\t<module>examples/storm-starter</module>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Done</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562899","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562899","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562899,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI4OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:43:08Z","updated_at":"2025-01-24T13:43:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37928677\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37928677</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/test/java/org/apache/storm/solr/topology/.gitignore &#8212;<br/>\n    @@ -0,0 +1 @@<br/>\n    +# Created by .ignore support plugin (hsz.mobi)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Done</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562903","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562903","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562903,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI5MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:43:10Z","updated_at":"2025-01-24T13:43:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37928682\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37928682</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/mapper/.gitignore &#8212;<br/>\n    @@ -0,0 +1 @@<br/>\n    +# Created by .ignore support plugin (hsz.mobi)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Done</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562909","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562909","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562909,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI5MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:43:15Z","updated_at":"2025-01-24T13:43:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37928692\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37928692</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/src/main/java/org/apache/storm/solr/bolt/.gitignore &#8212;<br/>\n    @@ -0,0 +1 @@<br/>\n    +# Created by .ignore support plugin (hsz.mobi)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Done</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562912","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562912","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562912,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI5MTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:43:22Z","updated_at":"2025-01-24T13:43:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37928702\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37928702</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/README.md &#8212;<br/>\n    @@ -0,0 +1,188 @@<br/>\n    +# Storm Solr<br/>\n    +Storm and Trident integration for Apache Solr. This package includes a bolt and a trident state that enable a Storm topology<br/>\n    +stream the contents of storm tuples to index Solr collections.<br/>\n    + <br/>\n    +# Index Storm tuples into a Solr collection<br/>\n    +The The bolt and trident state provided use one of the supplied mappers to build a `SolrRequest` object that is <br/>\n    +responsible for making the update calls to Solr, thus updating the index of the collection specified.<br/>\n    + <br/>\n    +# Usage Examples <br/>\n    +In this section we provide some simple code snippets on how to build Storm and Trident topologies to index Solr. In subsequent sections we <br/>\n    +describe in detail the two key components of the Storm Solr integration, the `SolrUpdateBolt`, and the `Mappers`, `SolrFieldsMapper`, and `SolrJsonMapper`.<br/>\n    +<br/>\n    +## Storm Bolt With JSON Mapper and Count Based Commit Strategy<br/>\n    +<br/>\n    +```java<br/>\n    +    new SolrUpdateBolt(solrConfig, solrMapper, solrCommitStgy)<br/>\n    +    <br/>\n    +    // zkHostString for Solr 'gettingstarted' example<br/>\n    +    SolrConfig solrConfig = new SolrConfig(\"127.0.0.1:9983\");<br/>\n    +    <br/>\n    +    // JSON Mapper used to generate 'SolrRequest' requests to update the \"gettingstarted\" Solr collection with JSON content declared the tuple field with name \"JSON\"<br/>\n    +    SolrMapper solrMapper = new SolrJsonMapper.Builder(\"gettingstarted\", \"JSON\").build(); <br/>\n    +     <br/>\n    +    // Acks every other five tuples. Setting to null acks every tuple<br/>\n    +    SolrCommitStrategy solrCommitStgy = new CountBasedCommit(5);  <br/>\n    +```<br/>\n    +<br/>\n    +## Trident Topology With Fields Mapper<br/>\n    +```java<br/>\n    +    new SolrStateFactory(solrConfig, solrMapper);<br/>\n    +    <br/>\n    +    // zkHostString for Solr 'gettingstarted' example<br/>\n    +    SolrConfig solrConfig = new SolrConfig(\"127.0.0.1:9983\");<br/>\n    +    <br/>\n    +    /* Solr Fields Mapper used to generate 'SolrRequest' requests to update the \"gettingstarted\" Solr collection. The Solr index is updated using the field values of the tuple fields that match static or dynamic fields declared in the schema object build using schemaBuilder */ <br/>\n    +    SolrMapper solrMapper = new SolrFieldsMapper.Builder(schemaBuilder, 'gettingstarted').build();<br/>\n    +<br/>\n    +    // builds the Schema object from the JSON representation of the schema as returned by the URL <a href=\"http://localhost:8983/solr/gettingstarted/schema/\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://localhost:8983/solr/gettingstarted/schema/</a> <br/>\n    +    SchemaBuilder schemaBuilder = new RestJsonSchemaBuilder(\"localhost\", \"8983\", \"gettingstarted\")<br/>\n    +```<br/>\n    +<br/>\n    +## SolrUpdateBolt<br/>\n    + `SolrUpdateBolt` streams tuples directly into Apache Solr. The Solr index is updated using`SolrRequest` requests. <br/>\n    + The `SolrUpdateBolt` is configurable using implementations of `SolrConfig`, `SolrMapper`, and optionally `SolrCommitStrategy`.<br/>\n    +   <br/>\n    + The data to stream onto Solr is extracted from the tuples using the strategy defined in the `SolrMapper` implementation.<br/>\n    + <br/>\n    + The `SolrRquest` can be sent every tuple, or according to a strategy defined by `SolrCommitStrategy` implementations. <br/>\n    + If a `SolrCommitStrategy` is in place and one of the tuples in the batch fails, the batch is not committed, and all the tuples in that <br/>\n    +  batch are marked as Fail, and retried. On the other hand, if all tuples succeed, the `SolrRequest` is committed and all tuples are successfully acked.<br/>\n    + <br/>\n    + `SolrConfig` is the class containing Solr configuration to be made available to Storm Solr bolts. Any configuration needed in the bolts should be put in this class.<br/>\n    + <br/>\n    +<br/>\n    +## SolrMapper<br/>\n    +`SorlMapper` implementations define the strategy to extract information from the tuples. The public method<br/>\n    +`toSolrRequest` receives a tuple or a list of tuples and returns a `SolrRequest` object that is used to update the Solr index.<br/>\n    +<br/>\n    +<br/>\n    +### SolrJsonMapper<br/>\n    +The `SolrJsonMapper` creates a Solr update request that is sent to the URL endpoint defined by Solr as the resource <br/>\n    +destination for requests in JSON format. <br/>\n    + <br/>\n    +To create a `SolrJsonMapper` the client must specify the name of the collection to update as well as the <br/>\n    +tuple field that contains the JSON object used to update the Solr index. If the tuple does not contain the field specified, <br/>\n    +a `SolrMapperException` will be thrown when the method `toSolrRequest`is called. If the field exists, its value can either <br/>\n    +be a String with the contents in JSON format, or a Java object that will be serialized to JSON<br/>\n    + <br/>\n    +Code snippet illustrating how to create a `SolrJsonMapper` object to update the `gettingstarted` Solr collection with JSON content <br/>\n    +declared in the tuple field with name \"JSON\"<br/>\n    +``` java<br/>\n    +    SolrMapper solrMapper = new SolrJsonMapper.Builder(\"gettingstarted\", \"JSON\").build();<br/>\n    +```<br/>\n    +<br/>\n    +<br/>\n    +### SolrFieldsMapper<br/>\n    +The `SolrFieldsMapper` creates a Solr update request that is sent to the Solr URL endpoint that handles the updates of `SolrInputDocument` objects.<br/>\n    +<br/>\n    +To create a `SolrFieldsMapper` the client must specify the name of the collection to update as well as the `SolrSchemaBuilder`. <br/>\n    +The Solr `Schema` is used to extract information about the Solr schema fields and corresponding types. This metadata is used<br/>\n    +to get the information from the tuples. Only tuple fields that match a static or dynamic Solr fields are added to the document. Tuple fields <br/>\n    +that do not match the schema are not added to the `SolrInputDocument` being prepared for indexing. A debug log message is printed for the <br/>\n    + tuple fields that do not match the schema and hence are not indexed.<br/>\n    + <br/>\n    +<br/>\n    +The `SolrFieldsMapper` supports multivalue fields. A multivalue tuple field must be tokenized. The default token is |. Any <br/>\n    +arbitrary token can be specified by calling the method `org.apache.storm.solr.mapper.SolrFieldsMapper.Builder.setMultiValueFieldToken`<br/>\n    +that is part of the `SolrFieldsMapper.Builder` builder class. <br/>\n    +<br/>\n    +Code snippet illustrating how to create a `SolrFieldsMapper` object to update the `gettingstarted` Solr collection. The multivalue <br/>\n    +field separates each value with the token % instead of the default | . To use the default token you can ommit the call to the method<br/>\n    +`setMultiValueFieldToken`.<br/>\n    +<br/>\n    +``` java<br/>\n    +    new SolrFieldsMapper.Builder(<br/>\n    +    new RestJsonSchemaBuilder(\"localhost\", \"8983\", `gettingstarted`), `gettingstarted`)<br/>\n    +.setMultiValueFieldToken(\"%\").build();<br/>\n    +```<br/>\n    +<br/>\n    +# Build And Run Bundled Examples  <br/>\n    +To be able to run the examples you must first build the java code in the package `storm-solr`, <br/>\n    +and then generate an uber jar with all the dependencies.<br/>\n    +<br/>\n    +<br/>\n    +## Build the Storm Apache Solr Integration Code<br/>\n    +<br/>\n    +`mvn clean install -f REPO_HOME/storm/external/storm-solr`<br/>\n    + <br/>\n    +## Use the Maven Assembly Plugin to Build the Uber Jar<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Done</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562917","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562917","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562917,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI5MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-25T22:43:40Z","updated_at":"2025-01-24T13:43:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#discussion_r37928717\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#discussion_r37928717</a></p>\n\n<p>    &#8212; Diff: external/storm-solr/pom.xml &#8212;<br/>\n    @@ -0,0 +1,106 @@<br/>\n    +<?xml version=\"1.0\" encoding=\"UTF-8\"?><br/>\n    +<project xmlns=\"http://maven.apache.org/POM/4.0.0\"<br/>\n    + xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"<br/>\n    + xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 <a href=\"http://maven.apache.org/xsd/maven-4.0.0.xsd\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://maven.apache.org/xsd/maven-4.0.0.xsd</a>\"><br/>\n    +    <parent><br/>\n    +<artifactId>storm</artifactId><br/>\n    +<groupId>org.apache.storm</groupId><br/>\n    +<version>0.11.0-SNAPSHOT</version><br/>\n    +<relativePath>../../pom.xml</relativePath><br/>\n    +    </parent><br/>\n    +    <modelVersion>4.0.0</modelVersion><br/>\n    +<br/>\n    +    <artifactId>storm-solr</artifactId><br/>\n    +<br/>\n    +    <developers><br/>\n    +<developer><br/>\n    +    <id>Hugo-Louro</id><br/>\n    +    <name>Hugo Louro</name><br/>\n    +    <email>hmclouro@gmail.com</email><br/>\n    +</developer><br/>\n    +    </developers><br/>\n    +<br/>\n    +    <dependencies><br/>\n    +<dependency><br/>\n    +    <groupId>org.apache.storm</groupId><br/>\n    +    <artifactId>storm-core</artifactId><br/>\n    +    <version>${project.version}</version><br/>\n    +    <scope>provided</scope><br/>\n    +</dependency><br/>\n    +<!-- Solr and its dependencies --><br/>\n    +<dependency><br/>\n    +    <groupId>org.apache.solr</groupId><br/>\n    +    <artifactId>solr-solrj</artifactId><br/>\n    +    <version>5.2.1</version><br/>\n    +    <scope>compile</scope><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>commons-codec</groupId><br/>\n    +    <artifactId>commons-codec</artifactId><br/>\n    +    <version>1.3</version><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>commons-httpclient</groupId><br/>\n    +    <artifactId>commons-httpclient</artifactId><br/>\n    +    <version>3.1</version><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>commons-io</groupId><br/>\n    +    <artifactId>commons-io</artifactId><br/>\n    +    <version>1.4</version><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>org.apache.solr</groupId><br/>\n    +    <artifactId>solr-core</artifactId><br/>\n    +    <version>5.2.1</version><br/>\n    +    <scope>test</scope><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>org.apache.solr</groupId><br/>\n    +    <artifactId>solr-test-framework</artifactId><br/>\n    +    <version>5.2.1</version><br/>\n    +    <scope>test</scope><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>com.google.guava</groupId><br/>\n    +    <artifactId>guava</artifactId><br/>\n    +    <version>17.0</version><br/>\n    +</dependency><br/>\n    +<!--test dependencies --><br/>\n    +<dependency><br/>\n    +    <groupId>junit</groupId><br/>\n    +    <artifactId>junit</artifactId><br/>\n    +    <version>4.11</version><br/>\n    +    <scope>test</scope><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>com.google.code.gson</groupId><br/>\n    +    <artifactId>gson</artifactId><br/>\n    +    <version>2.3.1</version><br/>\n    +</dependency><br/>\n    +    </dependencies><br/>\n    +    <build><br/>\n    +<plugins><br/>\n    +    <plugin><br/>\n    +<groupId>org.apache.maven.plugins</groupId><br/>\n    +<artifactId>maven-jar-plugin</artifactId><br/>\n    +<version>2.5</version><br/>\n    +<executions><br/>\n    +    <execution><br/>\n    +<goals><br/>\n    +    <goal>test-jar</goal><br/>\n    +</goals><br/>\n    +    </execution><br/>\n    +</executions><br/>\n    +    </plugin><br/>\n    +    <plugin><br/>\n    +<artifactId>maven-assembly-plugin</artifactId><br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Done</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134782918","html_url":"https://github.com/apache/storm/pull/665#issuecomment-134782918","issue_url":"https://api.github.com/repos/apache/storm/issues/665","id":134782918,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDc4MjkxOA==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T01:10:07Z","updated_at":"2015-08-26T01:10:07Z","author_association":"MEMBER","body":"+1 LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134782918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562922","html_url":"https://github.com/apache/storm/issues/4691#issuecomment-2612562922","issue_url":"https://api.github.com/repos/apache/storm/issues/4691","id":2612562922,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjI5MjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T01:10:08Z","updated_at":"2025-01-24T13:43:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/665#issuecomment-134782918\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/665#issuecomment-134782918</a></p>\n\n<p>    +1 LGTM</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612562922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612532247","html_url":"https://github.com/apache/storm/issues/4559#issuecomment-2612532247","issue_url":"https://api.github.com/repos/apache/storm/issues/4559","id":2612532247,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzIyNDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T03:05:38Z","updated_at":"2025-01-24T13:28:18Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vesense\">vesense</a>:</i>\n<p>We are excited and looking forward to contribute!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612532247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593367","html_url":"https://github.com/apache/storm/issues/4845#issuecomment-2612593367","issue_url":"https://api.github.com/repos/apache/storm/issues/4845","id":2612593367,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTMzNjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T05:50:29Z","updated_at":"2025-01-24T13:57:53Z","author_association":"COLLABORATOR","body":"Subtasks:\n\n- STORM-1008\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593599","html_url":"https://github.com/apache/storm/issues/4846#issuecomment-2612593599","issue_url":"https://api.github.com/repos/apache/storm/issues/4846","id":2612593599,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTM1OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T06:01:03Z","updated_at":"2025-01-24T13:57:59Z","author_association":"COLLABORATOR","body":"Subtask of parent task STORM-1007","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593373","html_url":"https://github.com/apache/storm/issues/4845#issuecomment-2612593373","issue_url":"https://api.github.com/repos/apache/storm/issues/4845","id":2612593373,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTMzNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T06:15:13Z","updated_at":"2025-01-24T13:57:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user wangli1426 opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/698\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/698</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1007\" title=\"Add more metrics to DisruptorQueue\" class=\"issue-link\" data-issue-key=\"STORM-1007\"><del>STORM-1007</del></a> Isolate the code for metric collection and retrieval from DisruptorQueue</p>\n\n<p>    I created an inner class QueueMetrics for DisruptorQueue. The QueueMetrics class handles metric collection logics and exposes metric retrieval methods.</p>\n\n<p>    The benefits of such modification are twofold: <br/>\n    1. It improves the readability of the metric code.<br/>\n    2. It facilitates to add more metrics, such as average throughput and element sojourn time.  (That is because the data  maintained for such \"stateful\" metrics can reside in QueueMetrics rather than in DisruptorQueue. )</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/wangli1426/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/wangli1426/storm</a> master</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/698.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/698.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #698</p>\n\n<hr />\n<p>commit 4337ebe6e2398073e9a238e88bd51ca7b76b3437<br/>\nAuthor: wangli1426 <wangli1426@gmail.com><br/>\nDate:   2015-08-26T04:48:27Z</p>\n\n<p>    Created QueueMetrics inner class in DistruptorQueue to improve the extendibility and the readability of the metrics code.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/134900295","html_url":"https://github.com/apache/storm/pull/673#issuecomment-134900295","issue_url":"https://api.github.com/repos/apache/storm/issues/673","id":134900295,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNDkwMDI5NQ==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T08:45:28Z","updated_at":"2015-08-26T08:45:28Z","author_association":"CONTRIBUTOR","body":"@harshach @Parth-Brahmbhatt added changes for supporting sampling pct.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/134900295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581789","html_url":"https://github.com/apache/storm/issues/4792#issuecomment-2612581789","issue_url":"https://api.github.com/repos/apache/storm/issues/4792","id":2612581789,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODE3ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T08:45:30Z","updated_at":"2025-01-24T13:52:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/673#issuecomment-134900295\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/673#issuecomment-134900295</a></p>\n\n<p>    @harshach @Parth-Brahmbhatt added changes for supporting sampling pct.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593879","html_url":"https://github.com/apache/storm/issues/4848#issuecomment-2612593879","issue_url":"https://api.github.com/repos/apache/storm/issues/4848","id":2612593879,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTM4Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T09:58:58Z","updated_at":"2025-01-24T13:58:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user Renkai opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/699\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/699</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1010\" title=\"Each KafkaBolt could have a specified properties.\" class=\"issue-link\" data-issue-key=\"STORM-1010\"><del>STORM-1010</del></a> each KafkaBolt have its own properties</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/Renkai/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/Renkai/storm</a> dev</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/699.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/699.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #699</p>\n\n<hr />\n<p>commit a062a40845a808566c8d727a654654a47e8d3eb3<br/>\nAuthor: renkai <gaelookair@gmail.com><br/>\nDate:   2015-08-26T09:55:16Z</p>\n\n<p>    each KafkaBolt have its own properties</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587594","html_url":"https://github.com/apache/storm/issues/4832#issuecomment-2612587594","issue_url":"https://api.github.com/repos/apache/storm/issues/4832","id":2612587594,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODc1OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T14:11:16Z","updated_at":"2025-01-24T13:55:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/697#discussion_r37985872\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/697#discussion_r37985872</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/Utils.java &#8212;<br/>\n    @@ -359,23 +359,34 @@ public static Object getSetComponentObject(ComponentObject obj) {</p>\n\n<p> public static void downloadFromMaster(Map conf, String file, String localFile) throws AuthorizationException, IOException, TException {<br/>\n     NimbusClient client = NimbusClient.getConfiguredClient(conf);</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>download(client, file, localFile);<br/>\n    +try {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Indentation seems mixed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587599","html_url":"https://github.com/apache/storm/issues/4832#issuecomment-2612587599","issue_url":"https://api.github.com/repos/apache/storm/issues/4832","id":2612587599,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODc1OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T14:11:23Z","updated_at":"2025-01-24T13:55:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/697#discussion_r37985888\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/697#discussion_r37985888</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/Utils.java &#8212;<br/>\n    @@ -359,23 +359,34 @@ public static Object getSetComponentObject(ComponentObject obj) {</p>\n\n<p> public static void downloadFromMaster(Map conf, String file, String localFile) throws AuthorizationException, IOException, TException {<br/>\n     NimbusClient client = NimbusClient.getConfiguredClient(conf);</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>download(client, file, localFile);<br/>\n    +try \n{\n    +\tdownload(client, file, localFile);\n    +}\n<p> finally </p>\n{\n    +\tclient.close();\n    +}\n<p> }</p></li>\n</ul>\n\n\n<p> public static void downloadFromHost(Map conf, String file, String localFile, String host, int port) throws IOException, TException, AuthorizationException {<br/>\n     NimbusClient client = new NimbusClient (conf, host, port, null);</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>download(client, file, localFile);<br/>\n    +try {<br/>\n    +\tdownload(client, file, localFile);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Indentation seems mixed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/135036696","html_url":"https://github.com/apache/storm/pull/697#issuecomment-135036696","issue_url":"https://api.github.com/repos/apache/storm/issues/697","id":135036696,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTAzNjY5Ng==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T14:18:13Z","updated_at":"2015-08-26T14:18:13Z","author_association":"CONTRIBUTOR","body":"Looks fine overall. +1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/135036696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587606","html_url":"https://github.com/apache/storm/issues/4832#issuecomment-2612587606","issue_url":"https://api.github.com/repos/apache/storm/issues/4832","id":2612587606,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODc2MDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T14:18:20Z","updated_at":"2025-01-24T13:55:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/697#issuecomment-135036696\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/697#issuecomment-135036696</a></p>\n\n<p>    Looks fine overall. +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612587606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/135050335","html_url":"https://github.com/apache/storm/pull/699#issuecomment-135050335","issue_url":"https://api.github.com/repos/apache/storm/issues/699","id":135050335,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTA1MDMzNQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T14:59:24Z","updated_at":"2015-08-26T14:59:24Z","author_association":"CONTRIBUTOR","body":"@Renkai whats the need for this? why can't you add multiple bolts with its own parallelism. IMO this goes against the storm api. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/135050335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593887","html_url":"https://github.com/apache/storm/issues/4848#issuecomment-2612593887","issue_url":"https://api.github.com/repos/apache/storm/issues/4848","id":2612593887,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTM4ODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T14:59:27Z","updated_at":"2025-01-24T13:58:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/699#issuecomment-135050335\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/699#issuecomment-135050335</a></p>\n\n<p>    @Renkai whats the need for this? why can't you add multiple bolts with its own parallelism. IMO this goes against the storm api. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/135050549","html_url":"https://github.com/apache/storm/pull/673#issuecomment-135050549","issue_url":"https://api.github.com/repos/apache/storm/issues/673","id":135050549,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTA1MDU0OQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T14:59:59Z","updated_at":"2015-08-26T14:59:59Z","author_association":"CONTRIBUTOR","body":"@arunmahadevan you need to upmerge this branch.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/135050549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581795","html_url":"https://github.com/apache/storm/issues/4792#issuecomment-2612581795","issue_url":"https://api.github.com/repos/apache/storm/issues/4792","id":2612581795,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODE3OTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T15:00:01Z","updated_at":"2025-01-24T13:52:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/673#issuecomment-135050549\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/673#issuecomment-135050549</a></p>\n\n<p>    @arunmahadevan you need to upmerge this branch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/135067844","html_url":"https://github.com/apache/storm/pull/699#issuecomment-135067844","issue_url":"https://api.github.com/repos/apache/storm/issues/699","id":135067844,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTA2Nzg0NA==","user":{"login":"Renkai","id":3381789,"node_id":"MDQ6VXNlcjMzODE3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/3381789?v=4","gravatar_id":"","url":"https://api.github.com/users/Renkai","html_url":"https://github.com/Renkai","followers_url":"https://api.github.com/users/Renkai/followers","following_url":"https://api.github.com/users/Renkai/following{/other_user}","gists_url":"https://api.github.com/users/Renkai/gists{/gist_id}","starred_url":"https://api.github.com/users/Renkai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Renkai/subscriptions","organizations_url":"https://api.github.com/users/Renkai/orgs","repos_url":"https://api.github.com/users/Renkai/repos","events_url":"https://api.github.com/users/Renkai/events{/privacy}","received_events_url":"https://api.github.com/users/Renkai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T15:36:08Z","updated_at":"2015-08-26T15:36:08Z","author_association":"CONTRIBUTOR","body":"@harshach \nDifferent KafkaBolts  may need to send topic to different kafka clusters,use different serializers,and have different params for performance tunning.\nIn current version there is no way to do that.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/135067844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593889","html_url":"https://github.com/apache/storm/issues/4848#issuecomment-2612593889","issue_url":"https://api.github.com/repos/apache/storm/issues/4848","id":2612593889,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTM4ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T15:36:10Z","updated_at":"2025-01-24T13:58:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Renkai commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/699#issuecomment-135067844\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/699#issuecomment-135067844</a></p>\n\n<p>    @harshach <br/>\n    Different KafkaBolts  may need to send topic to different kafka clusters,use different serializers,and have different params for performance tunning.<br/>\n    In current version there is no way to do that.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570127","html_url":"https://github.com/apache/storm/issues/4725#issuecomment-2612570127","issue_url":"https://api.github.com/repos/apache/storm/issues/4725","id":2612570127,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzAxMjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T16:18:53Z","updated_at":"2025-01-24T13:46:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user zhuoliu opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/700\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/700</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-886\" title=\"Automatic Back Pressure\" class=\"issue-link\" data-issue-key=\"STORM-886\"><del>STORM-886</del></a> Automatic Back Pressure (ABP)</p>\n\n<p>    This new feature is aimed for automatic flow control through the topology DAG since different components may have unmatched tuple processing speed. Currently, the tuples may get dropped if the downstream components can not process as quickly, thereby causing a waste of network bandwidth and processing capability. In addition, it is difficult to tune the max.spout.pending parameter for best backpressure performance. Therefore, an automatic back pressure scheme is highly desirable.</p>\n\n<p>    Recently, Heron proposed a form of back pressure that does not rely on acking or max spout pending. Instead spouts throttle not only when max.spout.pending is hit, but also if any bolt has gone over a high water mark in their input queue, and has not yet gone below a low water mark again. There is a lot of room for potential improvement here around control theory and having spouts only respond to downstream bolts backing up, but a simple bang-bang controller like this is a great start.</p>\n\n<p>    Our ABP scheme implements a light-weight yet efficient back pressure scheme. It monitors certain queues in executors and exploits the callback schemes on ZooKeeper and disruptor queue for a fast-responding (in a push manner) flow control.</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/zhuoliu/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/zhuoliu/storm</a> 886</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/700.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/700.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #700</p>\n\n<hr />\n<p>commit fc2fcf41b8977b833d7f7f883783263e3b422c45<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-18T18:47:39Z</p>\n\n<p>    Initial commit for YSTORM-1949 automatic backpressure</p>\n\n<p>commit 3316a70b314474c900cf319b355f13f3567febfa<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-21T21:15:31Z</p>\n\n<p>    Temp version that can do both throttle and back-to-normal, WordCountTopology changed, may revert it later</p>\n\n<p>commit 5c5f34d4f63df08d69871b1b0d395a96768283e1<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-21T21:24:25Z</p>\n\n<p>    re-enable the recurring of throttle check to zk in worker</p>\n\n<p>commit 52615833e1b88ac55b91000687a4d9123faf9662<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-25T18:06:31Z</p>\n\n<p>    Use ephemeral-node for worker backpressure</p>\n\n<p>commit 21a314b3b19f79693ce1bb7257d42961266a0afa<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-25T21:04:51Z</p>\n\n<p>    Make backpressure configurable</p>\n\n<p>commit ae194073612477636651efc2668a4623a4785020<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-25T21:55:44Z</p>\n\n<p>    use disruptor/notify-backpressure-checker</p>\n\n<p>commit 7996116072e45b13267b86045cef6d777cf3fb04<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-25T22:35:14Z</p>\n\n<p>    Remove debug message for daemons</p>\n\n<p>commit fdd75728ce51ac52f48ad091db4a623ba1fd7f0c<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-26T02:26:10Z</p>\n\n<p>    Minor cleanup</p>\n\n<p>commit ae2ed251c79c640854f336ca4e1b13e3dd7aabe5<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-26T02:29:07Z</p>\n\n<p>    Minor</p>\n\n<p>commit 8c31ea6b081a21459d9dff7a0687fd6de9bfe8bb<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-08-26T16:04:48Z</p>\n\n<p>    Decomment tests</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563570","html_url":"https://github.com/apache/storm/issues/4695#issuecomment-2612563570","issue_url":"https://api.github.com/repos/apache/storm/issues/4695","id":2612563570,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjM1NzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T16:21:15Z","updated_at":"2025-01-24T13:43:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/694#discussion_r38002218\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/694#discussion_r38002218</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/executor.clj &#8212;<br/>\n    @@ -18,23 +18,23 @@<br/>\n       (:import <span class=\"error\">&#91;backtype.storm.generated Grouping&#93;</span><br/>\n<span class=\"error\">&#91;java.io Serializable&#93;</span>)<br/>\n       (:use <span class=\"error\">&#91;backtype.storm util config log timer stats&#93;</span>)</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(:import <span class=\"error\">&#91;java.util List Random HashMap ArrayList LinkedList Map&#93;</span>)<br/>\n    +  (:import <span class=\"error\">&#91;java.util List Random HashMap ArrayList Map&#93;</span>)<br/>\n       (:import <span class=\"error\">&#91;backtype.storm ICredentialsListener&#93;</span>)</li>\n\t<li>(:import <span class=\"error\">&#91;backtype.storm.hooks ITaskHook&#93;</span>)</li>\n\t<li>(:import <span class=\"error\">&#91;backtype.storm.tuple Tuple Fields TupleImpl MessageId&#93;</span>)<br/>\n    +  (:import <span class=\"error\">&#91;backtype.storm.tuple Tuple Fields TupleImpl MessageId Batch&#93;</span>)<br/>\n       (:import <span class=\"error\">&#91;backtype.storm.spout ISpoutWaitStrategy ISpout SpoutOutputCollector ISpoutOutputCollector&#93;</span>)<br/>\n       (:import [backtype.storm.hooks.info SpoutAckInfo SpoutFailInfo<br/>\n EmitInfo BoltFailInfo BoltAckInfo BoltExecuteInfo])<br/>\n       (:import <span class=\"error\">&#91;backtype.storm.grouping CustomStreamGrouping&#93;</span>)<br/>\n       (:import <span class=\"error\">&#91;backtype.storm.task WorkerTopologyContext IBolt OutputCollector IOutputCollector&#93;</span>)<br/>\n       (:import <span class=\"error\">&#91;backtype.storm.generated GlobalStreamId&#93;</span>)</li>\n\t<li>(:import <span class=\"error\">&#91;backtype.storm.utils Utils MutableObject RotatingMap RotatingMap$ExpiredCallback MutableLong Time&#93;</span>)<br/>\n    +  (:import <span class=\"error\">&#91;backtype.storm.utils Utils MutableObject RotatingMap RotatingMap$ExpiredCallback MutableLong Time DisruptorQueue&#93;</span>)<br/>\n       (:import <span class=\"error\">&#91;com.lmax.disruptor InsufficientCapacityException&#93;</span>)</li>\n\t<li>(:import <span class=\"error\">&#91;backtype.storm.serialization KryoTupleSerializer KryoTupleDeserializer&#93;</span>)<br/>\n    +  (:import <span class=\"error\">&#91;backtype.storm.serialization KryoTupleSerializer KryoBatchSerializer KryoTupleBatchSerializer KryoTupleBatchDeserializer&#93;</span>)<br/>\n       (:import <span class=\"error\">&#91;backtype.storm.daemon Shutdownable&#93;</span>)</li>\n\t<li>(:import <span class=\"error\">&#91;backtype.storm.metric.api IMetric IMetricsConsumer$TaskInfo IMetricsConsumer$DataPoint StateMetric&#93;</span>)<br/>\n    +  (:import <span class=\"error\">&#91;backtype.storm.metric.api IMetric IMetricsConsumer$TaskInfo IMetricsConsumer$DataPoint&#93;</span>)<br/>\n       (:import <span class=\"error\">&#91;backtype.storm Config Constants&#93;</span>)</li>\n\t<li>(:import <span class=\"error\">&#91;java.util.concurrent ConcurrentLinkedQueue&#93;</span>)<br/>\n    +  (:import <span class=\"error\">&#91;java.util.concurrent ConcurrentLinkedQueue&#93;</span><br/>\n    +   (backtype.storm.messaging TaskMessage))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    It would be nice to make this a vector, for consistency.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570131","html_url":"https://github.com/apache/storm/issues/4725#issuecomment-2612570131","issue_url":"https://api.github.com/repos/apache/storm/issues/4725","id":2612570131,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzAxMzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T16:26:58Z","updated_at":"2025-01-24T13:46:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhuoliu\">zhuoliu</a>:</i>\n<p>Our ABP scheme implements a light-weight yet efficient back pressure scheme. It monitors certain queues in executors and exploits the callback schemes on ZooKeeper and disruptor queue for a fast-responding (in a push manner) flow control.</p>\n\n<p>Please check the attached figures for more details about the implementation.<br/>\n<a href=\"https://issues.apache.org/jira/secure/attachment/12752518/an%20simple%20example%20for%20backpressure.png\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/secure/attachment/12752518/an%20simple%20example%20for%20backpressure.png</a><br/>\n<a href=\"https://issues.apache.org/jira/secure/attachment/12752521/backpressure.png\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/secure/attachment/12752521/backpressure.png</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570133","html_url":"https://github.com/apache/storm/issues/4725#issuecomment-2612570133","issue_url":"https://api.github.com/repos/apache/storm/issues/4725","id":2612570133,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzAxMzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T18:59:25Z","updated_at":"2025-01-24T13:46:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/700#discussion_r38021285\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/700#discussion_r38021285</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -140,6 +140,14 @@ task.heartbeat.frequency.secs: 3<br/>\n     task.refresh.poll.secs: 10<br/>\n     task.credentials.poll.secs: 30</p>\n\n<p>    +# now should be null by default<br/>\n    +topology.backpressure.enable: true<br/>\n    +backpressure.worker.high.watermark: 0.9<br/>\n    +backpressure.worker.low.watermark: 0.4<br/>\n    +backpressure.executor.high.watermark: 0.9<br/>\n    +backpressure.executor.low.watermark: 0.4<br/>\n    +backpressure.spout.suspend.time.ms: 100<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This seems way too high.  It is not that expensive to poll at a 1ms interval in the spout waiting for back-pressure to be turned off.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570138","html_url":"https://github.com/apache/storm/issues/4725#issuecomment-2612570138","issue_url":"https://api.github.com/repos/apache/storm/issues/4725","id":2612570138,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzAxMzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T19:02:29Z","updated_at":"2025-01-24T13:46:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/700#discussion_r38021586\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/700#discussion_r38021586</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/executor.clj &#8212;<br/>\n    @@ -602,7 +607,15 @@<br/>\n (log-message \"Activating spout \" component-id \":\" (keys task-datas))<br/>\n (fast-list-iter <span class=\"error\">&#91;^ISpout spout spouts&#93;</span> (.activate spout)))</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>(fast-list-iter <span class=\"error\">&#91;^ISpout spout spouts&#93;</span> (.nextTuple spout)))<br/>\n    +  (if (and<br/>\n    +((:storm-conf executor-data) TOPOLOGY-BACKPRESSURE-ENABLE)<br/>\n    +@(:throttle-on (:worker executor-data))<br/>\n    +suspend-time<br/>\n    +(not= suspend-time 0))<br/>\n    +    (do \n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Can we move this conditional up to be part of the overflow-buffer/max-spout-pending check?  It feels like it fits better there, and that we don't want to output anything when back-pressure is on, instead of just slowing down how quickly we output.</p>\n\n<p>    Also instead of logging something, can we look at having a metric instead that shows how may times we called paused for a given reason.  Logging is not going to really give us the picture we want and is going to be difficult to follow.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570144","html_url":"https://github.com/apache/storm/issues/4725#issuecomment-2612570144","issue_url":"https://api.github.com/repos/apache/storm/issues/4725","id":2612570144,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzAxNDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T19:07:22Z","updated_at":"2025-01-24T13:46:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/700#discussion_r38022111\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/700#discussion_r38022111</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/executor.clj &#8212;<br/>\n    @@ -671,7 +689,19 @@<br/>\n user-context (:user-context task-data)<br/>\n sampler? (sampler)<br/>\n execute-sampler? (execute-sampler)</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>now (if (or sampler? execute-sampler?) (System/currentTimeMillis))]<br/>\n    +    now (if (or sampler? execute-sampler?) (System/currentTimeMillis))<br/>\n    +    receive-queue (:receive-queue executor-data)]<br/>\n    +(if (and ((:storm-conf executor-data) TOPOLOGY-BACKPRESSURE-ENABLE) <br/>\n    + (> (.population receive-queue) high-watermark) <br/>\n    + (not @(:backpressure executor-data)))<br/>\n    +  (do (reset! (:backpressure executor-data) true)<br/>\n    +      (log-debug \"executor \" (:executor-id executor-data) \" is congested, set backpressure flag true\")<br/>\n    +      (disruptor/notify-backpressure-checker (:backpressure-trigger (:worker executor-data)))))<br/>\n    +(if (and ((:storm-conf executor-data) TOPOLOGY-BACKPRESSURE-ENABLE) <br/>\n    + (< (.population receive-queue) low-watermark) <br/>\n    + @(:backpressure executor-data))<br/>\n    +  (do (reset! (:backpressure executor-data) false)<br/>\n    +      (disruptor/notify-backpressure-checker (:backpressure-trigger (:worker executor-data)))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I am a bit confused.  Why are we doing this as part of the metrics tick?  What does that have to do with back pressure at all?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570152","html_url":"https://github.com/apache/storm/issues/4725#issuecomment-2612570152","issue_url":"https://api.github.com/repos/apache/storm/issues/4725","id":2612570152,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzAxNTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T19:09:38Z","updated_at":"2025-01-24T13:46:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/700#discussion_r38022357\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/700#discussion_r38022357</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -114,12 +114,34 @@<br/>\n       (fast-list-iter [<span class=\"error\">&#91;task tuple :as pair&#93;</span> tuple-batch]<br/>\n (.serialize serializer tuple)))</p>\n\n<p>    +(defn- mk-backpressure-handler <span class=\"error\">&#91;executors&#93;</span><br/>\n    +  \"make a handler that checks and updates worker's backpressure flag\"<br/>\n    +  (disruptor/backpressure-handler <br/>\n    +    (fn <span class=\"error\">&#91;worker&#93;</span><br/>\n    +      (let [storm-id (:storm-id worker)<br/>\n    +    assignment-id (:assignment-id worker)<br/>\n    +    port (:port worker)<br/>\n    +    storm-cluster-state (:storm-cluster-state worker)]<br/>\n    +(if executors <br/>\n    +  (if (reduce #(or %1 %2) (map #(.get-backpressure-flag %1) executors))<br/>\n    +    (reset! (:backpressure worker) true)   ;; at least one executor has set backpressure<br/>\n    +    (reset! (:backpressure worker) false))) ;; no executor has backpressure set<br/>\n    +;; update the worker's backpressure flag to zookeeper here<br/>\n    +(.worker-backpressure! storm-cluster-state storm-id assignment-id port @(:backpressure worker))  <br/>\n    +))))<br/>\n    +<br/>\n     (defn mk-transfer-fn <span class=\"error\">&#91;worker&#93;</span><br/>\n       (let [local-tasks (-> worker :task-ids set)<br/>\n     local-transfer (:transfer-local-fn worker)</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>^DisruptorQueue transfer-queue (:transfer-queue worker)<br/>\n    +transfer-queue (:transfer-queue worker)\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Why did we drop the type hint?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570158","html_url":"https://github.com/apache/storm/issues/4725#issuecomment-2612570158","issue_url":"https://api.github.com/repos/apache/storm/issues/4725","id":2612570158,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzAxNTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T19:19:15Z","updated_at":"2025-01-24T13:46:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/700#discussion_r38023281\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/700#discussion_r38023281</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -114,12 +114,34 @@<br/>\n       (fast-list-iter [<span class=\"error\">&#91;task tuple :as pair&#93;</span> tuple-batch]<br/>\n (.serialize serializer tuple)))</p>\n\n<p>    +(defn- mk-backpressure-handler <span class=\"error\">&#91;executors&#93;</span><br/>\n    +  \"make a handler that checks and updates worker's backpressure flag\"<br/>\n    +  (disruptor/backpressure-handler <br/>\n    +    (fn <span class=\"error\">&#91;worker&#93;</span><br/>\n    +      (let [storm-id (:storm-id worker)<br/>\n    +    assignment-id (:assignment-id worker)<br/>\n    +    port (:port worker)<br/>\n    +    storm-cluster-state (:storm-cluster-state worker)]<br/>\n    +(if executors <br/>\n    +  (if (reduce #(or %1 %2) (map #(.get-backpressure-flag %1) executors))<br/>\n    +    (reset! (:backpressure worker) true)   ;; at least one executor has set backpressure<br/>\n    +    (reset! (:backpressure worker) false))) ;; no executor has backpressure set<br/>\n    +;; update the worker's backpressure flag to zookeeper here<br/>\n    +(.worker-backpressure! storm-cluster-state storm-id assignment-id port @(:backpressure worker))  <br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I think we have an opportunity here to not put so much load on ZK.  We should be able to keep cached if we think back-pressure is on or not for this worker, and only update if we think it is changing, instead of reading the state each time and updating it, if it is different.  This is being called at least ever 100 ms, which is going to put more load on ZK then I like.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570163","html_url":"https://github.com/apache/storm/issues/4725#issuecomment-2612570163","issue_url":"https://api.github.com/repos/apache/storm/issues/4725","id":2612570163,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzAxNjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T19:20:51Z","updated_at":"2025-01-24T13:46:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/700#discussion_r38023405\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/700#discussion_r38023405</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -510,15 +554,21 @@<br/>\n      ))<br/>\n  )<br/>\n     credentials (atom initial-credentials)</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>check-credentials-changed (fn []</li>\n\t<li>(let <span class=\"error\">&#91;new-creds (.credentials (:storm-cluster-state worker) storm-id nil)&#93;</span></li>\n\t<li>(when-not (= new-creds @credentials) ;;This does not have to be atomic, worst case we update when one is not needed</li>\n\t<li>(AuthUtils/updateSubject subject auto-creds new-creds)</li>\n\t<li>(dofor <span class=\"error\">&#91;e @executors&#93;</span> (.credentials-changed e new-creds))</li>\n\t<li>(reset! credentials new-creds))))</li>\n\t<li>]</li>\n\t<li>(.credentials (:storm-cluster-state worker) storm-id (fn <span class=\"error\">&#91;args&#93;</span> (check-credentials-changed)))</li>\n\t<li>(schedule-recurring (:refresh-credentials-timer worker) 0 (conf TASK-CREDENTIALS-POLL-SECS) check-credentials-changed)<br/>\n    +check-credentials-throttle-changed (fn []<br/>\n    +     (let [callback (fn cb <span class=\"error\">&#91;& ignored&#93;</span> <br/>\n    +      (let <span class=\"error\">&#91;throttle-on (.topology-backpressure (:storm-cluster-state worker) storm-id cb)&#93;</span><br/>\n    +(reset! (:throttle-on worker) throttle-on)))<br/>\n    +   new-throttle-on (if ((:storm-conf worker) TOPOLOGY-BACKPRESSURE-ENABLE)<br/>\n    +     (.topology-backpressure (:storm-cluster-state worker) storm-id callback) nil)<br/>\n    +   new-creds (.credentials (:storm-cluster-state worker) storm-id nil)]<br/>\n    +       (if ((:storm-conf worker) TOPOLOGY-BACKPRESSURE-ENABLE)<br/>\n    + (reset! (:throttle-on worker) new-throttle-on))<br/>\n    +       (when-not (= new-creds @credentials) ;;This does not have to be atomic, worst case we update when one is not needed<br/>\n    + (AuthUtils/updateSubject subject auto-creds new-creds)<br/>\n    + (dofor <span class=\"error\">&#91;e @executors&#93;</span> (.credentials-changed e new-creds))<br/>\n    + (reset! credentials new-creds))))]<br/>\n    +    (.credentials (:storm-cluster-state worker) storm-id (fn <span class=\"error\">&#91;args&#93;</span> (check-credentials-throttle-changed)))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I think I would prefer to have two functions instead of just one.  Both can be scheduled on the same timer, but keeping them separate seems cleaner.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/135145296","html_url":"https://github.com/apache/storm/pull/700#issuecomment-135145296","issue_url":"https://api.github.com/repos/apache/storm/issues/700","id":135145296,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTE0NTI5Ng==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T19:22:49Z","updated_at":"2015-08-26T19:22:49Z","author_association":"CONTRIBUTOR","body":"This looks very interesting.  I would really like to see some unit tests, especially around the disruptor queue to show that the callback is working.  Perhaps we can also handle the corner cases for callback in DisruptorQueue itself instead of having special case code in other locations as a backup.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/135145296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570167","html_url":"https://github.com/apache/storm/issues/4725#issuecomment-2612570167","issue_url":"https://api.github.com/repos/apache/storm/issues/4725","id":2612570167,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzAxNjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T19:22:50Z","updated_at":"2025-01-24T13:46:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/700#issuecomment-135145296\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/700#issuecomment-135145296</a></p>\n\n<p>    This looks very interesting.  I would really like to see some unit tests, especially around the disruptor queue to show that the callback is working.  Perhaps we can also handle the corner cases for callback in DisruptorQueue itself instead of having special case code in other locations as a backup.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612570167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/135152145","html_url":"https://github.com/apache/storm/pull/699#issuecomment-135152145","issue_url":"https://api.github.com/repos/apache/storm/issues/699","id":135152145,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTE1MjE0NQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T19:52:10Z","updated_at":"2015-08-26T19:52:10Z","author_association":"CONTRIBUTOR","body":"The changes look fine to me.  +1\n\n@harshach we did a similar thing for the HDFS Bolt.\nhttps://github.com/apache/storm/blob/ffb1562cb0eb3fbd916423136fcd3c181fbf6212/external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/HdfsBolt.java#L53-L56\n\nEach bolt needs to be able to be configured independently of all other bolts.  Putting it in the conf is a is one way to do it, but I have seen a lot of bolts do it through a setter too. I personally would prefer to support both through a config and through an API.  The only trick is with consistency and ordering in the case of conflicts.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/135152145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593894","html_url":"https://github.com/apache/storm/issues/4848#issuecomment-2612593894","issue_url":"https://api.github.com/repos/apache/storm/issues/4848","id":2612593894,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTM4OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T19:52:11Z","updated_at":"2025-01-24T13:58:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/699#issuecomment-135152145\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/699#issuecomment-135152145</a></p>\n\n<p>    The changes look fine to me.  +1</p>\n\n<p>    @harshach we did a similar thing for the HDFS Bolt.<br/>\n    <a href=\"https://github.com/apache/storm/blob/ffb1562cb0eb3fbd916423136fcd3c181fbf6212/external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/HdfsBolt.java#L53-L56\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/ffb1562cb0eb3fbd916423136fcd3c181fbf6212/external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/HdfsBolt.java#L53-L56</a></p>\n\n<p>    Each bolt needs to be able to be configured independently of all other bolts.  Putting it in the conf is a is one way to do it, but I have seen a lot of bolts do it through a setter too. I personally would prefer to support both through a config and through an API.  The only trick is with consistency and ordering in the case of conflicts.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/135165221","html_url":"https://github.com/apache/storm/pull/699#issuecomment-135165221","issue_url":"https://api.github.com/repos/apache/storm/issues/699","id":135165221,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTE2NTIyMQ==","user":{"login":"Parth-Brahmbhatt","id":6914358,"node_id":"MDQ6VXNlcjY5MTQzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6914358?v=4","gravatar_id":"","url":"https://api.github.com/users/Parth-Brahmbhatt","html_url":"https://github.com/Parth-Brahmbhatt","followers_url":"https://api.github.com/users/Parth-Brahmbhatt/followers","following_url":"https://api.github.com/users/Parth-Brahmbhatt/following{/other_user}","gists_url":"https://api.github.com/users/Parth-Brahmbhatt/gists{/gist_id}","starred_url":"https://api.github.com/users/Parth-Brahmbhatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Parth-Brahmbhatt/subscriptions","organizations_url":"https://api.github.com/users/Parth-Brahmbhatt/orgs","repos_url":"https://api.github.com/users/Parth-Brahmbhatt/repos","events_url":"https://api.github.com/users/Parth-Brahmbhatt/events{/privacy}","received_events_url":"https://api.github.com/users/Parth-Brahmbhatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T20:43:10Z","updated_at":"2015-08-26T20:43:10Z","author_association":"CONTRIBUTOR","body":"+1. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/135165221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593900","html_url":"https://github.com/apache/storm/issues/4848#issuecomment-2612593900","issue_url":"https://api.github.com/repos/apache/storm/issues/4848","id":2612593900,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTM5MDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T20:43:13Z","updated_at":"2025-01-24T13:58:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/699#issuecomment-135165221\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/699#issuecomment-135165221</a></p>\n\n<p>    +1. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/135165749","html_url":"https://github.com/apache/storm/pull/699#issuecomment-135165749","issue_url":"https://api.github.com/repos/apache/storm/issues/699","id":135165749,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTE2NTc0OQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T20:45:34Z","updated_at":"2015-08-26T20:45:34Z","author_association":"CONTRIBUTOR","body":"@revans2 @Renkai makes sense. Instead of using constructor can we should with Options like other bolts are using. probably \"withProducerProperties\" method and remove the topology level configs so that there isn't two ways configure the bolt.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/135165749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593908","html_url":"https://github.com/apache/storm/issues/4848#issuecomment-2612593908","issue_url":"https://api.github.com/repos/apache/storm/issues/4848","id":2612593908,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTM5MDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T20:45:35Z","updated_at":"2025-01-24T13:58:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/699#issuecomment-135165749\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/699#issuecomment-135165749</a></p>\n\n<p>    @revans2 @Renkai makes sense. Instead of using constructor can we should with Options like other bolts are using. probably \"withProducerProperties\" method and remove the topology level configs so that there isn't two ways configure the bolt.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/135173459","html_url":"https://github.com/apache/storm/pull/699#issuecomment-135173459","issue_url":"https://api.github.com/repos/apache/storm/issues/699","id":135173459,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTE3MzQ1OQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T21:20:20Z","updated_at":"2015-08-26T21:20:20Z","author_association":"CONTRIBUTOR","body":"I am fine with the current approach but we need to standardize one way configuring the bolts as each connector follows its own pattern right now and which can be confusing to the users.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/135173459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593918","html_url":"https://github.com/apache/storm/issues/4848#issuecomment-2612593918","issue_url":"https://api.github.com/repos/apache/storm/issues/4848","id":2612593918,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTM5MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T21:20:21Z","updated_at":"2025-01-24T13:58:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/699#issuecomment-135173459\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/699#issuecomment-135173459</a></p>\n\n<p>    I am fine with the current approach but we need to standardize one way configuring the bolts as each connector follows its own pattern right now and which can be confusing to the users.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612593918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563572","html_url":"https://github.com/apache/storm/issues/4695#issuecomment-2612563572","issue_url":"https://api.github.com/repos/apache/storm/issues/4695","id":2612563572,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjM1NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T21:37:23Z","updated_at":"2025-01-24T13:43:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\">sriharsha</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax\" class=\"user-hover\" rel=\"mjsax\">Matthias J. Sax</a> curious why we are introducing batching on core api since trident provides micro-batching already. What latency impact this might introduce since with storm we always if you want throughput one should use trident and latency is a concern use core api. Ofcourse one can set the batch size to 1 and it should be same as current api?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612563572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612594020","html_url":"https://github.com/apache/storm/issues/4849#issuecomment-2612594020","issue_url":"https://api.github.com/repos/apache/storm/issues/4849","id":2612594020,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTQwMjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T23:35:52Z","updated_at":"2025-01-24T13:58:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user Parth-Brahmbhatt opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/701\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/701</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1011\" title=\"HBaseBolt default mapper should handle null values\" class=\"issue-link\" data-issue-key=\"STORM-1011\"><del>STORM-1011</del></a>: Hbase default mapper should handle null values.</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/Parth-Brahmbhatt/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/Parth-Brahmbhatt/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1011\" title=\"HBaseBolt default mapper should handle null values\" class=\"issue-link\" data-issue-key=\"STORM-1011\"><del>STORM-1011</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/701.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/701.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #701</p>\n\n<hr />\n<p>commit 5a1abd3bc6b1b7d6ba7532ad7b0758f143cefde3<br/>\nAuthor: Parth Brahmbhatt <brahmbhatt.parth@gmail.com><br/>\nDate:   2015-08-26T23:34:49Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1011\" title=\"HBaseBolt default mapper should handle null values\" class=\"issue-link\" data-issue-key=\"STORM-1011\"><del>STORM-1011</del></a>: Hbase default mapper should handle null values.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612594020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612594172","html_url":"https://github.com/apache/storm/issues/4850#issuecomment-2612594172","issue_url":"https://api.github.com/repos/apache/storm/issues/4850","id":2612594172,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTQxNzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-26T23:37:58Z","updated_at":"2025-01-24T13:58:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user Parth-Brahmbhatt opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/702\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/702</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1012\" title=\"Shade Jackson dependency\" class=\"issue-link\" data-issue-key=\"STORM-1012\"><del>STORM-1012</del></a>: Shading jackson.</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/Parth-Brahmbhatt/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/Parth-Brahmbhatt/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1012\" title=\"Shade Jackson dependency\" class=\"issue-link\" data-issue-key=\"STORM-1012\"><del>STORM-1012</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/702.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/702.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #702</p>\n\n<hr />\n<p>commit 612b3df8f3a0213e0b2f28834afc1b5f6ff399b1<br/>\nAuthor: Parth Brahmbhatt <brahmbhatt.parth@gmail.com><br/>\nDate:   2015-08-26T23:37:18Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1012\" title=\"Shade Jackson dependency\" class=\"issue-link\" data-issue-key=\"STORM-1012\"><del>STORM-1012</del></a>: Shading jackson.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612594172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]