[{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618533772","html_url":"https://github.com/apache/pulsar/pull/6034#issuecomment-618533772","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6034","id":618533772,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODUzMzc3Mg==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T17:26:42Z","updated_at":"2020-04-23T17:26:42Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618533772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618600371","html_url":"https://github.com/apache/pulsar/pull/6796#issuecomment-618600371","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6796","id":618600371,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODYwMDM3MQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T19:08:40Z","updated_at":"2020-04-23T19:08:40Z","author_association":"CONTRIBUTOR","body":"> acknowledgementCumulative on a partitioned topic means acknowledging cumulative the messages of the partition inferred by the MessageId.\r\n\r\nIf I'm consuming from a partitioned topic, I'll get a single stream of messages from multiple partitions.\r\n\r\nEg. `P1_M1`, `P2_M1`, `P2_M2`, `P1_M2`. \r\n\r\nCalling cumulative ack on `P1_M2` would be semantically completely different in the case of partitioned/non-partitioned case.\r\n\r\nIf you're consuming these messages, and say, acking cumulative every 1 second, you might never be acking on some of the partitions.\r\n\r\nThe only way for the cumulative ack to make sense with partitions is if the client lib would be keeping track, for a given message id, of all the highest message ids in the other partitions that we were queued before it in the shared queue.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618600371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618693846","html_url":"https://github.com/apache/pulsar/issues/6809#issuecomment-618693846","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6809","id":618693846,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODY5Mzg0Ng==","user":{"login":"cdbartholomew","id":22917476,"node_id":"MDQ6VXNlcjIyOTE3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/22917476?v=4","gravatar_id":"","url":"https://api.github.com/users/cdbartholomew","html_url":"https://github.com/cdbartholomew","followers_url":"https://api.github.com/users/cdbartholomew/followers","following_url":"https://api.github.com/users/cdbartholomew/following{/other_user}","gists_url":"https://api.github.com/users/cdbartholomew/gists{/gist_id}","starred_url":"https://api.github.com/users/cdbartholomew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdbartholomew/subscriptions","organizations_url":"https://api.github.com/users/cdbartholomew/orgs","repos_url":"https://api.github.com/users/cdbartholomew/repos","events_url":"https://api.github.com/users/cdbartholomew/events{/privacy}","received_events_url":"https://api.github.com/users/cdbartholomew/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T22:00:10Z","updated_at":"2020-04-23T22:00:10Z","author_association":"CONTRIBUTOR","body":"@qmnonic I am not sure if this is helpful, but I am able to upload functions via the REST API in versions 2.4.2 to 2.5.1 using this JavaScript code:\r\n\r\n```\r\ncreateFunction (cluster, functionPath, functionConfig, fileBlob, fileName) {\r\n    let formData = new FormData()\r\n    // Convert the functionConfig object to JSON then store it in a blob\r\n    var blob = new Blob([JSON.stringify(functionConfig)], { type: 'application/json' })\r\n    formData.append('functionConfig', blob)\r\n    formData.append('data', fileBlob, fileName)\r\n\r\n    const response = ApiBase().post(`${cluster}/functions/${functionPath}`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    })\r\n    return response\r\n  },\r\n```\r\nSorry, but I have no idea how to translate this to Python.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618693846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618703430","html_url":"https://github.com/apache/pulsar/issues/6809#issuecomment-618703430","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6809","id":618703430,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODcwMzQzMA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T22:26:35Z","updated_at":"2020-04-23T22:26:35Z","author_association":"MEMBER","body":"@qmnonic \r\n\r\nThe `v2` endpoint still takes a serialized json string of FunctionConfig:  `/admin/v3/functions/{tenant}/{namespace}/{functionName} `\r\n\r\nThere was a change in 2.5.0/2.4.1 - changing `v3` endpoint was changed to be a more structured way for uploading a FunctionConfig. \r\n\r\nWhat you basically need to add in the post payload is to make sure the `functionConfig` is a JSON  payload in the form data.\r\n\r\nI think what you can do in python:\r\n\r\n```\r\nmp_encoder = MultipartEncoder(\r\n        fields={\r\n            'url': 'file://pulsar/lib/org.apache.pulsar-pulsar-functions-api-examples-2.5.1.jar',\r\n            'functionConfig': (None, json.dumps({ 'tenant': 'example'}), 'application/json')\r\n        }\r\n    )\r\n    headers = {'Content-Type': mp_encoder.content_type}\r\n     response = requests.post(api_url, data=mp_encoder, headers=headers)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618703430/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618704820","html_url":"https://github.com/apache/pulsar/issues/6807#issuecomment-618704820","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6807","id":618704820,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODcwNDgyMA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T22:30:20Z","updated_at":"2020-04-23T22:30:20Z","author_association":"MEMBER","body":"Yes, I think Token Authentication Provider is not serializable. Use configuration to pass the auth plugins and params are the recommended way. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618704820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618764842","html_url":"https://github.com/apache/pulsar/pull/6776#issuecomment-618764842","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6776","id":618764842,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc2NDg0Mg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T02:20:11Z","updated_at":"2020-04-24T02:20:11Z","author_association":"CONTRIBUTOR","body":"@hangc0276 Good catch! @wolfstudy could please help take a look the last comment? maybe you need to move the `messageId` to the end of params list.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618764842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618775036","html_url":"https://github.com/apache/pulsar/issues/6811#issuecomment-618775036","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6811","id":618775036,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc3NTAzNg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T03:01:34Z","updated_at":"2020-04-24T03:01:34Z","author_association":"CONTRIBUTOR","body":"close via #6759","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618775036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618775410","html_url":"https://github.com/apache/pulsar/pull/6776#issuecomment-618775410","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6776","id":618775410,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc3NTQxMA==","user":{"login":"wolfstudy","id":20965307,"node_id":"MDQ6VXNlcjIwOTY1MzA3","avatar_url":"https://avatars.githubusercontent.com/u/20965307?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfstudy","html_url":"https://github.com/wolfstudy","followers_url":"https://api.github.com/users/wolfstudy/followers","following_url":"https://api.github.com/users/wolfstudy/following{/other_user}","gists_url":"https://api.github.com/users/wolfstudy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfstudy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfstudy/subscriptions","organizations_url":"https://api.github.com/users/wolfstudy/orgs","repos_url":"https://api.github.com/users/wolfstudy/repos","events_url":"https://api.github.com/users/wolfstudy/events{/privacy}","received_events_url":"https://api.github.com/users/wolfstudy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T03:02:51Z","updated_at":"2020-04-24T03:02:51Z","author_association":"MEMBER","body":"![image](https://user-images.githubusercontent.com/20965307/80170680-156e2380-861b-11ea-9bb1-d1bf3627df91.png)\r\n\r\n@hangc0276 @codelipenghui Thanks feedback, fixed done, PTAL again","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618775410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618779875","html_url":"https://github.com/apache/pulsar/pull/6812#issuecomment-618779875","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6812","id":618779875,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc3OTg3NQ==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T03:20:57Z","updated_at":"2020-04-24T03:20:57Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run cpp-tests","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618779875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618784699","html_url":"https://github.com/apache/pulsar/pull/6776#issuecomment-618784699","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6776","id":618784699,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc4NDY5OQ==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T03:42:21Z","updated_at":"2020-04-24T03:42:21Z","author_association":"CONTRIBUTOR","body":"> @hangc0276 Good catch! @wolfstudy could please help take a look the last comment? maybe you need to move the `messageId` to the end of params list.\r\n\r\nThanks for your feedback. @wolfstudy  maybe you should implement a constructor for `MessageIdImpl`，which param is a string, and you should parse string to `MessageIdImpl` field, such as ledgerId, entryId and partitionIndex.  Because the QueryParam just pass a string as param to messgeId, you should construct a MessageIdImpl object using the string param.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618784699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618786115","html_url":"https://github.com/apache/pulsar/pull/6775#issuecomment-618786115","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6775","id":618786115,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc4NjExNQ==","user":{"login":"zplinuxlover","id":23027077,"node_id":"MDQ6VXNlcjIzMDI3MDc3","avatar_url":"https://avatars.githubusercontent.com/u/23027077?v=4","gravatar_id":"","url":"https://api.github.com/users/zplinuxlover","html_url":"https://github.com/zplinuxlover","followers_url":"https://api.github.com/users/zplinuxlover/followers","following_url":"https://api.github.com/users/zplinuxlover/following{/other_user}","gists_url":"https://api.github.com/users/zplinuxlover/gists{/gist_id}","starred_url":"https://api.github.com/users/zplinuxlover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zplinuxlover/subscriptions","organizations_url":"https://api.github.com/users/zplinuxlover/orgs","repos_url":"https://api.github.com/users/zplinuxlover/repos","events_url":"https://api.github.com/users/zplinuxlover/events{/privacy}","received_events_url":"https://api.github.com/users/zplinuxlover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T03:48:51Z","updated_at":"2020-04-24T03:48:51Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618786115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618786155","html_url":"https://github.com/apache/pulsar/pull/6775#issuecomment-618786155","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6775","id":618786155,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc4NjE1NQ==","user":{"login":"zplinuxlover","id":23027077,"node_id":"MDQ6VXNlcjIzMDI3MDc3","avatar_url":"https://avatars.githubusercontent.com/u/23027077?v=4","gravatar_id":"","url":"https://api.github.com/users/zplinuxlover","html_url":"https://github.com/zplinuxlover","followers_url":"https://api.github.com/users/zplinuxlover/followers","following_url":"https://api.github.com/users/zplinuxlover/following{/other_user}","gists_url":"https://api.github.com/users/zplinuxlover/gists{/gist_id}","starred_url":"https://api.github.com/users/zplinuxlover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zplinuxlover/subscriptions","organizations_url":"https://api.github.com/users/zplinuxlover/orgs","repos_url":"https://api.github.com/users/zplinuxlover/repos","events_url":"https://api.github.com/users/zplinuxlover/events{/privacy}","received_events_url":"https://api.github.com/users/zplinuxlover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T03:49:07Z","updated_at":"2020-04-24T03:49:07Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618786155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618786237","html_url":"https://github.com/apache/pulsar/pull/6775#issuecomment-618786237","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6775","id":618786237,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc4NjIzNw==","user":{"login":"zplinuxlover","id":23027077,"node_id":"MDQ6VXNlcjIzMDI3MDc3","avatar_url":"https://avatars.githubusercontent.com/u/23027077?v=4","gravatar_id":"","url":"https://api.github.com/users/zplinuxlover","html_url":"https://github.com/zplinuxlover","followers_url":"https://api.github.com/users/zplinuxlover/followers","following_url":"https://api.github.com/users/zplinuxlover/following{/other_user}","gists_url":"https://api.github.com/users/zplinuxlover/gists{/gist_id}","starred_url":"https://api.github.com/users/zplinuxlover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zplinuxlover/subscriptions","organizations_url":"https://api.github.com/users/zplinuxlover/orgs","repos_url":"https://api.github.com/users/zplinuxlover/repos","events_url":"https://api.github.com/users/zplinuxlover/events{/privacy}","received_events_url":"https://api.github.com/users/zplinuxlover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T03:49:29Z","updated_at":"2020-04-24T03:49:29Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618786237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618793369","html_url":"https://github.com/apache/pulsar/pull/6812#issuecomment-618793369","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6812","id":618793369,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc5MzM2OQ==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T04:21:28Z","updated_at":"2020-04-24T04:21:28Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run unit-tests","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618793369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618794964","html_url":"https://github.com/apache/pulsar/issues/6806#issuecomment-618794964","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6806","id":618794964,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc5NDk2NA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T04:28:53Z","updated_at":"2020-04-24T04:28:53Z","author_association":"CONTRIBUTOR","body":"The problem may be the strange value (538973717) of `readIdx_` 。Could you provide the `payload` info of each frame?\r\n\r\nFollowing is the lifetime of `payload` (if I don't miss something):\r\n\r\nThe payload first constructed in `ClientConnection::processIncomingBuffer()`:\r\n\r\n```c++\r\n            SharedBuffer payload = SharedBuffer::copy(incomingBuffer_.data(), payloadSize);\r\n            incomingBuffer_.consume(payloadSize);\r\n            // payload.readIdx_ should be 0 here\r\n            handleIncomingMessage(incomingCmd_.message(), isChecksumValid, msgMetadata, payload);\r\n```\r\n\r\nThen it comes to `ClientConnection::handleIncomingMessage()`, `payload` was passed to `consumer->messageReceived()` without any changes.\r\n\r\nIn `ConsumerImpl::messageReceived`, `payload` may be modified in `decryptMessageIfNeeded()` and `uncompressMessageIfNeeded()`, while the previous may do nothing if encryption was not enabled.\r\n\r\nThen the payload was passed to the constructor of `Message` as `m.impl_->payload`, and next `m` was passed to `receiveIndividualMessagesFromBatch`:\r\n\r\n```c++\r\n    Message m(msg, metadata, payload, partitionIndex_);\r\n    m.impl_->cnx_ = cnx.get();\r\n    m.impl_->setTopicName(topic_);\r\n    m.impl_->setRedeliveryCount(msg.redelivery_count());\r\n\r\n    unsigned int numOfMessageReceived = 1;\r\n    if (metadata.has_num_messages_in_batch()) {\r\n        Lock lock(mutex_);\r\n        // m.impl_->payload.readIdx_ should be 0 here\r\n        numOfMessageReceived = receiveIndividualMessagesFromBatch(cnx, m, msg.redelivery_count());\r\n```\r\n\r\nAnd next:\r\n\r\n```c++\r\nuint32_t ConsumerImpl::receiveIndividualMessagesFromBatch(const ClientConnectionPtr& cnx,\r\n                                                          Message& batchedMessage, int redeliveryCount) {\r\n    unsigned int batchSize = batchedMessage.impl_->metadata.num_messages_in_batch();\r\n    batchAcknowledgementTracker_.receivedMessage(batchedMessage);   // it doesn't modify batchedMessage\r\n\r\n    int skippedMessages = 0;\r\n\r\n    for (int i = 0; i < batchSize; i++) {\r\n        // Now, batchedMessage.impl_->payload.readIdx_ becomes 538973717\r\n        Message msg = Commands::deSerializeSingleMessageInBatch(batchedMessage, i);\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618794964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618827497","html_url":"https://github.com/apache/pulsar/issues/6484#issuecomment-618827497","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6484","id":618827497,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODgyNzQ5Nw==","user":{"login":"lhotari","id":66864,"node_id":"MDQ6VXNlcjY2ODY0","avatar_url":"https://avatars.githubusercontent.com/u/66864?v=4","gravatar_id":"","url":"https://api.github.com/users/lhotari","html_url":"https://github.com/lhotari","followers_url":"https://api.github.com/users/lhotari/followers","following_url":"https://api.github.com/users/lhotari/following{/other_user}","gists_url":"https://api.github.com/users/lhotari/gists{/gist_id}","starred_url":"https://api.github.com/users/lhotari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lhotari/subscriptions","organizations_url":"https://api.github.com/users/lhotari/orgs","repos_url":"https://api.github.com/users/lhotari/repos","events_url":"https://api.github.com/users/lhotari/events{/privacy}","received_events_url":"https://api.github.com/users/lhotari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T06:25:26Z","updated_at":"2020-04-24T07:56:34Z","author_association":"MEMBER","body":"Shading protobuf might not solve all issues. The generated protobuf classes seem to have dependencies to specific protobuf version like already mentioned in https://github.com/apache/pulsar/issues/6484#issuecomment-600413743. Here's an example of a stack trace when using Pulsar client 2.5.1 and a Protobuf class compiled with Protobuf protoc version 3.11.4 :\r\n\r\n```\r\njava.lang.NoSuchMethodError: 'com.google.protobuf.Descriptors$FileDescriptor com.google.protobuf.Descriptors$FileDescriptor.internalBuildGeneratedFileFrom(java.lang.String[], com.google.protobuf.Descriptors$FileDescriptor[])'\r\n    at my.code.proto.SomeOuterClass.<clinit>(SomeOuterClass.java:44)\r\n    at my.code.proto.SomeApi.<clinit>(SomeApi.java:75)\r\n    at my.code.proto.Something.getDescriptor(Something.java:112)\r\n    ... 139 more\r\n```\r\n\r\n<details>\r\n<summary>Full stacktrace</summary>\r\n<pre>\r\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    at org.apache.pulsar.shade.org.apache.avro.protobuf.ProtobufData.getSchema(ProtobufData.java:189)\r\n    at org.apache.pulsar.client.impl.schema.ProtobufSchema.createProtobufAvroSchema(ProtobufSchema.java:64)\r\n    at org.apache.pulsar.client.impl.schema.ProtobufSchema.of(ProtobufSchema.java:120)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    at org.apache.pulsar.client.internal.DefaultImplementation.lambda$newProtobufSchema$25(DefaultImplementation.java:235)\r\n    at org.apache.pulsar.client.internal.ReflectionUtils.catchExceptions(ReflectionUtils.java:35)\r\n    at org.apache.pulsar.client.internal.DefaultImplementation.newProtobufSchema(DefaultImplementation.java:232)\r\n    at org.apache.pulsar.client.api.Schema.PROTOBUF(Schema.java:220)\r\n    ...\r\n    Caused by:\r\n    java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.apache.pulsar.shade.org.apache.avro.protobuf.ProtobufData.getSchema(ProtobufData.java:183)\r\n        ... 134 more\r\n\r\n        Caused by:\r\n        java.lang.NoSuchMethodError: 'com.google.protobuf.Descriptors$FileDescriptor com.google.protobuf.Descriptors$FileDescriptor.internalBuildGeneratedFileFrom(java.lang.String[], com.google.protobuf.Descriptors$FileDescriptor[])'\r\n            at my.code.proto.SomeOuterClass.<clinit>(SomeOuterClass.java:44)\r\n            at my.code.proto.SomeApi.<clinit>(SomeApi.java:75)\r\n            at my.code.proto.Something.getDescriptor(Something.java:112)\r\n            ... 139 more\r\n</pre>\r\n</details>\r\n\r\nIt seems that Apache Avro depends on a specific Protobuf version and it's not possible to upgrade it since it's shaded. Is there a plain \"unshaded\" Pulsar client available? \r\nIt seems that Avro 1.9.1 depends on Protobuf 3.6.1 . That was released 31-Jul-2018 . The newest Protobuf version is currently 3.11.4 . \r\nIs there a way to use a newer Protobuf version with Pulsar?\r\n\r\nUPDATE: it seems that my issue would also be resolved if pulsar-client-admin-2.5.x.jar would contain a shaded Protobuf version. In my case, the unshaded classes got loaded from pulsar-client-admin-2.5.1.jar and that caused the issue and exception. \r\n\r\nHowever my question is that why is protobuf shaded in the first place? Could it be an optional dependency instead so that the user would have to include protobuf if the user is using protobuf features of Pulsar. Anyhow the user's code is dependent on the protobuf version that the user protobuf classes have been compiled with. I investigated the issue and Protobuf versions <3.8.0 aren't compatible with Protobuf generated classes that have been compiled with Protobuf protoc >=3.8.0 (I tracked the breaking change in Protobuf Java to be dependent on this change https://github.com/protocolbuffers/protobuf/commit/d0f91c863ae0fbb75b41460c8bbb786ade197a0f#diff-8168b8744060c287ceee789b0eb8cbb4R403-R405)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618827497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618900141","html_url":"https://github.com/apache/pulsar/issues/6806#issuecomment-618900141","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6806","id":618900141,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODkwMDE0MQ==","user":{"login":"bschofield","id":1534502,"node_id":"MDQ6VXNlcjE1MzQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1534502?v=4","gravatar_id":"","url":"https://api.github.com/users/bschofield","html_url":"https://github.com/bschofield","followers_url":"https://api.github.com/users/bschofield/followers","following_url":"https://api.github.com/users/bschofield/following{/other_user}","gists_url":"https://api.github.com/users/bschofield/gists{/gist_id}","starred_url":"https://api.github.com/users/bschofield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschofield/subscriptions","organizations_url":"https://api.github.com/users/bschofield/orgs","repos_url":"https://api.github.com/users/bschofield/repos","events_url":"https://api.github.com/users/bschofield/events{/privacy}","received_events_url":"https://api.github.com/users/bschofield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T09:15:02Z","updated_at":"2020-04-24T09:38:23Z","author_association":"CONTRIBUTOR","body":"Yes I agree, that's the problem. In `Commands::deSerializeSingleMessageInBatch()` then you can see that the format of the uncompressed payload is expected as:\r\n\r\n```\r\n    // Format of batch message\r\n    // Each Message = [METADATA_SIZE][METADATA] [PAYLOAD]\r\n```\r\n\r\nIf you look at the dump of `uncompressedPayload` I gave above, then you can see that **the first four bytes are 0x20201611 = 538973713**. So what I think has happened is that the code has read a metadata size of 538973713 and tried to jump ahead to `readIdx_ =  538973713 + 4 = 538973717` (the extra 4 to jump over the metadata size field itself). This is off the end of the buffer and causes a segfault.\r\n\r\nSo, the question is: why was the uncompressed payload in this batch corrupted? I'm not sure but I suspect a data corruption bug in the producer.\r\n\r\nI manually cleared the backlog on the broken topic, and made two changes on the producer side: (1) I dropped the batch production size to 100 (it was 1000) and (2) I switched from LZ4 to Zlib compression. With those two changes in place I'm not now seeing the segfault. If I get it again I will do more debugging and let you know.\r\n\r\nIf I had kept the *compressed* payload then we could check out whether this is an LZ4 bug, but unfortunately I didn't think to take a dump of it :-(.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618900141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618963236","html_url":"https://github.com/apache/pulsar/pull/6782#issuecomment-618963236","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6782","id":618963236,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODk2MzIzNg==","user":{"login":"shiv4289","id":5674919,"node_id":"MDQ6VXNlcjU2NzQ5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5674919?v=4","gravatar_id":"","url":"https://api.github.com/users/shiv4289","html_url":"https://github.com/shiv4289","followers_url":"https://api.github.com/users/shiv4289/followers","following_url":"https://api.github.com/users/shiv4289/following{/other_user}","gists_url":"https://api.github.com/users/shiv4289/gists{/gist_id}","starred_url":"https://api.github.com/users/shiv4289/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiv4289/subscriptions","organizations_url":"https://api.github.com/users/shiv4289/orgs","repos_url":"https://api.github.com/users/shiv4289/repos","events_url":"https://api.github.com/users/shiv4289/events{/privacy}","received_events_url":"https://api.github.com/users/shiv4289/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T11:47:23Z","updated_at":"2020-04-24T11:47:23Z","author_association":"CONTRIBUTOR","body":"@rdhabalia @sijie I would like to put on the table why transient was added in the first place. Flink job manager stores the state of job (including pulsar client connection) for recovery. If authentication is non-transient, the auth token would get stored which has 2 implications:\r\n\r\n1. This is a red flag from security point of view.\r\n2. If my token supplier rotated the token between last state update and recovery, flink job will not be able to connect to pulsar.\r\n\r\n **I see the current patch keeps Authentication transient . Is this the final decision then?**","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618963236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618965055","html_url":"https://github.com/apache/pulsar/issues/4441#issuecomment-618965055","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4441","id":618965055,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODk2NTA1NQ==","user":{"login":"shiv4289","id":5674919,"node_id":"MDQ6VXNlcjU2NzQ5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5674919?v=4","gravatar_id":"","url":"https://api.github.com/users/shiv4289","html_url":"https://github.com/shiv4289","followers_url":"https://api.github.com/users/shiv4289/followers","following_url":"https://api.github.com/users/shiv4289/following{/other_user}","gists_url":"https://api.github.com/users/shiv4289/gists{/gist_id}","starred_url":"https://api.github.com/users/shiv4289/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiv4289/subscriptions","organizations_url":"https://api.github.com/users/shiv4289/orgs","repos_url":"https://api.github.com/users/shiv4289/repos","events_url":"https://api.github.com/users/shiv4289/events{/privacy}","received_events_url":"https://api.github.com/users/shiv4289/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T11:52:20Z","updated_at":"2020-04-24T11:52:20Z","author_association":"CONTRIBUTOR","body":"This was fixed by https://github.com/apache/pulsar/pull/4451","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618965055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618966037","html_url":"https://github.com/apache/pulsar/issues/5978#issuecomment-618966037","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5978","id":618966037,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODk2NjAzNw==","user":{"login":"shiv4289","id":5674919,"node_id":"MDQ6VXNlcjU2NzQ5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5674919?v=4","gravatar_id":"","url":"https://api.github.com/users/shiv4289","html_url":"https://github.com/shiv4289","followers_url":"https://api.github.com/users/shiv4289/followers","following_url":"https://api.github.com/users/shiv4289/following{/other_user}","gists_url":"https://api.github.com/users/shiv4289/gists{/gist_id}","starred_url":"https://api.github.com/users/shiv4289/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiv4289/subscriptions","organizations_url":"https://api.github.com/users/shiv4289/orgs","repos_url":"https://api.github.com/users/shiv4289/repos","events_url":"https://api.github.com/users/shiv4289/events{/privacy}","received_events_url":"https://api.github.com/users/shiv4289/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T11:54:57Z","updated_at":"2020-04-24T11:57:55Z","author_association":"CONTRIBUTOR","body":"sure @ivan970101. Please go ahead. I would be happy to be work as a reviewer.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618966037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618966655","html_url":"https://github.com/apache/pulsar/issues/4906#issuecomment-618966655","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4906","id":618966655,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODk2NjY1NQ==","user":{"login":"shiv4289","id":5674919,"node_id":"MDQ6VXNlcjU2NzQ5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5674919?v=4","gravatar_id":"","url":"https://api.github.com/users/shiv4289","html_url":"https://github.com/shiv4289","followers_url":"https://api.github.com/users/shiv4289/followers","following_url":"https://api.github.com/users/shiv4289/following{/other_user}","gists_url":"https://api.github.com/users/shiv4289/gists{/gist_id}","starred_url":"https://api.github.com/users/shiv4289/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiv4289/subscriptions","organizations_url":"https://api.github.com/users/shiv4289/orgs","repos_url":"https://api.github.com/users/shiv4289/repos","events_url":"https://api.github.com/users/shiv4289/events{/privacy}","received_events_url":"https://api.github.com/users/shiv4289/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T11:56:34Z","updated_at":"2020-04-24T11:56:34Z","author_association":"CONTRIBUTOR","body":"@dockerzhang I have started using pulsar-manager. So this is not planned. Sorry for the delayed response.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618966655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618973215","html_url":"https://github.com/apache/pulsar/issues/6806#issuecomment-618973215","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6806","id":618973215,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODk3MzIxNQ==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T12:13:10Z","updated_at":"2020-04-24T12:13:10Z","author_association":"CONTRIBUTOR","body":"Yeah, you're right. In `receiveIndividualMessagesFromBatch`, there is a loop to read the same payload, which is a batch of messages.\r\n\r\n```c++\r\nuint32_t ConsumerImpl::receiveIndividualMessagesFromBatch(const ClientConnectionPtr& cnx,\r\n                                                          Message& batchedMessage, int redeliveryCount) {\r\n    unsigned int batchSize = batchedMessage.impl_->metadata.num_messages_in_batch();\r\n    // ...\r\n    for (int i = 0; i < batchSize; i++) {\r\n        Message msg = Commands::deSerializeSingleMessageInBatch(batchedMessage, i);\r\n        // ...\r\n    }\r\n    // ...\r\n    return batchSize - skippedMessages;\r\n}\r\n```\r\n\r\nFrom your dump of payload, the 1st `deSerializeSingleMessageInBatch` read the first 4 bytes, then the internal `readIdx_` became 538973713 and crashed in the 2nd loop because `readIdx_` exceeded `capacity_`.\r\n\r\nAdditional, I suggest you should make only one change as a control variable on the producer side. And maybe it's better to use synchronous `receive`, then if it crashed again, the consumer couldn't reach the line of `acknowledge`, you could restart the consumer and read the same payload again.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618973215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618992822","html_url":"https://github.com/apache/pulsar/issues/6809#issuecomment-618992822","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6809","id":618992822,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODk5MjgyMg==","user":{"login":"MattMacGillivray","id":51833,"node_id":"MDQ6VXNlcjUxODMz","avatar_url":"https://avatars.githubusercontent.com/u/51833?v=4","gravatar_id":"","url":"https://api.github.com/users/MattMacGillivray","html_url":"https://github.com/MattMacGillivray","followers_url":"https://api.github.com/users/MattMacGillivray/followers","following_url":"https://api.github.com/users/MattMacGillivray/following{/other_user}","gists_url":"https://api.github.com/users/MattMacGillivray/gists{/gist_id}","starred_url":"https://api.github.com/users/MattMacGillivray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MattMacGillivray/subscriptions","organizations_url":"https://api.github.com/users/MattMacGillivray/orgs","repos_url":"https://api.github.com/users/MattMacGillivray/repos","events_url":"https://api.github.com/users/MattMacGillivray/events{/privacy}","received_events_url":"https://api.github.com/users/MattMacGillivray/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T12:58:18Z","updated_at":"2020-04-24T12:58:18Z","author_association":"NONE","body":" @sijie solution works. thanks!\r\n\r\nThanks @cdbartholomew for the example !","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/618992822/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619018399","html_url":"https://github.com/apache/pulsar/issues/6806#issuecomment-619018399","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6806","id":619018399,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTAxODM5OQ==","user":{"login":"bschofield","id":1534502,"node_id":"MDQ6VXNlcjE1MzQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1534502?v=4","gravatar_id":"","url":"https://api.github.com/users/bschofield","html_url":"https://github.com/bschofield","followers_url":"https://api.github.com/users/bschofield/followers","following_url":"https://api.github.com/users/bschofield/following{/other_user}","gists_url":"https://api.github.com/users/bschofield/gists{/gist_id}","starred_url":"https://api.github.com/users/bschofield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschofield/subscriptions","organizations_url":"https://api.github.com/users/bschofield/orgs","repos_url":"https://api.github.com/users/bschofield/repos","events_url":"https://api.github.com/users/bschofield/events{/privacy}","received_events_url":"https://api.github.com/users/bschofield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T13:42:39Z","updated_at":"2020-04-24T13:42:39Z","author_association":"CONTRIBUTOR","body":"You're right, I should only change one thing at a time, but this is my \"production\" cluster and I need it to be up so was a little desparate! :smile: \r\n\r\nThe version of LZ4 used in the current C++ client is 1.7.1 which is from back in 2015/2016 (check `pulsar-client-cpp/lib/lz4`, line 50). There have been a couple of data corruption issues discovered and fixed in LZ4 since then.\r\n\r\n@sijie maybe you want to have someone upgrade the `lz4.c/lz4.h` files in the C++ client to the latest version?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619018399/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619045631","html_url":"https://github.com/apache/pulsar/issues/4937#issuecomment-619045631","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4937","id":619045631,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTA0NTYzMQ==","user":{"login":"gh777777","id":48472723,"node_id":"MDQ6VXNlcjQ4NDcyNzIz","avatar_url":"https://avatars.githubusercontent.com/u/48472723?v=4","gravatar_id":"","url":"https://api.github.com/users/gh777777","html_url":"https://github.com/gh777777","followers_url":"https://api.github.com/users/gh777777/followers","following_url":"https://api.github.com/users/gh777777/following{/other_user}","gists_url":"https://api.github.com/users/gh777777/gists{/gist_id}","starred_url":"https://api.github.com/users/gh777777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gh777777/subscriptions","organizations_url":"https://api.github.com/users/gh777777/orgs","repos_url":"https://api.github.com/users/gh777777/repos","events_url":"https://api.github.com/users/gh777777/events{/privacy}","received_events_url":"https://api.github.com/users/gh777777/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T14:29:41Z","updated_at":"2020-04-24T14:29:41Z","author_association":"NONE","body":"> @pouledodue What was the resolution on this?\r\nMe too! So what was the resolution on this? The issue still exists in pulsar v2.5.1. After deplying a 3-node pulsar cluster, I tried several times to create, trigger and delete the example python function (examples/python_examples/exclamation_function.py). Then this error ocurred and I can not run the function any more, even by recreating the function.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619045631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619047942","html_url":"https://github.com/apache/pulsar/pull/6800#issuecomment-619047942","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6800","id":619047942,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTA0Nzk0Mg==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T14:33:40Z","updated_at":"2020-04-24T14:33:40Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619047942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619048137","html_url":"https://github.com/apache/pulsar/pull/6801#issuecomment-619048137","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6801","id":619048137,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTA0ODEzNw==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T14:34:01Z","updated_at":"2020-04-24T14:34:01Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619048137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619075512","html_url":"https://github.com/apache/pulsar/issues/6806#issuecomment-619075512","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6806","id":619075512,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTA3NTUxMg==","user":{"login":"bschofield","id":1534502,"node_id":"MDQ6VXNlcjE1MzQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1534502?v=4","gravatar_id":"","url":"https://api.github.com/users/bschofield","html_url":"https://github.com/bschofield","followers_url":"https://api.github.com/users/bschofield/followers","following_url":"https://api.github.com/users/bschofield/following{/other_user}","gists_url":"https://api.github.com/users/bschofield/gists{/gist_id}","starred_url":"https://api.github.com/users/bschofield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschofield/subscriptions","organizations_url":"https://api.github.com/users/bschofield/orgs","repos_url":"https://api.github.com/users/bschofield/repos","events_url":"https://api.github.com/users/bschofield/events{/privacy}","received_events_url":"https://api.github.com/users/bschofield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T15:19:40Z","updated_at":"2020-04-24T15:19:40Z","author_association":"CONTRIBUTOR","body":"I see that the Java client uses lz4-java 1.5.0, which is based on LZ4 1.8.3. That's also out of date. So both the Java and C++ clients should probably be upgraded to avoid possible corruption bugs.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619075512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619188317","html_url":"https://github.com/apache/pulsar/pull/6379#issuecomment-619188317","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6379","id":619188317,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTE4ODMxNw==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T18:59:23Z","updated_at":"2020-05-07T02:20:48Z","author_association":"CONTRIBUTOR","body":"@nlu90 Hi, I'm working on this feature based on your PR. Thanks.\r\n\r\nAdd the flag `nullValue` in the `MessageMetadata` and `SingleMessageMetadata` default value is false. If the message value is null set the flag to true. When users invoke the method `message.getValue()` or `message.getData()`, then check the `nullValue` flag, if the flag is true return `null`.\r\n\r\nSupport users to peek the null value message by admin API.\r\n\r\nUsers could send a `null` value message as below.\r\n```\r\nproducer.newMessage().value(null).send();\r\n```\r\n\r\n@nlu90 @sijie @jiazhai @codelipenghui Please have a review, thanks.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619188317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619296983","html_url":"https://github.com/apache/pulsar/pull/6782#issuecomment-619296983","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6782","id":619296983,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTI5Njk4Mw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T01:14:09Z","updated_at":"2020-04-25T01:14:09Z","author_association":"CONTRIBUTOR","body":"@shiv4289 \r\n> If authentication is non-transient, the auth token would get stored which has 2 implications:\r\n\r\nUmm.. If we serialize `AuthenticationToken` then it won't serialize token and store it instead it tries to serialize tokenSupplier and if supplier fetches token dynamically then there shouldn't be the issue. But in `AuthenticationToken` class it can be the issue as it keeps token in memory.\r\n\r\n[AuthenticationToken.java](https://github.com/apache/pulsar/blob/master/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/AuthenticationToken.java#L41) is not serializble because `supplierToken` is not serializble. To address security issue and serialiable issue, can't we just mark `supplierToken` as a transient field and #4284  is anyway builds `Authentication` from auth-plugin classname and param. So, we can still have `Authentication` serializable and if any Auth-impl class has non-serializable variable then it can be transient and auth can be build using params.\r\n\r\n> I see the current patch keeps Authentication transient . Is this the final decision then?\r\n\r\nNo, I was waiting for the reply with auth-classname which is not serializable. #4284 completely broke storm-adapter because user sets auths using ClientBuilder which doesn't set authPlugin/param into `ClientConfigurationData` and storm internally passes `ClientConfigurationData` to PulsarClient so, it always sees authentication null. I have added another commit to fix that issue: https://github.com/apache/pulsar/pull/6782/commits/92510e166ecbc17e78dd89ccae46049910c87c0c ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619296983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619297636","html_url":"https://github.com/apache/pulsar/pull/6782#issuecomment-619297636","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6782","id":619297636,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTI5NzYzNg==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T01:19:19Z","updated_at":"2020-04-25T01:19:19Z","author_association":"CONTRIBUTOR","body":"can you please confirm the change if that will work for you.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619297636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619302707","html_url":"https://github.com/apache/pulsar/pull/6812#issuecomment-619302707","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6812","id":619302707,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTMwMjcwNw==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T02:02:21Z","updated_at":"2020-04-25T02:02:21Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619302707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619310710","html_url":"https://github.com/apache/pulsar/pull/6812#issuecomment-619310710","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6812","id":619310710,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTMxMDcxMA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T03:08:34Z","updated_at":"2020-04-25T03:08:34Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619310710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619322036","html_url":"https://github.com/apache/pulsar/issues/6815#issuecomment-619322036","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6815","id":619322036,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTMyMjAzNg==","user":{"login":"zr-hebo","id":26314914,"node_id":"MDQ6VXNlcjI2MzE0OTE0","avatar_url":"https://avatars.githubusercontent.com/u/26314914?v=4","gravatar_id":"","url":"https://api.github.com/users/zr-hebo","html_url":"https://github.com/zr-hebo","followers_url":"https://api.github.com/users/zr-hebo/followers","following_url":"https://api.github.com/users/zr-hebo/following{/other_user}","gists_url":"https://api.github.com/users/zr-hebo/gists{/gist_id}","starred_url":"https://api.github.com/users/zr-hebo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zr-hebo/subscriptions","organizations_url":"https://api.github.com/users/zr-hebo/orgs","repos_url":"https://api.github.com/users/zr-hebo/repos","events_url":"https://api.github.com/users/zr-hebo/events{/privacy}","received_events_url":"https://api.github.com/users/zr-hebo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T05:05:55Z","updated_at":"2020-04-25T05:05:55Z","author_association":"NONE","body":"Added some logs, IP desensitized\r\n```\r\n11:49:10.765 [pulsar-client-io-1-1] INFO  org.apache.pulsar.client.impl.ConnectionPool - [[id: 0xc838a204, L:/1.1.7.183:48176 - R:server_bz/1.1.7.183:6650]] Connected to server\r\n11:49:11.720 [pulsar-client-io-1-1] INFO  org.apache.pulsar.client.impl.ConsumerStatsRecorderImpl - Starting Pulsar consumer status recorder with config: {\r\n  \"topicNames\" : [ \"my-tenant/my-namespace/hydra\" ],\r\n  \"topicsPattern\" : null,\r\n  \"subscriptionName\" : \"haha\",\r\n  \"subscriptionType\" : \"Exclusive\",\r\n  \"receiverQueueSize\" : 1000,\r\n  \"acknowledgementsGroupTimeMicros\" : 100000,\r\n  \"negativeAckRedeliveryDelayMicros\" : 60000000,\r\n  \"maxTotalReceiverQueueSizeAcrossPartitions\" : 50000,\r\n  \"consumerName\" : null,\r\n  \"ackTimeoutMillis\" : 0,\r\n  \"tickDurationMillis\" : 1000,\r\n  \"priorityLevel\" : 0,\r\n  \"cryptoFailureAction\" : \"FAIL\",\r\n  \"properties\" : { },\r\n  \"readCompacted\" : false,\r\n  \"subscriptionInitialPosition\" : \"Latest\",\r\n  \"patternAutoDiscoveryPeriod\" : 1,\r\n  \"regexSubscriptionMode\" : \"PersistentOnly\",\r\n  \"deadLetterPolicy\" : null,\r\n  \"autoUpdatePartitions\" : true,\r\n  \"replicateSubscriptionState\" : false,\r\n  \"resetIncludeHead\" : false,\r\n  \"keySharedPolicy\" : null\r\n}\r\n11:49:11.724 [pulsar-client-io-1-1] INFO  org.apache.pulsar.client.impl.ConsumerStatsRecorderImpl - Pulsar client config: {\r\n  \"serviceUrl\" : \"pulsar://server_bz:6650/\",\r\n  \"authPluginClassName\" : null,\r\n  \"authParams\" : null,\r\n  \"operationTimeoutMs\" : 30000,\r\n  \"statsIntervalSeconds\" : 60,\r\n  \"numIoThreads\" : 1,\r\n  \"numListenerThreads\" : 1,\r\n  \"connectionsPerBroker\" : 1,\r\n  \"useTcpNoDelay\" : true,\r\n  \"useTls\" : false,\r\n  \"tlsTrustCertsFilePath\" : \"\",\r\n  \"tlsAllowInsecureConnection\" : false,\r\n  \"tlsHostnameVerificationEnable\" : false,\r\n  \"concurrentLookupRequest\" : 5000,\r\n  \"maxLookupRequest\" : 50000,\r\n  \"maxNumberOfRejectedRequestPerConnection\" : 50,\r\n  \"keepAliveIntervalSeconds\" : 30,\r\n  \"connectionTimeoutMs\" : 10000,\r\n  \"requestTimeoutMs\" : 60000,\r\n  \"initialBackoffIntervalNanos\" : 100000000,\r\n  \"maxBackoffIntervalNanos\" : 60000000000\r\n}\r\n11:49:15.075 [pulsar-client-io-1-1] INFO  org.apache.pulsar.client.impl.ConnectionPool - [[id: 0xe122a512, L:/1.1.7.183:35566 - R:server_bj/1.50.11.15:6650]] Connected to server\r\n11:49:15.947 [pulsar-client-io-1-1] INFO  org.apache.pulsar.client.impl.ConsumerImpl - [my-tenant/my-namespace/hydra][haha] Subscribing to topic on cnx [id: 0xe122a512, L:/1.1.7.183:35566 - R:server_bj/1.50.11.15:6650]\r\n11:49:16.420 [pulsar-client-io-1-1] INFO  org.apache.pulsar.client.impl.ConsumerImpl - [my-tenant/my-namespace/hydra][haha] Subscribed to topic on server_bj/1.50.11.15:6650 -- consumer: 0\r\n\r\n\r\n11:49:23.836 [pulsar-client-io-1-1] INFO  com.scurrilous.circe.checksum.Crc32cIntChecksum - SSE4.2 CRC32C provider initialized\r\n----- got message -----\r\nhahae\r\n----- got message -----\r\nhahae\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619322036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619322707","html_url":"https://github.com/apache/pulsar/pull/6814#issuecomment-619322707","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6814","id":619322707,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTMyMjcwNw==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T05:12:39Z","updated_at":"2020-04-25T05:12:39Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619322707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619325747","html_url":"https://github.com/apache/pulsar/pull/6379#issuecomment-619325747","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6379","id":619325747,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTMyNTc0Nw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T05:40:49Z","updated_at":"2020-04-25T05:40:49Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619325747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619333380","html_url":"https://github.com/apache/pulsar/issues/6496#issuecomment-619333380","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6496","id":619333380,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTMzMzM4MA==","user":{"login":"wonko","id":3459,"node_id":"MDQ6VXNlcjM0NTk=","avatar_url":"https://avatars.githubusercontent.com/u/3459?v=4","gravatar_id":"","url":"https://api.github.com/users/wonko","html_url":"https://github.com/wonko","followers_url":"https://api.github.com/users/wonko/followers","following_url":"https://api.github.com/users/wonko/following{/other_user}","gists_url":"https://api.github.com/users/wonko/gists{/gist_id}","starred_url":"https://api.github.com/users/wonko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonko/subscriptions","organizations_url":"https://api.github.com/users/wonko/orgs","repos_url":"https://api.github.com/users/wonko/repos","events_url":"https://api.github.com/users/wonko/events{/privacy}","received_events_url":"https://api.github.com/users/wonko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T07:06:23Z","updated_at":"2020-04-25T07:06:23Z","author_association":"NONE","body":"A gentle nudge here... What can we do to move this forward, or can someone acknowledge if this is intended or a bug?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619333380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619342090","html_url":"https://github.com/apache/pulsar/pull/6816#issuecomment-619342090","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6816","id":619342090,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTM0MjA5MA==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T08:25:50Z","updated_at":"2020-04-25T08:25:50Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619342090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619352086","html_url":"https://github.com/apache/pulsar/pull/6770#issuecomment-619352086","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6770","id":619352086,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTM1MjA4Ng==","user":{"login":"vzhikserg","id":7816474,"node_id":"MDQ6VXNlcjc4MTY0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816474?v=4","gravatar_id":"","url":"https://api.github.com/users/vzhikserg","html_url":"https://github.com/vzhikserg","followers_url":"https://api.github.com/users/vzhikserg/followers","following_url":"https://api.github.com/users/vzhikserg/following{/other_user}","gists_url":"https://api.github.com/users/vzhikserg/gists{/gist_id}","starred_url":"https://api.github.com/users/vzhikserg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzhikserg/subscriptions","organizations_url":"https://api.github.com/users/vzhikserg/orgs","repos_url":"https://api.github.com/users/vzhikserg/repos","events_url":"https://api.github.com/users/vzhikserg/events{/privacy}","received_events_url":"https://api.github.com/users/vzhikserg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T09:43:16Z","updated_at":"2020-04-25T09:43:16Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619352086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619358233","html_url":"https://github.com/apache/pulsar/pull/6814#issuecomment-619358233","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6814","id":619358233,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTM1ODIzMw==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T10:36:19Z","updated_at":"2020-04-25T10:36:19Z","author_association":"CONTRIBUTOR","body":"> The change looks good. Could you please help add the description of the new metric into https://pulsar.apache.org/docs/en/reference-metrics/#broker? This is very helpful for users to understand these new metrics.\r\n\r\nthanks for your feedback. I have update the document.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619358233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619361227","html_url":"https://github.com/apache/pulsar/pull/6794#issuecomment-619361227","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6794","id":619361227,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTM2MTIyNw==","user":{"login":"equanz","id":12148992,"node_id":"MDQ6VXNlcjEyMTQ4OTky","avatar_url":"https://avatars.githubusercontent.com/u/12148992?v=4","gravatar_id":"","url":"https://api.github.com/users/equanz","html_url":"https://github.com/equanz","followers_url":"https://api.github.com/users/equanz/followers","following_url":"https://api.github.com/users/equanz/following{/other_user}","gists_url":"https://api.github.com/users/equanz/gists{/gist_id}","starred_url":"https://api.github.com/users/equanz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/equanz/subscriptions","organizations_url":"https://api.github.com/users/equanz/orgs","repos_url":"https://api.github.com/users/equanz/repos","events_url":"https://api.github.com/users/equanz/events{/privacy}","received_events_url":"https://api.github.com/users/equanz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T10:59:08Z","updated_at":"2020-04-25T10:59:08Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619361227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619373142","html_url":"https://github.com/apache/pulsar/pull/6776#issuecomment-619373142","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6776","id":619373142,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTM3MzE0Mg==","user":{"login":"wolfstudy","id":20965307,"node_id":"MDQ6VXNlcjIwOTY1MzA3","avatar_url":"https://avatars.githubusercontent.com/u/20965307?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfstudy","html_url":"https://github.com/wolfstudy","followers_url":"https://api.github.com/users/wolfstudy/followers","following_url":"https://api.github.com/users/wolfstudy/following{/other_user}","gists_url":"https://api.github.com/users/wolfstudy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfstudy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfstudy/subscriptions","organizations_url":"https://api.github.com/users/wolfstudy/orgs","repos_url":"https://api.github.com/users/wolfstudy/repos","events_url":"https://api.github.com/users/wolfstudy/events{/privacy}","received_events_url":"https://api.github.com/users/wolfstudy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T12:36:15Z","updated_at":"2020-04-25T12:36:15Z","author_association":"MEMBER","body":"> > @hangc0276 Good catch! @wolfstudy could please help take a look the last comment? maybe you need to move the `messageId` to the end of params list.\r\n> \r\n> Thanks for your feedback. @wolfstudy maybe you should implement a constructor for `MessageIdImpl`，which param is a string, and you should parse string to `MessageIdImpl` field, such as ledgerId, entryId and partitionIndex. Because the QueryParam just pass a string as param to messgeId, you should construct a MessageIdImpl object using the string param.\r\n\r\nGood idea, maybe we can send a new issue to track this, the proposal will change the current default behavior. We can modify it in a separate pull request.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619373142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619373170","html_url":"https://github.com/apache/pulsar/pull/6776#issuecomment-619373170","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6776","id":619373170,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTM3MzE3MA==","user":{"login":"wolfstudy","id":20965307,"node_id":"MDQ6VXNlcjIwOTY1MzA3","avatar_url":"https://avatars.githubusercontent.com/u/20965307?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfstudy","html_url":"https://github.com/wolfstudy","followers_url":"https://api.github.com/users/wolfstudy/followers","following_url":"https://api.github.com/users/wolfstudy/following{/other_user}","gists_url":"https://api.github.com/users/wolfstudy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfstudy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfstudy/subscriptions","organizations_url":"https://api.github.com/users/wolfstudy/orgs","repos_url":"https://api.github.com/users/wolfstudy/repos","events_url":"https://api.github.com/users/wolfstudy/events{/privacy}","received_events_url":"https://api.github.com/users/wolfstudy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T12:36:30Z","updated_at":"2020-04-25T12:36:30Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619373170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619380515","html_url":"https://github.com/apache/pulsar/pull/6776#issuecomment-619380515","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6776","id":619380515,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTM4MDUxNQ==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T13:34:24Z","updated_at":"2020-04-25T13:34:24Z","author_association":"CONTRIBUTOR","body":"> > > @hangc0276 Good catch! @wolfstudy could please help take a look the last comment? maybe you need to move the `messageId` to the end of params list.\r\n> > \r\n> > \r\n> > Thanks for your feedback. @wolfstudy maybe you should implement a constructor for `MessageIdImpl`，which param is a string, and you should parse string to `MessageIdImpl` field, such as ledgerId, entryId and partitionIndex. Because the QueryParam just pass a string as param to messgeId, you should construct a MessageIdImpl object using the string param.\r\n> \r\n> Good idea, maybe we can send a new issue to track this, the proposal will change the current default behavior. We can modify it in a separate pull request.\r\n\r\nBut i am afraid your present implementation will compile failed due to lack of `MessageIdImpl` constructor for `@QueryParam(\"messageId\") @DefaultValue(\"latest\") MessageIdImpl messageId,`","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619380515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619388651","html_url":"https://github.com/apache/pulsar/pull/6776#issuecomment-619388651","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6776","id":619388651,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTM4ODY1MQ==","user":{"login":"wolfstudy","id":20965307,"node_id":"MDQ6VXNlcjIwOTY1MzA3","avatar_url":"https://avatars.githubusercontent.com/u/20965307?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfstudy","html_url":"https://github.com/wolfstudy","followers_url":"https://api.github.com/users/wolfstudy/followers","following_url":"https://api.github.com/users/wolfstudy/following{/other_user}","gists_url":"https://api.github.com/users/wolfstudy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfstudy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfstudy/subscriptions","organizations_url":"https://api.github.com/users/wolfstudy/orgs","repos_url":"https://api.github.com/users/wolfstudy/repos","events_url":"https://api.github.com/users/wolfstudy/events{/privacy}","received_events_url":"https://api.github.com/users/wolfstudy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T14:34:25Z","updated_at":"2020-04-25T14:34:25Z","author_association":"MEMBER","body":"> But i am afraid your present implementation will compile failed due to lack of `MessageIdImpl` constructor for `@QueryParam(\"messageId\") @DefaultValue(\"latest\") MessageIdImpl messageId,`\r\n\r\nYes i was wrong, maybe we should proceed in the following way:\r\n\r\n```\r\n            @ApiParam(name = \"messageId\", value = \"messageId where to create the subscription. \" +\r\n                    \"It can be 'latest', 'earliest' or (ledgerId:entryId)\",\r\n                    defaultValue = \"latest\",\r\n                    allowableValues = \"latest,earliest,ledgerId:entryId\"\r\n            ) \r\n            MessageIdImpl messageId,\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619388651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619467005","html_url":"https://github.com/apache/pulsar/pull/6775#issuecomment-619467005","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6775","id":619467005,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTQ2NzAwNQ==","user":{"login":"zplinuxlover","id":23027077,"node_id":"MDQ6VXNlcjIzMDI3MDc3","avatar_url":"https://avatars.githubusercontent.com/u/23027077?v=4","gravatar_id":"","url":"https://api.github.com/users/zplinuxlover","html_url":"https://github.com/zplinuxlover","followers_url":"https://api.github.com/users/zplinuxlover/followers","following_url":"https://api.github.com/users/zplinuxlover/following{/other_user}","gists_url":"https://api.github.com/users/zplinuxlover/gists{/gist_id}","starred_url":"https://api.github.com/users/zplinuxlover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zplinuxlover/subscriptions","organizations_url":"https://api.github.com/users/zplinuxlover/orgs","repos_url":"https://api.github.com/users/zplinuxlover/repos","events_url":"https://api.github.com/users/zplinuxlover/events{/privacy}","received_events_url":"https://api.github.com/users/zplinuxlover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T01:58:28Z","updated_at":"2020-04-26T01:58:28Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619467005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619473059","html_url":"https://github.com/apache/pulsar/pull/6775#issuecomment-619473059","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6775","id":619473059,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTQ3MzA1OQ==","user":{"login":"zplinuxlover","id":23027077,"node_id":"MDQ6VXNlcjIzMDI3MDc3","avatar_url":"https://avatars.githubusercontent.com/u/23027077?v=4","gravatar_id":"","url":"https://api.github.com/users/zplinuxlover","html_url":"https://github.com/zplinuxlover","followers_url":"https://api.github.com/users/zplinuxlover/followers","following_url":"https://api.github.com/users/zplinuxlover/following{/other_user}","gists_url":"https://api.github.com/users/zplinuxlover/gists{/gist_id}","starred_url":"https://api.github.com/users/zplinuxlover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zplinuxlover/subscriptions","organizations_url":"https://api.github.com/users/zplinuxlover/orgs","repos_url":"https://api.github.com/users/zplinuxlover/repos","events_url":"https://api.github.com/users/zplinuxlover/events{/privacy}","received_events_url":"https://api.github.com/users/zplinuxlover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T03:03:48Z","updated_at":"2020-04-26T03:03:48Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619473059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619475445","html_url":"https://github.com/apache/pulsar/pull/6524#issuecomment-619475445","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6524","id":619475445,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTQ3NTQ0NQ==","user":{"login":"ltamber","id":5679413,"node_id":"MDQ6VXNlcjU2Nzk0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/5679413?v=4","gravatar_id":"","url":"https://api.github.com/users/ltamber","html_url":"https://github.com/ltamber","followers_url":"https://api.github.com/users/ltamber/followers","following_url":"https://api.github.com/users/ltamber/following{/other_user}","gists_url":"https://api.github.com/users/ltamber/gists{/gist_id}","starred_url":"https://api.github.com/users/ltamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltamber/subscriptions","organizations_url":"https://api.github.com/users/ltamber/orgs","repos_url":"https://api.github.com/users/ltamber/repos","events_url":"https://api.github.com/users/ltamber/events{/privacy}","received_events_url":"https://api.github.com/users/ltamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T03:32:52Z","updated_at":"2020-04-26T03:32:52Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619475445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619477045","html_url":"https://github.com/apache/pulsar/pull/6776#issuecomment-619477045","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6776","id":619477045,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTQ3NzA0NQ==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T03:53:34Z","updated_at":"2020-04-26T03:53:34Z","author_association":"CONTRIBUTOR","body":"> > But i am afraid your present implementation will compile failed due to lack of `MessageIdImpl` constructor for `@QueryParam(\"messageId\") @DefaultValue(\"latest\") MessageIdImpl messageId,`\r\n> \r\n> Yes i was wrong, maybe we should proceed in the following way:\r\n> \r\n> ```\r\n>             @ApiParam(name = \"messageId\", value = \"messageId where to create the subscription. \" +\r\n>                     \"It can be 'latest', 'earliest' or (ledgerId:entryId)\",\r\n>                     defaultValue = \"latest\",\r\n>                     allowableValues = \"latest,earliest,ledgerId:entryId\"\r\n>             ) \r\n>             MessageIdImpl messageId,\r\n> ```\r\n\r\nThis implementation will not expose messageId to Query param, maybe we'd better to use another issue to track it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619477045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619515641","html_url":"https://github.com/apache/pulsar/issues/6785#issuecomment-619515641","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6785","id":619515641,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTUxNTY0MQ==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T09:17:38Z","updated_at":"2020-04-26T09:17:38Z","author_association":"CONTRIBUTOR","body":"It's the flaw of C wrapper. C++ `MessageId` provide `setTopicName()` / `getTopicName()` methods, but the C wrapper doesn't have similar functions like:\r\n\r\n```c\r\nvoid pulsar_message_set_topic_name(pulsar_message_id_t *messageId, const char* topicName);\r\nchar* pulsar_message_get_topic_name(pulsar_message_id_t *messageId);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619515641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619516449","html_url":"https://github.com/apache/pulsar/issues/6785#issuecomment-619516449","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6785","id":619516449,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTUxNjQ0OQ==","user":{"login":"bschofield","id":1534502,"node_id":"MDQ6VXNlcjE1MzQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1534502?v=4","gravatar_id":"","url":"https://api.github.com/users/bschofield","html_url":"https://github.com/bschofield","followers_url":"https://api.github.com/users/bschofield/followers","following_url":"https://api.github.com/users/bschofield/following{/other_user}","gists_url":"https://api.github.com/users/bschofield/gists{/gist_id}","starred_url":"https://api.github.com/users/bschofield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschofield/subscriptions","organizations_url":"https://api.github.com/users/bschofield/orgs","repos_url":"https://api.github.com/users/bschofield/repos","events_url":"https://api.github.com/users/bschofield/events{/privacy}","received_events_url":"https://api.github.com/users/bschofield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T09:23:17Z","updated_at":"2020-04-26T09:23:17Z","author_association":"CONTRIBUTOR","body":"Yes. I tried adding those functions to the C wrapper but I got stuck because `MessageId` takes a `std::string&` and there's no `std::string` in C, so nothing to take a reference of.\r\n\r\nI guess I could add some C wrapper functions that do `new std::string()` and `delete` but that feels a little weird.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619516449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619524556","html_url":"https://github.com/apache/pulsar/issues/6785#issuecomment-619524556","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6785","id":619524556,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTUyNDU1Ng==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T10:23:52Z","updated_at":"2020-04-26T10:23:52Z","author_association":"CONTRIBUTOR","body":"The C wrapper of `MessageId` has a `MessageId` field:\r\n\r\n```c++\r\nstruct _pulsar_message_id {\r\n    pulsar::MessageId messageId;\r\n};\r\n```\r\n\r\nAnd you can convert `std::string` to c-style string by:\r\n\r\n```c++\r\nchar* string_to_raw_c_string(const std::string& s) {\r\n  char* c_str = static_cast<char*>(malloc(s.size() + 1));\r\n  memcpy(c_str, s.c_str(), s.size() + 1);  // C++11 ensures that std::string has a '\\0' terminator\r\n  return c_str;\r\n}\r\n```\r\n\r\nSo you can implement the C functions like following code:\r\n\r\n```c++\r\nvoid pulsar_message_set_topic_name(pulsar_message_id_t *messageId, const char* topicName) {\r\n    messageId->messageId->setTopicName(topicName);\r\n}\r\n\r\nchar* pulsar_message_get_topic_name(pulsar_message_id_t *messageId) {\r\n    return string_to_raw_c_string(messageId->messageId->getTopicName());\r\n}\r\n```\r\n\r\nRemind that the return value of `char*` must be freed. And use `PULSAR_PUBLIC` to expose these C functions. I'm not familiar with cgo (we use SWIG to wrap C++ client), it seems that it's convenient to convert between `char*` and go string in cgo.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619524556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619525256","html_url":"https://github.com/apache/pulsar/issues/6785#issuecomment-619525256","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6785","id":619525256,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTUyNTI1Ng==","user":{"login":"bschofield","id":1534502,"node_id":"MDQ6VXNlcjE1MzQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1534502?v=4","gravatar_id":"","url":"https://api.github.com/users/bschofield","html_url":"https://github.com/bschofield","followers_url":"https://api.github.com/users/bschofield/followers","following_url":"https://api.github.com/users/bschofield/following{/other_user}","gists_url":"https://api.github.com/users/bschofield/gists{/gist_id}","starred_url":"https://api.github.com/users/bschofield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschofield/subscriptions","organizations_url":"https://api.github.com/users/bschofield/orgs","repos_url":"https://api.github.com/users/bschofield/repos","events_url":"https://api.github.com/users/bschofield/events{/privacy}","received_events_url":"https://api.github.com/users/bschofield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T10:29:11Z","updated_at":"2020-04-26T10:29:11Z","author_association":"CONTRIBUTOR","body":"Take a look at the internals of the `MessageId` class. It keeps a reference to a `std::string`. That means that to set a topic name, a `std::string` has to exist somewhere in memory. You can't just create a `std::string` inside the C wrapper function, because when it goes out of scope the destructor gets called. What is your proposed solution to this?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619525256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619527960","html_url":"https://github.com/apache/pulsar/issues/6785#issuecomment-619527960","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6785","id":619527960,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTUyNzk2MA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T10:47:55Z","updated_at":"2020-04-26T10:47:55Z","author_association":"CONTRIBUTOR","body":"You're right. I think the the internal `const std::string*` of `MessageImpl` could be changed to `const char*`. Then the relative getter / setter should be reimplemented.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619527960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619529110","html_url":"https://github.com/apache/pulsar/issues/6785#issuecomment-619529110","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6785","id":619529110,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTUyOTExMA==","user":{"login":"bschofield","id":1534502,"node_id":"MDQ6VXNlcjE1MzQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1534502?v=4","gravatar_id":"","url":"https://api.github.com/users/bschofield","html_url":"https://github.com/bschofield","followers_url":"https://api.github.com/users/bschofield/followers","following_url":"https://api.github.com/users/bschofield/following{/other_user}","gists_url":"https://api.github.com/users/bschofield/gists{/gist_id}","starred_url":"https://api.github.com/users/bschofield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschofield/subscriptions","organizations_url":"https://api.github.com/users/bschofield/orgs","repos_url":"https://api.github.com/users/bschofield/repos","events_url":"https://api.github.com/users/bschofield/events{/privacy}","received_events_url":"https://api.github.com/users/bschofield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T10:56:12Z","updated_at":"2020-04-26T10:56:12Z","author_association":"CONTRIBUTOR","body":"That would be great. Otherwise I think we would have to do something like this:\r\n\r\n```C++\r\n\r\nconst void *pulsar_message_id_set_topic(pulsar_message_id_t *messageId, const char *topic) {\r\n    std::string *p = new std::string(topic);\r\n    messageId->messageId.setTopicName(*p);\r\n    return (void *)p;\r\n}\r\n\r\nvoid pulsar_message_id_free_topic(void *p) {\r\n   delete (std::string *)p;\r\n}\r\n```\r\n\r\n...but that seems horrible. I like your solution much better.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619529110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619550446","html_url":"https://github.com/apache/pulsar/issues/6822#issuecomment-619550446","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6822","id":619550446,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTU1MDQ0Ng==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T13:33:14Z","updated_at":"2020-04-26T13:33:14Z","author_association":"CONTRIBUTOR","body":"I've fixed this bug, a PR will be pushed.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619550446/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619551417","html_url":"https://github.com/apache/pulsar/issues/6815#issuecomment-619551417","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6815","id":619551417,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTU1MTQxNw==","user":{"login":"zr-hebo","id":26314914,"node_id":"MDQ6VXNlcjI2MzE0OTE0","avatar_url":"https://avatars.githubusercontent.com/u/26314914?v=4","gravatar_id":"","url":"https://api.github.com/users/zr-hebo","html_url":"https://github.com/zr-hebo","followers_url":"https://api.github.com/users/zr-hebo/followers","following_url":"https://api.github.com/users/zr-hebo/following{/other_user}","gists_url":"https://api.github.com/users/zr-hebo/gists{/gist_id}","starred_url":"https://api.github.com/users/zr-hebo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zr-hebo/subscriptions","organizations_url":"https://api.github.com/users/zr-hebo/orgs","repos_url":"https://api.github.com/users/zr-hebo/repos","events_url":"https://api.github.com/users/zr-hebo/events{/privacy}","received_events_url":"https://api.github.com/users/zr-hebo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-26T13:40:54Z","updated_at":"2020-04-26T13:40:54Z","author_association":"NONE","body":"set de-duplication solved this problem","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619551417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619662234","html_url":"https://github.com/apache/pulsar/issues/6813#issuecomment-619662234","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6813","id":619662234,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY2MjIzNA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T01:33:22Z","updated_at":"2020-04-27T01:33:22Z","author_association":"MEMBER","body":"@javard did you enable bookkeeper state storage?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619662234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619663403","html_url":"https://github.com/apache/pulsar/issues/6820#issuecomment-619663403","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6820","id":619663403,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY2MzQwMw==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T01:39:19Z","updated_at":"2020-04-27T01:39:19Z","author_association":"MEMBER","body":"@nitinmuteja did you run pulsar-admin to check if the issue exists in the pulsar-admin tool? I am wondering if you have sent the right command to pulsar admin RESTful service.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619663403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619664277","html_url":"https://github.com/apache/pulsar/issues/6821#issuecomment-619664277","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6821","id":619664277,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY2NDI3Nw==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T01:43:18Z","updated_at":"2020-04-27T01:43:18Z","author_association":"MEMBER","body":"@surendra-k how did you setup Nginx? Which component did Nginx point to, broker or proxy?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619664277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619664719","html_url":"https://github.com/apache/pulsar/issues/6823#issuecomment-619664719","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6823","id":619664719,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY2NDcxOQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T01:45:12Z","updated_at":"2020-04-27T01:45:12Z","author_association":"MEMBER","body":"@JoseFMP - \r\n\r\nhttps://github.com/apache/pulsar/tree/master/pulsar-client-go is the c-go client that is built using the pulsar-client-cpp library.\r\n\r\n https://github.com/apache/pulsar-client-go is the native go client. \r\n\r\nThe c-go client will be deprecated in future releases. If you just start with Pulsar, please use the native go client.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619664719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619665515","html_url":"https://github.com/apache/pulsar/issues/6828#issuecomment-619665515","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6828","id":619665515,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY2NTUxNQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T01:48:54Z","updated_at":"2020-04-27T01:48:54Z","author_association":"MEMBER","body":"@nkurihar are you and your team able to help with this issue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619665515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619671840","html_url":"https://github.com/apache/pulsar/issues/5668#issuecomment-619671840","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5668","id":619671840,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY3MTg0MA==","user":{"login":"archfish","id":5317064,"node_id":"MDQ6VXNlcjUzMTcwNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5317064?v=4","gravatar_id":"","url":"https://api.github.com/users/archfish","html_url":"https://github.com/archfish","followers_url":"https://api.github.com/users/archfish/followers","following_url":"https://api.github.com/users/archfish/following{/other_user}","gists_url":"https://api.github.com/users/archfish/gists{/gist_id}","starred_url":"https://api.github.com/users/archfish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archfish/subscriptions","organizations_url":"https://api.github.com/users/archfish/orgs","repos_url":"https://api.github.com/users/archfish/repos","events_url":"https://api.github.com/users/archfish/events{/privacy}","received_events_url":"https://api.github.com/users/archfish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T02:18:08Z","updated_at":"2020-04-27T02:18:08Z","author_association":"NONE","body":"Pulsar 2.5.0 still have this issue,running in standalone mode. Now i start pulsar with -nss parameter hope normal.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619671840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619673447","html_url":"https://github.com/apache/pulsar/pull/6379#issuecomment-619673447","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6379","id":619673447,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY3MzQ0Nw==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T02:25:07Z","updated_at":"2020-04-27T02:25:07Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619673447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619683066","html_url":"https://github.com/apache/pulsar/pull/6428#issuecomment-619683066","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6428","id":619683066,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY4MzA2Ng==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T02:58:46Z","updated_at":"2020-04-27T02:58:46Z","author_association":"CONTRIBUTOR","body":"rebased.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619683066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619683210","html_url":"https://github.com/apache/pulsar/pull/6799#issuecomment-619683210","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6799","id":619683210,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY4MzIxMA==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T02:59:17Z","updated_at":"2020-04-27T02:59:17Z","author_association":"CONTRIBUTOR","body":"rebased","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619683210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619788403","html_url":"https://github.com/apache/pulsar/pull/6791#issuecomment-619788403","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6791","id":619788403,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTc4ODQwMw==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T07:29:42Z","updated_at":"2020-04-27T07:29:42Z","author_association":"MEMBER","body":"> the original question on having a configuration switch. \r\n\r\nYes. I think the question is to have a configuration switch to allow people to deprecate the current implementation and opt-in the new implementation. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619788403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619791334","html_url":"https://github.com/apache/pulsar/pull/6796#issuecomment-619791334","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6796","id":619791334,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTc5MTMzNA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T07:35:12Z","updated_at":"2020-04-27T07:35:12Z","author_association":"MEMBER","body":">  for a given message id, of all the highest message ids in the other partitions that we were queued before it in the shared queue.\r\n\r\nackCumulative can work either case. It is a matter that we need to make documentation clear. If we think current Java behavior is wrong, let's fix the function behavior. If Java behavior is fine, let's add documentation. The point is to make the behavior consistent between languages.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619791334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619795865","html_url":"https://github.com/apache/pulsar/pull/6787#issuecomment-619795865","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6787","id":619795865,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTc5NTg2NQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T07:43:16Z","updated_at":"2020-04-27T07:43:16Z","author_association":"MEMBER","body":"> A file system is also operating within system constraints. When the disk (or user quota) is full, some actions will have to be taken.\r\n\r\nCorrect. But the semantic is still maintained. The file is not deleted until the file description is closed.\r\n\r\nIf a reader is active on a stream, the data after the reader position shouldn't be deleted. I think this is the minimum requirement that a reader should provide. Again, I am fine with introducing this change. But a flag should be added to enable this and the default behavior is that the data shouldn't be removed if there is a reader is active.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619795865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619797951","html_url":"https://github.com/apache/pulsar/issues/4937#issuecomment-619797951","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4937","id":619797951,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTc5Nzk1MQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T07:46:49Z","updated_at":"2020-04-27T07:46:49Z","author_association":"MEMBER","body":"@gh777777 what version of python function are you using?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619797951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619803681","html_url":"https://github.com/apache/pulsar/pull/6799#issuecomment-619803681","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6799","id":619803681,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTgwMzY4MQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T07:56:38Z","updated_at":"2020-04-27T07:56:38Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619803681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619804270","html_url":"https://github.com/apache/pulsar/pull/6816#issuecomment-619804270","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6816","id":619804270,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTgwNDI3MA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T07:57:37Z","updated_at":"2020-04-27T07:57:37Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619804270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619897031","html_url":"https://github.com/apache/pulsar/issues/6813#issuecomment-619897031","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6813","id":619897031,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTg5NzAzMQ==","user":{"login":"javard","id":11464745,"node_id":"MDQ6VXNlcjExNDY0NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/11464745?v=4","gravatar_id":"","url":"https://api.github.com/users/javard","html_url":"https://github.com/javard","followers_url":"https://api.github.com/users/javard/followers","following_url":"https://api.github.com/users/javard/following{/other_user}","gists_url":"https://api.github.com/users/javard/gists{/gist_id}","starred_url":"https://api.github.com/users/javard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javard/subscriptions","organizations_url":"https://api.github.com/users/javard/orgs","repos_url":"https://api.github.com/users/javard/repos","events_url":"https://api.github.com/users/javard/events{/privacy}","received_events_url":"https://api.github.com/users/javard/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T10:42:49Z","updated_at":"2020-04-27T10:42:49Z","author_association":"NONE","body":"@sijie I think it's enabled. When I run in localrun without the flag `--state-storage-service-url` it throws the exception `java.lang.IllegalStateException: State is not enabled`.\r\nBut setting the flag (`--state-storage-service-url bk://localhost:4181`) the state storage works.\r\nwhat is the correct way to enable the state storage?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619897031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619948983","html_url":"https://github.com/apache/pulsar/pull/6814#issuecomment-619948983","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6814","id":619948983,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTk0ODk4Mw==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T12:17:04Z","updated_at":"2020-04-27T12:17:04Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619948983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619974782","html_url":"https://github.com/apache/pulsar/pull/6827#issuecomment-619974782","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6827","id":619974782,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTk3NDc4Mg==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T13:08:37Z","updated_at":"2020-04-27T13:08:37Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619974782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619983341","html_url":"https://github.com/apache/pulsar/issues/6821#issuecomment-619983341","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6821","id":619983341,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTk4MzM0MQ==","user":{"login":"surendra-k","id":12939794,"node_id":"MDQ6VXNlcjEyOTM5Nzk0","avatar_url":"https://avatars.githubusercontent.com/u/12939794?v=4","gravatar_id":"","url":"https://api.github.com/users/surendra-k","html_url":"https://github.com/surendra-k","followers_url":"https://api.github.com/users/surendra-k/followers","following_url":"https://api.github.com/users/surendra-k/following{/other_user}","gists_url":"https://api.github.com/users/surendra-k/gists{/gist_id}","starred_url":"https://api.github.com/users/surendra-k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surendra-k/subscriptions","organizations_url":"https://api.github.com/users/surendra-k/orgs","repos_url":"https://api.github.com/users/surendra-k/repos","events_url":"https://api.github.com/users/surendra-k/events{/privacy}","received_events_url":"https://api.github.com/users/surendra-k/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T13:23:52Z","updated_at":"2020-04-27T14:27:29Z","author_association":"NONE","body":"Nginx points to broker, didn't get 'how did you setup Nginx?'\r\nsame thing is working with Python, but failing with Java.\r\nfrom logs \r\nServer and Client able to establish secret key, but it is failing after that,\r\nlogs:\r\n```\r\n*** ClientHello, TLSv1.2\r\n*** ServerHello, TLSv1.2\r\n*** Certificate chain\r\n*** Found trusted certificate:\r\n*** ECDH ServerKeyExchange\r\n*** ServerHelloDone\r\n*** ECDHClientKeyExchange\r\n*** Finished\r\nverify_data:  { 142, 12, 251, 160, 67, 86, 213, 6, 110, 16, 47, 44 }\r\n***\r\n%% Cached client session: [Session-1, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]\r\n```\r\nafter above it's repeating following (8 or 9 times) and throwing java.lang.IllegalArgumentException: port out of range:-1\r\n```\r\nPadded plaintext before ENCRYPTION:  len = 59\r\n0000: 00 00 00 37 00 00 00 33   08 17 BA 01 2E 0A 28 70  ...7...3......(p\r\n0010: 65 72 73 69 73 74 65 6E   74 3A 2F 2F 70 75 62 6C  ersistent://publ\r\n0020: 69 63 2F 64 65 66 61 75   6C 74 2F 6D 79 2D 74 6F  ic/default/my-to\r\n0030: 70 69 63 2D 33 33 33 10   03 18 00                 pic-333....\r\npulsar-client-io-1-1, WRITE: TLSv1.2 Application Data, length = 59\r\n[Raw write (bb)]: length = 88\r\n0000: 17 03 03 00 53 00 00 00   00 00 00 00 05 8D 7F BC  ....S...........\r\n0010: BB 09 9D 8E C9 3D BA FB   04 A6 EB 01 67 AE C0 BE  .....=......g...\r\n0020: 56 98 6F AE 51 F1 67 A2   7D 70 42 8B FD 8C 6B 8D  V.o.Q.g..pB...k.\r\n0030: 6F 65 14 E1 37 B8 05 6B   F2 E5 F4 62 53 72 1B 61  oe..7..k...bSr.a\r\n0040: DF EC 05 18 1D 42 E8 0A   E0 C6 96 A9 B5 CF DF 8D  .....B..........\r\n0050: 7B 2A BD 1B 54 EC 13 78                            .*..T..x\r\n[Raw read (bb)]: length = 81\r\n0000: 17 03 03 00 4C 57 FD 4A   94 45 C9 63 F6 51 EF 87  ....LW.J.E.c.Q..\r\n0010: ED F9 A5 70 69 DC 6D 1B   0B 21 EA AE 4F FA 29 54  ...pi.m..!..O.)T\r\n0020: 1D A6 91 16 BB 83 76 59   03 98 14 D8 5E 02 25 28  ......vY....^.%(\r\n0030: D8 AA 26 E0 94 2C A7 DE   5D 0B E9 FB 19 D0 77 DB  ..&..,..].....w.\r\n0040: 3D E9 E7 24 33 67 12 0A   10 EB 84 49 A0 74 0F B2  =..$3g.....I.t..\r\n0050: 3F                                                 ?\r\nPadded plaintext after DECRYPTION:  len = 52\r\n0000: 00 00 00 30 00 00 00 2C   08 18 C2 01 27 0A 1B 70  ...0...,....'..p\r\n0010: 75 6C 73 61 72 3A 2F 2F   31 30 2E 31 32 30 2E 32  ulsar://10.x.x\r\n0020: 31 34 2E 33 31 3A 36 36   35 30 12 00 18 01 20 03  .x:6650.... .\r\n0030: 28 01 40 01                                        (.@.\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/619983341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620128102","html_url":"https://github.com/apache/pulsar/pull/6782#issuecomment-620128102","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6782","id":620128102,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDEyODEwMg==","user":{"login":"shiv4289","id":5674919,"node_id":"MDQ6VXNlcjU2NzQ5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5674919?v=4","gravatar_id":"","url":"https://api.github.com/users/shiv4289","html_url":"https://github.com/shiv4289","followers_url":"https://api.github.com/users/shiv4289/followers","following_url":"https://api.github.com/users/shiv4289/following{/other_user}","gists_url":"https://api.github.com/users/shiv4289/gists{/gist_id}","starred_url":"https://api.github.com/users/shiv4289/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiv4289/subscriptions","organizations_url":"https://api.github.com/users/shiv4289/orgs","repos_url":"https://api.github.com/users/shiv4289/repos","events_url":"https://api.github.com/users/shiv4289/events{/privacy}","received_events_url":"https://api.github.com/users/shiv4289/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T17:34:07Z","updated_at":"2020-04-27T17:34:07Z","author_association":"CONTRIBUTOR","body":"> Umm.. If we serialize `AuthenticationToken` then it won't serialize token and store it instead it tries to serialize tokenSupplier and if supplier fetches token dynamically then there shouldn't be the issue. But in `AuthenticationToken` class it can be the issue as it keeps token in memory.\r\n\r\nThat should work. Thanks @rdhabalia ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620128102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620142566","html_url":"https://github.com/apache/pulsar/pull/6787#issuecomment-620142566","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6787","id":620142566,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDE0MjU2Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T18:02:50Z","updated_at":"2020-04-27T18:02:50Z","author_association":"CONTRIBUTOR","body":"> I think this is the minimum requirement that a reader should provide. \r\n\r\n> But a flag should be added to enable this and the default behavior is that the data shouldn't be removed if there is a reader is active.\r\n\r\nAs I explained above, this is not how the reader works right now. And there is no way to \"guarantee\" that behavior right now. \r\n\r\nI don't think a flag would change that. Supporting by default a \"half\" guarantee doesn't give anything that an application could rely upon.\r\n\r\n> If a reader is active on a stream, the data after the reader position shouldn't be deleted\r\n\r\nThe definition of active is tricky. Since by definition the reader is tied to the TCP connection. \r\nIf one needs a stronger retention semantic, it should be using a \"subscription\" instead. \r\n\r\nTo be clear, the behavior of the Pulsar reader was modeled over the Kafka consumer where the same scenario happens: data is deleted irrespectively of whether consumers are still consuming or not.\r\n\r\nIf we want to change the implementation of the Pulsar topic reader to support a different semantic that today (eg: guaranteed data for the reader), that would be a longer discussion and it would involve a re-design of the reader that would have to be a \"durable\" resource instead of an ephemeral one.\r\n\r\nIn my view, at that point we'd be essentially looking at an exclusive subscription with very tiny semantic differences.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620142566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620144387","html_url":"https://github.com/apache/pulsar/issues/6832#issuecomment-620144387","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6832","id":620144387,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDE0NDM4Nw==","user":{"login":"darksungg","id":13016455,"node_id":"MDQ6VXNlcjEzMDE2NDU1","avatar_url":"https://avatars.githubusercontent.com/u/13016455?v=4","gravatar_id":"","url":"https://api.github.com/users/darksungg","html_url":"https://github.com/darksungg","followers_url":"https://api.github.com/users/darksungg/followers","following_url":"https://api.github.com/users/darksungg/following{/other_user}","gists_url":"https://api.github.com/users/darksungg/gists{/gist_id}","starred_url":"https://api.github.com/users/darksungg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darksungg/subscriptions","organizations_url":"https://api.github.com/users/darksungg/orgs","repos_url":"https://api.github.com/users/darksungg/repos","events_url":"https://api.github.com/users/darksungg/events{/privacy}","received_events_url":"https://api.github.com/users/darksungg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T18:06:30Z","updated_at":"2020-04-27T18:30:00Z","author_association":"NONE","body":"Adding to this it seems that testing the issue, having 3 consumers on 1 client for each partition does not work, the second consumer gets stuck at .subscribe().\r\n\r\nI've tried via the tutorial and it did not work possible the above problem (gets stuck at subscribe() also)\r\n\r\nConsumerBuilder consumerBuilder = pulsarClient.newConsumer()\r\n        .subscriptionName(subscription);\r\n\r\n// Subscribe to all topics in a namespace\r\nPattern allTopicsInNamespace = Pattern.compile(\"persistent://public/default/.*\");\r\nConsumer allTopicsConsumer = consumerBuilder\r\n        .topicsPattern(allTopicsInNamespace)\r\n        .subscribe();","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620144387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620306706","html_url":"https://github.com/apache/pulsar/pull/6794#issuecomment-620306706","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6794","id":620306706,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDMwNjcwNg==","user":{"login":"nkurihar","id":22067228,"node_id":"MDQ6VXNlcjIyMDY3MjI4","avatar_url":"https://avatars.githubusercontent.com/u/22067228?v=4","gravatar_id":"","url":"https://api.github.com/users/nkurihar","html_url":"https://github.com/nkurihar","followers_url":"https://api.github.com/users/nkurihar/followers","following_url":"https://api.github.com/users/nkurihar/following{/other_user}","gists_url":"https://api.github.com/users/nkurihar/gists{/gist_id}","starred_url":"https://api.github.com/users/nkurihar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkurihar/subscriptions","organizations_url":"https://api.github.com/users/nkurihar/orgs","repos_url":"https://api.github.com/users/nkurihar/repos","events_url":"https://api.github.com/users/nkurihar/events{/privacy}","received_events_url":"https://api.github.com/users/nkurihar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T00:31:02Z","updated_at":"2020-04-28T00:31:02Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620306706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620327431","html_url":"https://github.com/apache/pulsar/issues/6829#issuecomment-620327431","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6829","id":620327431,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDMyNzQzMQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T01:45:24Z","updated_at":"2020-04-28T01:45:24Z","author_association":"MEMBER","body":"@yangwenjie88 Would you please have a try on use larger receiverQueueSize?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620327431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620331084","html_url":"https://github.com/apache/pulsar/issues/6832#issuecomment-620331084","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6832","id":620331084,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDMzMTA4NA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T01:58:53Z","updated_at":"2020-04-28T01:58:53Z","author_association":"MEMBER","body":"@darksungg Seems the default consumer mode is exclusive, Would you please help try on a failover or shared mode?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620331084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620334610","html_url":"https://github.com/apache/pulsar/pull/6034#issuecomment-620334610","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6034","id":620334610,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDMzNDYxMA==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T02:11:33Z","updated_at":"2020-04-28T02:11:33Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620334610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620335502","html_url":"https://github.com/apache/pulsar/issues/6829#issuecomment-620335502","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6829","id":620335502,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDMzNTUwMg==","user":{"login":"yangwenjie88","id":11440958,"node_id":"MDQ6VXNlcjExNDQwOTU4","avatar_url":"https://avatars.githubusercontent.com/u/11440958?v=4","gravatar_id":"","url":"https://api.github.com/users/yangwenjie88","html_url":"https://github.com/yangwenjie88","followers_url":"https://api.github.com/users/yangwenjie88/followers","following_url":"https://api.github.com/users/yangwenjie88/following{/other_user}","gists_url":"https://api.github.com/users/yangwenjie88/gists{/gist_id}","starred_url":"https://api.github.com/users/yangwenjie88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangwenjie88/subscriptions","organizations_url":"https://api.github.com/users/yangwenjie88/orgs","repos_url":"https://api.github.com/users/yangwenjie88/repos","events_url":"https://api.github.com/users/yangwenjie88/events{/privacy}","received_events_url":"https://api.github.com/users/yangwenjie88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T02:14:32Z","updated_at":"2020-04-28T02:14:32Z","author_association":"NONE","body":"> @yangwenjie88 Would you please have a try on use larger receiverQueueSize?\r\n\r\nHave tried to increase the size, after the increase, the memory is insufficient, resulting in more frequent fullgc","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620335502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620335886","html_url":"https://github.com/apache/pulsar/pull/6775#issuecomment-620335886","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6775","id":620335886,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDMzNTg4Ng==","user":{"login":"zplinuxlover","id":23027077,"node_id":"MDQ6VXNlcjIzMDI3MDc3","avatar_url":"https://avatars.githubusercontent.com/u/23027077?v=4","gravatar_id":"","url":"https://api.github.com/users/zplinuxlover","html_url":"https://github.com/zplinuxlover","followers_url":"https://api.github.com/users/zplinuxlover/followers","following_url":"https://api.github.com/users/zplinuxlover/following{/other_user}","gists_url":"https://api.github.com/users/zplinuxlover/gists{/gist_id}","starred_url":"https://api.github.com/users/zplinuxlover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zplinuxlover/subscriptions","organizations_url":"https://api.github.com/users/zplinuxlover/orgs","repos_url":"https://api.github.com/users/zplinuxlover/repos","events_url":"https://api.github.com/users/zplinuxlover/events{/privacy}","received_events_url":"https://api.github.com/users/zplinuxlover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T02:15:59Z","updated_at":"2020-04-28T02:15:59Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620335886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620350742","html_url":"https://github.com/apache/pulsar/pull/6034#issuecomment-620350742","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6034","id":620350742,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDM1MDc0Mg==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T03:05:35Z","updated_at":"2020-04-28T03:05:35Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620350742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620355306","html_url":"https://github.com/apache/pulsar/pull/6831#issuecomment-620355306","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6831","id":620355306,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDM1NTMwNg==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T03:20:39Z","updated_at":"2020-04-28T03:20:39Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620355306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620384970","html_url":"https://github.com/apache/pulsar/pull/6034#issuecomment-620384970","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6034","id":620384970,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDM4NDk3MA==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T05:12:01Z","updated_at":"2020-04-28T05:12:01Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620384970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620391268","html_url":"https://github.com/apache/pulsar/issues/6832#issuecomment-620391268","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6832","id":620391268,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDM5MTI2OA==","user":{"login":"darksungg","id":13016455,"node_id":"MDQ6VXNlcjEzMDE2NDU1","avatar_url":"https://avatars.githubusercontent.com/u/13016455?v=4","gravatar_id":"","url":"https://api.github.com/users/darksungg","html_url":"https://github.com/darksungg","followers_url":"https://api.github.com/users/darksungg/followers","following_url":"https://api.github.com/users/darksungg/following{/other_user}","gists_url":"https://api.github.com/users/darksungg/gists{/gist_id}","starred_url":"https://api.github.com/users/darksungg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darksungg/subscriptions","organizations_url":"https://api.github.com/users/darksungg/orgs","repos_url":"https://api.github.com/users/darksungg/repos","events_url":"https://api.github.com/users/darksungg/events{/privacy}","received_events_url":"https://api.github.com/users/darksungg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T05:35:59Z","updated_at":"2020-04-28T05:35:59Z","author_association":"NONE","body":"Hey @jiazhai thank you for the response.\r\n\r\nPlease see below the producer (us-east), consumer(us-west) code: \r\n\r\nProducer:\r\n\r\n this.client = PulsarClient.builder()\r\n                .serviceUrl(serviceUrl)\r\n                .build();\r\nString topic = \"persistent://my-tenant/my-namespace/my-topic\";\r\nProducer<byte[]> producer = client.newProducer()\r\n            .topic(topic)\r\n            .messageRoutingMode(MessageRoutingMode.RoundRobinPartition)\r\n            .create();\r\n        producer.send(message.getBytes());\r\n\r\nConsumer:\r\n\r\nthis.client = PulsarClient.builder()\r\n                .serviceUrl(serviceUrl)\r\n                .build();\r\nPattern allTopicsInNamespace = Pattern.compile(\"persistent://my-tenant/my-namespace/my-topic.*\");\r\n                    this.consumer = client.newConsumer()\r\n                        .topicsPattern(allTopicsInNamespace)\r\n                        .subscriptionName(\"my-sub\")\r\n                        .subscriptionType(SubscriptionType.Shared)\r\n                        .subscribe();\r\n\r\nThere are 2 clusters, deployed with the terraform-ansbile scripts, i produce in us-east and consume in us-west. As stated above, the sub is shared. Problem is that every time i try to sub to a multi-topic, the subscribe() method gets stuck. If i try on a normal topic, things are good.\r\n\r\nThanks for the help!","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620391268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620414347","html_url":"https://github.com/apache/pulsar/issues/6832#issuecomment-620414347","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6832","id":620414347,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDQxNDM0Nw==","user":{"login":"darksungg","id":13016455,"node_id":"MDQ6VXNlcjEzMDE2NDU1","avatar_url":"https://avatars.githubusercontent.com/u/13016455?v=4","gravatar_id":"","url":"https://api.github.com/users/darksungg","html_url":"https://github.com/darksungg","followers_url":"https://api.github.com/users/darksungg/followers","following_url":"https://api.github.com/users/darksungg/following{/other_user}","gists_url":"https://api.github.com/users/darksungg/gists{/gist_id}","starred_url":"https://api.github.com/users/darksungg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darksungg/subscriptions","organizations_url":"https://api.github.com/users/darksungg/orgs","repos_url":"https://api.github.com/users/darksungg/repos","events_url":"https://api.github.com/users/darksungg/events{/privacy}","received_events_url":"https://api.github.com/users/darksungg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T06:46:43Z","updated_at":"2020-04-28T06:46:43Z","author_association":"NONE","body":"Also would like to ask if the same partition topic needs to be created in both regions or only in one ( we produce only in one region only )","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620414347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620513436","html_url":"https://github.com/apache/pulsar/issues/6818#issuecomment-620513436","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6818","id":620513436,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDUxMzQzNg==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T10:14:26Z","updated_at":"2020-04-28T10:14:35Z","author_association":"CONTRIBUTOR","body":"@guyv Hi, could you provide the pulsar client version? The jar `org.apache.pulsar:pulsar-client:jar:2.6.0-SNAPSHOT` dependency `com.google.protobuf:protobuf-java-util:jar:3.5.1`.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620513436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620532763","html_url":"https://github.com/apache/pulsar/issues/6828#issuecomment-620532763","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6828","id":620532763,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDUzMjc2Mw==","user":{"login":"TolulopeAwode","id":54535768,"node_id":"MDQ6VXNlcjU0NTM1NzY4","avatar_url":"https://avatars.githubusercontent.com/u/54535768?v=4","gravatar_id":"","url":"https://api.github.com/users/TolulopeAwode","html_url":"https://github.com/TolulopeAwode","followers_url":"https://api.github.com/users/TolulopeAwode/followers","following_url":"https://api.github.com/users/TolulopeAwode/following{/other_user}","gists_url":"https://api.github.com/users/TolulopeAwode/gists{/gist_id}","starred_url":"https://api.github.com/users/TolulopeAwode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TolulopeAwode/subscriptions","organizations_url":"https://api.github.com/users/TolulopeAwode/orgs","repos_url":"https://api.github.com/users/TolulopeAwode/repos","events_url":"https://api.github.com/users/TolulopeAwode/events{/privacy}","received_events_url":"https://api.github.com/users/TolulopeAwode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T10:53:35Z","updated_at":"2020-04-28T10:53:35Z","author_association":"NONE","body":"Waiting anxiously for this fix. Thank you","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620532763/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620552379","html_url":"https://github.com/apache/pulsar/issues/6832#issuecomment-620552379","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6832","id":620552379,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDU1MjM3OQ==","user":{"login":"darksungg","id":13016455,"node_id":"MDQ6VXNlcjEzMDE2NDU1","avatar_url":"https://avatars.githubusercontent.com/u/13016455?v=4","gravatar_id":"","url":"https://api.github.com/users/darksungg","html_url":"https://github.com/darksungg","followers_url":"https://api.github.com/users/darksungg/followers","following_url":"https://api.github.com/users/darksungg/following{/other_user}","gists_url":"https://api.github.com/users/darksungg/gists{/gist_id}","starred_url":"https://api.github.com/users/darksungg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darksungg/subscriptions","organizations_url":"https://api.github.com/users/darksungg/orgs","repos_url":"https://api.github.com/users/darksungg/repos","events_url":"https://api.github.com/users/darksungg/events{/privacy}","received_events_url":"https://api.github.com/users/darksungg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T11:38:59Z","updated_at":"2020-04-28T11:38:59Z","author_association":"NONE","body":"Found the problem, not mentioned in docs : \r\n\r\nthis.client = PulsarClient.builder()\r\n                .serviceUrl(serviceUrl)\r\n                .connectionsPerBroker(12)\r\n                .connectionTimeout(2, TimeUnit.SECONDS)\r\n                .operationTimeout(2, TimeUnit.SECONDS)\r\n                .keepAliveInterval(300, TimeUnit.SECONDS)\r\n                .ioThreads(12)\r\n                .listenerThreads(12)\r\n                .build();\r\n\r\nYou need multiple threads if multipleTopicConsumer for client.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620552379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620568030","html_url":"https://github.com/apache/pulsar/issues/189#issuecomment-620568030","issue_url":"https://api.github.com/repos/apache/pulsar/issues/189","id":620568030,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDU2ODAzMA==","user":{"login":"fracasula","id":1288256,"node_id":"MDQ6VXNlcjEyODgyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/1288256?v=4","gravatar_id":"","url":"https://api.github.com/users/fracasula","html_url":"https://github.com/fracasula","followers_url":"https://api.github.com/users/fracasula/followers","following_url":"https://api.github.com/users/fracasula/following{/other_user}","gists_url":"https://api.github.com/users/fracasula/gists{/gist_id}","starred_url":"https://api.github.com/users/fracasula/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fracasula/subscriptions","organizations_url":"https://api.github.com/users/fracasula/orgs","repos_url":"https://api.github.com/users/fracasula/repos","events_url":"https://api.github.com/users/fracasula/events{/privacy}","received_events_url":"https://api.github.com/users/fracasula/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T12:15:21Z","updated_at":"2020-04-28T12:15:21Z","author_association":"NONE","body":"Hey guys, are there any plans to add DLQ support in the Golang CGo based library? I see that it's supported in the pure Golang one which we are not using though due to your disclaimer saying that  feature parity and stability has not been reached.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620568030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620585230","html_url":"https://github.com/apache/pulsar/pull/6775#issuecomment-620585230","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6775","id":620585230,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDU4NTIzMA==","user":{"login":"zplinuxlover","id":23027077,"node_id":"MDQ6VXNlcjIzMDI3MDc3","avatar_url":"https://avatars.githubusercontent.com/u/23027077?v=4","gravatar_id":"","url":"https://api.github.com/users/zplinuxlover","html_url":"https://github.com/zplinuxlover","followers_url":"https://api.github.com/users/zplinuxlover/followers","following_url":"https://api.github.com/users/zplinuxlover/following{/other_user}","gists_url":"https://api.github.com/users/zplinuxlover/gists{/gist_id}","starred_url":"https://api.github.com/users/zplinuxlover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zplinuxlover/subscriptions","organizations_url":"https://api.github.com/users/zplinuxlover/orgs","repos_url":"https://api.github.com/users/zplinuxlover/repos","events_url":"https://api.github.com/users/zplinuxlover/events{/privacy}","received_events_url":"https://api.github.com/users/zplinuxlover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T12:49:16Z","updated_at":"2020-04-28T12:49:16Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620585230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620601371","html_url":"https://github.com/apache/pulsar/issues/6821#issuecomment-620601371","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6821","id":620601371,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDYwMTM3MQ==","user":{"login":"surendra-k","id":12939794,"node_id":"MDQ6VXNlcjEyOTM5Nzk0","avatar_url":"https://avatars.githubusercontent.com/u/12939794?v=4","gravatar_id":"","url":"https://api.github.com/users/surendra-k","html_url":"https://github.com/surendra-k","followers_url":"https://api.github.com/users/surendra-k/followers","following_url":"https://api.github.com/users/surendra-k/following{/other_user}","gists_url":"https://api.github.com/users/surendra-k/gists{/gist_id}","starred_url":"https://api.github.com/users/surendra-k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surendra-k/subscriptions","organizations_url":"https://api.github.com/users/surendra-k/orgs","repos_url":"https://api.github.com/users/surendra-k/repos","events_url":"https://api.github.com/users/surendra-k/events{/privacy}","received_events_url":"https://api.github.com/users/surendra-k/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T13:18:21Z","updated_at":"2020-04-28T13:18:21Z","author_association":"NONE","body":"some issue between Nginx and pulsar broker (internal issue), not relevant to Java pulsar-client, closing the issue.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620601371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620691797","html_url":"https://github.com/apache/pulsar/pull/6776#issuecomment-620691797","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6776","id":620691797,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDY5MTc5Nw==","user":{"login":"wolfstudy","id":20965307,"node_id":"MDQ6VXNlcjIwOTY1MzA3","avatar_url":"https://avatars.githubusercontent.com/u/20965307?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfstudy","html_url":"https://github.com/wolfstudy","followers_url":"https://api.github.com/users/wolfstudy/followers","following_url":"https://api.github.com/users/wolfstudy/following{/other_user}","gists_url":"https://api.github.com/users/wolfstudy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfstudy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfstudy/subscriptions","organizations_url":"https://api.github.com/users/wolfstudy/orgs","repos_url":"https://api.github.com/users/wolfstudy/repos","events_url":"https://api.github.com/users/wolfstudy/events{/privacy}","received_events_url":"https://api.github.com/users/wolfstudy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T15:51:00Z","updated_at":"2020-04-28T15:51:00Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620691797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620760265","html_url":"https://github.com/apache/pulsar/issues/6818#issuecomment-620760265","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6818","id":620760265,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDc2MDI2NQ==","user":{"login":"guyv","id":906126,"node_id":"MDQ6VXNlcjkwNjEyNg==","avatar_url":"https://avatars.githubusercontent.com/u/906126?v=4","gravatar_id":"","url":"https://api.github.com/users/guyv","html_url":"https://github.com/guyv","followers_url":"https://api.github.com/users/guyv/followers","following_url":"https://api.github.com/users/guyv/following{/other_user}","gists_url":"https://api.github.com/users/guyv/gists{/gist_id}","starred_url":"https://api.github.com/users/guyv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyv/subscriptions","organizations_url":"https://api.github.com/users/guyv/orgs","repos_url":"https://api.github.com/users/guyv/repos","events_url":"https://api.github.com/users/guyv/events{/privacy}","received_events_url":"https://api.github.com/users/guyv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T17:52:01Z","updated_at":"2020-04-28T17:52:24Z","author_association":"NONE","body":"@gaoran10  client version I use is 2.5.1. But I see the same issue exists on the master branch (2.6.0-SNAPSHOT)\r\n\r\nTo be clear, it is about: <pulsar.protobuf.shaded.version>\r\nsee: https://github.com/apache/pulsar/blob/master/pom.xml#L149\r\n\r\nThe shaded version is 2.4.1\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620760265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620764772","html_url":"https://github.com/apache/pulsar/issues/5447#issuecomment-620764772","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5447","id":620764772,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDc2NDc3Mg==","user":{"login":"chethanuk","id":16241795,"node_id":"MDQ6VXNlcjE2MjQxNzk1","avatar_url":"https://avatars.githubusercontent.com/u/16241795?v=4","gravatar_id":"","url":"https://api.github.com/users/chethanuk","html_url":"https://github.com/chethanuk","followers_url":"https://api.github.com/users/chethanuk/followers","following_url":"https://api.github.com/users/chethanuk/following{/other_user}","gists_url":"https://api.github.com/users/chethanuk/gists{/gist_id}","starred_url":"https://api.github.com/users/chethanuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chethanuk/subscriptions","organizations_url":"https://api.github.com/users/chethanuk/orgs","repos_url":"https://api.github.com/users/chethanuk/repos","events_url":"https://api.github.com/users/chethanuk/events{/privacy}","received_events_url":"https://api.github.com/users/chethanuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T18:00:40Z","updated_at":"2020-05-05T06:02:00Z","author_association":"NONE","body":"> Apache Beam -> Pulsar pipeline working\r\n\r\nCool, :)","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620764772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620781054","html_url":"https://github.com/apache/pulsar/issues/6834#issuecomment-620781054","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6834","id":620781054,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDc4MTA1NA==","user":{"login":"trexinc","id":3585208,"node_id":"MDQ6VXNlcjM1ODUyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/3585208?v=4","gravatar_id":"","url":"https://api.github.com/users/trexinc","html_url":"https://github.com/trexinc","followers_url":"https://api.github.com/users/trexinc/followers","following_url":"https://api.github.com/users/trexinc/following{/other_user}","gists_url":"https://api.github.com/users/trexinc/gists{/gist_id}","starred_url":"https://api.github.com/users/trexinc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trexinc/subscriptions","organizations_url":"https://api.github.com/users/trexinc/orgs","repos_url":"https://api.github.com/users/trexinc/repos","events_url":"https://api.github.com/users/trexinc/events{/privacy}","received_events_url":"https://api.github.com/users/trexinc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T18:31:10Z","updated_at":"2020-04-28T18:31:10Z","author_association":"CONTRIBUTOR","body":"Not sure how you got those errors. With 2.5.1 I get:\r\nClass not found for org.apache.pulsar.client.impl.crypto.MessageCryptoBc\r\nWhich can be resolved by adding the following dependency \r\ncompile group: 'org.apache.pulsar', name: 'pulsar-client-messagecrypto-bc', version: '2.5.1'","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620781054/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]