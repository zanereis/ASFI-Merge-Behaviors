[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515480321","html_url":"https://github.com/apache/accumulo/issues/1278#issuecomment-515480321","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1278","id":515480321,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTQ4MDMyMQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T14:40:15Z","updated_at":"2019-07-26T14:40:15Z","author_association":"CONTRIBUTOR","body":"I ran another test in which I copied the files before bulk importing and of course the issue did not happen.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515480321/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515557863","html_url":"https://github.com/apache/accumulo/pull/1291#issuecomment-515557863","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1291","id":515557863,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTU1Nzg2Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T18:38:50Z","updated_at":"2019-07-26T18:38:50Z","author_association":"CONTRIBUTOR","body":"Made further improvements in #1296","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515557863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515583692","html_url":"https://github.com/apache/accumulo/pull/1297#issuecomment-515583692","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1297","id":515583692,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTU4MzY5Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T20:09:59Z","updated_at":"2019-07-26T20:09:59Z","author_association":"CONTRIBUTOR","body":"Hold off on review... this may not be a good solution since we use these functions in a lot of places.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515583692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515612259","html_url":"https://github.com/apache/accumulo/pull/1297#issuecomment-515612259","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1297","id":515612259,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTYxMjI1OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T22:00:48Z","updated_at":"2019-07-26T22:00:48Z","author_association":"MEMBER","body":"> This was from Datawave, which uses are really old guava. This change should improve compatibility with Guava.\r\n\r\nIt seems like it'd be better for Datawave (or other projects which build upon Accumulo) to update to the version of Guava that Accumulo requires for 2.0. After all, this is going to be one of possibly many incompatibility points in transitive dependencies, since we updated a *lot* of our dependencies in 2.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515612259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515616207","html_url":"https://github.com/apache/accumulo/pull/1297#issuecomment-515616207","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1297","id":515616207,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTYxNjIwNw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T22:19:36Z","updated_at":"2019-07-26T22:19:45Z","author_association":"CONTRIBUTOR","body":"> It seems like it'd be better for Datawave (or other projects which build upon Accumulo) to update to the version of Guava that Accumulo requires for 2.0.\r\n\r\nI have wanted to write a blog post about Accumulo 2.0 and Hadoop 3.0 depdency issues that users will have to navigate, but have not gotten around to it.  Mainly explaining the implications of the new Hadoop shaded jar, how Accumulo 2.0 uses it, and implications for map reduce code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515616207/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515616745","html_url":"https://github.com/apache/accumulo/pull/1297#issuecomment-515616745","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1297","id":515616745,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTYxNjc0NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T22:22:25Z","updated_at":"2019-07-26T22:22:25Z","author_association":"CONTRIBUTOR","body":"> > This was from Datawave, which uses are really old guava. This change should improve compatibility with Guava.\r\n> \r\n> It seems like it'd be better for Datawave (or other projects which build upon Accumulo) to update to the version of Guava that Accumulo requires for 2.0. After all, this is going to be one of possibly many incompatibility points in transitive dependencies, since we updated a _lot_ of our dependencies in 2.0.\r\n\r\nI agree.  I opened an issue https://github.com/NationalSecurityAgency/datawave/issues/514 and begin some work on it.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515616745/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515737780","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-515737780","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":515737780,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTczNzc4MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-28T06:45:39Z","updated_at":"2019-07-28T06:45:39Z","author_association":"MEMBER","body":"With these changes, all the ITs pass, but only when using the Hadoop 3 profile. The Hadoop 2 profile still results in some test failures, particularly those involving Kerberos. I haven't been able to determine why yet, but likely Hadoop fixed some JDK9+ compatibility issue in their Kerberos code in 3.0.0 and later. I tried the latest versions of 2.6-2.9 (2.6.5, 2.7.7, 2.8.5, and 2.9.2), and the `KerberosIT` failed with all, but the 3.0.0 does work. Perhaps @joshelser has some insight into the Kerberos changes in Hadoop 3 that could explain why Kerberos tests fail with Hadoop 2 and Java 11?\r\n\r\nTo get the ITs to pass on JDK 11, I can add Assume rules to the failing tests, in order to ensure `JDK8 || hadoop.version >= 3`, so they will be skipped otherwise. However, doing so would make these tests permanently useless for the default Hadoop 2 profile, if we were to apply #1236 to the 1.9 branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515737780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515769926","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-515769926","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":515769926,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTc2OTkyNg==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-28T15:01:44Z","updated_at":"2019-07-28T15:01:44Z","author_association":"CONTRIBUTOR","body":"I tried to build with jdk-11 from the 1.9 branch (thought this had been merged) and received javadoc errors.\r\n```\r\n[ERROR]` Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.0.1:jar (default-cli) on project accumulo-fate: MavenReportException: Error while generating Javadoc: \r\n[ERROR] Exit code: 1 - javadoc: error - The code being documented uses modules but the packages defined in https://docs.oracle.com/javase/8/docs/api/ are in the unnamed module.\r\n```\r\n\r\nI could get pass that by adding\r\n\r\n`<source>${maven.compiler.source}</source>`\r\n\r\nto the maven-javadoc-plugin.\r\n\r\nAfter that I hit the tt / @code issues and started digging and found this.\r\n\r\nNot sure if you want to consider adding that to the pom or not.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515769926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515779830","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-515779830","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":515779830,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTc3OTgzMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-28T17:20:11Z","updated_at":"2019-07-28T17:20:11Z","author_association":"MEMBER","body":"I'm pretty sure I've already fixed the javadoc issues in this PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515779830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515827919","html_url":"https://github.com/apache/accumulo/issues/1294#issuecomment-515827919","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1294","id":515827919,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTgyNzkxOQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T03:03:45Z","updated_at":"2019-07-29T03:03:45Z","author_association":"CONTRIBUTOR","body":"first pass available in https://github.com/apache/accumulo/pull/1299","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515827919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515831000","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-515831000","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":515831000,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTgzMTAwMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T03:25:47Z","updated_at":"2019-07-29T03:25:47Z","author_association":"MEMBER","body":"Forcing use of minikdc 3.0.0, even with the Hadoop 2 profile, seems to get KerberosIT passing. I'll run all the ITs with that to see if it fixes the issue generally.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515831000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515848695","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-515848695","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":515848695,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTg0ODY5NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T05:22:20Z","updated_at":"2019-07-29T05:22:20Z","author_association":"MEMBER","body":"I think the reason why 3.0.0 works is because minikdc in 3.0.0 is a wrapper around Kerby, instead of using the outdated ApacheDS Kerberos libs (see https://issues.apache.org/jira/browse/HADOOP-12911 and possibly https://github.com/apache/kafka/pull/5586)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515848695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515873846","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-515873846","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":515873846,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTg3Mzg0Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T07:13:09Z","updated_at":"2019-07-29T07:13:09Z","author_association":"MEMBER","body":"All ITs pass now for every combination of Hadoop `{2.6.5, 3.0.0}` and OpenJDK `{8, 11}`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515873846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515987329","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-515987329","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":515987329,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTk4NzMyOQ==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T13:18:01Z","updated_at":"2019-07-29T13:18:53Z","author_association":"CONTRIBUTOR","body":"Considering the migration strategy:\r\n\r\n> If this can be done, upgrade needs to be considered. Below are two possible upgrade designs.\r\n> \r\n>     Rewrite the metadata table on upgrade and recompute the split points.\r\n>     Support del entries with and without the hash. One possible way to do this is with a different prefix like ~deh that indicates a hash is present.\r\n> \r\n> May make sense to make the same change for the ~blip section of the metadata table also.\r\n\r\nThe first seems desirable because it does not require supporting two formats down the road.  How costly is the metadata rewrite?  I'm thinking the metadata tables are much smaller than data tables, the ~del<path> should be minimal especially if a GC is done first,  because they are lumped together the cost of finding them is low.  Can you turn off compaction and balancing (whatever) during a migration upgrade?  For ~blip, can you require that bulk imports are all complete prior to the upgrade?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/515987329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516022400","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-516022400","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":516022400,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjAyMjQwMA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T14:45:32Z","updated_at":"2019-07-29T14:45:32Z","author_association":"CONTRIBUTOR","body":"> The first seems desirable because it does not require supporting two formats down the road.\r\n\r\nI agree it will make future maintenance of the code easier.\r\n\r\n> Can you turn off compaction and balancing (whatever) during a migration upgrade?\r\n\r\nThe master process can control what it does.  Since the master does migration, balancing, and loading it could pause those.  Can't remember if it does.  However things done by tablet servers it may not be able to control, I opened #1300 to futher explore this.\r\n\r\nFor the `~del` markers there is the possibility that the Accumulo GC will temporarily miss a `~del` marker, but this is ok because it will be seen later.  Just need to make sure the masters move of the ~del markers is idempotent.\r\n\r\nThe master process will abort if there are any outstanding FATE transactions and an upgrade is needed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516022400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516024161","html_url":"https://github.com/apache/accumulo/issues/1300#issuecomment-516024161","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1300","id":516024161,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjAyNDE2MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T14:49:36Z","updated_at":"2019-07-29T14:52:58Z","author_association":"CONTRIBUTOR","body":"Looks like I already looked into this, #1139.  However I can not remember if the master logs a user friendly error message stating the old processes are preventing upgrade.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516024161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516135703","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-516135703","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":516135703,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjEzNTcwMw==","user":{"login":"vlsi","id":213894,"node_id":"MDQ6VXNlcjIxMzg5NA==","avatar_url":"https://avatars.githubusercontent.com/u/213894?v=4","gravatar_id":"","url":"https://api.github.com/users/vlsi","html_url":"https://github.com/vlsi","followers_url":"https://api.github.com/users/vlsi/followers","following_url":"https://api.github.com/users/vlsi/following{/other_user}","gists_url":"https://api.github.com/users/vlsi/gists{/gist_id}","starred_url":"https://api.github.com/users/vlsi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlsi/subscriptions","organizations_url":"https://api.github.com/users/vlsi/orgs","repos_url":"https://api.github.com/users/vlsi/repos","events_url":"https://api.github.com/users/vlsi/events{/privacy}","received_events_url":"https://api.github.com/users/vlsi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T19:46:34Z","updated_at":"2019-07-29T19:46:58Z","author_association":"NONE","body":"This multiplies build matrix by two, so effectively you use 4 jobs for 30 minutes each.\r\n\r\nNote: Travis have only 15 jobs for all Apache projects, so it would be nice if you could either improve job execution time or avoid testing unrelated combinations.\r\nFor instance, you might test test java8+hadoop2  and java11+hadoop3.\r\n\r\nOr perform hadoop2/hadoop3 test only for the modules that are related to hadoop.\r\nFor instance: \r\n\r\n```\r\nApache Accumulo Documentation ...................... SUCCESS [  9.201 s]\r\nApache Accumulo Maven Plugin ....................... SUCCESS [ 18.468 s]\r\n```\r\n\r\nThose projects do not seem to depend on hadoop version, however those take 4 executors for `30 seconds`.\r\n\r\nHere's an example: https://travis-ci.org/apache/accumulo/builds/565122883","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516135703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516146424","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-516146424","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":516146424,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjE0NjQyNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T20:19:17Z","updated_at":"2019-07-29T20:19:17Z","author_association":"MEMBER","body":"@vlsi We will be eliminating openjdk8 builds soon (see #1236).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516146424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516149971","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-516149971","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":516149971,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjE0OTk3MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T20:29:58Z","updated_at":"2019-07-29T20:29:58Z","author_association":"CONTRIBUTOR","body":"@vlsi  is this causing a problem for other Apache projects?  If so, do you know where to find more info about Travis CI resources available?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516149971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516153623","html_url":"https://github.com/apache/accumulo/issues/1236#issuecomment-516153623","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1236","id":516153623,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjE1MzYyMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T20:40:56Z","updated_at":"2019-07-29T20:40:56Z","author_association":"MEMBER","body":"1.9 branch can now build fine on Java 11, so it should be fine to require Java 11 now (cross-compiled with the appropriate flags to 7 and 8 for 1.9 and 2.0, respectively).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516153623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516166415","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-516166415","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":516166415,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjE2NjQxNQ==","user":{"login":"vlsi","id":213894,"node_id":"MDQ6VXNlcjIxMzg5NA==","avatar_url":"https://avatars.githubusercontent.com/u/213894?v=4","gravatar_id":"","url":"https://api.github.com/users/vlsi","html_url":"https://github.com/vlsi","followers_url":"https://api.github.com/users/vlsi/followers","following_url":"https://api.github.com/users/vlsi/following{/other_user}","gists_url":"https://api.github.com/users/vlsi/gists{/gist_id}","starred_url":"https://api.github.com/users/vlsi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlsi/subscriptions","organizations_url":"https://api.github.com/users/vlsi/orgs","repos_url":"https://api.github.com/users/vlsi/repos","events_url":"https://api.github.com/users/vlsi/events{/privacy}","received_events_url":"https://api.github.com/users/vlsi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T21:18:26Z","updated_at":"2019-07-29T21:18:26Z","author_association":"NONE","body":">is this causing a problem for other Apache projects?\r\n\r\nI'm afraid it does.\r\n\r\nI'm developing Gradle build scripts for for Apache JMeter / Apache Calcite, and I experience delays.\r\nIt is not that your project is the only one that consumes Travis resources, but it was executing while I was waiting for my build to even start (I was looking at https://travis-ci.org/apache ).\r\n\r\nBuild times are fast for my personal projects at the very same time when I experience delays for Apache-related Travis builds, so I related that to the \"global limit\" for \"all Apache projects\" at Travis.\r\n\r\n1) I can't remember where I took \"15 jobs for all Apache projects\". It might be I've confused it with something.\r\n\r\n2) Committers are recommended to subscribe to `builds@apache.org`\r\n\r\nHere Greg says that Travis resources can't be increased: https://lists.apache.org/thread.html/5f51f41d705c4a7bcdba35ca7ab07c56c08336ce8026d17f7ed230ca@%3Cbuilds.apache.org%3E\r\n\r\nNote: `accumulo` is not in the \"top consumers\" list ( yet :) )\r\n\r\n> We will be eliminating openjdk8 builds soon\r\n\r\nNice.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516166415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516177381","html_url":"https://github.com/apache/accumulo/pull/1295#issuecomment-516177381","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1295","id":516177381,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjE3NzM4MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T21:54:39Z","updated_at":"2019-07-29T21:54:39Z","author_association":"MEMBER","body":"I changed the per-repo setting in GitHub to limit concurrent jobs to 2 for apache/accumulo. Hopefully that helps. Our builds aren't typically that time-sensitive anyway.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516177381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516186573","html_url":"https://github.com/apache/accumulo/issues/1124#issuecomment-516186573","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1124","id":516186573,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjE4NjU3Mw==","user":{"login":"lbschanno","id":52420215,"node_id":"MDQ6VXNlcjUyNDIwMjE1","avatar_url":"https://avatars.githubusercontent.com/u/52420215?v=4","gravatar_id":"","url":"https://api.github.com/users/lbschanno","html_url":"https://github.com/lbschanno","followers_url":"https://api.github.com/users/lbschanno/followers","following_url":"https://api.github.com/users/lbschanno/following{/other_user}","gists_url":"https://api.github.com/users/lbschanno/gists{/gist_id}","starred_url":"https://api.github.com/users/lbschanno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lbschanno/subscriptions","organizations_url":"https://api.github.com/users/lbschanno/orgs","repos_url":"https://api.github.com/users/lbschanno/repos","events_url":"https://api.github.com/users/lbschanno/events{/privacy}","received_events_url":"https://api.github.com/users/lbschanno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T22:29:49Z","updated_at":"2019-07-29T22:29:49Z","author_association":"CONTRIBUTOR","body":"The following are property candidates that appear to have class names for values. If I appear to be missing any, please chime in:\r\n\r\n* `instance.security.authenticator`\r\n* `instance.security.authenticator`\r\n* `instance.security.permissionHandler`\r\n* `instance.crypto.service`\r\n* `general.volume.chooser`\r\n* `master.tablet.balancer`\r\n* `master.walog.closer.implementation`\r\n* `tserver.memory.manager`\r\n* `tserver.replication.default.replayer`\r\n* `table.scan.dispatcher`\r\n* `table.bloom.key.functor`\r\n* `table.majc.compaction.strategy`\r\n* `table.sampler`\r\n* `replication.work.assigner`\r\n* `trace.span.receivers`\r\n* `tserver.cache.manager.class`\r\n* `tserver.scan.executors.default.prioritizer`\r\n* `table.balancer`\r\n* `table.formatter`\r\n* `table.interepreter`\r\n\r\nI attempted an initial solution for this using ServiceLoader, but there are some drawbacks. The primary one is that ServiceLoader requires the classes to have no-arg constructors, which prevents support for classes such as `org.apache.accumulo.tracer.ZooTraceClient`. \r\n\r\nOne alternative would be to store aliases for classes in a separate configuration file with an alias on each line (e.g. `ztclient=org.apache.accumulo.tracer.ZooTraceClient`), read the file on start up, and supply the class names as required. The trickier thing would be creating the list without hardcoding any class names, and supporting aliases for externally-supplied implementations. One possible solution would be a custom annotation and anotation processor, but any suggestions are welcome.\r\n\r\nThoughts?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516186573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516196286","html_url":"https://github.com/apache/accumulo/issues/1124#issuecomment-516196286","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1124","id":516196286,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjE5NjI4Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T23:11:22Z","updated_at":"2019-07-29T23:11:22Z","author_association":"MEMBER","body":"@lbschanno  I think the scope of the original issue was just for configuration of the block cache, but perhaps it would make sense to consider broadening the scope.\r\n\r\nRegardless, I'm not sure any of the solutions are really worth the additional hassle.\r\n\r\n@keith-turner , you created this issue originally. What do you think? Is this worth doing more generally, and is it worth doing for the narrow scope of the block cache? If this is scoped more narrowly to the cache implementation only, do you think it'd be better to have a few well-known, hard-coded short names, or would it better to make the pluggable interface itself self-describing and automatically loaded and registered from the class path like KeywordExecutable?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516196286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516405524","html_url":"https://github.com/apache/accumulo/issues/1281#issuecomment-516405524","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1281","id":516405524,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQwNTUyNA==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T12:52:46Z","updated_at":"2019-07-30T12:52:46Z","author_association":"CONTRIBUTOR","body":"This update is fairly small and straightforward.  \r\n```java\r\npublic static MetadataTime maxMetadataTime(MetadataTime mv1, MetadataTime mv2) {\r\n    // null value will sort lower\r\n    if (mv1 == null || mv2 == null)\r\n      return mv1 == null ? (mv2 == null ? null : mv2) : mv1;\r\n\r\n    return mv1.compareTo(mv2) < 0 ? mv2 : mv1;\r\n  }\r\n```\r\nThe larger work is updating the calling methods to utilize the MetadataTime objects.  At this time the only class that uses this method is TabletGroupWatcher (other than tests).  To properly do it this class should be updated to use the ample metadata implementation.  I'm thinking of just doing it as part of this ticket rather than opening a new one.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516405524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516410336","html_url":"https://github.com/apache/accumulo/issues/1281#issuecomment-516410336","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1281","id":516410336,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQxMDMzNg==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:06:33Z","updated_at":"2019-07-30T13:06:33Z","author_association":"CONTRIBUTOR","body":"Not using the ample metadata implementation results in updates to the TabletGroupWatcher like the following which isn't horrible but the time value should probably be parsed on initial read and retrieved from TabletMetadata.\r\n```java\r\n-          maxLogicalTime = TabletTime.maxMetadataTime(maxLogicalTime, value.toString());\r\n+          maxLogicalTime =\r\n+              TabletTime.maxMetadataTime(maxLogicalTime, MetadataTime.parse(value.toString()));\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516410336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516413290","html_url":"https://github.com/apache/accumulo/issues/1281#issuecomment-516413290","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1281","id":516413290,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQxMzI5MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:14:29Z","updated_at":"2019-07-30T13:14:29Z","author_association":"CONTRIBUTOR","body":"> This update is fairly small and straightforward.\r\n\r\nFor `maxMetadataTime(MetadataTime mv1, MetadataTime mv2)` would it make sense to throw an exception if the time types are not the same?  I am not sure how this method is used.  If the time types are expected to be the same (this would be the case it ifs only used to compare times from the same table) then `Long.max()` could be used after checking the time types.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516413290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516417782","html_url":"https://github.com/apache/accumulo/issues/1124#issuecomment-516417782","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1124","id":516417782,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQxNzc4Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:26:33Z","updated_at":"2019-07-30T13:26:33Z","author_association":"CONTRIBUTOR","body":"> Is this worth doing more generally, and is it worth doing for the narrow scope of the block cache?\r\n\r\nI used the block cache as an example, but I was thinking more generally.  \r\n\r\n> One possible solution would be a custom annotation and anotation processor, but any suggestions are welcome.\r\n\r\nAnnotations seem like a really nice way to do this, but I am not sure what the gotchas are.  Not sure if its possible to find all of the classes with a given annotation.  Seems like if it works well it could make it easy for users and developers.  The annotation could exist in a SPI packages and be documented by the class config type.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516417782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516420158","html_url":"https://github.com/apache/accumulo/issues/1281#issuecomment-516420158","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1281","id":516420158,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQyMDE1OA==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:32:19Z","updated_at":"2019-07-30T13:32:19Z","author_association":"CONTRIBUTOR","body":"the types are checked in the compareTo\r\n```java\r\n@Override\r\n  public int compareTo(MetadataTime mtime) {\r\n    if (this.type.equals(mtime.getType()))\r\n      return this.time < mtime.getTime() ? -1 : this.time > mtime.getTime() ? 1 : 0;\r\n    else\r\n      throw new IllegalArgumentException(\r\n          \"Cannot compare different time types: \" + this + \" and \" + mtime);\r\n  }\r\n```\r\nThe times do come from the same table.  I'm not sure I understand the Long.max() usage here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516420158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516425345","html_url":"https://github.com/apache/accumulo/issues/1281#issuecomment-516425345","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1281","id":516425345,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQyNTM0NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:45:11Z","updated_at":"2019-07-30T13:45:11Z","author_association":"CONTRIBUTOR","body":"I was thinking `Long.max()` could be used in `maxMetadataTime`, but I didn't realize that compareTo was already checking the type.  Could use `Long.compare(x,y)` in the `MetadataTime.compareTo()` method.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516425345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516428861","html_url":"https://github.com/apache/accumulo/issues/1281#issuecomment-516428861","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1281","id":516428861,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQyODg2MQ==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:53:50Z","updated_at":"2019-07-30T13:53:50Z","author_association":"CONTRIBUTOR","body":"thanks :+1: ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516428861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516517339","html_url":"https://github.com/apache/accumulo/issues/1124#issuecomment-516517339","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1124","id":516517339,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjUxNzMzOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T17:32:32Z","updated_at":"2019-07-30T17:33:48Z","author_association":"MEMBER","body":"Creating a custom annotation processor seems like a bad idea. It's not going to be very useful to users packaging their own external implementation of these SPIs. Runtime processing of annotations could work, but doing so is slow and kills JVM startup times... which is why the ServiceLoader exists. Google has an annotation processor for creating the `META-INF/services` file for the ServiceLoader... which is what I used for the `KeywordExecutable` stuff... but again... it's not very convenient for external implementers, in addition to the drawbacks @lbschanno identified above.\r\n\r\nI think the only reasonable solution is to use short names for built-in implementations that we ship... and rely on fully-qualified class name for any others created externally. It's easier to not even try to provide short names for user-provided implementations.\r\n\r\nBut, I'm not convinced any of this is really worth the effort. I don't think fully-qualified class names are that difficult to work with in configs, especially when those configs are relatively static.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516517339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516878994","html_url":"https://github.com/apache/accumulo/issues/1122#issuecomment-516878994","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1122","id":516878994,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjg3ODk5NA==","user":{"login":"lbschanno","id":52420215,"node_id":"MDQ6VXNlcjUyNDIwMjE1","avatar_url":"https://avatars.githubusercontent.com/u/52420215?v=4","gravatar_id":"","url":"https://api.github.com/users/lbschanno","html_url":"https://github.com/lbschanno","followers_url":"https://api.github.com/users/lbschanno/followers","following_url":"https://api.github.com/users/lbschanno/following{/other_user}","gists_url":"https://api.github.com/users/lbschanno/gists{/gist_id}","starred_url":"https://api.github.com/users/lbschanno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lbschanno/subscriptions","organizations_url":"https://api.github.com/users/lbschanno/orgs","repos_url":"https://api.github.com/users/lbschanno/repos","events_url":"https://api.github.com/users/lbschanno/events{/privacy}","received_events_url":"https://api.github.com/users/lbschanno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T14:41:06Z","updated_at":"2019-07-31T14:41:06Z","author_association":"CONTRIBUTOR","body":"@keith-turner is this fixed by PR #1241?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516878994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516891784","html_url":"https://github.com/apache/accumulo/issues/1122#issuecomment-516891784","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1122","id":516891784,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjg5MTc4NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T15:10:20Z","updated_at":"2019-07-31T15:10:20Z","author_association":"CONTRIBUTOR","body":"> @keith-turner is this fixed by PR #1241?\r\n\r\nNo, there were some nice improvements there.  However its still globally synchronized. Those changes sped up some of the work done while the lock is held.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516891784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516893821","html_url":"https://github.com/apache/accumulo/issues/1122#issuecomment-516893821","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1122","id":516893821,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjg5MzgyMQ==","user":{"login":"lbschanno","id":52420215,"node_id":"MDQ6VXNlcjUyNDIwMjE1","avatar_url":"https://avatars.githubusercontent.com/u/52420215?v=4","gravatar_id":"","url":"https://api.github.com/users/lbschanno","html_url":"https://github.com/lbschanno","followers_url":"https://api.github.com/users/lbschanno/followers","following_url":"https://api.github.com/users/lbschanno/following{/other_user}","gists_url":"https://api.github.com/users/lbschanno/gists{/gist_id}","starred_url":"https://api.github.com/users/lbschanno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lbschanno/subscriptions","organizations_url":"https://api.github.com/users/lbschanno/orgs","repos_url":"https://api.github.com/users/lbschanno/repos","events_url":"https://api.github.com/users/lbschanno/events{/privacy}","received_events_url":"https://api.github.com/users/lbschanno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T15:15:11Z","updated_at":"2019-07-31T15:15:11Z","author_association":"CONTRIBUTOR","body":"@keith-turner understood, thanks for explaining.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516893821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516941066","html_url":"https://github.com/apache/accumulo/issues/1122#issuecomment-516941066","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1122","id":516941066,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjk0MTA2Ng==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T17:18:25Z","updated_at":"2019-07-31T17:18:25Z","author_association":"CONTRIBUTOR","body":"Go for it @lbschanno !","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516941066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516967842","html_url":"https://github.com/apache/accumulo/pull/1276#issuecomment-516967842","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1276","id":516967842,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjk2Nzg0Mg==","user":{"login":"lbschanno","id":52420215,"node_id":"MDQ6VXNlcjUyNDIwMjE1","avatar_url":"https://avatars.githubusercontent.com/u/52420215?v=4","gravatar_id":"","url":"https://api.github.com/users/lbschanno","html_url":"https://github.com/lbschanno","followers_url":"https://api.github.com/users/lbschanno/followers","following_url":"https://api.github.com/users/lbschanno/following{/other_user}","gists_url":"https://api.github.com/users/lbschanno/gists{/gist_id}","starred_url":"https://api.github.com/users/lbschanno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lbschanno/subscriptions","organizations_url":"https://api.github.com/users/lbschanno/orgs","repos_url":"https://api.github.com/users/lbschanno/repos","events_url":"https://api.github.com/users/lbschanno/events{/privacy}","received_events_url":"https://api.github.com/users/lbschanno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T18:32:16Z","updated_at":"2019-07-31T18:32:16Z","author_association":"CONTRIBUTOR","body":"@keith-turner thanks for the changes, they've been merged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516967842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516977831","html_url":"https://github.com/apache/accumulo/pull/1276#issuecomment-516977831","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1276","id":516977831,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjk3NzgzMQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T18:58:47Z","updated_at":"2019-07-31T18:58:47Z","author_association":"CONTRIBUTOR","body":"Merged b9505a6a36a97dc9c029f6621648e83e8f867507","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516977831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516979065","html_url":"https://github.com/apache/accumulo/issues/824#issuecomment-516979065","issue_url":"https://api.github.com/repos/apache/accumulo/issues/824","id":516979065,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjk3OTA2NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T19:02:14Z","updated_at":"2019-07-31T19:02:14Z","author_association":"CONTRIBUTOR","body":"b9505a6a36a97dc9c029f6621648e83e8f867507","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516979065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516980620","html_url":"https://github.com/apache/accumulo/issues/1281#issuecomment-516980620","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1281","id":516980620,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjk4MDYyMA==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T19:06:47Z","updated_at":"2019-07-31T19:06:47Z","author_association":"CONTRIBUTOR","body":"Changing my mind on including the TabletGroupWatcher ample updates in this ticket.  The class requires a \"mulitple tablet\" read which I do not think is implemented yet.  It has generated more questions for @keith-turner on the vision for ample. Created issue #1301 .","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/516980620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517069202","html_url":"https://github.com/apache/accumulo/pull/1239#issuecomment-517069202","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1239","id":517069202,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA2OTIwMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T00:17:04Z","updated_at":"2019-08-01T00:17:04Z","author_association":"MEMBER","body":"@milleruntime While triaging old JIRA issues, I came across the following relevant issue: https://issues.apache.org/jira/browse/ACCUMULO-1632","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517069202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517331955","html_url":"https://github.com/apache/accumulo/pull/1239#issuecomment-517331955","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1239","id":517331955,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzMzMTk1NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T15:16:08Z","updated_at":"2019-08-01T15:16:08Z","author_association":"CONTRIBUTOR","body":"> @milleruntime While triaging old JIRA issues, I came across the following relevant issue: https://issues.apache.org/jira/browse/ACCUMULO-1632\r\n\r\nCool, thanks!  I am going to close this PR since I don't think it is the direction we want to go with this redesign. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517331955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517332990","html_url":"https://github.com/apache/accumulo/issues/1221#issuecomment-517332990","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1221","id":517332990,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzMzMjk5MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T15:18:40Z","updated_at":"2019-08-01T15:18:40Z","author_association":"CONTRIBUTOR","body":"It would be good to incorporate ideas in this design that @ctubbsii had previously documented here:\r\nhttps://issues.apache.org/jira/browse/ACCUMULO-1632","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517332990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517424624","html_url":"https://github.com/apache/accumulo/pull/1299#issuecomment-517424624","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1299","id":517424624,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQyNDYyNA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T19:26:45Z","updated_at":"2019-08-01T19:26:45Z","author_association":"CONTRIBUTOR","body":"I believe this update addresses the comments - still need to perform stand-alone testing before merge.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517424624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517766495","html_url":"https://github.com/apache/accumulo/issues/1305#issuecomment-517766495","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1305","id":517766495,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzc2NjQ5NQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T16:35:12Z","updated_at":"2019-08-02T16:35:12Z","author_association":"CONTRIBUTOR","body":"Is this as simple as removing the dependency in the assemble pom file or does there need to be more trimming? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517766495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517812832","html_url":"https://github.com/apache/accumulo/issues/1305#issuecomment-517812832","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1305","id":517812832,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzgxMjgzMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T19:08:48Z","updated_at":"2019-08-02T19:08:48Z","author_association":"MEMBER","body":"> Is this as simple as removing the dependency in the assemble pom file or does there need to be more trimming?\r\n\r\nI think so, but I would do a build to check for warnings from the assembly plugin to be sure, and verify the output tarball. There may need to be changes to the assembly descriptor xml file, too... but maybe not.\r\n\r\nThe main reason for posting this here, was to solicit feedback. May want to start a discussion on the dev list before taking action, to be sure nobody objects.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/517812832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518320209","html_url":"https://github.com/apache/accumulo/issues/1309#issuecomment-518320209","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1309","id":518320209,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODMyMDIwOQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T17:14:01Z","updated_at":"2019-08-05T17:14:01Z","author_association":"CONTRIBUTOR","body":"Below are some possible ways to fix this..\r\n\r\n * Disable the ability to clone the metadata table\r\n * Make cloning the metadata table copy files.  This would have to handle race conditions with GC.\r\n * Rewrite the Accumulo GC to handle this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518320209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518368495","html_url":"https://github.com/apache/accumulo/pull/1310#issuecomment-518368495","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1310","id":518368495,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODM2ODQ5NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T19:32:28Z","updated_at":"2019-08-05T19:32:28Z","author_association":"CONTRIBUTOR","body":"I noticed this while working on #936.  It seems the GC of walogs does not look at what walogs the root tablet may be using.  In many cases if the root tablet has walogs it likely that the metadata table can not be read and GC would block.  However this is not always the case as the location of the metadata table may be cached and metadata tablets may still be online.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518368495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518372749","html_url":"https://github.com/apache/accumulo/issues/1309#issuecomment-518372749","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1309","id":518372749,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODM3Mjc0OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T19:45:59Z","updated_at":"2019-08-05T19:45:59Z","author_association":"MEMBER","body":"I think it should be simple enough for the GC to check for candidates in use by all sources. Would that be sufficient?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518372749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518409658","html_url":"https://github.com/apache/accumulo/issues/1309#issuecomment-518409658","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1309","id":518409658,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQwOTY1OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T21:35:20Z","updated_at":"2019-08-05T21:35:20Z","author_association":"CONTRIBUTOR","body":"> I think it should be simple enough for the GC to check for candidates in use by all sources\r\n\r\nConceptually it seems simple and I can not think of any gotchas at the moment.  I don't think the code change would be simple.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518409658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518410244","html_url":"https://github.com/apache/accumulo/issues/1309#issuecomment-518410244","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1309","id":518410244,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQxMDI0NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T21:37:07Z","updated_at":"2019-08-05T21:37:07Z","author_association":"CONTRIBUTOR","body":"> I think it should be simple enough for the GC to check for candidates in use by all sources.\r\n\r\nWould not want to do this for 1.9. I am leaning twoards throwing an error in 1.9 if an attempt to clone the metadata table is made.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518410244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518452526","html_url":"https://github.com/apache/accumulo/issues/1309#issuecomment-518452526","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1309","id":518452526,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ1MjUyNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T00:47:04Z","updated_at":"2019-08-06T00:47:04Z","author_association":"MEMBER","body":"> > I think it should be simple enough for the GC to check for candidates in use by all sources.\r\n> \r\n> Would not want to do this for 1.9. I am leaning twoards throwing an error in 1.9 if an attempt to clone the metadata table is made.\r\n\r\n:+1: This is the current behavior in 1.9 for the root table.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518452526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518454922","html_url":"https://github.com/apache/accumulo/issues/1309#issuecomment-518454922","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1309","id":518454922,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ1NDkyMg==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T01:01:08Z","updated_at":"2019-08-06T01:01:08Z","author_association":"MEMBER","body":"Wow, this is a good catch.  Should we send out a warning on user and dev?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518454922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518490515","html_url":"https://github.com/apache/accumulo/issues/1309#issuecomment-518490515","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1309","id":518490515,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ5MDUxNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T04:13:20Z","updated_at":"2019-08-06T04:13:20Z","author_association":"MEMBER","body":"> Wow, this is a good catch. Should we send out a warning on user and dev?\r\n\r\nYes, that's a good idea.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518490515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518764847","html_url":"https://github.com/apache/accumulo/issues/1309#issuecomment-518764847","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1309","id":518764847,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODc2NDg0Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T17:23:14Z","updated_at":"2019-08-06T17:23:14Z","author_association":"CONTRIBUTOR","body":"The following is a much simpler situation that could lead to deleting metadata table files.\r\n\r\n```\r\nroot@uno> clonetable accumulo.metadata mc1\r\nroot@uno> compact -t mc1\r\n```\r\n\r\nThe compaction of the clone causes `~del` entries to be inserted into the metadata table for metadata table files.  After the above commands are run and the Accumulo GC runs there is a high chance that significant data loss would occur for the metadata table.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518764847/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518800742","html_url":"https://github.com/apache/accumulo/issues/1309#issuecomment-518800742","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1309","id":518800742,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODgwMDc0Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T19:01:12Z","updated_at":"2019-08-06T19:01:12Z","author_association":"CONTRIBUTOR","body":"If you have cloned the metadata table in the past I would recommend compacting the metadata table.  This will cause it to have a new set of files different from the clone.\r\n\r\n```\r\nroot@uno foo> clonetable accumulo.metadata mc1\r\nroot@uno> tables -l\r\naccumulo.metadata    =>        !0\r\naccumulo.replication =>      +rep\r\naccumulo.root        =>        +r\r\nfoo                  =>         2\r\nmc1                  =>         4\r\ntrace                =>         1\r\nroot@uno foo> scan -t accumulo.root -c file\r\n!0;~ file:hdfs://localhost:8020/accumulo/tables/!0/table_info/A000000f.rf []    508,13\r\n!0< file:hdfs://localhost:8020/accumulo/tables/!0/default_tablet/F000000e.rf []    338,1\r\nroot@uno foo> scan -t accumulo.metadata -c file\r\n4;~ file:hdfs://localhost:8020/accumulo/tables/!0/table_info/A000000f.rf []    508,13\r\n4< file:hdfs://localhost:8020/accumulo/tables/!0/default_tablet/F000000e.rf []    338,1\r\nroot@uno foo> compact accumulo.metadata\r\n2019-08-06 14:56:27,547 [shell.Shell] INFO : Compaction of table accumulo.metadata started for given range\r\nroot@uno foo> scan -t accumulo.root -c file\r\n!0;~ file:hdfs://localhost:8020/accumulo/tables/!0/table_info/A000000o.rf []    749,25\r\nroot@uno foo> scan -t accumulo.metadata -c file\r\n4;~ file:hdfs://localhost:8020/accumulo/tables/!0/table_info/A000000f.rf []    508,13\r\n4< file:hdfs://localhost:8020/accumulo/tables/!0/default_tablet/F000000e.rf []    338,1\r\n```\r\n\r\nAfter the compaction above the files referenced in `accumulo.root` are different.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/518800742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519109760","html_url":"https://github.com/apache/accumulo/pull/1312#issuecomment-519109760","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1312","id":519109760,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEwOTc2MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T13:58:21Z","updated_at":"2019-08-07T13:58:21Z","author_association":"CONTRIBUTOR","body":"> That repository has a 1.9 branch, specifically for testing the 1.9 code.\r\n\r\nThat branch has diverged significantly from the accumulo-testing master branch.  I don't think its worth the effort to try to keep it up to date for 1.9 or add new stuff to it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519109760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519120054","html_url":"https://github.com/apache/accumulo/pull/1312#issuecomment-519120054","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1312","id":519120054,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEyMDA1NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T14:23:25Z","updated_at":"2019-08-07T14:23:25Z","author_association":"CONTRIBUTOR","body":"> I think it's worth considering adding this to the accumulo-testing repository instead. That repository has a 1.9 branch, specifically for testing the 1.9 code. It doesn't necessarily make sense to continue pushing new tests to both the main repo's 1.9 branch and to the separate testing repo's 1.9 branch. Since the testing code was intended to be moved out, and I know @mikewalch did some work to get tests in that 1.9 branch of the accumulo-testing repo working, I think if we can let this code live there instead, we should do that. It'd be nice to reduce the amount of changes made to the 1.9 branch in the main repo.\r\n\r\nI wouldn't be interested in that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519120054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519121329","html_url":"https://github.com/apache/accumulo/pull/1312#issuecomment-519121329","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1312","id":519121329,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEyMTMyOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T14:26:27Z","updated_at":"2019-08-07T14:28:10Z","author_association":"MEMBER","body":"> > That repository has a 1.9 branch, specifically for testing the 1.9 code.\r\n> \r\n> That branch has diverged significantly from the accumulo-testing master branch. I don't think its worth the effort to try to keep it up to date for 1.9 or add new stuff to it.\r\n\r\nWhy does it matter that it has diverged from its master? This repo is even more divergent from the testing master. Why does the difference with the testing/master branch matter? From my perspective, what matters is that this is entirely new test code to 1.9... and the question is where do we want to maintain a suite of testing code that isn't part of ITs/UTs. As far as I can tell, we already made that decision, and it was too maintain it in the separate repo. More recent work has been done there since that decision than here. So, it doesn't make sense to me that we'd put this new code here. I'm open to an argument for having it here, I just don't understand the case made so far.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519121329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519140031","html_url":"https://github.com/apache/accumulo/pull/1312#issuecomment-519140031","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1312","id":519140031,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE0MDAzMQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:09:22Z","updated_at":"2019-08-07T15:09:22Z","author_association":"CONTRIBUTOR","body":"> Why does it matter that it has diverged from its master?\r\n\r\nBecause the changes are quite significant.  For example since that 1.9 branch was created accumulo-testing has moved from a model of running things in YARN to running them in docker.  The yarn code was a pain and had some significant problems. I think the yarn code did not support Hadoop 3 because it used Twill which at the time did not support Hadoop 3.  It would take a alot of effort to get that branch in good shape.  If someone gets the branch into a better state, then it  would make sense to make these changes there.  Without someone spending a significant amount of time on that branch I think this is a sensible approach to get an extremely useful test into 1.9.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519140031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519156001","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-519156001","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":519156001,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE1NjAwMQ==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:47:27Z","updated_at":"2019-08-07T15:47:27Z","author_association":"CONTRIBUTOR","body":"Currently one is allowed to create invalid or empty delete entries as demonstrated by the GarbageCollectorIT test:\r\n ```java\r\n bw.addMutation(createDelMutation(\"\", \"\", \"\", \"\"));\r\n        bw.addMutation(createDelMutation(\"\", \"testDel\", \"test\", \"valueTest\"));\r\n        bw.addMutation(createDelMutation(\"/\", \"\", \"\", \"\"));\r\n      }\r\n```\r\nThe flagging of the error does not occur until GarbageCollectionAlgrithm.makeRelative is called which occurs after the prefix is stripped and the mutation is deciphered into a relative path name.  Since this ticket is talking about using  a hashcode of the path as part of the key then what should be done with an empty or null path?\r\n1. Allow it and have a defaut null hash something like 00000000x, later to be caught by makeRelative?\r\n2. Throw a runtime error at creation (in MetadataSchema.DeletesSection.getRowPrefix(path)\r\n  ```java\r\n if (path == null || path.isEmpty())\r\n        return section.getRowPrefix() + \"00000000\"; \r\nOR\r\n        throw IllegalArgumentException():\r\n  \r\n```\r\nNo exceptions or explicit runtimes are thrown in MetadataSchema at present.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519156001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519157085","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-519157085","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":519157085,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE1NzA4NQ==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:50:09Z","updated_at":"2019-08-07T15:50:09Z","author_association":"CONTRIBUTOR","body":"My next question - how is code that requires a migration path managed?  Would it be checked into the master baseline for 2.1?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519157085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519163786","html_url":"https://github.com/apache/accumulo/pull/1299#issuecomment-519163786","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1299","id":519163786,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE2Mzc4Ng==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T16:06:54Z","updated_at":"2019-08-07T16:06:54Z","author_association":"CONTRIBUTOR","body":"I was wondering about this recently ( as a feature to want ) and was pointed to this -- seems to work well and looks good! ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519163786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519168761","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-519168761","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":519168761,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE2ODc2MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T16:19:53Z","updated_at":"2019-08-07T16:19:53Z","author_association":"MEMBER","body":"> My next question - how is code that requires a migration path managed? Would it be checked into the master baseline for 2.1?\r\n\r\nYes. Any code required to upgrade the metadata, or to handle the old delete markers would be in the 2.1 code checked into the master branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519168761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519170241","html_url":"https://github.com/apache/accumulo/pull/1312#issuecomment-519170241","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1312","id":519170241,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE3MDI0MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T16:23:39Z","updated_at":"2019-08-07T16:23:39Z","author_association":"MEMBER","body":"If the testing/1.9 branch is not in a good state compared to the accumulo/1.9 branch here, that's sufficient reason to avoid it for me. Thank you for taking the time to consider it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519170241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519177700","html_url":"https://github.com/apache/accumulo/pull/1312#issuecomment-519177700","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1312","id":519177700,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE3NzcwMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T16:43:55Z","updated_at":"2019-08-07T16:43:55Z","author_association":"MEMBER","body":"There seems to be a strange Travis test failure. It doesn't seem related.\r\n\r\n```\r\n[INFO] Running org.apache.accumulo.minicluster.impl.MiniAccumuloClusterImplTest\r\n[ERROR] Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 27.377 s <<< FAILURE! - in org.apache.accumulo.minicluster.impl.MiniAccumuloClusterImplTest\r\n[ERROR] saneMonitorInfo(org.apache.accumulo.minicluster.impl.MiniAccumuloClusterImplTest)  Time elapsed: 0.179 s  <<< FAILURE!\r\njava.lang.AssertionError: our test table should exist in [+r, !0]\r\n\tat org.apache.accumulo.minicluster.impl.MiniAccumuloClusterImplTest.saneMonitorInfo(MiniAccumuloClusterImplTest.java:122)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519177700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519182524","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-519182524","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":519182524,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE4MjUyNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T16:57:22Z","updated_at":"2019-08-07T16:57:22Z","author_association":"MEMBER","body":"> * Allow it and have a defaut null hash something like 00000000x, later to be caught by makeRelative?\r\n\r\nThis seems reasonable to me.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519182524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519242129","html_url":"https://github.com/apache/accumulo/pull/1313#issuecomment-519242129","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1313","id":519242129,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTI0MjEyOQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T19:43:42Z","updated_at":"2019-08-07T19:43:42Z","author_association":"CONTRIBUTOR","body":"Below are tserver logs showing the root tablet compacting.  At the debug level the json stored in Zookeeper for the root tablet is shown.  In the logs below the files `A000004i.rf`and `F000004k.rf` were compacted into `A000004l.rf`.  After the compaction finished two things were updated in Zookeeper the list of deletion candidates and the list of files for the root tablet.  The json for both of those updates is shown below.\r\n\r\n\r\n```\r\n2019-08-07 15:39:07,782 [tablet.Tablet] DEBUG: Starting MajC +r<< (NORMAL) [hdfs://localhost:8020/accumulo/tables/+r/root_tablet/F000004k.rf, hdfs://localhost:8020/accumulo/tables/+r/root_tablet/A000004i.rf] -->\r\n hdfs://localhost:8020/accumulo/tables/+r/root_tablet/A000004l.rf_tmp []\r\n2019-08-07 15:39:07,840 [constraints.ConstraintChecker] DEBUG: Loaded constraint org.apache.accumulo.core.constraints.DefaultKeySizeConstraint for 1\r\n2019-08-07 15:39:08,317 [tablet.Compactor] DEBUG: Compaction +r<< 40 read | 17 written |    373 entries/sec |  0.107 secs |          821 bytes |  7672.897 byte/sec\r\n2019-08-07 15:39:08,324 [metadata.ServerAmpleImpl] DEBUG: Root GC candidates before change : {\r\n \"version\": 1,\r\n \"candidates\": {\r\n  \"hdfs://localhost:8020/accumulo/tables/+r/root_tablet\": [\r\n   \"A000004d.rf\",\r\n   \"F000004h.rf\"\r\n  ]\r\n }\r\n}\r\n2019-08-07 15:39:08,324 [metadata.ServerAmpleImpl] DEBUG: Root GC candidates after change  : {\r\n \"version\": 1,\r\n \"candidates\": {\r\n  \"hdfs://localhost:8020/accumulo/tables/+r/root_tablet\": [\r\n   \"A000004d.rf\",\r\n   \"A000004i.rf\",\r\n   \"F000004h.rf\",\r\n   \"F000004k.rf\"\r\n  ]\r\n }\r\n}\r\n2019-08-07 15:39:08,328 [metadata.RootTabletMutatorImpl] DEBUG: Before mutating : {\r\n  \"version\": 1,\r\n  \"columnValues\": {\r\n    \"file\": {\r\n      \"hdfs://localhost:8020/accumulo/tables/+r/root_tablet/A000004i.rf\": \"882,23\",\r\n      \"hdfs://localhost:8020/accumulo/tables/+r/root_tablet/F000004k.rf\": \"727,17\"\r\n    },\r\n    \"last\": {\r\n      \"100020b96f10015\": \"edev:9997\"\r\n    },\r\n    \"loc\": {\r\n      \"100020b96f10015\": \"edev:9997\"\r\n    },\r\n    \"srv\": {\r\n      \"dir\": \"hdfs://localhost:8020/accumulo/tables/+r/root_tablet\",\r\n      \"flush\": \"4\",\r\n      \"lock\": \"tservers/edev:9997/zlock-0000000000$100020b96f10015\",\r\n      \"time\": \"L39\"\r\n    },\r\n    \"~tab\": {\r\n      \"~pr\": \"\\^@\"\r\n    }\r\n  }\r\n}, \r\n2019-08-07 15:39:08,329 [metadata.RootTabletMutatorImpl] DEBUG: After mutating : {\r\n  \"version\": 1,\r\n  \"columnValues\": {\r\n    \"file\": {\r\n      \"hdfs://localhost:8020/accumulo/tables/+r/root_tablet/A000004l.rf\": \"821,17\"\r\n    },\r\n    \"last\": {\r\n      \"100020b96f10015\": \"edev:9997\"\r\n    },\r\n    \"loc\": {\r\n      \"100020b96f10015\": \"edev:9997\"\r\n    },\r\n    \"srv\": {\r\n      \"dir\": \"hdfs://localhost:8020/accumulo/tables/+r/root_tablet\",\r\n      \"flush\": \"4\",\r\n      \"lock\": \"tservers/edev:9997/zlock-0000000000$100020b96f10015\",\r\n      \"time\": \"L39\"\r\n    },\r\n    \"~tab\": {\r\n      \"~pr\": \"\\^@\"\r\n    }\r\n  }\r\n} \r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519242129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519436513","html_url":"https://github.com/apache/accumulo/issues/1314#issuecomment-519436513","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1314","id":519436513,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTQzNjUxMw==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T09:09:52Z","updated_at":"2019-08-08T09:09:52Z","author_association":"CONTRIBUTOR","body":"I have two options available for review - one modifies the SimpleTimer to return the Future<> instead of void, implements AutoCloseable to call cancel on the future. (https://github.com/EdColeman/accumulo/tree/gc_thread_issue_1314_close_option)\r\n\r\nThe second calls scan server directly, the GC task does not appear to do anything with the updates other than log - this avoids the start listening call that creates / schedules the timed task. (https://github.com/EdColeman/accumulo/tree/gc_thread_issue_1314_one_shot_option)\r\n\r\nThe second is cleaner and solves this immediate problem.  Returning the Future<> may be usefull for other cases where the call back / listener is doing more and calling scanServers directly is not an option - need to examine other SimpleTimer usages,\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519436513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519587395","html_url":"https://github.com/apache/accumulo/issues/1315#issuecomment-519587395","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1315","id":519587395,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU4NzM5NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T16:17:02Z","updated_at":"2019-08-08T16:17:02Z","author_association":"MEMBER","body":"Hi @alerman . This sounds very useful, but it also sounds a bit outside the scope of Accumulo itself. It seems instead like a feature for a provisioning or cluster management tool.\r\n\r\nWhile we do provide basic launch scripts in Accumulo, one of the design elements of the Accumulo 2.0.0 script rewrite was to \"do less\" in the scripts, dramatically simplifying them, in order for us to get out of the business of trying to be a feature-rich \"java process launcher / cluster management tool\" and to decouple our dependency on our specific scripts. Script simplification and decoupling allows for more easy integration with external utilities which have more complex (and possibly environment-specific) features.\r\n\r\nI would prefer to keep this \"do less\" principle in place within the project, and place such features as cluster health checks in external utilities. I think the best way to support external features like this is to keep the scripts simple and flexible. If we can support such external features by a change in Accumulo to make it more flexible, without baking the feature into Accumulo (like adding integration points), I'd be more strongly in favor of that option.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519587395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519589063","html_url":"https://github.com/apache/accumulo/issues/1315#issuecomment-519589063","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1315","id":519589063,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU4OTA2Mw==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T16:21:16Z","updated_at":"2019-08-08T16:21:35Z","author_association":"CONTRIBUTOR","body":"One method that I have seen is to have a known location on each node (say /service_runtime) and then specific files, identified by file name can indicate if the service can / should be started.  The presence of a /service_runtime/no_accumulo or /service_runtime/no_xxxx is checked in the start scripts used by things like systemd.  The absence of a file is taken as a go.\r\n\r\nThe presence of a no_xxx files can be a simple as a 0 length file (touch /service_runtime/no_xxxx) but because it is a file it allows for content / descriptions.  So, even more helpful than just a 0 length file is a comment describing why, mabe who and possibly pointing to a trouble ticket) that way, you don't need a lot of detective work to figure out why it was disabled in the first place and if conditions have changed so that it could be safely put back in service.\r\n\r\nFor example it's pretty clear if you create a no_xxxx file with a comment like \"removed from service because disk1 failed.\" - anyone coming along can see why, check if the disk has fixed itself or magically gotten healthy, remove the file and restart.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519589063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519590497","html_url":"https://github.com/apache/accumulo/issues/1316#issuecomment-519590497","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1316","id":519590497,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU5MDQ5Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T16:25:02Z","updated_at":"2019-08-08T16:25:02Z","author_association":"CONTRIBUTOR","body":"Could use much shorter logger names like `accumulo.tablet` and `accumulo.wal` like Fluo does.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519590497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519592432","html_url":"https://github.com/apache/accumulo/issues/1249#issuecomment-519592432","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1249","id":519592432,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU5MjQzMg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T16:30:07Z","updated_at":"2019-08-08T16:30:07Z","author_association":"CONTRIBUTOR","body":"#1316 has overlapping goals.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519592432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519593463","html_url":"https://github.com/apache/accumulo/issues/1316#issuecomment-519593463","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1316","id":519593463,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU5MzQ2Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T16:32:46Z","updated_at":"2019-08-08T16:32:46Z","author_association":"CONTRIBUTOR","body":"In addition to documenting the loggers in the user manual, it would be nice to create a schema for these log events  that could be used by log stash apache/fluo-muchos#254","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519593463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519599405","html_url":"https://github.com/apache/accumulo/issues/1317#issuecomment-519599405","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1317","id":519599405,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU5OTQwNQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T16:48:55Z","updated_at":"2019-08-08T16:49:07Z","author_association":"CONTRIBUTOR","body":"I've taken a first run at this - current available at: https://github.com/EdColeman/accumulo/tree/listTabletsCmd exploring what may be possible at to start a discussion.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519599405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519600505","html_url":"https://github.com/apache/accumulo/issues/1316#issuecomment-519600505","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1316","id":519600505,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTYwMDUwNQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T16:51:44Z","updated_at":"2019-08-08T16:52:03Z","author_association":"CONTRIBUTOR","body":"I'm interested in taking a run at this as well as #1249 - not assigning myself at this time in case other events delay me in starting to work the issue(s)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519600505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519609392","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-519609392","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":519609392,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTYwOTM5Mg==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T17:16:19Z","updated_at":"2019-08-08T17:18:04Z","author_association":"CONTRIBUTOR","body":"\r\n> Rewrite the metdata table on upgrade and recompute the split points.\r\n>     Support del entries with and without the hash. One possible way to do this is with a different prefix like ~deh that indicates a hash is present.\r\n\r\nThese may be combined by utilizing one of the \"un-utilized\" cf or cq.  These are currently empty as is visibility ts, .... If the new hashed delete added the hashcode also as a cf it could be used to determine the length of the prefix to remove - which would be 0 for the empty cf , aka old delete entry.  Something like the following:\r\n```java\r\n  // find candidates for deletion; chop off the prefix\r\n      for (Entry<Key,Value> entry : scanner) {\r\n        String cand = entry.getKey().getRow().toString()\r\n//old            .substring(MetadataSchema.DeletesSection.getRowPrefix().length());\r\n .substring(MetadataSchema.DeletesSection.getRowPrefixLength()+entry.getKey().getColumnFamily().toString().length();\r\n        result.add(cand);\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519609392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519619530","html_url":"https://github.com/apache/accumulo/issues/1293#issuecomment-519619530","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1293","id":519619530,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTYxOTUzMA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T17:44:45Z","updated_at":"2019-08-08T17:44:45Z","author_association":"CONTRIBUTOR","body":"I'll try to add this along with the -t tablename option.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519619530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519619973","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-519619973","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":519619973,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTYxOTk3Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T17:45:51Z","updated_at":"2019-08-08T17:45:51Z","author_association":"CONTRIBUTOR","body":"I think it would make sense to fail fast on empty paths throwing and exception when trying to set them.  Anything that consumes gc candidate paths should also fail on empy paths, but in practice it would not see them.  I have found its nice if code that reads persisted data does not assumet that it was written in a certain way. \r\n\r\nIn #1313 I pushed all reading and writing of GC candidates into Ample and moved this out of the GC code.  I think it would make sense if Ample added and removed the hashes, but code outside of Ample was never aware of the hashes and only dealt with paths.\r\n\r\n> My next question - how is code that requires a migration path managed? Would it be checked into the master baseline for 2.1?\r\n\r\nThe metadata should be rewritten in [Upgrader9to10.upgradeMetadata()](\r\nhttps://github.com/apache/accumulo/blob/221aaf8f8805b5abfe07be5244dfbb28f8fc79d0/server/master/src/main/java/org/apache/accumulo/master/upgrade/Upgrader9to10.java#L66)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519619973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519686535","html_url":"https://github.com/apache/accumulo/issues/1315#issuecomment-519686535","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1315","id":519686535,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY4NjUzNQ==","user":{"login":"alerman","id":119506,"node_id":"MDQ6VXNlcjExOTUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/119506?v=4","gravatar_id":"","url":"https://api.github.com/users/alerman","html_url":"https://github.com/alerman","followers_url":"https://api.github.com/users/alerman/followers","following_url":"https://api.github.com/users/alerman/following{/other_user}","gists_url":"https://api.github.com/users/alerman/gists{/gist_id}","starred_url":"https://api.github.com/users/alerman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alerman/subscriptions","organizations_url":"https://api.github.com/users/alerman/orgs","repos_url":"https://api.github.com/users/alerman/repos","events_url":"https://api.github.com/users/alerman/events{/privacy}","received_events_url":"https://api.github.com/users/alerman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T21:03:03Z","updated_at":"2019-08-08T21:03:03Z","author_association":"CONTRIBUTOR","body":"@edcoleman I like that idea and it does reduce the complexity of what I had first thought. What do you think of just a check for a \"stop\" file @ctubbsii do you think just checking for a stop file would be ok?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519686535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519694061","html_url":"https://github.com/apache/accumulo/issues/1293#issuecomment-519694061","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1293","id":519694061,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY5NDA2MQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T21:27:41Z","updated_at":"2019-08-08T21:27:41Z","author_association":"CONTRIBUTOR","body":"I incorrectly interrupted the scope of this and it is not appropriate to add to the current import directory command changes targeting 1.9.x - removed myself for now in case there is other interest before I have time to revisit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519694061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519699469","html_url":"https://github.com/apache/accumulo/issues/1315#issuecomment-519699469","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1315","id":519699469,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY5OTQ2OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T21:46:19Z","updated_at":"2019-08-08T21:46:19Z","author_association":"MEMBER","body":"> @EdColeman I like that idea and it does reduce the complexity of what I had first thought. What do you think of just a check for a \"stop\" file @ctubbsii do you think just checking for a stop file would be ok?\r\n\r\nSeems okay to me. The only question for me is what changes to Accumulo's scripts would need to be made to support something like that. My hope is: none.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519699469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519719705","html_url":"https://github.com/apache/accumulo/issues/1314#issuecomment-519719705","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1314","id":519719705,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTcxOTcwNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T23:12:04Z","updated_at":"2019-08-08T23:12:04Z","author_association":"MEMBER","body":"I like option 2. Could maybe make the log message one line, rather than 3 separate messages.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519719705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519725338","html_url":"https://github.com/apache/accumulo/issues/1314#issuecomment-519725338","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1314","id":519725338,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTcyNTMzOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T23:40:48Z","updated_at":"2019-08-08T23:40:48Z","author_association":"MEMBER","body":"Hmm, option 2 isn't going to work as-is... LiveTServerSet gets torn down and reconstructed each cycle of the accumulo-gc, which means every time the accumulo-gc cycles and scanServers is called, this is going to log *every* tserver as new each time it cycles.\r\n\r\nInstead, I think we can move LiveTServerSet out into the GC, so there's only ever one copy of that listener. It can be passed in as a parameter to GarbageCollectWriteAheadLogs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519725338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519727709","html_url":"https://github.com/apache/accumulo/issues/1314#issuecomment-519727709","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1314","id":519727709,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTcyNzcwOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T23:53:55Z","updated_at":"2019-08-08T23:53:55Z","author_association":"MEMBER","body":"I did check the other occurrences of the use of starting that listener. I found 3. The other two occurrences were fine, but I did not check all uses of SimpleTimer.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519727709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519889242","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-519889242","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":519889242,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTg4OTI0Mg==","user":{"login":"nkalmar","id":5468746,"node_id":"MDQ6VXNlcjU0Njg3NDY=","avatar_url":"https://avatars.githubusercontent.com/u/5468746?v=4","gravatar_id":"","url":"https://api.github.com/users/nkalmar","html_url":"https://github.com/nkalmar","followers_url":"https://api.github.com/users/nkalmar/followers","following_url":"https://api.github.com/users/nkalmar/following{/other_user}","gists_url":"https://api.github.com/users/nkalmar/gists{/gist_id}","starred_url":"https://api.github.com/users/nkalmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkalmar/subscriptions","organizations_url":"https://api.github.com/users/nkalmar/orgs","repos_url":"https://api.github.com/users/nkalmar/repos","events_url":"https://api.github.com/users/nkalmar/events{/privacy}","received_events_url":"https://api.github.com/users/nkalmar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T11:47:58Z","updated_at":"2019-08-09T11:48:58Z","author_association":"CONTRIBUTOR","body":"ZooKeeper 3.5.0 is an early alpha release. First stable release of 3.5 branch was released 1-2 month ago. Please use that (3.5.5) version!\r\n\r\nedit: there was even minor API changes between 3.5.0 and 3.5.5. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519889242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519920891","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-519920891","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":519920891,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTkyMDg5MQ==","user":{"login":"nkalmar","id":5468746,"node_id":"MDQ6VXNlcjU0Njg3NDY=","avatar_url":"https://avatars.githubusercontent.com/u/5468746?v=4","gravatar_id":"","url":"https://api.github.com/users/nkalmar","html_url":"https://github.com/nkalmar","followers_url":"https://api.github.com/users/nkalmar/followers","following_url":"https://api.github.com/users/nkalmar/following{/other_user}","gists_url":"https://api.github.com/users/nkalmar/gists{/gist_id}","starred_url":"https://api.github.com/users/nkalmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkalmar/subscriptions","organizations_url":"https://api.github.com/users/nkalmar/orgs","repos_url":"https://api.github.com/users/nkalmar/repos","events_url":"https://api.github.com/users/nkalmar/events{/privacy}","received_events_url":"https://api.github.com/users/nkalmar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T13:34:05Z","updated_at":"2019-08-09T13:38:15Z","author_association":"CONTRIBUTOR","body":"No, that's not it! ZooKeeper has been migrated to maven (from ant based build) starting from version 3.5.5.\r\nWe have seperated the modules, and now we have zookeeper and also zookeeper-jute as a separate module (artifact). See here: https://mvnrepository.com/artifact/org.apache.zookeeper/zookeeper-jute/3.5.5\r\n\r\nSo there is an extra artifact zookeeper:zookeeper-jute that zookeeper now depends on.\r\n\r\nThe reason for separate artifact is there is a plan to replace jute with a standard serialization library (with protobuff or avro for example)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519920891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519931138","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-519931138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":519931138,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTkzMTEzOA==","user":{"login":"nkalmar","id":5468746,"node_id":"MDQ6VXNlcjU0Njg3NDY=","avatar_url":"https://avatars.githubusercontent.com/u/5468746?v=4","gravatar_id":"","url":"https://api.github.com/users/nkalmar","html_url":"https://github.com/nkalmar","followers_url":"https://api.github.com/users/nkalmar/followers","following_url":"https://api.github.com/users/nkalmar/following{/other_user}","gists_url":"https://api.github.com/users/nkalmar/gists{/gist_id}","starred_url":"https://api.github.com/users/nkalmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkalmar/subscriptions","organizations_url":"https://api.github.com/users/nkalmar/orgs","repos_url":"https://api.github.com/users/nkalmar/repos","events_url":"https://api.github.com/users/nkalmar/events{/privacy}","received_events_url":"https://api.github.com/users/nkalmar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T14:02:24Z","updated_at":"2019-08-09T14:02:24Z","author_association":"CONTRIBUTOR","body":"Since Accumulo uses curator 2.x, I'm not sure if it won't cause any problems. Only 4.x supports 3.5.x as stated on their website. \r\n\r\nIf you wan't, I can check the ZooKeeper update to 3.5.5, maybe even create a seperate ticket for it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519931138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519937890","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-519937890","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":519937890,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTkzNzg5MA==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T14:21:19Z","updated_at":"2019-08-09T14:21:19Z","author_association":"CONTRIBUTOR","body":"So we should say that this is dependent on #1313 being completed.  I will start taking a look at the upgrade code necessary but what did anyone think of the solution in my previous comment that would not require an upgrade?\r\n\r\n- Pros - no upgrade code to be written, no conditional checking for old vs new deletes, supports multi-sized hash\r\n- Cons - more complex process for stripping delete prefix (just a little), key field not really being used for intended purpose BUT maybe if value was used (which is also \"\") then field intent is maintained.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519937890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519959871","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-519959871","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":519959871,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTk1OTg3MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T15:21:44Z","updated_at":"2019-08-09T15:21:44Z","author_association":"CONTRIBUTOR","body":"> what did anyone think of the solution in my previous comment that would not require an upgrade?\r\n\r\nI think its a clever solution and I think that utilizing the values is a good way to go if we do not resolve this in upgrade.  I am leaning towards resolving this in upgrade because I think it keeps the existing code simpler, but I am not 100% sure this is the best path to take.  \r\n\r\nThe `makeRelative()` function you asked about earlier has some code in it to handle legacy paths that makes it more complicated.  We should improve `makeRelative()` to clearly document parts of it that are handling legacy paths.  That code is confusing now because of the legacy support.\r\n\r\nIf think if you pursue not resolving this in upgrade that it would be best to clearly document and isolate the code that handles legacy delete candidates.\r\n\r\nIf you are going to pursue the upgrade path, the following is one possible way to do it.\r\n\r\n * First submit a PR that changes the code to use hashes without any concern for upgrade.  So it only works with a newyly initialized system at first.  Just add something that throws an exception in the upgrade code.\r\n * Second submit a PR for the upgrade code.\r\n\r\nI will try to get #1313 in ASAP so you can build on it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519959871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519962464","html_url":"https://github.com/apache/accumulo/issues/1043#issuecomment-519962464","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1043","id":519962464,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTk2MjQ2NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T15:28:59Z","updated_at":"2019-08-09T15:28:59Z","author_association":"CONTRIBUTOR","body":"Another reason to resolve in upgrade is that over time handling more legacy persisted formats becomes harder and harder to test.  For example assume in the future there are 5 different legacy data formats for the metadata table, will we ever test different combination of the legacy formats?  No, that testing will likely not be done.\r\n\r\nDoing a transformation in the upgrade step and testing that transformation independently seems more maintainable.  The current code only needs to worry about testing the current format.  The testing is much simpler and can better cover the data expected.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519962464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519970692","html_url":"https://github.com/apache/accumulo/issues/1086#issuecomment-519970692","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1086","id":519970692,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTk3MDY5Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T15:52:53Z","updated_at":"2019-08-09T15:52:53Z","author_association":"CONTRIBUTOR","body":"I added this a blocker because I think it would be good to investigate before 1.9.4.  Since its a long standing issue not introduced in 1.9.3, It need not block 1.9.4 if not investigated in time.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519970692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519972273","html_url":"https://github.com/apache/accumulo/issues/817#issuecomment-519972273","issue_url":"https://api.github.com/repos/apache/accumulo/issues/817","id":519972273,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTk3MjI3Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T15:57:17Z","updated_at":"2019-08-09T15:57:17Z","author_association":"CONTRIBUTOR","body":"This was done by e357d8ab5a29f28794593d31ca2981619266499c and #1302 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519972273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519991726","html_url":"https://github.com/apache/accumulo/issues/1320#issuecomment-519991726","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1320","id":519991726,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTk5MTcyNg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T17:00:34Z","updated_at":"2019-08-09T17:02:51Z","author_association":"CONTRIBUTOR","body":"Also, its very important the `mutate()` function not retry when session expired.  This is an indication that an Accumulo server process has lost its lock in ZK and therefore should not be updating anything in ZK. #1086 is related.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/519991726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520001967","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-520001967","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":520001967,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDAwMTk2Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T17:32:58Z","updated_at":"2019-08-09T17:33:47Z","author_association":"MEMBER","body":"The (potential) update to ZK 3.5 is unrelated to this issue. It was mentioned here merely for the possibility of using local session feature, which is one of many possible ways to reduce the number of watchers we use. If we want to use that feature (which is only one possible way to reduce the number of watchers... and not necessarily even the best way to do so), then upgrading is a prerequisite, but otherwise, it is not related to this issue. Please create a separate issue if you want to pursue upgrading ZK to 3.5.\r\n\r\n@jzgithub1 The build error you were getting is because we have strict dependency checks in the build. That error indicates we need to explicitly name a direct dependency, if we are using code that is actually located in a transitive dependency... or that we should remove a declared dependency if we are not directly using code from that dependency. As for the origin of zookeeper-jute... I don't know what that repo is that you found, but I found the zookeeper-jute code in ZooKeeper's repository here: https://github.com/apache/zookeeper/tree/master/zookeeper-jute quite easily... it's just another component of ZooKeeper's source code, split into a sub-module, as @nkalmar says.\r\n\r\n@nkalmar If we update to require ZK 3.5, rest assured, we will update to the latest patch version. I'm not sure how we're using curator, but it's very limited, and I'm not sure the code that uses it is current at all.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520001967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520495346","html_url":"https://github.com/apache/accumulo/issues/1308#issuecomment-520495346","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1308","id":520495346,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDQ5NTM0Ng==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-12T16:23:47Z","updated_at":"2019-08-12T16:23:47Z","author_association":"CONTRIBUTOR","body":"I am going to take a look at this. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520495346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520530869","html_url":"https://github.com/apache/accumulo/issues/1305#issuecomment-520530869","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1305","id":520530869,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDUzMDg2OQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-12T18:01:09Z","updated_at":"2019-08-12T18:01:09Z","author_association":"CONTRIBUTOR","body":"Everything still seems to work as expected after doing a quick build and test. No warnings given.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520530869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520872590","html_url":"https://github.com/apache/accumulo/issues/1220#issuecomment-520872590","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1220","id":520872590,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg3MjU5MA==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T15:00:53Z","updated_at":"2019-08-13T15:43:09Z","author_association":"CONTRIBUTOR","body":"@keith-turner  and @ctubbsii ,  from the basic design above I will try to implement number 2:\r\nZooCache implements a method to match any watchers against some predicate and delete them.\r\nThat is the least risky and fastest path in my opinion.   I will implement the other steps afterword.\r\n\r\nTo that goal I think I need to iterate through watchers, see which ones are inactive or \"unused\" and then delete them.   Maybe I can do this in the DistributedWorkQueue class and I am looking for other places.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520872590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520897544","html_url":"https://github.com/apache/accumulo/issues/1325#issuecomment-520897544","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1325","id":520897544,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg5NzU0NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T16:00:52Z","updated_at":"2019-08-13T16:00:52Z","author_association":"MEMBER","body":"I don't think we need this behavior in Accumulo. Something like that would be more appropriate for an external cluster health monitoring service. If HDFS is happy with a failed disk, then we shouldn't care either. Perhaps we might still care if it was the OS disk(s) that went read-only... but I'm not sure we can reliably detect that from any other disk. I think it would make sense to drop this behavior.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520897544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520901269","html_url":"https://github.com/apache/accumulo/issues/1317#issuecomment-520901269","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1317","id":520901269,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDkwMTI2OQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T16:10:24Z","updated_at":"2019-08-13T16:10:24Z","author_association":"CONTRIBUTOR","body":"This still needs addition work.\r\n- What is the proper way to determine status?  One way would be to check if the tablet has a loc: assigned.  Is there something else that is more appropriate?\r\n- The original ticket mentioned that some information could be pulled from zookeeper - with the\r\ncurrent implementation, all information is coming from the metadata table. What information is missing / would be helpful?\r\n- Formatting of size and number of entries to allow human readable option.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/520901269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]