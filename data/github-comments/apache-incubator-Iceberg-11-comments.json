[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/515686249","html_url":"https://github.com/apache/iceberg/pull/318#issuecomment-515686249","issue_url":"https://api.github.com/repos/apache/iceberg/issues/318","id":515686249,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTY4NjI0OQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-27T13:59:18Z","updated_at":"2019-07-27T13:59:18Z","author_association":"MEMBER","body":"@rdblue thanks for the code review, addressed code review comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/515686249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/515725835","html_url":"https://github.com/apache/iceberg/issues/316#issuecomment-515725835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/316","id":515725835,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTcyNTgzNQ==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-28T01:42:56Z","updated_at":"2019-07-28T01:52:05Z","author_association":"NONE","body":"Hi! I'm still learning about iceberg\r\n\r\nI'm curious about the update condition in:\r\n```\r\nThe retry attempt succeeds because the files to be deleted are still there even though the append could add new records that match the update condition.\r\n```\r\n\r\nIt looks like `ReplaceFiles.rewriteFiles` takes in a set of DataFiles.\r\nDo you mean the condition used to construct this set? (Like File contains a certain row key I want to upsert)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/515725835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/515766960","html_url":"https://github.com/apache/iceberg/pull/309#issuecomment-515766960","issue_url":"https://api.github.com/repos/apache/iceberg/issues/309","id":515766960,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTc2Njk2MA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-28T14:23:09Z","updated_at":"2019-07-28T14:23:09Z","author_association":"MEMBER","body":"@rdsr thanks for the code review, addressed code review comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/515766960/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516075026","html_url":"https://github.com/apache/iceberg/pull/304#issuecomment-516075026","issue_url":"https://api.github.com/repos/apache/iceberg/issues/304","id":516075026,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjA3NTAyNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T17:01:22Z","updated_at":"2019-07-29T17:01:22Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for contributing this, @timmylicheng!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516075026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516095797","html_url":"https://github.com/apache/iceberg/issues/317#issuecomment-516095797","issue_url":"https://api.github.com/repos/apache/iceberg/issues/317","id":516095797,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjA5NTc5Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T17:53:43Z","updated_at":"2019-07-29T17:53:43Z","author_association":"CONTRIBUTOR","body":"I'll submit a PR soon","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516095797/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516115473","html_url":"https://github.com/apache/iceberg/pull/327#issuecomment-516115473","issue_url":"https://api.github.com/repos/apache/iceberg/issues/327","id":516115473,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjExNTQ3Mw==","user":{"login":"sujithjay","id":17567499,"node_id":"MDQ6VXNlcjE3NTY3NDk5","avatar_url":"https://avatars.githubusercontent.com/u/17567499?v=4","gravatar_id":"","url":"https://api.github.com/users/sujithjay","html_url":"https://github.com/sujithjay","followers_url":"https://api.github.com/users/sujithjay/followers","following_url":"https://api.github.com/users/sujithjay/following{/other_user}","gists_url":"https://api.github.com/users/sujithjay/gists{/gist_id}","starred_url":"https://api.github.com/users/sujithjay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sujithjay/subscriptions","organizations_url":"https://api.github.com/users/sujithjay/orgs","repos_url":"https://api.github.com/users/sujithjay/repos","events_url":"https://api.github.com/users/sujithjay/events{/privacy}","received_events_url":"https://api.github.com/users/sujithjay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T18:46:44Z","updated_at":"2019-07-29T18:46:44Z","author_association":"CONTRIBUTOR","body":"@renato2099  & @Liorba had submitted PRs previously for this issue. I am taking up on their work, and trying to see if it can shepherded into `master`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516115473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516115983","html_url":"https://github.com/apache/iceberg/pull/327#issuecomment-516115983","issue_url":"https://api.github.com/repos/apache/iceberg/issues/327","id":516115983,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjExNTk4Mw==","user":{"login":"sujithjay","id":17567499,"node_id":"MDQ6VXNlcjE3NTY3NDk5","avatar_url":"https://avatars.githubusercontent.com/u/17567499?v=4","gravatar_id":"","url":"https://api.github.com/users/sujithjay","html_url":"https://github.com/sujithjay","followers_url":"https://api.github.com/users/sujithjay/followers","following_url":"https://api.github.com/users/sujithjay/following{/other_user}","gists_url":"https://api.github.com/users/sujithjay/gists{/gist_id}","starred_url":"https://api.github.com/users/sujithjay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sujithjay/subscriptions","organizations_url":"https://api.github.com/users/sujithjay/orgs","repos_url":"https://api.github.com/users/sujithjay/repos","events_url":"https://api.github.com/users/sujithjay/events{/privacy}","received_events_url":"https://api.github.com/users/sujithjay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T18:48:15Z","updated_at":"2019-07-29T18:48:15Z","author_association":"CONTRIBUTOR","body":"@rdblue Could you please take a look? Thank you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516115983/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516129948","html_url":"https://github.com/apache/iceberg/pull/324#issuecomment-516129948","issue_url":"https://api.github.com/repos/apache/iceberg/issues/324","id":516129948,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjEyOTk0OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T19:30:12Z","updated_at":"2019-07-29T19:30:12Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @johnclara!\r\n\r\nWe already have a solution internally that we were about to share as well. We decided to go with a new API instead of extending `RewriteFiles` because it uses `DataOperations.REPLACE`, meaning the assumption is that files are removed and replaced without changing the data. Therefore, we created `ModifyFiles` with `DataOperations.MODIFY`.\r\n\r\nWe are accepting `baseSnapshotId` in the constructor instead of accepting it in the method. That way, it is transparent to the user and we can still track new files during retries. Also, we are accepting a row filter to do conflict resolution. Setting that row filter to `alwaysTrue` will be equivalent to what you have (i.e. retries will always fail). On top, that row filter allows us to do more fine-grained conflict resolution. For now, we limit the scope to partitions, meaning that if you are modifying files in one partition but a concurrent operation commits a new file to another partition, we can still commit successfully. Later, we will extend this logic beyond partitions by leveraging column stats and `InclusiveMetricsEvaluator` to detect conflicts.\r\n\r\nLet me share what I have so that we can discuss it in detail.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516129948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516144201","html_url":"https://github.com/apache/iceberg/pull/324#issuecomment-516144201","issue_url":"https://api.github.com/repos/apache/iceberg/issues/324","id":516144201,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjE0NDIwMQ==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T20:12:39Z","updated_at":"2019-07-29T20:12:39Z","author_association":"NONE","body":"Sounds good! Looking forward to seeing what you all have :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516144201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516180953","html_url":"https://github.com/apache/iceberg/pull/277#issuecomment-516180953","issue_url":"https://api.github.com/repos/apache/iceberg/issues/277","id":516180953,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjE4MDk1Mw==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T22:07:26Z","updated_at":"2019-07-29T22:07:26Z","author_association":"CONTRIBUTOR","body":"@danielcweeks I updated this, can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516180953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516251775","html_url":"https://github.com/apache/iceberg/issues/286#issuecomment-516251775","issue_url":"https://api.github.com/repos/apache/iceberg/issues/286","id":516251775,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI1MTc3NQ==","user":{"login":"timmylicheng","id":5977937,"node_id":"MDQ6VXNlcjU5Nzc5Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/5977937?v=4","gravatar_id":"","url":"https://api.github.com/users/timmylicheng","html_url":"https://github.com/timmylicheng","followers_url":"https://api.github.com/users/timmylicheng/followers","following_url":"https://api.github.com/users/timmylicheng/following{/other_user}","gists_url":"https://api.github.com/users/timmylicheng/gists{/gist_id}","starred_url":"https://api.github.com/users/timmylicheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timmylicheng/subscriptions","organizations_url":"https://api.github.com/users/timmylicheng/orgs","repos_url":"https://api.github.com/users/timmylicheng/repos","events_url":"https://api.github.com/users/timmylicheng/events{/privacy}","received_events_url":"https://api.github.com/users/timmylicheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T04:03:51Z","updated_at":"2019-07-30T04:03:51Z","author_association":"CONTRIBUTOR","body":"#304 is merged in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516251775/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516495320","html_url":"https://github.com/apache/iceberg/pull/318#issuecomment-516495320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/318","id":516495320,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQ5NTMyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T16:31:26Z","updated_at":"2019-07-30T16:31:26Z","author_association":"CONTRIBUTOR","body":"Looks great! Thanks for fixing this, @arina-ielchiieva!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516495320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516496354","html_url":"https://github.com/apache/iceberg/pull/329#issuecomment-516496354","issue_url":"https://api.github.com/repos/apache/iceberg/issues/329","id":516496354,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQ5NjM1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T16:34:17Z","updated_at":"2019-07-30T16:34:17Z","author_association":"CONTRIBUTOR","body":"@ikosyanenko, can you explain why you chose to skip low surrogate characters?\r\n\r\n@vgankidi, can you take a look at this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516496354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516496768","html_url":"https://github.com/apache/iceberg/pull/326#issuecomment-516496768","issue_url":"https://api.github.com/repos/apache/iceberg/issues/326","id":516496768,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQ5Njc2OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T16:35:23Z","updated_at":"2019-07-30T16:35:23Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThanks for fixing this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516496768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516497644","html_url":"https://github.com/apache/iceberg/pull/297#issuecomment-516497644","issue_url":"https://api.github.com/repos/apache/iceberg/issues/297","id":516497644,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQ5NzY0NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T16:37:46Z","updated_at":"2019-07-30T16:37:46Z","author_association":"CONTRIBUTOR","body":"Thanks for taking a look at this, @Fokko!\r\n\r\nWhat do you think is the solution to the Jackson problem? Using 1.9.0?\r\n\r\nSounds like this needs the next Avro release to fix the current failures?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516497644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516594310","html_url":"https://github.com/apache/iceberg/issues/330#issuecomment-516594310","issue_url":"https://api.github.com/repos/apache/iceberg/issues/330","id":516594310,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjU5NDMxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T21:01:51Z","updated_at":"2019-07-30T21:01:51Z","author_association":"CONTRIBUTOR","body":"Here's my response from the dev list:\r\n\r\nI suspect that this has something to do with PR #218 that introduced special handling for files that are deleted in transactions. The problem that PR fixed was that a manifest was created, merged, and then deleted. Then the transaction failed to commit and retried. The manifest that was created was reused, but in the retry it didnâ€™t get merged and was still a valid metadata file. Since the file had been deleted on the first try, the table was missing a manifest.\r\n\r\nThe fix was to introduce a lazy delete for cleaning up. The transaction keeps track of files to delete and deletes them after the commit succeeds. What might be happening here is the first time the transaction tries to commit, it is out of date and retries, then the original manifest is not deleted on the second attempt. Looking at the cleanup code, I think this looks like the problem because the filtered manifest cache is cleared as files are deleted: https://github.com/apache/incubator-iceberg/blob/master/core/src/main/java/org/apache/iceberg/MergingSnapshotProducer.java#L336\r\n\r\nI think the fix is to add a list of files that should be deleted on every attempt. When the filtered cache is cleared, each file should be deleted and moved to the delete list. That way future attempts also delete the files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516594310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516594683","html_url":"https://github.com/apache/iceberg/issues/330#issuecomment-516594683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/330","id":516594683,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjU5NDY4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T21:02:51Z","updated_at":"2019-07-30T21:02:51Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, could you test whether that solution fixes the problem?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516594683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516598482","html_url":"https://github.com/apache/iceberg/issues/330#issuecomment-516598482","issue_url":"https://api.github.com/repos/apache/iceberg/issues/330","id":516598482,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjU5ODQ4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T21:14:32Z","updated_at":"2019-07-30T21:14:32Z","author_association":"CONTRIBUTOR","body":"Another option for the fix is to avoid clearing the `deletedFiles` object that tracks deleted files in `BaseTransaction`. Instead, that could keep track of all files that were deleted in any attempt and avoid deleting any manifest or manifest list that is in any of the transaction's snapshots. That's a bit more complicated since there are multiple snapshots being committed, but it would probably be safer and not too difficult.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516598482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516714142","html_url":"https://github.com/apache/iceberg/pull/297#issuecomment-516714142","issue_url":"https://api.github.com/repos/apache/iceberg/issues/297","id":516714142,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjcxNDE0Mg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T06:21:51Z","updated_at":"2019-07-31T06:21:51Z","author_association":"CONTRIBUTOR","body":"I have to look in-depth to the Jackson issues, I expect them to be there as well with Avro 1.9.\r\n\r\nThe current failure will be solved with Avro 1.9.1 and 1.10.0.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516714142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516909923","html_url":"https://github.com/apache/iceberg/issues/330#issuecomment-516909923","issue_url":"https://api.github.com/repos/apache/iceberg/issues/330","id":516909923,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkwOTkyMw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T15:53:36Z","updated_at":"2019-07-31T16:04:00Z","author_association":"MEMBER","body":"@rdblue thanks for the details. Looks like you have identify root cause correctly.\r\nWhen I have commented `filteredManifests.remove(manifest);` line:\r\n```\r\n  private void cleanUncommittedFilters(Set<ManifestFile> committed) {\r\n    // iterate over a copy of entries to avoid concurrent modification\r\n    List<Map.Entry<ManifestFile, ManifestFile>> filterEntries =\r\n        Lists.newArrayList(filteredManifests.entrySet());\r\n\r\n    for (Map.Entry<ManifestFile, ManifestFile> entry : filterEntries) {\r\n      // remove any new filtered manifests that aren't in the committed list\r\n      ManifestFile manifest = entry.getKey();\r\n      ManifestFile filtered = entry.getValue();\r\n      if (!committed.contains(filtered)) {\r\n        // only delete if the filtered copy was created\r\n        if (!manifest.equals(filtered)) {\r\n          deleteFile(filtered.path());\r\n        }\r\n\r\n        // remove the entry from the cache\r\n        //filteredManifests.remove(manifest);\r\n      }\r\n    }\r\n  }\r\n```\r\nDelete operation in transaction produced only one manifest file.\r\nIs this is what needs to be fixed (to tell the truth I did not completely explore the code,  just tried out the suggested fix)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516909923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516920276","html_url":"https://github.com/apache/iceberg/issues/330#issuecomment-516920276","issue_url":"https://api.github.com/repos/apache/iceberg/issues/330","id":516920276,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkyMDI3Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T16:20:25Z","updated_at":"2019-07-31T16:21:07Z","author_association":"CONTRIBUTOR","body":"Great, thanks for testing it out. I think that the second fix I suggested is probably the way to go. That's basically what the other operations already do, we would just need to union the set of committed metadata files together and delete whatever isn't in that set.\r\n\r\nWould you like to open a PR? If not, I'll make some time to add a fix before we release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516920276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516920786","html_url":"https://github.com/apache/iceberg/issues/289#issuecomment-516920786","issue_url":"https://api.github.com/repos/apache/iceberg/issues/289","id":516920786,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkyMDc4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T16:21:58Z","updated_at":"2019-07-31T16:21:58Z","author_association":"CONTRIBUTOR","body":"If this is in a single file, then let's remove it. I think the real value is across multiple files so we don't repeat constants.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516920786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516921773","html_url":"https://github.com/apache/iceberg/issues/281#issuecomment-516921773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/281","id":516921773,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkyMTc3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T16:24:45Z","updated_at":"2019-07-31T16:24:45Z","author_association":"CONTRIBUTOR","body":"@timmylicheng, #280 should be done first so that metadata tables can handle schema evolution.\r\n\r\nUpdating a schema works fine, I'm referencing it so that we have a guide for building partition spec evolution. I think the two APIs should be similar.\r\n\r\nUpdating a partition spec is currently a manual operation because there is no API for making the change. You can build a replacement spec and add it to a table, though. Unfortunately, you might need to do that by editing JSON, depending on what methods we expose to update partition specs in `TableMetadata`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516921773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516922756","html_url":"https://github.com/apache/iceberg/issues/316#issuecomment-516922756","issue_url":"https://api.github.com/repos/apache/iceberg/issues/316","id":516922756,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkyMjc1Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T16:27:34Z","updated_at":"2019-07-31T16:27:34Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, updating the API to support eager rewrites sounds good to me! I think this should probably be a variant of overwrite, though. `RewriteFiles` produces a `replace` commit, which signals that the data did not change. Is it possible to update overwrite instead.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516922756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516924116","html_url":"https://github.com/apache/iceberg/issues/316#issuecomment-516924116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/316","id":516924116,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkyNDExNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T16:31:15Z","updated_at":"2019-07-31T16:31:15Z","author_association":"CONTRIBUTOR","body":"@rdblue I am flexible there, let's clarify what's best during review. I've summarized the approach we were taking in [this](https://github.com/apache/incubator-iceberg/pull/324#issuecomment-516129948) comment.\r\n\r\n@johnclara Sorry for the delay, I'll submit what we have by the end of week.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516924116/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516924209","html_url":"https://github.com/apache/iceberg/pull/334#issuecomment-516924209","issue_url":"https://api.github.com/repos/apache/iceberg/issues/334","id":516924209,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkyNDIwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T16:31:31Z","updated_at":"2019-07-31T16:31:31Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @vgankidi!\r\n\r\n@ikosyaneko, can you confirm that this fixes the issue as well? The fix in #329 avoids the problem, but we think that the underlying problem was the way the index was calculated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516924209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516924383","html_url":"https://github.com/apache/iceberg/issues/323#issuecomment-516924383","issue_url":"https://api.github.com/repos/apache/iceberg/issues/323","id":516924383,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkyNDM4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T16:32:01Z","updated_at":"2019-07-31T16:32:01Z","author_association":"CONTRIBUTOR","body":"@TGooch44, could you add this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516924383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516926814","html_url":"https://github.com/apache/iceberg/issues/323#issuecomment-516926814","issue_url":"https://api.github.com/repos/apache/iceberg/issues/323","id":516926814,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkyNjgxNA==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T16:38:50Z","updated_at":"2019-07-31T16:38:50Z","author_association":"CONTRIBUTOR","body":"Will check it out\n\nOn Wed, Jul 31, 2019, 9:32 AM Ryan Blue <notifications@github.com> wrote:\n\n> @TGooch44 <https://github.com/TGooch44>, could you add this?\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-iceberg/issues/323?email_source=notifications&email_token=AAMETH52N6JPHRW5WBIUFJTQCG5AHA5CNFSM4IHK3O6KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3H2HXY#issuecomment-516924383>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAMETHZLVN2SJ5HEE3SK52LQCG5AHANCNFSM4IHK3O6A>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516926814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516951217","html_url":"https://github.com/apache/iceberg/pull/334#issuecomment-516951217","issue_url":"https://api.github.com/repos/apache/iceberg/issues/334","id":516951217,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjk1MTIxNw==","user":{"login":"vgankidi","id":4732316,"node_id":"MDQ6VXNlcjQ3MzIzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4732316?v=4","gravatar_id":"","url":"https://api.github.com/users/vgankidi","html_url":"https://github.com/vgankidi","followers_url":"https://api.github.com/users/vgankidi/followers","following_url":"https://api.github.com/users/vgankidi/following{/other_user}","gists_url":"https://api.github.com/users/vgankidi/gists{/gist_id}","starred_url":"https://api.github.com/users/vgankidi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vgankidi/subscriptions","organizations_url":"https://api.github.com/users/vgankidi/orgs","repos_url":"https://api.github.com/users/vgankidi/repos","events_url":"https://api.github.com/users/vgankidi/events{/privacy}","received_events_url":"https://api.github.com/users/vgankidi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T17:46:20Z","updated_at":"2019-07-31T17:46:20Z","author_association":"CONTRIBUTOR","body":"Also with the fix in #329, output of `truncateStringMax(Literal.of(test7), 2)` equals `test7_1_expected` instead of `test7_2_expected`.`codePointAt` gives the expected result if the index points to a high surrogate and the following character is a low surrogate. It computes the code point for the  surrogate pair. Otherwise it returns the codepoint of the character in the given index as is.  \r\n\r\n@ikosyanenko Can you test your long input in #328 with this fix as well? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516951217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516972295","html_url":"https://github.com/apache/iceberg/issues/323#issuecomment-516972295","issue_url":"https://api.github.com/repos/apache/iceberg/issues/323","id":516972295,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjk3MjI5NQ==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T18:43:41Z","updated_at":"2019-07-31T18:43:41Z","author_association":"CONTRIBUTOR","body":"@jbapple I'm going to submit a PR on this, but can you try doing a pip install -e . from the python directory?  Note that the iceberg client requires python >= 3.4","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516972295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516998788","html_url":"https://github.com/apache/iceberg/pull/338#issuecomment-516998788","issue_url":"https://api.github.com/repos/apache/iceberg/issues/338","id":516998788,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjk5ODc4OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T20:01:50Z","updated_at":"2019-07-31T20:21:27Z","author_association":"CONTRIBUTOR","body":"@rdsr, this PR has the mapping update I referenced in #207. In your PR, you could use this by looking up the ID for a type:\r\n\r\n```java\r\nInteger id = nameMapping.find(\"location\", \"latitude\").id();\r\nif (id != null) {\r\n  // the field was mapped\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/516998788/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517009616","html_url":"https://github.com/apache/iceberg/issues/65#issuecomment-517009616","issue_url":"https://api.github.com/repos/apache/iceberg/issues/65","id":517009616,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAwOTYxNg==","user":{"login":"SurenNihalani","id":1093911,"node_id":"MDQ6VXNlcjEwOTM5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1093911?v=4","gravatar_id":"","url":"https://api.github.com/users/SurenNihalani","html_url":"https://github.com/SurenNihalani","followers_url":"https://api.github.com/users/SurenNihalani/followers","following_url":"https://api.github.com/users/SurenNihalani/following{/other_user}","gists_url":"https://api.github.com/users/SurenNihalani/gists{/gist_id}","starred_url":"https://api.github.com/users/SurenNihalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SurenNihalani/subscriptions","organizations_url":"https://api.github.com/users/SurenNihalani/orgs","repos_url":"https://api.github.com/users/SurenNihalani/repos","events_url":"https://api.github.com/users/SurenNihalani/events{/privacy}","received_events_url":"https://api.github.com/users/SurenNihalani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T20:32:32Z","updated_at":"2019-07-31T20:32:32Z","author_association":"CONTRIBUTOR","body":"could utilize https://github.com/1Password/1password-teams-open-source for storing the credentials here. (h/t: @shardulm94 ) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517009616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517023983","html_url":"https://github.com/apache/iceberg/pull/339#issuecomment-517023983","issue_url":"https://api.github.com/repos/apache/iceberg/issues/339","id":517023983,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAyMzk4Mw==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T21:15:24Z","updated_at":"2019-07-31T21:15:24Z","author_association":"CONTRIBUTOR","body":"For prototyping, couldn't you use a decorator pattern instead of extension via subclassing? This way you could delegate interface methods to the existing reader and rewrite for new behavior.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517023983/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517033447","html_url":"https://github.com/apache/iceberg/pull/338#issuecomment-517033447","issue_url":"https://api.github.com/repos/apache/iceberg/issues/338","id":517033447,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAzMzQ0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T21:43:54Z","updated_at":"2019-07-31T21:43:54Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing @danielcweeks!\r\n\r\n@rdsr, I'm going to go ahead and merge this so we can start building on it. Feel free to add additional review comments and we can fix anything we need to in a follow-up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517033447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517038450","html_url":"https://github.com/apache/iceberg/pull/333#issuecomment-517038450","issue_url":"https://api.github.com/repos/apache/iceberg/issues/333","id":517038450,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAzODQ1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:00:19Z","updated_at":"2019-07-31T22:00:19Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks @edgarRd!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517038450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517038717","html_url":"https://github.com/apache/iceberg/pull/339#issuecomment-517038717","issue_url":"https://api.github.com/repos/apache/iceberg/issues/339","id":517038717,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAzODcxNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:01:07Z","updated_at":"2019-07-31T22:01:07Z","author_association":"CONTRIBUTOR","body":"I agree with @edgarRd, it would be better to avoid sub-classing if possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517038717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517038920","html_url":"https://github.com/apache/iceberg/pull/322#issuecomment-517038920","issue_url":"https://api.github.com/repos/apache/iceberg/issues/322","id":517038920,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAzODkyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:01:55Z","updated_at":"2019-07-31T22:01:55Z","author_association":"CONTRIBUTOR","body":"Thanks for adding this, @arina-ielchiieva!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517038920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517039109","html_url":"https://github.com/apache/iceberg/pull/335#issuecomment-517039109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/335","id":517039109,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAzOTEwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:02:40Z","updated_at":"2019-07-31T22:02:40Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @chenjunjiedada! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517039109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517039415","html_url":"https://github.com/apache/iceberg/issues/288#issuecomment-517039415","issue_url":"https://api.github.com/repos/apache/iceberg/issues/288","id":517039415,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAzOTQxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:03:42Z","updated_at":"2019-07-31T22:03:42Z","author_association":"CONTRIBUTOR","body":"We can possibly add XXH64 later, but the Iceberg spec requires Murmur3. We would need to deprecate Murmur3 and I'm not convinced that it is worth the change just yet.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517039415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517039526","html_url":"https://github.com/apache/iceberg/issues/288#issuecomment-517039526","issue_url":"https://api.github.com/repos/apache/iceberg/issues/288","id":517039526,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAzOTUyNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:04:11Z","updated_at":"2019-07-31T22:04:11Z","author_association":"CONTRIBUTOR","body":"I'm closing this, but we can reopen it if we decide to add XXH64 support in the future.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517039526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517039861","html_url":"https://github.com/apache/iceberg/issues/307#issuecomment-517039861","issue_url":"https://api.github.com/repos/apache/iceberg/issues/307","id":517039861,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzAzOTg2MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:05:23Z","updated_at":"2019-07-31T22:05:23Z","author_association":"CONTRIBUTOR","body":"I'm going to close this. We can reopen it if we hit cases where manifests are too large and the reason for the number of files is reasonable.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517039861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517041897","html_url":"https://github.com/apache/iceberg/pull/339#issuecomment-517041897","issue_url":"https://api.github.com/repos/apache/iceberg/issues/339","id":517041897,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA0MTg5Nw==","user":{"login":"SurenNihalani","id":1093911,"node_id":"MDQ6VXNlcjEwOTM5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1093911?v=4","gravatar_id":"","url":"https://api.github.com/users/SurenNihalani","html_url":"https://github.com/SurenNihalani","followers_url":"https://api.github.com/users/SurenNihalani/followers","following_url":"https://api.github.com/users/SurenNihalani/following{/other_user}","gists_url":"https://api.github.com/users/SurenNihalani/gists{/gist_id}","starred_url":"https://api.github.com/users/SurenNihalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SurenNihalani/subscriptions","organizations_url":"https://api.github.com/users/SurenNihalani/orgs","repos_url":"https://api.github.com/users/SurenNihalani/repos","events_url":"https://api.github.com/users/SurenNihalani/events{/privacy}","received_events_url":"https://api.github.com/users/SurenNihalani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:12:04Z","updated_at":"2019-07-31T22:12:04Z","author_association":"CONTRIBUTOR","body":"Just looked up the decorator pattern. yeah, It makes more sense to tie the type of the delegate object to be generic instead of a specific implementation. closing this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517041897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517043126","html_url":"https://github.com/apache/iceberg/pull/336#issuecomment-517043126","issue_url":"https://api.github.com/repos/apache/iceberg/issues/336","id":517043126,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA0MzEyNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:16:39Z","updated_at":"2019-07-31T22:16:39Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for contributing this fix, @lys0716!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517043126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517043347","html_url":"https://github.com/apache/iceberg/pull/236#issuecomment-517043347","issue_url":"https://api.github.com/repos/apache/iceberg/issues/236","id":517043347,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA0MzM0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:17:36Z","updated_at":"2019-07-31T22:17:36Z","author_association":"CONTRIBUTOR","body":"@SurenNihalani, is there anything else to do in this PR? If not, would you close it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517043347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517043881","html_url":"https://github.com/apache/iceberg/pull/194#issuecomment-517043881","issue_url":"https://api.github.com/repos/apache/iceberg/issues/194","id":517043881,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA0Mzg4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:19:36Z","updated_at":"2019-07-31T22:19:36Z","author_association":"CONTRIBUTOR","body":"I'm going to close this because it is in the [vectorized read branch](https://github.com/apache/incubator-iceberg/tree/vectorized-read) and will be merged with that work. For status, there is a [vectorized read milestone](https://github.com/apache/incubator-iceberg/milestone/2).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517043881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517046436","html_url":"https://github.com/apache/iceberg/pull/341#issuecomment-517046436","issue_url":"https://api.github.com/repos/apache/iceberg/issues/341","id":517046436,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA0NjQzNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:29:30Z","updated_at":"2019-07-31T22:29:30Z","author_association":"CONTRIBUTOR","body":"@rdsr, this fixes the performance problem you hit in #315.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517046436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517047128","html_url":"https://github.com/apache/iceberg/pull/340#issuecomment-517047128","issue_url":"https://api.github.com/repos/apache/iceberg/issues/340","id":517047128,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA0NzEyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:32:13Z","updated_at":"2019-07-31T22:32:13Z","author_association":"CONTRIBUTOR","body":"@electrum, could you take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517047128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517049768","html_url":"https://github.com/apache/iceberg/pull/331#issuecomment-517049768","issue_url":"https://api.github.com/repos/apache/iceberg/issues/331","id":517049768,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA0OTc2OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T22:43:43Z","updated_at":"2019-07-31T22:43:43Z","author_association":"CONTRIBUTOR","body":"@edgarRd, nice work! Just one thing to fix and I'll merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517049768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517053816","html_url":"https://github.com/apache/iceberg/pull/340#issuecomment-517053816","issue_url":"https://api.github.com/repos/apache/iceberg/issues/340","id":517053816,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA1MzgxNg==","user":{"login":"electrum","id":9230,"node_id":"MDQ6VXNlcjkyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/9230?v=4","gravatar_id":"","url":"https://api.github.com/users/electrum","html_url":"https://github.com/electrum","followers_url":"https://api.github.com/users/electrum/followers","following_url":"https://api.github.com/users/electrum/following{/other_user}","gists_url":"https://api.github.com/users/electrum/gists{/gist_id}","starred_url":"https://api.github.com/users/electrum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electrum/subscriptions","organizations_url":"https://api.github.com/users/electrum/orgs","repos_url":"https://api.github.com/users/electrum/repos","events_url":"https://api.github.com/users/electrum/events{/privacy}","received_events_url":"https://api.github.com/users/electrum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T23:02:14Z","updated_at":"2019-07-31T23:02:14Z","author_association":"CONTRIBUTOR","body":"The code looks good, but it would be helpful to have tests and clarify this in the specification.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517053816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517056333","html_url":"https://github.com/apache/iceberg/pull/236#issuecomment-517056333","issue_url":"https://api.github.com/repos/apache/iceberg/issues/236","id":517056333,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA1NjMzMw==","user":{"login":"SurenNihalani","id":1093911,"node_id":"MDQ6VXNlcjEwOTM5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1093911?v=4","gravatar_id":"","url":"https://api.github.com/users/SurenNihalani","html_url":"https://github.com/SurenNihalani","followers_url":"https://api.github.com/users/SurenNihalani/followers","following_url":"https://api.github.com/users/SurenNihalani/following{/other_user}","gists_url":"https://api.github.com/users/SurenNihalani/gists{/gist_id}","starred_url":"https://api.github.com/users/SurenNihalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SurenNihalani/subscriptions","organizations_url":"https://api.github.com/users/SurenNihalani/orgs","repos_url":"https://api.github.com/users/SurenNihalani/repos","events_url":"https://api.github.com/users/SurenNihalani/events{/privacy}","received_events_url":"https://api.github.com/users/SurenNihalani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T23:13:59Z","updated_at":"2019-07-31T23:13:59Z","author_association":"CONTRIBUTOR","body":"hey @rdblue , yeah, I've force pushed the PR here already. We just need to merge it. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517056333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517056859","html_url":"https://github.com/apache/iceberg/pull/236#issuecomment-517056859","issue_url":"https://api.github.com/repos/apache/iceberg/issues/236","id":517056859,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA1Njg1OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T23:16:28Z","updated_at":"2019-07-31T23:16:28Z","author_association":"CONTRIBUTOR","body":"@SurenNihalani, thanks for the update. What do these changes do? Can you update the PR description? I want to understand why these changes are needed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517056859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517059575","html_url":"https://github.com/apache/iceberg/pull/331#issuecomment-517059575","issue_url":"https://api.github.com/repos/apache/iceberg/issues/331","id":517059575,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA1OTU3NQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T23:30:02Z","updated_at":"2019-07-31T23:30:18Z","author_association":"CONTRIBUTOR","body":"CI is failing, it seems like there are some non-deterministic errors in the test suite already in master:\r\n```\r\norg.apache.iceberg.spark.source.TestIcebergSourceHiveTables > testHiveFilesTable FAILED\r\n    java.lang.RuntimeException at TestIcebergSourceHiveTables.java:196\r\n        Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:196\r\n            Caused by: java.net.SocketException at TestIcebergSourceHiveTables.java:196\r\n\r\norg.apache.iceberg.spark.source.TestIcebergSourceHiveTables > testHiveFilesUnpartitionedTable FAILED\r\n    java.lang.RuntimeException at TestIcebergSourceHiveTables.java:233\r\n        Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:233\r\n            Caused by: java.net.SocketException at TestIcebergSourceHiveTables.java:233\r\n\r\norg.apache.iceberg.spark.source.TestIcebergSourceHiveTables > testHiveManifestsTable FAILED\r\n    java.lang.RuntimeException at TestIcebergSourceHiveTables.java:438\r\n        Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:438\r\n            Caused by: java.net.SocketException at TestIcebergSourceHiveTables.java:438\r\n\r\norg.apache.iceberg.spark.source.TestIcebergSourceHiveTables > testHiveHistoryTable FAILED\r\n    java.lang.RuntimeException at TestIcebergSourceHiveTables.java:285\r\n        Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:285\r\n            Caused by: java.net.SocketException at TestIcebergSourceHiveTables.java:285\r\n\r\norg.apache.iceberg.spark.source.TestIcebergSourceHiveTables > testHiveEntriesTable FAILED\r\n    java.lang.RuntimeException at TestIcebergSourceHiveTables.java:144\r\n        Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:144\r\n            Caused by: java.net.SocketException at TestIcebergSourceHiveTables.java:144\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517059575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517062328","html_url":"https://github.com/apache/iceberg/pull/331#issuecomment-517062328","issue_url":"https://api.github.com/repos/apache/iceberg/issues/331","id":517062328,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA2MjMyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T23:42:44Z","updated_at":"2019-07-31T23:42:44Z","author_association":"CONTRIBUTOR","body":"I restarted CI. I'll have to take a look at the flaky test, too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517062328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517069693","html_url":"https://github.com/apache/iceberg/pull/309#issuecomment-517069693","issue_url":"https://api.github.com/repos/apache/iceberg/issues/309","id":517069693,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA2OTY5Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T00:19:44Z","updated_at":"2019-08-01T00:19:44Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, thanks for working on this! It would be great to have a solution for the metadata files.\r\n\r\nI'm not sure about the current approach that you're taking here. So far, we've avoided file listing and I'd like to continue with that. This could also be expensive because the metadata folder that is listed contains metadata JSON files, snapshot manifest lists, and manifests.\r\n\r\nWhat if instead of listing files to drop, the JSON format kept a list of old metadata files and could delete and remove files in that list? The number of old metadata files could be configured with a table property. Keeping, for example, 100 metadata file locations wouldn't take that much space in the JSON file and cleaning up the old paths would only require issuing delete calls and discarding the deleted paths. What do you think of this as an alternative approach?\r\n\r\nCurious what @aokolnychyi and @rdsr think of this as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517069693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517069798","html_url":"https://github.com/apache/iceberg/pull/331#issuecomment-517069798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/331","id":517069798,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA2OTc5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T00:20:15Z","updated_at":"2019-08-01T00:20:15Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for fixing this, @edgarRd!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517069798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517070521","html_url":"https://github.com/apache/iceberg/pull/331#issuecomment-517070521","issue_url":"https://api.github.com/repos/apache/iceberg/issues/331","id":517070521,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA3MDUyMQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T00:24:22Z","updated_at":"2019-08-01T00:24:22Z","author_association":"CONTRIBUTOR","body":"Great, thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517070521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517074303","html_url":"https://github.com/apache/iceberg/issues/323#issuecomment-517074303","issue_url":"https://api.github.com/repos/apache/iceberg/issues/323","id":517074303,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA3NDMwMw==","user":{"login":"jbapple","id":4156460,"node_id":"MDQ6VXNlcjQxNTY0NjA=","avatar_url":"https://avatars.githubusercontent.com/u/4156460?v=4","gravatar_id":"","url":"https://api.github.com/users/jbapple","html_url":"https://github.com/jbapple","followers_url":"https://api.github.com/users/jbapple/followers","following_url":"https://api.github.com/users/jbapple/following{/other_user}","gists_url":"https://api.github.com/users/jbapple/gists{/gist_id}","starred_url":"https://api.github.com/users/jbapple/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbapple/subscriptions","organizations_url":"https://api.github.com/users/jbapple/orgs","repos_url":"https://api.github.com/users/jbapple/repos","events_url":"https://api.github.com/users/jbapple/events{/privacy}","received_events_url":"https://api.github.com/users/jbapple/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T00:44:56Z","updated_at":"2019-08-01T00:44:56Z","author_association":"CONTRIBUTOR","body":"Didn't work without `sudo`. With it:\r\n\r\n```\r\nERROR: awscli 1.14.19 has requirement botocore==1.8.23, but you'll have botocore 1.12.199 which is incompatible.\r\nERROR: awscli 1.14.19 has requirement s3transfer<0.2.0,>=0.1.12, but you'll have s3transfer 0.2.1 which is incompatible.\r\n...\r\nFileNotFoundError: [Errno 2] No such file or directory: '/usr/local/lib/python3.5/dist-packages/iceberg-0.0.0-py3.5.egg'\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517074303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517078660","html_url":"https://github.com/apache/iceberg/pull/341#issuecomment-517078660","issue_url":"https://api.github.com/repos/apache/iceberg/issues/341","id":517078660,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA3ODY2MA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T01:10:58Z","updated_at":"2019-08-01T01:10:58Z","author_association":"CONTRIBUTOR","body":"This fixes #337 too","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517078660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517096803","html_url":"https://github.com/apache/iceberg/pull/332#issuecomment-517096803","issue_url":"https://api.github.com/repos/apache/iceberg/issues/332","id":517096803,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA5NjgwMw==","user":{"login":"moulimukherjee","id":2379129,"node_id":"MDQ6VXNlcjIzNzkxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2379129?v=4","gravatar_id":"","url":"https://api.github.com/users/moulimukherjee","html_url":"https://github.com/moulimukherjee","followers_url":"https://api.github.com/users/moulimukherjee/followers","following_url":"https://api.github.com/users/moulimukherjee/following{/other_user}","gists_url":"https://api.github.com/users/moulimukherjee/gists{/gist_id}","starred_url":"https://api.github.com/users/moulimukherjee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moulimukherjee/subscriptions","organizations_url":"https://api.github.com/users/moulimukherjee/orgs","repos_url":"https://api.github.com/users/moulimukherjee/repos","events_url":"https://api.github.com/users/moulimukherjee/events{/privacy}","received_events_url":"https://api.github.com/users/moulimukherjee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T02:48:07Z","updated_at":"2019-08-01T02:56:29Z","author_association":"CONTRIBUTOR","body":"Have added tests for Residual evaluation. \r\n\r\nAnd made changes to use the same ProjectionUtil methods for both Truncates and Timestamps/Dates. After making this change I am liking the fact that the strict projections are consistently LT/GT and contrasts nicely with inclusive projections which are LT_EQ/GT_EQ.\r\n\r\n@rdblue ptal?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517096803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517115581","html_url":"https://github.com/apache/iceberg/pull/332#issuecomment-517115581","issue_url":"https://api.github.com/repos/apache/iceberg/issues/332","id":517115581,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzExNTU4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T04:36:45Z","updated_at":"2019-08-01T04:36:45Z","author_association":"CONTRIBUTOR","body":"> After making this change I am liking the fact that the strict projections are consistently LT/GT and contrasts nicely with inclusive projections which are LT_EQ/GT_EQ.\r\n\r\nI like it, too. I think we can simplify some of the logic in the truncate methods, but it looks good so far.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517115581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517161320","html_url":"https://github.com/apache/iceberg/issues/330#issuecomment-517161320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/330","id":517161320,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzE2MTMyMA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T07:36:16Z","updated_at":"2019-08-01T07:36:27Z","author_association":"MEMBER","body":"@rdblue since you know the internals of this problem better, I think its more reasonable for you to prepare the fix. Thanks for looking into this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517161320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517271681","html_url":"https://github.com/apache/iceberg/pull/277#issuecomment-517271681","issue_url":"https://api.github.com/repos/apache/iceberg/issues/277","id":517271681,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzI3MTY4MQ==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T12:46:19Z","updated_at":"2019-08-01T12:46:19Z","author_association":"CONTRIBUTOR","body":"@danielcweeks Updated with the requested changes.  Let me know what you think on the du command.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517271681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517381030","html_url":"https://github.com/apache/iceberg/pull/301#issuecomment-517381030","issue_url":"https://api.github.com/repos/apache/iceberg/issues/301","id":517381030,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzM4MTAzMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T17:22:02Z","updated_at":"2019-08-01T17:22:02Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, could you take another look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517381030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517405497","html_url":"https://github.com/apache/iceberg/pull/309#issuecomment-517405497","issue_url":"https://api.github.com/repos/apache/iceberg/issues/309","id":517405497,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQwNTQ5Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T18:29:38Z","updated_at":"2019-08-01T18:29:38Z","author_association":"CONTRIBUTOR","body":"Sorry for the delay, I was totally into our internal Iceberg development these days. I would be interested to take a look at this in the next couple of days.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517405497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517414473","html_url":"https://github.com/apache/iceberg/pull/236#issuecomment-517414473","issue_url":"https://api.github.com/repos/apache/iceberg/issues/236","id":517414473,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQxNDQ3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T18:55:59Z","updated_at":"2019-08-01T18:55:59Z","author_association":"CONTRIBUTOR","body":"@SurenNihalani, thanks for the replies! The change from `compile` to `compileOnly` is my only remaining concern.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517414473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517438136","html_url":"https://github.com/apache/iceberg/pull/334#issuecomment-517438136","issue_url":"https://api.github.com/repos/apache/iceberg/issues/334","id":517438136,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQzODEzNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T20:06:54Z","updated_at":"2019-08-01T20:06:54Z","author_association":"CONTRIBUTOR","body":"Looks like this needs to be rebased.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517438136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517453892","html_url":"https://github.com/apache/iceberg/pull/334#issuecomment-517453892","issue_url":"https://api.github.com/repos/apache/iceberg/issues/334","id":517453892,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQ1Mzg5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T20:53:15Z","updated_at":"2019-08-01T20:53:15Z","author_association":"CONTRIBUTOR","body":"I rebased and merged by hand, so I'm closing this. Thanks for fixing it, @vgankidi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517453892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517454654","html_url":"https://github.com/apache/iceberg/pull/309#issuecomment-517454654","issue_url":"https://api.github.com/repos/apache/iceberg/issues/309","id":517454654,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQ1NDY1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T20:55:31Z","updated_at":"2019-08-01T20:55:31Z","author_association":"CONTRIBUTOR","body":"One more thing: for Hadoop tables that use well-known file names for metadata, we can clean up old versions without listing files because we can generate each metadata file name and see if it exists. That could also be configured by some number if older versions to keep around.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517454654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517481567","html_url":"https://github.com/apache/iceberg/pull/332#issuecomment-517481567","issue_url":"https://api.github.com/repos/apache/iceberg/issues/332","id":517481567,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQ4MTU2Nw==","user":{"login":"moulimukherjee","id":2379129,"node_id":"MDQ6VXNlcjIzNzkxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2379129?v=4","gravatar_id":"","url":"https://api.github.com/users/moulimukherjee","html_url":"https://github.com/moulimukherjee","followers_url":"https://api.github.com/users/moulimukherjee/followers","following_url":"https://api.github.com/users/moulimukherjee/following{/other_user}","gists_url":"https://api.github.com/users/moulimukherjee/gists{/gist_id}","starred_url":"https://api.github.com/users/moulimukherjee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moulimukherjee/subscriptions","organizations_url":"https://api.github.com/users/moulimukherjee/orgs","repos_url":"https://api.github.com/users/moulimukherjee/repos","events_url":"https://api.github.com/users/moulimukherjee/events{/privacy}","received_events_url":"https://api.github.com/users/moulimukherjee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T22:32:47Z","updated_at":"2019-08-01T22:32:47Z","author_association":"CONTRIBUTOR","body":"@rdblue ptal again?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517481567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517481861","html_url":"https://github.com/apache/iceberg/pull/344#issuecomment-517481861","issue_url":"https://api.github.com/repos/apache/iceberg/issues/344","id":517481861,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQ4MTg2MQ==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T22:34:09Z","updated_at":"2019-08-01T22:34:09Z","author_association":"CONTRIBUTOR","body":"@danielcweeks  I'v piggybacked the master rebase within this PR. if you feel that should be a separate PR i can do that. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517481861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517486998","html_url":"https://github.com/apache/iceberg/issues/9#issuecomment-517486998","issue_url":"https://api.github.com/repos/apache/iceberg/issues/9","id":517486998,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQ4Njk5OA==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T22:58:37Z","updated_at":"2019-08-01T23:17:57Z","author_association":"CONTRIBUTOR","body":"Vectorization Perf Meeting notes (Aug 1):\r\n\r\nAfter running benchmarks met with @samarthjain , @anjalinorwood and @rdblue  to go over some possible improvements we came up with the following. \r\n\r\n\r\nPossible low hanging fruit to reap with perf : \r\n  - Remove virtual calls in vector reader, make concrete classes (Anjali)\r\n  - Remove hasNext() calls and currentDefinitionLevels() checks and tighten the VectorReader.read() loop (Anjali)\r\n  - Look into arrow memory allocation, try to preallocate memory at initialization and avoid re-allocations ( Samarth )\r\n  - Slowness seen in time spent in FieldVector.setSafe() calls Improve Decimal / String variable byte reading. Make this fixed length based or using binary reading (Gautam)\r\n\r\nDeeper look :\r\n  - Possibly look into removing advance() calls at every stage in ColumnIterator\r\n  - Look into removing triple iterator abstraction and work at lower level with parquet \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517486998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517511235","html_url":"https://github.com/apache/iceberg/pull/334#issuecomment-517511235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/334","id":517511235,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzUxMTIzNQ==","user":{"login":"vgankidi","id":4732316,"node_id":"MDQ6VXNlcjQ3MzIzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4732316?v=4","gravatar_id":"","url":"https://api.github.com/users/vgankidi","html_url":"https://github.com/vgankidi","followers_url":"https://api.github.com/users/vgankidi/followers","following_url":"https://api.github.com/users/vgankidi/following{/other_user}","gists_url":"https://api.github.com/users/vgankidi/gists{/gist_id}","starred_url":"https://api.github.com/users/vgankidi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vgankidi/subscriptions","organizations_url":"https://api.github.com/users/vgankidi/orgs","repos_url":"https://api.github.com/users/vgankidi/repos","events_url":"https://api.github.com/users/vgankidi/events{/privacy}","received_events_url":"https://api.github.com/users/vgankidi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T01:17:01Z","updated_at":"2019-08-02T01:17:01Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517511235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517790786","html_url":"https://github.com/apache/iceberg/pull/332#issuecomment-517790786","issue_url":"https://api.github.com/repos/apache/iceberg/issues/332","id":517790786,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzc5MDc4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T17:52:44Z","updated_at":"2019-08-02T17:52:44Z","author_association":"CONTRIBUTOR","body":"Looks great, thanks for working on this, @moulimukherjee! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517790786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517813954","html_url":"https://github.com/apache/iceberg/pull/341#issuecomment-517813954","issue_url":"https://api.github.com/repos/apache/iceberg/issues/341","id":517813954,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzgxMzk1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T19:12:58Z","updated_at":"2019-08-02T19:12:58Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @rdsr! I'm going to merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517813954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517958810","html_url":"https://github.com/apache/iceberg/pull/347#issuecomment-517958810","issue_url":"https://api.github.com/repos/apache/iceberg/issues/347","id":517958810,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk1ODgxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-03T22:27:59Z","updated_at":"2019-08-03T22:27:59Z","author_association":"CONTRIBUTOR","body":"Agreed! I thought we had already made this change. I'll merge this.\r\n\r\nThanks for contributing this, @yuzhu!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517958810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517959710","html_url":"https://github.com/apache/iceberg/pull/327#issuecomment-517959710","issue_url":"https://api.github.com/repos/apache/iceberg/issues/327","id":517959710,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk1OTcxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-03T22:46:55Z","updated_at":"2019-08-03T22:46:55Z","author_association":"CONTRIBUTOR","body":"@sujithjay, nice work! I think this is about ready to go. I just had a few comments.\r\n\r\n@moulimukherjee, could you take a look at this as well, since you're familiar with the projections?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517959710/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517961341","html_url":"https://github.com/apache/iceberg/pull/349#issuecomment-517961341","issue_url":"https://api.github.com/repos/apache/iceberg/issues/349","id":517961341,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk2MTM0MQ==","user":{"login":"jbapple","id":4156460,"node_id":"MDQ6VXNlcjQxNTY0NjA=","avatar_url":"https://avatars.githubusercontent.com/u/4156460?v=4","gravatar_id":"","url":"https://api.github.com/users/jbapple","html_url":"https://github.com/jbapple","followers_url":"https://api.github.com/users/jbapple/followers","following_url":"https://api.github.com/users/jbapple/following{/other_user}","gists_url":"https://api.github.com/users/jbapple/gists{/gist_id}","starred_url":"https://api.github.com/users/jbapple/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbapple/subscriptions","organizations_url":"https://api.github.com/users/jbapple/orgs","repos_url":"https://api.github.com/users/jbapple/repos","events_url":"https://api.github.com/users/jbapple/events{/privacy}","received_events_url":"https://api.github.com/users/jbapple/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-03T23:23:42Z","updated_at":"2019-08-24T21:12:43Z","author_association":"CONTRIBUTOR","body":"The CI failed with the following, which seems likely to be flaky if it is on a spec-only PR:\r\n\r\n```\r\n> Task :iceberg-spark:test\r\n\r\norg.apache.iceberg.spark.source.TestIcebergSourceHiveTables > testHiveManifestsTable FAILED\r\n    java.lang.RuntimeException at TestIcebergSourceHiveTables.java:438\r\n        Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:438\r\n            Caused by: java.net.SocketException at TestIcebergSourceHiveTables.java:438\r\n\r\norg.apache.iceberg.spark.source.TestIcebergSourceHiveTables > testHiveHistoryTable FAILED\r\n    java.lang.RuntimeException at TestIcebergSourceHiveTables.java:285\r\n        Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:285\r\n            Caused by: java.net.SocketException at TestIcebergSourceHiveTables.java:285\r\n\r\norg.apache.iceberg.spark.source.TestIcebergSourceHiveTables > testHiveEntriesTable FAILED\r\n    java.lang.RuntimeException at TestIcebergSourceHiveTables.java:144\r\n        Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:144\r\n            Caused by: java.net.SocketException at TestIcebergSourceHiveTables.java:144\r\n\r\n133 tests completed, 3 failed, 4 skipped\r\n\r\n> Task :iceberg-spark:test FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task ':iceberg-spark:test'.\r\n> There were failing tests. See the report at: file:///home/travis/build/apache/incubator-iceberg/spark/build/reports/tests/test/index.html\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517961341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517992553","html_url":"https://github.com/apache/iceberg/pull/347#issuecomment-517992553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/347","id":517992553,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk5MjU1Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T10:43:12Z","updated_at":"2019-08-04T10:43:12Z","author_association":"CONTRIBUTOR","body":"@yuzhu @rdblue `BaseMetastoreTableOperations` has a similar situation as Hadoop conf is only used to create an instance of `FileIO`. Do we want to update that as well?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/517992553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518003731","html_url":"https://github.com/apache/iceberg/pull/253#issuecomment-518003731","issue_url":"https://api.github.com/repos/apache/iceberg/issues/253","id":518003731,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODAwMzczMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T13:26:28Z","updated_at":"2019-08-04T13:26:28Z","author_association":"CONTRIBUTOR","body":"@rdblue You are right, we can fetch `TableOperations` via `BaseTable`. Create/replace table transactions will solve the second issue as well.\r\n\r\nThen table state can be rolled back using these lines:\r\n```\r\nTableOperations ops = ((BaseTable) table).operations();\r\nops.commit(ops.current(), TableMetadataParser.read(ops, metadataFile));\r\n```\r\n\r\nHaving said that, I think we can close this PR. What do you think?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518003731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518004875","html_url":"https://github.com/apache/iceberg/pull/314#issuecomment-518004875","issue_url":"https://api.github.com/repos/apache/iceberg/issues/314","id":518004875,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODAwNDg3NQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T13:43:17Z","updated_at":"2019-08-04T13:43:17Z","author_association":"CONTRIBUTOR","body":"Thanks for pinging me, @manishmalhotrawork. I don't have any other comments other than what @rdblue already mentioned. Thanks for working on this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518004875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518031926","html_url":"https://github.com/apache/iceberg/pull/309#issuecomment-518031926","issue_url":"https://api.github.com/repos/apache/iceberg/issues/309","id":518031926,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODAzMTkyNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T20:02:37Z","updated_at":"2019-08-04T20:04:08Z","author_association":"CONTRIBUTOR","body":"It is a great effort, we were starting to think about this as well. \r\n\r\nOne of the reasons why we started looking into Iceberg in the first place was the ability to avoid lists during job planning/commit. I would still avoid lists even for operational things if it doesnâ€™t complicate the logic too much or impact the performance of other operations. If there is no better way, I think we can still use lists in this particular case. I would expect to see old files consistently but it might expensive.\r\n\r\nA couple of questions:\r\n\r\n- If we do use lists, how do we plan to handle cases when `write.metadata.path` changes over time? Am I correct that there is no guarantee that the current metadata location contains all files?\r\n- Iceberg tables can share locations. Can they share metadata locations? If yes, how do we plan to handle it? (include table UUID in `metadata.json` files?)\r\n- If we are to keep only 100 last files, does it mean that we will be deleting the most recent file on every commit?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518031926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518037226","html_url":"https://github.com/apache/iceberg/pull/347#issuecomment-518037226","issue_url":"https://api.github.com/repos/apache/iceberg/issues/347","id":518037226,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODAzNzIyNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T21:22:13Z","updated_at":"2019-08-04T21:22:13Z","author_association":"CONTRIBUTOR","body":"Yeah, that sounds good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518037226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518039007","html_url":"https://github.com/apache/iceberg/pull/253#issuecomment-518039007","issue_url":"https://api.github.com/repos/apache/iceberg/issues/253","id":518039007,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODAzOTAwNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T21:47:40Z","updated_at":"2019-08-04T21:47:40Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, sounds good to me if that works for you! I didn't think about using `TableMetadataParser` to do this. That looks better than what I've been doing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518039007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518039220","html_url":"https://github.com/apache/iceberg/issues/251#issuecomment-518039220","issue_url":"https://api.github.com/repos/apache/iceberg/issues/251","id":518039220,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODAzOTIyMA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T21:51:08Z","updated_at":"2019-08-04T21:51:08Z","author_association":"CONTRIBUTOR","body":"Won't address now (see the PR for details). We can reopen if needed later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518039220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518295994","html_url":"https://github.com/apache/iceberg/pull/315#issuecomment-518295994","issue_url":"https://api.github.com/repos/apache/iceberg/issues/315","id":518295994,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODI5NTk5NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T16:04:33Z","updated_at":"2019-08-05T16:04:33Z","author_association":"CONTRIBUTOR","body":"Will it be possible to use this API for #179?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518295994/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518308533","html_url":"https://github.com/apache/iceberg/pull/315#issuecomment-518308533","issue_url":"https://api.github.com/repos/apache/iceberg/issues/315","id":518308533,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODMwODUzMw==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T16:40:35Z","updated_at":"2019-08-05T16:40:35Z","author_association":"CONTRIBUTOR","body":"Hi @aokolnychyi , I haven't looked too closely into #179. I'll read that PR and get back to you","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518308533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518384355","html_url":"https://github.com/apache/iceberg/pull/350#issuecomment-518384355","issue_url":"https://api.github.com/repos/apache/iceberg/issues/350","id":518384355,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODM4NDM1NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T20:21:51Z","updated_at":"2019-08-05T20:21:51Z","author_association":"CONTRIBUTOR","body":"@electrum and @aokolnychyi, this PR fixes delete behavior concerns that you both raised on #240. Please have a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518384355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518404694","html_url":"https://github.com/apache/iceberg/issues/261#issuecomment-518404694","issue_url":"https://api.github.com/repos/apache/iceberg/issues/261","id":518404694,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQwNDY5NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T21:19:44Z","updated_at":"2019-08-05T21:19:44Z","author_association":"CONTRIBUTOR","body":"Anyone working on this already?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518404694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518408801","html_url":"https://github.com/apache/iceberg/pull/351#issuecomment-518408801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/351","id":518408801,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQwODgwMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T21:32:38Z","updated_at":"2019-08-05T21:32:38Z","author_association":"CONTRIBUTOR","body":"@johnclara @rdblue I gave it more thought and it probably makes sense to merge this with `OverwriteFiles` API to avoid the proliferation of classes around deleting/adding files. Potentially, we can also reuse `DataOperations.OVERWRITE` as it allows the content to change. However, I want to discuss how we see the merged API first, so I submit this PR as-is for now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518408801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518423067","html_url":"https://github.com/apache/iceberg/issues/179#issuecomment-518423067","issue_url":"https://api.github.com/repos/apache/iceberg/issues/179","id":518423067,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQyMzA2Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T22:20:22Z","updated_at":"2019-08-05T22:20:22Z","author_association":"CONTRIBUTOR","body":"I am thinking to pick this up in the near future. Let me know if there is anybody already working on this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518423067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518432833","html_url":"https://github.com/apache/iceberg/issues/261#issuecomment-518432833","issue_url":"https://api.github.com/repos/apache/iceberg/issues/261","id":518432833,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQzMjgzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T23:02:15Z","updated_at":"2019-08-05T23:02:15Z","author_association":"CONTRIBUTOR","body":"I don't think so. Feel free to pick it up!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518432833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518433111","html_url":"https://github.com/apache/iceberg/issues/261#issuecomment-518433111","issue_url":"https://api.github.com/repos/apache/iceberg/issues/261","id":518433111,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQzMzExMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T23:03:59Z","updated_at":"2019-08-05T23:03:59Z","author_association":"CONTRIBUTOR","body":"Here are the original implementations from BaseMetastoreTables, if it helps: https://github.com/apache/incubator-iceberg/blob/58c71e899c4c5814794c2fda74872a3fff87261a/core/src/main/java/org/apache/iceberg/BaseMetastoreTables.java#L70-L106","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518433111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518433522","html_url":"https://github.com/apache/iceberg/issues/24#issuecomment-518433522","issue_url":"https://api.github.com/repos/apache/iceberg/issues/24","id":518433522,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQzMzUyMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T23:06:02Z","updated_at":"2019-08-05T23:06:02Z","author_association":"CONTRIBUTOR","body":"How are we doing on this? Most modules are running checkstyle, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518433522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518434781","html_url":"https://github.com/apache/iceberg/issues/24#issuecomment-518434781","issue_url":"https://api.github.com/repos/apache/iceberg/issues/24","id":518434781,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQzNDc4MQ==","user":{"login":"mccheah","id":8975385,"node_id":"MDQ6VXNlcjg5NzUzODU=","avatar_url":"https://avatars.githubusercontent.com/u/8975385?v=4","gravatar_id":"","url":"https://api.github.com/users/mccheah","html_url":"https://github.com/mccheah","followers_url":"https://api.github.com/users/mccheah/followers","following_url":"https://api.github.com/users/mccheah/following{/other_user}","gists_url":"https://api.github.com/users/mccheah/gists{/gist_id}","starred_url":"https://api.github.com/users/mccheah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mccheah/subscriptions","organizations_url":"https://api.github.com/users/mccheah/orgs","repos_url":"https://api.github.com/users/mccheah/repos","events_url":"https://api.github.com/users/mccheah/events{/privacy}","received_events_url":"https://api.github.com/users/mccheah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T23:12:33Z","updated_at":"2019-08-05T23:12:33Z","author_association":"CONTRIBUTOR","body":"This can probably be superceded by all the individual tasks for Baseline integration.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518434781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518435272","html_url":"https://github.com/apache/iceberg/pull/352#issuecomment-518435272","issue_url":"https://api.github.com/repos/apache/iceberg/issues/352","id":518435272,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQzNTI3Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T23:15:01Z","updated_at":"2019-08-05T23:15:01Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, this fixes #330, if you would like to have a look at it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518435272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518439477","html_url":"https://github.com/apache/iceberg/pull/351#issuecomment-518439477","issue_url":"https://api.github.com/repos/apache/iceberg/issues/351","id":518439477,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQzOTQ3Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T23:36:17Z","updated_at":"2019-08-05T23:36:17Z","author_association":"CONTRIBUTOR","body":"My high-level feedback is that I'd prefer to reuse `OverwriteFiles` and update it to expose the behavior required by this. If the required behavior is to fail if any file is added that matches the delete filter, then we can add a flag to set that like `validateAppendOnly` in `ReplacePartitions`. How about `validateNoConflictingAppends`?\r\n\r\nI think we want to make both behaviors available, but we should also consider making failure when a conflict is detected the default. `OverwriteFiles` currently implements an idempotent change: replace all data matching a filer with new data. The intent is for cases like overwriting an aggregation: you update the aggregation every hour and always produce a completely new copy independent of the data in the table. But, that use case is unlikely to run into a problem if `validateNoConflictingAppends` were the default. Instead of two concurrent runs both succeeding, one would fail.\r\n\r\nIf we want to fail if there are conflicting appends by default, then we could add `allowConflictingAppends` instead. We would also want to decide whether the current overwrite behavior in Spark should allow or not allow conflicting appends. I think if the default is to not allow them, then we should go with that. We can add a write option to allow conflicting appends, like \"is-idempotent\".\r\n\r\n@aokolnychyi, what do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518439477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518447383","html_url":"https://github.com/apache/iceberg/pull/350#issuecomment-518447383","issue_url":"https://api.github.com/repos/apache/iceberg/issues/350","id":518447383,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ0NzM4Mw==","user":{"login":"electrum","id":9230,"node_id":"MDQ6VXNlcjkyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/9230?v=4","gravatar_id":"","url":"https://api.github.com/users/electrum","html_url":"https://github.com/electrum","followers_url":"https://api.github.com/users/electrum/followers","following_url":"https://api.github.com/users/electrum/following{/other_user}","gists_url":"https://api.github.com/users/electrum/gists{/gist_id}","starred_url":"https://api.github.com/users/electrum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electrum/subscriptions","organizations_url":"https://api.github.com/users/electrum/orgs","repos_url":"https://api.github.com/users/electrum/repos","events_url":"https://api.github.com/users/electrum/events{/privacy}","received_events_url":"https://api.github.com/users/electrum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T00:16:52Z","updated_at":"2019-08-06T00:16:52Z","author_association":"CONTRIBUTOR","body":"This looks like it can fail to cleanup if the process crashes after the drop. Should we have a special deleted state for tables that prevents them from being visible or queried, but allows a background process to guarantee completion of the cleanup?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518447383/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518529678","html_url":"https://github.com/apache/iceberg/issues/179#issuecomment-518529678","issue_url":"https://api.github.com/repos/apache/iceberg/issues/179","id":518529678,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODUyOTY3OA==","user":{"login":"timmylicheng","id":5977937,"node_id":"MDQ6VXNlcjU5Nzc5Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/5977937?v=4","gravatar_id":"","url":"https://api.github.com/users/timmylicheng","html_url":"https://github.com/timmylicheng","followers_url":"https://api.github.com/users/timmylicheng/followers","following_url":"https://api.github.com/users/timmylicheng/following{/other_user}","gists_url":"https://api.github.com/users/timmylicheng/gists{/gist_id}","starred_url":"https://api.github.com/users/timmylicheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timmylicheng/subscriptions","organizations_url":"https://api.github.com/users/timmylicheng/orgs","repos_url":"https://api.github.com/users/timmylicheng/repos","events_url":"https://api.github.com/users/timmylicheng/events{/privacy}","received_events_url":"https://api.github.com/users/timmylicheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T06:46:29Z","updated_at":"2019-08-06T06:46:29Z","author_association":"CONTRIBUTOR","body":"We at Tencent are also looking in it.\n\nOn Tue, Aug 6, 2019 at 6:20 AM Anton Okolnychyi <notifications@github.com>\nwrote:\n\n> I am thinking to pick this up in the near future. Let me know if there is\n> anybody already working on this.\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-iceberg/issues/179?email_source=notifications&email_token=ABNTOULQOEKO3FQ6WAVJNMLQDCRSPA5CNFSM4HLGNXS2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3TIEGY#issuecomment-518423067>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABNTOUPT3PSKMVGJZDROEATQDCRSPANCNFSM4HLGNXSQ>\n> .\n>\n\n\n-- \n\n[NIV]  Corinthians 13:8\n\n Love never fails. But where there are prophecies, they will cease; where\nthere are tongues,they will be stilled; where there is knowledge, it will\npass away.\n\nLi Cheng\nSDE in Amazon Web Service/ Simple Storage Solution (S3)\nElectrical & System Engineering\nWashington University in St. Louis\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518529678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518559146","html_url":"https://github.com/apache/iceberg/issues/39#issuecomment-518559146","issue_url":"https://api.github.com/repos/apache/iceberg/issues/39","id":518559146,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODU1OTE0Ng==","user":{"login":"XiaokunDing","id":3050222,"node_id":"MDQ6VXNlcjMwNTAyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3050222?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaokunDing","html_url":"https://github.com/XiaokunDing","followers_url":"https://api.github.com/users/XiaokunDing/followers","following_url":"https://api.github.com/users/XiaokunDing/following{/other_user}","gists_url":"https://api.github.com/users/XiaokunDing/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaokunDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaokunDing/subscriptions","organizations_url":"https://api.github.com/users/XiaokunDing/orgs","repos_url":"https://api.github.com/users/XiaokunDing/repos","events_url":"https://api.github.com/users/XiaokunDing/events{/privacy}","received_events_url":"https://api.github.com/users/XiaokunDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T08:07:43Z","updated_at":"2019-08-06T08:07:43Z","author_association":"CONTRIBUTOR","body":"Taking a stab at this , If no one follows, I will do this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518559146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518630778","html_url":"https://github.com/apache/iceberg/pull/352#issuecomment-518630778","issue_url":"https://api.github.com/repos/apache/iceberg/issues/352","id":518630778,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODYzMDc3OA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T11:32:38Z","updated_at":"2019-08-06T11:32:38Z","author_association":"MEMBER","body":"Changes LGTM, also tested as described in #330, now after delete in transaction only one manifest file is produced. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/518630778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]