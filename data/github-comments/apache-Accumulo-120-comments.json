[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1721287651","html_url":"https://github.com/apache/accumulo/pull/3728#issuecomment-1721287651","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3728","id":1721287651,"node_id":"IC_kwDOACaFSM5mmMPj","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-15T13:30:30Z","updated_at":"2023-09-15T13:30:30Z","author_association":"CONTRIBUTOR","body":"I'm going to go ahead and merge this and continue on with some follow on PRs. Specifically, code related to chop compactions can be removed and some more testing needs to be done. I'm also going to explore combining the metadata updates into one update instead of 2 to try and simplify things (although currently we are not processing things twice since the first pass just modifies the first/last tablet to fence and then the second pass deletes tablets in the middle). Also, instead of deleting tablets it might make sense to just drop files and then do a merge after.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1721287651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1721328393","html_url":"https://github.com/apache/accumulo/pull/3745#issuecomment-1721328393","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3745","id":1721328393,"node_id":"IC_kwDOACaFSM5mmWMJ","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-15T13:57:50Z","updated_at":"2023-09-15T13:57:50Z","author_association":"CONTRIBUTOR","body":"Using thread context / mdc might be something that we would want to explore in general, For a 2.1 release, it may not be the best time to introduce it.  \r\n\r\nIf I recall, there are subtleties with clearing the mdc stack (like lock / unlock semantics?) and sometimes using local variables?  Again, not sure, and I think I was considering what it would look like for scans / bulk imports where transaction id or other \"per user / thread\" could provide additional insight, so might not apply here? It been awhile since I last looked.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1721328393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1721668014","html_url":"https://github.com/apache/accumulo/pull/3745#issuecomment-1721668014","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3745","id":1721668014,"node_id":"IC_kwDOACaFSM5mnpGu","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-15T18:16:08Z","updated_at":"2023-09-15T18:16:08Z","author_association":"CONTRIBUTOR","body":"slf4j supports passing the MDC implementation to the underlying logging system, but has no direct support for MDC.\r\nIf the user's underlying logging system is log4j2 or logback, then this would work<sup>1</sup>. \r\n\r\nIf the log layout format has to be modified, is there a possibility that user established 2.1 log parsing may break between 2.1.x versions?\r\n\r\nReferences:\r\n    1. https://www.slf4j.org/api/org/slf4j/MDC.html","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1721668014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1722067979","html_url":"https://github.com/apache/accumulo/issues/3744#issuecomment-1722067979","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3744","id":1722067979,"node_id":"IC_kwDOACaFSM5mpKwL","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-16T00:02:44Z","updated_at":"2023-09-16T00:02:44Z","author_association":"CONTRIBUTOR","body":"> I think changing it to `LoggerFactory.getLogger(GCRun.class.getName() + \".\" + level.name());` would be fine.\r\n\r\nThat is the current solution being added in #3745 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1722067979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1722116396","html_url":"https://github.com/apache/accumulo/issues/3734#issuecomment-1722116396","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3734","id":1722116396,"node_id":"IC_kwDOACaFSM5mpWks","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-16T03:03:05Z","updated_at":"2023-09-16T03:03:05Z","author_association":"MEMBER","body":"@keith-turner seems to have merged this in e129b80ddf621cb52485e0fa455a3de9c82d326b ; so, I'll unassign myself and close this as fixed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1722116396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1722120357","html_url":"https://github.com/apache/accumulo/issues/3757#issuecomment-1722120357","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3757","id":1722120357,"node_id":"IC_kwDOACaFSM5mpXil","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-16T03:26:26Z","updated_at":"2023-09-16T03:26:26Z","author_association":"MEMBER","body":"Assigning this to @keith-turner , since all the PRs that broke this were authored by him, and he's the most likely person to know how to fix this quickly. But, anybody is free to take this on, if they can identify the solution and fix it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1722120357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723529249","html_url":"https://github.com/apache/accumulo/issues/3759#issuecomment-1723529249","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3759","id":1723529249,"node_id":"IC_kwDOACaFSM5muvgh","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T14:22:10Z","updated_at":"2023-09-18T14:22:10Z","author_association":"CONTRIBUTOR","body":"See this [comment in slack](https://the-asf.slack.com/archives/CERNB8NDC/p1695043248418429?thread_ts=1695042856.725299&cid=CERNB8NDC) for a stack trace where changes in #3747 are causing test to fail.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723529249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723581416","html_url":"https://github.com/apache/accumulo/issues/3757#issuecomment-1723581416","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3757","id":1723581416,"node_id":"IC_kwDOACaFSM5mu8Po","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T14:40:06Z","updated_at":"2023-09-18T14:40:06Z","author_association":"CONTRIBUTOR","body":"With the changes in #3760 I am seeing all the integration test mentioned in this issue pass.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723581416/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723626866","html_url":"https://github.com/apache/accumulo/issues/3734#issuecomment-1723626866","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3734","id":1723626866,"node_id":"IC_kwDOACaFSM5mvHVy","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T15:01:46Z","updated_at":"2023-09-18T15:01:46Z","author_association":"CONTRIBUTOR","body":"I wanted to merge main into the elasticity branch and wanted to include this change with that merge.  I had forgotten about this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723626866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723694173","html_url":"https://github.com/apache/accumulo/pull/3754#issuecomment-1723694173","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3754","id":1723694173,"node_id":"IC_kwDOACaFSM5mvXxd","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T15:20:56Z","updated_at":"2023-09-18T15:20:56Z","author_association":"MEMBER","body":"> A few things:\r\n> \r\n> 1. Can use bootstrap.bundle.js instead of bootstrap.js to include popper\r\n> 2. I'm not sure we need to redistribute the .map files for bootstrap; as far as I can tell, they are only used by browsers for debugging bootstrap itself; if users want to add them, they can, but we don't need to distribute them by default and they can be removed from our source, so long as that doesn't cause any errors, which I'm pretty sure it won't.\r\n> 3. DataTables now uses unicode characters for its up/down arrows for sorting. It is no longer necessary to ship the datatables/images; those can be deleted\r\n> 4. DataTables does not need the css/jquery.dataTables.css file, since it has the css/dataTables.bootstrap5.css for styling, so that can be deleted too.\r\n> 5. Bootstrap is now at 5.3.2 as of this review; this PR is for 5.3.1.\r\n\r\nTook care of all of this in 983b1f3.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723694173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723775800","html_url":"https://github.com/apache/accumulo/pull/3754#issuecomment-1723775800","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3754","id":1723775800,"node_id":"IC_kwDOACaFSM5mvrs4","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T15:46:58Z","updated_at":"2023-09-18T15:46:58Z","author_association":"MEMBER","body":"https://github.com/apache/accumulo/blob/983b1f3a8a37980a5ed0d5c43d9c367efe290205/server/monitor/src/main/resources/org/apache/accumulo/monitor/templates/default.ftl#L39-L46\r\n\r\nOne thing I was wondering is if we need to distribute the files that are not used here. There are many other flot files that are not used but we still have in the codebase. I tried removing all of the files (in 6bc081a) that don't appear in the script tags above and everything seems to be working fine.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723775800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723838388","html_url":"https://github.com/apache/accumulo/pull/3758#issuecomment-1723838388","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3758","id":1723838388,"node_id":"IC_kwDOACaFSM5mv6-0","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T16:19:43Z","updated_at":"2023-09-18T16:19:43Z","author_association":"CONTRIBUTOR","body":"I just kicked off a full IT build.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1723838388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724017663","html_url":"https://github.com/apache/accumulo/pull/3758#issuecomment-1724017663","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3758","id":1724017663,"node_id":"IC_kwDOACaFSM5mwmv_","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T17:07:32Z","updated_at":"2023-09-18T17:07:32Z","author_association":"CONTRIBUTOR","body":"I am closing this and reopening with a new branch that squashes the commits","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724017663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724028401","html_url":"https://github.com/apache/accumulo/pull/3761#issuecomment-1724028401","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3761","id":1724028401,"node_id":"IC_kwDOACaFSM5mwpXx","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T17:14:25Z","updated_at":"2023-09-18T17:14:25Z","author_association":"CONTRIBUTOR","body":"I restarted the full IT build with this new PR","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724028401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724030731","html_url":"https://github.com/apache/accumulo/pull/3758#issuecomment-1724030731","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3758","id":1724030731,"node_id":"IC_kwDOACaFSM5mwp8L","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T17:15:54Z","updated_at":"2023-09-18T17:15:54Z","author_association":"CONTRIBUTOR","body":"This PR has been superseeded by #3761 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724030731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724223414","html_url":"https://github.com/apache/accumulo/issues/3734#issuecomment-1724223414","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3734","id":1724223414,"node_id":"IC_kwDOACaFSM5mxY-2","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T19:13:54Z","updated_at":"2023-09-18T19:13:54Z","author_association":"MEMBER","body":"> I wanted to merge main into the elasticity branch and wanted to include this change with that merge. I had forgotten about this issue.\r\n\r\nNo worries!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724223414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724512079","html_url":"https://github.com/apache/accumulo/issues/3744#issuecomment-1724512079","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3744","id":1724512079,"node_id":"IC_kwDOACaFSM5myfdP","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T21:56:19Z","updated_at":"2023-09-18T21:56:19Z","author_association":"CONTRIBUTOR","body":"Closed with https://github.com/apache/accumulo/pull/3745","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724512079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724538317","html_url":"https://github.com/apache/accumulo/pull/3761#issuecomment-1724538317","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3761","id":1724538317,"node_id":"IC_kwDOACaFSM5myl3N","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-18T22:20:10Z","updated_at":"2023-09-18T22:20:10Z","author_association":"CONTRIBUTOR","body":"I merged in main to get #3760 to fix the tests, I just re-kicked the full IT again.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1724538317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1725233860","html_url":"https://github.com/apache/accumulo/pull/3761#issuecomment-1725233860","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3761","id":1725233860,"node_id":"IC_kwDOACaFSM5m1PrE","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T10:23:53Z","updated_at":"2023-09-19T10:23:53Z","author_association":"CONTRIBUTOR","body":"> I merged in main to get #3760 to fix the tests, I just re-kicked the full IT again.\r\n\r\nFull IT build finished and passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1725233860/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728089950","html_url":"https://github.com/apache/accumulo/issues/3763#issuecomment-1728089950","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3763","id":1728089950,"node_id":"IC_kwDOACaFSM5nAI9e","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T16:38:07Z","updated_at":"2023-09-20T16:38:07Z","author_association":"CONTRIBUTOR","body":"This can be done after #3761 is merged into the elasticity branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728089950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728092877","html_url":"https://github.com/apache/accumulo/issues/3605#issuecomment-1728092877","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3605","id":1728092877,"node_id":"IC_kwDOACaFSM5nAJrN","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T16:40:21Z","updated_at":"2023-09-20T16:40:21Z","author_association":"CONTRIBUTOR","body":"Can probably close this issue after #3761 is merged into elasticity. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728092877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728194328","html_url":"https://github.com/apache/accumulo/pull/3754#issuecomment-1728194328","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3754","id":1728194328,"node_id":"IC_kwDOACaFSM5nAicY","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T17:54:45Z","updated_at":"2023-09-20T18:15:18Z","author_association":"MEMBER","body":"> Took care of all of this in [983b1f3](https://github.com/apache/accumulo/commit/983b1f3a8a37980a5ed0d5c43d9c367efe290205).\r\n\r\nI think you left the changes to the LICENSE files from adding popper. Those aren't needed, since they are part of the bootstrap bundle.\r\n(NOTE: I removed these changes in 22621258743aa28ee1337be5523602c2704fccc2)\r\n\r\nAnd this also kept the bootstrap at 5.3.1 instead of the current 5.3.2. Since the commit message says that it went to 5.3.2, but is only at 5.3.1, I think that probably needs to be corrected still.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728194328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728196276","html_url":"https://github.com/apache/accumulo/pull/3754#issuecomment-1728196276","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3754","id":1728196276,"node_id":"IC_kwDOACaFSM5nAi60","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T17:56:21Z","updated_at":"2023-09-20T17:56:21Z","author_association":"MEMBER","body":"> One thing I was wondering is if we need to distribute the files that are not used here. There are many other flot files that are not used but we still have in the codebase. I tried removing all of the files (in [6bc081a](https://github.com/apache/accumulo/commit/6bc081a4e5a04d408e0a7537719a821d4a8867b7)) that don't appear in the script tags above and everything seems to be working fine.\r\n\r\nThe flot distribution contains all of them. I don't care too much if we only pick a subset of the ones we use, but it might be hard to maintain if we're constantly having to trim down the distribution to just those we use, each time we update. It's up to you.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728196276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728370871","html_url":"https://github.com/apache/accumulo/pull/3754#issuecomment-1728370871","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3754","id":1728370871,"node_id":"IC_kwDOACaFSM5nBNi3","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T20:19:53Z","updated_at":"2023-09-20T20:19:53Z","author_association":"MEMBER","body":"> > One thing I was wondering is if we need to distribute the files that are not used here. There are many other flot files that are not used but we still have in the codebase. I tried removing all of the files (in [6bc081a](https://github.com/apache/accumulo/commit/6bc081a4e5a04d408e0a7537719a821d4a8867b7)) that don't appear in the script tags above and everything seems to be working fine.\r\n> \r\n> The flot distribution contains all of them. I don't care too much if we only pick a subset of the ones we use, but it might be hard to maintain if we're constantly having to trim down the distribution to just those we use, each time we update. It's up to you.\r\n\r\nThe bootstrap and DataTables distributions contain many files which we cherry pick from as well so I was thinking it would be okay to do the same with flot. I ended up reverting that change though so all of the files are still there. Also I see in 2262125 you removed popper from the LICENSE files which i forgot to do, thanks. Do you plan do push a commit to fix the bootstrap version in the LICENSE files as well or should I go ahead and do that?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1728370871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1729641795","html_url":"https://github.com/apache/accumulo/pull/3725#issuecomment-1729641795","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3725","id":1729641795,"node_id":"IC_kwDOACaFSM5nGD1D","user":{"login":"markowens","id":28066643,"node_id":"MDQ6VXNlcjI4MDY2NjQz","avatar_url":"https://avatars.githubusercontent.com/u/28066643?v=4","gravatar_id":"","url":"https://api.github.com/users/markowens","html_url":"https://github.com/markowens","followers_url":"https://api.github.com/users/markowens/followers","following_url":"https://api.github.com/users/markowens/following{/other_user}","gists_url":"https://api.github.com/users/markowens/gists{/gist_id}","starred_url":"https://api.github.com/users/markowens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markowens/subscriptions","organizations_url":"https://api.github.com/users/markowens/orgs","repos_url":"https://api.github.com/users/markowens/repos","events_url":"https://api.github.com/users/markowens/events{/privacy}","received_events_url":"https://api.github.com/users/markowens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T13:57:33Z","updated_at":"2023-09-22T15:10:10Z","author_association":"NONE","body":"@ctubbsii, simplified PR to the single change in Property.java as per suggestion.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1729641795/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1729675105","html_url":"https://github.com/apache/accumulo/pull/3765#issuecomment-1729675105","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3765","id":1729675105,"node_id":"IC_kwDOACaFSM5nGL9h","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T14:16:08Z","updated_at":"2023-09-21T14:16:39Z","author_association":"CONTRIBUTOR","body":"Looking for other holes, I am thinking that the Datafilemanager returnFilesForScan should be putting the synchronized block in a try block and the final section that deletes the file scan entries in a finally block.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1729675105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1730111253","html_url":"https://github.com/apache/accumulo/pull/3765#issuecomment-1730111253","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3765","id":1730111253,"node_id":"IC_kwDOACaFSM5nH2cV","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T18:40:33Z","updated_at":"2023-09-21T18:40:33Z","author_association":"CONTRIBUTOR","body":"Added some updates from @ivakegg. \r\n\r\nKicking off full ITs locally.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1730111253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1730323159","html_url":"https://github.com/apache/accumulo/issues/3762#issuecomment-1730323159","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3762","id":1730323159,"node_id":"IC_kwDOACaFSM5nIqLX","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T21:24:36Z","updated_at":"2023-09-21T21:24:36Z","author_association":"CONTRIBUTOR","body":"When the test fails, it seems to be an issue with understanding that the server died (well, killed intentionally by the test in this case)\r\n\r\nThe manager sees that it cannot connect and the connection is refused.\r\n```\r\n2023-09-21T14:47:50,210 [manager.Manager] TRACE: Got status from ip-xx-xx-xx-xx:46553[1000082d6390005] in 4 ms\r\n2023-09-21T14:47:50,208 [manager.Manager] DEBUG: unable to get tablet server status ip-xx-xx-xx-xx:44915[1000082d6390004]\r\norg.apache.thrift.transport.TTransportException: java.net.ConnectException: Connection refused\r\n```\r\nbut it still tries to get tablet info from the \"dead\" server:\r\n```2023-09-21T14:47:50,312 [manager.Manager] ERROR: Error processing table state for store Normal Tablets\r\njava.lang.RuntimeException: java.io.EOFException: Socket is closed by peer.\r\n        at org.apache.accumulo.core.clientImpl.TabletServerBatchReaderIterator.hasNext(TabletServerBatchReaderIterator.java:198) ~[accumulo-core-2.1.3-SNAPSHOT.jar:2.1.3-SNAPSHOT]\r\n        at org.apache.accumulo.server.manager.state.MetaDataTableScanner.hasNext(MetaDataTableScanner.java:125) ~[accumulo-server-base-2.1.3-SNAPSHOT.jar:2.1.3-SNAPSHOT]\r\n        at org.apache.accumulo.manager.TabletGroupWatcher.run(TabletGroupWatcher.java:219) [accumulo-manager-2.1.3-SNAPSHOT.jar:2.1.3-SNAPSHOT]\r\n\r\n...\r\n\r\n2023-09-21T14:47:50,312 [manager.Manager] ERROR: Error processing table state for store Metadata Tablets\r\njava.lang.RuntimeException: java.io.EOFException: Socket is closed by peer.\r\n        at org.apache.accumulo.core.clientImpl.TabletServerBatchReaderIterator.hasNext(TabletServerBatchReaderIterator.java:198) ~[accumulo-core-2.1.3-SNAPSHOT.jar:2.1.3-SNAPSHOT]\r\n        at org.apache.accumulo.server.manager.state.MetaDataTableScanner.hasNext(MetaDataTableScanner.java:125) ~[accumulo-server-base-2.1.3-SNAPSHOT.jar:2.1.3-SNAPSHOT]\r\n        at org.apache.accumulo.manager.TabletGroupWatcher.run(TabletGroupWatcher.java:219) [accumulo-manager-2.1.3-SNAPSHOT.jar:2.1.3-SNAPSHOT]\r\n\r\n```\r\n\r\nWhen the test passes:\r\n\r\nIt recognizes the \"dead\" server and then starts the recovery / reassignment sequences as expected.\r\n\r\n```\r\n2023-09-21T14:38:46,312 [manager.Manager] DEBUG: Finished gathering information from 1 of 2 servers in 0.01 seconds\r\n2023-09-21T14:38:46,312 [manager.Manager] DEBUG: not balancing because the balance information is out-of-date [ip-xx-xx-xx-xx:39049[100007a633d0005]]\r\n2023-09-21T14:38:51,524 [manager.Manager] WARN : Lost servers [ip-xx-xx-xx-xx:39049[100007a633d0005]]\r\n2023-09-21T14:38:51,524 [manager.EventCoordinator] INFO : There are now 1 tablet servers\r\n\r\n```\r\nThere does not seem to be a correlation between the tablets that get assigned to the server that is killed.  In one case, the root tablet was there, but on the next run / failure the root was assigned to the server that keeps running.  Seems similar to the metadata assignments - I don't see a pattern between tablet assignments on failures or successes.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1730323159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1730853369","html_url":"https://github.com/apache/accumulo/pull/3765#issuecomment-1730853369","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3765","id":1730853369,"node_id":"IC_kwDOACaFSM5nKrn5","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T06:09:50Z","updated_at":"2023-09-22T06:09:50Z","author_association":"CONTRIBUTOR","body":"FullITs passed. \r\n\r\nConfirmed that new logging statements will show up regardless if `memIters` is set to `null` before entering close method.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1730853369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1731246402","html_url":"https://github.com/apache/accumulo/pull/3761#issuecomment-1731246402","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3761","id":1731246402,"node_id":"IC_kwDOACaFSM5nMLlC","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T11:17:09Z","updated_at":"2023-09-22T11:17:09Z","author_association":"CONTRIBUTOR","body":"> I have been running this on a single node instance and experimenting with it, its really neat and is working really well. I created [this gist](https://gist.github.com/keith-turner/08cb06d84d3040fb60b2bc058b9e9a5d) showing some of the things I tried. One problem I ran into is there is no easy way to see the ranges, I think we need a follow on issue for this. Need something in place for debugging purposes that makes it easy to see the ranges in the metadata table.\r\n> \r\n\r\nI can create a follow on issue. For debug logging (if we don't already have the `StoredTabletFile` object loaded) we could deserialize the metadata back into either a `StoredTabletFile` or just to the json object that is used to serialize which is `TabletFileCqMetadataGson` and use that to print it as human readable form. Reading it back into `TabletFileCqMetadataGson` would be quicker and more efficient if we just wanted the Range than loading an entire `StoredTabletFile`.\r\n\r\nFor seeing the ranges when writing ITs the simplest thing was to deserialize the metadata entry back into the entire `StoredTabletFile` object and then print the range object and other things. I did this for all of the ITs I modified for merge/delete so I could easily see what was stored. The helper method I used to print the metadata with human readable ranges is part of this PR in [FileMetadata](https://github.com/apache/accumulo/blob/ab3e55147fb11e4df55c7a47680fa3b5f85cee4a/test/src/main/java/org/apache/accumulo/test/util/FileMetadataUtil.java). I just added a log statement where I print the Range and other info: https://github.com/apache/accumulo/blob/ab3e55147fb11e4df55c7a47680fa3b5f85cee4a/test/src/main/java/org/apache/accumulo/test/util/FileMetadataUtil.java#L61-L63\r\n\r\nThis outputs like the following: `Extent: 5<<; File Name: F000000c.rf; Range: (-inf,m%00; : [] 9223372036854775807 false); Entries: 2, Size: 212`\r\n\r\n> I manually exported and imported a table where the files had non infinite ranges and it worked, the ranges made it. Do you know if there are test for this? If not I think we should open a follow on issue to create test for this.\r\n> \r\nI haven't specifically done any testing with import/export so I can create a follow on for testing. My assumption is that it should work (along with bulk import) due to everything is just treated as a StoredTabletFile in the rest of the code base and the fact that it has a range shouldn't really matter but we should definitely test it.\r\n> I manually cloned a table that had files with non infinite ranges and that worked great. If that does not have test, we probably want to open a follow on issue for that.\r\n> \r\nSame thing here, I don't think there's a test (at least I didn't write one). I am thinking I can create an overall top level issue for adding testing for no-chop merge and we can just keep a running list of things to add and add PRs to cover each case as there's likely several things we want to test with ranges.\r\n> Noticed MergeState still has WAITING_FOR_CHOPPED state, is that something you were thinking of removing as a follow on? Have you created any issues for known follow on work yet?\r\n> \r\nRight, I figured I would just clean up all \"chopped\" related things in a follow on. I started to work on removing all of that stuff, like `WAITING_FOR_CHOPPED` from MergeState, removing things from Thrift, etc and the diff was starting to hit another 1000 lines of code changes to remove all the chop compaction code. So I figured for now I'd just leave it all as it doesn't hurt anything (just not used) and I was going to create an issue and follow on PR to remove all of it at one time.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1731246402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1731654008","html_url":"https://github.com/apache/accumulo/issues/3769#issuecomment-1731654008","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3769","id":1731654008,"node_id":"IC_kwDOACaFSM5nNvF4","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T15:53:37Z","updated_at":"2023-09-24T13:56:10Z","author_association":"CONTRIBUTOR","body":"I've started work in a branch that is based off of #3761 here: https://github.com/cshannon/accumulo/tree/chop-split-cleanup","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1731654008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1731672034","html_url":"https://github.com/apache/accumulo/issues/3768#issuecomment-1731672034","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3768","id":1731672034,"node_id":"IC_kwDOACaFSM5nNzfi","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T16:05:57Z","updated_at":"2023-09-22T16:05:57Z","author_association":"CONTRIBUTOR","body":"According to @cshannon `one thing is cleaning up old chop markers and converting metadata`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1731672034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1731936673","html_url":"https://github.com/apache/accumulo/pull/3719#issuecomment-1731936673","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3719","id":1731936673,"node_id":"IC_kwDOACaFSM5nO0Gh","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T19:26:48Z","updated_at":"2023-09-22T19:26:48Z","author_association":"MEMBER","body":"Closing as superseded by #3770","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1731936673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732110375","html_url":"https://github.com/apache/accumulo/issues/3767#issuecomment-1732110375","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3767","id":1732110375,"node_id":"IC_kwDOACaFSM5nPegn","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T22:59:10Z","updated_at":"2023-09-22T22:59:10Z","author_association":"CONTRIBUTOR","body":"See #3772","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732110375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732138039","html_url":"https://github.com/apache/accumulo/pull/3771#issuecomment-1732138039","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3771","id":1732138039,"node_id":"IC_kwDOACaFSM5nPlQ3","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-23T00:05:00Z","updated_at":"2023-09-23T00:05:00Z","author_association":"CONTRIBUTOR","body":"Not sure if this strengthens the case for improving the error handling in `TabletStateStore` - but in the test, the bad server scan sees the communication error - but it does not reach the threshold to mark the server as bad (it takes 3 failed attempts).  It seems that depending on which server is used by `TabletStateStore` the test passes if it picks the \"good\" server.  If it picks the dead, but not declared dead server, the socket closed / EOF exception triggers the test failure.\r\n\r\nIt seems that trying to talk to a recently deceased server should be an exceptional condition that we should handle correctly rather than working around it in the test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732138039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732345148","html_url":"https://github.com/apache/accumulo/pull/3761#issuecomment-1732345148","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3761","id":1732345148,"node_id":"IC_kwDOACaFSM5nQX08","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-23T15:40:45Z","updated_at":"2023-09-23T15:40:45Z","author_association":"CONTRIBUTOR","body":"@keith-turner - I added the 4 tests you suggested to the list here https://github.com/apache/accumulo/issues/3766 . I figured the simplest thing to do was just have 1 issue that tracks all the tests to add and create PRs for each one so we don't end up with a ton of separate issues.\r\n\r\nYour external compaction test suggestion made me think of something else. I realized that in some of the tests for Merge/Delete I am counting and verifying the metadata files are the expected count to make sure things look ok in the table. I realized a compaction running could throw this off so I am wondering if I need to update and make sure the ITs won't ever run a compaction or if it's not necessary as there's not enough data being written. Probably wouldn't hurt to disable just so things are deterministic.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732345148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732370275","html_url":"https://github.com/apache/accumulo/pull/3761#issuecomment-1732370275","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3761","id":1732370275,"node_id":"IC_kwDOACaFSM5nQd9j","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-23T17:26:51Z","updated_at":"2023-09-23T17:26:51Z","author_association":"CONTRIBUTOR","body":"> I realized a compaction running could throw this off so I am wondering if I need to update and make sure the ITs won't ever run a compaction or if it's not necessary as there's not enough data being written. Probably wouldn't hurt to disable just so things are deterministic.\r\n\r\nYeah it is nice to avoid non deterministic test failures.  Could up the compaction ratio on the table to higher than the number of files created to avoid this.   If creating less files than the default for the compaction ratio it should not be a problem.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732370275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732575410","html_url":"https://github.com/apache/accumulo/pull/3761#issuecomment-1732575410","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3761","id":1732575410,"node_id":"IC_kwDOACaFSM5nRQCy","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-24T13:53:33Z","updated_at":"2023-09-24T13:53:59Z","author_association":"CONTRIBUTOR","body":"I just kicked off one more full IT and assuming that passes I am planning to merge this today. There are several follow on issues to complete (including a major one of merging into elasticity) and they can't be completed until this is merged. 3.1 is not going to be released for a while so there is plenty of time to put in follow on issues and PRs to address any issues with no-chop merge that comes up during testing or later before release.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732575410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732583551","html_url":"https://github.com/apache/accumulo/pull/3761#issuecomment-1732583551","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3761","id":1732583551,"node_id":"IC_kwDOACaFSM5nRSB_","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-24T14:18:15Z","updated_at":"2023-09-24T14:18:15Z","author_association":"CONTRIBUTOR","body":"> > I realized a compaction running could throw this off so I am wondering if I need to update and make sure the ITs won't ever run a compaction or if it's not necessary as there's not enough data being written. Probably wouldn't hurt to disable just so things are deterministic.\r\n> \r\n> Yeah it is nice to avoid non deterministic test failures. Could up the compaction ratio on the table to higher than the number of files created to avoid this. If creating less files than the default for the compaction ratio it should not be a problem.\r\n\r\nLooks like I did do this in one [test](https://github.com/cshannon/accumulo/blob/3673ff8c297bdccac9bc0f55fb726244e8157d7d/test/src/main/java/org/apache/accumulo/test/functional/MergeIT.java#L201) but need to go back and make sure other tests have it too, will add it to  #3766 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732583551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732634925","html_url":"https://github.com/apache/accumulo/pull/3761#issuecomment-1732634925","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3761","id":1732634925,"node_id":"IC_kwDOACaFSM5nRekt","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-24T18:09:06Z","updated_at":"2023-09-24T18:09:06Z","author_association":"CONTRIBUTOR","body":"> I just kicked off one more full IT and assuming that passes I am planning to merge this today. There are several follow on issues to complete (including a major one of merging into elasticity) and they can't be completed until this is merged. 3.1 is not going to be released for a while so there is plenty of time to put in follow on issues and PRs to address any issues with no-chop merge that comes up during testing or later before release.\r\n\r\nThe only thing that failed was GarbageCollectorIT due to updates from #3738 which have now been fixed","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1732634925/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1733759682","html_url":"https://github.com/apache/accumulo/pull/3770#issuecomment-1733759682","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3770","id":1733759682,"node_id":"IC_kwDOACaFSM5nVxLC","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T13:53:47Z","updated_at":"2023-09-25T13:53:47Z","author_association":"MEMBER","body":"> The alert looks good. Does seem there is some empty space at the bottom of the alert that could be trimmed so the alert overall is not quite as large. \r\n\r\nGood idea. I went ahead and tried that out and think it looks good. Ill upload a screenshot in another comment.\r\n\r\n> Also, maybe a way to minimize the alert once its shown since it will always be on the navbar as well to illustrate that there is one currently. Thoughts on that?\r\n\r\nI think this is a good idea too but not sure what the best course of action here is. I think it would be better to minimize the alert as opposed to remove it but I am open to other suggestions as well if anyone else has any. Maybe a [boostrap accordion](https://getbootstrap.com/docs/5.3/components/accordion/)-like minimize where the messages can be collapsed into the title \"System-wide Notifications\"","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1733759682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1733782845","html_url":"https://github.com/apache/accumulo/pull/3770#issuecomment-1733782845","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3770","id":1733782845,"node_id":"IC_kwDOACaFSM5nV209","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T14:06:30Z","updated_at":"2023-09-25T14:06:30Z","author_association":"MEMBER","body":"Removed the margin at the bottom of the list of alert messages in 0dc7932. I also tested out adding multiple messages to that list to see how it would look:\r\n\r\n![Screenshot from 2023-09-25 09-47-57](https://github.com/apache/accumulo/assets/47725857/b9dbd914-1533-4c77-866b-2c221c4925e7)\r\n\r\nRight now the manager states is the only thing that adds to this alert but in the future if we wanted to add others it might look something similar to this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1733782845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734230186","html_url":"https://github.com/apache/accumulo/pull/3771#issuecomment-1734230186","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3771","id":1734230186,"node_id":"IC_kwDOACaFSM5nXkCq","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T18:05:47Z","updated_at":"2023-09-25T18:05:47Z","author_association":"CONTRIBUTOR","body":"An alternate approach is provided in #3776 that counts the number of dead tservers as a check before allowing the test to continue - this provides an positive check that the killed tserver has been declared dead.\r\n\r\nOnly one of these should be merged - if the solution is to modify the test.  A new PR should be created if the solution it to improve the exception handling in the `TabletStateStore` iterator code.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734230186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734288029","html_url":"https://github.com/apache/accumulo/pull/3777#issuecomment-1734288029","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3777","id":1734288029,"node_id":"IC_kwDOACaFSM5nXyKd","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T18:48:29Z","updated_at":"2023-09-25T18:48:29Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734288029/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734288636","html_url":"https://github.com/apache/accumulo/pull/3777#issuecomment-1734288636","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3777","id":1734288636,"node_id":"IC_kwDOACaFSM5nXyT8","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T18:48:57Z","updated_at":"2023-09-25T18:48:57Z","author_association":"CONTRIBUTOR","body":"The base commit for this pull request has not changed.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734288636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734300108","html_url":"https://github.com/apache/accumulo/pull/3777#issuecomment-1734300108","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3777","id":1734300108,"node_id":"IC_kwDOACaFSM5nX1HM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T18:57:38Z","updated_at":"2023-09-25T18:57:38Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734300108/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734300537","html_url":"https://github.com/apache/accumulo/pull/3777#issuecomment-1734300537","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3777","id":1734300537,"node_id":"IC_kwDOACaFSM5nX1N5","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T18:57:58Z","updated_at":"2023-09-25T18:57:58Z","author_association":"CONTRIBUTOR","body":"Looks like org.xerial.snappy:snappy-java is up-to-date now, so this is no longer needed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734300537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734300716","html_url":"https://github.com/apache/accumulo/pull/3777#issuecomment-1734300716","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3777","id":1734300716,"node_id":"IC_kwDOACaFSM5nX1Qs","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T18:58:06Z","updated_at":"2023-09-25T18:58:06Z","author_association":"MEMBER","body":"Cherry-picked to 2.1.3 as af47a2f0bd6e231ae898ef61c77d1157d4f1a94a","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734300716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734371807","html_url":"https://github.com/apache/accumulo/pull/3771#issuecomment-1734371807","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3771","id":1734371807,"node_id":"IC_kwDOACaFSM5nYGnf","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T19:53:20Z","updated_at":"2023-09-25T19:53:32Z","author_association":"CONTRIBUTOR","body":"Set this to draft because #3771 is likely to be the preferred approach.  The question of handling the exception upstream in the code remains open.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734371807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734410728","html_url":"https://github.com/apache/accumulo/pull/3770#issuecomment-1734410728","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3770","id":1734410728,"node_id":"IC_kwDOACaFSM5nYQHo","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T20:23:41Z","updated_at":"2023-09-25T20:23:41Z","author_association":"MEMBER","body":"In c7f8c07 I converted the bootstrap `alert` to an `accordion` so that the messages could be collapsed up into the header. Here is how things look now:\r\n![full accordion](https://github.com/apache/accumulo/assets/47725857/6bc34ec4-8255-4f62-84d6-e7cad27804a3)\r\n\r\nI can revert back to the alert if someone prefers that better. I think either one works well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1734410728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735402569","html_url":"https://github.com/apache/accumulo/pull/3727#issuecomment-1735402569","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3727","id":1735402569,"node_id":"IC_kwDOACaFSM5ncCRJ","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T11:58:48Z","updated_at":"2023-09-26T11:58:48Z","author_association":"CONTRIBUTOR","body":"I removed the blocker on this PR as I believe the main reason for the memory inconsistency has been resolved.  Also I believe a flag needs to be added to disable this log altogether as it may be to much of a performance hit where the accumulo.metadata tablets are concerned.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735402569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735838625","html_url":"https://github.com/apache/accumulo/issues/3768#issuecomment-1735838625","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3768","id":1735838625,"node_id":"IC_kwDOACaFSM5ndsuh","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T16:00:09Z","updated_at":"2023-09-26T16:00:09Z","author_association":"CONTRIBUTOR","body":"Looking at this, I am assuming at this point we would want to support a direct upgrade from 2.1.x to 3.1 without needing to first upgrade to a 3.0 version as an intermediate step.\r\n\r\n3.0 introduced data level 11, but the changes appear to be mostly deletions to support deprecation remove.  A 2.1 -> 3.1 upgrade should be able to support those same changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735838625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735911635","html_url":"https://github.com/apache/accumulo/pull/3773#issuecomment-1735911635","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3773","id":1735911635,"node_id":"IC_kwDOACaFSM5nd-jT","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T16:42:18Z","updated_at":"2023-09-26T16:42:18Z","author_association":"CONTRIBUTOR","body":"@cshannon  is it ok if I merge this?  I would like to merge this no chop work into elasticity and would like to take these change along for the ride.  Also may open a quick follow on to remove the chop compaction from the SPI.  The changes I proposed here to avoid removing it added a lot of confusing complexity, so I resolved them.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735911635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735919060","html_url":"https://github.com/apache/accumulo/pull/3773#issuecomment-1735919060","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3773","id":1735919060,"node_id":"IC_kwDOACaFSM5neAXU","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T16:45:42Z","updated_at":"2023-09-26T16:45:42Z","author_association":"CONTRIBUTOR","body":"Sure go for it, I won't have much time to make any changes until later this week so feel free to go ahead and merge it since you created follow on issues.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735919060/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735926247","html_url":"https://github.com/apache/accumulo/issues/3768#issuecomment-1735926247","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3768","id":1735926247,"node_id":"IC_kwDOACaFSM5neCHn","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T16:50:35Z","updated_at":"2023-09-26T16:50:35Z","author_association":"CONTRIBUTOR","body":"> Looking at this, I am assuming at this point we would want to support a direct upgrade from 2.1.x to 3.1 without needing to first upgrade to a 3.0 version as an intermediate step.\r\n\r\nWe could do this.  The code can support running a list of Upgraders.  So could run the 10->11 upgrader followed by the 11->12 upgrader.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735926247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735930740","html_url":"https://github.com/apache/accumulo/issues/3768#issuecomment-1735930740","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3768","id":1735930740,"node_id":"IC_kwDOACaFSM5neDN0","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T16:53:36Z","updated_at":"2023-09-26T16:53:36Z","author_association":"CONTRIBUTOR","body":"`The code can support running a list of Upgraders` \r\n\r\nThat was my intention - mainly I wanted to point out the need for a 2-hop and get agreement that we would not require an intermediate 3.0 - more of a policy / philosophy statement than a technical limitation.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735930740/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735946954","html_url":"https://github.com/apache/accumulo/pull/3773#issuecomment-1735946954","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3773","id":1735946954,"node_id":"IC_kwDOACaFSM5neHLK","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T17:04:31Z","updated_at":"2023-09-26T17:04:31Z","author_association":"CONTRIBUTOR","body":"I introduced a formatting build error.  Pushed edfc2e2011c7dd236fe50ac4a25822354a5e82d6 to main to fix that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735946954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735970406","html_url":"https://github.com/apache/accumulo/pull/3781#issuecomment-1735970406","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3781","id":1735970406,"node_id":"IC_kwDOACaFSM5neM5m","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T17:21:10Z","updated_at":"2023-09-26T17:24:12Z","author_association":"CONTRIBUTOR","body":"This is a follow on to #3773.  I had made comments in that PR about code that needed to be added to avoid using chop and to error if chop was seen.  However those comments were not complete, more code would need to be added than was mentioned in those comments if the deprecated chop enum was kept.  I resolved the comments and explored this removal option instead.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735970406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735978885","html_url":"https://github.com/apache/accumulo/issues/3768#issuecomment-1735978885","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3768","id":1735978885,"node_id":"IC_kwDOACaFSM5neO-F","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T17:27:29Z","updated_at":"2023-09-26T17:27:29Z","author_association":"CONTRIBUTOR","body":"> That was my intention - mainly I wanted to point out the need for a 2-hop and get agreement that we would not require an intermediate 3.0 - more of a policy / philosophy statement than a technical limitation.\r\n\r\nFor that, one consideration is that more upgrade paths means more testing.  If 3.1 supports 3.0->3.1 and 2.1->3.1, then both paths would need to be well tested.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735978885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735989393","html_url":"https://github.com/apache/accumulo/pull/3781#issuecomment-1735989393","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3781","id":1735989393,"node_id":"IC_kwDOACaFSM5neRiR","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T17:35:20Z","updated_at":"2023-09-26T17:35:20Z","author_association":"CONTRIBUTOR","body":"There are still documentation references to `CHOP` in `core/src/main/java/org/apache/accumulo/core/spi/compaction/CompactionPlanner.java`\r\n\r\nDo you want to also remove the CHOP def from `core/src/main/java/org/apache/accumulo/core/client/admin/ActiveCompaction.java` \r\n```\r\npublic abstract class ActiveCompaction {\r\n      * Compaction initiated by system\r\n      */\r\n     SYSTEM,\r\n-    /**\r\n-     * @deprecated Chop compactions have been removed\r\n-     */\r\n-    @Deprecated(since = \"3.1\", forRemoval = true)\r\n-    CHOP,\r\n     /**\r\n      * idle compaction\r\n      */\r\n```\r\nIf you wanted to only scope this to the SPI vs the client removal then the second reference can be ignored.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1735989393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736001844","html_url":"https://github.com/apache/accumulo/pull/3781#issuecomment-1736001844","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3781","id":1736001844,"node_id":"IC_kwDOACaFSM5neUk0","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T17:42:44Z","updated_at":"2023-09-26T17:42:44Z","author_association":"CONTRIBUTOR","body":"I agree that removing CHOP in the SPI cleans up a lot of the code logic vs attempting to handle an unsupported operation in the code. \r\n\r\nThere is a much higher risk of introducing improper behavior by checking for `CHOP` type so I agree that removing these changes in the SPI before a 4.0 release is warranted.\r\n\r\nSPI package documentation for allowed changes: https://www.javadoc.io/doc/org.apache.accumulo/accumulo-core/2.1.2/org/apache/accumulo/core/spi/package-summary.html\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736001844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736002461","html_url":"https://github.com/apache/accumulo/pull/3781#issuecomment-1736002461","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3781","id":1736002461,"node_id":"IC_kwDOACaFSM5neUud","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T17:43:14Z","updated_at":"2023-09-26T17:43:14Z","author_association":"CONTRIBUTOR","body":"Nice find w/ the docs @ddanielr. I updated those in 66f36baf078f7ee1255e4378e4f551dec56f63dd.  For ActiveCompaction.java that is API so can not remove from there if following semver, I did update its javadoc.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736002461/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736039237","html_url":"https://github.com/apache/accumulo/pull/3779#issuecomment-1736039237","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3779","id":1736039237,"node_id":"IC_kwDOACaFSM5nedtF","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T18:10:34Z","updated_at":"2023-09-26T18:10:34Z","author_association":"CONTRIBUTOR","body":"> For example, with this change, trying to upgrade from a 2.1.x will include the following in the manager log.\r\n\r\nThat is kinda neat.  Curious if the manager stops there, or does it still continue to do things like start fate and start the thrift client service.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736039237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736074108","html_url":"https://github.com/apache/accumulo/pull/3774#issuecomment-1736074108","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3774","id":1736074108,"node_id":"IC_kwDOACaFSM5nemN8","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T18:34:07Z","updated_at":"2023-09-26T18:34:32Z","author_association":"CONTRIBUTOR","body":"> I did not realize the bulk loaded column was using the new json format. It will never have the range set, but I guess it uses the json for consistency? That seems fine, just curious if there is more to it than consistency.\r\n\r\nI did it for 2 reasons, one was consistency as you pointed out. The second was for possible future enhancements or use cases that could come up. There may or may not ever be a use case for the new format with bulk load but if we come up with one in the future then it would already be supported without any extra work so provides some flexibility.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736074108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736147396","html_url":"https://github.com/apache/accumulo/pull/3779#issuecomment-1736147396","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3779","id":1736147396,"node_id":"IC_kwDOACaFSM5ne4HE","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T19:16:41Z","updated_at":"2023-09-26T19:16:41Z","author_association":"MEMBER","body":"> > For example, with this change, trying to upgrade from a 2.1.x will include the following in the manager log.\r\n> \r\n> That is kinda neat. Curious if the manager stops there, or does it still continue to do things like start fate and start the thrift client service.\r\n\r\nI'm pretty sure it won't start fate until the upgrade is complete, but I'm not sure about the client service.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736147396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736215709","html_url":"https://github.com/apache/accumulo/pull/3779#issuecomment-1736215709","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3779","id":1736215709,"node_id":"IC_kwDOACaFSM5nfIyd","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T20:08:21Z","updated_at":"2023-09-26T20:11:36Z","author_association":"CONTRIBUTOR","body":"`Curious if the manager stops there` It looks like the manager, tservers and gc hit the data version check and immediately bail with the ERROR / IllegalStateException provided above.   \r\n\r\nBasically, as soon as a service can read from HDFS it is checking the data version and then throwing the exception, halting the service before any changes / operation can be performed.\r\n\r\nWithout this change - if I recall, the services would \"start\", and then a gson, failed to parse message would occur,","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736215709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736238734","html_url":"https://github.com/apache/accumulo/issues/3768#issuecomment-1736238734","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3768","id":1736238734,"node_id":"IC_kwDOACaFSM5nfOaO","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T20:22:54Z","updated_at":"2023-09-26T20:22:54Z","author_association":"MEMBER","body":"> > That was my intention - mainly I wanted to point out the need for a 2-hop and get agreement that we would not require an intermediate 3.0 - more of a policy / philosophy statement than a technical limitation.\r\n> \r\n> For that, one consideration is that more upgrade paths means more testing. If 3.1 supports 3.0->3.1 and 2.1->3.1, then both paths would need to be well tested.\r\n\r\nThe [LTM versioning strategy](https://accumulo.apache.org/contributor/versioning#LTM) documents the intent that LTM releases can be upgraded from either the immediately preceding release, or the immediately preceding LTM release series. (That's not counting patch releases, which are drop-in substitutions, not actually \"upgrades\" in the same sense. Upgrades should always be using the latest patch for a given release line.) It's implied, but not explicitly stated, that non-LTM releases will support these same two paths, because: 1) they are incremental releases towards the next LTM release, and 2) any non-LTM release under development could be declared LTM at the time of its release. So we should expect the same upgrade paths would exist in a non-LTM release as for an LTM release, and we should expect to test both paths.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736238734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736261675","html_url":"https://github.com/apache/accumulo/issues/3768#issuecomment-1736261675","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3768","id":1736261675,"node_id":"IC_kwDOACaFSM5nfUAr","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T20:38:36Z","updated_at":"2023-09-26T20:38:36Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification - I was unaware of the LTM -> LTM provision, but that's what I intended on doing and just wanted to make sure that was known.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1736261675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1737864007","html_url":"https://github.com/apache/accumulo/issues/3763#issuecomment-1737864007","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3763","id":1737864007,"node_id":"IC_kwDOACaFSM5nlbNH","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T18:12:29Z","updated_at":"2023-09-27T18:12:29Z","author_association":"MEMBER","body":"I plan to start looking into this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1737864007/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1737875571","html_url":"https://github.com/apache/accumulo/issues/3763#issuecomment-1737875571","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3763","id":1737875571,"node_id":"IC_kwDOACaFSM5nleBz","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T18:22:01Z","updated_at":"2023-09-27T18:22:01Z","author_association":"CONTRIBUTOR","body":"@DomGarguilo the merge of the changes from #3761 were done in  8cd7c59412887b4d06b40610e51412293fca870d.  I made  changes specific to the elasticity branch in that commit to get MergeIT and DeleteRowsIT working.  Although the test are passing, the functionality is not correct relative to other functionality (like compactions) until its adapted to use conditional mutations.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1737875571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1738538425","html_url":"https://github.com/apache/accumulo/issues/3782#issuecomment-1738538425","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3782","id":1738538425,"node_id":"IC_kwDOACaFSM5nn_25","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T06:22:44Z","updated_at":"2023-09-28T06:22:44Z","author_association":"MEMBER","body":"This bug seems to have been introduced in #3189, which was added in 3.0.0. So, it doesn't affect 2.1 at all.\r\n`ServiceLockData.getAddress()` calls `ServiceLockData.getAddressString()`, which can be null.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1738538425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1738705809","html_url":"https://github.com/apache/accumulo/issues/3762#issuecomment-1738705809","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3762","id":1738705809,"node_id":"IC_kwDOACaFSM5noouR","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T08:29:16Z","updated_at":"2023-09-28T08:29:16Z","author_association":"MEMBER","body":"Upon further investigation, it looks like this was specifically caused by the attempt to mitigate the errors from Thrift's max message size issue, which would retry indefinitely. That mitigation was added in b1b2557f949e9212a1b1ca9b65f2d66c01a69edb for #3737 to address #3731.\r\n\r\nHowever, in this case, we actually do want to retry, because it's a transient failure, not a fatal one.\r\n\r\nThe problem is that we cannot distinguish between the transient failures of the socket being closed because a server died, and the non-transient failures of hitting the Thrift max message size.\r\n\r\nGiven that Accumulo is intended to be robust against transient network outages, and the Thrift max message size is mitigated with configuration to increase the size of the max message, I'm thinking we're going to need to revert the categorization of EOFException as being a fatal error that was done in b1b2557f949e9212a1b1ca9b65f2d66c01a69edb, because it's better that we not fail to resume a scan, just because of a transient network failure. @dlmarion , what do you think?\r\n\r\nAlso, related: I'd like @keith-turner 's opinion on whether we should even be using the framed transport, which creates all these headaches for us in the first place. I'm also curious if @dlmarion or @keith-turner know whether the framed transport should be used for client sockets at all. From the javadoc on TTransportFactory, it reads as if the wrapping is really expected to only be used in servers. However, we use it to wrap client transports with it in our ThriftUtil class, and I'm not sure that's the right thing. I'm not even sure why we're using the framed transport at all.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1738705809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739070333","html_url":"https://github.com/apache/accumulo/issues/3762#issuecomment-1739070333","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3762","id":1739070333,"node_id":"IC_kwDOACaFSM5nqBt9","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T12:33:04Z","updated_at":"2023-09-28T12:33:04Z","author_association":"CONTRIBUTOR","body":"Good find @ctubbsii . Regarding reverting the EOFException changes, that certainly seems like a targeted solution here. I don't believe that removing that will have any negative effects on the other things done in #3737. Regarding the framed transport question, I'm not sure what capability it's providing to us.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739070333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739731055","html_url":"https://github.com/apache/accumulo/issues/3762#issuecomment-1739731055","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3762","id":1739731055,"node_id":"IC_kwDOACaFSM5nsjBv","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T17:22:27Z","updated_at":"2023-09-28T17:22:27Z","author_association":"CONTRIBUTOR","body":"> Also, related: I'd like @keith-turner 's opinion on whether we should even be using the framed transport, which creates all these headaches for us in the first place.\r\n\r\n\r\nAccumulo uses THsHaServer as its default thrift server and it [requires this](https://github.com/apache/thrift/blob/bc9c04d8049d7d5f5cf4e63a25226c1fb8c930bf/lib/java/src/main/java/org/apache/thrift/server/THsHaServer.java#L31)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739731055/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739841156","html_url":"https://github.com/apache/accumulo/issues/3762#issuecomment-1739841156","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3762","id":1739841156,"node_id":"IC_kwDOACaFSM5ns96E","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T18:48:27Z","updated_at":"2023-09-28T18:50:32Z","author_association":"MEMBER","body":"> > Also, related: I'd like @keith-turner 's opinion on whether we should even be using the framed transport, which creates all these headaches for us in the first place.\r\n> \r\n> Accumulo uses THsHaServer as its default thrift server and it [requires this](https://github.com/apache/thrift/blob/bc9c04d8049d7d5f5cf4e63a25226c1fb8c930bf/lib/java/src/main/java/org/apache/thrift/server/THsHaServer.java#L31)\r\n\r\nBut it shouldn't be required for client sockets, right?\r\n\r\nEDIT: Nevermind, I see it says we have to at https://github.com/apache/thrift/blob/bc9c04d8049d7d5f5cf4e63a25226c1fb8c930bf/lib/java/src/main/java/org/apache/thrift/server/TNonblockingServer.java#L37-L38","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739841156/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739946643","html_url":"https://github.com/apache/accumulo/pull/3789#issuecomment-1739946643","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3789","id":1739946643,"node_id":"IC_kwDOACaFSM5ntXqT","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T20:15:23Z","updated_at":"2023-09-28T20:15:23Z","author_association":"MEMBER","body":"@EdColeman I think this fix supersedes #3771 and #3776","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739946643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739951104","html_url":"https://github.com/apache/accumulo/issues/3762#issuecomment-1739951104","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3762","id":1739951104,"node_id":"IC_kwDOACaFSM5ntYwA","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T20:19:31Z","updated_at":"2023-09-28T20:21:22Z","author_association":"MEMBER","body":"Since we're only using the framed transport because we have to, I'm wondering if we should just always set the max message size to the maximum value possible. If we're only using this transport because we have to for the server type, and not because actually want to make use of its features, like size limitations, then it'd probably be easier if we just removed the configuration option, and always set the max size possible. At the very least, we could make it so the default value is always the max size possible, without removing the config. I think one of these options would make things a lot easier on users who are hitting this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1739951104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740018177","html_url":"https://github.com/apache/accumulo/pull/2498#issuecomment-1740018177","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2498","id":1740018177,"node_id":"IC_kwDOACaFSM5ntpIB","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T21:17:51Z","updated_at":"2023-09-28T21:17:51Z","author_association":"MEMBER","body":"I decided to only apply this to the 3.1.0 branch, since it may disrupt user tooling in 2.1 that doesn't support the Java module system. So, I reverted it from the 2.1 branch in 27b76c70b8290f0354c2a8719f0658aa89281a1d, but retained the changes when I merged forward into the main branch in the merge commit 5488a7c74b8b1dc29df37be5dcaa7bace658ba10.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740018177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740041576","html_url":"https://github.com/apache/accumulo/issues/3782#issuecomment-1740041576","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3782","id":1740041576,"node_id":"IC_kwDOACaFSM5ntu1o","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T21:41:28Z","updated_at":"2023-09-28T21:41:28Z","author_association":"MEMBER","body":"Most of my patch is just handling the null case properly. If the null case is happening when it's not supposed to (which I don't think is the case), my patch doesn't fix it, but that situation should be more obvious after my patch is applied if we continue to see problems.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740041576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740056497","html_url":"https://github.com/apache/accumulo/pull/3787#issuecomment-1740056497","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3787","id":1740056497,"node_id":"IC_kwDOACaFSM5ntyex","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T21:57:41Z","updated_at":"2023-09-28T21:57:41Z","author_association":"MEMBER","body":"All the SSL tests pass with these changes.\r\n\r\nI did see `org.apache.accumulo.core.util.CompletableFutureUtilTest.testIterateUntil` fail. It seems unrelated, but I created #3790 for that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740056497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740106248","html_url":"https://github.com/apache/accumulo/pull/3787#issuecomment-1740106248","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3787","id":1740106248,"node_id":"IC_kwDOACaFSM5nt-oI","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T23:04:25Z","updated_at":"2023-09-28T23:04:25Z","author_association":"MEMBER","body":"> Minor suggestion in exception message that you can ignore.\r\n\r\nGood catch. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740106248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740123535","html_url":"https://github.com/apache/accumulo/issues/3782#issuecomment-1740123535","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3782","id":1740123535,"node_id":"IC_kwDOACaFSM5nuC2P","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T23:32:53Z","updated_at":"2023-09-28T23:32:53Z","author_association":"CONTRIBUTOR","body":"Looking through the code I think the changes in #3788 will cause [this code](https://github.com/apache/accumulo/blob/8cd7c59412887b4d06b40610e51412293fca870d/server/compactor/src/main/java/org/apache/accumulo/compactor/Compactor.java#L463) to now throw TTransportException which will cause other code to retry.  So the compactor should no longer die and should retry until there is a service address in ZK.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740123535/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740158829","html_url":"https://github.com/apache/accumulo/pull/3789#issuecomment-1740158829","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3789","id":1740158829,"node_id":"IC_kwDOACaFSM5nuLdt","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T00:32:47Z","updated_at":"2023-09-29T00:32:47Z","author_association":"CONTRIBUTOR","body":"I have no issue with this superseding the #3771 and #3776.  As long as the test becomes stable. \r\n (#3771 should be closed in favor of #3776 anyway.)\r\n\r\nWe may want to consider a specific test that can create / test for the condition rather than hoping to hit it by chance in `ManagerRepairsDualAssignmentIT`  Changing the way killing and testing that it has been reported dead may be better as is done in #3776 - but that would mask hitting the thrift change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740158829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740175887","html_url":"https://github.com/apache/accumulo/pull/3789#issuecomment-1740175887","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3789","id":1740175887,"node_id":"IC_kwDOACaFSM5nuPoP","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T01:03:21Z","updated_at":"2023-09-29T01:03:21Z","author_association":"MEMBER","body":"> I have no issue with this superseding the #3771 and #3776. As long as the test becomes stable. (#3771 should be closed in favor of #3776 anyway.)\r\n\r\nOkay, I'll go ahead and merge it and close the others, then.\r\n\r\n> We may want to consider a specific test that can create / test for the condition rather than hoping to hit it by chance in `ManagerRepairsDualAssignmentIT` Changing the way killing and testing that it has been reported dead may be better as is done in #3776 - but that would mask hitting the thrift change.\r\n\r\nI had similar thoughts myself. For now, I'm inclined to leave the IT as it is, and close the other issues, rather than modify it in a way that would mask this issue and create a dedicated test for it. I think this issue basically was just an extension of the code reviews for #3737, resulting in us changing our mind on a portion of that change prior to a release of it. We're just slightly rolling back to the previous status quo, where everything was fine. So, I'm not terribly inclined to do much more than just roll that one small change back out.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740175887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740183431","html_url":"https://github.com/apache/accumulo/issues/3791#issuecomment-1740183431","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3791","id":1740183431,"node_id":"IC_kwDOACaFSM5nuReH","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T01:17:17Z","updated_at":"2023-09-29T01:17:17Z","author_association":"MEMBER","body":"@keith-turner [wrote](https://github.com/apache/accumulo/issues/3762#issuecomment-1739731055):\r\n> Accumulo uses THsHaServer as its default thrift server and it [requires this](https://github.com/apache/thrift/blob/bc9c04d8049d7d5f5cf4e63a25226c1fb8c930bf/lib/java/src/main/java/org/apache/thrift/server/THsHaServer.java#L31)\r\n\r\n(By \"this\", he's referring to TFramedTransport)\r\n\r\n@ctubbsii [wrote](https://github.com/apache/accumulo/issues/3762#issuecomment-1739841156):\r\n> But it shouldn't be required for client sockets, right?\r\n> \r\n> EDIT: Nevermind, I see it says we have to at https://github.com/apache/thrift/blob/bc9c04d8049d7d5f5cf4e63a25226c1fb8c930bf/lib/java/src/main/java/org/apache/thrift/server/TNonblockingServer.java#L37-L38\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740183431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740184207","html_url":"https://github.com/apache/accumulo/issues/3762#issuecomment-1740184207","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3762","id":1740184207,"node_id":"IC_kwDOACaFSM5nuRqP","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T01:18:47Z","updated_at":"2023-09-29T01:18:47Z","author_association":"MEMBER","body":"> Since we're only using the framed transport because we have to, ...\r\n\r\nI created #3791 as a new issue for this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740184207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740185509","html_url":"https://github.com/apache/accumulo/pull/3776#issuecomment-1740185509","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3776","id":1740185509,"node_id":"IC_kwDOACaFSM5nuR-l","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T01:21:21Z","updated_at":"2023-09-29T01:21:21Z","author_association":"MEMBER","body":"Closing in favor of #3789 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740185509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740185779","html_url":"https://github.com/apache/accumulo/pull/3771#issuecomment-1740185779","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3771","id":1740185779,"node_id":"IC_kwDOACaFSM5nuSCz","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T01:21:54Z","updated_at":"2023-09-29T01:21:54Z","author_association":"MEMBER","body":"Closing in favor of #3789 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740185779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740208904","html_url":"https://github.com/apache/accumulo/issues/3783#issuecomment-1740208904","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3783","id":1740208904,"node_id":"IC_kwDOACaFSM5nuXsI","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T01:52:24Z","updated_at":"2023-09-29T01:52:24Z","author_association":"MEMBER","body":"I was looking at code adjacent to this recently, and 2.1 and the main branches also go to ZK directly, because they are going through the ServiceLock APIs in the same way as the elasticity branch. So, I don't think this is an elasticity-specific issue.\r\n\r\nOne thing to note, though, from the title of this issue, is that it's not really trying to get the \"manager address\", so much as it is trying to get the address of the coordinator service. That just happens to be running in the manager for the elasticity branch. But, the same basic principle would still apply to the earlier branches where the compaction coordinator is its own process. There are some other differences, too... 2.1 uses an older iteration of the ServiceLock abstraction APIs, for example.\r\n\r\nI haven't looked at ZooCache recently, but I do know that for all its benefits, it's is kind of a pain to work with. I'd hate to lean on it more, especially if leaning on it means calling code uses it directly, and circumvents the nice abstraction layer we get with the ServiceLockData API (ServiceLock in 2.1). So, maybe if there's some kind of caching supported, it should be built into the ServiceLockData API, so calling code doesn't need to deal with ZooCache directly. ZooCache does seem like it'd be a little more of a low-level operation than the higher level abstraction we get with ServiceLockData.\r\n\r\nThe description of this issue actually sounds a bit more like the tablet location cache use case instead of the way we typically use ZooCache. I wonder if there's some pattern or concept we can take from the tablet location cache and turn it into a service location cache. For example, if you try to connect to a service at a cached address, and it's no longer running there, then that's when you expire the cache and look up the address again.\r\n\r\nAlso, I'm generally curious, how much of a problem is this? Are these ServiceLockData lookups in ZK that expensive?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740208904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740221308","html_url":"https://github.com/apache/accumulo/issues/3790#issuecomment-1740221308","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3790","id":1740221308,"node_id":"IC_kwDOACaFSM5nuat8","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T02:13:15Z","updated_at":"2023-09-29T02:13:15Z","author_association":"MEMBER","body":"I saw this again in the main branch with 5488a7c74b8b1dc29df37be5dcaa7bace658ba10 in a Jenkins instance (I've only ever seen it on Jenkins). I can't seem to reproduce it manually when I run it directly.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740221308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740261251","html_url":"https://github.com/apache/accumulo/pull/3770#issuecomment-1740261251","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3770","id":1740261251,"node_id":"IC_kwDOACaFSM5nukeD","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T03:31:57Z","updated_at":"2023-09-29T03:31:57Z","author_association":"MEMBER","body":"Wow, you did a good job presenting us with a lot of good options. Here are my thoughts from looking at the example images (didn't look at the code changes at all yet):\r\n\r\n1. Bootstrap Icons [has better fonts](https://icons.getbootstrap.com/#icon-font) that we can use for the alert character. Instead of using the SVGs, I'd go ahead and download and include the bootstrap icons font files, and use the CSS classes to style the icon, because that seems easier to work with once the fonts are in place. It's basically adding another (small) dependency to the monitor's external resources, but I think it's worth it, and we can take advantage of some of the other icons later, if we want, once it's added.\r\n2. I don't think we need to explicitly say \"System-wide Notifications\". I think just having the alert window there is enough. If the icon in the box is the same as in the nav bar, and both are on every page, then the connection is pretty intuitive that it's system-wide. There are [examples of icons in alert boxes in the Bootstrap docs](https://getbootstrap.com/docs/5.0/components/alerts/#icons) that I think look good, and they use the bootstrap icons I mentioned (although, their examples use the SVG instead of the font, which is annoying, because there aren't great examples of using the fonts... even though they should be easier to use).\r\n3. I like the colors and overall appearance of the alert box more than the accordian, but I do really like the ability to minimize or dismiss it. I'm thinking that we should stick with the alert box, but add the [dismiss feature](https://getbootstrap.com/docs/5.0/components/alerts/#dismissing)). Then, we can make it so the alert comes back if you click the icon in the nav bar (\"un-dismissing\"? :smiley_cat:). I think you'd have to register an action on the dismiss button, so we can track that it has been dismissed in the local storage, so it doesn't come back when you refresh. Making it show by clicking on the icon in the nav bar is easier.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740261251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740283247","html_url":"https://github.com/apache/accumulo/pull/3754#issuecomment-1740283247","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3754","id":1740283247,"node_id":"IC_kwDOACaFSM5nup1v","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T04:17:45Z","updated_at":"2023-09-29T04:35:31Z","author_association":"MEMBER","body":"@DomGarguilo wrote:\r\n> The bootstrap and DataTables distributions contain many files which we cherry pick from as well so I was thinking it would be okay to do the same with flot.\r\n\r\nTrue. I guess the way I was downloading them made it feel different than cherry-picking what we needed.\r\n\r\nFor flot, the way I was getting it was:\r\n\r\n1. Download the zip for the latest tag in GitHub: https://github.com/flot/flot/tags\r\n2. Extract the entire package/source directory and the package/LICENSE.txt file from the distribution tarball inside that zip\r\n3. Remove the redundant jquery that we don't need\r\n\r\nSo, I'm basically keeping it the way I got it, although it took a few steps to get that far. It didn't seem like it was worth doing more work to trim it down from there.\r\n\r\nFor DataTables and Bootstrap, it was easier, because they basically have download links on their sites to just the files you need, without downloading the full zip and picking stuff out of it.\r\n\r\nDataTables:\r\n1. Went to https://datatables.net/download/\r\n2. Selected Bootstrap 5 for the styling framework, and unchecked the minify and concatenate options\r\n3. Downloaded all 3 files from the CDN into the project, exactly as they are\r\n\r\nBootstrap:\r\n1. Went to https://getbootstrap.com/\r\n2. Scrolled down to the CDN links where only two files are listed: bootstrap.bundle.min.js and bootstrap.min.css\r\n3. Removed \".min\" from the link URLs, and downloaded all files directly into the project, exactly as they are\r\n  \r\n\r\n> Do you plan do push a commit to fix the bootstrap version in the LICENSE files as well or should I go ahead and do that?\r\n\r\nWe can either fix the LICENSE files to match the files in the project, or we can just update the files in the project to the newer version specified in the LICENSE. I think updating to the newer version is better. If you don't get to it, I can get to it eventually. (Part of the reason I detailed all the steps I took above, is to make it easier on whoever ends up doing it.)\r\n\r\nEDIT: I must've made a mistake. I just checked, and the files are definitely the 5.3.2 version, which matches the commit message and the LICENSE files. I'm not sure what I saw before, but this doesn't look like a problem right now, so I must've made a mistake before.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740283247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740308731","html_url":"https://github.com/apache/accumulo/issues/3693#issuecomment-1740308731","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3693","id":1740308731,"node_id":"IC_kwDOACaFSM5nuwD7","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T04:44:35Z","updated_at":"2023-09-29T04:44:35Z","author_association":"MEMBER","body":"This was mostly done in #3738, but I think we should consider removing the experimental property prior to release and closing this. I'll mark this as a blocker to force us to review this prior to release. If we do end up keeping the property, I think it's probably worth changing the default to so the feature is enabled by default.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740308731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740309899","html_url":"https://github.com/apache/accumulo/pull/3290#issuecomment-1740309899","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3290","id":1740309899,"node_id":"IC_kwDOACaFSM5nuwWL","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T04:46:55Z","updated_at":"2023-09-29T04:46:55Z","author_association":"MEMBER","body":"Closing this stale issue due to inactivity and lack of response. It can be re-opened if activity resumes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740309899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740885905","html_url":"https://github.com/apache/accumulo/pull/3774#issuecomment-1740885905","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3774","id":1740885905,"node_id":"IC_kwDOACaFSM5nw8-R","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T13:18:43Z","updated_at":"2023-09-29T13:18:43Z","author_association":"CONTRIBUTOR","body":"@keith-turner - I updated this with some more tests (empty strings in json and missing path) and I did a little cleanup with a helper method for checking violations. Lastly, I added some null checks on the deserialized StoredTabletFile json just to give a better error message then the default \"NPE\" that happens otherwise which may help someone track down what is actually null (this could be useful if someone manually modifies a file entry and makes a mistake)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740885905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740898900","html_url":"https://github.com/apache/accumulo/pull/3754#issuecomment-1740898900","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3754","id":1740898900,"node_id":"IC_kwDOACaFSM5nxAJU","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T13:28:27Z","updated_at":"2023-09-29T13:28:27Z","author_association":"MEMBER","body":"> EDIT: I must've made a mistake. I just checked, and the files are definitely the 5.3.2 version, which matches the commit message and the LICENSE files. I'm not sure what I saw before, but this doesn't look like a problem right now, so I must've made a mistake before.\r\n\r\nI see 5.3.1 in the LICENSE files:\r\nhttps://github.com/apache/accumulo/blob/51124ad34872c2b659b69251fcd1160e20bbdd44/LICENSE#L316","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740898900/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740944068","html_url":"https://github.com/apache/accumulo/issues/3786#issuecomment-1740944068","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3786","id":1740944068,"node_id":"IC_kwDOACaFSM5nxLLE","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T14:00:46Z","updated_at":"2023-09-29T14:00:46Z","author_association":"CONTRIBUTOR","body":"For changing this we should also make sure the monitor supports TLSv1.3. There are 2 things here that I would recommend doing the first would be to set the default for the client to be TLSv1.3 but it's probably a good idea to still accept TLSv1.2 as well for now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1740944068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1741199063","html_url":"https://github.com/apache/accumulo/issues/3763#issuecomment-1741199063","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3763","id":1741199063,"node_id":"IC_kwDOACaFSM5nyJbX","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T16:46:00Z","updated_at":"2023-09-29T16:46:00Z","author_association":"CONTRIBUTOR","body":"Split and merge are destructive tablet operations that destroy tablets and create new tablets.  A tablet can not be hosted on a tablet server while these operations happen.  In elasticity, tablet splitcurrently has the ability to unhost tablets and ensure no changes are made to the tablet while the destructive operation is in progress.  Merge could be adapted to use these same mechanisms that exist for splitting a tablet.\r\n\r\nIn order to ensure that tablets are not modified by anything else, split relies on a new metadata column named operation id.  This column records the fact that an operation is ongoing that requires exclusive write access to the tablet metadata.  Tablet operations like compact, bulk import, tablet loading, etc require that the operation id is not set via a conditional mutation when updating a tablet.\r\n\r\nUsing operation id, split roughly does the following.\r\n\r\n  * Request unassignment of the tablet if its hosted on a tablet server\r\n  * Set an operation id on the tablet, but only if the follow conditions are met.  The code for this is [here](https://github.com/apache/accumulo/blob/7d21ca2cdcad45efc7c606e094a9cbe6c1838112/server/manager/src/main/java/org/apache/accumulo/manager/tableOps/split/PreSplit.java#L78)\r\n    * Does not have a location\r\n    * Does not have an operation id currently set\r\n  * Make the destructive update to the tablet and create the new tablet with the same operation id.\r\n  * Delete the operation ids from the tablets.\r\n\r\n The merge operation could follow a similar pattern, however it will have one big difference.  Split always starts with a single tablet. A merge operation can start with multiple tablets.  So merge will need to do something like the following.\r\n\r\n  * Request unassignment of all tablets in the range.\r\n  * Use conditional mutations to set an operation id on each tablet in the range as long as it does not have a location and does not have an existing operation id. \r\n  * Adapt the no chop merge changes to use conditional mutations.  These mutations should ensure the operation id is set to the expected value via setting conditions on the mutation.\r\n  * Once all of the metadata updates are complete, delete the operation ids on the tablets.\r\n\r\nThere is a race condition that could happen if two concurrent merge operations run, what happens if each of them set operations ids on an overlapping set of tablets?  This could cause deadlock if not handled.  However the table locks that FATE operation currently acquire should prevent concurrent merge operations.   It would be follow on work and not part of the initial work in this issue, but if we can devise a metadata algorithm that handles this then we may be able to remove table locks in Accumulo.  The metadata algorithm could do something like if one fate sees another fate has set operation ids, then the fate with the highest id could remove the operation ids it has set and and let the other fate acquire them.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1741199063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1741586504","html_url":"https://github.com/apache/accumulo/pull/3796#issuecomment-1741586504","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3796","id":1741586504,"node_id":"IC_kwDOACaFSM5nzoBI","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T23:45:21Z","updated_at":"2023-09-29T23:45:21Z","author_association":"CONTRIBUTOR","body":"This PR along with #3785 and #3784 are all part of an effort to get `mvn verify -Psunny` working in the elasticity branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1741586504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1741763304","html_url":"https://github.com/apache/accumulo/issues/3795#issuecomment-1741763304","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3795","id":1741763304,"node_id":"IC_kwDOACaFSM5n0TLo","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-30T13:08:53Z","updated_at":"2023-09-30T13:08:53Z","author_association":"CONTRIBUTOR","body":"Having some limit is probably good as long as it is configurable either with the existing property you mentioned or a new property.  The main concern here is that under normal use cases (at least for today, maybe new use cases will be used in the future) the ranges for fenced files are going to be generated as the merge and deletion operations will fence files using the existing rows in tablets. If the limit was hit then these operations could or would fail if the size was violated.\r\n\r\nSo if it's configurable though it would allow someone who really wanted to run those operations to do so if they were ok with the consequences of large range keys.\r\n\r\nIn practice, it's hard to say how much of a performance hit there would be until we test. The other thing is that most of the time (but not always of course) the ranges files will not be around for very long. Normal compaction cycles would eventually compact and get rid of them but of course there is no guarantee of that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1741763304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]