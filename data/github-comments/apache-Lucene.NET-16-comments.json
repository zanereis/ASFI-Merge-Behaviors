[{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1277754803","html_url":"https://github.com/apache/lucenenet/issues/649#issuecomment-1277754803","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/649","id":1277754803,"node_id":"IC_kwDOAAJ06c5MKP2z","user":{"login":"mq00fc","id":50408721,"node_id":"MDQ6VXNlcjUwNDA4NzIx","avatar_url":"https://avatars.githubusercontent.com/u/50408721?v=4","gravatar_id":"","url":"https://api.github.com/users/mq00fc","html_url":"https://github.com/mq00fc","followers_url":"https://api.github.com/users/mq00fc/followers","following_url":"https://api.github.com/users/mq00fc/following{/other_user}","gists_url":"https://api.github.com/users/mq00fc/gists{/gist_id}","starred_url":"https://api.github.com/users/mq00fc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mq00fc/subscriptions","organizations_url":"https://api.github.com/users/mq00fc/orgs","repos_url":"https://api.github.com/users/mq00fc/repos","events_url":"https://api.github.com/users/mq00fc/events{/privacy}","received_events_url":"https://api.github.com/users/mq00fc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T15:00:21Z","updated_at":"2022-10-13T15:27:13Z","author_association":"NONE","body":"Sorry to ask again, the previous groupingsearch     issue has been resolved.  At present, there is a problem of sorting search similarity, that is, the search contents are sorted according to search search keywords (keywords are not analyzed, and equals come first).  I found morelikethis, but I'm not quite sure.  Hope to reply from you, thanks @rclabo \r\n\r\nlike \r\n\r\n\r\n![image](https://user-images.githubusercontent.com/50408721/195634098-8be2c93e-df02-46e6-ba4f-2cb2a1e5e3e3.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1277754803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1277800581","html_url":"https://github.com/apache/lucenenet/issues/649#issuecomment-1277800581","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/649","id":1277800581,"node_id":"IC_kwDOAAJ06c5MKbCF","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T15:30:32Z","updated_at":"2022-10-13T15:30:32Z","author_association":"CONTRIBUTOR","body":"The [TestGroupingExtra.cs](https://github.com/apache/lucenenet/blob/master/src/Lucene.Net.Tests.Grouping/TestGroupingExtra.cs) file I mentioned contains lots of examples of sorting in the context of groups.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1277800581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1277815033","html_url":"https://github.com/apache/lucenenet/issues/649#issuecomment-1277815033","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/649","id":1277815033,"node_id":"IC_kwDOAAJ06c5MKej5","user":{"login":"mq00fc","id":50408721,"node_id":"MDQ6VXNlcjUwNDA4NzIx","avatar_url":"https://avatars.githubusercontent.com/u/50408721?v=4","gravatar_id":"","url":"https://api.github.com/users/mq00fc","html_url":"https://github.com/mq00fc","followers_url":"https://api.github.com/users/mq00fc/followers","following_url":"https://api.github.com/users/mq00fc/following{/other_user}","gists_url":"https://api.github.com/users/mq00fc/gists{/gist_id}","starred_url":"https://api.github.com/users/mq00fc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mq00fc/subscriptions","organizations_url":"https://api.github.com/users/mq00fc/orgs","repos_url":"https://api.github.com/users/mq00fc/repos","events_url":"https://api.github.com/users/mq00fc/events{/privacy}","received_events_url":"https://api.github.com/users/mq00fc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T15:39:35Z","updated_at":"2022-10-13T15:43:56Z","author_association":"NONE","body":"> The [TestGroupingExtra.cs](https://github.com/apache/lucenenet/blob/master/src/Lucene.Net.Tests.Grouping/TestGroupingExtra.cs) file I mentioned contains lots of examples of sorting in the context of groups.\r\n\r\nSorry I didn't find any clue you said, here I am not using groupingsearch but boolean query，groupingsearch use filter data item，It has been done with your help，and I want to sort by similarity, but I can't find it（This is a new query, groupingsearch is not used, sorry my english is not very good）","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1277815033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1277828959","html_url":"https://github.com/apache/lucenenet/issues/649#issuecomment-1277828959","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/649","id":1277828959,"node_id":"IC_kwDOAAJ06c5MKh9f","user":{"login":"eladmarg","id":3823205,"node_id":"MDQ6VXNlcjM4MjMyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/3823205?v=4","gravatar_id":"","url":"https://api.github.com/users/eladmarg","html_url":"https://github.com/eladmarg","followers_url":"https://api.github.com/users/eladmarg/followers","following_url":"https://api.github.com/users/eladmarg/following{/other_user}","gists_url":"https://api.github.com/users/eladmarg/gists{/gist_id}","starred_url":"https://api.github.com/users/eladmarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eladmarg/subscriptions","organizations_url":"https://api.github.com/users/eladmarg/orgs","repos_url":"https://api.github.com/users/eladmarg/repos","events_url":"https://api.github.com/users/eladmarg/events{/privacy}","received_events_url":"https://api.github.com/users/eladmarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T15:50:27Z","updated_at":"2022-10-13T15:50:27Z","author_association":"CONTRIBUTOR","body":"this is not an issue, and this is not questions & answers site. \r\nif you have questions, please ask them on [stackoverflow](https://stackoverflow.com/)\r\n\r\n@NightOwl888, please close. thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1277828959/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278704208","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1278704208","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1278704208,"node_id":"IC_kwDOAAJ06c5MN3pQ","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T08:58:42Z","updated_at":"2022-10-14T08:59:18Z","author_association":"CONTRIBUTOR","body":"Under \"Other ways to help\" in: https://github.com/apache/lucenenet/blob/master/CONTRIBUTING.md\r\n\r\nThere's written:\r\n\r\n* Reviewing code. Pick a random section, review line by line, comparing the code against the [original Lucene 4.8.0 code](https://github.com/apache/lucene-solr/tree/releases/lucene-solr/4.8.0/lucene). Many of the bugs have been found this way, as the tests are not showing them. Let us know if you find anything suspicious on the [dev mailing list](https://cwiki.apache.org/confluence/display/LUCENENET/Mailing+Lists) or [submit a pull request](https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request) with a fix.\r\n\r\nBut I'm wondering does any form of document exist of files that has already been looked through? Or does files normally have a tell to show that they've been looked through?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278704208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278761441","html_url":"https://github.com/apache/lucenenet/issues/653#issuecomment-1278761441","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/653","id":1278761441,"node_id":"IC_kwDOAAJ06c5MOFnh","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T09:44:31Z","updated_at":"2022-10-14T09:44:31Z","author_association":"CONTRIBUTOR","body":"Yes, I agree this is the appropriate fix.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278761441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278767571","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1278767571","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1278767571,"node_id":"IC_kwDOAAJ06c5MOHHT","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T09:48:00Z","updated_at":"2022-10-14T09:48:00Z","author_association":"CONTRIBUTOR","body":"> Under \"Other ways to help\" in: https://github.com/apache/lucenenet/blob/master/CONTRIBUTING.md\r\n> \r\n> There's written:\r\n> \r\n> * Reviewing code. Pick a random section, review line by line, comparing the code against the [original Lucene 4.8.0 code](https://github.com/apache/lucene-solr/tree/releases/lucene-solr/4.8.0/lucene). Many of the bugs have been found this way, as the tests are not showing them. Let us know if you find anything suspicious on the [dev mailing list](https://cwiki.apache.org/confluence/display/LUCENENET/Mailing+Lists) or [submit a pull request](https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request) with a fix.\r\n> \r\n> But I'm wondering does any form of document exist of files that has already been looked through? Or does files normally have a tell to show that they've been looked through?\r\n\r\nA little history. For quite a while we had a few failing tests that were difficult to track down. This is primarily because of the randomized testing that is used in the tests and the fact that we don't have a 1:1 port of the test framework. So, to expedite the process of finding these bugs, we requested help reviewing the code line-by-line, since at the time it was easier to find them that way.\r\n\r\nHowever, since then we have fixed the test framework so randomized tests can be repeated (thus debugged) in #547. This allowed us to finally track down several issues that were primarily hidden and caused intermittent test failures across several tests. As a result, at present there are no remaining test failures in the `Lucene.Net` (core) assembly, which was primarily what we wanted to address with this review.\r\n\r\nWe have also made reviewing tests a priority for certain older projects in #259, since during the port there were often missing pieces when working on a given code file and sometimes the solution was to comment out parts of the file to get it to compile. Some of these commented lines may still exist, meaning we may be missing test conditions. If you are looking for a way to narrow this down, I would suggest reviewing the remaining test projects in #259.\r\n\r\nDo note that most of the projects under test that are not part of #259 were ported from [4.8.1](https://github.com/apache/lucene/tree/releases/lucene-solr/4.8.1) unless otherwise noted with a comment like `// Lucene version compatibility level 8.2.0` at the top of the code file. We shouldn't be bringing in code from any other version elsewhere. When we upgrade the application, it will be all at once rather than one piece at a time.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278767571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278875946","html_url":"https://github.com/apache/lucenenet/pull/655#issuecomment-1278875946","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/655","id":1278875946,"node_id":"IC_kwDOAAJ06c5MOhkq","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:23:43Z","updated_at":"2022-10-14T11:23:43Z","author_association":"CONTRIBUTOR","body":"Looking into the approach commented in #654 instead. ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278875946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278922066","html_url":"https://github.com/apache/lucenenet/pull/654#issuecomment-1278922066","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/654","id":1278922066,"node_id":"IC_kwDOAAJ06c5MOs1S","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T12:10:23Z","updated_at":"2022-10-14T12:10:23Z","author_association":"CONTRIBUTOR","body":"> Well, you did find an issue, just not the one you thought 😁. It might be cleaner to close #654 and #655 and open a new PR (or PRs as noted below) fixing the order of precedence issue throughout the solution as well as switching to the extension methods in J2N noted below.\r\n> \r\n> Since all of the stemmers (and other files in `Lucene.Net.Analysis.Common`) were ported at the same time using an automated Java to C# converter, it wouldn't surprise me if this same precedence issue exists across all of the `.Remove(startIndex, length)` calls in the entire project.\r\n> \r\n> Also since the time `Lucene.Net.Analysis.Common` was ported, we have added extension methods for [`Replace()`](https://github.com/NightOwl888/J2N/blob/v2.0.0/src/J2N/Text/StringBuilderExtensions.cs#L1042) and [`Delete()`](https://github.com/NightOwl888/J2N/blob/v2.0.0/src/J2N/Text/StringBuilderExtensions.cs#L397) in J2N that take into account very subtle differences in behavior. Be aware that they use .NET semantics `startIndex` and `length`, since it would be unwieldly to convert between 2 conventions all the time in the same application.\r\n> \r\n> A type of review you could do is to track down as many of the methods as you can that have to make this conversion from start/end to startIndex/length, check their order of precedence conversion, and change their usage to use the methods in J2N, if appropriate. The best place to start is to compare all of the `String` and `StringBuilder` method parameters between .NET and Java, since they are the most critical for Lucene.NET. If you prefer to submit 1 PR per method review across the entire project, that is fine.\r\n> \r\n> And if it is sensible to add a new extension method, you may submit a PR to J2N with full documentation (generally copied from .NET) and tests ported from JavaSE 8. Note that the API should match similar methods in .NET, but the behavior should match JavaSE 8.\r\n\r\nI've now looked for other occurrences of this error but was unable to find any. Therefore, I think the replacement of the methods with the ones found in J2N might be a better candidate for creating an issue with a link to this PR and then we can open PR's targeting the replacement specifically 😄\r\n\r\nI've also pushed a commit with the parentheses fixes to this PR.\r\n\r\nAnd just to be sure then the idea would be to replace:\r\n\r\n- `StringBuilder.Remove` replaced with `StringBuilder.Delete` (From J2N)\r\n- `StringBuilder.Remove` followed by `StringBuilder.Insert` replaced with `StringBuilder.Replace` (From J2N)","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1278922066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279077333","html_url":"https://github.com/apache/lucenenet/pull/654#issuecomment-1279077333","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/654","id":1279077333,"node_id":"IC_kwDOAAJ06c5MPSvV","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T14:20:32Z","updated_at":"2022-10-14T15:55:34Z","author_association":"CONTRIBUTOR","body":"> > Well, you did find an issue, just not the one you thought 😁. It might be cleaner to close #654 and #655 and open a new PR (or PRs as noted below) fixing the order of precedence issue throughout the solution as well as switching to the extension methods in J2N noted below.\r\n> > Since all of the stemmers (and other files in `Lucene.Net.Analysis.Common`) were ported at the same time using an automated Java to C# converter, it wouldn't surprise me if this same precedence issue exists across all of the `.Remove(startIndex, length)` calls in the entire project.\r\n> > Also since the time `Lucene.Net.Analysis.Common` was ported, we have added extension methods for [`Replace()`](https://github.com/NightOwl888/J2N/blob/v2.0.0/src/J2N/Text/StringBuilderExtensions.cs#L1042) and [`Delete()`](https://github.com/NightOwl888/J2N/blob/v2.0.0/src/J2N/Text/StringBuilderExtensions.cs#L397) in J2N that take into account very subtle differences in behavior. Be aware that they use .NET semantics `startIndex` and `length`, since it would be unwieldly to convert between 2 conventions all the time in the same application.\r\n> > A type of review you could do is to track down as many of the methods as you can that have to make this conversion from start/end to startIndex/length, check their order of precedence conversion, and change their usage to use the methods in J2N, if appropriate. The best place to start is to compare all of the `String` and `StringBuilder` method parameters between .NET and Java, since they are the most critical for Lucene.NET. If you prefer to submit 1 PR per method review across the entire project, that is fine.\r\n> > And if it is sensible to add a new extension method, you may submit a PR to J2N with full documentation (generally copied from .NET) and tests ported from JavaSE 8. Note that the API should match similar methods in .NET, but the behavior should match JavaSE 8.\r\n> \r\n> I've now looked for other occurrences of this error but was unable to find any. Therefore, I think the replacement of the methods with the ones found in J2N might be a better candidate for creating an issue with a link to this PR and then we can open PR's targeting the replacement specifically 😄\r\n> \r\n> I've also pushed a commit with the parentheses fixes to this PR.\r\n> \r\n> And just to be sure then the idea would be to replace:\r\n> \r\n> * `StringBuilder.Remove` replaced with `StringBuilder.Delete` (From J2N)\r\n> * `StringBuilder.Remove` followed by `StringBuilder.Insert` replaced with `StringBuilder.Replace` (From J2N)\r\n\r\nYes, those conversions are correct. Although, we should be checking against the lucene 4.8.0 or 4.8.1 source to be sure.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279077333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279725587","html_url":"https://github.com/apache/lucenenet/pull/646#issuecomment-1279725587","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/646","id":1279725587,"node_id":"IC_kwDOAAJ06c5MRxAT","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T11:28:31Z","updated_at":"2022-10-15T11:28:31Z","author_association":"CONTRIBUTOR","body":"The PR should now be aligned with the requested changes.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279725587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279730960","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1279730960","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1279730960,"node_id":"IC_kwDOAAJ06c5MRyUQ","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T12:01:49Z","updated_at":"2022-10-15T13:10:50Z","author_association":"CONTRIBUTOR","body":"I have added some issues from the scans above, although, there is a lot in there and I could use some help reviewing and creating issues. Of course, if it is a change that would cause us to diverge greatly from the Java source, we don't want to do it. Some things that I noticed that we definitely **do not want to change**:\r\n\r\n1. `goto` statements / Refactor the containing loop to do more than one iteration - These are mostly workarounds for the lack of support for the [labeled continue statement](https://www.programiz.com/java-programming/continue-statement#labeled-continue) in .NET. This is the best way to keep the execution order the same in Java and .NET when stepping through the code.\r\n2. Cognitive Complexity - we want to remain in sync with Java Lucene here.\r\n3. Associated TODO - it is detecting the TODO statements from Lucene. All TODO statements that apply to Lucene.NET are marked with either `LUCENENET TODO:` or `LUCENE TO-DO`. If we can change the scan to look for those instead, it would be great. NOTE: A PR that would be accepted would be to change them all (except for the plain TODOs from Lucene) to be `LUCENENET TODO`.\r\n4. Remove this commented out code. - If the commented code existed in Lucene, we want to keep it. If not, please point it out so we can decide case-by-case.\r\n5. Rename class 'SOMEClass' to match pascal case naming rules, consider using 'SomeClass'. - We are generally better off using the original class names.\r\n6. Remove the unnecessary Boolean literal(s) - If these exist in Lucene, we should keep them.\r\n\r\nSome things we **can change**, but are not that critical:\r\n\r\n1. redundant jump statements (if they exist in Java) - The ones I noticed were just `return` statements at the end of a method. We can fix these, but we should comment them out in the source code and leave a `// LUCENENET:` comment after them why they were removed. A link to a related Code Analysis rule (preferred) or SonarCloud issue is fine.\r\n2. unused private fields - These are in code that is auto-generated in Java (we don't have auto-generation setup yet in .NET). Again, we can fix them, but should comment out the unused field and leave a `// LUCENENET:` comment after them why they were removed.\r\n\r\nIf you could adjust the scan to exclude the issues we don't want to change and the issues I have already opened so we can see what remains, that would be great.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279730960/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279732044","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1279732044","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1279732044,"node_id":"IC_kwDOAAJ06c5MRylM","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T12:07:31Z","updated_at":"2022-10-15T12:07:31Z","author_association":"CONTRIBUTOR","body":"I'll have a look on excluding the cases above 😄 ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279732044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279736848","html_url":"https://github.com/apache/lucenenet/issues/658#issuecomment-1279736848","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/658","id":1279736848,"node_id":"IC_kwDOAAJ06c5MRzwQ","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T12:34:48Z","updated_at":"2022-10-15T12:34:48Z","author_association":"CONTRIBUTOR","body":"Issues relating to this issue can be seen under: https://sonarcloud.io/project/issues?resolved=false&rules=csharpsquid%3AS4070&id=nikcio_lucenenet","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279736848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279738157","html_url":"https://github.com/apache/lucenenet/issues/659#issuecomment-1279738157","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/659","id":1279738157,"node_id":"IC_kwDOAAJ06c5MR0Et","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T12:42:18Z","updated_at":"2022-10-15T12:42:18Z","author_association":"CONTRIBUTOR","body":"Similar issues can be seen under: https://sonarcloud.io/project/issues?resolved=false&rules=csharpsquid%3AS1118&id=nikcio_lucenenet","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279738157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279738603","html_url":"https://github.com/apache/lucenenet/issues/660#issuecomment-1279738603","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/660","id":1279738603,"node_id":"IC_kwDOAAJ06c5MR0Lr","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T12:44:58Z","updated_at":"2022-10-15T12:44:58Z","author_association":"CONTRIBUTOR","body":"Link to issue isolated from other issues: https://sonarcloud.io/project/issues?issues=AYPAuQAohbfJOGLOobtL&open=AYPAuQAohbfJOGLOobtL&id=nikcio_lucenenet","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279738603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279738868","html_url":"https://github.com/apache/lucenenet/issues/661#issuecomment-1279738868","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/661","id":1279738868,"node_id":"IC_kwDOAAJ06c5MR0P0","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T12:46:36Z","updated_at":"2022-11-05T21:20:15Z","author_association":"CONTRIBUTOR","body":"Similar issues can be seen here: https://sonarcloud.io/project/issues?resolved=false&rules=csharpsquid%3AS2933&id=apache_lucenenet","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279738868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279739970","html_url":"https://github.com/apache/lucenenet/issues/663#issuecomment-1279739970","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/663","id":1279739970,"node_id":"IC_kwDOAAJ06c5MR0hC","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T12:53:02Z","updated_at":"2022-10-15T12:53:02Z","author_association":"CONTRIBUTOR","body":"Similar issues can be found here: https://sonarcloud.io/project/issues?resolved=false&rules=external_roslyn%3ACA1822&severities=INFO&id=nikcio_lucenenet","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279739970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279742187","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1279742187","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1279742187,"node_id":"IC_kwDOAAJ06c5MR1Dr","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T13:06:55Z","updated_at":"2022-10-15T13:06:55Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 I've now excluded the rules causing detection on the things we don't want to change.\r\n\r\nAll the issues you've created I've added linked some more filtered links and I've added a link to the GitHub issues on SonarCloud. I've also marked all issues \"confirmed\" that you have created issues for on GitHub. You can filter the remaining \"open\" issues like this:\r\n**Note: It's not possible to mark issues reported by Roslyn \"confirmed\" so they only have a comment with a link to a given GitHub issue**\r\n\r\n![image](https://user-images.githubusercontent.com/24605285/195987690-7df76f36-af4f-4a37-adb6-fb46c5a4e3f8.png)\r\n\r\n\r\n## How to find filtered links to issues (Non-Roslyn reported)\r\n\r\n![image](https://user-images.githubusercontent.com/24605285/195987802-56fb0d3a-a7d9-4a90-ab54-2f5d970b8434.png)\r\n\r\nPress \"Why is this an issue\" this will show you a description. Then use the title here \"Utility classes should not have public constructors\" (This is the name of the rule).\r\n\r\n<img width=\"344\" alt=\"image\" src=\"https://user-images.githubusercontent.com/24605285/195987852-aa84a63a-3ddd-431a-b476-512815763f1c.png\">\r\n\r\nThe rule can be used to filer by rule in the section shown above.\r\n\r\n## How to find filtered links to issues (Roslyn reported)\r\n\r\nSame as before we need to find the rule name but here the rule name isn't the same as before.\r\n\r\n<img width=\"617\" alt=\"image\" src=\"https://user-images.githubusercontent.com/24605285/195987945-460d9186-2d68-4d4d-90c9-3091f4d2970b.png\">\r\n\r\nTherefore, we need to be on the \"Issues\" tab and press the filter button (The triangle) and then the rule name will be \"Roslyn:CA1822\" in this case. Here we can just click the text and the filter will be set.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279742187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279802334","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1279802334","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1279802334,"node_id":"IC_kwDOAAJ06c5MSDve","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T18:28:46Z","updated_at":"2022-10-15T19:34:44Z","author_association":"CONTRIBUTOR","body":"More issues we **don't want to change**:\r\n\r\n1. Consider reworking this 'switch' to reduce the number of 'case's from xxx to at most 30\r\n2. Merge this if statement with the enclosing one.\r\n3. Take the required action to fix the issue indicated by this 'FIXME' comment. - These were the original TagSoup comments and we can ignore them.\r\n4. Change return type to 'void'; not a single caller uses the returned value.\r\n5. All 'Xxx' method overloads should be adjacent.\r\n6. Loops should be simplified with \"LINQ\" expressions. - This would need to be benchmarked to get the okay. In general, LINQ is slow and almost certainly performs inconsistently across target frameworks.\r\n7. Loop should be simplified by calling Select(r => r.value)). - This would need to be benchmarked to get the okay. In general, LINQ is slow and almost certainly performs inconsistently across target frameworks.\r\n8. Replace this 'for' loop with a 'while' loop.\r\n9. Extract the assignment of 'lastType' from this expression.\r\n10. Use 'string.Contains' instead of 'string.IndexOf' to improve readability\r\n11. Make this an auto-implemented property and remove its backing field.\r\n12. Use the opposite operator ('>') instead.\r\n13. Use the opposite operator ('!=') instead.\r\n14. Extract this nested code block into a separate method.\r\n15. Constructor has x parameters, which is greater than the 7 authorized.\r\n16. Remove this unnecessary null check; 'is' returns false for nulls. - This is a performance enhancement. It is far faster to check for null first before calling `is`.\r\n17. Remove this silly bit operation.\r\n18. Remove this unnecessary cast to 'float'. - Where noted, this is a floating point precision workaround for 32 bit .NET Framework.\r\n\r\n\r\nMore issues we **can change**:\r\n\r\n1. Replace this type-check-and-cast sequence with an 'as' and a null check. - No comment needed. This is more readable and is understood to be a better translation from Java to .NET.\r\n2. Remove the ToString call in order to use a strongly-typed StringBuilder overload - Add a comment to indicate code analysis or other issue description\r\n3. Remove the unused internal class 'FSTEntry'. - This can be removed and replaced with a comment `// LUCENENET specific - removed FSTEntry because it is not in use`.\r\n4. Remove this call from a constructor to the overridable 'xxx' method/property. - This is a difference in initialization order between Java and .NET. In Java it is safe to make a call to a virtual member from a constructor, but in .NET it is not. Same issue in #408. I still haven't found a good solution to this, but it would be nice to have a list of all of the places where it is a problem so we can consider what solution(s) will work.\r\n5. Remove this empty statement. - When these are extra `;` characters, they are most likely just typos. For [labeled continue statements](https://www.programiz.com/java-programming/continue-statement#labeled-continue), we inconsistently use `;` and `{ }`, both which trigger this warning. For those, we should probably use the latter approach and add an inline comment `/* LUCENENET: intentionally blank */` between the curly brackets.\r\n6. Either remove or fill this block of code. - The comment associated with the line can be moved inside of the curly brackets to make it non-empty. If there is no comment, just add `// LUCENNET: intentionally empty`. Exception: empty finally blocks - we can remove the entire try/finally out of the methods in `JavascriptLexer`. Leave a comment  `// LUCENENET specific - removed unnecessary try/finally block` in each method where they are removed.\r\n7. Correct this '&' to '&&'. - Check the Java source on this to see whether this is a translation bug or a bug carried over from Lucene, and report appropriately.\r\n8. Use 'StringBuilder.Append(char)' instead of 'StringBuilder.Append(string)' when the input is a constant unit string - No comment needed. This is more efficient and is understood to be a better translation from Java to .NET.\r\n9. Prefer 'AsSpan' over 'Substring' when span-based overloads are available - We can conditionally reference the package [System.Memory](https://www.nuget.org/packages/System.Memory) in `net462` and `netstandard2.0` to fix this. Other targets don't need to reference the package. No comment needed. This is more efficient and is understood to be a better translation from Java to .NET. Do note the overload of `Substring(int, int)` differs between Java (second parameter is `end`) and .NET (second parameter is `length`). To correct use `length = end - start`. We should have done this already.\r\n10. Fix this implementation of 'IDisposable' to conform to the dispose pattern. - Note this is part of #265. Most of the issues I have spotted were failure to call `base.Dispose(disposing)` after exiting the `if (disposing)` block. Others are because they are on a private class that should be sealed, but it is not (Enumerators).\r\n11. Use nameof in place of string literal 'xxx'\r\n12. Change the visibility of this constructor to 'protected'. - These should all be abstract classes. Add a comment `// LUCENENET specific - changed from public to protected` after each changed line. Exception: some classes are noted that the constructor must be public for Reflection calls to work.\r\n13. Rename 'xxx' which hides the field with the same name. - We can fix this for the static readonly fields. In regular instance methods, we should leave it alone unless it diverges from Lucene.\r\n14. Change the visibility of 'EOS_FLAG_BIT' or make it 'const' or 'readonly'. - Make it const.\r\n15. Replace the control character at position 2 by its escape sequence '\\u3000'. - This should be marked with a `// LUCENENET specific - changed from invisible whitespace character to '\\u3000' for readability`.\r\n16. Add a nested comment explaining why this method is empty, throw a 'NotSupportedException' or complete the implementation. - Looks like the TagSoup members weren't all reviewed to ensure that members were marked `virtual` in .NET if they aren't explicitly marked `final` in Java: https://android.googlesource.com/platform/external/tagsoup/+/donut-release/src/org/ccil/cowan/tagsoup/PYXWriter.java.\r\n17. The parameter name 'WeightedPhraseInfo' is not declared in the argument list. -  [issue link](https://sonarcloud.io/project/issues?resolved=false&types=CODE_SMELL&id=nikcio_lucenenet&open=AYPAuQn4hbfJOGLOocAt). This is a bug - we need to use the correct parameter name.\r\n18. When implementing IComparable<T>, you should also override ==, !=, <, <=, >, and >=. - If the class is public, we should definitely implement these. If not public, it probably doesn't matter.\r\n\r\n<!--\r\nSpecial cases:\r\n\r\n1. Use an immutable collection or reduce the accessibility of the public static field 'xxx'. \r\n  a. Array - we can fix this by calling [`array.AsReadOnly()`](https://github.com/NightOwl888/J2N/blob/ceaa3d17f3866a5ec4865f9be600b76c5303764c/src/J2N/Collections/Generic/Extensions/ListExtensions.cs#L53). In this case, we are diverging from Lucene, so we should add a `// LUCENENET specific - made immutable` comment.\r\n  b. CharArraySet - These are already immutable if calling `CharArraySet.UnmodifiableSet(value)`.\r\n  c. CharArrayMap - These are already immutable if calling `CharArrayMap.UnmodifiableMap(value)`.\r\n-->\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279802334/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279814594","html_url":"https://github.com/apache/lucenenet/issues/672#issuecomment-1279814594","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/672","id":1279814594,"node_id":"IC_kwDOAAJ06c5MSGvC","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T19:21:11Z","updated_at":"2022-10-15T19:21:11Z","author_association":"CONTRIBUTOR","body":"Hmm...the SonarCloud link is not returning any results.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279814594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279815184","html_url":"https://github.com/apache/lucenenet/issues/672#issuecomment-1279815184","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/672","id":1279815184,"node_id":"IC_kwDOAAJ06c5MSG4Q","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T19:23:44Z","updated_at":"2022-10-15T19:23:44Z","author_association":"CONTRIBUTOR","body":"Should be fixed now","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279815184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279817587","html_url":"https://github.com/apache/lucenenet/issues/265#issuecomment-1279817587","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/265","id":1279817587,"node_id":"IC_kwDOAAJ06c5MSHdz","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T19:34:37Z","updated_at":"2022-11-06T15:23:59Z","author_association":"CONTRIBUTOR","body":"Issues found: https://sonarcloud.io/project/issues?resolved=false&rules=csharpsquid%3AS3881&id=apache_lucenenet\r\n\r\nMentioned in #648 :\r\nNote this is part of https://github.com/apache/lucenenet/issues/265. Most of the issues I have spotted were failure to call `base.Dispose(disposing)` after exiting the `if (disposing)` block. Others are because they are on a private class that should be sealed, but it is not (Enumerators).","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279817587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279823136","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1279823136","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1279823136,"node_id":"IC_kwDOAAJ06c5MSI0g","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T20:00:47Z","updated_at":"2022-10-15T20:01:20Z","author_association":"CONTRIBUTOR","body":"I've now excluded the rules causing detection on the new things we don't want to change.\r\n\r\nOnly `Consider using 'string.Contains' instead of 'string.IndexOf'` couldn't be ignored. This is because it's the `ROSLYN` analyzer which picks it up. So if we're going to ignore it we need to make that analyzer ignore it. (In the project - I think)\r\n\r\nThe other **can change** points now have a linked issue with a link to SonarCloud of where to find the issues.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279823136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279835177","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1279835177","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1279835177,"node_id":"IC_kwDOAAJ06c5MSLwp","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T21:27:27Z","updated_at":"2022-10-15T21:27:27Z","author_association":"CONTRIBUTOR","body":"I have added a rule to `.editorconfig` to completely disable [CA2249](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/ca2249). That should disable the rule for the entire solution.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279835177/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279835731","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1279835731","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1279835731,"node_id":"IC_kwDOAAJ06c5MSL5T","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T21:31:50Z","updated_at":"2022-10-15T21:31:50Z","author_association":"CONTRIBUTOR","body":"I've experienced some issues opening the Lucene project after updating VS 2022 to 17.3.6 but it seems from what I can gather that it's a bug in VS 2022 so I've reported it here: https://developercommunity.visualstudio.com/t/VS-2022-1736-Process-is-terminated-due/10173885?entry=problem\r\n\r\nJust if anybody else encounters the same problems 😄 ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279835731/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279934161","html_url":"https://github.com/apache/lucenenet/issues/680#issuecomment-1279934161","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/680","id":1279934161,"node_id":"IC_kwDOAAJ06c5MSj7R","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T09:46:59Z","updated_at":"2022-10-16T09:46:59Z","author_association":"CONTRIBUTOR","body":"There appears to be a bug in the SonarCloud analyzer report. The `'\\u3000'` character is at position 1, not position 2.\r\n\r\n```\r\n?(int)\" 　\\t\\r\\n\"[0]\r\n32\r\n?(int)\" 　\\t\\r\\n\"[1]\r\n12288\r\n?(int)\" 　\\t\\r\\n\"[2]\r\n9\r\n?(int)\" 　\\t\\r\\n\"[3]\r\n13\r\n?(int)\" 　\\t\\r\\n\"[4]\r\n10\r\n?(int)'\\u3000'\r\n12288\r\n```","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279934161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279934981","html_url":"https://github.com/apache/lucenenet/issues/680#issuecomment-1279934981","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/680","id":1279934981,"node_id":"IC_kwDOAAJ06c5MSkIF","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T09:52:02Z","updated_at":"2022-10-16T09:52:02Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 I think that it starts counting at 1 instead of 0 and that's why it says 2.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279934981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279936954","html_url":"https://github.com/apache/lucenenet/issues/665#issuecomment-1279936954","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/665","id":1279936954,"node_id":"IC_kwDOAAJ06c5MSkm6","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T10:05:22Z","updated_at":"2022-10-16T10:05:22Z","author_association":"CONTRIBUTOR","body":"Regex for future reference: \r\n\r\n````\r\nArgumentOutOfRangeException\\((?!nameof\\()\r\n````","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279936954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279942304","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1279942304","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1279942304,"node_id":"IC_kwDOAAJ06c5MSl6g","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T10:39:01Z","updated_at":"2022-10-16T10:39:01Z","author_association":"CONTRIBUTOR","body":"@nikcio - Please leave a comment on any issues you are interested in tackling (or currently working on) so we don't duplicate efforts. We will assign them to you specifically (if I am not mistaken, assigning GitHub issues is only available for Apache Lucene.NET committers).","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279942304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279978668","html_url":"https://github.com/apache/lucenenet/issues/673#issuecomment-1279978668","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/673","id":1279978668,"node_id":"IC_kwDOAAJ06c5MSuys","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T14:14:55Z","updated_at":"2022-10-16T14:14:55Z","author_association":"CONTRIBUTOR","body":"I'll look into this one 😄 ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279978668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279982215","html_url":"https://github.com/apache/lucenenet/issues/673#issuecomment-1279982215","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/673","id":1279982215,"node_id":"IC_kwDOAAJ06c5MSvqH","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T14:35:08Z","updated_at":"2022-10-16T14:35:08Z","author_association":"CONTRIBUTOR","body":"I've tracked down this commit in the Lucene repository: https://github.com/apache/lucene/commit/55594bad9b07af90de4ab2a2fb0bac8e8c2b0b3c#diff-ccf964ce5c3d619df7e73dd7c1467cd88265240d7bdc1c35c27bfc02d669d6c8\r\n\r\nIt seems the file was deleted and I haven't been able to find it in versions 5.0.0 and above. I can see that the single '&' was still in the 4.10.4 version: https://github.com/apache/lucene/blob/69175ad4fe8d224ad6a348d05f686105999a92e8/lucene/analysis/common/src/java/org/apache/lucene/analysis/nl/DutchStemmer.java#L193\r\n\r\nSo it might just be to fix the issue.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279982215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279984769","html_url":"https://github.com/apache/lucenenet/issues/673#issuecomment-1279984769","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/673","id":1279984769,"node_id":"IC_kwDOAAJ06c5MSwSB","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T14:50:28Z","updated_at":"2022-10-16T14:50:28Z","author_association":"CONTRIBUTOR","body":"Well, being that it doesn't make any sense to use a bitwise `&` operator here, it makes sense just to change it.\r\n\r\nLooks like the current version is using the snowball stemmer: https://github.com/apache/lucene/blob/cc342ea7407c729a743123d8f7957aff6c6f9792/lucene/analysis/common/src/java/org/apache/lucene/analysis/nl/DutchAnalyzer.java. Snowball is poached from: https://github.com/weavejester/snowball-stemmer. The Snowball [DutchStemmer](https://github.com/apache/lucenenet/blob/089a439d82e95708d55f39a64206cccba39cf5da/src/Lucene.Net.Analysis.Common/Tartarus/Snowball/Ext/DutchStemmer.cs) exists in 4.8.0, but apparently, they hadn't gotten around to upgrading it yet.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279984769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279985654","html_url":"https://github.com/apache/lucenenet/issues/663#issuecomment-1279985654","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/663","id":1279985654,"node_id":"IC_kwDOAAJ06c5MSwf2","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T14:55:12Z","updated_at":"2022-10-16T14:55:12Z","author_association":"CONTRIBUTOR","body":"I'll look into this one","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1279985654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280036869","html_url":"https://github.com/apache/lucenenet/pull/690#issuecomment-1280036869","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/690","id":1280036869,"node_id":"IC_kwDOAAJ06c5MS9AF","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T19:26:51Z","updated_at":"2022-10-16T19:26:51Z","author_association":"CONTRIBUTOR","body":"> I've also added virtual to methods that I found had the final keyword in the Java source code.\r\n\r\nvirtual is the opposite of final.\r\n\r\n## Java\r\n\r\n- `public`/`protected` methods implicitly default to `virtual` (there is no `virtual` keyword in Java, but they are overridable)\r\n- To make `public`/`protected` methods non-overridable, explicitly mark them `final`\r\n- When a subclass overrides a method, it can be explicitly marked `final` to make it non-overridable\r\n\r\n## C#\r\n\r\n- `public`/`protected` methods (and properties) implicitly default to `sealed`\r\n- To make `public`/`protected` methods overridable, explicitly mark them `virtual`\r\n- When a subclass overrides a method, it can be explicitly marked `sealed` to make it non-overridable","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280036869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280039072","html_url":"https://github.com/apache/lucenenet/pull/690#issuecomment-1280039072","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/690","id":1280039072,"node_id":"IC_kwDOAAJ06c5MS9ig","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T19:35:39Z","updated_at":"2022-10-16T19:35:39Z","author_association":"CONTRIBUTOR","body":"Oh then I misunderstood your description in #663. I'll look at correcting the mistakes later this week😅","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280039072/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280360262","html_url":"https://github.com/apache/lucenenet/pull/690#issuecomment-1280360262","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/690","id":1280360262,"node_id":"IC_kwDOAAJ06c5MUL9G","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T06:35:09Z","updated_at":"2022-10-17T06:35:09Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 Review changes have now been made.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280360262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280660913","html_url":"https://github.com/apache/lucenenet/pull/690#issuecomment-1280660913","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/690","id":1280660913,"node_id":"IC_kwDOAAJ06c5MVVWx","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T10:45:49Z","updated_at":"2022-10-17T10:45:49Z","author_association":"CONTRIBUTOR","body":"The `Abort` methods have now been replaced with a comment.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280660913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280675940","html_url":"https://github.com/apache/lucenenet/pull/690#issuecomment-1280675940","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/690","id":1280675940,"node_id":"IC_kwDOAAJ06c5MVZBk","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T10:57:50Z","updated_at":"2022-10-17T10:57:50Z","author_association":"CONTRIBUTOR","body":"Actually, have you kept track of the methods we decided not to mark static that are triggering this warning? If so, we should suppress those via attribute.\r\n\r\n```c#\r\n[SuppressMessage(\"Performance\", \"CA1822:Mark members as static\", Justification = \"By design\")]\r\n```\r\n\r\nIf you haven't kept track:\r\n\r\n1. We can merge this to master and then scan, and then submit a new PR with these attributes.\r\n2. Scan this branch to find the CA1822 warnings and fix them before the merge.\r\n3. Use Visual Studio to scan the entire solution for CA1822, and submit another commit to this PR with these attributes.\r\n4. Use the conversations above to try to work it out, but I think we may miss some that way. Most likely we would need another PR to add attributes where they are missing.\r\n\r\nAny option is fine.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280675940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280693267","html_url":"https://github.com/apache/lucenenet/pull/690#issuecomment-1280693267","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/690","id":1280693267,"node_id":"IC_kwDOAAJ06c5MVdQT","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T11:12:41Z","updated_at":"2022-10-17T11:12:41Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 There's two that I couldn't change due to them causing errors these are:\r\n\r\nhttps://sonarcloud.io/project/issues?issues=AYPAuN5xhbfJOGLOoaDV&open=AYPAuN5xhbfJOGLOoaDV&id=nikcio_lucenenet\r\n\r\nhttps://sonarcloud.io/project/issues?issues=AYPAuOHjhbfJOGLOoaMN&open=AYPAuOHjhbfJOGLOoaMN&id=nikcio_lucenenet\r\n\r\nI've marked them in SonarCloud.\r\n\r\nBut regarding the rest of the changes in the review phase here I haven't had the time to mark them in SonarCloud yet. Therefore, I think the best approach would be to merge these changes as is and create a new PR with the attributes on the warnings we can rule out like the two links above and the ones that have been caught in the review process here.\r\n\r\nI think that doing a branch sweep for the warning is a little to early just yet because the new static methods might have opened up for more methods being available to be made static. Therefore, we cannot be sure that the next scan is only the cases we have found to be unable to be marked static.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280693267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280696496","html_url":"https://github.com/apache/lucenenet/pull/690#issuecomment-1280696496","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/690","id":1280696496,"node_id":"IC_kwDOAAJ06c5MVeCw","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T11:15:20Z","updated_at":"2022-10-17T11:15:20Z","author_association":"CONTRIBUTOR","body":"We should be able to find all the cases where we have decided that we cannot mark methods static in this commit: https://github.com/apache/lucenenet/pull/690/commits/bbf4289e7a689fddec14a7575702f2335e6d94a7","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280696496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280720674","html_url":"https://github.com/apache/lucenenet/pull/690#issuecomment-1280720674","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/690","id":1280720674,"node_id":"IC_kwDOAAJ06c5MVj8i","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T11:36:42Z","updated_at":"2022-10-17T11:36:42Z","author_association":"CONTRIBUTOR","body":"> We should be able to find all the cases where we have decided that we cannot mark methods static in this commit: [bbf4289](https://github.com/apache/lucenenet/commit/bbf4289e7a689fddec14a7575702f2335e6d94a7)\r\n\r\nYea, that looks like it could work for what we have in this PR. You can go ahead and move the attribute up to the class level for the one test class instead of putting it on every test method (although, not sure why we are getting a test class, since the CA1822 warning suppression is explicitly configured in all of the test projects).\r\n\r\nBut, you are right about the cascade effect of warnings that happen due to fixing these. We had already fixed these once, and are finding them again. So it may take a few iterations to catch them all.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280720674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280848921","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1280848921","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1280848921,"node_id":"IC_kwDOAAJ06c5MWDQZ","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T13:19:29Z","updated_at":"2022-10-17T13:19:29Z","author_association":"CONTRIBUTOR","body":"> I've experienced some issues opening the Lucene project after updating VS 2022 to 17.3.6 but it seems from what I can gather that it's a bug in VS 2022 so I've reported it here: https://developercommunity.visualstudio.com/t/VS-2022-1736-Process-is-terminated-due/10173885?entry=problem\r\n> \r\n> Just if anybody else encounters the same problems 😄\r\n\r\nThank you! That was on my list to do this morning and to let you know that even though I had been using VS2022 for many months with LuceneNET without issue, when I opened the solution in VS2022 after your message a few days ago I realized it was blowing up with a `StackOverflowException`.  I spent two days digging into that and I too believe it's a new VS2022 issue that didn't previously exist.  I verified this by pulling down the Beta16 tag and trying to compile that and it now throws the `StackOverflowException` but I had previously used older versions of VS2022 to compile that version of the code base with no issue.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1280848921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282104390","html_url":"https://github.com/apache/lucenenet/pull/693#issuecomment-1282104390","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/693","id":1282104390,"node_id":"IC_kwDOAAJ06c5Ma1xG","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T09:31:23Z","updated_at":"2022-10-18T13:04:52Z","author_association":"CONTRIBUTOR","body":"> I also had another look at [This issue](https://sonarcloud.io/project/issues?issues=AYPAuN5xhbfJOGLOoaDV&open=AYPAuN5xhbfJOGLOoaDV&id=nikcio_lucenenet) and found that the reason this caused problems is because I forgot to change the `this.` to `BasicModelBE.` in the `Score` method. But I don't know if this is moving too far away from the original code?\r\n> \r\n> The change would be:\r\n> \r\n> ```cs\r\n> public override sealed float Score(BasicStats stats, float tfn)\r\n> {\r\n>     double F = stats.TotalTermFreq + 1 + tfn;\r\n>     // approximation only holds true when F << N, so we use N += F\r\n>     double N = F + stats.NumberOfDocuments;\r\n>     return (float)(-SimilarityBase.Log2((N - 1) * Math.E) + BasicModelBE.F(N + F - 1, N + F - tfn - 2) - BasicModelBE.F(F, F - tfn));\r\n> }\r\n> /// <summary>\r\n> /// The <em>f</em> helper function defined for <em>B<sub>E</sub></em>. </summary>\r\n> private static double F(double n, double m) // LUCENENET: CA1822: Mark members as static\r\n> {\r\n>     return (m + 0.5) * SimilarityBase.Log2(n / m) + (n - m) * SimilarityBase.Log2(n);\r\n> }\r\n> ```\r\n\r\n```java\r\n \r\n  /** The <em>f</em> helper function defined for <em>B<sub>E</sub></em>. */\r\n  private final double f(double n, double m) {\r\n    return (m + 0.5) * log2(n / m) + (n - m) * log2(n);\r\n  }\r\n```\r\n\r\nIn the original code the function `f` was lowercase. I first thought that forced them to use uppercase `F` as a varible name. But, judging by the documentation and comments, the capital F variable name seems to be a math thing, and therefore intentional.\r\n\r\nLet's revert `F(double n, double m)` to an instance method and add the `SuppressMessage` attribute to the `F(double n, double m)` method.\r\n\r\nWe should also add the `[MethodImpl(MethodImplOptions.AggressiveInlining)]` attribute to the `F(double n, double m)` method to prompt the compiler to inline this math in the `Score` function, which will give a similar benefit to making the method static.\r\n\r\nI have also opened #694 which is related, but should be done in a separate PR since it goes beyond this one class.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282104390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282267048","html_url":"https://github.com/apache/lucenenet/pull/692#issuecomment-1282267048","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/692","id":1282267048,"node_id":"IC_kwDOAAJ06c5Mbdeo","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T11:55:20Z","updated_at":"2022-10-18T11:55:20Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 This commit here: https://github.com/apache/lucenenet/pull/692/files#diff-a727b72cc4655ca530a6ab7dd2aaa8f703f39ffdc53f85c538173b4cc4a9a865 might have introduced a bug. See https://sonarcloud.io/project/issues?issues=AYPpssFvK-IeCHIEsG55&open=AYPpssFvK-IeCHIEsG55&id=nikcio_lucenenet","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282267048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282347725","html_url":"https://github.com/apache/lucenenet/pull/692#issuecomment-1282347725","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/692","id":1282347725,"node_id":"IC_kwDOAAJ06c5MbxLN","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T12:59:00Z","updated_at":"2022-10-18T12:59:00Z","author_association":"CONTRIBUTOR","body":"Hmm...that is interesting. This goes against the advice to fixing [CA1810](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/ca1810), which was also recommended to us directly by Microsoft engineers: https://github.com/apache/lucenenet/pull/224#issuecomment-469284006.\r\n\r\nI was testing out using `ref` arguments to attempt to initialize multiple static variables, since some of them are hard to convert from using static constructors to inline initialization, such as: https://github.com/apache/lucenenet/blob/fef018190729c27faa2e77a15b24c4c1b451e803/src/Lucene.Net.Analysis.Common/Analysis/Gl/GalicianStemmer.cs#L32-L44\r\n\r\n`ref` arguments are one way to go about fixing that one. Another might be to create a custom holder class to put all of the state into that returned from a method and is set as a static variable containing these values. But that would break up the rest of the flow of the code quite a bit.\r\n\r\n```c#\r\nprivate static readonly StepState state = LoadStepState();\r\n\r\nprivate static StepState LoadStepState()\r\n{\r\n    var result = new StepState();\r\n    IDictionary<string, Step> steps = Parse(typeof(GalicianStemmer), \"galician.rslp\");\r\n    result.plural = steps[\"Plural\"];\r\n    result.unification = steps[\"Unification\"];\r\n    result.adverb = steps[\"Adverb\"];\r\n    result.augmentative = steps[\"Augmentative\"];\r\n    result.noun = steps[\"Noun\"];\r\n    result.verb = steps[\"Verb\"];\r\n    result.vowel = steps[\"Vowel\"];\r\n    return result;\r\n}\r\n```\r\n\r\nUse the regex `static [A-Z][A-Za-z0-9_]*?\\(\\)` to find all of the static constructors that remain. There are some that can't be fixed, such as those using encoding providers, but it would be great to try to address some of these, especially for the shared stuff like `SloppyMath` and `PForDeltaDocIdSet`.\r\n\r\nThere is nothing technically wrong with the `LoadStateTableIndex` method, but the scan is not recognizing that the static field is being initialized using a `ref` parameter.\r\n\r\nGiving it a second look, I can see that the `statetableIndexMaxChar` variable is not accessed after line 324, but the `maxState` and `maxChar` are. So, the alternative to going back to a static constructor would be to break that logic into its own method which would iterate over the array twice during initialization, once to populate `statetableIndex` and once to populate `statetableIndexMaxChar`. Both of these alternatives are marginally less performant than this one.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282347725/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282864934","html_url":"https://github.com/apache/lucenenet/issues/699#issuecomment-1282864934","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/699","id":1282864934,"node_id":"IC_kwDOAAJ06c5Mdvcm","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T18:53:36Z","updated_at":"2022-10-18T18:53:36Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 After the removal of the old .Net version in #650 It seems a bit weird that there are 3 different targeting versions of the `Microsoft.Extensions.Configuration` package:\r\nhttps://github.com/apache/lucenenet/blob/fef018190729c27faa2e77a15b24c4c1b451e803/.build/dependencies.props#L51-L58\r\n\r\nMaybe this should just be updated to `6.0.0`? As far as the supported frameworks all the current frameworks seem to be supported: https://www.nuget.org/packages/Microsoft.Extensions.Configuration/6.0.0#supportedframeworks-body-tab\r\n\r\nAnd also in other packages like `Microsoft.Extensions.Configuration.Json`: https://www.nuget.org/packages/Microsoft.Extensions.Configuration.Json/6.0.0#supportedframeworks-body-tab","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282864934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282896648","html_url":"https://github.com/apache/lucenenet/issues/699#issuecomment-1282896648","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/699","id":1282896648,"node_id":"IC_kwDOAAJ06c5Md3MI","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T19:24:25Z","updated_at":"2022-10-18T19:24:25Z","author_association":"CONTRIBUTOR","body":"For class libraries, the lower the version of the dependency we support, the lower the chance that users will run into conflicts. Keep in mind, unless it is specified otherwise it is the *minimum version* we target that users can upgrade. We targeted 1.1.2 for `net45` because it was the highest version that is compatible with `net45`. But most consumers were on a higher version of .NET Framework, so they could upgrade beyond that. Now that we have bumped the minimum version to `net462` we have more options.\r\n\r\nLooking at the options, 3.1.0 is the lowest version that is both supported and targets `System.Text.Json`, so that would give the widest support for consumers while getting us out of a conflict scenario with `Lucene.Net.Replicator`.\r\n\r\n6.0.0 is under consideration. But when we first added the dependency on `Microsoft.Extensions.Configuration.Abstractions`, we targeted the latest at the time (5.x) and had complaints from users that couldn't upgrade to that version due to conflicts with other libraries.\r\n\r\nWe don't depend directly on `Microsoft.Extensions.Configuration.Json` in Lucene.Net, it is just something the test framework uses to be configurable via JSON files (we use it as a replacement for Java system properties). By injecting configuration, it can be used to do things like turn on assertions in all of Lucene.NET, control options in the test framework or directory locations to search for analyzer dictionaries. Ideally, the test framework should be on 6.0.0 but we should target a lower version of `Microsoft.Extensions.Configuration.Abstractions` in `Lucene.Net` to avoid conflicts for the majority of users. If we target too high of a version, the result will be some people will target an older version of Lucene.NET.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1282896648/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1284629090","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1284629090","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1284629090,"node_id":"IC_kwDOAAJ06c5MkeJi","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T22:16:03Z","updated_at":"2022-10-19T22:16:03Z","author_association":"CONTRIBUTOR","body":"@nikcio  - Could we run the SonarCloud scan again? Several of the issues that were already addressed are still there.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1284629090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285107004","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1285107004","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1285107004,"node_id":"IC_kwDOAAJ06c5MmS08","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T08:02:07Z","updated_at":"2022-10-20T08:03:37Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 I've started a new scan now it takes about ~30 min to run. But I think if you see the value of SonarCloud it should maybe be setup on the main lucene.NET repository instead of only my fork? I can draft a PR which adds it but it of course requires that you have enough permission to set it up in SonarCloud. It would also help future development by annotating PR's and warning about possible problems with PR's.\r\n\r\n(SonarCloud is free for open source projects)","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285107004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285157085","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1285157085","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1285157085,"node_id":"IC_kwDOAAJ06c5MmfDd","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T08:44:07Z","updated_at":"2022-10-20T08:44:07Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 A how to guide has been created at: #709 😄 ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285157085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285164254","html_url":"https://github.com/apache/lucenenet/pull/709#issuecomment-1285164254","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/709","id":1285164254,"node_id":"IC_kwDOAAJ06c5Mmgze","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T08:49:25Z","updated_at":"2022-10-20T08:49:25Z","author_association":"CONTRIBUTOR","body":"So, not sure this is going to work as-is. Apache controls what we can set up, and their permissions are sometimes restrictive. But it looks like they have an organization-wide scan set up: https://sonarcloud.io/organizations/apache/projects. Generally, for stuff like this there is a document somewhere that has to be located, and failing that, we can [contact INFRA](https://infra.apache.org/infra-contact) to have them help us.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285164254/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285194318","html_url":"https://github.com/apache/lucenenet/pull/693#issuecomment-1285194318","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/693","id":1285194318,"node_id":"IC_kwDOAAJ06c5MmoJO","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T09:08:03Z","updated_at":"2022-10-20T09:08:03Z","author_association":"CONTRIBUTOR","body":"The PR has now been updated after the comment above","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285194318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285279996","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1285279996","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1285279996,"node_id":"IC_kwDOAAJ06c5Mm9D8","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T10:11:22Z","updated_at":"2022-10-20T10:11:22Z","author_association":"CONTRIBUTOR","body":"@nikcio \r\n\r\nHere is a puzzle to work out. The scan is telling us [to use an immutable collection](https://sonarcloud.io/project/issues?issues=AYPAuPMthbfJOGLOoa9e&open=AYPAuPMthbfJOGLOoa9e&id=nikcio_lucenenet). The problem is, this is an immutable collection, just not one from `System.Collection.Immutable`. Those collections have very different behaviors than what is expected in Lucene, so we also made additional read-only collections in J2N to behave like the ones in Java. Here are a list of all of our immutable collections.\r\n\r\n1. `CharArraySet` (after calling `CharArraySet.UnmodifiableSet()`). This just makes a regular `CharArraySet` instance that is backed by a `CharArrayMap.UnmodifiableCharArrayMap<TValue>`.\r\n2. `CharArrayMap.UnmodifiableCharArrayMap<TValue>`\r\n3. `J2N.Collections.ObjectModel.ReadOnlyCollection<T>`\r\n4. `J2N.Collections.ObjectModel.ReadOnlyDictionary<TKey, TValue>`\r\n5. `J2N.Collections.ObjectModel.ReadOnlyList<T>`\r\n6. `J2N.Collections.ObjectModel.ReadOnlySet<T>`\r\n\r\nSo we need to adjust the scan to ignore these, while picking up any others that we might have missed.\r\n\r\nSince there are only a few dozen, we could suppress them with an attribute, but since this isn't a Roslyn error, I am not sure how to suppress it conditionally.\r\n\r\nThoughts?\r\n\r\nOne other issue is the fact that J2N [currently doesn't support `ImmutableArray<T>`](https://github.com/NightOwl888/J2N/issues/42) for structural equality comparisons (we assumed that Microsoft would never create a struct collection, and then they made this one), so ideally we wouldn't return it from any of our public APIs just yet. We want to fix this eventually, but mark these issues with a `LUCENENET TODO: Change to ImmutableArray<T> when structural equality support for it is added in J2N` and suppress it from the scan.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285279996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285311672","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1285311672","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1285311672,"node_id":"IC_kwDOAAJ06c5MnEy4","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T10:38:32Z","updated_at":"2022-10-20T10:39:46Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 \r\n\r\nI've looked a bit around and unfortunately it seems that you cannot customize the rules in SonarCloud. If you need to have this ability you need to host SonarQube yourself then it can be done. But I did find that it's possible to extend a rule description. So We could add the classes listed above to that description. I'm unsure if this affects everyone using the rule or is specific to a Quality profile. Therefore I think we should mark the current false positives as \"Resolved as Won't fix\" with a link to the description above. Although if you'd like to add SonarCloud to the main repository I would wait until then so we don't have to do it twice.\r\n\r\nThere's also the possibility that Sonar themselves could fix the issue with the rule but I'm not sure how to make that request.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285311672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285319047","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1285319047","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1285319047,"node_id":"IC_kwDOAAJ06c5MnGmH","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T10:46:08Z","updated_at":"2022-10-20T10:46:08Z","author_association":"CONTRIBUTOR","body":"As for the other issue I would properly also mark issues related to that with a \"Resolved won't fix\" because as long as you keep track of the issues with the TODO marker they won't be lost. If there's a specific rule in SonarCloud that triggers the issue it could be even easier because we can just deactivate the rule and reactivate it when it's time to make the change then there's no manual labor. ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285319047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285332219","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1285332219","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1285332219,"node_id":"IC_kwDOAAJ06c5MnJz7","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T10:59:34Z","updated_at":"2022-10-20T10:59:34Z","author_association":"CONTRIBUTOR","body":"_Random thought_\r\n\r\nMaybe by using SonarCloud on the J2N library it could tell us more about why it marks the collections as mutable. It's very possible that it's just a specific pattern and/or hardcoded list that Sonar uses in this rule and therefore marks them wrong so it's a long shot.\r\n\r\nAs long as there's some source code or test code set up in a similar faction as where it registers the issue in the Lucenenet project we could see if the issue is also registered there.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285332219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285347387","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1285347387","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1285347387,"node_id":"IC_kwDOAAJ06c5MnNg7","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T11:14:14Z","updated_at":"2022-10-20T11:14:14Z","author_association":"CONTRIBUTOR","body":"I guess it depends. What happens if you create a sample app that has an API that returns an instance (declared in a static readonly variable) of a readonly collection from `System.Collections.ObjectModel` and scan it? If it doesn't even consider those to be \"immutable\", I doubt there is much chance we can make it identify the J2N collections. But I agree that getting it to recognize those collections as being immutable for the general public would be ideal, since J2N is a general library that others might use outside of Lucene.NET.\r\n\r\nThat being said, the code analyzer infrastructure is flexible in that it allows you to define your own IDs to suppress with the same old `[SuppressMessage]` attribute, so if we can work out what the ID is for that issue, we can deal with this conditionally (assuming it is built on top of the .NET code analysis infrastructure).","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285347387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285360233","html_url":"https://github.com/apache/lucenenet/pull/709#issuecomment-1285360233","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/709","id":1285360233,"node_id":"IC_kwDOAAJ06c5MnQpp","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T11:25:56Z","updated_at":"2022-10-20T11:25:56Z","author_association":"CONTRIBUTOR","body":"Okay, I couldn't find an official document on how to set this up, but there is another Apache project that documented the process [here](https://servicecomb.apache.org/developers/sonarcloud-how-to/). I have already opened an [INFRA ticket](https://issues.apache.org/jira/projects/INFRA/issues/INFRA-23795) to set it up for us.\r\n\r\nOf course, since we don't use Travis CI, we have to find our own way after that. We use GitHub Actions for PRs, so I guess that is what we need to set up when that is complete.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285360233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285367413","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1285367413","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1285367413,"node_id":"IC_kwDOAAJ06c5MnSZ1","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T11:29:25Z","updated_at":"2022-10-20T11:29:44Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 \r\n\r\nI looked in the logs from the GitHub actions workflow and found the ID here (It's the `Sxxxx` identifier in the message):\r\n\r\n```\r\n2022-10-20T08:04:15.4461319Z ##[warning]/github/workspace/src/Lucene.Net.Analysis.Common/Analysis/Core/StopAnalyzer.cs(44,32): warning S3887: Use an immutable collection or reduce the accessibility of the non-private readonly field 'ENGLISH_STOP_WORDS_SET'. [/github/workspace/src/Lucene.Net.Analysis.Common/Lucene.Net.Analysis.Common.csproj]\r\n2022-10-20T08:04:15.4593352Z ##[warning]/github/workspace/src/Lucene.Net.Analysis.Common/Analysis/Core/StopAnalyzer.cs(44,32): warning S2386: Use an immutable collection or reduce the accessibility of the public static field 'ENGLISH_STOP_WORDS_SET'. [/github/workspace/src/Lucene.Net.Analysis.Common/Lucene.Net.Analysis.Common.csproj]\r\n```\r\n\r\nAnd also found this: https://stackoverflow.com/questions/63191169/is-there-a-possibility-to-suppress-warnings-of-sonarcloud-in-source-code\r\n\r\nSome issues can also be found directly in Visual Studio with [SonarLint](https://www.sonarsource.com/products/sonarlint) but as my VS 2022 installation is unusable at the moment I didn't try that 😄 \r\n\r\nBut when VS doesn't crash SonarLint will show most of the current Sonar warning in the Errors tab for the files you have open. It's a little unclear what issues it doesn't show but I think the ones that won't should would take to much compute so they left them out to ensure a smooth experience.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285367413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285431721","html_url":"https://github.com/apache/lucenenet/pull/709#issuecomment-1285431721","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/709","id":1285431721,"node_id":"IC_kwDOAAJ06c5MniGp","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T12:12:15Z","updated_at":"2022-10-20T12:14:10Z","author_association":"CONTRIBUTOR","body":"When this ran, it produced the following error:\r\n\r\n```console\r\n\r\nError: .github#L1\r\nhighbyte/sonarscan-dotnet@v2.1.3 is not allowed to be used in apache/lucenenet. Actions in this workflow must be: within a repository owned by apache, created by GitHub, verified in the GitHub Marketplace, or matching the following: */*@[a-f0-9][a-f0-9][a-f0-9][a-f0-9][a-f0-9][a-f0-9][a-f0-9]+, AdoptOpenJDK/install-jdk@*, JamesIves/github-pages-deploy-action@5dc1d5a192aeb5ab5b7d5a77b7d36aea4a7f5c92, TobKed/label-when-approved-action@*, actions-cool/issues-helper@*, actions-rs/*, al-cheb/configure-pagefile-action@*, amannn/action-semantic-pull-request@*, apache/*, burrunan/gradle-cache-action@*, bytedeco/javacpp-presets/.github/actions/*, chromaui/action@*, codecov/codecov-action@*, conda-incubator/setup-miniconda@*, container-tools/kind-action@*, container-tools/microshift-action@*, dawidd6/action-download-artifact@*, delaguardo/setup-graalvm@*, docker://jekyll/jekyll:*, docker://pandoc/core:2.9, eps1lon/actions-label-merge-conflict@*, gaurav-nelson/github-action-markdown-link-check...\r\n```\r\n\r\nWe need approval for this particular plugin. So, if there is one that is already approved that can work for us, it can save us some steps.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285431721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285468067","html_url":"https://github.com/apache/lucenenet/pull/709#issuecomment-1285468067","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/709","id":1285468067,"node_id":"IC_kwDOAAJ06c5Mnq-j","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T12:34:24Z","updated_at":"2022-10-20T12:34:24Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 \r\n\r\nIt's totally possible to do without the plugin. SonarClouds own example uses a workflow like this one:\r\n\r\n```yml\r\nname: Build\r\non:\r\n  push:\r\n    branches:\r\n      - sonarcloud\r\n  pull_request:\r\n    types: [opened, synchronize, reopened]\r\njobs:\r\n  build:\r\n    name: Build\r\n    runs-on: windows-latest\r\n    steps:\r\n      - name: Set up JDK 11\r\n        uses: actions/setup-java@v1\r\n        with:\r\n          java-version: 1.11\r\n      - uses: actions/checkout@v2\r\n        with:\r\n          fetch-depth: 0  # Shallow clones should be disabled for a better relevancy of analysis\r\n      - name: Cache SonarCloud packages\r\n        uses: actions/cache@v1\r\n        with:\r\n          path: ~\\sonar\\cache\r\n          key: ${{ runner.os }}-sonar\r\n          restore-keys: ${{ runner.os }}-sonar\r\n      - name: Cache SonarCloud scanner\r\n        id: cache-sonar-scanner\r\n        uses: actions/cache@v1\r\n        with:\r\n          path: .\\.sonar\\scanner\r\n          key: ${{ runner.os }}-sonar-scanner\r\n          restore-keys: ${{ runner.os }}-sonar-scanner\r\n      - name: Install SonarCloud scanner\r\n        if: steps.cache-sonar-scanner.outputs.cache-hit != 'true'\r\n        shell: powershell\r\n        run: |\r\n          New-Item -Path .\\.sonar\\scanner -ItemType Directory\r\n          dotnet tool update dotnet-sonarscanner --tool-path .\\.sonar\\scanner\r\n      - name: Build and analyze\r\n        env:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}  # Needed to get PR information, if any\r\n          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}\r\n        shell: powershell\r\n        run: |\r\n          .\\.sonar\\scanner\\dotnet-sonarscanner begin /k:\"nikcio_lucenenet\" /o:\"nikcio\" /d:sonar.login=\"${{ secrets.SONAR_TOKEN }}\" /d:sonar.host.url=\"https://sonarcloud.io\"\r\n          <insert_your_build_command>\r\n          .\\.sonar\\scanner\\dotnet-sonarscanner end /d:sonar.login=\"${{ secrets.SONAR_TOKEN }}\"\r\n```\r\n\r\nThe reason I use the action instead is because I wanted to use an `Ubuntu` runner because in my experience they are faster. And when I tried doing it with a template like this one I had some errors and then it was just easier using this action plugin. But using something like this example might also make the runner more stable which might make us able to run coverage tests with something like `coverlet.collector`.\r\n\r\nI also found a repository of the same'ish size from Apache using SonarCloud in the link you found and here it runs un `Ubuntu` so it's possible: https://github.com/apache/cloudstack/blob/main/.github/workflows/coverage-check.yml","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285468067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285642520","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1285642520","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1285642520,"node_id":"IC_kwDOAAJ06c5MoVkY","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T14:26:16Z","updated_at":"2022-10-20T14:26:16Z","author_association":"CONTRIBUTOR","body":"Just FYI, these warning numbers are also used in the URL, so can easily be used to filter the list and/or get the ID.\r\n\r\nhttps://sonarcloud.io/project/issues?resolved=false&rules=csharpsquid%3AS3887&id=nikcio_lucenenet\r\n\r\nJust ignore the `charpsquid%3A` and grab/edit everything after that.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1285642520/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1287691083","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1287691083","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1287691083,"node_id":"IC_kwDOAAJ06c5MwJtL","user":{"login":"jeme","id":1609615,"node_id":"MDQ6VXNlcjE2MDk2MTU=","avatar_url":"https://avatars.githubusercontent.com/u/1609615?v=4","gravatar_id":"","url":"https://api.github.com/users/jeme","html_url":"https://github.com/jeme","followers_url":"https://api.github.com/users/jeme/followers","following_url":"https://api.github.com/users/jeme/following{/other_user}","gists_url":"https://api.github.com/users/jeme/gists{/gist_id}","starred_url":"https://api.github.com/users/jeme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeme/subscriptions","organizations_url":"https://api.github.com/users/jeme/orgs","repos_url":"https://api.github.com/users/jeme/repos","events_url":"https://api.github.com/users/jeme/events{/privacy}","received_events_url":"https://api.github.com/users/jeme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T09:14:56Z","updated_at":"2022-10-22T09:14:56Z","author_association":"CONTRIBUTOR","body":"To be fair, the design behind how `CharArraySet` becomes readonly is not all that obvious as far as I can tell (The class it self is not immutable, its how it's initialized that makes it so), so it's very understandable that it's flagged in this scenario IMO and it should just be marked as \"resolved: won't fix\" in SonarQube with a comment why. AFAIK Sonar SHOULD remember this for subsequent scans unless the code changes (not sure how significant a change is required before sonar will re-raise the issue)\r\n\r\nIf there is any rules that the project does not wish to use or if we wish to flag rules differently, a custom profile can be created and the project can be changed to that, to exclude rules from a profile you need to copy their profile and then modify it from there, unfortunately inheriting one will not allow one to exclude rules only include additional ones, (I did not keep up with the entire thread here so don't know if you have already been working on that) - (Rules from Roslyn have to be ignored there instead)\r\n\r\nI can see that allot of Apache projects already use SonarCloud, if the LuceneNET project wishes to use it as well maybe it's worth figuring out who and how to get it registeret there so a workflow can be added in the main project instead. However being a Java port, I think it should be considered very carefully, as mentioned again an again, certain decisions is made to stick close to Java which is likely to lead to more flags by tools such as Sonar.\r\n\r\nIt is also possible to make sonar only report from a Delta, either by days, version, data etc. This can be really useful as you otherwise has this huge burden of thousands of red flags in old code which would take days to fix, instead with this feature it's possible to focus on only fixing these issues in new code or as old code changes.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1287691083/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1287759646","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1287759646","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1287759646,"node_id":"IC_kwDOAAJ06c5Mwace","user":{"login":"eladmarg","id":3823205,"node_id":"MDQ6VXNlcjM4MjMyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/3823205?v=4","gravatar_id":"","url":"https://api.github.com/users/eladmarg","html_url":"https://github.com/eladmarg","followers_url":"https://api.github.com/users/eladmarg/followers","following_url":"https://api.github.com/users/eladmarg/following{/other_user}","gists_url":"https://api.github.com/users/eladmarg/gists{/gist_id}","starred_url":"https://api.github.com/users/eladmarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eladmarg/subscriptions","organizations_url":"https://api.github.com/users/eladmarg/orgs","repos_url":"https://api.github.com/users/eladmarg/repos","events_url":"https://api.github.com/users/eladmarg/events{/privacy}","received_events_url":"https://api.github.com/users/eladmarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T10:52:18Z","updated_at":"2022-10-22T10:52:18Z","author_association":"CONTRIBUTOR","body":"Guys you're doing a great job but I think we better put our efforts in a new version and align with the latest Java Lucene.\n\nLucene is an awesome library, one of the best, however if today I would design it completely different with modern architecture, less allocations and much better performance in mind. \n\nWe choose this path with the known issues because we wanted to stay as close as possible to the Java implementation. Without this constraints like I said, I would completely refactor many parts. \n\nI tried to write a tool that compares Java 4.8 to the latest, mark the .net files to be changed and what's the difference. \n\nI can estimate that in 2-3 months of hard work I can get to compiling latest aligned version. (Of course this is only the first part then fix the failing tests)\n\nIf someone know a big company that will benefit from it and might have the funds, I'm willing to take this small project ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1287759646/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1287769687","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1287769687","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1287769687,"node_id":"IC_kwDOAAJ06c5Mwc5X","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T11:46:13Z","updated_at":"2022-10-22T11:46:13Z","author_association":"CONTRIBUTOR","body":"@eladmarg I believe this conversation is very similar to what's written here: https://github.com/apache/lucenenet/issues/437#issuecomment-1074738131\n\nI found this issue when first looking into the  project and I've come to agree that a great first step would be to make the 4.8.0 version stable (out of beta) before taking on too much of the new additions that have happened in the Lucene project and I think many of the issues we're solving currently are moving us closer to that target. I also would love to have Lucenenet be feature equivalent to the Lucene project but having a solid foundation will make the process more smooth.\n\nAlso when I first came to the project a couple of weeks ago I didn't know very much about how the project functions and still don't now 99% of the project so I found it very difficult starting to look into the issues already opened. Therefore, I find the newly opened issues great because they give me a chance to help out and slowly get more familiar with the project.\n\nAnd about the funding element as I read in the different conversations in the issues it's a common problem that this project doesn't get the love it deserves. And therefore moves more slowly than it otherwise would be. Even though I've tried to help out in the past weeks @NightOwl888 have been doing like 90% of the real work that has been going into the project. So if we can come up with some kind of strategy to pull more attention to the project it would be great. And I'm sure very appreciated by the maintainers that have used countless hours on this project.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1287769687/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288127424","html_url":"https://github.com/apache/lucenenet/pull/713#issuecomment-1288127424","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/713","id":1288127424,"node_id":"IC_kwDOAAJ06c5Mx0PA","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T14:35:50Z","updated_at":"2022-10-23T14:35:50Z","author_association":"CONTRIBUTOR","body":"> EmptyArrayHolder is for conditional compilation, but we currently don't have any targets for it. We shouldn't remove it until we are ready to remove FEATURE_ARRAYEMPTY. I have made the change to put it in a conditional compilation section of its own.\r\n\r\nOK thanks.  Should I submit a separate PR and remove FEATURE_ARRAYEMPTY and groom code accordingly? Or is it best to leave it in for some future need?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288127424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288129808","html_url":"https://github.com/apache/lucenenet/pull/713#issuecomment-1288129808","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/713","id":1288129808,"node_id":"IC_kwDOAAJ06c5Mx00Q","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T14:48:20Z","updated_at":"2022-10-23T14:48:20Z","author_association":"CONTRIBUTOR","body":"I went ahead and made the change to this PR before the merge. ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288129808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288132572","html_url":"https://github.com/apache/lucenenet/pull/713#issuecomment-1288132572","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/713","id":1288132572,"node_id":"IC_kwDOAAJ06c5Mx1fc","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T15:01:24Z","updated_at":"2022-10-23T15:01:24Z","author_association":"CONTRIBUTOR","body":"> I went ahead and made the change to this PR before the merge.\r\n\r\nI know.  You put back the code for `Arrays.EmptyArrayHolder` and placed it in a `FEATURE_ARRAYEMPTY` compiler directive for conditional compilation.  I'm asking if I should submit a separate PR and remove all the `FEATURE_ARRAYEMPTY`  compiler directives and related code? Or are they still needed for some reason?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288132572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288133419","html_url":"https://github.com/apache/lucenenet/pull/713#issuecomment-1288133419","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/713","id":1288133419,"node_id":"IC_kwDOAAJ06c5Mx1sr","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T15:05:10Z","updated_at":"2022-10-23T15:05:10Z","author_association":"CONTRIBUTOR","body":"Since we just removed support for .NET Framework < 4.6.2, let's keep `FEATURE_ARRAYEMPTY` in case we have to revert for some reason.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288133419/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288804221","html_url":"https://github.com/apache/lucenenet/pull/709#issuecomment-1288804221","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/709","id":1288804221,"node_id":"IC_kwDOAAJ06c5M0Zd9","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T10:29:54Z","updated_at":"2022-10-24T10:30:54Z","author_association":"CONTRIBUTOR","body":"> Okay, I couldn't find an official document on how to set this up, but there is another Apache project that documented the process [here](https://servicecomb.apache.org/developers/sonarcloud-how-to/). I have already opened an [INFRA ticket](https://issues.apache.org/jira/projects/INFRA/issues/INFRA-23795) to set it up for us.\r\n> \r\n> Of course, since we don't use Travis CI, we have to find our own way after that. We use GitHub Actions for PRs, so I guess that is what we need to set up when that is complete.\r\n\r\nI've now updated the workflow to use the the SonarCloud template and tested it in my fork to make sure it works. The workflow seems to take about the same amount of time as when running on `Ubuntu` so for the time being it should be fine to use (a run takes about 20-30 mins).\r\n\r\nSo it should be ready to add once the INFRA ticket comes through.\r\n\r\nI've also tried to run the tests with `coverlet.collector` installed in the test projects to collect coverage data but this fails in the GitHub action due to: `There is not enough space on the disk. : 'D:\\a\\_temp\\_runner_file_commands\\add_path_2c3325d9-6997-44fc-9ba2-0c2fe815a6e4'`. This run also took 3h 30m 22s so it's properly not ideal to run this on all PR's.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1288804221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1290221071","html_url":"https://github.com/apache/lucenenet/issues/720#issuecomment-1290221071","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/720","id":1290221071,"node_id":"IC_kwDOAAJ06c5M5zYP","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T08:59:43Z","updated_at":"2022-10-25T09:00:31Z","author_association":"CONTRIBUTOR","body":"@zhangbaodan I think this might help you with finding a solution: https://stackoverflow.com/questions/32269632/writing-to-lucene-index-one-document-at-a-time-slows-down-over-time (The example given is in the Java version but should be translatable to use with Lucene.NET)","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1290221071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1290498935","html_url":"https://github.com/apache/lucenenet/issues/720#issuecomment-1290498935","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/720","id":1290498935,"node_id":"IC_kwDOAAJ06c5M63N3","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T12:46:01Z","updated_at":"2022-10-25T12:46:01Z","author_association":"CONTRIBUTOR","body":"@nikcio is pointing you in the right direction. The key aspect from that SO answer is this:\r\n\r\n>Use a [SearcherManager](https://lucene.apache.org/core/5_0_0/core/org/apache/lucene/search/SearcherManager.html) for searching and invoke [maybeRefresh()](https://lucene.apache.org/core/5_0_0/core/org/apache/lucene/search/ReferenceManager.html#maybeRefresh()) periodically to see updated documents within a reasonable time frame\r\n\r\nAnd that assumes your `IndexReader` was created from `IndexWrite.GetReader()` rather then created independently.\r\n\r\nWith those tips you should see much better performance.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1290498935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1290655689","html_url":"https://github.com/apache/lucenenet/issues/717#issuecomment-1290655689","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/717","id":1290655689,"node_id":"IC_kwDOAAJ06c5M7dfJ","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T14:34:13Z","updated_at":"2022-11-09T17:01:49Z","author_association":"CONTRIBUTOR","body":"Unless we are going to make the effort to migrate to new APIs, IMO it doesn't make much sense to add a new target. In fact, we are evaluating whether to drop one of the targets (either `net462` or `netstandard2.0`), since these have significant overlap and `netstandard2.1` pretty much covers all other platforms except .NET Framework and .NET 6+.\r\n\r\nHowever, adding .NET 7 tests to Azure DevOps is a must. Adding .NET 7 tests to GitHub Actions should only be done if we remove the tests for .NET 6, since we only need one set of tests to validate the `net6.0` target and we want the PR tests to run as fast as possible.\r\n\r\nAdding a target for `net6.0` made sense because:\r\n\r\n1. J2N uses [hardware intrinsics](https://devblogs.microsoft.com/dotnet/hardware-intrinsics-in-net-core/) for some of the low level bit operations and `net6.0` supports both Windows and Linux\r\n2. Normal dictionaries support deleting while iterating forward, so we don't have to use `ConcurrentDictionary<TKey, TValue>`\r\n\r\nBeing that we only have a couple of months left of `netcoreapp3.1` support, we should drop those tests but keep the `net5.0` tests for testing the `netstandard2.1` target. `net5.0` makes more sense to use because it supports detecting fatal crashes, where `netcoreapp3.1` does not. It would be best to first do a PR for dropping `netcoreapp3.1` tests, then a PR for adding the `net7.0` tests.\r\n\r\n### Azure DevOps\r\n\r\nWindows + Linux + macOS\r\n\r\nx64 + x86 on Windows only\r\n\r\n- `net7.0` -> tests `net6.0` tfm\r\n- `net6.0` -> tests `net6.0` tfm\r\n- `net5.0` -> tests `netstandard2.1` tfm\r\n- `net48` -> tests `net462` tfm\r\n- `net461` -> tests `netstandard2.0` tfm (will probably drop both of these)\r\n\r\n### GitHub Actions\r\n\r\nWindows + Linux\r\n\r\nx64 only on all targets\r\n\r\n- `net7.0` -> tests `net6.0` tfm\r\n- `net5.0` -> tests `netstandard2.1` tfm\r\n- `net48` -> tests `net462` tfm\r\n- `net461` -> tests `netstandard2.0` tfm (will probably drop both of these)\r\n\r\n### build.bat\r\n\r\nWindows + Linux + macOS\r\n\r\nx64 only on all targets\r\n\r\n- `net7.0` -> tests `net6.0` tfm\r\n- `net6.0` -> tests `net6.0` tfm\r\n- `net5.0` -> tests `netstandard2.1` tfm\r\n- `net48` -> tests `net462` tfm\r\n- `net461` -> tests `netstandard2.0` tfm (will probably drop both of these)","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1290655689/reactions","total_count":4,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1290729659","html_url":"https://github.com/apache/lucenenet/issues/719#issuecomment-1290729659","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/719","id":1290729659,"node_id":"IC_kwDOAAJ06c5M7vi7","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T15:14:17Z","updated_at":"2022-10-25T15:14:17Z","author_association":"CONTRIBUTOR","body":"Nope. The commit https://github.com/apache/lucenenet/commit/bebbae94145916520972ce25b3ebc2778db7c699#diff-ff3f44867a5688ccfea635f8d3c39fca938e698e60df8b6016a329a0e32fb40c is converting from `limit` (exclusive end index) to `length` to match .NET APIs. However, the overload of `Replace()` that is being called had the first 2 parameters `start` and `limit` which were both set to the variable `dest` (now renamed to `destinationIndex`). To convert using the formula:\r\n\r\n```length = limit - start```\r\n\r\nWe end up with:\r\n\r\n```length = dest - dest```\r\n\r\nRenamed:\r\n\r\n```length = destinationIndex - destinationIndex```\r\n\r\nThis basically makes the `Replace()` method into an effective `Insert()` operation at `destinationIndex` for `text.Length` characters. At the end of the day, having the same value for both `start` and `limit` (or `end`) in Java means use a zero-length slice of the array.\r\n\r\nAlthough the `length` of the \"value to replace\" is always `0`, I find it is helpful to show your work in the conversion rather than simply setting it to `0`. There are several other places where we are subtracting `0` from `limit` (or `end`) just to show that it was converted, even though this obviously has no real effect on the application.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1290729659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291024321","html_url":"https://github.com/apache/lucenenet/issues/719#issuecomment-1291024321","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/719","id":1291024321,"node_id":"IC_kwDOAAJ06c5M83fB","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T19:16:14Z","updated_at":"2022-10-25T19:16:14Z","author_association":"CONTRIBUTOR","body":"Super I'll mark the issue resolved in sonar👍","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291024321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291066236","html_url":"https://github.com/apache/lucenenet/pull/722#issuecomment-1291066236","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/722","id":1291066236,"node_id":"IC_kwDOAAJ06c5M9Bt8","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T19:57:07Z","updated_at":"2022-10-25T19:57:07Z","author_association":"CONTRIBUTOR","body":"I am torn about this. On one hand, having the ability to stop the tests from running is good for the reasons stated. However, it also means you cannot open a PR as a draft (indicating it isn't ready for pull) without also skipping the tests.\r\n\r\nThis means to run the tests thoroughly on all operating systems without doing it in a draft PR, a committer will either have to submit a regular PR (even though it isn't ready for pull), have all of those operating systems available locally to test with, or set up an Azure DevOps organization, repo, and build pipeline. Unfortunately, Microsoft has put a manual approval process in place to prevent abuse, so it can take several days after setting up Azure DevOps until you can run a pipeline.\r\n\r\nBut maybe we can accommodate this without excluding all draft PRs from tests. I was going to suggest setting up an `action:run-draft-pr-tests` label that can be added to a PR to run it, but I am pretty sure that non-Apache committers cannot add labels (or can they?) We could also have a single file that when edited controls whether or not the draft PR tests run, but that doesn't seem that elegant. Thoughts on how to conditionally run tests on a draft PR (that default to not run)?\r\n\r\n> NOTE: Apache's agent availability is down this month (presumably because of Hacktoberfest). Under most normal days we can get 80 or 90 parallel agents to run, and the whole test run takes less than 10 minutes. Unfortunately, their agent availability varies greatly, and the same test run can take 9 or 10 hours if there are only 1 or 2 parallel agents. Azure DevOps is much more stable - a build/test cycle almost always takes exactly 40 minutes with a maximum of 10 parallel agents.\r\n>\r\n> Unfortunately, [Apache won't open up the permissions to integrate with Azure DevOps](https://issues.apache.org/jira/browse/INFRA-17030) so options are limited with using it at scale.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291066236/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291154924","html_url":"https://github.com/apache/lucenenet/pull/722#issuecomment-1291154924","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/722","id":1291154924,"node_id":"IC_kwDOAAJ06c5M9XXs","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T21:17:52Z","updated_at":"2022-10-25T21:17:52Z","author_association":"CONTRIBUTOR","body":"I've looked a bit around and it might be possible to get a little of both worlds. Using the setting explained here:\n\nhttps://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository#controlling-changes-from-forks-to-workflows-in-public-repositories\n\nWe should be able to\n1. Prevent first time contributors from running the workflows without approval or\n2. Prevent \"outsiders\" from having workflows run automatically\n\nThe 2nd option gives a bit more power but also requires more micromanaging.\n\nFurthermore it's possible to trigger a workflow when labeled so we could add a specific label to run tests in draft PRs and then extend the if statement to include an \"or label x is present\". \n\nIt is not possible to add a label to a PR when being an \"outsider\" like me. But this might also help prevent possible abuse and should be quite quick for someone with access to add a label should it be required.\n\nhttps://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#pull_request","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291154924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291433834","html_url":"https://github.com/apache/lucenenet/pull/722#issuecomment-1291433834","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/722","id":1291433834,"node_id":"IC_kwDOAAJ06c5M-bdq","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T03:04:32Z","updated_at":"2022-10-26T03:04:32Z","author_association":"CONTRIBUTOR","body":"### Issue Templates\r\n\r\nI reported a bug recently to Lucene, and their [bug report template](https://raw.githubusercontent.com/apache/lucene/main/.github/ISSUE_TEMPLATE/bug_report.yaml) automatically assigns a label to an issue (even though I am not a Lucene committer).\r\n\r\nI have been meaning to set up issue templates for Lucene.NET at some point, especially because bug reports rarely provide the necessary information to reproduce the problem.\r\n\r\n1. Which target framework?\r\n2. Which operating system?\r\n3. Which version of Lucene.NET?\r\n4. Provide a minimal working example of the code required to reproduce (either in a console app or a test). That is - there should be enough code to create an index with dummy data and a similar configuration of various pluggable components (or their defaults) in order to perform the operation that is causing the issue.\r\n5. What is the observed behavior?\r\n6. What is the expected behavior?\r\n\r\nThe dotnet runtime repo has a great [example of what types of things are possible](https://github.com/dotnet/runtime/issues/new/choose). Looks like it may also be possible to provide external links. So, we could potentially redirect people with user questions to either StackOverflow or the user mailing list.\r\n\r\nThat sounds like a new issue that will require some research and discussion to do - no need to submit that to this PR.\r\n\r\n### Pull Request Templates\r\n\r\nAnyway, after some preliminary research, it turns out that [templates are also supported for PRs](https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/creating-a-pull-request-template-for-your-repository) and it appears (though not confirmed) that adding a template to produce a PR with a specific set of labels is also possible using the [YAML form schema](https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/syntax-for-githubs-form-schema). The idea is we would create different categories such as \"Resolve Issue PR\", \"Draft PR\", and \"Draft PR with Tests\", the latter of which would include a label that would fire the tests. Or maybe we could just make a \"Draft PR\" with a form element that allows the user to select to run tests or not, this will require some research and experimentation.\r\n\r\n> FYI: Do note that we don't have access to the GitHub Settings page, however Apache has automated setup of a range of settings through [various means](https://cwiki.apache.org/confluence/display/INFRA/Git%2C+GitHub+and+Gitbox), most prominently the [.asf.yaml file](https://cwiki.apache.org/confluence/display/INFRA/Git+-+.asf.yaml+features). Of course, if a feature isn't currently supported, it can be discussed with INFRA and even contributed by those willing to learn how to do it and navigate the obstacles to make the contribution.\r\n\r\nHowever, since issue and PR templates are entirely configured using files in the repo, this is something we can set up ourselves - even without being an Apache committer.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291433834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291441416","html_url":"https://github.com/apache/lucenenet/pull/722#issuecomment-1291441416","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/722","id":1291441416,"node_id":"IC_kwDOAAJ06c5M-dUI","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T03:17:06Z","updated_at":"2022-10-26T03:17:06Z","author_association":"CONTRIBUTOR","body":"> I've looked a bit around and it might be possible to get a little of both worlds. Using the setting explained here:\r\n> \r\n> https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository#controlling-changes-from-forks-to-workflows-in-public-repositories\r\n> \r\n> We should be able to\r\n> \r\n> 1. Prevent first time contributors from running the workflows without approval or\r\n> 2. Prevent \"outsiders\" from having workflows run automatically\r\n> \r\n\r\nApache has recently changed the default setup so first-time contributors require manual approval before the tests run.  It looks like those settings are configurable under the [Branch Protection](https://cwiki.apache.org/confluence/display/INFRA/Git+-+.asf.yaml+features#Git.asf.yamlfeatures-Branchprotection) settings of the `.asf.yaml` file.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1291441416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1292020973","html_url":"https://github.com/apache/lucenenet/issues/663#issuecomment-1292020973","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/663","id":1292020973,"node_id":"IC_kwDOAAJ06c5NAqzt","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T13:17:27Z","updated_at":"2022-10-26T13:17:27Z","author_association":"CONTRIBUTOR","body":"No more issues have been detected. This issue is ready to be closed.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1292020973/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1292023920","html_url":"https://github.com/apache/lucenenet/issues/663#issuecomment-1292023920","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/663","id":1292023920,"node_id":"IC_kwDOAAJ06c5NArhw","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T13:19:34Z","updated_at":"2022-10-26T13:19:34Z","author_association":"CONTRIBUTOR","body":"Great work!","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1292023920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1292436296","html_url":"https://github.com/apache/lucenenet/issues/723#issuecomment-1292436296","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/723","id":1292436296,"node_id":"IC_kwDOAAJ06c5NCQNI","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T18:28:35Z","updated_at":"2022-10-26T19:09:52Z","author_association":"CONTRIBUTOR","body":"If there is, the Lucene team would have the answer. However, even in the latest version, they [still escape the same characters](https://github.com/apache/lucene/blob/54fba99cb131c7414caf2c21b52aa990ac17db3e/lucene/queryparser/src/java/org/apache/lucene/queryparser/classic/QueryParserBase.java#L978-L980).\r\n\r\nOf course, if you need to change the syntax you can use the [flexible parser](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/queryparser/overview.html#flexible), which wires up all of the defaults the same as Classic query parser but allows you to [override the EscapeQuerySyntax](https://github.com/apache/lucenenet/blob/878dc64efbc3900b3c75239a9c9cca155b177def/src/Lucene.Net.QueryParser/Flexible/Standard/Parser/EscapeQuerySyntaxImpl.cs) among other things.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1292436296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1293102257","html_url":"https://github.com/apache/lucenenet/issues/720#issuecomment-1293102257","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/720","id":1293102257,"node_id":"IC_kwDOAAJ06c5NEyyx","user":{"login":"zhangbaodan","id":28921026,"node_id":"MDQ6VXNlcjI4OTIxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/28921026?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangbaodan","html_url":"https://github.com/zhangbaodan","followers_url":"https://api.github.com/users/zhangbaodan/followers","following_url":"https://api.github.com/users/zhangbaodan/following{/other_user}","gists_url":"https://api.github.com/users/zhangbaodan/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangbaodan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangbaodan/subscriptions","organizations_url":"https://api.github.com/users/zhangbaodan/orgs","repos_url":"https://api.github.com/users/zhangbaodan/repos","events_url":"https://api.github.com/users/zhangbaodan/events{/privacy}","received_events_url":"https://api.github.com/users/zhangbaodan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T07:22:54Z","updated_at":"2022-10-27T07:22:54Z","author_association":"NONE","body":"@nikcio @rclabo   Thank you very much for your timely reply, which really helped me a lot. By adopting your suggestions, my cpu consumption was reduced from 4% to less than 0.1%. This is really a huge improvement. Here's my solution:\r\n\r\n1. Every few seconds, retrieve file changes from the USN log and write them to IndexWriter via UpdateDocument, but do not immediately commit them to local disk.\r\n\r\n2. Create an IndexReader from the IndexWriter during each search. This ensures that the IndexReader can see the new data in the IndexWriter and the data on the disk. Here is the corresponding code :https://gist.github.com/mocobeta/4640263\r\n\r\n3. The timing of IndexWriter commits is important. Here I recommend that you commit every 10 minutes, and at the same time, you should record the location of the current USN log read. The next time the program is started, the USN will continue reading from the recorded location. This ensures that all changes read in the USN log are recorded in the index file.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1293102257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1293462652","html_url":"https://github.com/apache/lucenenet/issues/720#issuecomment-1293462652","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/720","id":1293462652,"node_id":"IC_kwDOAAJ06c5NGKx8","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T12:36:28Z","updated_at":"2022-10-27T12:36:28Z","author_association":"CONTRIBUTOR","body":"@zhangbaodan \r\n\r\n>Create an IndexReader from the IndexWriter during each search. This ensures that the IndexReader can see the new data in the IndexWriter and the data on the disk. Here is the corresponding code\r\n\r\nYou don't need to recreate `IndexReader` from the `IndexWriter` during each search.  Use the same `IndexReader`  over and over that you initially obtained from `IndexWrite.GetReader()` and then call `searcherManager.MaybeRefresh()` before each search is performed. That's all that's needed to ensure the `IndexReader` can see the new data that the `IndexWriter` has written.  \r\n\r\n`searcherManager.MaybeRefresh()`  is about \"Visibility\" and commit is about \"Durability\".  So when you call `searcherManager.MaybeRefresh()` the `IndexReader` will see the data even if you haven't called commit yet.   `searcherManager.MaybeRefresh()`  causes you to see the data, commit causes the data to be written to disk and committed to the index. They each work totally independently of each other.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1293462652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1294442880","html_url":"https://github.com/apache/lucenenet/pull/724#issuecomment-1294442880","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/724","id":1294442880,"node_id":"IC_kwDOAAJ06c5NJ6GA","user":{"login":"sachdevlaksh","id":35967999,"node_id":"MDQ6VXNlcjM1OTY3OTk5","avatar_url":"https://avatars.githubusercontent.com/u/35967999?v=4","gravatar_id":"","url":"https://api.github.com/users/sachdevlaksh","html_url":"https://github.com/sachdevlaksh","followers_url":"https://api.github.com/users/sachdevlaksh/followers","following_url":"https://api.github.com/users/sachdevlaksh/following{/other_user}","gists_url":"https://api.github.com/users/sachdevlaksh/gists{/gist_id}","starred_url":"https://api.github.com/users/sachdevlaksh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachdevlaksh/subscriptions","organizations_url":"https://api.github.com/users/sachdevlaksh/orgs","repos_url":"https://api.github.com/users/sachdevlaksh/repos","events_url":"https://api.github.com/users/sachdevlaksh/events{/privacy}","received_events_url":"https://api.github.com/users/sachdevlaksh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T04:34:58Z","updated_at":"2022-10-28T04:34:58Z","author_association":"CONTRIBUTOR","body":"> Thanks for the PR.\r\n> \r\n> While you did follow the instructions that were provided in #684, they were unfortunately not detailed enough (our fault). Please make the following changes to every changed line:\r\n> \r\n> 1. The \"link to related SonarCloud issue\" was meant to be a permanent link to a SonarCloud document that describes the issue (similar to how Microsoft does [CA1812](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/ca1812)). Unfortunately, no such document for \"SonarCloud S3626\" comes up in a Google search, I had to search for \"Code Analysis S3626\" to get a hit: https://rules.sonarsource.com/csharp/RSPEC-3626.  This SonarCloud scan setup is temporary, not a permanent URL that we should put in the source code. We are working on an official SonarCloud setup in #709, but it isn't ready yet.\r\n> 2. Do not add an additional line for the comment, place the comment after the code that is commented on the same line. Include the `//` also.\r\n> \r\n> ### Example\r\n> ```cs\r\n> // continue; // LUCENENET: Removed redundant jump statements. https://rules.sonarsource.com/csharp/RSPEC-3626\r\n> ```\r\n\r\nThanks @NightOwl888, For the detail, I make changes asap.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1294442880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1294626680","html_url":"https://github.com/apache/lucenenet/issues/720#issuecomment-1294626680","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/720","id":1294626680,"node_id":"IC_kwDOAAJ06c5NKm94","user":{"login":"zhangbaodan","id":28921026,"node_id":"MDQ6VXNlcjI4OTIxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/28921026?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangbaodan","html_url":"https://github.com/zhangbaodan","followers_url":"https://api.github.com/users/zhangbaodan/followers","following_url":"https://api.github.com/users/zhangbaodan/following{/other_user}","gists_url":"https://api.github.com/users/zhangbaodan/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangbaodan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangbaodan/subscriptions","organizations_url":"https://api.github.com/users/zhangbaodan/orgs","repos_url":"https://api.github.com/users/zhangbaodan/repos","events_url":"https://api.github.com/users/zhangbaodan/events{/privacy}","received_events_url":"https://api.github.com/users/zhangbaodan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T07:52:22Z","updated_at":"2022-10-28T07:52:22Z","author_association":"NONE","body":"@rclabo  You are right, I should have each search, first call searcherManager. MaybeRefresh (). However, in the PC search scenario, at least 10+ files are generated every second, and the user's search operation is very low frequency. So every time you search, MaybeRefresh must be true. So I took the lazy step of just getting IndexReader from IndexWriter, which took almost 0ms\r\n\r\nIn a word, I really like your solution, which helped me a lot.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1294626680/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1295184222","html_url":"https://github.com/apache/lucenenet/pull/727#issuecomment-1295184222","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/727","id":1295184222,"node_id":"IC_kwDOAAJ06c5NMvFe","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T16:13:17Z","updated_at":"2022-10-28T16:13:17Z","author_association":"CONTRIBUTOR","body":"I ran tests for this PR in AzureDev Ops and nothing failed. I did this since Apache appears to be out of build agents today.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1295184222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1295414118","html_url":"https://github.com/apache/lucenenet/pull/728#issuecomment-1295414118","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/728","id":1295414118,"node_id":"IC_kwDOAAJ06c5NNnNm","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T20:04:53Z","updated_at":"2022-10-28T20:04:53Z","author_association":"CONTRIBUTOR","body":"I ran tests for this PR in Azure DevOps as well and and nothing failed.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1295414118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1295656409","html_url":"https://github.com/apache/lucenenet/pull/709#issuecomment-1295656409","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/709","id":1295656409,"node_id":"IC_kwDOAAJ06c5NOiXZ","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T00:15:26Z","updated_at":"2022-10-29T00:15:26Z","author_association":"CONTRIBUTOR","body":"Yikes. That coverage performance is horrible. We cannot run an agent for more than 1 hour on Azure DevOps. And if running on a free Github actions accouunt I believe the limit is 3 hours, \r\n\r\nI know lucene's coverage is pretty lousy, so an occasional report would come in handy, even if we had to do it locally on one target framework to make the performance somewhat bearable. ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1295656409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1296179487","html_url":"https://github.com/apache/lucenenet/pull/730#issuecomment-1296179487","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/730","id":1296179487,"node_id":"IC_kwDOAAJ06c5NQiEf","user":{"login":"sachdevlaksh","id":35967999,"node_id":"MDQ6VXNlcjM1OTY3OTk5","avatar_url":"https://avatars.githubusercontent.com/u/35967999?v=4","gravatar_id":"","url":"https://api.github.com/users/sachdevlaksh","html_url":"https://github.com/sachdevlaksh","followers_url":"https://api.github.com/users/sachdevlaksh/followers","following_url":"https://api.github.com/users/sachdevlaksh/following{/other_user}","gists_url":"https://api.github.com/users/sachdevlaksh/gists{/gist_id}","starred_url":"https://api.github.com/users/sachdevlaksh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachdevlaksh/subscriptions","organizations_url":"https://api.github.com/users/sachdevlaksh/orgs","repos_url":"https://api.github.com/users/sachdevlaksh/repos","events_url":"https://api.github.com/users/sachdevlaksh/events{/privacy}","received_events_url":"https://api.github.com/users/sachdevlaksh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T09:10:55Z","updated_at":"2022-10-30T09:10:55Z","author_association":"CONTRIBUTOR","body":"> Thanks for the PR. Looks pretty good, but there were a couple of flagged issues that were missed and one that needs to be changed (see the comment inline).\r\n> \r\n> * [HyphenationTree.cs](https://sonarcloud.io/project/issues?issues=AYPAuPQshbfJOGLOoa_p&open=AYPAuPQshbfJOGLOoa_p&id=nikcio_lucenenet)\r\n> * [BasqueStemmer.cs](https://sonarcloud.io/project/issues?issues=AYPAuPnchbfJOGLOobMP&open=AYPAuPnchbfJOGLOobMP&id=nikcio_lucenenet)\r\n> \r\n> For future reference, please adjust your editor so it doesn't change whitespace characters when you edit. It takes a lot longer to review when there are dozens of whitespace edits in the file and only a handful of \"real\" changed lines. No need to revert whitespace changes on this PR.\r\n\r\nSure.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1296179487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1296407767","html_url":"https://github.com/apache/lucenenet/issues/671#issuecomment-1296407767","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/671","id":1296407767,"node_id":"IC_kwDOAAJ06c5NRZzX","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T00:48:33Z","updated_at":"2022-10-31T00:48:33Z","author_association":"CONTRIBUTOR","body":"Fixed in #730","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1296407767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1297294020","html_url":"https://github.com/apache/lucenenet/issues/732#issuecomment-1297294020","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/732","id":1297294020,"node_id":"IC_kwDOAAJ06c5NUyLE","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T15:49:33Z","updated_at":"2022-10-31T15:49:33Z","author_association":"CONTRIBUTOR","body":"Thanks for the report. Yeah, the Thai Tokenizer is a tough nut. .NET has nothing like a `BreakIterator`, and we can't port the one from the JDK due to licensing restrictions. Apache Harmony (which is a JRE that has an Apache license) used the ICU4J `BreakIterator`. We tried the same thing, but it behaves differently than the JDK.\r\n\r\nIn fact, it isn't just the `ThaiTokenizer` that is affected, it affects the highlighters also.\r\n\r\nUnfortunately, `.brk` files don't apply to dictionary-based break iterators, for those you have to use `.dict` files. For sure they cannot be loaded using the `BreakIterator` API, but I don't recall if there is another API that can be used to load them or if it will actually take a custom compile of ICU4N to be able to pull it off. See the [ICU4J Resource Information](https://unicode-org.github.io/icu/userguide/icu4j/#icu4j-resource-information). I think there might have been a way to use class paths to load custom ones, but I am still trying to learn how these things are done \"normally\" in Java.\r\n\r\nTrying to come up with a reasonable way to work with resource files in ICU4N is still a work in progress, since the architecture for loading them in .NET is completely different. There is an attempt [here](https://github.com/NightOwl888/ICU4N/commits/feature/resource-automation) to migrate to using satellite assemblies for the localized resources. However, that still means the `.dict` files would be embedded in the `ICU4N.dll` assembly.\r\n\r\nThere is also an attempt to replace system properties with `Microsoft.Extensions.Configuration` similarly to how we did it in Lucene.NET on another branch that hasn't been pushed yet. It may be relevant to how to inject resources into ICU4N, don't recall. Still a mess, went down a rabbit hole chasing a `ThreadAbortException` being thrown from the .NET `StringBuilder` class for seemingly no reason, before giving up 8 months ago. However, I haven't yet tried to go back to find the commit where it started.\r\n\r\nWe were able to get the Lucene tests to pass by adding a [ThaiWordBreaker](https://github.com/apache/lucenenet/blob/e72315a75009854483c979462eb2406f41311796/src/Lucene.Net.Analysis.Common/Analysis/Th/ThaiTokenizer.cs#L212-L309) class that separates Thai letters from Thai numbers (and other text). This brings us a bit closer to JDK behavior. However, we don't have a thorough set of tests or documentation (that we could find) to determine all of the differences between the two implementations to close the gap. Of course, if all of it can be done using a different `.dict` file, that would be preferable to adding classes to mimic JDK behavior.\r\n\r\nIf you could share any information you can find - more tests to show differences in behavior, info on how custom `.dict` files are loaded in ICU4J by users (without recompiling), info about how to create `.dict` files, etc., it would certainly help move us forward.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1297294020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298866011","html_url":"https://github.com/apache/lucenenet/issues/732#issuecomment-1298866011","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/732","id":1298866011,"node_id":"IC_kwDOAAJ06c5Nax9b","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T17:25:39Z","updated_at":"2022-11-01T17:25:39Z","author_association":"CONTRIBUTOR","body":"I just re-read your report and realized you were referring to `ICUTokenizer` rather than the `ThaiTokenizer`.\r\n\r\nThe reason why the behavior differs from Lucene 4.8.0, is because we ported the [`ICUTokenizer` from Lucene 8.6.1](https://github.com/apache/lucenenet/blob/ebcd9ea985001580cdd9f6f90801c605fe19a250/src/Lucene.Net.Analysis.ICU/Analysis/Icu/Segmentation/ICUTokenizer.cs#L1). Can you confirm that the behavior is the same as Lucene 8.6.1?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298866011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298890833","html_url":"https://github.com/apache/lucenenet/pull/735#issuecomment-1298890833","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/735","id":1298890833,"node_id":"IC_kwDOAAJ06c5Na4BR","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T17:47:14Z","updated_at":"2022-11-01T17:47:14Z","author_association":"CONTRIBUTOR","body":"Wow! @NightOwl888  you have more commits on this PR then I do.  Looks like I only got the party started.  I appreciate you buddy!","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298890833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298944253","html_url":"https://github.com/apache/lucenenet/issues/732#issuecomment-1298944253","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/732","id":1298944253,"node_id":"IC_kwDOAAJ06c5NbFD9","user":{"login":"krinsang","id":11673823,"node_id":"MDQ6VXNlcjExNjczODIz","avatar_url":"https://avatars.githubusercontent.com/u/11673823?v=4","gravatar_id":"","url":"https://api.github.com/users/krinsang","html_url":"https://github.com/krinsang","followers_url":"https://api.github.com/users/krinsang/followers","following_url":"https://api.github.com/users/krinsang/following{/other_user}","gists_url":"https://api.github.com/users/krinsang/gists{/gist_id}","starred_url":"https://api.github.com/users/krinsang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krinsang/subscriptions","organizations_url":"https://api.github.com/users/krinsang/orgs","repos_url":"https://api.github.com/users/krinsang/repos","events_url":"https://api.github.com/users/krinsang/events{/privacy}","received_events_url":"https://api.github.com/users/krinsang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T18:32:44Z","updated_at":"2022-11-01T18:32:44Z","author_association":"NONE","body":"Yes, I just compared version 8.6.1 to to 4.8.0-beta00014 and the two tokenizers yield different results.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298944253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298948890","html_url":"https://github.com/apache/lucenenet/issues/732#issuecomment-1298948890","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/732","id":1298948890,"node_id":"IC_kwDOAAJ06c5NbGMa","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T18:37:12Z","updated_at":"2022-11-01T18:37:12Z","author_association":"CONTRIBUTOR","body":"Could you put together a test or console app we can run in both environments so we can take a look?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298948890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298973680","html_url":"https://github.com/apache/lucenenet/issues/732#issuecomment-1298973680","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/732","id":1298973680,"node_id":"IC_kwDOAAJ06c5NbMPw","user":{"login":"krinsang","id":11673823,"node_id":"MDQ6VXNlcjExNjczODIz","avatar_url":"https://avatars.githubusercontent.com/u/11673823?v=4","gravatar_id":"","url":"https://api.github.com/users/krinsang","html_url":"https://github.com/krinsang","followers_url":"https://api.github.com/users/krinsang/followers","following_url":"https://api.github.com/users/krinsang/following{/other_user}","gists_url":"https://api.github.com/users/krinsang/gists{/gist_id}","starred_url":"https://api.github.com/users/krinsang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krinsang/subscriptions","organizations_url":"https://api.github.com/users/krinsang/orgs","repos_url":"https://api.github.com/users/krinsang/repos","events_url":"https://api.github.com/users/krinsang/events{/privacy}","received_events_url":"https://api.github.com/users/krinsang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T18:59:09Z","updated_at":"2022-11-01T18:59:09Z","author_association":"NONE","body":"https://github.com/krinsang/lucenenet/tree/bug/icutokenizer\r\nplease use my forked branch as a reference.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1298973680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1299140114","html_url":"https://github.com/apache/lucenenet/pull/735#issuecomment-1299140114","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/735","id":1299140114,"node_id":"IC_kwDOAAJ06c5Nb04S","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T20:55:48Z","updated_at":"2022-11-01T20:55:48Z","author_association":"CONTRIBUTOR","body":"Yea, it took some work to solve some issues:\r\n\r\n1. Pre-pack the lucene-cli tool prior to the test, which is much faster than having the test runner do it.\r\n2. Set the Azure DevOps environment variable so the tests know where to look for the `.nupkg` file.\r\n3. Bump the `Microsoft.Extensions.Configuration` version from 3.1.0 to 3.1.6. Now the tests work both for lucene-cli and for the `net461` target.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1299140114/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1299606844","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1299606844","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1299606844,"node_id":"IC_kwDOAAJ06c5Ndm08","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T05:45:14Z","updated_at":"2022-11-02T05:45:14Z","author_association":"CONTRIBUTOR","body":"@nikcio - I found what appears to be a bug in the scan: https://sonarcloud.io/project/issues?issues=AYPAuOCLhbfJOGLOoaG2&open=AYPAuOCLhbfJOGLOoaG2&id=nikcio_lucenenet\r\n\r\nThe scan is recommending to convert from [`protected internal`](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/protected-internal) to [`private protected`](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/private-protected). The former allows internal (public-like) access within the assembly and protected access outside of the assembly. The latter allows protected access within the assembly and **no access** outside of the assembly.\r\n\r\nI double-checked, and indeed it is possible to inherit `FieldCacheRangeFilter<T>` outside of the assembly.\r\n\r\n```c#\r\n    public class Foo : FieldCacheRangeFilter<double>\r\n    {\r\n        public Foo()\r\n            : base(\"foo\", FieldCache.NUMERIC_UTILS_DOUBLE_PARSER, lowerVal: 444.444, upperVal: 555.555, includeLower: true, includeUpper: true)\r\n        {\r\n        }\r\n\r\n        public override DocIdSet GetDocIdSet(AtomicReaderContext context, IBits acceptDocs)\r\n        {\r\n            throw new NotImplementedException();\r\n        }\r\n    }\r\n```\r\n\r\nClearly the advice given by the scan is incorrect if we want this to remain a `protected` constructor outside of the assembly.\r\n\r\nThat being said, checking with the [Lucene 4.8.0 source](https://github.com/apache/lucene/blob/releases/lucene-solr/4.8.0/lucene/core/src/java/org/apache/lucene/search/FieldCacheRangeFilter.java#L59-L71) the constructor is actually declared `private`, so this is also a Java to C# translation bug and it should ultimately be made `private protected` as the scan indicated.\r\n\r\n> **NOTE:** `protected internal` was initially put on all `protected` APIs because in Java it is possible to call a protected member within the same package like it is public. However, `protected internal` is a big mess when it is combined with toggling on and off `InternalsVisibleToAttribute` as required. Once `InternalsVisibleToAttribute` is enabled, all of the subclasses need to be changed from `protected` to `protected internal` to match accessibility. Ideally, we would avoid `protected internal` and use `protected` when we can, but since some internal places use these APIs like they are public, we need it in those specific cases.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1299606844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]