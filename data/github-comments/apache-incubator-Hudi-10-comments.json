[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396104844","html_url":"https://github.com/apache/hudi/pull/400#issuecomment-396104844","issue_url":"https://api.github.com/repos/apache/hudi/issues/400","id":396104844,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjEwNDg0NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T02:18:59Z","updated_at":"2018-06-11T02:18:59Z","author_association":"MEMBER","body":"I see you are passing in HoodieTable now. Thats the major concern I had. gtg now. Will merge after I cut the new release","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396104844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396109960","html_url":"https://github.com/apache/hudi/pull/390#issuecomment-396109960","issue_url":"https://api.github.com/repos/apache/hudi/issues/390","id":396109960,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjEwOTk2MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T03:02:24Z","updated_at":"2018-06-11T03:02:24Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : Can you take a pass. Thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396109960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396127527","html_url":"https://github.com/apache/hudi/pull/390#issuecomment-396127527","issue_url":"https://api.github.com/repos/apache/hudi/issues/390","id":396127527,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjEyNzUyNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T05:38:31Z","updated_at":"2018-06-11T05:38:31Z","author_association":"MEMBER","body":"Will do.. @n3nash can you also take a closer pass.. \r\n\r\nI went over the rest of the PRs for async compaction and this is by far the most critical.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396127527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396128791","html_url":"https://github.com/apache/hudi/pull/368#issuecomment-396128791","issue_url":"https://api.github.com/repos/apache/hudi/issues/368","id":396128791,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjEyODc5MQ==","user":{"login":"CLAassistant","id":11571300,"node_id":"MDQ6VXNlcjExNTcxMzAw","avatar_url":"https://avatars.githubusercontent.com/u/11571300?v=4","gravatar_id":"","url":"https://api.github.com/users/CLAassistant","html_url":"https://github.com/CLAassistant","followers_url":"https://api.github.com/users/CLAassistant/followers","following_url":"https://api.github.com/users/CLAassistant/following{/other_user}","gists_url":"https://api.github.com/users/CLAassistant/gists{/gist_id}","starred_url":"https://api.github.com/users/CLAassistant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CLAassistant/subscriptions","organizations_url":"https://api.github.com/users/CLAassistant/orgs","repos_url":"https://api.github.com/users/CLAassistant/repos","events_url":"https://api.github.com/users/CLAassistant/events{/privacy}","received_events_url":"https://api.github.com/users/CLAassistant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T05:47:25Z","updated_at":"2018-06-11T05:47:26Z","author_association":"NONE","body":"[![CLA assistant check](https://cla-assistant.io/pull/badge/not_signed)](https://cla-assistant.io/uber/hudi?pullRequest=368) <br/>Thank you for your submission, we really appreciate it. Like many open source projects, we ask that you all sign our [Contributor License Agreement](https://cla-assistant.io/uber/hudi?pullRequest=368) before we can accept your contribution.<br/>**1** out of **2** committers have signed the CLA.<br/><br/>:white_check_mark: vinothchandar<br/>:x: xjodoin<br/><sub>You have signed the CLA already but the status is still pending? Let us [recheck](https://cla-assistant.io/check/uber/hudi?pullRequest=368) it.</sub>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396128791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396133118","html_url":"https://github.com/apache/hudi/pull/411#issuecomment-396133118","issue_url":"https://api.github.com/repos/apache/hudi/issues/411","id":396133118,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjEzMzExOA==","user":{"login":"CLAassistant","id":11571300,"node_id":"MDQ6VXNlcjExNTcxMzAw","avatar_url":"https://avatars.githubusercontent.com/u/11571300?v=4","gravatar_id":"","url":"https://api.github.com/users/CLAassistant","html_url":"https://github.com/CLAassistant","followers_url":"https://api.github.com/users/CLAassistant/followers","following_url":"https://api.github.com/users/CLAassistant/following{/other_user}","gists_url":"https://api.github.com/users/CLAassistant/gists{/gist_id}","starred_url":"https://api.github.com/users/CLAassistant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CLAassistant/subscriptions","organizations_url":"https://api.github.com/users/CLAassistant/orgs","repos_url":"https://api.github.com/users/CLAassistant/repos","events_url":"https://api.github.com/users/CLAassistant/events{/privacy}","received_events_url":"https://api.github.com/users/CLAassistant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T06:14:04Z","updated_at":"2018-06-11T06:14:53Z","author_association":"NONE","body":"[![CLA assistant check](https://cla-assistant.io/pull/badge/not_signed)](https://cla-assistant.io/uber/hudi?pullRequest=411) <br/>Thank you for your submission, we really appreciate it. Like many open source projects, we ask that you sign our [Contributor License Agreement](https://cla-assistant.io/uber/hudi?pullRequest=411) before we can accept your contribution.<br/><sub>You have signed the CLA already but the status is still pending? Let us [recheck](https://cla-assistant.io/check/uber/hudi?pullRequest=411) it.</sub>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396133118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396133196","html_url":"https://github.com/apache/hudi/pull/368#issuecomment-396133196","issue_url":"https://api.github.com/repos/apache/hudi/issues/368","id":396133196,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjEzMzE5Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T06:14:34Z","updated_at":"2018-06-11T06:14:34Z","author_association":"MEMBER","body":"#411 will pull this in, after conflct resolution ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396133196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396134044","html_url":"https://github.com/apache/hudi/pull/412#issuecomment-396134044","issue_url":"https://api.github.com/repos/apache/hudi/issues/412","id":396134044,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjEzNDA0NA==","user":{"login":"CLAassistant","id":11571300,"node_id":"MDQ6VXNlcjExNTcxMzAw","avatar_url":"https://avatars.githubusercontent.com/u/11571300?v=4","gravatar_id":"","url":"https://api.github.com/users/CLAassistant","html_url":"https://github.com/CLAassistant","followers_url":"https://api.github.com/users/CLAassistant/followers","following_url":"https://api.github.com/users/CLAassistant/following{/other_user}","gists_url":"https://api.github.com/users/CLAassistant/gists{/gist_id}","starred_url":"https://api.github.com/users/CLAassistant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CLAassistant/subscriptions","organizations_url":"https://api.github.com/users/CLAassistant/orgs","repos_url":"https://api.github.com/users/CLAassistant/repos","events_url":"https://api.github.com/users/CLAassistant/events{/privacy}","received_events_url":"https://api.github.com/users/CLAassistant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T06:19:32Z","updated_at":"2018-06-11T06:19:33Z","author_association":"NONE","body":"[![CLA assistant check](https://cla-assistant.io/pull/badge/not_signed)](https://cla-assistant.io/uber/hudi?pullRequest=412) <br/>Thank you for your submission, we really appreciate it. Like many open source projects, we ask that you sign our [Contributor License Agreement](https://cla-assistant.io/uber/hudi?pullRequest=412) before we can accept your contribution.<br/><sub>You have signed the CLA already but the status is still pending? Let us [recheck](https://cla-assistant.io/check/uber/hudi?pullRequest=412) it.</sub>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396134044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396299093","html_url":"https://github.com/apache/hudi/issues/393#issuecomment-396299093","issue_url":"https://api.github.com/repos/apache/hudi/issues/393","id":396299093,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjI5OTA5Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T16:13:08Z","updated_at":"2018-06-11T16:13:08Z","author_association":"MEMBER","body":"trying to repro on hive1.1.0-cdh5.8.3","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396299093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396337664","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-396337664","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":396337664,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjMzNzY2NA==","user":{"login":"lenamaier","id":12909118,"node_id":"MDQ6VXNlcjEyOTA5MTE4","avatar_url":"https://avatars.githubusercontent.com/u/12909118?v=4","gravatar_id":"","url":"https://api.github.com/users/lenamaier","html_url":"https://github.com/lenamaier","followers_url":"https://api.github.com/users/lenamaier/followers","following_url":"https://api.github.com/users/lenamaier/following{/other_user}","gists_url":"https://api.github.com/users/lenamaier/gists{/gist_id}","starred_url":"https://api.github.com/users/lenamaier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lenamaier/subscriptions","organizations_url":"https://api.github.com/users/lenamaier/orgs","repos_url":"https://api.github.com/users/lenamaier/repos","events_url":"https://api.github.com/users/lenamaier/events{/privacy}","received_events_url":"https://api.github.com/users/lenamaier/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T18:19:44Z","updated_at":"2018-06-11T18:19:44Z","author_association":"NONE","body":"Hi @vinothchandar, could you add me to the slack group? My email is lenamai.er@web.de ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396337664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396454684","html_url":"https://github.com/apache/hudi/pull/396#issuecomment-396454684","issue_url":"https://api.github.com/repos/apache/hudi/issues/396","id":396454684,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjQ1NDY4NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-12T03:31:36Z","updated_at":"2018-06-12T03:31:36Z","author_association":"CONTRIBUTOR","body":"Re-based and opened a new PR https://github.com/uber/hudi/pull/413. Closing this PR in favor of that.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396454684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396454713","html_url":"https://github.com/apache/hudi/pull/402#issuecomment-396454713","issue_url":"https://api.github.com/repos/apache/hudi/issues/402","id":396454713,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjQ1NDcxMw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-12T03:31:49Z","updated_at":"2018-06-12T03:31:49Z","author_association":"CONTRIBUTOR","body":"Re-based and opened a new PR https://github.com/uber/hudi/pull/413. Closing this PR in favor of that.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396454713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396489698","html_url":"https://github.com/apache/hudi/pull/413#issuecomment-396489698","issue_url":"https://api.github.com/repos/apache/hudi/issues/413","id":396489698,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjQ4OTY5OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-12T07:14:16Z","updated_at":"2018-06-12T07:14:16Z","author_association":"CONTRIBUTOR","body":"@bvaradar @vinothchandar please take a pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396489698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396724087","html_url":"https://github.com/apache/hudi/pull/398#issuecomment-396724087","issue_url":"https://api.github.com/repos/apache/hudi/issues/398","id":396724087,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjcyNDA4Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-12T20:33:36Z","updated_at":"2018-06-12T20:33:36Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar ping","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/396724087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/397167776","html_url":"https://github.com/apache/hudi/pull/390#issuecomment-397167776","issue_url":"https://api.github.com/repos/apache/hudi/issues/390","id":397167776,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzE2Nzc3Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-14T04:36:41Z","updated_at":"2018-06-14T04:36:41Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Took a pass, looks fine to me. @bvaradar left a couple of comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/397167776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/397465827","html_url":"https://github.com/apache/hudi/pull/398#issuecomment-397465827","issue_url":"https://api.github.com/repos/apache/hudi/issues/398","id":397465827,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzQ2NTgyNw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-14T23:13:01Z","updated_at":"2018-06-14T23:13:01Z","author_association":"CONTRIBUTOR","body":"@bvaradar thanks for the comments, updated the PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/397465827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/397916693","html_url":"https://github.com/apache/hudi/pull/398#issuecomment-397916693","issue_url":"https://api.github.com/repos/apache/hudi/issues/398","id":397916693,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzkxNjY5Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T00:24:03Z","updated_at":"2018-06-18T00:24:03Z","author_association":"MEMBER","body":"@n3nash ci failing?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/397916693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/398186589","html_url":"https://github.com/apache/hudi/pull/398#issuecomment-398186589","issue_url":"https://api.github.com/repos/apache/hudi/issues/398","id":398186589,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODE4NjU4OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T20:34:49Z","updated_at":"2018-06-18T20:34:49Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Re-based, take a pass now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/398186589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399291204","html_url":"https://github.com/apache/hudi/issues/414#issuecomment-399291204","issue_url":"https://api.github.com/repos/apache/hudi/issues/414","id":399291204,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTI5MTIwNA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T01:19:17Z","updated_at":"2018-06-22T01:19:17Z","author_association":"CONTRIBUTOR","body":"@bvaradar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399291204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612248","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-399612248","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":399612248,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTYxMjI0OA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T23:54:31Z","updated_at":"2018-06-23T00:02:07Z","author_association":"CONTRIBUTOR","body":"Thinking of a naive implementation as following:\r\n```\r\nclass HudiFileStreamSink(sqlContext: SQLContext,\r\n                         options: Map[String, String],\r\n                         partitionColumns: Seq[String],\r\n                         outputMode: OutputMode)\r\n  extends DefaultSource\r\n    with Sink\r\n    with Logging\r\n    with Serializable {\r\n\r\n  private val mode =\r\n    if (outputMode == OutputMode.Append()) {\r\n      SaveMode.Append\r\n    } else {\r\n      SaveMode.Overwrite\r\n    }\r\n\r\n  override def addBatch(batchId: Long, data: DataFrame): Unit = {\r\n    createRelation(\r\n      sqlContext,\r\n      mode,\r\n      options,\r\n      data)\r\n  }\r\n\r\n  override def toString: String = s\"HudiFileStreamSink[${options.get(\"path\")}]\"\r\n\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612265","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-399612265","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":399612265,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTYxMjI2NQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T23:54:41Z","updated_at":"2018-06-22T23:55:55Z","author_association":"CONTRIBUTOR","body":"Running into issues of execution plan check failure:\r\n\r\n> 2018-06-22 23:53:00 ERROR MicroBatchExecution:91 - Query [id = 5eaf9de8-0684-4e28-a8db-a45de88e4afa, runId = 8052492e-a2a8-41c3-925a-3d8e16b0301f] terminated with error\r\n> org.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();;\r\n> LogicalRDD [key#141, value#142, topic#143, partition#144, offset#145L, timestamp#146, timestampType#147], true\r\n> \tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.org$apache$spark$sql$catalyst$analysis$UnsupportedOperationChecker$$throwError(UnsupportedOperationChecker.scala:374)\r\n> \tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$$anonfun$checkForBatch$1.apply(UnsupportedOperationChecker.scala:37)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612506","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-399612506","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":399612506,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTYxMjUwNg==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T23:56:53Z","updated_at":"2018-06-23T06:54:45Z","author_association":"CONTRIBUTOR","body":"The complain is about the .rdd function call, which is NOT supported in structured streaming:\r\n\r\n> \tat org.apache.spark.sql.Dataset.rdd$lzycompute(Dataset.scala:2975)\r\n> \tat org.apache.spark.sql.Dataset.rdd(Dataset.scala:2973)\r\n> \tat com.uber.hoodie.AvroConversionUtils$.createRdd(AvroConversionUtils.scala:37)\r\n> \tat com.uber.hoodie.DefaultSource.createRelation(DefaultSource.scala:160)\r\n> \tat org.apache.spark.sql.execution.streaming.HudiFileStreamSink.addBatch(HudiFileStreamSink.scala:33)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612623","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-399612623","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":399612623,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTYxMjYyMw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T23:58:06Z","updated_at":"2018-06-22T23:58:06Z","author_association":"CONTRIBUTOR","body":"I can have a temp work around by setting certain spark conf, but it looks ugly:\r\n\r\n> ...\r\n>  .config(\"spark.sql.streaming.unsupportedOperationCheck\", \"false\")\r\n> ...","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612738","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-399612738","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":399612738,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTYxMjczOA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T23:59:09Z","updated_at":"2018-06-22T23:59:09Z","author_association":"CONTRIBUTOR","body":"Any suggestions?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/399612738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400102618","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-400102618","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":400102618,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDEwMjYxOA==","user":{"login":"lenamaier","id":12909118,"node_id":"MDQ6VXNlcjEyOTA5MTE4","avatar_url":"https://avatars.githubusercontent.com/u/12909118?v=4","gravatar_id":"","url":"https://api.github.com/users/lenamaier","html_url":"https://github.com/lenamaier","followers_url":"https://api.github.com/users/lenamaier/followers","following_url":"https://api.github.com/users/lenamaier/following{/other_user}","gists_url":"https://api.github.com/users/lenamaier/gists{/gist_id}","starred_url":"https://api.github.com/users/lenamaier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lenamaier/subscriptions","organizations_url":"https://api.github.com/users/lenamaier/orgs","repos_url":"https://api.github.com/users/lenamaier/repos","events_url":"https://api.github.com/users/lenamaier/events{/privacy}","received_events_url":"https://api.github.com/users/lenamaier/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T21:32:01Z","updated_at":"2018-06-25T21:32:01Z","author_association":"NONE","body":"Hi Vinoth, sorry for bothering again. Could you add me to the slack channel, I have some questions regarding the HoodieDeltaStreamer. My email is: lenamai.er@web.de. Thanks! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400102618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400111521","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-400111521","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":400111521,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDExMTUyMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T22:07:37Z","updated_at":"2018-06-25T22:07:37Z","author_association":"MEMBER","body":"I have a plan to push the avro conversion into the HoodieRecordPayload (needs cleanup; sits in my laptop branch now), since I found shuffling avro can cause some memory issues. This can help with this ? \r\n\r\nBut then we need to do a df.rdd and work with spark `Row` ultimately?  Guessing that would still be a problem? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400111521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400111776","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-400111776","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":400111776,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDExMTc3Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T22:08:48Z","updated_at":"2018-06-25T22:08:48Z","author_association":"MEMBER","body":"hey. I actually did that.. let me try inviting again.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400111776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400118002","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-400118002","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":400118002,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDExODAwMg==","user":{"login":"lenamaier","id":12909118,"node_id":"MDQ6VXNlcjEyOTA5MTE4","avatar_url":"https://avatars.githubusercontent.com/u/12909118?v=4","gravatar_id":"","url":"https://api.github.com/users/lenamaier","html_url":"https://github.com/lenamaier","followers_url":"https://api.github.com/users/lenamaier/followers","following_url":"https://api.github.com/users/lenamaier/following{/other_user}","gists_url":"https://api.github.com/users/lenamaier/gists{/gist_id}","starred_url":"https://api.github.com/users/lenamaier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lenamaier/subscriptions","organizations_url":"https://api.github.com/users/lenamaier/orgs","repos_url":"https://api.github.com/users/lenamaier/repos","events_url":"https://api.github.com/users/lenamaier/events{/privacy}","received_events_url":"https://api.github.com/users/lenamaier/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T22:38:19Z","updated_at":"2018-06-25T22:38:19Z","author_association":"NONE","body":"Hm for some reason I hadn't received an invite, but now it worked, thanks! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400118002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400161296","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-400161296","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":400161296,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDE2MTI5Ng==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T02:53:32Z","updated_at":"2018-06-26T02:53:32Z","author_association":"CONTRIBUTOR","body":"Yah, `df.rdd` will end up calling `QueryExecution.assertSupported()`, which does not allow any `.isStreaming` in any of the child of the query plan.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400161296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400375861","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-400375861","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":400375861,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDM3NTg2MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T16:24:47Z","updated_at":"2018-06-26T16:24:47Z","author_association":"MEMBER","body":"How do other sinks do this? I mean, at some level they all need to convert to an internal data object representation right? \r\nFileStreamSink seems to do something different \r\nhttps://github.com/apache/spark/blob/master/sql/core/src/main/scala/org/apache/spark/sql/execution/streaming/FileStreamSink.scala#L131\r\n\r\nDon't have ideas top of my head. Need to research more :( ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/400375861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/401204541","html_url":"https://github.com/apache/hudi/pull/413#issuecomment-401204541","issue_url":"https://api.github.com/repos/apache/hudi/issues/413","id":401204541,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTIwNDU0MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T23:38:21Z","updated_at":"2018-06-28T23:38:21Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar addressed comments, left a couple of comments on 2 concerns. Please take a pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/401204541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/402568503","html_url":"https://github.com/apache/hudi/issues/81#issuecomment-402568503","issue_url":"https://api.github.com/repos/apache/hudi/issues/81","id":402568503,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjU2ODUwMw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T22:44:56Z","updated_at":"2018-07-04T22:46:06Z","author_association":"CONTRIBUTOR","body":"Is this completed? It seems [the presto patch](https://github.com/prestodb/presto/pull/7002) is merged.\r\n\r\nI was trying to follow the [hudi doc](https://uber.github.io/hudi/sql_queries.html#presto) to build a presto + minimum hive metastore POC (https://stackoverflow.com/questions/43727964/does-presto-require-a-hive-metastore-to-read-parquet-files-from-s3) on top of s3 files written by hudi. It seems presto \r\n- cannot match the field names vs the field values (it shows the hudi commit version as one of the real data column value) \r\n- does not leverage the commits (2 records in 2 commits with the same primary key, it shows both instead of the later one)\r\n\r\nAny guidance on what went wrong? Thanks in advance!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/402568503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/402587239","html_url":"https://github.com/apache/hudi/issues/81#issuecomment-402587239","issue_url":"https://api.github.com/repos/apache/hudi/issues/81","id":402587239,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjU4NzIzOQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T02:11:28Z","updated_at":"2018-07-05T02:11:28Z","author_association":"MEMBER","body":"yes. presto patch is merged.  Yes presto support is via the Hive catalog. \r\n\r\n>> cannot match the field names vs the field values (it shows the hudi commit version as one of the real data column value)\r\nNot following fully.. But hudi does add few metadata fields to the table including the commit version of the records. \r\n\r\n>>does not leverage the commits (2 records in 2 commits with the same primary key, it shows both instead of the later one)\r\nThis is weird.. What presto version are you running? Also be sure to provide the hoodie-hadoop-mr jar to presto workers/coordinators.\r\n\r\nFor Copy-on-write, hoodie support works without any need for a plugin. \r\n\r\nThis ticket is more for longer term.. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/402587239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/403078575","html_url":"https://github.com/apache/hudi/issues/81#issuecomment-403078575","issue_url":"https://api.github.com/repos/apache/hudi/issues/81","id":403078575,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzA3ODU3NQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T16:10:40Z","updated_at":"2018-07-06T16:10:40Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification, @vinothchandar. I guess it was due to my own local env set up.\r\n\r\nSo I fell back to local env set up in [quickstart](https://uber.github.io/hudi/quickstart.html) with hadoop-2.6.0-cdh5.4.7, hive-1.1.0-cdh5.4.7, presto 0.205 and dataset generated from HoodieJavaApp default options. Presto is working fine for `select count(*)` but when I tried to `select *`, I got the following error, no matter if I add hoodie-hadoop-mr-*.jar to the plugin or not:\r\n\r\n> java.lang.UnsupportedOperationException: com.facebook.presto.spi.type.DoubleType\r\n> \tat com.facebook.presto.spi.type.AbstractType.writeSlice(AbstractType.java:135)\r\n> \tat com.facebook.presto.hive.parquet.reader.ParquetBinaryColumnReader.readValue(ParquetBinaryColumnReader.java:55)\r\n> \tat com.facebook.presto.hive.parquet.reader.ParquetPrimitiveColumnReader.lambda$readValues$1(ParquetPrimitiveColumnReader.java:184)\r\n> \tat com.facebook.presto.hive.parquet.reader.ParquetPrimitiveColumnReader.processValues(ParquetPrimitiveColumnReader.java:204)\r\n> \tat com.facebook.presto.hive.parquet.reader.ParquetPrimitiveColumnReader.readValues(ParquetPrimitiveColumnReader.java:183)\r\n> \tat com.facebook.presto.hive.parquet.reader.ParquetPrimitiveColumnReader.readPrimitive(ParquetPrimitiveColumnReader.java:171)\r\n> \tat com.facebook.presto.hive.parquet.reader.ParquetReader.readPrimitive(ParquetReader.java:208)\r\n> \tat com.facebook.presto.hive.parquet.reader.ParquetReader.readColumnChunk(ParquetReader.java:258)\r\n> \tat com.facebook.presto.hive.parquet.reader.ParquetReader.readBlock(ParquetReader.java:241)\r\n> \tat com.facebook.presto.hive.parquet.ParquetPageSource$ParquetBlockLoader.load(ParquetPageSource.java:243)\r\n> \tat com.facebook.presto.hive.parquet.ParquetPageSource$ParquetBlockLoader.load(ParquetPageSource.java:221)\r\n> \tat com.facebook.presto.spi.block.LazyBlock.assureLoaded(LazyBlock.java:262)\r\n> \tat com.facebook.presto.spi.Page.assureLoaded(Page.java:244)\r\n> \tat com.facebook.presto.operator.TableScanOperator.getOutput(TableScanOperator.java:245)\r\n> \tat com.facebook.presto.operator.Driver.processInternal(Driver.java:373)\r\n> \tat com.facebook.presto.operator.Driver.lambda$processFor$8(Driver.java:282)\r\n> \tat com.facebook.presto.operator.Driver.tryWithLock(Driver.java:672)\r\n> \tat com.facebook.presto.operator.Driver.processFor(Driver.java:276)\r\n> \tat com.facebook.presto.execution.SqlTaskExecution$DriverSplitRunner.processFor(SqlTaskExecution.java:973)\r\n> \tat com.facebook.presto.execution.executor.PrioritizedSplitRunner.process(PrioritizedSplitRunner.java:162)\r\n> \tat com.facebook.presto.execution.executor.TaskExecutor$TaskRunner.run(TaskExecutor.java:477)\r\n> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> \tat java.lang.Thread.run(Thread.java:745)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/403078575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/403137080","html_url":"https://github.com/apache/hudi/issues/81#issuecomment-403137080","issue_url":"https://api.github.com/repos/apache/hudi/issues/81","id":403137080,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzEzNzA4MA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T20:21:09Z","updated_at":"2018-07-06T20:21:26Z","author_association":"CONTRIBUTOR","body":"Dug a little bit more, it seems presto is trying to decode the binary serialized parquet written by hudi into double, which will require a `DoubleType.writeSlice` call, which DoubleType does not implement and its parent class AbstractType will just throw `UnsupportedOperationException` upon `writeSlice` call. \r\n\r\nNot sure if the above holds true. If yes, all open source presto user with uber hudi will suffer the same issue? Wondering how this is resolved in Uber.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/403137080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404006512","html_url":"https://github.com/apache/hudi/pull/417#issuecomment-404006512","issue_url":"https://api.github.com/repos/apache/hudi/issues/417","id":404006512,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDAwNjUxMg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T00:25:18Z","updated_at":"2018-07-11T00:25:18Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar please review.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404006512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404358223","html_url":"https://github.com/apache/hudi/issues/410#issuecomment-404358223","issue_url":"https://api.github.com/repos/apache/hudi/issues/410","id":404358223,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDM1ODIyMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T01:12:04Z","updated_at":"2018-07-12T01:12:04Z","author_association":"MEMBER","body":"intial commit here..\r\n\r\nhttps://github.com/vinothchandar/hoodie/tree/rowpayload \r\n\r\nbut seems more involved, since the DiskBasedMap infrastructure assumes GenericRecords","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404358223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404536135","html_url":"https://github.com/apache/hudi/issues/81#issuecomment-404536135","issue_url":"https://api.github.com/repos/apache/hudi/issues/81","id":404536135,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDUzNjEzNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T14:41:06Z","updated_at":"2018-07-12T14:41:21Z","author_association":"MEMBER","body":"So, this does not seem like a Hudi issue to me. the parquet files generated by hudi are the same standard  parquet files. Can you try just copying the files themselves into another table (non-hudi) and see if it works..  Also validate that the parquet files are good via spark sql? \r\n\r\nAlso please feel free to open a new issue around this, since this one is about the presto plugin. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404536135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404613304","html_url":"https://github.com/apache/hudi/issues/16#issuecomment-404613304","issue_url":"https://api.github.com/repos/apache/hudi/issues/16","id":404613304,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDYxMzMwNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T18:50:18Z","updated_at":"2018-07-12T18:50:18Z","author_association":"MEMBER","body":"This is the dead code sitting in HoodieInputFormat \r\n\r\n```\r\n/**\r\n   * Clears out the filter expression (if this is not done, then ParquetReader will override the\r\n   * FilterPredicate set)\r\n   */\r\n  private void clearOutExistingPredicate(JobConf job) {\r\n    job.unset(TableScanDesc.FILTER_EXPR_CONF_STR);\r\n  }\r\n\r\n  /**\r\n   * Constructs the predicate to push down to parquet storage. This creates the predicate for\r\n   * `hoodie_commit_time` > 'start_commit_time' and ANDs with the existing predicate if one is\r\n   * present already.\r\n   */\r\n  private FilterPredicate constructHoodiePredicate(JobConf job, String tableName, InputSplit split)\r\n      throws IOException {\r\n    FilterPredicate commitTimePushdown = constructCommitTimePushdownPredicate(job, tableName);\r\n    LOG.info(\"Commit time predicate - \" + commitTimePushdown.toString());\r\n    FilterPredicate existingPushdown = constructHQLPushdownPredicate(job, split);\r\n    LOG.info(\"Existing predicate - \" + existingPushdown);\r\n\r\n    FilterPredicate hoodiePredicate;\r\n    if (existingPushdown != null) {\r\n      hoodiePredicate = and(existingPushdown, commitTimePushdown);\r\n    } else {\r\n      hoodiePredicate = commitTimePushdown;\r\n    }\r\n    LOG.info(\"Hoodie Predicate - \" + hoodiePredicate);\r\n    return hoodiePredicate;\r\n  }\r\n\r\n  private FilterPredicate constructHQLPushdownPredicate(JobConf job, InputSplit split)\r\n      throws IOException {\r\n    String serializedPushdown = job.get(TableScanDesc.FILTER_EXPR_CONF_STR);\r\n    String columnNamesString = job.get(ColumnProjectionUtils.READ_COLUMN_NAMES_CONF_STR);\r\n    if (serializedPushdown == null || columnNamesString == null || serializedPushdown.isEmpty()\r\n        || columnNamesString.isEmpty()) {\r\n      return null;\r\n    } else {\r\n      SearchArgument sarg = SearchArgumentFactory\r\n          .create(Utilities.deserializeExpression(serializedPushdown));\r\n      final Path finalPath = ((FileSplit) split).getPath();\r\n      final ParquetMetadata parquetMetadata = ParquetFileReader.readFooter(job, finalPath);\r\n      final FileMetaData fileMetaData = parquetMetadata.getFileMetaData();\r\n      return ParquetFilterPredicateConverter.toFilterPredicate(sarg, fileMetaData.getSchema());\r\n    }\r\n  }\r\n\r\n  private FilterPredicate constructCommitTimePushdownPredicate(JobConf job, String tableName)\r\n      throws IOException {\r\n    String lastIncrementalTs = HoodieHiveUtil.readStartCommitTime(Job.getInstance(job), tableName);\r\n    Operators.BinaryColumn sequenceColumn = binaryColumn(HoodieRecord.COMMIT_TIME_METADATA_FIELD);\r\n    FilterPredicate p = gt(sequenceColumn, Binary.fromString(lastIncrementalTs));\r\n    LOG.info(\"Setting predicate in InputFormat \" + p.toString());\r\n    return p;\r\n  }\r\n```\r\n\r\nThis also causes most of issues for Hive2 support, by bringing in some parquet-deps. Removing and simplifying life until we can fix this again. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404613304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404635023","html_url":"https://github.com/apache/hudi/issues/81#issuecomment-404635023","issue_url":"https://api.github.com/repos/apache/hudi/issues/81","id":404635023,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDYzNTAyMw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T20:09:08Z","updated_at":"2018-07-12T20:09:08Z","author_association":"CONTRIBUTOR","body":"Thanks for the info @vinothchandar \r\nI figured it out - missed `hive.parquet.use-column-names=true` in the presto hive config.\r\nNow everything is working!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404635023/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404635396","html_url":"https://github.com/apache/hudi/issues/81#issuecomment-404635396","issue_url":"https://api.github.com/repos/apache/hudi/issues/81","id":404635396,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDYzNTM5Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T20:10:28Z","updated_at":"2018-07-12T20:10:28Z","author_association":"MEMBER","body":"Nice to hear..  lets put together a hoodie docker container for the future.. Given so many dependencies, it can be overwhelming at times :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404635396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404659326","html_url":"https://github.com/apache/hudi/issues/81#issuecomment-404659326","issue_url":"https://api.github.com/repos/apache/hudi/issues/81","id":404659326,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY1OTMyNg==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T21:39:46Z","updated_at":"2018-07-12T21:39:46Z","author_association":"CONTRIBUTOR","body":"Totally agree. Any thoughts on which folder this should go?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/404659326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405152890","html_url":"https://github.com/apache/hudi/pull/420#issuecomment-405152890","issue_url":"https://api.github.com/repos/apache/hudi/issues/420","id":405152890,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTE1Mjg5MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T05:37:05Z","updated_at":"2018-07-16T05:37:05Z","author_association":"MEMBER","body":"@n3nash @bvaradar Need your inputs before we can head further down this path.. \r\n\r\nThis is an attempt to reset our dependencies to just apache and not cdh. Then we can create profiles to generate cdh builds as needed.. \r\nWill mention you in tricky spots.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405152890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405293313","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-405293313","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":405293313,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTI5MzMxMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T15:48:53Z","updated_at":"2018-07-16T15:48:53Z","author_association":"MEMBER","body":"Reading up more core.. Seems like the `toRdd` does happen for FileStreamSink, but at the FileFormatWriter level, where this is done within the a SQLExecution.. \r\n\r\nhttps://github.com/apache/spark/blob/branch-2.1/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/FileFormatWriter.scala#L127 \r\n\r\nNeed more understanding of the layering here. but, do you think it will work if we simply wrap the code within the following block? \r\n\r\n```\r\nSQLExecution.withNewExecutionId(sparkSession, queryExecution) {\r\n\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405293313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405294069","html_url":"https://github.com/apache/hudi/issues/81#issuecomment-405294069","issue_url":"https://api.github.com/repos/apache/hudi/issues/81","id":405294069,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTI5NDA2OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T15:51:11Z","updated_at":"2018-07-16T15:51:11Z","author_association":"MEMBER","body":"we can create a hoodie-docker and host all scripts and DockerFiles there ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405294069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405341155","html_url":"https://github.com/apache/hudi/pull/419#issuecomment-405341155","issue_url":"https://api.github.com/repos/apache/hudi/issues/419","id":405341155,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTM0MTE1NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T18:43:27Z","updated_at":"2018-07-16T18:43:27Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar please review.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405341155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405400439","html_url":"https://github.com/apache/hudi/pull/421#issuecomment-405400439","issue_url":"https://api.github.com/repos/apache/hudi/issues/421","id":405400439,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQwMDQzOQ==","user":{"login":"CLAassistant","id":11571300,"node_id":"MDQ6VXNlcjExNTcxMzAw","avatar_url":"https://avatars.githubusercontent.com/u/11571300?v=4","gravatar_id":"","url":"https://api.github.com/users/CLAassistant","html_url":"https://github.com/CLAassistant","followers_url":"https://api.github.com/users/CLAassistant/followers","following_url":"https://api.github.com/users/CLAassistant/following{/other_user}","gists_url":"https://api.github.com/users/CLAassistant/gists{/gist_id}","starred_url":"https://api.github.com/users/CLAassistant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CLAassistant/subscriptions","organizations_url":"https://api.github.com/users/CLAassistant/orgs","repos_url":"https://api.github.com/users/CLAassistant/repos","events_url":"https://api.github.com/users/CLAassistant/events{/privacy}","received_events_url":"https://api.github.com/users/CLAassistant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T22:25:24Z","updated_at":"2018-07-18T18:12:24Z","author_association":"NONE","body":"[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/uber/hudi?pullRequest=421) <br/>All committers have signed the CLA.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405400439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405400703","html_url":"https://github.com/apache/hudi/pull/421#issuecomment-405400703","issue_url":"https://api.github.com/repos/apache/hudi/issues/421","id":405400703,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQwMDcwMw==","user":{"login":"ovj","id":899843,"node_id":"MDQ6VXNlcjg5OTg0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/899843?v=4","gravatar_id":"","url":"https://api.github.com/users/ovj","html_url":"https://github.com/ovj","followers_url":"https://api.github.com/users/ovj/followers","following_url":"https://api.github.com/users/ovj/following{/other_user}","gists_url":"https://api.github.com/users/ovj/gists{/gist_id}","starred_url":"https://api.github.com/users/ovj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ovj/subscriptions","organizations_url":"https://api.github.com/users/ovj/orgs","repos_url":"https://api.github.com/users/ovj/repos","events_url":"https://api.github.com/users/ovj/events{/privacy}","received_events_url":"https://api.github.com/users/ovj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T22:26:51Z","updated_at":"2018-07-16T22:26:51Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar @n3nash @jianxu Can one of you please look at it?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405400703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405410020","html_url":"https://github.com/apache/hudi/pull/421#issuecomment-405410020","issue_url":"https://api.github.com/repos/apache/hudi/issues/421","id":405410020,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQxMDAyMA==","user":{"login":"ovj","id":899843,"node_id":"MDQ6VXNlcjg5OTg0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/899843?v=4","gravatar_id":"","url":"https://api.github.com/users/ovj","html_url":"https://github.com/ovj","followers_url":"https://api.github.com/users/ovj/followers","following_url":"https://api.github.com/users/ovj/following{/other_user}","gists_url":"https://api.github.com/users/ovj/gists{/gist_id}","starred_url":"https://api.github.com/users/ovj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ovj/subscriptions","organizations_url":"https://api.github.com/users/ovj/orgs","repos_url":"https://api.github.com/users/ovj/repos","events_url":"https://api.github.com/users/ovj/events{/privacy}","received_events_url":"https://api.github.com/users/ovj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T23:17:48Z","updated_at":"2018-07-16T23:17:48Z","author_association":"CONTRIBUTOR","body":"@bvaradar updated diff.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405410020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405418450","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-405418450","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":405418450,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQxODQ1MA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T00:09:28Z","updated_at":"2018-07-17T00:18:49Z","author_association":"CONTRIBUTOR","body":"ran a quick test on the following code but still got the same error, might need to dig a little bit more, there might be difference between `QueryExecution.toRdd` vs `DataSet.rdd`: \r\n```\r\n  override def addBatch(batchId: Long, data: DataFrame): Unit = {\r\n    logInfo(\"New algorithms!\")\r\n    SQLExecution.withNewExecutionId(sqlContext.sparkSession, data.queryExecution)(\r\n      createRelation(\r\n        sqlContext,\r\n        mode,\r\n        options,\r\n        data)\r\n    )\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405418450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405418844","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-405418844","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":405418844,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQxODg0NA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T00:11:36Z","updated_at":"2018-07-17T00:11:36Z","author_association":"CONTRIBUTOR","body":"> 2018-07-17 00:08:36 INFO  HudiFileStreamSink:54 - New algorithms!\r\n> 2018-07-17 00:08:36 ERROR MicroBatchExecution:91 - Query [id = 6a824c30-9f3f-49d1-9f88-e6ddbd5ddfed, runId = 261909e8-139e-4464-8837-109b054a18f9] terminated with error\r\n> org.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();;\r\n> LogicalRDD [key#141, value#142, topic#143, partition#144, offset#145L, timestamp#146, timestampType#147], true\r\n> \r\n> \tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.org$apache$spark$sql$catalyst$analysis$UnsupportedOperationChecker$$throwError(UnsupportedOperationChecker.scala:374)\r\n> \tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$$anonfun$checkForBatch$1.apply(UnsupportedOperationChecker.scala:37)\r\n> \tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$$anonfun$checkForBatch$1.apply(UnsupportedOperationChecker.scala:35)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:127)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$foreachUp$1.apply(TreeNode.scala:126)\r\n> \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n> \tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:126)\r\n> \tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.checkForBatch(UnsupportedOperationChecker.scala:35)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.assertSupported(QueryExecution.scala:51)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.withCachedData$lzycompute(QueryExecution.scala:62)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.withCachedData(QueryExecution.scala:60)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.optimizedPlan$lzycompute(QueryExecution.scala:66)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.optimizedPlan(QueryExecution.scala:66)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.sparkPlan$lzycompute(QueryExecution.scala:72)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.sparkPlan(QueryExecution.scala:68)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.executedPlan$lzycompute(QueryExecution.scala:77)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.executedPlan(QueryExecution.scala:77)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:80)\r\n> \tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:80)\r\n> \tat org.apache.spark.sql.Dataset.rdd$lzycompute(Dataset.scala:2975)\r\n> \tat org.apache.spark.sql.Dataset.rdd(Dataset.scala:2973)\r\n> \tat com.uber.hoodie.AvroConversionUtils$.createRdd(AvroConversionUtils.scala:37)\r\n> \tat com.uber.hoodie.DefaultSource.createRelation(DefaultSource.scala:160)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405418844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405425233","html_url":"https://github.com/apache/hudi/pull/413#issuecomment-405425233","issue_url":"https://api.github.com/repos/apache/hudi/issues/413","id":405425233,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQyNTIzMw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T00:55:44Z","updated_at":"2018-07-17T00:55:44Z","author_association":"CONTRIBUTOR","body":"@n3nash @vinothchandar : As we have been testing Async Compaction in staging without this diff for sometime now, Can we wait for async compaction diff to land first before we merge this diff. It also helps me avoid doing numerous rebases to make the Async Compaction Stacked diffs consistent. \r\n\r\nBalaji.V","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405425233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405666649","html_url":"https://github.com/apache/hudi/pull/419#issuecomment-405666649","issue_url":"https://api.github.com/repos/apache/hudi/issues/419","id":405666649,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY2NjY0OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:42:45Z","updated_at":"2018-07-17T17:42:45Z","author_association":"CONTRIBUTOR","body":"@bvaradar Added comments, let @vinothchandar if it's ready to be merged, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405666649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405667022","html_url":"https://github.com/apache/hudi/pull/421#issuecomment-405667022","issue_url":"https://api.github.com/repos/apache/hudi/issues/421","id":405667022,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY2NzAyMg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:43:56Z","updated_at":"2018-07-17T17:43:56Z","author_association":"CONTRIBUTOR","body":"LGTM otherwise.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405667022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405669805","html_url":"https://github.com/apache/hudi/pull/413#issuecomment-405669805","issue_url":"https://api.github.com/repos/apache/hudi/issues/413","id":405669805,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY2OTgwNQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:52:53Z","updated_at":"2018-07-17T17:52:53Z","author_association":"CONTRIBUTOR","body":"@bvaradar I'm fine waiting till your diff gets landed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405669805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405697020","html_url":"https://github.com/apache/hudi/pull/417#issuecomment-405697020","issue_url":"https://api.github.com/repos/apache/hudi/issues/417","id":405697020,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY5NzAyMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T19:17:28Z","updated_at":"2018-07-17T19:17:28Z","author_association":"CONTRIBUTOR","body":"@bvaradar Addressed your concerns, please let @vinothchandar know if it's ready to merge.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405697020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405766117","html_url":"https://github.com/apache/hudi/issues/423#issuecomment-405766117","issue_url":"https://api.github.com/repos/apache/hudi/issues/423","id":405766117,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTc2NjExNw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T00:04:59Z","updated_at":"2018-07-18T00:04:59Z","author_association":"CONTRIBUTOR","body":"Nvm. Figured out by running a test by myself. Closing","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405766117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405766354","html_url":"https://github.com/apache/hudi/issues/423#issuecomment-405766354","issue_url":"https://api.github.com/repos/apache/hudi/issues/423","id":405766354,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTc2NjM1NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T00:06:19Z","updated_at":"2018-07-18T00:06:19Z","author_association":"CONTRIBUTOR","body":"@leletan So, the HoodieRecord is composed of HoodieKey which is {Key, PartitionPath}. The key + partition path determine the uniqueness of a particular row. So, if you have 2 different partitions for the same key, then they will end up in different partitions. \r\nAlthough, hoodie provides the ability to dedup across batches for the same {key, partition} tuple.\r\nGiven the above explanation, the upsert() primitive is meant to combine the value on disk with the value in the batch being ingested.\r\nIf you update column for partition, this will mean that you are altering the HoodieKey in which case you will end up with a duplicate. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405766354/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405768736","html_url":"https://github.com/apache/hudi/issues/424#issuecomment-405768736","issue_url":"https://api.github.com/repos/apache/hudi/issues/424","id":405768736,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTc2ODczNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T00:20:09Z","updated_at":"2018-07-18T00:20:09Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405768736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405796894","html_url":"https://github.com/apache/hudi/issues/424#issuecomment-405796894","issue_url":"https://api.github.com/repos/apache/hudi/issues/424","id":405796894,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTc5Njg5NA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T03:23:54Z","updated_at":"2018-07-18T03:23:54Z","author_association":"CONTRIBUTOR","body":"@n3nash : @vinothchandar and myself discussed about this. We think there is an option which would not force an upgrade while keeping Hoodie OSS clean. \r\n\r\nThe idea is to have Komondor identify the file-Ids where new records are inserted and force a future compaction by creating an empty log file before we commit. Once, all the clients have eventually upgraded to latest jars, we can remove this from Komondor. \r\n\r\nCurrently HoodieIOHandles do not track \"inserts during merging/compacting\" (but we track updates and deletes). This is a good metric to be added to Hoodie (in HoodieMergeHandle.close() and also in HoodieCreateHandle). Komondor can inspect this metric from WriteStatusRDD returned by upsert and create empty log-files for those HoodieWriteStats whose path points to parquet and insertsDuringMerge > 0. This needs to be done only for ingestion path and not for async compaction.\r\n\r\nIf the commit gets rollback, the rollback logic should remove the empty log-file along with the parquet file.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405796894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405808362","html_url":"https://github.com/apache/hudi/issues/424#issuecomment-405808362","issue_url":"https://api.github.com/repos/apache/hudi/issues/424","id":405808362,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTgwODM2Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T04:52:57Z","updated_at":"2018-07-18T04:54:06Z","author_association":"CONTRIBUTOR","body":"@bvaradar @vinothchandar That's also an alternative option. Although, this option seems much more complex and laced with scope for bugs with custom handling of creation of log files, rollback etc on the client. I would rather avoid such complex logic to lie in ingestion jobs making reasoning of code difficult. \r\nI agree with tracking inserts during merging/compacting in HoodieMergeHandle. \r\nI propose the following : \r\nLet's further think about \"Force a dummy compaction for such file ids\" option that I mentioned above and see if there are any obvious problems. If not, I will go ahead and make those changes in our hoodie internal repo. We can keep this change in the internal repo until all jars are updated. Let me know how that sounds to you guys.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405808362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405810488","html_url":"https://github.com/apache/hudi/issues/423#issuecomment-405810488","issue_url":"https://api.github.com/repos/apache/hudi/issues/423","id":405810488,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTgxMDQ4OA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T05:08:12Z","updated_at":"2018-07-18T05:08:12Z","author_association":"CONTRIBUTOR","body":"@n3nash Thanks for the explanation!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/405810488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/406407353","html_url":"https://github.com/apache/hudi/pull/421#issuecomment-406407353","issue_url":"https://api.github.com/repos/apache/hudi/issues/421","id":406407353,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjQwNzM1Mw==","user":{"login":"ovj","id":899843,"node_id":"MDQ6VXNlcjg5OTg0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/899843?v=4","gravatar_id":"","url":"https://api.github.com/users/ovj","html_url":"https://github.com/ovj","followers_url":"https://api.github.com/users/ovj/followers","following_url":"https://api.github.com/users/ovj/following{/other_user}","gists_url":"https://api.github.com/users/ovj/gists{/gist_id}","starred_url":"https://api.github.com/users/ovj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ovj/subscriptions","organizations_url":"https://api.github.com/users/ovj/orgs","repos_url":"https://api.github.com/users/ovj/repos","events_url":"https://api.github.com/users/ovj/events{/privacy}","received_events_url":"https://api.github.com/users/ovj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T20:40:26Z","updated_at":"2018-07-19T20:40:26Z","author_association":"CONTRIBUTOR","body":"Thank you all.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/406407353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/406411162","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-406411162","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":406411162,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjQxMTE2Mg==","user":{"login":"CLAassistant","id":11571300,"node_id":"MDQ6VXNlcjExNTcxMzAw","avatar_url":"https://avatars.githubusercontent.com/u/11571300?v=4","gravatar_id":"","url":"https://api.github.com/users/CLAassistant","html_url":"https://github.com/CLAassistant","followers_url":"https://api.github.com/users/CLAassistant/followers","following_url":"https://api.github.com/users/CLAassistant/following{/other_user}","gists_url":"https://api.github.com/users/CLAassistant/gists{/gist_id}","starred_url":"https://api.github.com/users/CLAassistant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CLAassistant/subscriptions","organizations_url":"https://api.github.com/users/CLAassistant/orgs","repos_url":"https://api.github.com/users/CLAassistant/repos","events_url":"https://api.github.com/users/CLAassistant/events{/privacy}","received_events_url":"https://api.github.com/users/CLAassistant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T20:54:29Z","updated_at":"2018-08-20T23:12:55Z","author_association":"NONE","body":"[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/uber/hudi?pullRequest=427) <br/>All committers have signed the CLA.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/406411162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/406941937","html_url":"https://github.com/apache/hudi/issues/403#issuecomment-406941937","issue_url":"https://api.github.com/repos/apache/hudi/issues/403","id":406941937,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjk0MTkzNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T05:17:47Z","updated_at":"2018-07-23T05:17:47Z","author_association":"MEMBER","body":"Above issues seem like real issues with placing config files on dfs. Talking with lena over slack, there is an additional ask for support for parquet files as source. \r\nCurrently, there are concepts of source (kafka,dfs etc) and format (avro, json), I think it better to just support pulling from spark sources in a general sense. So expanding scope of this bit more and work on this. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/406941937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407102781","html_url":"https://github.com/apache/hudi/pull/420#issuecomment-407102781","issue_url":"https://api.github.com/repos/apache/hudi/issues/420","id":407102781,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzEwMjc4MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T15:40:31Z","updated_at":"2018-07-23T15:40:31Z","author_association":"MEMBER","body":"@n3nash do you know anything about this test failure? \r\n\r\n```\r\ntestRollbackWithDeltaAndCompactionCommit(com.uber.hoodie.table.TestMergeOnReadTable)  Time elapsed: 7.575 sec  <<< ERROR!\r\njava.lang.NullPointerException\r\n        at com.uber.hoodie.table.TestMergeOnReadTable.testRollbackWithDeltaAndCompactionCommit(TestMergeOnReadTable.java:504)\r\n```\r\n\r\nSucceeds locally, but keeps failing in CI ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407102781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407140738","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-407140738","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":407140738,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzE0MDczOA==","user":{"login":"SemanticBeeng","id":9296536,"node_id":"MDQ6VXNlcjkyOTY1MzY=","avatar_url":"https://avatars.githubusercontent.com/u/9296536?v=4","gravatar_id":"","url":"https://api.github.com/users/SemanticBeeng","html_url":"https://github.com/SemanticBeeng","followers_url":"https://api.github.com/users/SemanticBeeng/followers","following_url":"https://api.github.com/users/SemanticBeeng/following{/other_user}","gists_url":"https://api.github.com/users/SemanticBeeng/gists{/gist_id}","starred_url":"https://api.github.com/users/SemanticBeeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SemanticBeeng/subscriptions","organizations_url":"https://api.github.com/users/SemanticBeeng/orgs","repos_url":"https://api.github.com/users/SemanticBeeng/repos","events_url":"https://api.github.com/users/SemanticBeeng/events{/privacy}","received_events_url":"https://api.github.com/users/SemanticBeeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T17:39:26Z","updated_at":"2018-08-01T06:16:34Z","author_association":"NONE","body":"@vinothchandar - please add semanticbeeng - thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407140738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407540145","html_url":"https://github.com/apache/hudi/issues/424#issuecomment-407540145","issue_url":"https://api.github.com/repos/apache/hudi/issues/424","id":407540145,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzU0MDE0NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T20:25:05Z","updated_at":"2018-07-24T20:25:05Z","author_association":"CONTRIBUTOR","body":"@vinothchandar looping you in again, PTAL","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407540145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407540356","html_url":"https://github.com/apache/hudi/issues/418#issuecomment-407540356","issue_url":"https://api.github.com/repos/apache/hudi/issues/418","id":407540356,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzU0MDM1Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T20:25:53Z","updated_at":"2018-07-24T20:25:53Z","author_association":"CONTRIBUTOR","body":"Fixed as part of https://github.com/uber/hudi/pull/419","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407540356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407545319","html_url":"https://github.com/apache/hudi/pull/420#issuecomment-407545319","issue_url":"https://api.github.com/repos/apache/hudi/issues/420","id":407545319,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzU0NTMxOQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T20:42:53Z","updated_at":"2018-07-24T20:42:53Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Looked at the failing test case. As you mentioned, it passes locally and do not see an apparent reason for it to fail. If you get a chance, please try adding some logs/try-catch to `HoodieMergeOnReadTestUtils.getRecordsUsingInputFormat` seems like its failing there, else will have to dig deeper.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407545319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407922152","html_url":"https://github.com/apache/hudi/issues/423#issuecomment-407922152","issue_url":"https://api.github.com/repos/apache/hudi/issues/423","id":407922152,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzkyMjE1Mg==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T22:55:32Z","updated_at":"2018-07-25T22:55:32Z","author_association":"CONTRIBUTOR","body":"@n3nash is there a good way to dedup based on key across the partition in hudi?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407922152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407924809","html_url":"https://github.com/apache/hudi/issues/423#issuecomment-407924809","issue_url":"https://api.github.com/repos/apache/hudi/issues/423","id":407924809,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzkyNDgwOQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T23:09:40Z","updated_at":"2018-07-25T23:09:40Z","author_association":"CONTRIBUTOR","body":"@leletan There is no way to dedup across partitions but you can dedup within a partition. As mentioned, HoodieKey is the lowest granularity of dedup, a HoodieKey consists of {UUID, partition-path} and if you have the same UUID across different partition paths, they are treated as different rows. What's your use-case ? May be I can suggest other workarounds.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407924809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407926079","html_url":"https://github.com/apache/hudi/issues/423#issuecomment-407926079","issue_url":"https://api.github.com/repos/apache/hudi/issues/423","id":407926079,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzkyNjA3OQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T23:16:40Z","updated_at":"2018-07-25T23:16:40Z","author_association":"CONTRIBUTOR","body":"Thanks for the info @n3nash. \r\nHere is our use case, it should be pretty common:\r\nWe are logging events from servers with event_id but not guaranteed to be exactly once delivery, and we need to partition them into daily partition folders. Is there an easy way to guarantee the uniqueness on the event_id across all partitions?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407926079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407937755","html_url":"https://github.com/apache/hudi/issues/424#issuecomment-407937755","issue_url":"https://api.github.com/repos/apache/hudi/issues/424","id":407937755,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzkzNzc1NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-26T00:27:04Z","updated_at":"2018-07-26T00:27:04Z","author_association":"MEMBER","body":"> laced with scope for bugs with custom handling of creation of log files, rollback etc on the client. \r\nI don't think we would do any custom creation of logs. But simply identify one record in these file groups and generate an artificial update. \r\n\r\nEnd of the day, there needs to be some logic for detecting these left over files. It matters less how the compaction is forced - via synthetic traffic or part compaction selection. \r\n\r\n@n3nash if you can share the logic for selecting these files with all our constraints like \r\n   - Don't keep selecting a FileGroup without any log files, that was just recently compacted\r\n   - Do this well, while respecting activetimeline and handling cases where this file id's instant time in the archived timeline\r\n\r\nOverall approach sounds doable to me. \r\n  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/407937755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409301931","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-409301931","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":409301931,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTMwMTkzMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T17:26:26Z","updated_at":"2018-07-31T17:26:26Z","author_association":"MEMBER","body":"Done","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409301931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409353167","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-409353167","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":409353167,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTM1MzE2Nw==","user":{"login":"SemanticBeeng","id":9296536,"node_id":"MDQ6VXNlcjkyOTY1MzY=","avatar_url":"https://avatars.githubusercontent.com/u/9296536?v=4","gravatar_id":"","url":"https://api.github.com/users/SemanticBeeng","html_url":"https://github.com/SemanticBeeng","followers_url":"https://api.github.com/users/SemanticBeeng/followers","following_url":"https://api.github.com/users/SemanticBeeng/following{/other_user}","gists_url":"https://api.github.com/users/SemanticBeeng/gists{/gist_id}","starred_url":"https://api.github.com/users/SemanticBeeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SemanticBeeng/subscriptions","organizations_url":"https://api.github.com/users/SemanticBeeng/orgs","repos_url":"https://api.github.com/users/SemanticBeeng/repos","events_url":"https://api.github.com/users/SemanticBeeng/events{/privacy}","received_events_url":"https://api.github.com/users/SemanticBeeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T20:15:35Z","updated_at":"2018-07-31T21:39:44Z","author_association":"NONE","body":"thanks - cannot see an actual invite and trying to find a way to join without. :thinking: \r\nSlack id is `semanticbeeng`.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409353167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409395091","html_url":"https://github.com/apache/hudi/issues/424#issuecomment-409395091","issue_url":"https://api.github.com/repos/apache/hudi/issues/424","id":409395091,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTM5NTA5MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T23:00:10Z","updated_at":"2018-08-06T20:30:14Z","author_association":"CONTRIBUTOR","body":"> Don't keep selecting a FileGroup without any log files, that was just recently compacted\r\n\r\nSo, in this scenario, we will have a commitTime for the datafile associated to the commit Timeline and we will filter out such file ids.\r\n\r\n> Do this well, while respecting activetimeline and handling cases where this file id's instant time in the archived timeline\r\n\r\nIf it's in the archived timeline, the query will automatically work since the commit time will be earlier than the earliest commit timeline in the active timeline and wee will not choose this for compaction as well. \r\n\r\nSnippet of code that takes care of this\r\n\r\n```\r\n  // Return true if the particular parquet file does not have a corresponding COMMIT action\r\n  // Also, check if the commitTime is earlier than the earliest available commit, if yes, then it will automatically\r\n  // get picked up in the HoodieInputFormat during query so we can avoid compacting base parquet repeatedly\r\n  private boolean isParquetWrittenFromDeltaCommit(List<String> allCommits, String earliestCommit, CompactionOperation\r\n      compactionOperation) {\r\n    String commitTime = compactionOperation.getBaseInstantTime();\r\n    return !allCommits.contains(commitTime) && HoodieTimeline.compareTimestamps(commitTime, earliestCommit,\r\n        HoodieTimeline.GREATER_OR_EQUAL);\r\n  }\r\n```\r\n\r\n@vinothchandar FYI","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409395091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409447758","html_url":"https://github.com/apache/hudi/issues/393#issuecomment-409447758","issue_url":"https://api.github.com/repos/apache/hudi/issues/393","id":409447758,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTQ0Nzc1OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T04:44:28Z","updated_at":"2018-08-01T04:44:28Z","author_association":"MEMBER","body":"Without this aggregation queries could be incorrect with default settings of Hive. \r\n\r\nhttps://community.hortonworks.com/content/supportkb/150059/how-to-set-hive-select-count-to-return-results-wit.html \r\n\r\n@bvaradar this is one more thing to test.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409447758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409451018","html_url":"https://github.com/apache/hudi/issues/393#issuecomment-409451018","issue_url":"https://api.github.com/repos/apache/hudi/issues/393","id":409451018,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTQ1MTAxOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T05:08:27Z","updated_at":"2018-08-01T05:08:27Z","author_association":"MEMBER","body":"First thing to try : disable stats and ensure count(*), avg, groupBy, projection, filtering, self join.  - these things are correct. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409451018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409451486","html_url":"https://github.com/apache/hudi/issues/123#issuecomment-409451486","issue_url":"https://api.github.com/repos/apache/hudi/issues/123","id":409451486,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTQ1MTQ4Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T05:11:23Z","updated_at":"2018-08-01T05:11:23Z","author_association":"MEMBER","body":"#262 is related, in terms of API we want to package this under","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409451486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409453351","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-409453351","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":409453351,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTQ1MzM1MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T05:24:40Z","updated_at":"2018-08-01T05:24:40Z","author_association":"MEMBER","body":"It does say - \"This person has already been invited to your workspace\" :( when I check now. Any chance its in your spam folder?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409453351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409461483","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-409461483","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":409461483,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTQ2MTQ4Mw==","user":{"login":"SemanticBeeng","id":9296536,"node_id":"MDQ6VXNlcjkyOTY1MzY=","avatar_url":"https://avatars.githubusercontent.com/u/9296536?v=4","gravatar_id":"","url":"https://api.github.com/users/SemanticBeeng","html_url":"https://github.com/SemanticBeeng","followers_url":"https://api.github.com/users/SemanticBeeng/followers","following_url":"https://api.github.com/users/SemanticBeeng/following{/other_user}","gists_url":"https://api.github.com/users/SemanticBeeng/gists{/gist_id}","starred_url":"https://api.github.com/users/SemanticBeeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SemanticBeeng/subscriptions","organizations_url":"https://api.github.com/users/SemanticBeeng/orgs","repos_url":"https://api.github.com/users/SemanticBeeng/repos","events_url":"https://api.github.com/users/SemanticBeeng/events{/privacy}","received_events_url":"https://api.github.com/users/SemanticBeeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T06:15:57Z","updated_at":"2018-08-01T06:15:57Z","author_association":"NONE","body":"No, I checked thoroughly already.\r\nBut found a way in: asked for a password reset.\r\n> First, join hoodie to set your password; You asked us for a password reset link for  ...It turns out that your email address doesnt have an account for that workspace yet, so theres no password to reset. Good news, though  youve been invited to join that workspace! \r\n\r\nA bit strange but I am in now. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409461483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409653238","html_url":"https://github.com/apache/hudi/issues/423#issuecomment-409653238","issue_url":"https://api.github.com/repos/apache/hudi/issues/423","id":409653238,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTY1MzIzOA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T17:21:02Z","updated_at":"2018-08-01T17:21:02Z","author_association":"CONTRIBUTOR","body":"@leletan So if you think about it, guaranteeing uniqueness across all partitions is sort of a whole dataset scan that can be pretty expensive (even with indexes etc). At the moment, you can use the HoodieReadClient.filterExists() to check for uniqueness with same `HoodieKey` and that way dedup all hoodie records with an already present hoodie key. But again, HoodieKey ] {UUID, partitionpath} so if you have the same UUID with different partition paths this will not work. You will need to \"tag\" the UUID with the same partition path. Hope that makes sense. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409653238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409716424","html_url":"https://github.com/apache/hudi/issues/423#issuecomment-409716424","issue_url":"https://api.github.com/repos/apache/hudi/issues/423","id":409716424,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTcxNjQyNA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T20:45:09Z","updated_at":"2018-08-01T20:45:09Z","author_association":"CONTRIBUTOR","body":"Thanks @n3nash . Please correct me if I am wrong:\r\nLikely Hoodie is not the right tool to dedup globally at scale, might need to add another layer of kv lookup cache before hoodie.\r\nWondering if uber has the same use case and if yes how to deal with this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/409716424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410024800","html_url":"https://github.com/apache/hudi/issues/430#issuecomment-410024800","issue_url":"https://api.github.com/repos/apache/hudi/issues/430","id":410024800,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDAyNDgwMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T18:31:22Z","updated_at":"2018-08-02T18:31:22Z","author_association":"MEMBER","body":"Need to check if we can add an footer to an existing parquet file without rewriting it. \r\n\r\n@bvaradar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410024800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410081682","html_url":"https://github.com/apache/hudi/issues/8#issuecomment-410081682","issue_url":"https://api.github.com/repos/apache/hudi/issues/8","id":410081682,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA4MTY4Mg==","user":{"login":"vectorijk","id":3419881,"node_id":"MDQ6VXNlcjM0MTk4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3419881?v=4","gravatar_id":"","url":"https://api.github.com/users/vectorijk","html_url":"https://github.com/vectorijk","followers_url":"https://api.github.com/users/vectorijk/followers","following_url":"https://api.github.com/users/vectorijk/following{/other_user}","gists_url":"https://api.github.com/users/vectorijk/gists{/gist_id}","starred_url":"https://api.github.com/users/vectorijk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vectorijk/subscriptions","organizations_url":"https://api.github.com/users/vectorijk/orgs","repos_url":"https://api.github.com/users/vectorijk/repos","events_url":"https://api.github.com/users/vectorijk/events{/privacy}","received_events_url":"https://api.github.com/users/vectorijk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T22:01:34Z","updated_at":"2018-08-02T22:01:34Z","author_association":"CONTRIBUTOR","body":"I am from Beam Community. Love to see if there is any process on this issue. Also, I would love to give some my help on this one.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410081682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410102988","html_url":"https://github.com/apache/hudi/pull/390#issuecomment-410102988","issue_url":"https://api.github.com/repos/apache/hudi/issues/390","id":410102988,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDEwMjk4OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T23:55:55Z","updated_at":"2018-08-02T23:55:55Z","author_association":"CONTRIBUTOR","body":"@n3nash : Replied to your comments. \r\n\r\nThis is good to be landed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410102988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410103458","html_url":"https://github.com/apache/hudi/pull/390#issuecomment-410103458","issue_url":"https://api.github.com/repos/apache/hudi/issues/390","id":410103458,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDEwMzQ1OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T23:59:19Z","updated_at":"2018-08-02T23:59:19Z","author_association":"CONTRIBUTOR","body":"@vinothchandar We have run multiple tests with this diff and fixed some issues. I think at this point, this diff is ready to be landed. In case we hit a bug, we can tackle it on a one-off basis.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410103458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410402787","html_url":"https://github.com/apache/hudi/pull/404#issuecomment-410402787","issue_url":"https://api.github.com/repos/apache/hudi/issues/404","id":410402787,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDQwMjc4Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T23:44:45Z","updated_at":"2018-08-03T23:45:35Z","author_association":"CONTRIBUTOR","body":"@n3nash : I have addressed most of the review comments from you and @vinothchandar found in various Async compaction PRs (in my fork). (Have replied to each comment to keep track of the comments addressed). I have not addressed comments around refactoring HoodieWriteClient/HoodieCleanHelper alone( there is an issue opened for this).  Please review and let @vinothchandar and myself know about your comments. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410402787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410843378","html_url":"https://github.com/apache/hudi/issues/424#issuecomment-410843378","issue_url":"https://api.github.com/repos/apache/hudi/issues/424","id":410843378,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg0MzM3OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T20:31:01Z","updated_at":"2018-08-06T20:31:01Z","author_association":"MEMBER","body":"Looks okay to me. lets revisit again based on some testing resutls","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410843378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410844816","html_url":"https://github.com/apache/hudi/issues/423#issuecomment-410844816","issue_url":"https://api.github.com/repos/apache/hudi/issues/423","id":410844816,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg0NDgxNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T20:36:15Z","updated_at":"2018-08-06T20:36:15Z","author_association":"MEMBER","body":"For large log scale data feeds (think Kafka/Kinesis events), actually a kv store may also be a hard thing to pull off. For database feeds, we have a HBaseIndex which does what you described. Its a tradeoff - \r\na) HoodieBloomIndex  - does not support dedup globally (mostly coz we thought it would be expensive, you can make it do that depending on your datasets), but no extra operational overhead\r\nb) HBaseIndex - global dedup, but you need to make sure you can operate the datastore really well without dataloss and its okay to take on the operational load. \r\n\r\nhope that makes sense ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410844816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410846069","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-410846069","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":410846069,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg0NjA2OQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T20:40:33Z","updated_at":"2018-08-06T20:40:33Z","author_association":"CONTRIBUTOR","body":"More findings:\r\nit seems the FileFormatWriter.write(...) in [spark 2.3](https://github.com/apache/spark/blob/branch-2.3/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/FileFormatWriter.scala#L127) is quite different from spark 2.1 now. There is no longer `.toRdd` any more in the code. \r\n\r\nFor `FileFormatWriter.write(...)` in Spark 2.3, it seems they played the trick of calling `df.queryExecution.executedPlan.execute()` to generate RDD instead of calling `df.rdd()`. \r\n\r\nHowever it seems there might be reasons they made `.toRdd` so hard to use in structured streaming. One of them might be data ordering, as they did quite [something](https://github.com/apache/spark/blob/branch-2.3/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/FileFormatWriter.scala#L159) with `outputOrdering` in the plan before calling the `execute().` Not sure if there is any other reasons.\r\n\r\nWe may wrap the same logic in a function and call it instead of calling `df.rdd`, but approach this seems a little bit hacky. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410846069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410847243","html_url":"https://github.com/apache/hudi/issues/8#issuecomment-410847243","issue_url":"https://api.github.com/repos/apache/hudi/issues/8","id":410847243,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg0NzI0Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T20:44:59Z","updated_at":"2018-08-06T20:44:59Z","author_association":"MEMBER","body":"Hi @vectorijk, the idea here was to see if we can \r\n\r\n- Build a `HoodieIO` - that can support streaming semantics on data in hdfs/s3/gcs in a standard way. There is nt one now IIAC\r\n- Potentially use Hoodie to manage intermediate state to publish corrections. \r\n\r\nThen, we could support three style of pipelines : Streaming, Incremental, Batch - to make the spectrum of pipeline latencies more continuous . More here. https://www.oreilly.com/ideas/ubers-case-for-incremental-processing-on-hadoop  \r\n\r\nThat said, this is not being actively prioritized. We are mostly focussing on the next generation of hoodie storage/async compactions/usability cleanups and such.. \r\n\r\nLove to take contributions! we can add a `hoodie-beam` module. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410847243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410849040","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-410849040","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":410849040,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg0OTA0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T20:51:43Z","updated_at":"2018-08-06T20:51:43Z","author_association":"MEMBER","body":"yeah. do you know of a guide to write structured streaming sources? Seems like we are guessing a lot of these things based on code :) \r\n\r\nWhen I met td/spark folks a while back, they actually suggested this work.. :) may be I can try reaching out and asking again","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410849040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410856345","html_url":"https://github.com/apache/hudi/issues/261#issuecomment-410856345","issue_url":"https://api.github.com/repos/apache/hudi/issues/261","id":410856345,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg1NjM0NQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T21:19:22Z","updated_at":"2018-08-06T21:19:22Z","author_association":"CONTRIBUTOR","body":"I am eager to know where to find such a guide, too. Would love to hear if you get something from the td/spark folks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410856345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410874894","html_url":"https://github.com/apache/hudi/pull/404#issuecomment-410874894","issue_url":"https://api.github.com/repos/apache/hudi/issues/404","id":410874894,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg3NDg5NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T22:38:05Z","updated_at":"2018-08-06T22:38:36Z","author_association":"CONTRIBUTOR","body":"@bvaradar Just went over all the comments, did not do a full pass at the code again since not much has changed as I understand. Left a couple of comments that need some discussion rest LGTM after which @vinothchandar can merge it!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410874894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410893231","html_url":"https://github.com/apache/hudi/pull/404#issuecomment-410893231","issue_url":"https://api.github.com/repos/apache/hudi/issues/404","id":410893231,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg5MzIzMQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T00:20:50Z","updated_at":"2018-08-07T00:20:50Z","author_association":"CONTRIBUTOR","body":"@n3nash : Have replied to your comments in the individual PRs.  If you are ok with them, lets merge and close this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410893231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410895342","html_url":"https://github.com/apache/hudi/pull/404#issuecomment-410895342","issue_url":"https://api.github.com/repos/apache/hudi/issues/404","id":410895342,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg5NTM0Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T00:36:07Z","updated_at":"2018-08-07T00:36:07Z","author_association":"CONTRIBUTOR","body":"@bvaradar @vinothchandar Looks good to be merged, finally! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410895342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410895655","html_url":"https://github.com/apache/hudi/pull/390#issuecomment-410895655","issue_url":"https://api.github.com/repos/apache/hudi/issues/390","id":410895655,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDg5NTY1NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T00:38:20Z","updated_at":"2018-08-07T00:38:20Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of PR https://github.com/uber/hudi/pull/404","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/410895655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411094732","html_url":"https://github.com/apache/hudi/pull/404#issuecomment-411094732","issue_url":"https://api.github.com/repos/apache/hudi/issues/404","id":411094732,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA5NDczMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T15:20:00Z","updated_at":"2018-08-07T15:20:00Z","author_association":"MEMBER","body":"Awesome, done!! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411094732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411228840","html_url":"https://github.com/apache/hudi/pull/434#issuecomment-411228840","issue_url":"https://api.github.com/repos/apache/hudi/issues/434","id":411228840,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTIyODg0MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T22:56:19Z","updated_at":"2018-08-07T22:56:19Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar Alternatively, we could change the meaning of updatedRecordsWritten to exclude counting any inserts converted into updates. That way, insertsWrittenAsUpdates = recordsWritten - updatedRecordsWritten. But this changes the current behavior of `updatedRecordsWritten` and I am skeptical to do this since clients may be using it based on the current meaning. (I know our internal ingestion job does)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411228840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]