[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729381641","html_url":"https://github.com/apache/hudi/pull/2176#issuecomment-729381641","issue_url":"https://api.github.com/repos/apache/hudi/issues/2176","id":729381641,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTM4MTY0MQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T03:44:36Z","updated_at":"2020-11-18T03:44:36Z","author_association":"CONTRIBUTOR","body":"Hi, @yanghua @leesf @garyli1019 \r\nany other concern here? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729381641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729388266","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-729388266","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":729388266,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTM4ODI2Ng==","user":{"login":"chongchongzi","id":20510737,"node_id":"MDQ6VXNlcjIwNTEwNzM3","avatar_url":"https://avatars.githubusercontent.com/u/20510737?v=4","gravatar_id":"","url":"https://api.github.com/users/chongchongzi","html_url":"https://github.com/chongchongzi","followers_url":"https://api.github.com/users/chongchongzi/followers","following_url":"https://api.github.com/users/chongchongzi/following{/other_user}","gists_url":"https://api.github.com/users/chongchongzi/gists{/gist_id}","starred_url":"https://api.github.com/users/chongchongzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chongchongzi/subscriptions","organizations_url":"https://api.github.com/users/chongchongzi/orgs","repos_url":"https://api.github.com/users/chongchongzi/repos","events_url":"https://api.github.com/users/chongchongzi/events{/privacy}","received_events_url":"https://api.github.com/users/chongchongzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T03:55:25Z","updated_at":"2020-11-18T03:55:25Z","author_association":"NONE","body":"Please add me too 389401879@qq.com.com \r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729388266/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729401923","html_url":"https://github.com/apache/hudi/pull/2257#issuecomment-729401923","issue_url":"https://api.github.com/repos/apache/hudi/issues/2257","id":729401923,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTQwMTkyMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T04:41:22Z","updated_at":"2020-11-19T03:59:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2257?src=pr&el=h1) Report\n> Merging [#2257](https://codecov.io/gh/apache/hudi/pull/2257?src=pr&el=desc) (34db72e) into [master](https://codecov.io/gh/apache/hudi/commit/430d4b428e7c5b325c7414a187f9cda158c2758a?el=desc) (430d4b4) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2257/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2257?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2257   +/-   ##\n=========================================\n  Coverage     53.54%   53.54%           \n  Complexity     2770     2770           \n=========================================\n  Files           348      348           \n  Lines         16109    16109           \n  Branches       1643     1643           \n=========================================\n  Hits           8626     8626           \n  Misses         6785     6785           \n  Partials        698      698           \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.37% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `55.33% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `32.94% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudispark | `65.58% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `70.09% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729401923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729417187","html_url":"https://github.com/apache/hudi/issues/2258#issuecomment-729417187","issue_url":"https://api.github.com/repos/apache/hudi/issues/2258","id":729417187,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTQxNzE4Nw==","user":{"login":"bhushanamk","id":73978482,"node_id":"MDQ6VXNlcjczOTc4NDgy","avatar_url":"https://avatars.githubusercontent.com/u/73978482?v=4","gravatar_id":"","url":"https://api.github.com/users/bhushanamk","html_url":"https://github.com/bhushanamk","followers_url":"https://api.github.com/users/bhushanamk/followers","following_url":"https://api.github.com/users/bhushanamk/following{/other_user}","gists_url":"https://api.github.com/users/bhushanamk/gists{/gist_id}","starred_url":"https://api.github.com/users/bhushanamk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhushanamk/subscriptions","organizations_url":"https://api.github.com/users/bhushanamk/orgs","repos_url":"https://api.github.com/users/bhushanamk/repos","events_url":"https://api.github.com/users/bhushanamk/events{/privacy}","received_events_url":"https://api.github.com/users/bhushanamk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T05:03:13Z","updated_at":"2020-11-18T05:03:13Z","author_association":"NONE","body":"Presto did  set the below but no avail\r\nset session hive.parquet_use_column_names=false;\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729417187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729420144","html_url":"https://github.com/apache/hudi/issues/2258#issuecomment-729420144","issue_url":"https://api.github.com/repos/apache/hudi/issues/2258","id":729420144,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTQyMDE0NA==","user":{"login":"bhushanamk","id":73978482,"node_id":"MDQ6VXNlcjczOTc4NDgy","avatar_url":"https://avatars.githubusercontent.com/u/73978482?v=4","gravatar_id":"","url":"https://api.github.com/users/bhushanamk","html_url":"https://github.com/bhushanamk","followers_url":"https://api.github.com/users/bhushanamk/followers","following_url":"https://api.github.com/users/bhushanamk/following{/other_user}","gists_url":"https://api.github.com/users/bhushanamk/gists{/gist_id}","starred_url":"https://api.github.com/users/bhushanamk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhushanamk/subscriptions","organizations_url":"https://api.github.com/users/bhushanamk/orgs","repos_url":"https://api.github.com/users/bhushanamk/repos","events_url":"https://api.github.com/users/bhushanamk/events{/privacy}","received_events_url":"https://api.github.com/users/bhushanamk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T05:05:17Z","updated_at":"2020-11-18T05:06:48Z","author_association":"NONE","body":"<pre> hive> describe cities;\r\nOK\r\n_hoodie_commit_time     string\r\n_hoodie_commit_seqno    string\r\n_hoodie_record_key      string\r\n_hoodie_partition_path  string\r\n_hoodie_file_name       string\r\ncdc_ts                  string\r\nid                      bigint\r\nname                    string\r\ncode                    string\r\nalias                   string\r\nlat                     decimal(10,4)\r\nlng                     decimal(10,4)\r\nis_active               boolean\r\ncreated_by              bigint\r\nupdated_by              bigint\r\nop                      string\r\nstate_id                bigint\r\n\r\n# Partition Information\r\n# col_name              data_type               comment\r\n\r\nstate_id                bigint <pre>\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729420144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729426423","html_url":"https://github.com/apache/hudi/issues/2258#issuecomment-729426423","issue_url":"https://api.github.com/repos/apache/hudi/issues/2258","id":729426423,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTQyNjQyMw==","user":{"login":"bhushanamk","id":73978482,"node_id":"MDQ6VXNlcjczOTc4NDgy","avatar_url":"https://avatars.githubusercontent.com/u/73978482?v=4","gravatar_id":"","url":"https://api.github.com/users/bhushanamk","html_url":"https://github.com/bhushanamk","followers_url":"https://api.github.com/users/bhushanamk/followers","following_url":"https://api.github.com/users/bhushanamk/following{/other_user}","gists_url":"https://api.github.com/users/bhushanamk/gists{/gist_id}","starred_url":"https://api.github.com/users/bhushanamk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhushanamk/subscriptions","organizations_url":"https://api.github.com/users/bhushanamk/orgs","repos_url":"https://api.github.com/users/bhushanamk/repos","events_url":"https://api.github.com/users/bhushanamk/events{/privacy}","received_events_url":"https://api.github.com/users/bhushanamk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T05:09:37Z","updated_at":"2020-11-18T05:09:37Z","author_association":"NONE","body":"<pre>\r\npresto:smart_api> describe cities;\r\n         Column         |     Type      |     Extra     | Comment\r\n------------------------+---------------+---------------+---------\r\n _hoodie_commit_time    | varchar       |               |\r\n _hoodie_commit_seqno   | varchar       |               |\r\n _hoodie_record_key     | varchar       |               |\r\n _hoodie_partition_path | varchar       |               |\r\n _hoodie_file_name      | varchar       |               |\r\n cdc_ts                 | varchar       |               |\r\n id                     | bigint        |               |\r\n name                   | varchar       |               |\r\n code                   | varchar       |               |\r\n alias                  | varchar       |               |\r\n lat                    | decimal(10,4) |               |\r\n lng                    | decimal(10,4) |               |\r\n is_active              | boolean       |               |\r\n created_by             | bigint        |               |\r\n updated_by             | bigint        |               |\r\n op                     | varchar       |               |\r\n state_id               | bigint        | partition key |\r\n(17 rows)\r\n\r\nQuery 20201118_050841_00010_27sh4, FINISHED, 3 nodes\r\nSplits: 36 total, 36 done (100.00%)\r\n0:00 [17 rows, 1.19KB] [62 rows/s, 4.37KB/s]\r\n\r\n<pre>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729426423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729436047","html_url":"https://github.com/apache/hudi/issues/2258#issuecomment-729436047","issue_url":"https://api.github.com/repos/apache/hudi/issues/2258","id":729436047,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTQzNjA0Nw==","user":{"login":"bhushanamk","id":73978482,"node_id":"MDQ6VXNlcjczOTc4NDgy","avatar_url":"https://avatars.githubusercontent.com/u/73978482?v=4","gravatar_id":"","url":"https://api.github.com/users/bhushanamk","html_url":"https://github.com/bhushanamk","followers_url":"https://api.github.com/users/bhushanamk/followers","following_url":"https://api.github.com/users/bhushanamk/following{/other_user}","gists_url":"https://api.github.com/users/bhushanamk/gists{/gist_id}","starred_url":"https://api.github.com/users/bhushanamk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhushanamk/subscriptions","organizations_url":"https://api.github.com/users/bhushanamk/orgs","repos_url":"https://api.github.com/users/bhushanamk/repos","events_url":"https://api.github.com/users/bhushanamk/events{/privacy}","received_events_url":"https://api.github.com/users/bhushanamk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T05:23:11Z","updated_at":"2020-11-18T05:24:10Z","author_association":"NONE","body":"parquet tools schema\r\n<pre>\r\nmessage hoodie.source.hoodie_source {\r\n  optional binary _hoodie_commit_time (STRING);\r\n  optional binary _hoodie_commit_seqno (STRING);\r\n  optional binary _hoodie_record_key (STRING);\r\n  optional binary _hoodie_partition_path (STRING);\r\n  optional binary _hoodie_file_name (STRING);\r\n  optional binary cdc_ts (STRING);\r\n  optional int64 id;\r\n  optional binary name (STRING);\r\n  optional binary code (STRING);\r\n  optional binary alias (STRING);\r\n  optional int64 state_id;\r\n  optional fixed_len_byte_array(5) lat (DECIMAL(10,4));\r\n  optional fixed_len_byte_array(5) lng (DECIMAL(10,4));\r\n  optional boolean is_active;\r\n  optional int64 created_by;\r\n  optional int64 updated_by;\r\n  required binary Op (STRING);\r\n}\r\n\r\n\r\n<pre>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729436047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729485960","html_url":"https://github.com/apache/hudi/issues/2247#issuecomment-729485960","issue_url":"https://api.github.com/repos/apache/hudi/issues/2247","id":729485960,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTQ4NTk2MA==","user":{"login":"jon-qj","id":39773194,"node_id":"MDQ6VXNlcjM5NzczMTk0","avatar_url":"https://avatars.githubusercontent.com/u/39773194?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-qj","html_url":"https://github.com/jon-qj","followers_url":"https://api.github.com/users/jon-qj/followers","following_url":"https://api.github.com/users/jon-qj/following{/other_user}","gists_url":"https://api.github.com/users/jon-qj/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-qj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-qj/subscriptions","organizations_url":"https://api.github.com/users/jon-qj/orgs","repos_url":"https://api.github.com/users/jon-qj/repos","events_url":"https://api.github.com/users/jon-qj/events{/privacy}","received_events_url":"https://api.github.com/users/jon-qj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T07:15:56Z","updated_at":"2020-11-18T07:15:56Z","author_association":"NONE","body":"> You just need spark-bundle to run in spark-shell. I think Hadoop 3.0.0 is bringing a different version of eclipse which is causing this issue. Can you try with Hadoop 2.9.x/2.8.x to see if the problem still exists ?\r\n\r\nI've made it, thanks a lot 💯 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729485960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729492442","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-729492442","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":729492442,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTQ5MjQ0Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T07:29:47Z","updated_at":"2020-11-18T07:29:47Z","author_association":"CONTRIBUTOR","body":"@WTa-hash : I am looking into it. From the first glance, I couldn't get much insights as to where the issue could be. Attached screenshots clearly shows that MOR is having issues while COW succeeds. I need more time to investigate this. In the mean time, can you try removing \"hoodie.compact.inline.max.delta.commits\" this config and retry your test once. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729492442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729510241","html_url":"https://github.com/apache/hudi/pull/2259#issuecomment-729510241","issue_url":"https://api.github.com/repos/apache/hudi/issues/2259","id":729510241,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTUxMDI0MQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T08:08:31Z","updated_at":"2020-11-18T08:08:31Z","author_association":"CONTRIBUTOR","body":"@yanghua please take  a look when free","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729510241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729527761","html_url":"https://github.com/apache/hudi/pull/2259#issuecomment-729527761","issue_url":"https://api.github.com/repos/apache/hudi/issues/2259","id":729527761,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTUyNzc2MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T08:43:02Z","updated_at":"2020-11-18T08:44:29Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2259?src=pr&el=h1) Report\n> Merging [#2259](https://codecov.io/gh/apache/hudi/pull/2259?src=pr&el=desc) (a35c9bf) into [master](https://codecov.io/gh/apache/hudi/commit/430d4b428e7c5b325c7414a187f9cda158c2758a?el=desc) (430d4b4) will **decrease** coverage by `0.01%`.\n> The diff coverage is `40.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2259/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2259?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2259      +/-   ##\n============================================\n- Coverage     53.54%   53.52%   -0.02%     \n  Complexity     2770     2770              \n============================================\n  Files           348      348              \n  Lines         16109    16107       -2     \n  Branches       1643     1643              \n============================================\n- Hits           8626     8622       -4     \n- Misses         6785     6786       +1     \n- Partials        698      699       +1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.37% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `55.30% <ø> (-0.03%)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `32.94% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudispark | `65.58% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `70.06% <40.00%> (-0.04%)` | `0.00 <0.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2259?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2259/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <0.00%> (ø)` | `18.00 <0.00> (ø)` | |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2259/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `68.97% <33.33%> (-0.26%)` | `18.00 <0.00> (ø)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2259/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.54% <100.00%> (ø)` | `49.00 <0.00> (ø)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2259/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `77.11% <0.00%> (-1.70%)` | `23.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729527761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729530724","html_url":"https://github.com/apache/hudi/pull/2260#issuecomment-729530724","issue_url":"https://api.github.com/repos/apache/hudi/issues/2260","id":729530724,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTUzMDcyNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T08:49:12Z","updated_at":"2021-02-05T08:48:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2260?src=pr&el=h1) Report\n> Merging [#2260](https://codecov.io/gh/apache/hudi/pull/2260?src=pr&el=desc) (b34c416) into [master](https://codecov.io/gh/apache/hudi/commit/b593f1062931a4d017ae8bd7dd42e47a8873a39f?el=desc) (b593f10) will **increase** coverage by `19.24%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2260/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2260?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2260       +/-   ##\n=============================================\n+ Coverage     50.27%   69.51%   +19.24%     \n+ Complexity     2990      357     -2633     \n=============================================\n  Files           410       53      -357     \n  Lines         18406     1929    -16477     \n  Branches       1885      229     -1656     \n=============================================\n- Hits           9253     1341     -7912     \n+ Misses         8395      456     -7939     \n+ Partials        758      132      -626     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.51% <ø> (-0.14%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2260?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...common/table/view/FileSystemViewStorageConfig.java](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvRmlsZVN5c3RlbVZpZXdTdG9yYWdlQ29uZmlnLmphdmE=) | | | |\n| [...di-cli/src/main/java/org/apache/hudi/cli/Main.java](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL01haW4uamF2YQ==) | | | |\n| [...java/org/apache/hudi/common/util/ParquetUtils.java](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvUGFycXVldFV0aWxzLmphdmE=) | | | |\n| [...rg/apache/hudi/common/fs/NoOpConsistencyGuard.java](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL05vT3BDb25zaXN0ZW5jeUd1YXJkLmphdmE=) | | | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | | | |\n| [...spark3/internal/HoodieDataSourceInternalTable.java](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3NwYXJrMy9pbnRlcm5hbC9Ib29kaWVEYXRhU291cmNlSW50ZXJuYWxUYWJsZS5qYXZh) | | | |\n| [...sioning/clean/CleanMetadataV1MigrationHandler.java](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL3ZlcnNpb25pbmcvY2xlYW4vQ2xlYW5NZXRhZGF0YVYxTWlncmF0aW9uSGFuZGxlci5qYXZh) | | | |\n| [.../org/apache/hudi/hive/NonPartitionedExtractor.java](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvTm9uUGFydGl0aW9uZWRFeHRyYWN0b3IuamF2YQ==) | | | |\n| [.../main/scala/org/apache/hudi/HoodieSparkUtils.scala](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVNwYXJrVXRpbHMuc2NhbGE=) | | | |\n| [...g/apache/hudi/hadoop/HoodieParquetInputFormat.java](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL0hvb2RpZVBhcnF1ZXRJbnB1dEZvcm1hdC5qYXZh) | | | |\n| ... and [351 more](https://codecov.io/gh/apache/hudi/pull/2260/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729530724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729567986","html_url":"https://github.com/apache/hudi/pull/2176#issuecomment-729567986","issue_url":"https://api.github.com/repos/apache/hudi/issues/2176","id":729567986,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTU2Nzk4Ng==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T09:56:54Z","updated_at":"2020-11-18T09:56:54Z","author_association":"CONTRIBUTOR","body":"@wangxianghu Please see my apporve information.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729567986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729571621","html_url":"https://github.com/apache/hudi/pull/2176#issuecomment-729571621","issue_url":"https://api.github.com/repos/apache/hudi/issues/2176","id":729571621,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTU3MTYyMQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T10:02:56Z","updated_at":"2020-11-18T10:02:56Z","author_association":"MEMBER","body":"@wangxianghu big congrats! looking forward to the upcoming flink integration works","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729571621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729592719","html_url":"https://github.com/apache/hudi/pull/2176#issuecomment-729592719","issue_url":"https://api.github.com/repos/apache/hudi/issues/2176","id":729592719,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTU5MjcxOQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T10:39:40Z","updated_at":"2020-11-18T10:39:40Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu big congrats! looking forward to the upcoming flink integration works\r\n\r\n\r\n> LGTM. It's a big and continuous work. Merge it now, hope you would continuously improve and enhance the flink-write-client.\r\n\r\nSure, I will enhance it step by step\r\nthanks :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729592719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729593934","html_url":"https://github.com/apache/hudi/pull/2176#issuecomment-729593934","issue_url":"https://api.github.com/repos/apache/hudi/issues/2176","id":729593934,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTU5MzkzNA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T10:41:47Z","updated_at":"2020-11-18T10:41:47Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu big congrats! looking forward to the upcoming flink integration works\r\n\r\nThanks, gary. I will improve and enhance it continuously ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729593934/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729776111","html_url":"https://github.com/apache/hudi/pull/2216#issuecomment-729776111","issue_url":"https://api.github.com/repos/apache/hudi/issues/2216","id":729776111,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTc3NjExMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T15:59:59Z","updated_at":"2020-11-24T13:00:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2216?src=pr&el=h1) Report\n> Merging [#2216](https://codecov.io/gh/apache/hudi/pull/2216?src=pr&el=desc) (c8f05c9) into [master](https://codecov.io/gh/apache/hudi/commit/6310a2307abba94c7ff8a770f45462deae2c312e?el=desc) (6310a23) will **decrease** coverage by `43.26%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2216/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2216?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2216       +/-   ##\n=============================================\n- Coverage     53.67%   10.41%   -43.27%     \n+ Complexity     2849       48     -2801     \n=============================================\n  Files           359       50      -309     \n  Lines         16565     1777    -14788     \n  Branches       1782      211     -1571     \n=============================================\n- Hits           8892      185     -8707     \n+ Misses         6916     1579     -5337     \n+ Partials        757       13      -744     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudispark | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.41% <ø> (-59.69%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2216?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| ... and [334 more](https://codecov.io/gh/apache/hudi/pull/2216/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729776111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729805782","html_url":"https://github.com/apache/hudi/issues/2240#issuecomment-729805782","issue_url":"https://api.github.com/repos/apache/hudi/issues/2240","id":729805782,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTgwNTc4Mg==","user":{"login":"kpurella","id":67808897,"node_id":"MDQ6VXNlcjY3ODA4ODk3","avatar_url":"https://avatars.githubusercontent.com/u/67808897?v=4","gravatar_id":"","url":"https://api.github.com/users/kpurella","html_url":"https://github.com/kpurella","followers_url":"https://api.github.com/users/kpurella/followers","following_url":"https://api.github.com/users/kpurella/following{/other_user}","gists_url":"https://api.github.com/users/kpurella/gists{/gist_id}","starred_url":"https://api.github.com/users/kpurella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpurella/subscriptions","organizations_url":"https://api.github.com/users/kpurella/orgs","repos_url":"https://api.github.com/users/kpurella/repos","events_url":"https://api.github.com/users/kpurella/events{/privacy}","received_events_url":"https://api.github.com/users/kpurella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T16:46:38Z","updated_at":"2020-11-18T16:46:38Z","author_association":"NONE","body":"1) I don't see much improvement by enabling hoodie. clean.async=true\r\n2) Here is the hoodie partition :s3://mybucket/myapp/ouput/hudi-raw/default/\r\n3) list of files under .hoodie\r\n                          PRE .aux/\r\n                           PRE .temp/\r\n2020-11-10 22:33:34          0 .aux_$folder$\r\n2020-11-10 22:33:34          0 .temp_$folder$\r\n2020-11-10 22:45:43    4926823 20201110223331.deltacommit\r\n2020-11-10 22:42:25        984 20201110223331.deltacommit.inflight\r\n2020-11-10 22:35:24          0 20201110223331.deltacommit.requested\r\n2020-11-10 23:17:20    5274215 20201110230257.deltacommit\r\n2020-11-10 23:13:37    3916496 20201110230257.deltacommit.inflight\r\n2020-11-10 23:04:45          0 20201110230257.deltacommit.requested\r\n2020-11-10 23:22:47    5097604 20201110231726.commit\r\n2020-11-10 23:17:34          0 20201110231726.compaction.inflight\r\n2020-11-10 23:17:33    2218785 20201110231726.compaction.requested\r\n2020-11-11 00:10:21    1786853 20201110233218.clean\r\n2020-11-10 23:49:47    1659524 20201110233218.clean.inflight\r\n2020-11-10 23:49:46    1659524 20201110233218.clean.requested\r\n2020-11-10 23:46:54    5274215 20201110233218.deltacommit\r\n2020-11-10 23:43:12    3916496 20201110233218.deltacommit.inflight\r\n2020-11-10 23:33:50          0 20201110233218.deltacommit.requested\r\n2020-11-10 23:49:36    5097604 20201110234700.commit\r\n2020-11-10 23:47:10          0 20201110234700.compaction.inflight\r\n2020-11-10 23:47:10    2224673 20201110234700.compaction.requested\r\n2020-11-13 07:09:04    1798629 20201113063046.clean\r\n2020-11-13 06:49:04    1665412 20201113063046.clean.inflight\r\n2020-11-13 06:49:04    1665412 20201113063046.clean.requested\r\n2020-11-13 06:46:19    5274215 20201113063046.deltacommit\r\n2020-11-13 06:42:40    3916496 20201113063046.deltacommit.inflight\r\n2020-11-13 06:32:14          0 20201113063046.deltacommit.requested\r\n2020-11-13 06:48:56    5097604 20201113064625.commit\r\n2020-11-13 06:46:35          0 20201113064625.compaction.inflight\r\n2020-11-13 06:46:35    2224673 20201113064625.compaction.requested\r\n2020-11-13 07:44:42    1798629 20201113071234.clean\r\n2020-11-13 07:25:45    1665412 20201113071234.clean.inflight\r\n2020-11-13 07:25:45    1665412 20201113071234.clean.requested\r\n2020-11-13 07:23:04    5274215 20201113071234.deltacommit\r\n2020-11-13 07:19:55    3916496 20201113071234.deltacommit.inflight\r\n2020-11-13 07:14:16          0 20201113071234.deltacommit.requested\r\n2020-11-13 07:25:37    5097604 20201113072312.commit\r\n2020-11-13 07:23:22          0 20201113072312.compaction.inflight\r\n2020-11-13 07:23:21    2224673 20201113072312.compaction.requested\r\n2020-11-13 17:56:44    5274215 20201113174201.deltacommit\r\n2020-11-13 17:52:57    3916496 20201113174201.deltacommit.inflight\r\n2020-11-13 17:44:37          0 20201113174201.deltacommit.requested\r\n2020-11-13 17:59:22    5097604 20201113175651.commit\r\n2020-11-13 17:57:00          0 20201113175651.compaction.inflight\r\n2020-11-13 17:56:59    2224673 20201113175651.compaction.requested\r\n2020-11-13 18:35:38    1798629 20201113180714.clean\r\n2020-11-13 18:09:46    1665412 20201113180714.clean.inflight\r\n2020-11-13 18:09:45    1665412 20201113180714.clean.requested\r\n2020-11-13 18:21:58    5274215 20201113180714.deltacommit\r\n2020-11-13 18:17:48    3916496 20201113180714.deltacommit.inflight\r\n2020-11-13 18:08:42          0 20201113180714.deltacommit.requested\r\n2020-11-13 18:24:40    5097604 20201113182206.commit\r\n2020-11-13 18:22:18          0 20201113182206.compaction.inflight\r\n2020-11-13 18:22:17    2224673 20201113182206.compaction.requested\r\n2020-11-17 16:49:44    1798629 20201117162434.clean\r\n2020-11-17 16:26:53    1665412 20201117162434.clean.inflight\r\n2020-11-17 16:26:52    1665412 20201117162434.clean.requested\r\n2020-11-17 16:34:02    5274215 20201117162434.deltacommit\r\n2020-11-17 16:30:26    3916496 20201117162434.deltacommit.inflight\r\n2020-11-17 16:26:00          0 20201117162434.deltacommit.requested\r\n2020-11-17 16:36:41    5097604 20201117163409.commit\r\n2020-11-17 16:34:21          0 20201117163409.compaction.inflight\r\n2020-11-17 16:34:20    2224673 20201117163409.compaction.requested\r\n2020-11-10 22:33:34          0 archived_$folder$\r\n2020-11-10 22:33:36        325 hoodie.properties\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729805782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729807212","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-729807212","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":729807212,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTgwNzIxMg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T16:49:04Z","updated_at":"2020-11-18T16:49:04Z","author_association":"NONE","body":"@nsivabalan -\r\n\r\nI received the exact same MOR result (from original post) when I remove hoodie.compact.inline.max.delta.commits. Would removing hoodie.compact.inline.max.delta.commits use the default value of 5 from here https://github.com/apache/hudi/blob/release-0.6.0/hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729807212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729813955","html_url":"https://github.com/apache/hudi/pull/1704#issuecomment-729813955","issue_url":"https://api.github.com/repos/apache/hudi/issues/1704","id":729813955,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTgxMzk1NQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T16:59:41Z","updated_at":"2020-11-18T16:59:41Z","author_association":"CONTRIBUTOR","body":"> > @FelixKJose I don't think there is one up yet. We can get to this in the next few weeks, if you are in need of this.\r\n> \r\n> I think this is also a big issue for my cases here. @bhasudha or @vinothchandar is it possible the new payload will be ready in the next week?\r\n> \r\n> I can contribute the new implementation if you are lacking of time.\r\n\r\n@advancedxy  That would be very useful. I can help you if you have any questions. Please feel free to send a PR with the new payload. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729813955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729911641","html_url":"https://github.com/apache/hudi/pull/2231#issuecomment-729911641","issue_url":"https://api.github.com/repos/apache/hudi/issues/2231","id":729911641,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkxMTY0MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T19:43:46Z","updated_at":"2020-11-18T19:43:46Z","author_association":"MEMBER","body":"@guykhazma Apologies for the delay. bit behind on reviews. Will circle back by EOW. sorry again! Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729911641/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729912668","html_url":"https://github.com/apache/hudi/pull/1975#issuecomment-729912668","issue_url":"https://api.github.com/repos/apache/hudi/issues/1975","id":729912668,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkxMjY2OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T19:45:41Z","updated_at":"2020-11-18T19:45:41Z","author_association":"MEMBER","body":"@zhedoubushishi done","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729912668/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729915423","html_url":"https://github.com/apache/hudi/pull/2257#issuecomment-729915423","issue_url":"https://api.github.com/repos/apache/hudi/issues/2257","id":729915423,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkxNTQyMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T19:50:54Z","updated_at":"2020-11-18T19:50:54Z","author_association":"MEMBER","body":"@linshan-ma could you try rebasing your branch against master (if not done already)\r\nI am bit puzzled about \r\n```\r\nMerging #2257 (34db72e) into master (430d4b4) will decrease coverage by 43.14%.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729915423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729916400","html_url":"https://github.com/apache/hudi/pull/2176#issuecomment-729916400","issue_url":"https://api.github.com/repos/apache/hudi/issues/2176","id":729916400,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkxNjQwMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T19:52:52Z","updated_at":"2020-11-18T19:52:52Z","author_association":"MEMBER","body":"This is a huge step!  worth tweeting about (if none does, I ll do it :) )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729916400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729938049","html_url":"https://github.com/apache/hudi/pull/2231#issuecomment-729938049","issue_url":"https://api.github.com/repos/apache/hudi/issues/2231","id":729938049,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkzODA0OQ==","user":{"login":"guykhazma","id":33684427,"node_id":"MDQ6VXNlcjMzNjg0NDI3","avatar_url":"https://avatars.githubusercontent.com/u/33684427?v=4","gravatar_id":"","url":"https://api.github.com/users/guykhazma","html_url":"https://github.com/guykhazma","followers_url":"https://api.github.com/users/guykhazma/followers","following_url":"https://api.github.com/users/guykhazma/following{/other_user}","gists_url":"https://api.github.com/users/guykhazma/gists{/gist_id}","starred_url":"https://api.github.com/users/guykhazma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guykhazma/subscriptions","organizations_url":"https://api.github.com/users/guykhazma/orgs","repos_url":"https://api.github.com/users/guykhazma/repos","events_url":"https://api.github.com/users/guykhazma/events{/privacy}","received_events_url":"https://api.github.com/users/guykhazma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T20:34:47Z","updated_at":"2020-11-18T20:34:47Z","author_association":"CONTRIBUTOR","body":"@vinothchandar sure, thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/729938049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730026955","html_url":"https://github.com/apache/hudi/issues/2258#issuecomment-730026955","issue_url":"https://api.github.com/repos/apache/hudi/issues/2258","id":730026955,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDAyNjk1NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T23:42:26Z","updated_at":"2020-11-18T23:42:26Z","author_association":"CONTRIBUTOR","body":"@bhasudha : Can you take a look at this issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730026955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730037189","html_url":"https://github.com/apache/hudi/issues/2240#issuecomment-730037189","issue_url":"https://api.github.com/repos/apache/hudi/issues/2240","id":730037189,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDAzNzE4OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T00:11:15Z","updated_at":"2020-11-19T00:11:15Z","author_association":"CONTRIBUTOR","body":"Just looking at the timestamps for last compaction, clean and delta commit operations,\r\n\r\n1. Compaction:\r\n2020-11-17 16:36:41 5097604 20201117163409.commit\r\n2020-11-17 16:34:21 0 20201117163409.compaction.inflight\r\n\r\nTHis means that compaction took around 2.3 mins to finish\r\n\r\nIngestion:\r\n2020-11-17 16:34:02 5274215 20201117162434.deltacommit\r\n2020-11-17 16:30:26 3916496 20201117162434.deltacommit.inflight\r\n2020-11-17 16:26:00 0 20201117162434.deltacommit.requested\r\nThe data write part alone took like ~8 mins\r\n\r\n\r\nCleaning:\r\n\r\n2020-11-17 16:49:44 1798629 20201117162434.clean\r\n2020-11-17 16:26:53 1665412 20201117162434.clean.inflight\r\n2020-11-17 16:26:52 1665412 20201117162434.clean.requested\r\n\r\nThis seems to have taken like 25 mins. With a single partition, the listing performance should be similar for ingestion and cleaning. If cleaning was run asynchronously, you might need to give more executors to run parallel clean. I am also wondering if the deletes are getting throttled in your case which is slowing down clean. Can you take a look at executor logs to see if each file deletion is taking long time.  You can also try disabling cleaning \"hoodie.clean.automatic=false\" and enable it every N writes if the slowdown is not due to deletes throttling. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730037189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730080533","html_url":"https://github.com/apache/hudi/pull/2176#issuecomment-730080533","issue_url":"https://api.github.com/repos/apache/hudi/issues/2176","id":730080533,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDA4MDUzMw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T02:15:23Z","updated_at":"2020-11-19T02:15:23Z","author_association":"CONTRIBUTOR","body":"> This is a huge step! worth tweeting about (if none does, I ll do it :) )\r\n\r\nOK, Will tweet it soon.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730080533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730081055","html_url":"https://github.com/apache/hudi/pull/2176#issuecomment-730081055","issue_url":"https://api.github.com/repos/apache/hudi/issues/2176","id":730081055,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDA4MTA1NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T02:16:44Z","updated_at":"2020-11-19T02:16:44Z","author_association":"CONTRIBUTOR","body":"@wangxianghu Please consider writing an English/Chinese blog give some introduction about this feature.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730081055/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730112058","html_url":"https://github.com/apache/hudi/pull/2261#issuecomment-730112058","issue_url":"https://api.github.com/repos/apache/hudi/issues/2261","id":730112058,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDExMjA1OA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T03:52:19Z","updated_at":"2020-11-19T03:52:19Z","author_association":"MEMBER","body":"@wangxianghu did some clean up while reading the code. Please take a look when you are free.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730112058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730112507","html_url":"https://github.com/apache/hudi/pull/2257#issuecomment-730112507","issue_url":"https://api.github.com/repos/apache/hudi/issues/2257","id":730112507,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDExMjUwNw==","user":{"login":"linshan-ma","id":23548282,"node_id":"MDQ6VXNlcjIzNTQ4Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/23548282?v=4","gravatar_id":"","url":"https://api.github.com/users/linshan-ma","html_url":"https://github.com/linshan-ma","followers_url":"https://api.github.com/users/linshan-ma/followers","following_url":"https://api.github.com/users/linshan-ma/following{/other_user}","gists_url":"https://api.github.com/users/linshan-ma/gists{/gist_id}","starred_url":"https://api.github.com/users/linshan-ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linshan-ma/subscriptions","organizations_url":"https://api.github.com/users/linshan-ma/orgs","repos_url":"https://api.github.com/users/linshan-ma/repos","events_url":"https://api.github.com/users/linshan-ma/events{/privacy}","received_events_url":"https://api.github.com/users/linshan-ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T03:53:52Z","updated_at":"2020-11-19T03:53:52Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Thank you 。What don't you understand? i  think  i  can  help  you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730112507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730114094","html_url":"https://github.com/apache/hudi/pull/2176#issuecomment-730114094","issue_url":"https://api.github.com/repos/apache/hudi/issues/2176","id":730114094,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDExNDA5NA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T04:00:07Z","updated_at":"2020-11-19T04:00:07Z","author_association":"CONTRIBUTOR","body":"Yes，will write one soon\n\n发自我的iPhone\n\n> 在 2020年11月19日，10:17，vinoyang <notifications@github.com> 写道：\n> \n> ﻿\n> @wangxianghu Please consider writing an English/Chinese blog give some introduction about this feature.\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or unsubscribe.\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730114094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730114773","html_url":"https://github.com/apache/hudi/pull/2261#issuecomment-730114773","issue_url":"https://api.github.com/repos/apache/hudi/issues/2261","id":730114773,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDExNDc3Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T04:02:45Z","updated_at":"2020-11-19T04:02:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2261?src=pr&el=h1) Report\n> Merging [#2261](https://codecov.io/gh/apache/hudi/pull/2261?src=pr&el=desc) (f9e2b0f) into [master](https://codecov.io/gh/apache/hudi/commit/4d05680038752077ceaebef261b66a5afc761e10?el=desc) (4d05680) will **decrease** coverage by `43.13%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2261/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2261?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2261       +/-   ##\n=============================================\n- Coverage     53.53%   10.39%   -43.14%     \n+ Complexity     2770       48     -2722     \n=============================================\n  Files           348       50      -298     \n  Lines         16109     1779    -14330     \n  Branches       1643      211     -1432     \n=============================================\n- Hits           8624      185     -8439     \n+ Misses         6786     1581     -5205     \n+ Partials        699       13      -686     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudispark | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.39% <ø> (-59.70%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2261?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| ... and [325 more](https://codecov.io/gh/apache/hudi/pull/2261/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730114773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730164966","html_url":"https://github.com/apache/hudi/pull/2257#issuecomment-730164966","issue_url":"https://api.github.com/repos/apache/hudi/issues/2257","id":730164966,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDE2NDk2Ng==","user":{"login":"linshan-ma","id":23548282,"node_id":"MDQ6VXNlcjIzNTQ4Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/23548282?v=4","gravatar_id":"","url":"https://api.github.com/users/linshan-ma","html_url":"https://github.com/linshan-ma","followers_url":"https://api.github.com/users/linshan-ma/followers","following_url":"https://api.github.com/users/linshan-ma/following{/other_user}","gists_url":"https://api.github.com/users/linshan-ma/gists{/gist_id}","starred_url":"https://api.github.com/users/linshan-ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linshan-ma/subscriptions","organizations_url":"https://api.github.com/users/linshan-ma/orgs","repos_url":"https://api.github.com/users/linshan-ma/repos","events_url":"https://api.github.com/users/linshan-ma/events{/privacy}","received_events_url":"https://api.github.com/users/linshan-ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T06:42:28Z","updated_at":"2020-11-19T06:42:28Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I understand my problem. I will close this PR and start a new one. Please help me review it","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730164966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730199130","html_url":"https://github.com/apache/hudi/pull/2249#issuecomment-730199130","issue_url":"https://api.github.com/repos/apache/hudi/issues/2249","id":730199130,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDE5OTEzMA==","user":{"login":"hj2016","id":18521084,"node_id":"MDQ6VXNlcjE4NTIxMDg0","avatar_url":"https://avatars.githubusercontent.com/u/18521084?v=4","gravatar_id":"","url":"https://api.github.com/users/hj2016","html_url":"https://github.com/hj2016","followers_url":"https://api.github.com/users/hj2016/followers","following_url":"https://api.github.com/users/hj2016/following{/other_user}","gists_url":"https://api.github.com/users/hj2016/gists{/gist_id}","starred_url":"https://api.github.com/users/hj2016/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hj2016/subscriptions","organizations_url":"https://api.github.com/users/hj2016/orgs","repos_url":"https://api.github.com/users/hj2016/repos","events_url":"https://api.github.com/users/hj2016/events{/privacy}","received_events_url":"https://api.github.com/users/hj2016/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T08:01:22Z","updated_at":"2020-11-19T08:01:22Z","author_association":"CONTRIBUTOR","body":"@bvaradar I will verify for you later","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730199130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730205400","html_url":"https://github.com/apache/hudi/issues/2258#issuecomment-730205400","issue_url":"https://api.github.com/repos/apache/hudi/issues/2258","id":730205400,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDIwNTQwMA==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T08:13:32Z","updated_at":"2020-11-19T08:13:32Z","author_association":"CONTRIBUTOR","body":"@bhushanamk  which version of Presto are you using. And if you are using your own version, how did you do the setup ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730205400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730216182","html_url":"https://github.com/apache/hudi/pull/2242#issuecomment-730216182","issue_url":"https://api.github.com/repos/apache/hudi/issues/2242","id":730216182,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDIxNjE4Mg==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T08:35:32Z","updated_at":"2020-11-19T08:35:32Z","author_association":"MEMBER","body":"@liujinhui1994 thanks for your contribution, would you please add more descriptions about this PR? I am not quite sure if I understand the purpose.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730216182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730222148","html_url":"https://github.com/apache/hudi/pull/2262#issuecomment-730222148","issue_url":"https://api.github.com/repos/apache/hudi/issues/2262","id":730222148,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDIyMjE0OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T08:47:19Z","updated_at":"2021-01-02T04:36:26Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2262?src=pr&el=h1) Report\n> Merging [#2262](https://codecov.io/gh/apache/hudi/pull/2262?src=pr&el=desc) (c1e36b2) into [master](https://codecov.io/gh/apache/hudi/commit/c8d5ea2752f8289b9dec37a149e82c030f657924?el=desc) (c8d5ea2) will **decrease** coverage by `1.49%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2262/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2262?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2262      +/-   ##\n============================================\n- Coverage     53.51%   52.01%   -1.50%     \n- Complexity     2769     2952     +183     \n============================================\n  Files           348      395      +47     \n  Lines         16107    17650    +1543     \n  Branches       1643     1809     +166     \n============================================\n+ Hits           8619     9181     +562     \n- Misses         6789     7710     +921     \n- Partials        699      759      +60     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.83% <ø> (+0.45%)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `54.93% <ø> (-0.34%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `10.20% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudihadoopmr | `33.52% <ø> (+0.58%)` | `0.00 <ø> (ø)` | |\n| hudispark | `?` | `?` | |\n| hudisparkdatasource | `62.85% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudisync | `48.06% <ø> (?)` | `0.00 <ø> (?)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <ø> (-0.41%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2262?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...in/java/org/apache/hudi/hive/HoodieHiveClient.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSG9vZGllSGl2ZUNsaWVudC5qYXZh) | `72.01% <ø> (ø)` | `40.00 <0.00> (?)` | |\n| [...di/common/table/timeline/HoodieActiveTimeline.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZUFjdGl2ZVRpbWVsaW5lLmphdmE=) | `69.62% <0.00%> (-4.51%)` | `41.00% <0.00%> (ø%)` | |\n| [.../apache/hudi/common/table/log/HoodieLogFormat.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXQuamF2YQ==) | `71.23% <0.00%> (-4.13%)` | `3.00% <0.00%> (ø%)` | |\n| [...che/hudi/common/table/timeline/HoodieTimeline.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZVRpbWVsaW5lLmphdmE=) | `89.13% <0.00%> (-4.06%)` | `43.00% <0.00%> (ø%)` | |\n| [.../apache/hudi/common/util/ObjectSizeCalculator.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvT2JqZWN0U2l6ZUNhbGN1bGF0b3IuamF2YQ==) | `73.48% <0.00%> (-2.64%)` | `24.00% <0.00%> (ø%)` | |\n| [...g/apache/hudi/common/model/WriteOperationType.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL1dyaXRlT3BlcmF0aW9uVHlwZS5qYXZh) | `53.12% <0.00%> (-2.44%)` | `2.00% <0.00%> (ø%)` | |\n| [...ache/hudi/common/util/collection/DiskBasedMap.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9EaXNrQmFzZWRNYXAuamF2YQ==) | `80.88% <0.00%> (-2.07%)` | `29.00% <0.00%> (+2.00%)` | :arrow_down: |\n| [...i/common/util/collection/ExternalSpillableMap.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9FeHRlcm5hbFNwaWxsYWJsZU1hcC5qYXZh) | `71.42% <0.00%> (-1.61%)` | `29.00% <0.00%> (ø%)` | |\n| [...a/org/apache/hudi/common/util/ClusteringUtils.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQ2x1c3RlcmluZ1V0aWxzLmphdmE=) | `89.06% <0.00%> (-1.42%)` | `18.00% <0.00%> (ø%)` | |\n| [.../hudi/common/util/collection/LazyFileIterable.java](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9MYXp5RmlsZUl0ZXJhYmxlLmphdmE=) | `74.41% <0.00%> (-0.59%)` | `2.00% <0.00%> (ø%)` | |\n| ... and [122 more](https://codecov.io/gh/apache/hudi/pull/2262/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730222148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730253264","html_url":"https://github.com/apache/hudi/pull/2242#issuecomment-730253264","issue_url":"https://api.github.com/repos/apache/hudi/issues/2242","id":730253264,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDI1MzI2NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T09:43:53Z","updated_at":"2020-11-23T03:08:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2242?src=pr&el=h1) Report\n> Merging [#2242](https://codecov.io/gh/apache/hudi/pull/2242?src=pr&el=desc) (043c85c) into [master](https://codecov.io/gh/apache/hudi/commit/d160abb43740e0bcdf40458c345ecd2d74e6698c?el=desc) (d160abb) will **increase** coverage by `0.41%`.\n> The diff coverage is `71.79%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2242/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2242?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2242      +/-   ##\n============================================\n+ Coverage     53.10%   53.52%   +0.41%     \n- Complexity     2705     2775      +70     \n============================================\n  Files           346      351       +5     \n  Lines         15922    16120     +198     \n  Branches       1633     1646      +13     \n============================================\n+ Hits           8456     8628     +172     \n- Misses         6772     6789      +17     \n- Partials        694      703       +9     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.37% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `55.30% <ø> (+0.50%)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `32.94% <ø> (-0.12%)` | `0.00 <ø> (ø)` | |\n| hudispark | `65.58% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (+3.01%)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.88% <71.79%> (+0.52%)` | `0.00 <12.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2242?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.54% <ø> (ø)` | `49.00 <0.00> (ø)` | |\n| [...g/apache/hudi/utilities/sources/AvroDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb0RGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...ies/sources/selector/OverwriteDFSPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvc2VsZWN0b3IvT3ZlcndyaXRlREZTUGF0aFNlbGVjdG9yLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `62.94% <37.50%> (-1.26%)` | `31.00 <1.00> (+1.00)` | :arrow_down: |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `68.27% <80.00%> (-0.96%)` | `18.00 <0.00> (ø)` | |\n| [...di/utilities/config/HoodieDeltaStreamerConfig.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2NvbmZpZy9Ib29kaWVEZWx0YVN0cmVhbWVyQ29uZmlnLmphdmE=) | `100.00% <100.00%> (ø)` | `4.00 <4.00> (?)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `100.00% <100.00%> (ø)` | `10.00 <0.00> (ø)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `100.00% <100.00%> (ø)` | `4.00 <0.00> (ø)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `100.00% <100.00%> (ø)` | `5.00 <0.00> (ø)` | |\n| [...ties/sources/selector/AbstractDFSPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvc2VsZWN0b3IvQWJzdHJhY3RERlNQYXRoU2VsZWN0b3IuamF2YQ==) | `100.00% <100.00%> (ø)` | `1.00 <1.00> (?)` | |\n| ... and [35 more](https://codecov.io/gh/apache/hudi/pull/2242/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730253264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730306470","html_url":"https://github.com/apache/hudi/pull/2222#issuecomment-730306470","issue_url":"https://api.github.com/repos/apache/hudi/issues/2222","id":730306470,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDMwNjQ3MA==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T11:21:05Z","updated_at":"2020-11-19T11:21:05Z","author_association":"CONTRIBUTOR","body":"@vinothchandar  Can you take a look at this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730306470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730456220","html_url":"https://github.com/apache/hudi/issues/2100#issuecomment-730456220","issue_url":"https://api.github.com/repos/apache/hudi/issues/2100","id":730456220,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ1NjIyMA==","user":{"login":"spyzzz","id":5584892,"node_id":"MDQ6VXNlcjU1ODQ4OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5584892?v=4","gravatar_id":"","url":"https://api.github.com/users/spyzzz","html_url":"https://github.com/spyzzz","followers_url":"https://api.github.com/users/spyzzz/followers","following_url":"https://api.github.com/users/spyzzz/following{/other_user}","gists_url":"https://api.github.com/users/spyzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/spyzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spyzzz/subscriptions","organizations_url":"https://api.github.com/users/spyzzz/orgs","repos_url":"https://api.github.com/users/spyzzz/repos","events_url":"https://api.github.com/users/spyzzz/events{/privacy}","received_events_url":"https://api.github.com/users/spyzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T15:37:00Z","updated_at":"2020-11-19T17:15:30Z","author_association":"NONE","body":"Since i deployed hudi jar in HIVE auxlib to be able to request hive table without adding each time the JAR in the session. We have some clients who now systematically get this token hbase error... even if hbase isnt installed on our cluster.\r\nI think it might be a serious problem in hudi 0.6.0\r\n\r\n\r\nAfter recompiling hadoop-mr-bundle with the fix of @bhasudha and redeploying the jar on every hive client, the error doesnt appear anymore :)\r\n\r\nthanks @bhasudha.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730456220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730513524","html_url":"https://github.com/apache/hudi/pull/2254#issuecomment-730513524","issue_url":"https://api.github.com/repos/apache/hudi/issues/2254","id":730513524,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDUxMzUyNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T17:09:35Z","updated_at":"2020-12-27T12:15:13Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2254?src=pr&el=h1) Report\n> Merging [#2254](https://codecov.io/gh/apache/hudi/pull/2254?src=pr&el=desc) (a7e0c81) into [master](https://codecov.io/gh/apache/hudi/commit/38b9264dd041db955ffa4c0f10273e1b5fa21cfb?el=desc) (38b9264) will **increase** coverage by `0.01%`.\n> The diff coverage is `50.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2254/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2254?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2254      +/-   ##\n============================================\n+ Coverage     52.20%   52.21%   +0.01%     \n- Complexity     2659     2662       +3     \n============================================\n  Files           335      335              \n  Lines         14981    14983       +2     \n  Branches       1505     1506       +1     \n============================================\n+ Hits           7821     7824       +3     \n  Misses         6535     6535              \n+ Partials        625      624       -1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.83% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `54.74% <50.00%> (-0.03%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.52% <ø> (+0.23%)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2254?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/hudi/common/model/WriteOperationType.java](https://codecov.io/gh/apache/hudi/pull/2254/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL1dyaXRlT3BlcmF0aW9uVHlwZS5qYXZh) | `53.12% <50.00%> (-0.21%)` | `2.00 <0.00> (ø)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2254/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `77.11% <0.00%> (-1.70%)` | `23.00% <0.00%> (ø%)` | |\n| [...ache/hudi/hadoop/utils/HoodieInputFormatUtils.java](https://codecov.io/gh/apache/hudi/pull/2254/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3V0aWxzL0hvb2RpZUlucHV0Rm9ybWF0VXRpbHMuamF2YQ==) | `50.32% <0.00%> (+2.61%)` | `23.00% <0.00%> (+3.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730513524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730524203","html_url":"https://github.com/apache/hudi/pull/1565#issuecomment-730524203","issue_url":"https://api.github.com/repos/apache/hudi/issues/1565","id":730524203,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDUyNDIwMw==","user":{"login":"afilipchik","id":1406795,"node_id":"MDQ6VXNlcjE0MDY3OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1406795?v=4","gravatar_id":"","url":"https://api.github.com/users/afilipchik","html_url":"https://github.com/afilipchik","followers_url":"https://api.github.com/users/afilipchik/followers","following_url":"https://api.github.com/users/afilipchik/following{/other_user}","gists_url":"https://api.github.com/users/afilipchik/gists{/gist_id}","starred_url":"https://api.github.com/users/afilipchik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afilipchik/subscriptions","organizations_url":"https://api.github.com/users/afilipchik/orgs","repos_url":"https://api.github.com/users/afilipchik/repos","events_url":"https://api.github.com/users/afilipchik/events{/privacy}","received_events_url":"https://api.github.com/users/afilipchik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T17:28:15Z","updated_at":"2020-11-19T17:28:15Z","author_association":"CONTRIBUTOR","body":"Hey, any way to push it over the line? We are upgrading to 0.6 and in the current state evolutions on top of Confluent Schema registry is borked","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730524203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730596478","html_url":"https://github.com/apache/hudi/pull/2196#issuecomment-730596478","issue_url":"https://api.github.com/repos/apache/hudi/issues/2196","id":730596478,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDU5NjQ3OA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T19:45:19Z","updated_at":"2020-11-19T19:45:19Z","author_association":"MEMBER","body":"LGTM. @n3nash Can you take a pass and merge this?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730596478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730664726","html_url":"https://github.com/apache/hudi/pull/2263#issuecomment-730664726","issue_url":"https://api.github.com/repos/apache/hudi/issues/2263","id":730664726,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDY2NDcyNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T22:02:33Z","updated_at":"2020-12-22T02:36:07Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2263?src=pr&el=h1) Report\n> Merging [#2263](https://codecov.io/gh/apache/hudi/pull/2263?src=pr&el=desc) (6dc03b6) into [master](https://codecov.io/gh/apache/hudi/commit/e4e2fbc3bb2c4796c6813114dd1c37ffa5a1e03a?el=desc) (e4e2fbc) will **decrease** coverage by `42.42%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2263/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2263?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2263       +/-   ##\n=============================================\n- Coverage     52.46%   10.04%   -42.43%     \n+ Complexity     2654       48     -2606     \n=============================================\n  Files           332       52      -280     \n  Lines         14892     1852    -13040     \n  Branches       1496      223     -1273     \n=============================================\n- Hits           7813      186     -7627     \n+ Misses         6454     1653     -4801     \n+ Partials        625       13      -612     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.04% <ø> (-59.62%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2263?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [304 more](https://codecov.io/gh/apache/hudi/pull/2263/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730664726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730723941","html_url":"https://github.com/apache/hudi/pull/2196#issuecomment-730723941","issue_url":"https://api.github.com/repos/apache/hudi/issues/2196","id":730723941,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDcyMzk0MQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T00:32:46Z","updated_at":"2020-11-20T00:32:46Z","author_association":"CONTRIBUTOR","body":"> LGTM. @n3nash Can you take a pass and merge this?\r\n\r\n@satishkotha Thanks for your suggestion.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730723941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730736010","html_url":"https://github.com/apache/hudi/pull/2264#issuecomment-730736010","issue_url":"https://api.github.com/repos/apache/hudi/issues/2264","id":730736010,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDczNjAxMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T00:58:20Z","updated_at":"2020-12-17T07:10:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2264?src=pr&el=h1) Report\n> Merging [#2264](https://codecov.io/gh/apache/hudi/pull/2264?src=pr&el=desc) (cfc9d32) into [master](https://codecov.io/gh/apache/hudi/commit/93d9c25aee37d36c03e4c0edfc18db7da819ce2d?el=desc) (93d9c25) will **decrease** coverage by `42.30%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2264/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2264?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2264       +/-   ##\n=============================================\n- Coverage     52.36%   10.05%   -42.31%     \n+ Complexity     2631       48     -2583     \n=============================================\n  Files           329       52      -277     \n  Lines         14808     1850    -12958     \n  Branches       1484      223     -1261     \n=============================================\n- Hits           7754      186     -7568     \n+ Misses         6440     1651     -4789     \n+ Partials        614       13      -601     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.05% <0.00%> (-60.07%)` | `0.00 <0.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2264?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/hudi/utilities/sources/AvroDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb0RGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00 <0.00> (-10.00)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00 <0.00> (-4.00)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00 <0.00> (-5.00)` | |\n| [...udi/utilities/sources/helpers/DFSPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9ERlNQYXRoU2VsZWN0b3IuamF2YQ==) | `0.00% <0.00%> (-84.45%)` | `0.00 <0.00> (-14.00)` | |\n| [...ies/sources/helpers/DatePartitionPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9EYXRlUGFydGl0aW9uUGF0aFNlbGVjdG9yLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| ... and [313 more](https://codecov.io/gh/apache/hudi/pull/2264/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730736010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730760611","html_url":"https://github.com/apache/hudi/issues/2238#issuecomment-730760611","issue_url":"https://api.github.com/repos/apache/hudi/issues/2238","id":730760611,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDc2MDYxMQ==","user":{"login":"helianthuslulu","id":4606832,"node_id":"MDQ6VXNlcjQ2MDY4MzI=","avatar_url":"https://avatars.githubusercontent.com/u/4606832?v=4","gravatar_id":"","url":"https://api.github.com/users/helianthuslulu","html_url":"https://github.com/helianthuslulu","followers_url":"https://api.github.com/users/helianthuslulu/followers","following_url":"https://api.github.com/users/helianthuslulu/following{/other_user}","gists_url":"https://api.github.com/users/helianthuslulu/gists{/gist_id}","starred_url":"https://api.github.com/users/helianthuslulu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/helianthuslulu/subscriptions","organizations_url":"https://api.github.com/users/helianthuslulu/orgs","repos_url":"https://api.github.com/users/helianthuslulu/repos","events_url":"https://api.github.com/users/helianthuslulu/events{/privacy}","received_events_url":"https://api.github.com/users/helianthuslulu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T01:14:06Z","updated_at":"2020-11-20T01:14:06Z","author_association":"NONE","body":"I met one problem with **\"_hoodie_is_deletd\"**,too. and hudi version is 0.5.2:\r\n**1）kafaka data sample:**\r\n\"rowkey1\",\"value1\",\"value2\",true\r\n\"rowkey2\",\"value1\",\"value2\",false\r\n**2）spark Dataframe schema:**\r\n`val structSchema: StructType = StructType(\r\nList(\r\n    StructField(\"rowkey\", StringType, true),\r\n    StructField(\"rowkey\", StringType, true),\r\n    StructField(\"rowkey\", StringType, true),\r\n    StructField(\"_hoodie_is_deleted\", BooleanType, true),\r\n)\r\n)`\r\n3）query ways：\r\n①spark-shell\r\n②spark-sql\r\n③beeline\r\n④code：\r\nval tripsSnapshotDF = spark.\r\n  read.\r\n  format(\"hudi\").\r\n  load(basePath + \"/*/*/*/*\")\r\n//load(basePath) use \"/partitionKey=partitionValue\" folder structure for Spark auto partition discovery\r\ntripsSnapshotDF.createOrReplaceTempView(\"hudi_trips_snapshot\")\r\nspark.sql(\"select * from  hudi_trips_snapshot limit 20\").show()\r\n**4）quey result:\r\nresult data include lines \"_hoodie_is_deleted=true\"** \r\n\r\ncan you please give me some suggestion? @bvaradar \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730760611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730837343","html_url":"https://github.com/apache/hudi/issues/2238#issuecomment-730837343","issue_url":"https://api.github.com/repos/apache/hudi/issues/2238","id":730837343,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDgzNzM0Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T04:28:14Z","updated_at":"2020-11-20T04:28:14Z","author_association":"CONTRIBUTOR","body":"@RajasekarSribalan : sorry, missed this. Yes, you are right. if you use \"UPSERT\" operation, \"_hoodie_is_deleted\" value will be used to distinguish records to be deleted vs upserted. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730837343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730837495","html_url":"https://github.com/apache/hudi/issues/2238#issuecomment-730837495","issue_url":"https://api.github.com/repos/apache/hudi/issues/2238","id":730837495,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDgzNzQ5NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T04:28:44Z","updated_at":"2020-11-20T04:28:44Z","author_association":"CONTRIBUTOR","body":"@helianthuslulu : sorry I don't quite get your question. would you mind explaining once again.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730837495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730844186","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-730844186","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":730844186,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDg0NDE4Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T04:33:38Z","updated_at":"2020-11-20T04:33:38Z","author_association":"CONTRIBUTOR","body":"hmmm, interesting. reason I asked is that, we have a test w/ write client here https://github.com/apache/hudi/blob/master/hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java#L461 which tests this flow. I made some fixes locally to use MOR table type and test is succeeding. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730844186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730845323","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-730845323","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":730845323,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDg0NTMyMw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T04:36:52Z","updated_at":"2020-11-20T04:36:52Z","author_association":"CONTRIBUTOR","body":"If I can give you a patch w/ some log statements, would you be able to patch and give us the logs ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/730845323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731048060","html_url":"https://github.com/apache/hudi/pull/2246#issuecomment-731048060","issue_url":"https://api.github.com/repos/apache/hudi/issues/2246","id":731048060,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTA0ODA2MA==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T09:17:16Z","updated_at":"2020-11-20T09:17:44Z","author_association":"CONTRIBUTOR","body":"@yanghua : please have a review when free.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731048060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731104115","html_url":"https://github.com/apache/hudi/pull/2266#issuecomment-731104115","issue_url":"https://api.github.com/repos/apache/hudi/issues/2266","id":731104115,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTEwNDExNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T11:06:52Z","updated_at":"2020-12-01T04:54:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2266?src=pr&el=h1) Report\n> Merging [#2266](https://codecov.io/gh/apache/hudi/pull/2266?src=pr&el=desc) (7f84b12) into [rfc-15](https://codecov.io/gh/apache/hudi/commit/d305948cac63e2a88a8d2df5bdf64ffd6fc49f5a?el=desc) (d305948) will **decrease** coverage by `0.27%`.\n> The diff coverage is `42.04%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2266/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2266?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             rfc-15    #2266      +/-   ##\n============================================\n- Coverage     59.71%   59.44%   -0.28%     \n+ Complexity     4626     4604      -22     \n============================================\n  Files           569      573       +4     \n  Lines         24375    24400      +25     \n  Branches       2453     2445       -8     \n============================================\n- Hits          14556    14505      -51     \n- Misses         8776     8849      +73     \n- Partials       1043     1046       +3     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `66.86% <68.94%> (-0.66%)` | `0.00 <25.00> (ø)` | |\n| hudiclient | `75.58% <79.85%> (-0.81%)` | `0.00 <25.00> (ø)` | |\n| hudicommon | `52.58% <0.00%> (-0.05%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.05% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudispark | `67.19% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.43% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.38% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2266?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../org/apache/hudi/cli/commands/MetadataCommand.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL01ldGFkYXRhQ29tbWFuZC5qYXZh) | `1.11% <0.00%> (-0.07%)` | `1.00 <0.00> (ø)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...metadata/HoodieMetadataMergedLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFNZXJnZWRMb2dSZWNvcmRTY2FubmVyLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...rg/apache/hudi/metadata/HoodieMetadataMetrics.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFNZXRyaWNzLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...rg/apache/hudi/metadata/HoodieMetadataPayload.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFQYXlsb2FkLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [.../org/apache/hudi/metadata/HoodieTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...rg/apache/hudi/metadata/MetadataPartitionType.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvTWV0YWRhdGFQYXJ0aXRpb25UeXBlLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...hudi/metadata/HoodieBackedTableMetadataWriter.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YVdyaXRlci5qYXZh) | `76.47% <77.04%> (ø)` | `62.00 <18.00> (?)` | |\n| [.../apache/hudi/client/AbstractHoodieWriteClient.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0Fic3RyYWN0SG9vZGllV3JpdGVDbGllbnQuamF2YQ==) | `77.27% <100.00%> (ø)` | `21.00 <0.00> (ø)` | |\n| [...java/org/apache/hudi/client/HoodieWriteClient.java](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVdyaXRlQ2xpZW50LmphdmE=) | `75.95% <100.00%> (-1.53%)` | `56.00 <0.00> (-1.00)` | |\n| ... and [21 more](https://codecov.io/gh/apache/hudi/pull/2266/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731104115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731112341","html_url":"https://github.com/apache/hudi/pull/2246#issuecomment-731112341","issue_url":"https://api.github.com/repos/apache/hudi/issues/2246","id":731112341,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTExMjM0MQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T11:24:01Z","updated_at":"2020-11-20T11:24:01Z","author_association":"CONTRIBUTOR","body":"> @yanghua : please have a review when free.\r\n\r\nOK, @wangxianghu Can you give the first cycle review?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731112341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731164267","html_url":"https://github.com/apache/hudi/pull/2242#issuecomment-731164267","issue_url":"https://api.github.com/repos/apache/hudi/issues/2242","id":731164267,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTE2NDI2Nw==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T13:16:26Z","updated_at":"2020-11-20T13:16:26Z","author_association":"CONTRIBUTOR","body":"> @liujinhui1994 thanks for your contribution, would you please add more descriptions about this PR? I am not quite sure if I understand the purpose.\r\n\r\nplease review  \r\n@garyli1019 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731164267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731223526","html_url":"https://github.com/apache/hudi/pull/2254#issuecomment-731223526","issue_url":"https://api.github.com/repos/apache/hudi/issues/2254","id":731223526,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTIyMzUyNg==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T15:06:16Z","updated_at":"2020-11-20T15:06:16Z","author_association":"CONTRIBUTOR","body":"@satishkotha  hello , can you help to review ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731223526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731243494","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-731243494","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":731243494,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI0MzQ5NA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T15:42:18Z","updated_at":"2020-11-20T15:42:18Z","author_association":"CONTRIBUTOR","body":"> Left some comments. We are close. Some issues around index creation at various places, needs to be taken care of though\r\n\r\n@vinothchandar  yes , we are  so close. have resolved as your suggestion. can you help to review again. Thanks so much.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731243494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731243998","html_url":"https://github.com/apache/hudi/pull/2225#issuecomment-731243998","issue_url":"https://api.github.com/repos/apache/hudi/issues/2225","id":731243998,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI0Mzk5OA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T15:43:11Z","updated_at":"2020-11-20T15:43:11Z","author_association":"CONTRIBUTOR","body":"@vinothchandar  i think it is ready, can you help to review? thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731243998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731250494","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-731250494","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":731250494,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI1MDQ5NA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T15:55:00Z","updated_at":"2020-11-20T15:55:10Z","author_association":"NONE","body":"@nsivabalan - Yes you can provide me with the patch. Alternatively, I have the script I ran attached in the original post, so you can reproduce it on your end if needed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731250494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731295796","html_url":"https://github.com/apache/hudi/pull/2266#issuecomment-731295796","issue_url":"https://api.github.com/repos/apache/hudi/issues/2266","id":731295796,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI5NTc5Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T17:18:31Z","updated_at":"2020-11-20T17:18:31Z","author_association":"MEMBER","body":"cc @prashantwason @rmpifer  Here is the refactoring. At a high level, I introduced two interfaces. and cleaned up some wiring. \r\n\r\n@rmpifer  For the metadata table and timeline merging stuff,  you can probably add another implementation of `HoodieTableMetadata` that will wrap `FSBackedTableMetadata` and return the partition and file lists. \r\n\r\nPlease let me know your thoughts. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731295796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731296485","html_url":"https://github.com/apache/hudi/pull/2266#issuecomment-731296485","issue_url":"https://api.github.com/repos/apache/hudi/issues/2266","id":731296485,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI5NjQ4NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T17:19:55Z","updated_at":"2020-11-20T17:19:55Z","author_association":"MEMBER","body":"Will work on the timeline sync on top of this PR, as we discussed @prashantwason ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731296485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731303605","html_url":"https://github.com/apache/hudi/issues/2265#issuecomment-731303605","issue_url":"https://api.github.com/repos/apache/hudi/issues/2265","id":731303605,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTMwMzYwNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T17:33:29Z","updated_at":"2020-11-20T17:33:29Z","author_association":"MEMBER","body":"@umehrot2 @zhedoubushishi any early thoughts? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731303605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731306872","html_url":"https://github.com/apache/hudi/pull/1565#issuecomment-731306872","issue_url":"https://api.github.com/repos/apache/hudi/issues/1565","id":731306872,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTMwNjg3Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T17:40:27Z","updated_at":"2020-11-20T17:40:27Z","author_association":"MEMBER","body":"@pratyakshsharma any comments? do you have cycles in the next couple weeks to get this over finish line. \r\n\r\nWe can target this for 0.7.0 as well .","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731306872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731331217","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-731331217","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":731331217,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTMzMTIxNw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T18:14:55Z","updated_at":"2020-11-20T18:14:55Z","author_association":"CONTRIBUTOR","body":"oops. I missed that. Sure, that would be easy for me to debug. Will keep you informed. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731331217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731496394","html_url":"https://github.com/apache/hudi/issues/1958#issuecomment-731496394","issue_url":"https://api.github.com/repos/apache/hudi/issues/1958","id":731496394,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ5NjM5NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T02:52:32Z","updated_at":"2020-11-21T02:52:32Z","author_association":"CONTRIBUTOR","body":"@rmpifer : guess the patch is landed in master. can you try it out and close if it works. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731496394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731500309","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-731500309","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":731500309,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTUwMDMwOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T03:25:41Z","updated_at":"2020-11-21T03:25:41Z","author_association":"CONTRIBUTOR","body":"I see you are using DataSourceReadOptions.QUERY_TYPE_READ_OPTIMIZED_OPT_VAL. Can you try QUERY_TYPE_SNAPSHOT_OPT_VAL. read optimized will skip the delta commits. \r\nAlso, may I know why you are using ComplexKeyGenerator, I see your recordKey has only one field. So, you could resort to using SimpleKeyGenerator. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731500309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731505819","html_url":"https://github.com/apache/hudi/pull/2082#issuecomment-731505819","issue_url":"https://api.github.com/repos/apache/hudi/issues/2082","id":731505819,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTUwNTgxOQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T04:18:03Z","updated_at":"2020-11-21T04:18:03Z","author_association":"MEMBER","body":"Closing this , since we have the actual PR now from @satishkotha ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731505819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731507517","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-731507517","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":731507517,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTUwNzUxNw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T04:36:51Z","updated_at":"2020-11-21T04:36:51Z","author_association":"NONE","body":"@nsivabalan - The reason why I am using DataSourceReadOptions.QUERY_TYPE_READ_OPTIMIZED_OPT_VAL is because we are querying from AWS Athena, which does not support reading from real-time tables. Also, we use ComplexKeyGenerator because most of our tables have 2+ columns as the primary key.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731507517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731516353","html_url":"https://github.com/apache/hudi/pull/2227#issuecomment-731516353","issue_url":"https://api.github.com/repos/apache/hudi/issues/2227","id":731516353,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTUxNjM1Mw==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T06:20:41Z","updated_at":"2020-11-21T06:20:41Z","author_association":"CONTRIBUTOR","body":"Hi @liujinhui1994 is this pr ready for review ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731516353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731591656","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-731591656","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":731591656,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTU5MTY1Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T15:08:32Z","updated_at":"2020-11-21T15:08:51Z","author_association":"CONTRIBUTOR","body":"oh I see. we might have too ask for support w/ athena only. read optimized won't give you latest updates. If you want to see full snapshot, there is a workaround, but incurs additional step. You can trigger compaction which will compact all delta commits to base commit files and then if you run your query, it should work. \r\n@bvaradar : any other thoughts here. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731591656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731594308","html_url":"https://github.com/apache/hudi/pull/2268#issuecomment-731594308","issue_url":"https://api.github.com/repos/apache/hudi/issues/2268","id":731594308,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTU5NDMwOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T15:29:57Z","updated_at":"2020-11-21T16:02:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2268?src=pr&el=h1) Report\n> Merging [#2268](https://codecov.io/gh/apache/hudi/pull/2268?src=pr&el=desc) (c85ddba) into [master](https://codecov.io/gh/apache/hudi/commit/c8d5ea2752f8289b9dec37a149e82c030f657924?el=desc) (c8d5ea2) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2268/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2268?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2268   +/-   ##\n=========================================\n  Coverage     53.51%   53.51%           \n  Complexity     2769     2769           \n=========================================\n  Files           348      348           \n  Lines         16107    16107           \n  Branches       1643     1643           \n=========================================\n  Hits           8619     8619           \n  Misses         6789     6789           \n  Partials        699      699           \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.37% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `55.27% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `32.94% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudispark | `65.58% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `70.06% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731594308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731594850","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-731594850","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":731594850,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTU5NDg1MA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T15:34:38Z","updated_at":"2020-11-21T15:34:38Z","author_association":"CONTRIBUTOR","body":"@WTa-hash : can you try skipping the option. \r\nvar hudiDf: DataFrame = spark.read.format(hudiFormat).load(hudiReadPath).orderBy(functions.asc(primaryKey), functions.asc(precombineKey))\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731594850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731599644","html_url":"https://github.com/apache/hudi/pull/2196#issuecomment-731599644","issue_url":"https://api.github.com/repos/apache/hudi/issues/2196","id":731599644,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTU5OTY0NA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T16:13:24Z","updated_at":"2020-11-21T16:13:24Z","author_association":"CONTRIBUTOR","body":"> LGTM. @n3nash Can you take a pass and merge this?\r\n\r\n@n3nash  Can you help to review? thanks ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731599644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731602398","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-731602398","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":731602398,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTYwMjM5OA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T16:36:12Z","updated_at":"2020-11-21T16:36:12Z","author_association":"NONE","body":"@nsivabalan - I am using MOR table type because I want to provide users with the option of using it more COW-like by setting hoodie.compact.inline.max.delta.commits=1 if data latency is not a concern, or set hoodie.compact.inline.max.delta.commits to a higher value if they want lower data latency. Users will know that with lower data latency (higher hoodie.compact.inline.max.delta.commits value), the read-optimized table may not be the latest, and this is fine.\r\n\r\nWe're trying to give users that option between data latency and read-optimized table freshness using MOR table.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731602398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731626024","html_url":"https://github.com/apache/hudi/pull/2168#issuecomment-731626024","issue_url":"https://api.github.com/repos/apache/hudi/issues/2168","id":731626024,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTYyNjAyNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T19:35:16Z","updated_at":"2020-11-21T19:35:16Z","author_association":"CONTRIBUTOR","body":"@n3nash : addressed all feedback man. Please review it when you can. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731626024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731650631","html_url":"https://github.com/apache/hudi/issues/2267#issuecomment-731650631","issue_url":"https://api.github.com/repos/apache/hudi/issues/2267","id":731650631,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY1MDYzMQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T23:12:27Z","updated_at":"2020-11-21T23:12:27Z","author_association":"CONTRIBUTOR","body":"@bithw1 : The 3 Parquet files are different versions of the same file. \r\n\r\nYour second and third batch has both new records and updates. Hudi will write new records to parquet files but can route updates to delta files. As you have very few records in the initial parquet file, Hudi will route both new records and updates to the same Parquet file and a new version of the file is created. \r\n\r\nIf you do only have updates in batch 2, you will see the delta files.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731650631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731656591","html_url":"https://github.com/apache/hudi/issues/2269#issuecomment-731656591","issue_url":"https://api.github.com/repos/apache/hudi/issues/2269","id":731656591,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY1NjU5MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T00:14:33Z","updated_at":"2020-11-22T00:14:33Z","author_association":"CONTRIBUTOR","body":"@AakashPradeep : I can quickly tell that the number of partitions is really high relative to the file size in each partition. It looks like each partition has only very little records (Parquet size ~ 400K).  S3 listing becomes a huge bottleneck in this case. I have seen S3 listing taking really long time to perform listing for ~100K partitions.  With 0.7.0 (next release), we are going to have 0-listing writes supported which will avoid this bottleneck.  \r\n\r\nBut generally, you have too many partitions relative to your dataset size. If possible, keeping lower cardinality column as partition would help.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731656591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731670954","html_url":"https://github.com/apache/hudi/issues/2267#issuecomment-731670954","issue_url":"https://api.github.com/repos/apache/hudi/issues/2267","id":731670954,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY3MDk1NA==","user":{"login":"bithw1","id":24691083,"node_id":"MDQ6VXNlcjI0NjkxMDgz","avatar_url":"https://avatars.githubusercontent.com/u/24691083?v=4","gravatar_id":"","url":"https://api.github.com/users/bithw1","html_url":"https://github.com/bithw1","followers_url":"https://api.github.com/users/bithw1/followers","following_url":"https://api.github.com/users/bithw1/following{/other_user}","gists_url":"https://api.github.com/users/bithw1/gists{/gist_id}","starred_url":"https://api.github.com/users/bithw1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bithw1/subscriptions","organizations_url":"https://api.github.com/users/bithw1/orgs","repos_url":"https://api.github.com/users/bithw1/repos","events_url":"https://api.github.com/users/bithw1/events{/privacy}","received_events_url":"https://api.github.com/users/bithw1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T02:14:48Z","updated_at":"2020-11-22T02:14:48Z","author_association":"NONE","body":"Hi @bvaradar , thanks a lot for the great help. I tried your instruction, and it works as expected now.  \r\nSo, I am closing this issue now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731670954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731694233","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-731694233","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":731694233,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY5NDIzMw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T03:50:15Z","updated_at":"2020-11-22T03:54:33Z","author_association":"CONTRIBUTOR","body":"got you. But can confirm that w/ athena have you tried skipping this option DataSourceReadOptions.QUERY_TYPE_OPT_KEY while reading? \r\nbtw, a clarification. A single dataset may not be able to serve both purpose right. I mean, either you can set hoodie.compact.inline.max.delta.commits=1 or you can set some higher value. these are per dataset configs. So, not sure how can you achieve both usecases with a single MOR dataset. \r\nThats is why we have snapshot and read optimized query to cater to this scenario. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731694233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731698177","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-731698177","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":731698177,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY5ODE3Nw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T04:51:50Z","updated_at":"2020-11-22T04:51:50Z","author_association":"NONE","body":"> got you. But can confirm that w/ athena have you tried skipping this option DataSourceReadOptions.QUERY_TYPE_OPT_KEY while reading?\r\n> btw, a clarification. A single dataset may not be able to serve both purpose right. I mean, either you can set hoodie.compact.inline.max.delta.commits=1 or you can set some higher value. these are per dataset configs. So, not sure how can you achieve both usecases with a single MOR dataset.\r\n> Thats is why we have snapshot and read optimized query to cater to this scenario.\r\n\r\nUsing Athena to query this MOR table, I get the exact same resultset as the MOR screenshots from the original post. Athena can only read from read optimized table, so I didn't include DataSourceReadOptions.QUERY_TYPE_OPT_KEY.\r\n\r\nThe way we have our Spark application set up is that teams are free to decide how they want to use hoodie.compact.inline.max.delta.commits. Teams have their own databases/streams, so one team may run the application on stream X with hoodie.compact.inline.max.delta.commits=1 if data latency is not important and another team may run a separate application instance on stream Y with hoodie.compact.inline.max.delta.commits=20 if data latency is important.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731698177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731716892","html_url":"https://github.com/apache/hudi/pull/1565#issuecomment-731716892","issue_url":"https://api.github.com/repos/apache/hudi/issues/1565","id":731716892,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTcxNjg5Mg==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T08:48:30Z","updated_at":"2020-11-22T08:48:30Z","author_association":"CONTRIBUTOR","body":"Hi, I am currently facing issues with my laptop. Replacement is on its way. I will pick this up as soon as I get the new laptop, most probably in another 2 days. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731716892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731756397","html_url":"https://github.com/apache/hudi/pull/2272#issuecomment-731756397","issue_url":"https://api.github.com/repos/apache/hudi/issues/2272","id":731756397,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTc1NjM5Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T14:27:11Z","updated_at":"2020-11-27T15:04:10Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2272?src=pr&el=h1) Report\n> Merging [#2272](https://codecov.io/gh/apache/hudi/pull/2272?src=pr&el=desc) (2e6ebef) into [master](https://codecov.io/gh/apache/hudi/commit/537502a8efd92ebed43ab245b0802f3b9d251cc2?el=desc) (537502a) will **decrease** coverage by `43.11%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2272/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2272?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2272       +/-   ##\n=============================================\n- Coverage     53.52%   10.41%   -43.12%     \n+ Complexity     2770       48     -2722     \n=============================================\n  Files           348       50      -298     \n  Lines         16107     1777    -14330     \n  Branches       1643      211     -1432     \n=============================================\n- Hits           8622      185     -8437     \n+ Misses         6786     1579     -5207     \n+ Partials        699       13      -686     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudispark | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.41% <ø> (-59.66%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2272?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| ... and [325 more](https://codecov.io/gh/apache/hudi/pull/2272/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731756397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731888877","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-731888877","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":731888877,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTg4ODg3Nw==","user":{"login":"Carl-Zhou-CN","id":67902676,"node_id":"MDQ6VXNlcjY3OTAyNjc2","avatar_url":"https://avatars.githubusercontent.com/u/67902676?v=4","gravatar_id":"","url":"https://api.github.com/users/Carl-Zhou-CN","html_url":"https://github.com/Carl-Zhou-CN","followers_url":"https://api.github.com/users/Carl-Zhou-CN/followers","following_url":"https://api.github.com/users/Carl-Zhou-CN/following{/other_user}","gists_url":"https://api.github.com/users/Carl-Zhou-CN/gists{/gist_id}","starred_url":"https://api.github.com/users/Carl-Zhou-CN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Carl-Zhou-CN/subscriptions","organizations_url":"https://api.github.com/users/Carl-Zhou-CN/orgs","repos_url":"https://api.github.com/users/Carl-Zhou-CN/repos","events_url":"https://api.github.com/users/Carl-Zhou-CN/events{/privacy}","received_events_url":"https://api.github.com/users/Carl-Zhou-CN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T01:45:40Z","updated_at":"2020-11-23T01:45:40Z","author_association":"MEMBER","body":"Please add me 1058249259@qq.com thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731888877/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731889367","html_url":"https://github.com/apache/hudi/pull/2192#issuecomment-731889367","issue_url":"https://api.github.com/repos/apache/hudi/issues/2192","id":731889367,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTg4OTM2Nw==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T01:49:08Z","updated_at":"2020-11-23T01:49:08Z","author_association":"CONTRIBUTOR","body":"@bvaradar  please help review","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731889367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731908622","html_url":"https://github.com/apache/hudi/issues/2269#issuecomment-731908622","issue_url":"https://api.github.com/repos/apache/hudi/issues/2269","id":731908622,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTkwODYyMg==","user":{"login":"asharma4-lucid","id":64492084,"node_id":"MDQ6VXNlcjY0NDkyMDg0","avatar_url":"https://avatars.githubusercontent.com/u/64492084?v=4","gravatar_id":"","url":"https://api.github.com/users/asharma4-lucid","html_url":"https://github.com/asharma4-lucid","followers_url":"https://api.github.com/users/asharma4-lucid/followers","following_url":"https://api.github.com/users/asharma4-lucid/following{/other_user}","gists_url":"https://api.github.com/users/asharma4-lucid/gists{/gist_id}","starred_url":"https://api.github.com/users/asharma4-lucid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asharma4-lucid/subscriptions","organizations_url":"https://api.github.com/users/asharma4-lucid/orgs","repos_url":"https://api.github.com/users/asharma4-lucid/repos","events_url":"https://api.github.com/users/asharma4-lucid/events{/privacy}","received_events_url":"https://api.github.com/users/asharma4-lucid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T03:30:44Z","updated_at":"2020-11-23T03:30:44Z","author_association":"NONE","body":"Thanks @bvaradar for your response. I have a few more questions:\r\n\r\n1) The reason we have kept the partition key that we are using is, because we wanted to gain O(1) read performance for the same. It is my understanding that this many number of partitions puts memory pressure on the executors as each executor creates as many writers as the partitions. (I am assuming in HDFS namenode would also be impacted, but since we are using S3, I am discounting that, but do let me know if I am mistaken). It is here that I wanted to confirm my understanding. Every day our process will update around ~12K partitions + insert ~33 K new partitions. So, my question is will the executors doing the hudi table write create ~44K writers contributing to the memory pressure. Or will the already existing partitions, i.e. ~300K also be touched in some way by the hudi table write executors leading to performance degradation as we continue to add more table to the hudi table?\r\n\r\n2) Just to confirm my understanding, when you mentioned s3 listing as the bottleneck, you meant that the s3 listing of all the partitions and files for the hudi table and not just the partitions updated and/or inserted for that specific process. So, in my case, that would imply that the Hudi table write process is doing an s3 listing of already existing ~300 K partitions and associated files and not just the ~44K partitions for the specific execution. And this is probably in line with what we have observed as well. Because for the intial 15 day processes, each hudi table write completed in around 4 hrs and then from the 16th day onwards, it gradually started increasing from 4 to 5 to 6 and now to almost 9 hrs per day as we move ahead. Can you please confirm?\r\n\r\n3) If s3 listing requirement is made optional in hudi 0.7.0, then can we continue to use the partition key that we are using assuming that every day our process will add/update ~44K partitions in the hudi table? I understand that is not the best partition key as it has very high cardinality, but our read requirement is what is driving us towards this. I guess this might be related to question 1 above, but my question is, is there any other downside as well that you could glean from our use of this partition key apart from the s3 listing dependency?\r\n\r\n4) We are trying to see if spark bucketing on the key would be a good middle ground between partition on the key and not using partitioning. Does hudi table write support bucketed writes and consequently, are the hudi table reads able to use the buckets for optimal read performance? Something like, O(1) hash + O(log m) binary search where m is the number of records in each bucketed file.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/731908622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732109119","html_url":"https://github.com/apache/hudi/pull/2262#issuecomment-732109119","issue_url":"https://api.github.com/repos/apache/hudi/issues/2262","id":732109119,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjEwOTExOQ==","user":{"login":"linshan-ma","id":23548282,"node_id":"MDQ6VXNlcjIzNTQ4Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/23548282?v=4","gravatar_id":"","url":"https://api.github.com/users/linshan-ma","html_url":"https://github.com/linshan-ma","followers_url":"https://api.github.com/users/linshan-ma/followers","following_url":"https://api.github.com/users/linshan-ma/following{/other_user}","gists_url":"https://api.github.com/users/linshan-ma/gists{/gist_id}","starred_url":"https://api.github.com/users/linshan-ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linshan-ma/subscriptions","organizations_url":"https://api.github.com/users/linshan-ma/orgs","repos_url":"https://api.github.com/users/linshan-ma/repos","events_url":"https://api.github.com/users/linshan-ma/events{/privacy}","received_events_url":"https://api.github.com/users/linshan-ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T11:41:57Z","updated_at":"2020-12-15T06:00:52Z","author_association":"CONTRIBUTOR","body":"@n3nash  The hive/hudi table have contain partition `'year=2020/month=01/day=11'`, when you write a new partition `'year=2020/month=11/day=01'` to the table, it will throw error! Because in the getPartitionEvents method logic, 'year=2020/month=01/day=11' will transfer to be \"01, 11, 2020\" and 'year=2020/month=11/day=01' will transfer to be \"01, 11, 2020\" too, So the new partition 'year=2020/month=11/day=01' is treated as a update event actually it is a new partition, and the coming processing will update the table partitions using \"ALTER TABLE XX PARTITION (year='2020',month='11',day='01') SET LOCATION ...\"! To update a not existed partition will throw error!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732109119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732110121","html_url":"https://github.com/apache/hudi/pull/2262#issuecomment-732110121","issue_url":"https://api.github.com/repos/apache/hudi/issues/2262","id":732110121,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjExMDEyMQ==","user":{"login":"linshan-ma","id":23548282,"node_id":"MDQ6VXNlcjIzNTQ4Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/23548282?v=4","gravatar_id":"","url":"https://api.github.com/users/linshan-ma","html_url":"https://github.com/linshan-ma","followers_url":"https://api.github.com/users/linshan-ma/followers","following_url":"https://api.github.com/users/linshan-ma/following{/other_user}","gists_url":"https://api.github.com/users/linshan-ma/gists{/gist_id}","starred_url":"https://api.github.com/users/linshan-ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linshan-ma/subscriptions","organizations_url":"https://api.github.com/users/linshan-ma/orgs","repos_url":"https://api.github.com/users/linshan-ma/repos","events_url":"https://api.github.com/users/linshan-ma/events{/privacy}","received_events_url":"https://api.github.com/users/linshan-ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T11:43:54Z","updated_at":"2020-11-23T11:43:54Z","author_association":"CONTRIBUTOR","body":"> @linshan-ma Can you please describe the need for this change ?\r\n\r\nThis is described in more detail。https://github.com/apache/hudi/issues/2234","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732110121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732127860","html_url":"https://github.com/apache/hudi/pull/2243#issuecomment-732127860","issue_url":"https://api.github.com/repos/apache/hudi/issues/2243","id":732127860,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjEyNzg2MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T12:19:54Z","updated_at":"2020-11-23T12:56:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2243?src=pr&el=h1) Report\n> Merging [#2243](https://codecov.io/gh/apache/hudi/pull/2243?src=pr&el=desc) (32def27) into [master](https://codecov.io/gh/apache/hudi/commit/971f028aaf3e90ddee571e9862509d34a637782d?el=desc) (971f028) will **decrease** coverage by `0.01%`.\n> The diff coverage is `50.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2243/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2243?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2243      +/-   ##\n============================================\n- Coverage     53.56%   53.55%   -0.02%     \n+ Complexity     2771     2770       -1     \n============================================\n  Files           348      348              \n  Lines         16100    16102       +2     \n  Branches       1639     1640       +1     \n============================================\n- Hits           8624     8623       -1     \n- Misses         6778     6781       +3     \n  Partials        698      698              \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.50% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `55.29% <ø> (-0.04%)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `32.94% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudispark | `65.63% <50.00%> (+0.04%)` | `0.00 <0.00> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `70.06% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2243?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...main/scala/org/apache/hudi/DataSourceOptions.scala](https://codecov.io/gh/apache/hudi/pull/2243/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGF0YVNvdXJjZU9wdGlvbnMuc2NhbGE=) | `95.00% <40.00%> (+0.08%)` | `0.00 <0.00> (ø)` | |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/2243/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGVmYXVsdFNvdXJjZS5zY2FsYQ==) | `87.93% <100.00%> (ø)` | `14.00 <0.00> (ø)` | |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2243/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `15.00% <0.00%> (-1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732127860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732133438","html_url":"https://github.com/apache/hudi/pull/2243#issuecomment-732133438","issue_url":"https://api.github.com/repos/apache/hudi/issues/2243","id":732133438,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjEzMzQzOA==","user":{"login":"yui2010","id":3294003,"node_id":"MDQ6VXNlcjMyOTQwMDM=","avatar_url":"https://avatars.githubusercontent.com/u/3294003?v=4","gravatar_id":"","url":"https://api.github.com/users/yui2010","html_url":"https://github.com/yui2010","followers_url":"https://api.github.com/users/yui2010/followers","following_url":"https://api.github.com/users/yui2010/following{/other_user}","gists_url":"https://api.github.com/users/yui2010/gists{/gist_id}","starred_url":"https://api.github.com/users/yui2010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yui2010/subscriptions","organizations_url":"https://api.github.com/users/yui2010/orgs","repos_url":"https://api.github.com/users/yui2010/repos","events_url":"https://api.github.com/users/yui2010/events{/privacy}","received_events_url":"https://api.github.com/users/yui2010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T12:31:08Z","updated_at":"2020-11-23T12:31:08Z","author_association":"CONTRIBUTOR","body":"hi, garyli1019 \r\n    thanks for your review\r\n1. \"getting a basepath instead of basePath in the map\"\r\n     the map is a CaseInsensitiveMap (https://github.com/apache/spark/blob/v2.4.4/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/util/CaseInsensitiveMap.scala) it store lowercase key . it will return correct value when call its get method\r\n2. \"the user defined query type will be replaced by the DEFAULT_QUERY_TYPE_OPT_VAL\"\r\n    i missed the logic . and i changed it in translateViewTypesToQueryTypes method","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732133438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732175563","html_url":"https://github.com/apache/hudi/pull/2243#issuecomment-732175563","issue_url":"https://api.github.com/repos/apache/hudi/issues/2243","id":732175563,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjE3NTU2Mw==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T13:53:23Z","updated_at":"2020-11-23T13:53:23Z","author_association":"MEMBER","body":"Hi @yui2010 , sorry I am not quite sure if I understand correctly.\r\nSo the problem here is Spark with version lower than 2.4.7 will use Map.get(\"basePath\") but the actual key in the Map has been converted to \"basepath\". Therefore we need to somehow force Spark to use CaseInsensitiveMap.get(\"basePath\"), and then we will get the correct result. Is that correct?\r\nIf so, how can we do that on the Hudi side?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732175563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732324465","html_url":"https://github.com/apache/hudi/pull/2275#issuecomment-732324465","issue_url":"https://api.github.com/repos/apache/hudi/issues/2275","id":732324465,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjMyNDQ2NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T17:53:52Z","updated_at":"2020-12-27T12:32:12Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2275?src=pr&el=h1) Report\n> Merging [#2275](https://codecov.io/gh/apache/hudi/pull/2275?src=pr&el=desc) (589e9b1) into [master](https://codecov.io/gh/apache/hudi/commit/959afb8ba4cadf0fe09ddd6d67f9bf38bea13050?el=desc) (959afb8) will **increase** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2275/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2275?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2275      +/-   ##\n============================================\n+ Coverage     52.20%   52.23%   +0.02%     \n- Complexity     2659     2662       +3     \n============================================\n  Files           335      335              \n  Lines         14981    14981              \n  Branches       1505     1506       +1     \n============================================\n+ Hits           7821     7825       +4     \n+ Misses         6535     6533       -2     \n+ Partials        625      623       -2     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.83% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `54.76% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.52% <ø> (+0.23%)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2275?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/hadoop/utils/HoodieInputFormatUtils.java](https://codecov.io/gh/apache/hudi/pull/2275/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3V0aWxzL0hvb2RpZUlucHV0Rm9ybWF0VXRpbHMuamF2YQ==) | `50.32% <0.00%> (+2.61%)` | `23.00% <0.00%> (+3.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732324465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732324996","html_url":"https://github.com/apache/hudi/pull/1929#issuecomment-732324996","issue_url":"https://api.github.com/repos/apache/hudi/issues/1929","id":732324996,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjMyNDk5Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T17:54:47Z","updated_at":"2020-11-23T17:54:47Z","author_association":"MEMBER","body":"@leesf are you still pursuing this?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732324996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732326913","html_url":"https://github.com/apache/hudi/pull/2111#issuecomment-732326913","issue_url":"https://api.github.com/repos/apache/hudi/issues/2111","id":732326913,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjMyNjkxMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T17:58:06Z","updated_at":"2020-11-23T17:58:06Z","author_association":"MEMBER","body":"@SteNicholas still interested in driving this forward?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732326913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732331685","html_url":"https://github.com/apache/hudi/pull/2222#issuecomment-732331685","issue_url":"https://api.github.com/repos/apache/hudi/issues/2222","id":732331685,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjMzMTY4NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T18:06:09Z","updated_at":"2020-11-23T18:06:09Z","author_association":"MEMBER","body":"@shenh062326 are you planning to follow on with a full impl of a java based client? Changes LGTM.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732331685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732367698","html_url":"https://github.com/apache/hudi/issues/2269#issuecomment-732367698","issue_url":"https://api.github.com/repos/apache/hudi/issues/2269","id":732367698,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM2NzY5OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T19:12:57Z","updated_at":"2020-11-23T19:12:57Z","author_association":"CONTRIBUTOR","body":"1. Only the files having records to be updated or added will be \"touched\" by Hudi.\r\n2.Hudi write operations would only load the partitions that are needed for writing (only partitions that are getting affected). There are background processes like cleaner and compaction scheduling which would need to look at the entire dataset.\r\n3.Apart of listing issue, if you are using HMS for your query, you would need to look at how it is performing during query planning phases when your queries are hitting it to prune directories to be queried.\r\n4. Spark bucketing is not supported currently. You can add an explicit partition column which would bound the search space but would require users to include them in the query.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732367698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732372430","html_url":"https://github.com/apache/hudi/issues/2270#issuecomment-732372430","issue_url":"https://api.github.com/repos/apache/hudi/issues/2270","id":732372430,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM3MjQzMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T19:21:13Z","updated_at":"2020-11-23T19:21:13Z","author_association":"CONTRIBUTOR","body":"Currently, as part of Apache release, source code and jar files are published. Binary release is not done though. I have added a jira : https://issues.apache.org/jira/browse/HUDI-1413 for this.\r\n\r\nFor now, you can download code from https://dist.apache.org/repos/dist/release/hudi/0.6.0/hudi-0.6.0.src.tgz\r\n1. run mvn clean package -DskipTests \r\n2. tar -zcvf hudi-cli.tgz hudi-cli/\r\n3. Copy the above tarball and untar and run ./hudi-cli.sh\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732372430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732374613","html_url":"https://github.com/apache/hudi/issues/2273#issuecomment-732374613","issue_url":"https://api.github.com/repos/apache/hudi/issues/2273","id":732374613,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM3NDYxMw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T19:25:15Z","updated_at":"2020-11-23T19:25:15Z","author_association":"CONTRIBUTOR","body":"Can you try this format (Example below)\r\n\r\nspark-submit  --deploy-mode cluster --master yarn --driver-memory 4G --executor-memory 8G --num-executors 32 --executor-cores 2 --conf spark.yarn.driver.memoryOverhead=1024 --conf spark.yarn.executor.memoryOverhead=3072 --conf spark.driver.maxResultSize=2G  --conf spark.serializer=org.apache.spark.serializer.KryoSerializer --class org.apache.hudi.utilities.HoodieCompactor  /path/to/hudi-utilities-bundle_2.11-0.6.0.jar \\\r\n--base-path $BASE_PATH \\\r\n--table-name $TABLE_NAME \\\r\n--instant-time 20201120102911 \\\r\n--schema-file $SCHEMA_FILE","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732374613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732394899","html_url":"https://github.com/apache/hudi/pull/2231#issuecomment-732394899","issue_url":"https://api.github.com/repos/apache/hudi/issues/2231","id":732394899,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM5NDg5OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T20:02:42Z","updated_at":"2020-12-01T11:01:50Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2231?src=pr&el=h1) Report\n> Merging [#2231](https://codecov.io/gh/apache/hudi/pull/2231?src=pr&el=desc) (4ce1762) into [master](https://codecov.io/gh/apache/hudi/commit/36ce5bcd92fa6cb2fb88677eae1a7a846f606e3f?el=desc) (36ce5bc) will **decrease** coverage by `0.08%`.\n> The diff coverage is `21.31%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2231/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2231?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2231      +/-   ##\n============================================\n- Coverage     53.55%   53.46%   -0.09%     \n- Complexity     2773     2780       +7     \n============================================\n  Files           348      354       +6     \n  Lines         16118    16152      +34     \n  Branches       1642     1647       +5     \n============================================\n+ Hits           8632     8636       +4     \n- Misses         6788     6817      +29     \n- Partials        698      699       +1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.50% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `55.10% <21.31%> (-0.17%)` | `0.00 <6.00> (ø)` | |\n| hudihadoopmr | `32.94% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudispark | `65.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `70.06% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2231?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...til/jvm/HotSpotMemoryLayoutSpecification32bit.java](https://codecov.io/gh/apache/hudi/pull/2231/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL0hvdFNwb3RNZW1vcnlMYXlvdXRTcGVjaWZpY2F0aW9uMzJiaXQuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...til/jvm/HotSpotMemoryLayoutSpecification64bit.java](https://codecov.io/gh/apache/hudi/pull/2231/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL0hvdFNwb3RNZW1vcnlMYXlvdXRTcGVjaWZpY2F0aW9uNjRiaXQuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...util/jvm/OpenJ9MemoryLayoutSpecification32bit.java](https://codecov.io/gh/apache/hudi/pull/2231/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL09wZW5KOU1lbW9yeUxheW91dFNwZWNpZmljYXRpb24zMmJpdC5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...util/jvm/OpenJ9MemoryLayoutSpecification64bit.java](https://codecov.io/gh/apache/hudi/pull/2231/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL09wZW5KOU1lbW9yeUxheW91dFNwZWNpZmljYXRpb242NGJpdC5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...penJ9MemoryLayoutSpecification64bitCompressed.java](https://codecov.io/gh/apache/hudi/pull/2231/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL09wZW5KOU1lbW9yeUxheW91dFNwZWNpZmljYXRpb242NGJpdENvbXByZXNzZWQuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [.../apache/hudi/common/util/ObjectSizeCalculator.java](https://codecov.io/gh/apache/hudi/pull/2231/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvT2JqZWN0U2l6ZUNhbGN1bGF0b3IuamF2YQ==) | `73.48% <28.00%> (-2.64%)` | `24.00 <0.00> (ø)` | |\n| [...tSpotMemoryLayoutSpecification64bitCompressed.java](https://codecov.io/gh/apache/hudi/pull/2231/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL0hvdFNwb3RNZW1vcnlMYXlvdXRTcGVjaWZpY2F0aW9uNjRiaXRDb21wcmVzc2VkLmphdmE=) | `100.00% <100.00%> (ø)` | `6.00 <6.00> (?)` | |\n| ... and [4 more](https://codecov.io/gh/apache/hudi/pull/2231/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732394899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732413046","html_url":"https://github.com/apache/hudi/issues/2274#issuecomment-732413046","issue_url":"https://api.github.com/repos/apache/hudi/issues/2274","id":732413046,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQxMzA0Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T20:38:25Z","updated_at":"2020-11-23T20:38:25Z","author_association":"CONTRIBUTOR","body":"@quitozang : Are you seeing the data getting read twice from Kafka ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/732413046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]