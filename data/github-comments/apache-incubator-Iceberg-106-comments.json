[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898600111","html_url":"https://github.com/apache/iceberg/pull/2965#issuecomment-898600111","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2965","id":898600111,"node_id":"IC_kwDOCW7NX841j4yv","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T17:03:38Z","updated_at":"2021-08-13T17:03:38Z","author_association":"CONTRIBUTOR","body":"close to force restart CI","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898600111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898687084","html_url":"https://github.com/apache/iceberg/pull/2971#issuecomment-898687084","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2971","id":898687084,"node_id":"IC_kwDOCW7NX841kOBs","user":{"login":"bitsondatadev","id":8547669,"node_id":"MDQ6VXNlcjg1NDc2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8547669?v=4","gravatar_id":"","url":"https://api.github.com/users/bitsondatadev","html_url":"https://github.com/bitsondatadev","followers_url":"https://api.github.com/users/bitsondatadev/followers","following_url":"https://api.github.com/users/bitsondatadev/following{/other_user}","gists_url":"https://api.github.com/users/bitsondatadev/gists{/gist_id}","starred_url":"https://api.github.com/users/bitsondatadev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitsondatadev/subscriptions","organizations_url":"https://api.github.com/users/bitsondatadev/orgs","repos_url":"https://api.github.com/users/bitsondatadev/repos","events_url":"https://api.github.com/users/bitsondatadev/events{/privacy}","received_events_url":"https://api.github.com/users/bitsondatadev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T19:53:04Z","updated_at":"2021-08-13T19:53:04Z","author_association":"COLLABORATOR","body":"Thanks @danielcweeks! :)\r\n\r\nThere's also a fourth blog that admittedly has some formatting issues if you look at it on mobile. We're creating an engineering blog soon so that these aren't hosted on the limited capabilities of hubspot. \r\n\r\nHere's the the fourth blog if you're interested in adding it.\r\nhttps://blog.starburst.io/trino-on-ice-iv-deep-dive-into-iceberg-internals","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898687084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898716135","html_url":"https://github.com/apache/iceberg/issues/2972#issuecomment-898716135","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2972","id":898716135,"node_id":"IC_kwDOCW7NX841kVHn","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T20:56:13Z","updated_at":"2021-08-13T21:51:24Z","author_association":"MEMBER","body":"@rodfsouza  is working on this ticket.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898716135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898769507","html_url":"https://github.com/apache/iceberg/pull/2975#issuecomment-898769507","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2975","id":898769507,"node_id":"IC_kwDOCW7NX841kiJj","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T23:38:24Z","updated_at":"2021-08-13T23:38:24Z","author_association":"CONTRIBUTOR","body":"We have existing test cases that verify Kryo and Java serialization.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898769507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898769682","html_url":"https://github.com/apache/iceberg/pull/2975#issuecomment-898769682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2975","id":898769682,"node_id":"IC_kwDOCW7NX841kiMS","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T23:39:23Z","updated_at":"2021-08-13T23:41:04Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @flyrain @rdblue @openinx @rdsr @rymurr @pvary @kbendick @karuppayya @jackye1995 @yyanyy","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898769682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898772530","html_url":"https://github.com/apache/iceberg/pull/2975#issuecomment-898772530","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2975","id":898772530,"node_id":"IC_kwDOCW7NX841ki4y","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T23:53:25Z","updated_at":"2021-08-13T23:53:25Z","author_association":"CONTRIBUTOR","body":"I think you made the right choice to just serialize all the specs. They aren't very large and there will generally be very few of them. Keeping it simple is the right call, I think.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898772530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898781734","html_url":"https://github.com/apache/iceberg/pull/2950#issuecomment-898781734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2950","id":898781734,"node_id":"IC_kwDOCW7NX841klIm","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T00:39:45Z","updated_at":"2021-08-14T00:39:45Z","author_association":"COLLABORATOR","body":"Rebase to re-trigger test","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898781734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898785947","html_url":"https://github.com/apache/iceberg/pull/2240#issuecomment-898785947","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2240","id":898785947,"node_id":"IC_kwDOCW7NX841kmKb","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T01:04:33Z","updated_at":"2021-08-14T01:04:33Z","author_association":"COLLABORATOR","body":"Split out ORC nested metric mode fix out in a new PR : https://github.com/apache/iceberg/pull/2977 , which should make this change even smaller","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898785947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898807614","html_url":"https://github.com/apache/iceberg/pull/2936#issuecomment-898807614","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2936","id":898807614,"node_id":"IC_kwDOCW7NX841krc-","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T03:13:20Z","updated_at":"2021-08-14T03:13:20Z","author_association":"CONTRIBUTOR","body":"Yeah, I wasn't sure about the method name. Updated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898807614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898808953","html_url":"https://github.com/apache/iceberg/issues/2978#issuecomment-898808953","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2978","id":898808953,"node_id":"IC_kwDOCW7NX841krx5","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T03:22:39Z","updated_at":"2021-08-14T03:22:39Z","author_association":"CONTRIBUTOR","body":"Thoughts, @openinx @stevenzwu?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898808953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898809090","html_url":"https://github.com/apache/iceberg/issues/2978#issuecomment-898809090","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2978","id":898809090,"node_id":"IC_kwDOCW7NX841kr0C","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T03:23:47Z","updated_at":"2021-08-14T03:23:47Z","author_association":"CONTRIBUTOR","body":"There may be still valid places to use `TableLoader`, though. I think the initial loading in `FlinkSource` can be done through it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898809090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898823875","html_url":"https://github.com/apache/iceberg/issues/2978#issuecomment-898823875","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2978","id":898823875,"node_id":"IC_kwDOCW7NX841kvbD","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T05:10:23Z","updated_at":"2021-08-14T05:10:23Z","author_association":"CONTRIBUTOR","body":"I agree that we can switch to `SerializableTable` in some cases (like `FlinkInputFormat` you mentioned). Since `FlinkSource` already loaded the table, it can just pass in a `SerializableTable` copy. We can also simplify the params for `FlinkInputFormat` constructor","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898823875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898844323","html_url":"https://github.com/apache/iceberg/pull/2975#issuecomment-898844323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2975","id":898844323,"node_id":"IC_kwDOCW7NX841k0aj","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T06:10:06Z","updated_at":"2021-08-14T06:10:06Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @stevenzwu @szehon-ho @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898844323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898844388","html_url":"https://github.com/apache/iceberg/issues/2978#issuecomment-898844388","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2978","id":898844388,"node_id":"IC_kwDOCW7NX841k0bk","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T06:10:52Z","updated_at":"2021-08-14T06:10:52Z","author_association":"CONTRIBUTOR","body":"Okay, I'll fire a PR to discuss it in detail.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898844388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898844858","html_url":"https://github.com/apache/iceberg/pull/2936#issuecomment-898844858","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2936","id":898844858,"node_id":"IC_kwDOCW7NX841k0i6","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T06:17:08Z","updated_at":"2021-08-14T06:17:08Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @flyrain @karuppayya @RussellSpitzer @rdblue @kbendick @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898844858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898849650","html_url":"https://github.com/apache/iceberg/issues/2958#issuecomment-898849650","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2958","id":898849650,"node_id":"IC_kwDOCW7NX841k1ty","user":{"login":"yanqinghe","id":16640469,"node_id":"MDQ6VXNlcjE2NjQwNDY5","avatar_url":"https://avatars.githubusercontent.com/u/16640469?v=4","gravatar_id":"","url":"https://api.github.com/users/yanqinghe","html_url":"https://github.com/yanqinghe","followers_url":"https://api.github.com/users/yanqinghe/followers","following_url":"https://api.github.com/users/yanqinghe/following{/other_user}","gists_url":"https://api.github.com/users/yanqinghe/gists{/gist_id}","starred_url":"https://api.github.com/users/yanqinghe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanqinghe/subscriptions","organizations_url":"https://api.github.com/users/yanqinghe/orgs","repos_url":"https://api.github.com/users/yanqinghe/repos","events_url":"https://api.github.com/users/yanqinghe/events{/privacy}","received_events_url":"https://api.github.com/users/yanqinghe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T07:08:54Z","updated_at":"2021-08-14T07:09:33Z","author_association":"NONE","body":"如果你使用的是Spark Structured Streaming的话，可以在写入的时候指定fanout-enabled配置：\r\n```  scala\r\n  .writeStream\r\n  .format(\"iceberg\")\r\n  .options(Map(\r\n     \"fanout-enabled\" -> \"true\"\r\n  ))\r\n  .outputMode(OutputMode.Append())\r\n  .trigger(Trigger.ProcessingTime(5,  TimeUnit.MINUTES))\r\n  .start()\r\n  .awaitTermination()\r\n```\r\n\r\n> > @zephaniah-wzf 可以发一下具体的堆栈吗\r\n> \r\n> [报错信息.txt](https://github.com/apache/iceberg/files/6980457/default.txt)\r\n> 还是会报那样的错误，有点不合理啊\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898849650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898860358","html_url":"https://github.com/apache/iceberg/issues/2958#issuecomment-898860358","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2958","id":898860358,"node_id":"IC_kwDOCW7NX841k4VG","user":{"login":"zephaniah-wzf","id":53243075,"node_id":"MDQ6VXNlcjUzMjQzMDc1","avatar_url":"https://avatars.githubusercontent.com/u/53243075?v=4","gravatar_id":"","url":"https://api.github.com/users/zephaniah-wzf","html_url":"https://github.com/zephaniah-wzf","followers_url":"https://api.github.com/users/zephaniah-wzf/followers","following_url":"https://api.github.com/users/zephaniah-wzf/following{/other_user}","gists_url":"https://api.github.com/users/zephaniah-wzf/gists{/gist_id}","starred_url":"https://api.github.com/users/zephaniah-wzf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zephaniah-wzf/subscriptions","organizations_url":"https://api.github.com/users/zephaniah-wzf/orgs","repos_url":"https://api.github.com/users/zephaniah-wzf/repos","events_url":"https://api.github.com/users/zephaniah-wzf/events{/privacy}","received_events_url":"https://api.github.com/users/zephaniah-wzf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T07:43:01Z","updated_at":"2021-08-14T07:43:01Z","author_association":"NONE","body":"> 如果你使用的是Spark Structured Streaming的话，可以在写入的时候指定fanout-enabled配置：\r\n> \r\n> ```scala\r\n>   .writeStream\r\n>   .format(\"iceberg\")\r\n>   .options(Map(\r\n>      \"fanout-enabled\" -> \"true\"\r\n>   ))\r\n>   .outputMode(OutputMode.Append())\r\n>   .trigger(Trigger.ProcessingTime(5,  TimeUnit.MINUTES))\r\n>   .start()\r\n>   .awaitTermination()\r\n> ```\r\n> \r\n> > > @zephaniah-wzf 可以发一下具体的堆栈吗\r\n> > \r\n> > \r\n> > [报错信息.txt](https://github.com/apache/iceberg/files/6980457/default.txt)\r\n> > 还是会报那样的错误，有点不合理啊\r\n\r\n我使用的是spark-sql客户端写的","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898860358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898868062","html_url":"https://github.com/apache/iceberg/issues/2958#issuecomment-898868062","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2958","id":898868062,"node_id":"IC_kwDOCW7NX841k6Ne","user":{"login":"yanqinghe","id":16640469,"node_id":"MDQ6VXNlcjE2NjQwNDY5","avatar_url":"https://avatars.githubusercontent.com/u/16640469?v=4","gravatar_id":"","url":"https://api.github.com/users/yanqinghe","html_url":"https://github.com/yanqinghe","followers_url":"https://api.github.com/users/yanqinghe/followers","following_url":"https://api.github.com/users/yanqinghe/following{/other_user}","gists_url":"https://api.github.com/users/yanqinghe/gists{/gist_id}","starred_url":"https://api.github.com/users/yanqinghe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanqinghe/subscriptions","organizations_url":"https://api.github.com/users/yanqinghe/orgs","repos_url":"https://api.github.com/users/yanqinghe/repos","events_url":"https://api.github.com/users/yanqinghe/events{/privacy}","received_events_url":"https://api.github.com/users/yanqinghe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T09:00:29Z","updated_at":"2021-08-14T09:00:29Z","author_association":"NONE","body":"> > 如果你使用的是Spark Structured Streaming的话，可以在写入的时候指定fanout-enabled配置：\r\n> > ```scala\r\n> >   .writeStream\r\n> >   .format(\"iceberg\")\r\n> >   .options(Map(\r\n> >      \"fanout-enabled\" -> \"true\"\r\n> >   ))\r\n> >   .outputMode(OutputMode.Append())\r\n> >   .trigger(Trigger.ProcessingTime(5,  TimeUnit.MINUTES))\r\n> >   .start()\r\n> >   .awaitTermination()\r\n> > ```\r\n> > \r\n> > \r\n> >     \r\n> >       \r\n> >     \r\n> > \r\n> >       \r\n> >     \r\n> > \r\n> >     \r\n> >   \r\n> > > > @zephaniah-wzf 可以发一下具体的堆栈吗\r\n> > > \r\n> > > \r\n> > > [报错信息.txt](https://github.com/apache/iceberg/files/6980457/default.txt)\r\n> > > 还是会报那样的错误，有点不合理啊\r\n> \r\n> 我使用的是spark-sql客户端写的\r\n\r\n如果使用Spark-sql客户端的话应该是批量任务，你可以尝试对你的分区列进行order by排序，这样能够避免在写入的过程中在同一个分区内出现多个文件的并发操作。","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/898868062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899313851","html_url":"https://github.com/apache/iceberg/pull/2826#issuecomment-899313851","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2826","id":899313851,"node_id":"IC_kwDOCW7NX841mnC7","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T08:12:32Z","updated_at":"2021-08-16T08:12:32Z","author_association":"CONTRIBUTOR","body":"@rdblue given that Iceberg 0.12.0 is out, I think now would be a good time to revisit this PR and get it merged. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899313851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899316329","html_url":"https://github.com/apache/iceberg/pull/2866#issuecomment-899316329","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2866","id":899316329,"node_id":"IC_kwDOCW7NX841mnpp","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T08:16:24Z","updated_at":"2021-08-16T08:16:24Z","author_association":"CONTRIBUTOR","body":"@TGooch44 any comments or am I ok to merge?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899316329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899519692","html_url":"https://github.com/apache/iceberg/pull/2910#issuecomment-899519692","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2910","id":899519692,"node_id":"IC_kwDOCW7NX841nZTM","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T13:39:47Z","updated_at":"2021-08-16T13:39:47Z","author_association":"CONTRIBUTOR","body":"Hey @jun-he sorry for the confusion. I think I see an overlap between this PR and the one I just reviewed. Which one should I prioritise?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899519692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899669728","html_url":"https://github.com/apache/iceberg/pull/2973#issuecomment-899669728","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2973","id":899669728,"node_id":"IC_kwDOCW7NX841n97g","user":{"login":"hankfanchiu","id":13294681,"node_id":"MDQ6VXNlcjEzMjk0Njgx","avatar_url":"https://avatars.githubusercontent.com/u/13294681?v=4","gravatar_id":"","url":"https://api.github.com/users/hankfanchiu","html_url":"https://github.com/hankfanchiu","followers_url":"https://api.github.com/users/hankfanchiu/followers","following_url":"https://api.github.com/users/hankfanchiu/following{/other_user}","gists_url":"https://api.github.com/users/hankfanchiu/gists{/gist_id}","starred_url":"https://api.github.com/users/hankfanchiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankfanchiu/subscriptions","organizations_url":"https://api.github.com/users/hankfanchiu/orgs","repos_url":"https://api.github.com/users/hankfanchiu/repos","events_url":"https://api.github.com/users/hankfanchiu/events{/privacy}","received_events_url":"https://api.github.com/users/hankfanchiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T17:03:51Z","updated_at":"2021-08-16T17:03:51Z","author_association":"NONE","body":"Would we also want to list any dependency updates, e.g. Hive 2.3.8 (#2110), Avro 1.10.1 (#1648), and Parquet 1.12.0 (#2441)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899669728/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899685786","html_url":"https://github.com/apache/iceberg/pull/2848#issuecomment-899685786","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2848","id":899685786,"node_id":"IC_kwDOCW7NX841oB2a","user":{"login":"daksha121","id":3859303,"node_id":"MDQ6VXNlcjM4NTkzMDM=","avatar_url":"https://avatars.githubusercontent.com/u/3859303?v=4","gravatar_id":"","url":"https://api.github.com/users/daksha121","html_url":"https://github.com/daksha121","followers_url":"https://api.github.com/users/daksha121/followers","following_url":"https://api.github.com/users/daksha121/following{/other_user}","gists_url":"https://api.github.com/users/daksha121/gists{/gist_id}","starred_url":"https://api.github.com/users/daksha121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daksha121/subscriptions","organizations_url":"https://api.github.com/users/daksha121/orgs","repos_url":"https://api.github.com/users/daksha121/repos","events_url":"https://api.github.com/users/daksha121/events{/privacy}","received_events_url":"https://api.github.com/users/daksha121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T17:27:22Z","updated_at":"2021-08-16T17:27:22Z","author_association":"CONTRIBUTOR","body":"@rdblue @RussellSpitzer would love your feedback on this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899685786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899687498","html_url":"https://github.com/apache/iceberg/pull/2848#issuecomment-899687498","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2848","id":899687498,"node_id":"IC_kwDOCW7NX841oCRK","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T17:30:03Z","updated_at":"2021-08-16T17:30:03Z","author_association":"MEMBER","body":"Wouldn't this require other modifications to Iceberg as well? or are you making your own Iceberg source?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899687498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899698187","html_url":"https://github.com/apache/iceberg/pull/2848#issuecomment-899698187","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2848","id":899698187,"node_id":"IC_kwDOCW7NX841oE4L","user":{"login":"daksha121","id":3859303,"node_id":"MDQ6VXNlcjM4NTkzMDM=","avatar_url":"https://avatars.githubusercontent.com/u/3859303?v=4","gravatar_id":"","url":"https://api.github.com/users/daksha121","html_url":"https://github.com/daksha121","followers_url":"https://api.github.com/users/daksha121/followers","following_url":"https://api.github.com/users/daksha121/following{/other_user}","gists_url":"https://api.github.com/users/daksha121/gists{/gist_id}","starred_url":"https://api.github.com/users/daksha121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daksha121/subscriptions","organizations_url":"https://api.github.com/users/daksha121/orgs","repos_url":"https://api.github.com/users/daksha121/repos","events_url":"https://api.github.com/users/daksha121/events{/privacy}","received_events_url":"https://api.github.com/users/daksha121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T17:46:40Z","updated_at":"2021-08-16T17:57:04Z","author_association":"CONTRIBUTOR","body":"> Wouldn't this require other modifications to Iceberg as well? or are you making your own Iceberg source?\r\n\r\n@RussellSpitzer  We were thinking of creating a layer over Iceberg -\r\n- So our own version of SparkCatalog and SparkTable - say CustomSparkTable that holds an instance of [SparkTable](https://github.com/apache/iceberg/blob/master/spark3/src/main/java/org/apache/iceberg/spark/source/SparkTable.java)\r\n- And we can use this layer to have opinionated writes by extending the Spark Write classes\r\n\r\nIs there another way we can achieve this? We are looking for extension points in the Read/Write path\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899698187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899699795","html_url":"https://github.com/apache/iceberg/pull/2848#issuecomment-899699795","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2848","id":899699795,"node_id":"IC_kwDOCW7NX841oFRT","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T17:49:17Z","updated_at":"2021-08-16T17:49:17Z","author_association":"MEMBER","body":"I was just thinking if you are already making your own SparkTable and Catalog, why not just build inside the Iceberg Packages in your own code? Then you won't need to change the classes to public.\r\n\r\nMy worry about this feature in general would be if we were serious, we would want to have it be at the core level. If we only changed the catalog + table implementation another framework (or non-custom iceberg version) could write to the table with whatever mode it liked.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899699795/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899702344","html_url":"https://github.com/apache/iceberg/pull/2973#issuecomment-899702344","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2973","id":899702344,"node_id":"IC_kwDOCW7NX841oF5I","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T17:53:30Z","updated_at":"2021-08-16T17:53:30Z","author_association":"COLLABORATOR","body":"Yea and on that note, I'm not sure if we need to change flink.md to mention Flink version 1.12.1 as well (as it mentions the only supported version is 1.11)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899702344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899702801","html_url":"https://github.com/apache/iceberg/pull/2848#issuecomment-899702801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2848","id":899702801,"node_id":"IC_kwDOCW7NX841oGAR","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T17:54:10Z","updated_at":"2021-08-16T17:54:10Z","author_association":"CONTRIBUTOR","body":"I think it would be better to add a feature to Iceberg rather than to expose classes. As is, this PR would make it possible to extend these in other unsupported ways and we don't want to create issues from having these as public classes or break you later because we consider them private but they are accessible.\r\n\r\nIt's reasonable to add some ability to mark a table for a use case, like incremental appends or CDC, and to disable some operations for that use case. I would support that more than just opening up classes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899702801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899712543","html_url":"https://github.com/apache/iceberg/pull/2983#issuecomment-899712543","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2983","id":899712543,"node_id":"IC_kwDOCW7NX841oIYf","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T18:08:19Z","updated_at":"2021-08-16T18:08:19Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @aokolnychyi @karuppayya @kbendick @szehon-ho @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899712543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899715663","html_url":"https://github.com/apache/iceberg/pull/2848#issuecomment-899715663","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2848","id":899715663,"node_id":"IC_kwDOCW7NX841oJJP","user":{"login":"daksha121","id":3859303,"node_id":"MDQ6VXNlcjM4NTkzMDM=","avatar_url":"https://avatars.githubusercontent.com/u/3859303?v=4","gravatar_id":"","url":"https://api.github.com/users/daksha121","html_url":"https://github.com/daksha121","followers_url":"https://api.github.com/users/daksha121/followers","following_url":"https://api.github.com/users/daksha121/following{/other_user}","gists_url":"https://api.github.com/users/daksha121/gists{/gist_id}","starred_url":"https://api.github.com/users/daksha121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daksha121/subscriptions","organizations_url":"https://api.github.com/users/daksha121/orgs","repos_url":"https://api.github.com/users/daksha121/repos","events_url":"https://api.github.com/users/daksha121/events{/privacy}","received_events_url":"https://api.github.com/users/daksha121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T18:12:37Z","updated_at":"2021-08-16T18:12:37Z","author_association":"CONTRIBUTOR","body":"> I was just thinking if you are already making your own SparkTable and Catalog, why not just build inside the Iceberg Packages in your own code? Then you won't need to change the classes to public.\r\n\r\nThis makes sense, thanks @RussellSpitzer \r\n\r\nI agree with your concerns @RussellSpitzer and @rdblue \r\nIt would be best if we can contribute this to Iceberg: A table property to allow only incremental writes and block other operations. We just weren't sure if this is something Iceberg would want to support.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899715663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899734865","html_url":"https://github.com/apache/iceberg/pull/2982#issuecomment-899734865","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2982","id":899734865,"node_id":"IC_kwDOCW7NX841oN1R","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T18:42:55Z","updated_at":"2021-08-16T18:42:55Z","author_association":"CONTRIBUTOR","body":"Thanks @emkornfield there may still be some gaps around nested types, but it's no longer due to pyarrow.  Let's go ahead and remove this, and I can update it with some more precise language..","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899734865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899798056","html_url":"https://github.com/apache/iceberg/pull/2984#issuecomment-899798056","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2984","id":899798056,"node_id":"IC_kwDOCW7NX841odQo","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T20:28:45Z","updated_at":"2021-08-16T20:28:55Z","author_association":"CONTRIBUTOR","body":"cc @openinx @stevenzwu @rdblue @rdsr @pvary @RussellSpitzer @flyrain @szehon-ho @karuppayya @kbendick @jackye1995 @chenjunjiedada ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899798056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899811901","html_url":"https://github.com/apache/iceberg/pull/2973#issuecomment-899811901","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2973","id":899811901,"node_id":"IC_kwDOCW7NX841ogo9","user":{"login":"cwsteinbach","id":229846,"node_id":"MDQ6VXNlcjIyOTg0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/229846?v=4","gravatar_id":"","url":"https://api.github.com/users/cwsteinbach","html_url":"https://github.com/cwsteinbach","followers_url":"https://api.github.com/users/cwsteinbach/followers","following_url":"https://api.github.com/users/cwsteinbach/following{/other_user}","gists_url":"https://api.github.com/users/cwsteinbach/gists{/gist_id}","starred_url":"https://api.github.com/users/cwsteinbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwsteinbach/subscriptions","organizations_url":"https://api.github.com/users/cwsteinbach/orgs","repos_url":"https://api.github.com/users/cwsteinbach/repos","events_url":"https://api.github.com/users/cwsteinbach/events{/privacy}","received_events_url":"https://api.github.com/users/cwsteinbach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T20:55:28Z","updated_at":"2021-08-16T20:55:28Z","author_association":"CONTRIBUTOR","body":"@hankfanchiu I added the dependency upgrade info to the release notes. Please take a look.\r\n@szehon-ho I think the changes to the Flink docs should be done in a separate patch since they're not part of the release notes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899811901/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899908401","html_url":"https://github.com/apache/iceberg/pull/2985#issuecomment-899908401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2985","id":899908401,"node_id":"IC_kwDOCW7NX841o4Mx","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T00:38:40Z","updated_at":"2021-08-17T00:38:40Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @rdblue @jackye1995 @openinx @flyrain @kbendick @karuppayya @szehon-ho @rdsr @yyanyy","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899908401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899986818","html_url":"https://github.com/apache/iceberg/pull/2986#issuecomment-899986818","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2986","id":899986818,"node_id":"IC_kwDOCW7NX841pLWC","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T04:35:46Z","updated_at":"2021-08-17T04:35:46Z","author_association":"CONTRIBUTOR","body":"Thanks for the additional patch! I read through a few Hive related classes and those are all I could find. @marton-bod  @lcspinter @pvary anything else on your side that should be noted? I also saw a few bug fixes done by Marton for Tez issues.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899986818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899999777","html_url":"https://github.com/apache/iceberg/pull/2969#issuecomment-899999777","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2969","id":899999777,"node_id":"IC_kwDOCW7NX841pOgh","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T05:14:51Z","updated_at":"2021-08-17T05:16:31Z","author_association":"CONTRIBUTOR","body":"Actually the more I think about it @hililiwei, the convention we use is to try to return a usable Scala object from Java (at least in the spark side of the codebase, which is arguably more Scala native than Flink).\r\n\r\nI can take a crack at giving it a try for the basics or potentially show you how, perhaps if you wanted to reach out on Slack. Are you in the Iceberg Slack?\r\n\r\nFeel free to also reach out to the dev list too, but that's almost certainly the preferred approach if possible. I think it should be possible here as well, though it might require some trickery that you may or may not be used to seeing. Please feel free to reach out to me on the Iceberg slack if you'd like and I can point you to some examples. Cheers and thanks again for your interest!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/899999777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900060204","html_url":"https://github.com/apache/iceberg/pull/2986#issuecomment-900060204","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2986","id":900060204,"node_id":"IC_kwDOCW7NX841pdQs","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T07:24:31Z","updated_at":"2021-08-17T07:24:31Z","author_association":"COLLABORATOR","body":"Thanks @jackye1995! I think we might not want to list the Tez fixes, because those were write-related fixes and we don't yet support Tez writes - so don't want to confuse users :) \r\n\r\nHowever, it might be worth including these:\r\nHive: enable dropping HMS tables despite metadata problems (#2583)\r\nHive: Add table-level JVM lock on commits (#2547) \r\n\r\nBut it's up to you, not sure what patches make the cut into the release docs. Thanks again for the call-out!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900060204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900078743","html_url":"https://github.com/apache/iceberg/pull/2986#issuecomment-900078743","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2986","id":900078743,"node_id":"IC_kwDOCW7NX841phyX","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T07:56:41Z","updated_at":"2021-08-17T07:56:41Z","author_association":"COLLABORATOR","body":"One more new feature to consider: \r\nHive: Vectorized ORC reads for Hive #2613","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900078743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900375672","html_url":"https://github.com/apache/iceberg/issues/2468#issuecomment-900375672","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2468","id":900375672,"node_id":"IC_kwDOCW7NX841qqR4","user":{"login":"asnowfox","id":44358181,"node_id":"MDQ6VXNlcjQ0MzU4MTgx","avatar_url":"https://avatars.githubusercontent.com/u/44358181?v=4","gravatar_id":"","url":"https://api.github.com/users/asnowfox","html_url":"https://github.com/asnowfox","followers_url":"https://api.github.com/users/asnowfox/followers","following_url":"https://api.github.com/users/asnowfox/following{/other_user}","gists_url":"https://api.github.com/users/asnowfox/gists{/gist_id}","starred_url":"https://api.github.com/users/asnowfox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asnowfox/subscriptions","organizations_url":"https://api.github.com/users/asnowfox/orgs","repos_url":"https://api.github.com/users/asnowfox/repos","events_url":"https://api.github.com/users/asnowfox/events{/privacy}","received_events_url":"https://api.github.com/users/asnowfox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T15:01:05Z","updated_at":"2021-08-17T15:01:40Z","author_association":"NONE","body":"I also have the same error.\r\nI am running a flink cluster of version 1.12.2. so I recompile iceberg with flink-1.12.2 and it compiled well.\r\nand I use flink sql client to test iceberg.\r\nthe following command works fine:\r\n```\r\nCREATE CATALOG flow_catalog WITH (\r\n  'type'='iceberg',\r\n  'catalog-type'='hadoop',\r\n  'warehouse'='hdfs://namenode-206-10:8020/warehouse/flows',\r\n  'property-version'='1'\r\n);\r\nuse catalog flow_catalog;\r\nCREATE DATABASE iceberg_db;\r\nUSE iceberg_db;\r\nCREATE TABLE test (\r\n    id BIGINT COMMENT 'unique id',\r\n    data STRING\r\n);\r\nINSERT INTO test VALUES (1, 'a');\r\nselect * from test;\r\n```\r\nbut when I change the   **execution.type to batch**. there are the same exception.\r\n```\r\njava.lang.ClassCastException: org.apache.iceberg.hadoop.HadoopCatalog cannot be cast to org.apache.iceberg.catalog.Catalog\r\n\tat org.apache.iceberg.CatalogUtil.loadCatalog(CatalogUtil.java:183)\r\n\tat org.apache.iceberg.flink.CatalogLoader$HadoopCatalogLoader.loadCatalog(CatalogLoader.java:79)\r\n\tat org.apache.iceberg.flink.TableLoader$CatalogTableLoader.open(TableLoader.java:108)\r\n\tat org.apache.iceberg.flink.source.FlinkSource$Builder.buildFormat(FlinkSource.java:178)\r\n\tat org.apache.iceberg.flink.source.FlinkSource$Builder.build(FlinkSource.java:204)\r\n\tat org.apache.iceberg.flink.IcebergTableSource.createDataStream(IcebergTableSource.java:110)\r\n\tat org.apache.iceberg.flink.IcebergTableSource.access$000(IcebergTableSource.java:49)\r\n\tat org.apache.iceberg.flink.IcebergTableSource$1.produceDataStream(IcebergTableSource.java:163)\r\n\tat org.apache.flink.table.planner.plan.nodes.common.CommonPhysicalTableSourceScan.createSourceTransformation(CommonPhysicalTableSourceScan.scala:88)\r\n\tat org.apache.flink.table.planner.plan.nodes.physical.batch.BatchExecTableSourceScan.translateToPlanInternal(BatchExecTableSourceScan.scala:94)\r\n\tat org.apache.flink.table.planner.plan.nodes.physical.batch.BatchExecTableSourceScan.translateToPlanInternal(BatchExecTableSourceScan.scala:44)\r\n\tat org.apache.flink.table.planner.plan.nodes.exec.ExecNode.translateToPlan(ExecNode.scala:59)\r\n\tat org.apache.flink.table.planner.plan.nodes.exec.ExecNode.translateToPlan$(ExecNode.scala:57)\r\n\tat org.apache.flink.table.planner.plan.nodes.physical.batch.BatchExecTableSourceScan.translateToPlan(BatchExecTableSourceScan.scala:44)\r\n\tat org.apache.flink.table.planner.plan.nodes.physical.batch.BatchExecLegacySink.translateToTransformation(BatchExecLegacySink.scala:129)\r\n\tat org.apache.flink.table.planner.plan.nodes.physical.batch.BatchExecLegacySink.translateToPlanInternal(BatchExecLegacySink.scala:95)\r\n\tat org.apache.flink.table.planner.plan.nodes.physical.batch.BatchExecLegacySink.translateToPlanInternal(BatchExecLegacySink.scala:48)\r\n\tat org.apache.flink.table.planner.plan.nodes.exec.ExecNode.translateToPlan(ExecNode.scala:59)\r\n\tat org.apache.flink.table.planner.plan.nodes.exec.ExecNode.translateToPlan$(ExecNode.scala:57)\r\n\tat org.apache.flink.table.planner.plan.nodes.physical.batch.BatchExecLegacySink.translateToPlan(BatchExecLegacySink.scala:48)\r\n\tat org.apache.flink.table.planner.delegation.BatchPlanner.$anonfun$translateToPlan$1(BatchPlanner.scala:86)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:233)\r\n\tat scala.collection.Iterator.foreach(Iterator.scala:937)\r\n\tat scala.collection.Iterator.foreach$(Iterator.scala:937)\r\n\tat scala.collection.AbstractIterator.foreach(Iterator.scala:1425)\r\n\tat scala.collection.IterableLike.foreach(IterableLike.scala:70)\r\n\tat scala.collection.IterableLike.foreach$(IterableLike.scala:69)\r\n\tat scala.collection.AbstractIterable.foreach(Iterable.scala:54)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:233)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:226)\r\n\tat scala.collection.AbstractTraversable.map(Traversable.scala:104)\r\n\tat org.apache.flink.table.planner.delegation.BatchPlanner.translateToPlan(BatchPlanner.scala:85)\r\n\tat org.apache.flink.table.planner.delegation.PlannerBase.translate(PlannerBase.scala:162)\r\n\tat org.apache.flink.table.api.internal.TableEnvironmentImpl.translate(TableEnvironmentImpl.java:1329)\r\n\tat org.apache.flink.table.api.internal.TableEnvironmentImpl.translateAndClearBuffer(TableEnvironmentImpl.java:1321)\r\n\tat org.apache.flink.table.api.bridge.java.internal.StreamTableEnvironmentImpl.getPipeline(StreamTableEnvironmentImpl.java:328)\r\n\tat org.apache.flink.table.client.gateway.local.ExecutionContext.lambda$createPipeline$1(ExecutionContext.java:287)\r\n\tat org.apache.flink.table.client.gateway.local.ExecutionContext.wrapClassLoader(ExecutionContext.java:256)\r\n\tat org.apache.flink.table.client.gateway.local.ExecutionContext.createPipeline(ExecutionContext.java:282)\r\n\tat org.apache.flink.table.client.gateway.local.LocalExecutor.executeQueryInternal(LocalExecutor.java:542)\r\n\tat org.apache.flink.table.client.gateway.local.LocalExecutor.executeQuery(LocalExecutor.java:374)\r\n\tat org.apache.flink.table.client.cli.CliClient.callSelect(CliClient.java:648)\r\n\tat org.apache.flink.table.client.cli.CliClient.callCommand(CliClient.java:323)\r\n\tat java.util.Optional.ifPresent(Optional.java:159)\r\n\tat org.apache.flink.table.client.cli.CliClient.open(CliClient.java:214)\r\n\tat org.apache.flink.table.client.SqlClient.openCli(SqlClient.java:144)\r\n\tat org.apache.flink.table.client.SqlClient.start(SqlClient.java:115)\r\n\tat org.apache.flink.table.client.SqlClient.main(SqlClient.java:201)\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900375672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900432229","html_url":"https://github.com/apache/iceberg/pull/2987#issuecomment-900432229","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2987","id":900432229,"node_id":"IC_kwDOCW7NX841q4Fl","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T16:10:13Z","updated_at":"2021-08-17T16:10:13Z","author_association":"CONTRIBUTOR","body":"cc @stevenzwu @openinx @chenjunjiedada @JingsongLi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900432229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900448260","html_url":"https://github.com/apache/iceberg/pull/2988#issuecomment-900448260","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2988","id":900448260,"node_id":"IC_kwDOCW7NX841q8AE","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T16:31:31Z","updated_at":"2021-08-17T16:31:31Z","author_association":"CONTRIBUTOR","body":"cc @chenjunjiedada @rdsr @shardulm94 @jackye1995 @flyrain @RussellSpitzer @karuppayya @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900448260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900490880","html_url":"https://github.com/apache/iceberg/pull/2950#issuecomment-900490880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2950","id":900490880,"node_id":"IC_kwDOCW7NX841rGaA","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T17:25:17Z","updated_at":"2021-08-17T17:25:17Z","author_association":"COLLABORATOR","body":"Test failure seemed flaky, try to fix it in : https://github.com/apache/iceberg/pull/2989 , rebase to trigger again","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900490880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900498323","html_url":"https://github.com/apache/iceberg/pull/2989#issuecomment-900498323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2989","id":900498323,"node_id":"IC_kwDOCW7NX841rIOT","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T17:35:44Z","updated_at":"2021-08-17T17:35:44Z","author_association":"COLLABORATOR","body":"@stevenzwu @openinx can you guys help check my understanding?  Thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900498323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900510794","html_url":"https://github.com/apache/iceberg/pull/2986#issuecomment-900510794","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2986","id":900510794,"node_id":"IC_kwDOCW7NX841rLRK","user":{"login":"cwsteinbach","id":229846,"node_id":"MDQ6VXNlcjIyOTg0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/229846?v=4","gravatar_id":"","url":"https://api.github.com/users/cwsteinbach","html_url":"https://github.com/cwsteinbach","followers_url":"https://api.github.com/users/cwsteinbach/followers","following_url":"https://api.github.com/users/cwsteinbach/following{/other_user}","gists_url":"https://api.github.com/users/cwsteinbach/gists{/gist_id}","starred_url":"https://api.github.com/users/cwsteinbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwsteinbach/subscriptions","organizations_url":"https://api.github.com/users/cwsteinbach/orgs","repos_url":"https://api.github.com/users/cwsteinbach/repos","events_url":"https://api.github.com/users/cwsteinbach/events{/privacy}","received_events_url":"https://api.github.com/users/cwsteinbach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T17:53:17Z","updated_at":"2021-08-17T17:53:17Z","author_association":"CONTRIBUTOR","body":"@jackye1995 @marton-bod I added the following PRs:\r\n#2565, #2583, #2547, #2613.\r\n\r\n@jackye1995 please take a look and approve if everything looks good. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900510794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900586329","html_url":"https://github.com/apache/iceberg/pull/2986#issuecomment-900586329","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2986","id":900586329,"node_id":"IC_kwDOCW7NX841rdtZ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T19:52:57Z","updated_at":"2021-08-17T19:52:57Z","author_association":"CONTRIBUTOR","body":"I'm going to spend some time today going through commits. I got a start at it yesterday and found several things missing, including some that were caught here, so I'd like to make sure that we get it all.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900586329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900602181","html_url":"https://github.com/apache/iceberg/pull/2988#issuecomment-900602181","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2988","id":900602181,"node_id":"IC_kwDOCW7NX841rhlF","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T20:18:31Z","updated_at":"2021-08-17T20:18:31Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @jackye1995 @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900602181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900663109","html_url":"https://github.com/apache/iceberg/pull/2878#issuecomment-900663109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2878","id":900663109,"node_id":"IC_kwDOCW7NX841rwdF","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T22:06:55Z","updated_at":"2021-08-17T22:06:55Z","author_association":"CONTRIBUTOR","body":"Sorry for the late response and thank you for all the feedback @rymurr @kbendick @rdblue ! \r\n\r\nThe use case we have of closing a catalog/FileIO is to handle multi-tenant scenario with Java API interactions to the library, as when a catalog is initiated, all the clients and configurations are for this specific user, and when a new user arrives with a new set of credential and configuration, we need to initiate a new catalog object. Thus we would like to close the catalog and underlying clients to avoid resource leaks if possible. But I agree that when the credentials are static throughout the lifecycle of the application (which is majority of the cases especially when the interaction occurs through engines like Spark), explicitly calling `close()` in either places is not required. \r\n\r\nThe reason for changing catalogs to `AutoCloseable` is because unfortunately the AWS SDK clients extends AutoCloseable which throws `Exception` in method signature, and we need to wrap it with `IOException` if the catalog extends `Closeable` even if we handle idempotency ourselves, when we use a util class to close multiple resources. But since Iceberg uses `Closeable` consistently, I'm happy to do the wrapping. \r\n\r\nI should be able to update the PR today. Thanks again for reviewing! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900663109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900681270","html_url":"https://github.com/apache/iceberg/pull/2240#issuecomment-900681270","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2240","id":900681270,"node_id":"IC_kwDOCW7NX841r042","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T22:47:24Z","updated_at":"2021-08-17T22:47:24Z","author_association":"CONTRIBUTOR","body":"Thanks, @szehon-ho! Let me take a look now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900681270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900743494","html_url":"https://github.com/apache/iceberg/pull/2992#issuecomment-900743494","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2992","id":900743494,"node_id":"IC_kwDOCW7NX841sEFG","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T01:28:58Z","updated_at":"2021-08-18T01:28:58Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @szehon-ho @jackye1995 @yyanyy @kbendick @karuppayya @rdblue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900743494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900758469","html_url":"https://github.com/apache/iceberg/pull/2826#issuecomment-900758469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2826","id":900758469,"node_id":"IC_kwDOCW7NX841sHvF","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T02:12:16Z","updated_at":"2021-08-18T02:12:45Z","author_association":"CONTRIBUTOR","body":"@raptond @kbendick @flyrain @karuppayya, could you help reviewing this one too if you have time?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900758469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900825608","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-900825608","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":900825608,"node_id":"IC_kwDOCW7NX841sYII","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T05:36:58Z","updated_at":"2021-08-18T05:36:58Z","author_association":"CONTRIBUTOR","body":"I am closing this PR. We had mixed feedback both internally and in open source around this approach. After experimenting internally a bit, I think it does discourage people from upgrading to a higher Hive version, and provide a backdoor for people to stick with the old syntax. Please let me know if anyone thinks otherwise, thanks for all the reviews.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/900825608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901366806","html_url":"https://github.com/apache/iceberg/pull/2989#issuecomment-901366806","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2989","id":901366806,"node_id":"IC_kwDOCW7NX841ucQW","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T19:18:21Z","updated_at":"2021-08-19T06:47:48Z","author_association":"CONTRIBUTOR","body":"@szehon-ho I am not sure why this failed. maybe it is what you said. records were split across two checkpoint/commit cycles. However, this change will defeat the purpose of this unit test. with hash distribution, this unit test is to make sure all records for the same partition key is distributed to a single writer task and hence should generate one file per partition (per commit cycle).\r\n\r\nHere is probably what we should do to fix the flakiness. we should assert that there is only one file per partition for each commit/snapshot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901366806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901392963","html_url":"https://github.com/apache/iceberg/pull/2987#issuecomment-901392963","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2987","id":901392963,"node_id":"IC_kwDOCW7NX841uipD","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T20:02:31Z","updated_at":"2021-08-18T20:02:31Z","author_association":"CONTRIBUTOR","body":"Thanks for taking a look, @stevenzwu!\r\n\r\n> Since this is a change in a critical section, I would also wait for @openinx or @JingsongLi to take a look.\r\n\r\nDefinitely agree!\r\n\r\n@openinx @JingsongLi Like I said before, I can also keep the old behavior if needed and just pass one more argument through all these classes in #2984. Using a table seems cleaner but not a hard requirement. Up to you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901392963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901394353","html_url":"https://github.com/apache/iceberg/pull/2977#issuecomment-901394353","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2977","id":901394353,"node_id":"IC_kwDOCW7NX841ui-x","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T20:04:49Z","updated_at":"2021-08-18T20:04:49Z","author_association":"CONTRIBUTOR","body":"Triggered CI once again as not all tests completed. Will merge once green.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901394353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901423722","html_url":"https://github.com/apache/iceberg/pull/2992#issuecomment-901423722","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2992","id":901423722,"node_id":"IC_kwDOCW7NX841uqJq","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T20:54:35Z","updated_at":"2021-08-18T20:54:35Z","author_association":"CONTRIBUTOR","body":"@kbendick, this is a follow-up to #2936 where I added `Partitioning#partitionType`. It is only used within these metadata tables that I added tests for. W.r.t. reading the table itself, we have `TestForwardCompatibility` that already covers writing and reading to a table with unknown transforms.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901423722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901433666","html_url":"https://github.com/apache/iceberg/pull/2992#issuecomment-901433666","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2992","id":901433666,"node_id":"IC_kwDOCW7NX841uslC","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:12:01Z","updated_at":"2021-08-18T21:12:01Z","author_association":"CONTRIBUTOR","body":"@yyanyy, that's exactly the use case.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901433666/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901437006","html_url":"https://github.com/apache/iceberg/pull/2945#issuecomment-901437006","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2945","id":901437006,"node_id":"IC_kwDOCW7NX841utZO","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:18:27Z","updated_at":"2021-08-18T21:18:27Z","author_association":"CONTRIBUTOR","body":"I pushed a few updates. I used the code from this PR to implement position-based merge-on-read DELETE for Spark and the implementation managed to pass all tests. I am ready to split this into smaller PRs with tests and benchmarks but we will need @openinx's approval to proceed.\r\n\r\nI happy to jump on a short call if needed too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901437006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901437744","html_url":"https://github.com/apache/iceberg/pull/2992#issuecomment-901437744","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2992","id":901437744,"node_id":"IC_kwDOCW7NX841utkw","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:19:44Z","updated_at":"2021-08-18T21:19:44Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @kbendick @yyanyy @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901437744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901448782","html_url":"https://github.com/apache/iceberg/pull/2995#issuecomment-901448782","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2995","id":901448782,"node_id":"IC_kwDOCW7NX841uwRO","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:41:44Z","updated_at":"2021-08-18T21:41:44Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901448782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901450360","html_url":"https://github.com/apache/iceberg/pull/2995#issuecomment-901450360","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2995","id":901450360,"node_id":"IC_kwDOCW7NX841uwp4","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:45:01Z","updated_at":"2021-08-18T21:45:01Z","author_association":"CONTRIBUTOR","body":"np, sorry for the inconvenience caused","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901450360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901451186","html_url":"https://github.com/apache/iceberg/pull/2995#issuecomment-901451186","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2995","id":901451186,"node_id":"IC_kwDOCW7NX841uw2y","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:46:36Z","updated_at":"2021-08-18T21:46:36Z","author_association":"CONTRIBUTOR","body":"No worries, accidents happen.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901451186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901453425","html_url":"https://github.com/apache/iceberg/pull/2977#issuecomment-901453425","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2977","id":901453425,"node_id":"IC_kwDOCW7NX841uxZx","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:51:27Z","updated_at":"2021-08-18T21:51:27Z","author_association":"CONTRIBUTOR","body":"Thanks, @szehon-ho!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901453425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901453655","html_url":"https://github.com/apache/iceberg/pull/2240#issuecomment-901453655","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2240","id":901453655,"node_id":"IC_kwDOCW7NX841uxdX","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:51:53Z","updated_at":"2021-08-18T21:51:53Z","author_association":"CONTRIBUTOR","body":"@szehon-ho, the other PR is in. Could you rebase this one?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901453655/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901470021","html_url":"https://github.com/apache/iceberg/pull/2989#issuecomment-901470021","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2989","id":901470021,"node_id":"IC_kwDOCW7NX841u1dF","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T22:26:41Z","updated_at":"2021-08-18T22:26:41Z","author_association":"COLLABORATOR","body":"Yea this makes sense, let me look into it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901470021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901481464","html_url":"https://github.com/apache/iceberg/pull/2240#issuecomment-901481464","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2240","id":901481464,"node_id":"IC_kwDOCW7NX841u4P4","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T22:55:42Z","updated_at":"2021-08-18T22:55:42Z","author_association":"COLLABORATOR","body":"Rebased and still working through some of the review comments.  Need to take a bit of look at the order preserving transform.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901481464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901519055","html_url":"https://github.com/apache/iceberg/pull/2938#issuecomment-901519055","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2938","id":901519055,"node_id":"IC_kwDOCW7NX841vBbP","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T00:32:25Z","updated_at":"2021-08-19T00:32:25Z","author_association":"CONTRIBUTOR","body":"@jackye1995 As I also did not get a chance to run through the script (just visually inspected) and have also volunteered to be part of the release train, I am considering adding a dry-run flag on this. Will tag you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901519055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901529628","html_url":"https://github.com/apache/iceberg/pull/2965#issuecomment-901529628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2965","id":901529628,"node_id":"IC_kwDOCW7NX841vEAc","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T01:03:18Z","updated_at":"2021-08-19T01:03:18Z","author_association":"CONTRIBUTOR","body":"The PR looks good to me. \r\n> fallback strategy (object storage path -> folder storage path -> default location)\r\n\r\nAn open question: can we consolidate both `write.folder-storage.path` and `write.object-storage.path`? They are unnecessary complexity. Ironically, we have to introduce a new config to consolidate two olde ones, :-).  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901529628/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901529938","html_url":"https://github.com/apache/iceberg/pull/2965#issuecomment-901529938","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2965","id":901529938,"node_id":"IC_kwDOCW7NX841vEFS","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T01:04:01Z","updated_at":"2021-08-19T01:04:01Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @aokolnychyi @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901529938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901552057","html_url":"https://github.com/apache/iceberg/issues/2527#issuecomment-901552057","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2527","id":901552057,"node_id":"IC_kwDOCW7NX841vJe5","user":{"login":"vusal-iom","id":82717522,"node_id":"MDQ6VXNlcjgyNzE3NTIy","avatar_url":"https://avatars.githubusercontent.com/u/82717522?v=4","gravatar_id":"","url":"https://api.github.com/users/vusal-iom","html_url":"https://github.com/vusal-iom","followers_url":"https://api.github.com/users/vusal-iom/followers","following_url":"https://api.github.com/users/vusal-iom/following{/other_user}","gists_url":"https://api.github.com/users/vusal-iom/gists{/gist_id}","starred_url":"https://api.github.com/users/vusal-iom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vusal-iom/subscriptions","organizations_url":"https://api.github.com/users/vusal-iom/orgs","repos_url":"https://api.github.com/users/vusal-iom/repos","events_url":"https://api.github.com/users/vusal-iom/events{/privacy}","received_events_url":"https://api.github.com/users/vusal-iom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T02:06:48Z","updated_at":"2021-08-19T02:06:48Z","author_association":"NONE","body":"I also hit the same problem while doing TPCDS 10TB benchmarking. The reason was, only HadoopFsRelation had been taken account: https://github.com/apache/spark/blob/fceabe2372ab2a53401059e6019f441d0580aeab/sql/core/src/main/scala/org/apache/spark/sql/execution/dynamicpruning/PartitionPruning.scala#L64\r\n\r\nBut, the latest code has V2 Datasource handling part already. See: https://issues.apache.org/jira/browse/SPARK-35779\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901552057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901571240","html_url":"https://github.com/apache/iceberg/issues/2991#issuecomment-901571240","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2991","id":901571240,"node_id":"IC_kwDOCW7NX841vOKo","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T03:00:54Z","updated_at":"2021-08-19T03:10:06Z","author_association":"CONTRIBUTOR","body":"Hi @thaismonti1912, what Iceberg version are you using?\r\n\r\nAlso, I have heard of this issue (vaguely), but it was EMR specific. In _that_ particular case, somebody was setting up their environment / cluster strangely. Of course, that doesn't mean that's the case here.\r\n\r\nThis might be different though of course.\r\n\r\n> Configuration:\r\n> EMR version: emr-6.3.0\r\n> Master node: 1 instance r5.xlarge\r\n> Core node: 2 instances m5.xlarge\r\n> Spark version: 3.1.1\r\n\r\nQuestion:\r\n1) What Iceberg version are you using?\r\n2) Also, I noticed the iceberg jar is not listed in `--packages`. Do you have any EMR cluster set up scripts that install it? (To maybe deduce if there's a set up issue, though I don't know how those two would be related).\r\n\r\n> These are the scenarios:\r\n> \r\n> spark application deployed in client mode on a cluster with one core node (works fine)\r\n> spark application deployed in cluster mode on a cluster with one core node (works fine)\r\n> spark application deployed in client mode on a cluster with multiple core nodes (works fine)\r\n> spark application deployed in cluster mode on a cluster with multiple core nodes (throws java.io.IOException: No such file or directory)\r\n\r\nQuestions:\r\n1) When you say `1 core node` vs `multiple core nodes`, do you mean literally YARN core node or am I reading that incorrectly? It seems to be a driver vs executor issue, but `core node` has a very specific meaning, so I want to make sure we're on the same page :) \r\n2) Does this happen _only_ when multiple executors are scheduled on the same node?\r\n3) Does this happen if you have 1 core node, many worker nodes, and several executors are allocated to the same node?\r\n\r\nIf this is specific to only YARN (or I guess EMR) core nodes vs true worker nodes, this might a YARN specific behavior.\r\n\r\nIf this is happening with multiple executors on just any given EMR node, then that's a different place to start investigating. If you can follow up on that clarification (as it seems you've done some substantial investigation already), that would be great.\r\n\r\nGiven that we just use the normal `java.io.tmpdir`, this feels like either a YARN specific issue, an EMR specific issue, or a configuration issue. For example, I've run several executors using `S3FileIO` on the same node on Kubernetes (EKS and otherwise) without issue, and they've all used the default value of `java.io.tmpdir` (/tmp) - of course they're both virtualized in different ways, but still.\r\n\r\nAnd there are definitely many users that use \r\n\r\nA few more questions:\r\n1) In your workaround, do you have to set a unique value for each executor / worker, or only the driver?\r\n2) If you run two programs at once, can you use the same `/tmp/driver` even if multiple drivers run on the same core node every time? \r\n3) And in the example given above, do you have to create the `/tmp/driver/` folder ahead of time?\r\n\r\n> I found a workaround setting java.io.tmpdir property to a different directory in the driver as below:\r\n\r\nBased no the above, I'm guessing no.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901571240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901575352","html_url":"https://github.com/apache/iceberg/issues/2991#issuecomment-901575352","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2991","id":901575352,"node_id":"IC_kwDOCW7NX841vPK4","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T03:11:42Z","updated_at":"2021-08-19T03:12:04Z","author_association":"CONTRIBUTOR","body":"Also, YARN and Spark both make use of `java.io.tmpdir` by default.\r\n\r\nYou might consider setting `spark.local.dir` or even configuring YARN to use a different temporary directory for its work: https://stackoverflow.com/questions/49317521/how-to-change-java-io-tmpdir-for-spark-job-running-on-yarn\r\n\r\nThere is also a possibility that the directory is full based on your EBS mounting strategy or instance type, could you check if that is the case? Also, can you verify the permissions of the directory?\r\n\r\nYou may want to reach out to your TAMs as well (if you have support) to see if they can help you troubleshoot the EMR issue, as this has only been brought up one other time to my knowledge - in that case, it was a disk full issue AFAIK. Yours might be different though!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901575352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901586306","html_url":"https://github.com/apache/iceberg/issues/2527#issuecomment-901586306","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2527","id":901586306,"node_id":"IC_kwDOCW7NX841vR2C","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T03:46:18Z","updated_at":"2021-08-19T03:46:18Z","author_association":"MEMBER","body":"Iceberg doesn't implement SupportsRuntimeFiltering yet as added in that PR\nfor Spark 3.2 (we actually don't support 3.2 at all yet)\n\nOn Wed, Aug 18, 2021 at 9:06 PM vusal-iom ***@***.***> wrote:\n\n> I also hit the same problem while doing TPCDS 10TB benchmarking. The\n> reason was, only HadoopFsRelation had been taken account:\n> https://github.com/apache/spark/blob/fceabe2372ab2a53401059e6019f441d0580aeab/sql/core/src/main/scala/org/apache/spark/sql/execution/dynamicpruning/PartitionPruning.scala#L64\n>\n> But, the latest code has V2 Datasource handling part already. See:\n> https://issues.apache.org/jira/browse/SPARK-35779\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/2527#issuecomment-901552057>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YMJUHGQ6YF7O6JIPCLT5RRMHANCNFSM43U33RPQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901586306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901590064","html_url":"https://github.com/apache/iceberg/pull/2970#issuecomment-901590064","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2970","id":901590064,"node_id":"IC_kwDOCW7NX841vSww","user":{"login":"tsianglei","id":68575400,"node_id":"MDQ6VXNlcjY4NTc1NDAw","avatar_url":"https://avatars.githubusercontent.com/u/68575400?v=4","gravatar_id":"","url":"https://api.github.com/users/tsianglei","html_url":"https://github.com/tsianglei","followers_url":"https://api.github.com/users/tsianglei/followers","following_url":"https://api.github.com/users/tsianglei/following{/other_user}","gists_url":"https://api.github.com/users/tsianglei/gists{/gist_id}","starred_url":"https://api.github.com/users/tsianglei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsianglei/subscriptions","organizations_url":"https://api.github.com/users/tsianglei/orgs","repos_url":"https://api.github.com/users/tsianglei/repos","events_url":"https://api.github.com/users/tsianglei/events{/privacy}","received_events_url":"https://api.github.com/users/tsianglei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T03:58:49Z","updated_at":"2021-08-19T03:58:49Z","author_association":"NONE","body":"@openinx  Could you help me run workflows?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901590064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901651149","html_url":"https://github.com/apache/iceberg/issues/2751#issuecomment-901651149","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2751","id":901651149,"node_id":"IC_kwDOCW7NX841vhrN","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T06:39:56Z","updated_at":"2021-08-19T06:39:56Z","author_association":"CONTRIBUTOR","body":"> @pvary, given that the Hive MetaStore does not support case-insensitive filtering on a table's parameter, should I close my #2722, then?\r\n\r\nWe could still query with case insensitivity form HMS and then filter the results with case sensitivity in Java code. This way we still can have a good performance improvement if there are too many tables. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901651149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901862984","html_url":"https://github.com/apache/iceberg/pull/2893#issuecomment-901862984","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2893","id":901862984,"node_id":"IC_kwDOCW7NX841wVZI","user":{"login":"empcl","id":28925346,"node_id":"MDQ6VXNlcjI4OTI1MzQ2","avatar_url":"https://avatars.githubusercontent.com/u/28925346?v=4","gravatar_id":"","url":"https://api.github.com/users/empcl","html_url":"https://github.com/empcl","followers_url":"https://api.github.com/users/empcl/followers","following_url":"https://api.github.com/users/empcl/following{/other_user}","gists_url":"https://api.github.com/users/empcl/gists{/gist_id}","starred_url":"https://api.github.com/users/empcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/empcl/subscriptions","organizations_url":"https://api.github.com/users/empcl/orgs","repos_url":"https://api.github.com/users/empcl/repos","events_url":"https://api.github.com/users/empcl/events{/privacy}","received_events_url":"https://api.github.com/users/empcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T12:11:34Z","updated_at":"2021-08-19T12:11:34Z","author_association":"NONE","body":"@massdosage Hi, I have updated it here, please help me and check it out again. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/901862984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902054667","html_url":"https://github.com/apache/iceberg/pull/2240#issuecomment-902054667","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2240","id":902054667,"node_id":"IC_kwDOCW7NX841xEML","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T16:24:47Z","updated_at":"2021-08-19T16:24:47Z","author_association":"COLLABORATOR","body":"@aokolnychyi  the comments should be addressed now when you have time for another look, thanks again","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902054667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902187515","html_url":"https://github.com/apache/iceberg/issues/2918#issuecomment-902187515","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2918","id":902187515,"node_id":"IC_kwDOCW7NX841xkn7","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T19:37:24Z","updated_at":"2021-08-19T19:37:24Z","author_association":"CONTRIBUTOR","body":"@Reo-LEI great job on the issue description. thank you for the effort.\r\n\r\n> The FlinkCDCSource parallelism will be alway 1, because binlog data need to be send by serial. Consider Flink use rebalance as default shuffle strategy. Now we can see the CDC data will be rebalance to three different Filter and then emit different IcebergStreamWriter.\r\n\r\nI am not familiar with SQL or CDC parts of Flink. So the binlog is not first shipped to Kafka first here, right? Flink CDC source directly read binlog from MySQL?\r\n\r\nPersonally, I don't see too much benefit of just scale up the parallelism for the IcebergStreamWriter operator. All the extra network shuffle/rebalance can be expensive too. I do see the need to scale up the job parallelism with higher traffic. hence I am wondering if we can also scale up the Flink CDC source operator along with other operators so that we can keep the chaining behavior.\r\n\r\nAs you said already, this only works if the hash shuffle (based on the primary key) is the only network shuffle before the IcebergStreamWriter operator. That is why I have some reservations of putting this in the Flink Iceberg sink. This won't work if there is some other network shuffle before the Flink sink, which is outside of the control of the sink. Hence I am wondering if this should be handled outside of the Flink sink and we should just document the expected behavior of the input data to the Flink Iceberg sink.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902187515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902190691","html_url":"https://github.com/apache/iceberg/pull/2898#issuecomment-902190691","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2898","id":902190691,"node_id":"IC_kwDOCW7NX841xlZj","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T19:42:23Z","updated_at":"2021-08-19T19:42:23Z","author_association":"CONTRIBUTOR","body":"@Reo-LEI I left a comment in the issue #2918. Let's continue the problem discussion there. \r\n\r\nYou probably want to rebase the PR properly. right now, it shows 1,000+ files modified.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902190691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902193714","html_url":"https://github.com/apache/iceberg/issues/2962#issuecomment-902193714","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2962","id":902193714,"node_id":"IC_kwDOCW7NX841xmIy","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T19:46:49Z","updated_at":"2021-08-19T19:47:02Z","author_association":"CONTRIBUTOR","body":"I agree with Julien that https://github.com/apache/parquet-mr/commit/32e9578894506df07d65bbeb012a44ec7746ddcb looks suspicious. That changed \"map\" to \"key_value\" so we see that the data used the old version. @prodeezy, can you debug to where that exception is being created to see what's going on?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902193714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902197637","html_url":"https://github.com/apache/iceberg/pull/2965#issuecomment-902197637","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2965","id":902197637,"node_id":"IC_kwDOCW7NX841xnGF","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T19:53:03Z","updated_at":"2021-08-19T19:53:03Z","author_association":"CONTRIBUTOR","body":"@flyrain great point around this, I am fully for a consolidation, this PR is really to prepare for that. My thought is the following:\r\n\r\n1. in #2845 I implemented the fallback strategy\r\n2. in this PR, we first consolidate the variable name to be consistent\r\n3. in a subsequent PR, we can deprecate `write.object-storage.path` and only have 1 overwrite config.\r\n\r\nFor 3, my thinking is to avoid the need to introduce yet another config key, although I understand the name `write.folder-storage.path` isn't really ideal. Ideally we can have `write.data.path` which parallels `write.metadata.path`, but I really don't want to introduce yet another variable. What's your thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902197637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902199663","html_url":"https://github.com/apache/iceberg/pull/2995#issuecomment-902199663","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2995","id":902199663,"node_id":"IC_kwDOCW7NX841xnlv","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T19:56:20Z","updated_at":"2021-08-19T19:56:20Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @jackye1995 & @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902199663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902201053","html_url":"https://github.com/apache/iceberg/issues/2996#issuecomment-902201053","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2996","id":902201053,"node_id":"IC_kwDOCW7NX841xn7d","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T19:58:37Z","updated_at":"2021-08-19T19:58:37Z","author_association":"CONTRIBUTOR","body":"As discussed in the slack channel, I think we can put this as a part of the 0.1 release milestone. I can start to work on this as soon as the Tables API in python is consolidated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902201053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902236323","html_url":"https://github.com/apache/iceberg/pull/2965#issuecomment-902236323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2965","id":902236323,"node_id":"IC_kwDOCW7NX841xwij","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T20:51:43Z","updated_at":"2021-08-19T21:20:43Z","author_association":"CONTRIBUTOR","body":"> 3. in a subsequent PR, we can deprecate `write.object-storage.path` and only have 1 overwrite config.\r\n> \r\n> For 3, my thinking is to avoid the need to introduce yet another config key, although I understand the name `write.folder-storage.path` isn't really ideal. Ideally we can have `write.data.path` which parallels `write.metadata.path`, but I really don't want to introduce yet another variable. What's your thoughts on this?\r\n\r\nNice plan! I like the name `write.data.path`, but `write.folder-storage.path` is fine since it is there for a while. We can bring it up in the next community sync-up. We can go with `write.data.path` if there aren't many users using `write.folder-storage.path`.\r\n\r\nAlso let us know if you don't have time for step 3, we are glad to help. Thanks @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902236323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902254534","html_url":"https://github.com/apache/iceberg/pull/2983#issuecomment-902254534","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2983","id":902254534,"node_id":"IC_kwDOCW7NX841x0_G","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T21:18:15Z","updated_at":"2021-08-19T21:18:15Z","author_association":"CONTRIBUTOR","body":"I believe this is ready to merge. Thanks for the review @RussellSpitzer, @kbendick, @szehon-ho, @karuppayya. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902254534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902286320","html_url":"https://github.com/apache/iceberg/pull/2997#issuecomment-902286320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2997","id":902286320,"node_id":"IC_kwDOCW7NX841x8vw","user":{"login":"cwsteinbach","id":229846,"node_id":"MDQ6VXNlcjIyOTg0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/229846?v=4","gravatar_id":"","url":"https://api.github.com/users/cwsteinbach","html_url":"https://github.com/cwsteinbach","followers_url":"https://api.github.com/users/cwsteinbach/followers","following_url":"https://api.github.com/users/cwsteinbach/following{/other_user}","gists_url":"https://api.github.com/users/cwsteinbach/gists{/gist_id}","starred_url":"https://api.github.com/users/cwsteinbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwsteinbach/subscriptions","organizations_url":"https://api.github.com/users/cwsteinbach/orgs","repos_url":"https://api.github.com/users/cwsteinbach/repos","events_url":"https://api.github.com/users/cwsteinbach/events{/privacy}","received_events_url":"https://api.github.com/users/cwsteinbach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T22:13:58Z","updated_at":"2021-08-19T22:13:58Z","author_association":"CONTRIBUTOR","body":"Committing this without review since it's a small change related to release management work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902286320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902487211","html_url":"https://github.com/apache/iceberg/issues/3003#issuecomment-902487211","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3003","id":902487211,"node_id":"IC_kwDOCW7NX841ytyr","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T07:15:31Z","updated_at":"2021-08-20T07:16:20Z","author_association":"CONTRIBUTOR","body":"Note that all actions (except Run License Check and Pull Request Labeler) run twice on the first commit.\r\n\r\nbuild-javadoc and extra-checks also get run twice.\r\n\r\n<img width=\"860\" alt=\"image\" src=\"https://user-images.githubusercontent.com/9833362/130195053-b26a9ed3-2819-463d-ba7e-8c69fb0c24ef.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902487211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902495605","html_url":"https://github.com/apache/iceberg/issues/2996#issuecomment-902495605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2996","id":902495605,"node_id":"IC_kwDOCW7NX841yv11","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T07:31:56Z","updated_at":"2021-08-20T07:31:56Z","author_association":"COLLABORATOR","body":"Thanks @jackye1995 \r\nUpdated the issue to include it in the milestone.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902495605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902501066","html_url":"https://github.com/apache/iceberg/issues/3002#issuecomment-902501066","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3002","id":902501066,"node_id":"IC_kwDOCW7NX841yxLK","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T07:42:27Z","updated_at":"2021-08-20T07:42:27Z","author_association":"CONTRIBUTOR","body":"I have a work in progress on this that does work, though it runs a few extra cancel workflow runs.\r\n\r\nI'll open a PR shortly and then we can deal with the extra cancel workflows runs.\r\n\r\nExtra cancel workflow runs are definitely better than extra 30+ minute runs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902501066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902650218","html_url":"https://github.com/apache/iceberg/pull/2894#issuecomment-902650218","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2894","id":902650218,"node_id":"IC_kwDOCW7NX841zVlq","user":{"login":"empcl","id":28925346,"node_id":"MDQ6VXNlcjI4OTI1MzQ2","avatar_url":"https://avatars.githubusercontent.com/u/28925346?v=4","gravatar_id":"","url":"https://api.github.com/users/empcl","html_url":"https://github.com/empcl","followers_url":"https://api.github.com/users/empcl/followers","following_url":"https://api.github.com/users/empcl/following{/other_user}","gists_url":"https://api.github.com/users/empcl/gists{/gist_id}","starred_url":"https://api.github.com/users/empcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/empcl/subscriptions","organizations_url":"https://api.github.com/users/empcl/orgs","repos_url":"https://api.github.com/users/empcl/repos","events_url":"https://api.github.com/users/empcl/events{/privacy}","received_events_url":"https://api.github.com/users/empcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T12:16:09Z","updated_at":"2021-08-20T12:16:09Z","author_association":"NONE","body":"Hi, @massdosage. Could you please review this PR ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902650218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902854444","html_url":"https://github.com/apache/iceberg/pull/2983#issuecomment-902854444","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2983","id":902854444,"node_id":"IC_kwDOCW7NX8410Hcs","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T17:44:34Z","updated_at":"2021-08-20T17:44:34Z","author_association":"MEMBER","body":"I think we should merge this when the tests finish up :) Thanks everyone for the discussion and review and @flyrain for the patch!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902854444/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902873423","html_url":"https://github.com/apache/iceberg/issues/3003#issuecomment-902873423","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3003","id":902873423,"node_id":"IC_kwDOCW7NX8410MFP","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T18:19:33Z","updated_at":"2021-08-20T18:19:33Z","author_association":"CONTRIBUTOR","body":"This is only a problem in forks. In this repo, things only seem to run one time (on pull_request).\r\n\r\nThis might be something we can ignore for now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902873423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902890142","html_url":"https://github.com/apache/iceberg/pull/3004#issuecomment-902890142","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3004","id":902890142,"node_id":"IC_kwDOCW7NX8410QKe","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T18:51:53Z","updated_at":"2021-08-20T18:51:53Z","author_association":"CONTRIBUTOR","body":"Here is a screenshot showing test runs getting cancelled in my fork.\r\n\r\nNote that in my fork, tests also run on `push` event (so they run twice). But the `pull_request` ones did cancel. Going to remove `push` from the skipped events to see if that helps cancel unnecessary workflows in forks: [Test PR in my fork](https://github.com/kbendick/iceberg/pull/46)\r\n\r\nScreenshot of the cancelled runs:\r\n<img width=\"534\" alt=\"image\" src=\"https://user-images.githubusercontent.com/9833362/130280221-6141f5d0-4925-4e9e-b186-b8f49043aeda.png\">\r\n\r\nScreenshot showing that a new push is what caused (the above) cancelling\r\n<img width=\"895\" alt=\"image\" src=\"https://user-images.githubusercontent.com/9833362/130280273-80c1e1d8-ef8d-4277-aba9-db9baa0dd0ce.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902890142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902893855","html_url":"https://github.com/apache/iceberg/pull/3004#issuecomment-902893855","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3004","id":902893855,"node_id":"IC_kwDOCW7NX8410REf","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T18:59:21Z","updated_at":"2021-08-20T18:59:21Z","author_association":"CONTRIBUTOR","body":"I removed `push` from the `skipEventTypes` in my fork, and it then caused the `push` and `pull_request` workflows in my fork to cancel when a PR received new pushes.\r\n\r\nI'll also remove `push` here and leave `scheduled` (which isn't currently used but that's ok).\r\n\r\n<img width=\"539\" alt=\"image\" src=\"https://user-images.githubusercontent.com/9833362/130281234-a8a60ea7-2415-459b-adf2-9f7beeca709f.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902893855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902896698","html_url":"https://github.com/apache/iceberg/pull/3004#issuecomment-902896698","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3004","id":902896698,"node_id":"IC_kwDOCW7NX8410Rw6","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T19:04:08Z","updated_at":"2021-08-20T19:08:41Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @cwsteinbach @aokolnychyi @RussellSpitzer if one of you could take a look at this, it would greatly cut down on our usage of CI runners.\r\n\r\nI've tested it in my fork (links and screenshots of it working above).\r\n\r\nFor reference, this is the same PR cancelling workflow that is used in Spark: https://github.com/apache/spark/blob/master/.github/workflows/cancel_duplicate_workflow_runs.yml","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902896698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902926141","html_url":"https://github.com/apache/iceberg/pull/2983#issuecomment-902926141","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2983","id":902926141,"node_id":"IC_kwDOCW7NX8410Y89","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T20:03:22Z","updated_at":"2021-08-20T20:03:22Z","author_association":"MEMBER","body":"I know it's a bit late, but I did think we should have one additional test here just so we don't have an untested codepath in the library :)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902926141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902934358","html_url":"https://github.com/apache/iceberg/pull/2983#issuecomment-902934358","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2983","id":902934358,"node_id":"IC_kwDOCW7NX8410a9W","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T20:17:45Z","updated_at":"2021-08-20T20:17:45Z","author_association":"CONTRIBUTOR","body":"> I know it's a bit late, but I did think we should have one additional test here just so we don't have an untested codepath in the library :)\r\n\r\nAdded a unit test.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902934358/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902943966","html_url":"https://github.com/apache/iceberg/pull/2961#issuecomment-902943966","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2961","id":902943966,"node_id":"IC_kwDOCW7NX8410dTe","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T20:37:21Z","updated_at":"2021-08-20T20:37:21Z","author_association":"CONTRIBUTOR","body":"@rymurr thanks for the feedback, let me start a design doc around this then.\r\n\r\nYes `Snapshot` is immutable as of today, this is also something I am not sure if we would like to define in more granularity or not. When we say the snapshot is immutable, it is really the content, especially the manifest list that is immutable. But tagging is more about a description of a snapshot, which I am not sure if it would affect the immutable aspect of it.\r\n\r\nLet's discuss this in more details in design doc then, I will put up something and send to dev list.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902943966/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902975046","html_url":"https://github.com/apache/iceberg/pull/2983#issuecomment-902975046","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2983","id":902975046,"node_id":"IC_kwDOCW7NX8410k5G","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T21:48:27Z","updated_at":"2021-08-20T21:48:27Z","author_association":"MEMBER","body":"Thanks! Merged","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/902975046/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/903086302","html_url":"https://github.com/apache/iceberg/issues/2918#issuecomment-903086302","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2918","id":903086302,"node_id":"IC_kwDOCW7NX8411ADe","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-21T09:02:54Z","updated_at":"2021-08-21T10:04:25Z","author_association":"CONTRIBUTOR","body":"@stevenzwu @kbendick Thanks for feed back let me know yours concern. I think I could answer your questions in here.\r\n\r\nAlthough I encounter this problem when use FlinkSQL to sync cdc data to iceberg, but I think we should keep consider more general situation about we write cdc/upsert stream data to iceberg table, such as user custom define source which produce cdc/upsert stream data or flink table retract/upsert data, and not only in flink sql but also in flink streaming. So I'd like to discuss all situation of that.\r\n\r\n### Discussion of current iceberg\r\nsuppose we got an `ChangelogStream` need to write to iceberg table. Consider `IcebergStreamWriter` parllelism could be config by `writeParallelism`, so we got different parllelism variate as follow:\r\n```\r\nx: changelog-stream-parallelism\r\ny: job-default-parallelism\r\nz: iceberg-writer-parallelism\r\n```\r\n#### For FlinkSQL\r\n**Case1:** x == y == z          \r\n```       \r\nChangelogStream-x ---forward---> Filter-y ---forward---> IcebergStreamWriter-z ---forward---> IcebergFilesCommitter\r\n```\r\n\r\n**Case2**: x != y == z    \r\n```            \r\nChangelogStream-1 ---+           +---> Filter-1 ---forward---> IcebergStreamWriter-1 ---+\r\n       ...           +-rebalance-+        ...                                           +-rebalance---> IcebergFilesCommitter\r\nChangelogStream-x ---+           +---> Filter-y ---forward---> IcebergStreamWriter-z ---+\r\n```\r\n\r\n**Case3**: x == y != z               \r\n``` \r\n                                                       +---> IcebergStreamWriter-1 ---+\r\nChangelogStream-x ---forward---> Filter-y ---rebalance-+                              +-rebalance---> IcebergFilesCommitter\r\n                                                       +---> IcebergStreamWriter-z ---+\r\n```\r\n\r\n**Case4**: x != y != z                \r\n```\r\nChangelogStream-1 ---+           +---> Filter-1 ---+           +---> IcebergStreamWriter-1 ---+\r\n       ...           +-rebalance-+        ...      +-rebalance-+            ...               +-rebalance---> IcebergFilesCommitter\r\nChangelogStream-x ---+           +---> Filter-y ---+           +---> IcebergStreamWriter-z ---+\r\n```\r\n\r\nIn the above case, except for case 1, we can found there are at lease once `rebalance` between `ChangelogStream` and `IcebergStreamWriter`, that will make the change log records (which have same primary key) distributed to different `IcebergStreamWriter` or disorder as i said before. Finally, we will get duplicate rows or other strange result(especially Case4).\r\n\r\n#### For FlinkStreaming\r\nThe discussions for FlinkStreaming are same as FlinkSQL, just replace `Filter` as `Map`(the `Map` opr is come from Iceberg `FlinkSink`, that is use to convert inpurt record to `RowData` type).\r\n\r\n### Solution\r\nIn general，we could not decide the parallelism of `ChangelogStream`, and we don’t know user will how to adjust the job and writer parallelism to deal with higher traffic. In my opinion, Iceberg should ensure result correctness in all case, no matter how the user configures the parallelism of job or opr.\r\n\r\nSo in #2898, I add `keyBy` between `Filter/Map` and `IcebergStreamWriter`, that can ensure all same primary key record will be distributed to same `IcebergStreamWriter` to ensure result correctness. And I trying to set `Filter/Map` parallelism follow its input and chainig its input opr to prevent disorder problem. \r\n\r\nFinally, in all parallelism case as above, we can definitively get correct DAG and ensure result correctness.\r\n```\r\nChangelogStream-1 ---forward---> Filter-1 ---+      +---> IcebergStreamWriter-1   ---+\r\n      ...                          ...       +-hash-+             ...                +-rebalance---> IcebergFilesCommitter\r\nChangelogStream-x ---forward---> Filter-x ---+      +---> IcebergStreamWriter-y/z ---+\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/903086302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/903088186","html_url":"https://github.com/apache/iceberg/issues/2918#issuecomment-903088186","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2918","id":903088186,"node_id":"IC_kwDOCW7NX8411Ag6","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-21T09:18:49Z","updated_at":"2021-08-21T09:21:53Z","author_association":"CONTRIBUTOR","body":"> Also, correct me if I'm wrong, but the `Filter` operation isn't required to be part of the job's DAG at all, right?\r\n\r\nI think `Filter` is still required, because we need to filter the null record before FlinkSink. @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/903088186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]