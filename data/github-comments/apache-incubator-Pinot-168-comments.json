[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386275299","html_url":"https://github.com/apache/pinot/pull/10134#issuecomment-1386275299","issue_url":"https://api.github.com/repos/apache/pinot/issues/10134","id":1386275299,"node_id":"IC_kwDOATCU_c5SoOHj","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T00:19:45Z","updated_at":"2023-01-18T00:19:45Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang  / @jugomezv : please review. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386275299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386278857","html_url":"https://github.com/apache/pinot/pull/2495#issuecomment-1386278857","issue_url":"https://api.github.com/repos/apache/pinot/issues/2495","id":1386278857,"node_id":"IC_kwDOATCU_c5SoO_J","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T00:23:51Z","updated_at":"2023-01-18T00:23:51Z","author_association":"CONTRIBUTOR","body":"> We found about 23k segments across some 30 or so tables. Give us some time as we figure out a way please. Thanks.\r\n\r\nThis is not a blocker anymore, you can merge the PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386278857/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386414713","html_url":"https://github.com/apache/pinot/pull/10117#issuecomment-1386414713","issue_url":"https://api.github.com/repos/apache/pinot/issues/10117","id":1386414713,"node_id":"IC_kwDOATCU_c5SowJ5","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T03:07:53Z","updated_at":"2023-01-18T03:07:53Z","author_association":"CONTRIBUTOR","body":"will close this PR in favor of @61yao 's comment. please continue the discussion in @ankitsultana 's PR: https://github.com/apache/pinot/pull/10114.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386414713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386435146","html_url":"https://github.com/apache/pinot/pull/10120#issuecomment-1386435146","issue_url":"https://api.github.com/repos/apache/pinot/issues/10120","id":1386435146,"node_id":"IC_kwDOATCU_c5So1JK","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T03:32:49Z","updated_at":"2023-01-18T03:32:49Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia did you get a chance to go over the PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386435146/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386458793","html_url":"https://github.com/apache/pinot/pull/10135#issuecomment-1386458793","issue_url":"https://api.github.com/repos/apache/pinot/issues/10135","id":1386458793,"node_id":"IC_kwDOATCU_c5So66p","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T04:09:59Z","updated_at":"2023-01-25T02:54:51Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10135](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2348c30) into [master](https://codecov.io/gh/apache/pinot/commit/9105a06ce8d7c0e1b0988c6883f620801d07bbea?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9105a06) will **increase** coverage by `24.45%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10135       +/-   ##\n=============================================\n+ Coverage          0   24.45%   +24.45%     \n- Complexity        0       53       +53     \n=============================================\n  Files             0     2007     +2007     \n  Lines             0   108654   +108654     \n  Branches          0    16504    +16504     \n=============================================\n+ Hits              0    26572    +26572     \n- Misses            0    79318    +79318     \n- Partials          0     2764     +2764     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration2 | `24.45% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...va/org/apache/pinot/query/runtime/QueryRunner.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9RdWVyeVJ1bm5lci5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [...va/org/apache/pinot/query/service/QueryServer.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvc2VydmljZS9RdWVyeVNlcnZlci5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `53.06% <0.00%> (Ã¸)` | |\n| [.../core/segment/processing/mapper/SegmentMapper.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvbWFwcGVyL1NlZ21lbnRNYXBwZXIuamF2YQ==) | `82.81% <0.00%> (Ã¸)` | |\n| [...pache/pinot/spi/stream/PartitionLevelConsumer.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1BhcnRpdGlvbkxldmVsQ29uc3VtZXIuamF2YQ==) | `0.00% <0.00%> (Ã¸)` | |\n| [...ment/local/function/TimeSpecFunctionEvaluator.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9mdW5jdGlvbi9UaW1lU3BlY0Z1bmN0aW9uRXZhbHVhdG9yLmphdmE=) | `0.00% <0.00%> (Ã¸)` | |\n| [...java/org/apache/pinot/spi/config/TableConfigs.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL1RhYmxlQ29uZmlncy5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [.../kafka20/KafkaPartitionLevelConnectionHandler.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1zdHJlYW0taW5nZXN0aW9uL3Bpbm90LWthZmthLTIuMC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL3N0cmVhbS9rYWZrYTIwL0thZmthUGFydGl0aW9uTGV2ZWxDb25uZWN0aW9uSGFuZGxlci5qYXZh) | `95.23% <0.00%> (Ã¸)` | |\n| [...ot/plugin/ingestion/batch/standalone/JobUtils.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1iYXRjaC1pbmdlc3Rpb24vcGlub3QtYmF0Y2gtaW5nZXN0aW9uLXN0YW5kYWxvbmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9pbmdlc3Rpb24vYmF0Y2gvc3RhbmRhbG9uZS9Kb2JVdGlscy5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [...ache/pinot/spi/utils/builder/TableNameBuilder.java](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvYnVpbGRlci9UYWJsZU5hbWVCdWlsZGVyLmphdmE=) | `0.00% <0.00%> (Ã¸)` | |\n| ... and [1999 more](https://codecov.io/gh/apache/pinot/pull/10135?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386458793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386652338","html_url":"https://github.com/apache/pinot/pull/10136#issuecomment-1386652338","issue_url":"https://api.github.com/repos/apache/pinot/issues/10136","id":1386652338,"node_id":"IC_kwDOATCU_c5SpqKy","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T08:15:55Z","updated_at":"2023-01-21T00:33:03Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10136](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e4177c0) into [master](https://codecov.io/gh/apache/pinot/commit/7d09489c5b939666c0561b6301c9287ef34ea239?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7d09489) will **decrease** coverage by `56.78%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10136       +/-   ##\n=============================================\n- Coverage     70.42%   13.65%   -56.78%     \n+ Complexity     5785      176     -5609     \n=============================================\n  Files          2007     1951       -56     \n  Lines        108737   106260     -2477     \n  Branches      16502    16208      -294     \n=============================================\n- Hits          76574    14505    -62069     \n- Misses        26809    90612    +63803     \n+ Partials       5354     1143     -4211     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.65% <0.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...data/manager/realtime/SegmentCommitterFactory.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudENvbW1pdHRlckZhY3RvcnkuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <0.00%> (-61.54%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/stream/StreamConfig.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbUNvbmZpZy5qYXZh) | `0.00% <0.00%> (-88.27%)` | :arrow_down: |\n| [...pache/pinot/spi/stream/StreamConfigProperties.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbUNvbmZpZ1Byb3BlcnRpZXMuamF2YQ==) | `0.00% <Ã¸> (-100.00%)` | :arrow_down: |\n| [...src/main/java/org/apache/pinot/sql/FilterKind.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvRmlsdGVyS2luZC5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ain/java/org/apache/pinot/core/data/table/Key.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL0tleS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...in/java/org/apache/pinot/spi/utils/BytesUtils.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQnl0ZXNVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ain/java/org/apache/pinot/common/CustomObject.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vQ3VzdG9tT2JqZWN0LmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...n/java/org/apache/pinot/core/data/table/Table.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL1RhYmxlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/data/table/Record.java](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL1JlY29yZC5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1582 more](https://codecov.io/gh/apache/pinot/pull/10136?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1386652338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387268763","html_url":"https://github.com/apache/pinot/issues/10140#issuecomment-1387268763","issue_url":"https://api.github.com/repos/apache/pinot/issues/10140","id":1387268763,"node_id":"IC_kwDOATCU_c5SsAqb","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T15:37:46Z","updated_at":"2023-01-18T15:37:46Z","author_association":"CONTRIBUTOR","body":"@agavra : Also, do you think we can have default scheduler release timeout of a few minutes? The scenario where the stages have been dispatched and one of the stages dies, leading to no data to the ancestor stages can be quite common.\r\n\r\nAt present since the default is -1, we accumulate these OpChains in the queue and never remove them. Would be great if these are removed in a few minutes by default given how commonly we could run into such issues.\r\n\r\n<img width=\"796\" alt=\"image\" src=\"https://user-images.githubusercontent.com/8644710/213214997-9e35255c-24f9-4f88-9f3b-3e12d3986b50.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387268763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387317550","html_url":"https://github.com/apache/pinot/issues/10140#issuecomment-1387317550","issue_url":"https://api.github.com/repos/apache/pinot/issues/10140","id":1387317550,"node_id":"IC_kwDOATCU_c5SsMku","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T16:06:12Z","updated_at":"2023-01-18T16:06:12Z","author_association":"CONTRIBUTOR","body":"Nice catch @ankitsultana - for your second question, we might want to make the default be the default query timeout x2 or something like that. That way it only gets triggered to clean up queries that would have timed out anyway. The point of keeping it infinite was exactly to catch these kind of bugs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387317550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387335390","html_url":"https://github.com/apache/pinot/issues/10140#issuecomment-1387335390","issue_url":"https://api.github.com/repos/apache/pinot/issues/10140","id":1387335390,"node_id":"IC_kwDOATCU_c5SsQ7e","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T16:18:00Z","updated_at":"2023-01-18T16:18:00Z","author_association":"CONTRIBUTOR","body":"I think we might want to make `onDataAvailable` non-blocking (e.g. doesn't go through `_monitor`). That makes it much more complicated and error prone for the implementation (e.g. `_seenMail` in `RoundRobinScheduler` needs to handle concurrent read/writes). \r\n\r\nSeparately, we should also see if we can bound the GRPC worker threads (cc @61yao as well since you've been looking into improving the way we use GRPC) - I don't think there's ever a good reason to have that many of them.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387335390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387336117","html_url":"https://github.com/apache/pinot/pull/10141#issuecomment-1387336117","issue_url":"https://api.github.com/repos/apache/pinot/issues/10141","id":1387336117,"node_id":"IC_kwDOATCU_c5SsRG1","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T16:18:29Z","updated_at":"2023-01-18T16:18:29Z","author_association":"CONTRIBUTOR","body":"Let's continue the conversation for alternatives in the issue ticket (for anyone watching).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387336117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387353323","html_url":"https://github.com/apache/pinot/pull/10135#issuecomment-1387353323","issue_url":"https://api.github.com/repos/apache/pinot/issues/10135","id":1387353323,"node_id":"IC_kwDOATCU_c5SsVTr","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T16:30:19Z","updated_at":"2023-01-18T16:30:19Z","author_association":"CONTRIBUTOR","body":"CC @agavra @61yao ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387353323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387465400","html_url":"https://github.com/apache/pinot/pull/10128#issuecomment-1387465400","issue_url":"https://api.github.com/repos/apache/pinot/issues/10128","id":1387465400,"node_id":"IC_kwDOATCU_c5Sswq4","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T17:40:45Z","updated_at":"2023-01-18T17:40:45Z","author_association":"CONTRIBUTOR","body":"Mostly code is moved around. Just minor comments. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387465400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387729221","html_url":"https://github.com/apache/pinot/pull/10134#issuecomment-1387729221","issue_url":"https://api.github.com/repos/apache/pinot/issues/10134","id":1387729221,"node_id":"IC_kwDOATCU_c5StxFF","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T20:21:15Z","updated_at":"2023-01-18T20:21:15Z","author_association":"CONTRIBUTOR","body":"Merging it because the trivy test was failing while the other tests passed. Also, we increased the timeout setting.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1387729221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396086138","html_url":"https://github.com/apache/pinot/pull/10143#issuecomment-1396086138","issue_url":"https://api.github.com/repos/apache/pinot/issues/10143","id":1396086138,"node_id":"IC_kwDOATCU_c5TNpV6","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T21:04:40Z","updated_at":"2023-01-18T21:20:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10143](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d5482f5) into [master](https://codecov.io/gh/apache/pinot/commit/df66d83eeda85d8c130a320d913665b95126ea1c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (df66d83) will **decrease** coverage by `40.67%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10143       +/-   ##\n=============================================\n- Coverage     68.54%   27.88%   -40.67%     \n+ Complexity     5749       53     -5696     \n=============================================\n  Files          2001     1989       -12     \n  Lines        108505   108152      -353     \n  Branches      16488    16450       -38     \n=============================================\n- Hits          74380    30159    -44221     \n- Misses        28845    74988    +46143     \n+ Partials       5280     3005     -2275     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.75% <Ã¸> (+0.09%)` | :arrow_up: |\n| integration2 | `24.39% <Ã¸> (?)` | |\n| unittests1 | `?` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...ain/java/org/apache/pinot/spi/utils/LoopUtils.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvTG9vcFV0aWxzLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...in/java/org/apache/pinot/spi/utils/BytesUtils.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQnl0ZXNVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/BaseRecording.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvQmFzZVJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/NoOpRecording.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvTm9PcFJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/table/FSTType.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0ZTVFR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/user/RoleType.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3VzZXIvUm9sZVR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/data/MetricFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9NZXRyaWNGaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/stream/StreamMessage.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbU1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/common/tier/TierFactory.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdGllci9UaWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/spi/config/table/TableType.java](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1RhYmxlVHlwZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1449 more](https://codecov.io/gh/apache/pinot/pull/10143?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396086138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396178575","html_url":"https://github.com/apache/pinot/pull/10144#issuecomment-1396178575","issue_url":"https://api.github.com/repos/apache/pinot/issues/10144","id":1396178575,"node_id":"IC_kwDOATCU_c5TN_6P","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T22:29:56Z","updated_at":"2023-01-19T21:30:42Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10144](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3a95e64) into [master](https://codecov.io/gh/apache/pinot/commit/df66d83eeda85d8c130a320d913665b95126ea1c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (df66d83) will **increase** coverage by `0.03%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10144      +/-   ##\n============================================\n+ Coverage     70.35%   70.38%   +0.03%     \n+ Complexity     5758     5135     -623     \n============================================\n  Files          2001     2006       +5     \n  Lines        108505   108689     +184     \n  Branches      16488    16493       +5     \n============================================\n+ Hits          76337    76501     +164     \n- Misses        26833    26847      +14     \n- Partials       5335     5341       +6     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.58% <Ã¸> (-0.09%)` | :arrow_down: |\n| integration2 | `24.32% <Ã¸> (-0.13%)` | :arrow_down: |\n| unittests1 | `67.90% <Ã¸> (+0.05%)` | :arrow_up: |\n| unittests2 | `13.65% <Ã¸> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-80.00%)` | :arrow_down: |\n| [...ion/function/DistinctCountAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `80.00% <0.00%> (-20.00%)` | :arrow_down: |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `43.56% <0.00%> (-18.82%)` | :arrow_down: |\n| [...nt/local/startree/v2/store/StarTreeDataSource.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZURhdGFTb3VyY2UuamF2YQ==) | `37.50% <0.00%> (-18.75%)` | :arrow_down: |\n| [...ation/function/DistinctSumAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdFN1bUFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `85.71% <0.00%> (-14.29%)` | :arrow_down: |\n| [...ation/function/DistinctAvgAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdEF2Z0FnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `86.66% <0.00%> (-13.34%)` | :arrow_down: |\n| [...data/manager/realtime/SegmentCommitterFactory.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudENvbW1pdHRlckZhY3RvcnkuamF2YQ==) | `88.23% <0.00%> (-11.77%)` | :arrow_down: |\n| [...mmon/request/context/predicate/NotEqPredicate.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Ob3RFcVByZWRpY2F0ZS5qYXZh) | `76.92% <0.00%> (-7.70%)` | :arrow_down: |\n| [...n/java/org/apache/pinot/common/utils/URIUtils.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVVJJVXRpbHMuamF2YQ==) | `66.66% <0.00%> (-7.41%)` | :arrow_down: |\n| [...core/startree/operator/StarTreeFilterOperator.java](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9vcGVyYXRvci9TdGFyVHJlZUZpbHRlck9wZXJhdG9yLmphdmE=) | `86.18% <0.00%> (-7.24%)` | :arrow_down: |\n| ... and [85 more](https://codecov.io/gh/apache/pinot/pull/10144?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396178575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396181623","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1396181623","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1396181623,"node_id":"IC_kwDOATCU_c5TOAp3","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T22:33:29Z","updated_at":"2023-01-18T22:33:29Z","author_association":"CONTRIBUTOR","body":"cc @mcvsubbu @siddharthteotia @sajjad-moradi \r\n\r\n+1 on this. Dividing the number of kafka partitions on a server always confuses me, which makes the stream very hard to config. In most cases, we just want the segment to be proper sized, instead of worrying about the total records in memory.  This config is also only table level, so it cannot limit the total records in memory for the whole server.\r\nTo keep it backward compatible, we can introduce a new config as the exact segment size","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396181623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396183165","html_url":"https://github.com/apache/pinot/pull/10144#issuecomment-1396183165","issue_url":"https://api.github.com/repos/apache/pinot/issues/10144","id":1396183165,"node_id":"IC_kwDOATCU_c5TOBB9","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T22:35:29Z","updated_at":"2023-01-18T22:35:29Z","author_association":"CONTRIBUTOR","body":"@snleee  / @gortiz  / @xiangfu0 : are we ok with moving the trivy check to a nightly trigger, rather than on every commit and PR? We can add a badge in our repo to indicate the status of this job. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396183165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396204741","html_url":"https://github.com/apache/pinot/pull/10139#issuecomment-1396204741","issue_url":"https://api.github.com/repos/apache/pinot/issues/10139","id":1396204741,"node_id":"IC_kwDOATCU_c5TOGTF","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T22:58:51Z","updated_at":"2023-01-18T22:58:51Z","author_association":"CONTRIBUTOR","body":"Good catch!\r\nTable name can actually contain spaces, so we can probably just match any character.\r\nThere are other regex that do not contain the table type, which should also be modified.\r\nWhen the table name contains `_`, can it correctly match the name? If not, we should consider changing the table type matching to only match `OFFLINE` and `REALTIME`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396204741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396212857","html_url":"https://github.com/apache/pinot/pull/10143#issuecomment-1396212857","issue_url":"https://api.github.com/repos/apache/pinot/issues/10143","id":1396212857,"node_id":"IC_kwDOATCU_c5TOIR5","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T23:08:00Z","updated_at":"2023-01-18T23:08:00Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396212857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396217784","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1396217784","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1396217784,"node_id":"IC_kwDOATCU_c5TOJe4","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T23:13:53Z","updated_at":"2023-01-18T23:14:29Z","author_association":"CONTRIBUTOR","body":"@ankitsultana anda @Jackie-Jiang  Pinot serves queries while consuming rows. In order to have enough CPU left over to process queries, it is best to limit the consumption rate to some maximum number on a per host basis. That is the reason we have the math as described -- the number of rows consumed by any instance within a period of time is limited to a max number. Further, if we rebalance the table with more instances per replica, the number automatically adjusts itself.\r\n\r\nGranted, that all this does not help much when there are multiple tables in a tenant.\r\n\r\nBut then neither does the new config as proposed.\r\n\r\nInstead of coming up with yet another config that the administrator cannot do much with in the long run, there are a few things we may be able to do:\r\n\r\n- Allow the user to specify a max for the average ingestion rate (bytes may make more sense) for each instance in the cluster.\r\n- Have a continuous measurement of the ingestion rate (again, bytes may be better than rows)\r\n- Run an algorithm on the controller to come up with an optimal number of rows for a segment given the tables and partitions hosted (either in the tenant or in the cluster, as the case maybe)\r\n- If any host in the cluster is in danger of exceeding the max, then raise a metric.\r\n\r\nI agree this is more complex than adding another config, but it is also more useful, and hopefully more interesting problem to solve.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396217784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396237583","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1396237583","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1396237583,"node_id":"IC_kwDOATCU_c5TOOUP","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T23:42:00Z","updated_at":"2023-01-18T23:42:00Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu The proposed way is very useful when we want to limit the CPU usage for all the consumers on a given server, but for certain use cases, CPU might not be the bottleneck (e.g. ingestion rate is low, query throughput is low, no strict latency requirement), and we just want an easy way to configure the segment size so that segment is not too small or too big.\r\nIt will be similar to the size (in bytes) based config, but we fix the number of rows per segment. It will be easier to config and get desired performance than the size based because for wide or narrow table, size based will give very different row count per segment. For columnar store, row count is the major factor of the query performance. Also, the size based config can only be properly set after the first several segments are consumed, which is not as straight-forward as the row based.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396237583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396273909","html_url":"https://github.com/apache/pinot/pull/10144#issuecomment-1396273909","issue_url":"https://api.github.com/repos/apache/pinot/issues/10144","id":1396273909,"node_id":"IC_kwDOATCU_c5TOXL1","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T00:20:52Z","updated_at":"2023-01-19T00:20:52Z","author_association":"CONTRIBUTOR","body":"I'm fine with the change but we will need to make one time effort to clean up the test. I think that may involve in bumping up multiple libraries.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396273909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396304548","html_url":"https://github.com/apache/pinot/pull/10128#issuecomment-1396304548","issue_url":"https://api.github.com/repos/apache/pinot/issues/10128","id":1396304548,"node_id":"IC_kwDOATCU_c5TOeqk","user":{"login":"vvivekiyer","id":21298365,"node_id":"MDQ6VXNlcjIxMjk4MzY1","avatar_url":"https://avatars.githubusercontent.com/u/21298365?v=4","gravatar_id":"","url":"https://api.github.com/users/vvivekiyer","html_url":"https://github.com/vvivekiyer","followers_url":"https://api.github.com/users/vvivekiyer/followers","following_url":"https://api.github.com/users/vvivekiyer/following{/other_user}","gists_url":"https://api.github.com/users/vvivekiyer/gists{/gist_id}","starred_url":"https://api.github.com/users/vvivekiyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvivekiyer/subscriptions","organizations_url":"https://api.github.com/users/vvivekiyer/orgs","repos_url":"https://api.github.com/users/vvivekiyer/repos","events_url":"https://api.github.com/users/vvivekiyer/events{/privacy}","received_events_url":"https://api.github.com/users/vvivekiyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T00:58:14Z","updated_at":"2023-01-19T00:58:14Z","author_association":"CONTRIBUTOR","body":"Addressed review comments. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396304548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396307559","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1396307559","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1396307559,"node_id":"IC_kwDOATCU_c5TOfZn","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T01:02:46Z","updated_at":"2023-01-19T01:02:46Z","author_association":"CONTRIBUTOR","body":"> @mcvsubbu The proposed way is very useful when we want to limit the CPU usage for all the consumers on a given server, but for certain use cases, CPU might not be the bottleneck (e.g. ingestion rate is low, query throughput is low, no strict latency requirement), and we just want an easy way to configure the segment size so that segment is not too small or too big. It will be similar to the size (in bytes) based config, but we fix the number of rows per segment. It will be easier to config and get desired performance than the size based because for wide or narrow table, size based will give very different row count per segment. For columnar store, row count is the major factor of the query performance. Also, the size based config can only be properly set after the first several segments are consumed, which is not as straight-forward as the row based.\r\n\r\nI don't agree with that last part. The size is recommended by the recommendation engine, and can be configured in.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396307559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396312237","html_url":"https://github.com/apache/pinot/pull/10128#issuecomment-1396312237","issue_url":"https://api.github.com/repos/apache/pinot/issues/10128","id":1396312237,"node_id":"IC_kwDOATCU_c5TOgit","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T01:09:18Z","updated_at":"2023-01-19T01:09:18Z","author_association":"CONTRIBUTOR","body":"only text / javadoc changed in the latest commit. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396312237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396323369","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1396323369","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1396323369,"node_id":"IC_kwDOATCU_c5TOjQp","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T01:25:31Z","updated_at":"2023-01-19T01:25:31Z","author_association":"CONTRIBUTOR","body":"Most users are not using the recommendation engine though. What I'm trying to convey is that currently there is not a straight forward way to configure the rows per segment. Fixing rows per segment is the easiest way to guarantee good performance, and we should provide an easy way to configure it without knowing how things are managed internally. I agree using the more complex mechanism can give better stability, but we also want a simple configuration for non-expert users.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396323369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396328556","html_url":"https://github.com/apache/pinot/issues/9277#issuecomment-1396328556","issue_url":"https://api.github.com/repos/apache/pinot/issues/9277","id":1396328556,"node_id":"IC_kwDOATCU_c5TOkhs","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T01:34:15Z","updated_at":"2023-01-19T01:34:15Z","author_association":"CONTRIBUTOR","body":"May be you are running into divide by 0 problem ? Did you try step into the code to understand where it is turning into NaN ?\r\n\r\ncc @jasperjiaguo  / @SabrinaZhaozyf ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396328556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396336852","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1396336852","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1396336852,"node_id":"IC_kwDOATCU_c5TOmjU","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T01:48:05Z","updated_at":"2023-01-19T01:48:05Z","author_association":"CONTRIBUTOR","body":"We should really think about configs that add no value. IMO this config adds no value. I think the non-expert users will come back asking us to tune this number because they rebalanced, or the number of partitions changed etc.  It is one less config to document.\r\n\r\nThis is my vote --  but sure,  majority wins :) ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396336852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396417093","html_url":"https://github.com/apache/pinot/issues/10147#issuecomment-1396417093","issue_url":"https://api.github.com/repos/apache/pinot/issues/10147","id":1396417093,"node_id":"IC_kwDOATCU_c5TO6JF","user":{"login":"sajjad-moradi","id":8548220,"node_id":"MDQ6VXNlcjg1NDgyMjA=","avatar_url":"https://avatars.githubusercontent.com/u/8548220?v=4","gravatar_id":"","url":"https://api.github.com/users/sajjad-moradi","html_url":"https://github.com/sajjad-moradi","followers_url":"https://api.github.com/users/sajjad-moradi/followers","following_url":"https://api.github.com/users/sajjad-moradi/following{/other_user}","gists_url":"https://api.github.com/users/sajjad-moradi/gists{/gist_id}","starred_url":"https://api.github.com/users/sajjad-moradi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajjad-moradi/subscriptions","organizations_url":"https://api.github.com/users/sajjad-moradi/orgs","repos_url":"https://api.github.com/users/sajjad-moradi/repos","events_url":"https://api.github.com/users/sajjad-moradi/events{/privacy}","received_events_url":"https://api.github.com/users/sajjad-moradi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T04:13:39Z","updated_at":"2023-01-19T04:13:39Z","author_association":"CONTRIBUTOR","body":"CC: @mcvsubbu @npawar @Jackie-Jiang ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396417093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396440724","html_url":"https://github.com/apache/pinot/issues/9277#issuecomment-1396440724","issue_url":"https://api.github.com/repos/apache/pinot/issues/9277","id":1396440724,"node_id":"IC_kwDOATCU_c5TO_6U","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T04:57:39Z","updated_at":"2023-01-19T05:00:41Z","author_association":"CONTRIBUTOR","body":"NaN could be due to Math.sqrt(negative_number) or 0.0/0.0 \r\nWe have recently discovered this by-definition impl of covariance/correlation has numerical stability issue when E[x^2] ~ E[x]^2 >> 0 (see [1](https://en.wikipedia.org/wiki/Algorithms_for_calculating_variance#Covariance) [2](https://github.com/trinodb/trino/blob/1866a23e3b0377144c1820de892c0de2762351a8/core/trino-main/src/main/java/io/trino/operator/aggregation/state/CorrelationState.java) [3](https://github.com/trinodb/trino/blob/1866a23e3b0377144c1820de892c0de2762351a8/core/trino-main/src/main/java/io/trino/operator/aggregation/state/CovarianceState.java)). Could we also use similar implementations?  I'm not sure if the online algorithm is already available as a library, but feel free to use if apache common has it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396440724/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396486769","html_url":"https://github.com/apache/pinot/pull/10136#issuecomment-1396486769","issue_url":"https://api.github.com/repos/apache/pinot/issues/10136","id":1396486769,"node_id":"IC_kwDOATCU_c5TPLJx","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T06:14:31Z","updated_at":"2023-01-19T06:14:31Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang I don't think we need 2 new configs, as we discussed. We can make do with 1 new config. Please review! ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396486769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396491709","html_url":"https://github.com/apache/pinot/pull/10148#issuecomment-1396491709","issue_url":"https://api.github.com/repos/apache/pinot/issues/10148","id":1396491709,"node_id":"IC_kwDOATCU_c5TPMW9","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T06:20:19Z","updated_at":"2023-01-19T06:43:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10148](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fd61cb7) into [master](https://codecov.io/gh/apache/pinot/commit/eaa60d93fb032114db618d2f0ef329e6f8fb7cf2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (eaa60d9) will **increase** coverage by `10.17%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10148       +/-   ##\n=============================================\n+ Coverage     24.75%   34.92%   +10.17%     \n- Complexity       44      200      +156     \n=============================================\n  Files          1988     2005       +17     \n  Lines        108125   108548      +423     \n  Branches      16446    16488       +42     \n=============================================\n+ Hits          26763    37909    +11146     \n+ Misses        78560    67369    -11191     \n- Partials       2802     3270      +468     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.71% <0.00%> (-0.04%)` | :arrow_down: |\n| integration2 | `24.42% <0.00%> (?)` | |\n| unittests2 | `13.66% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [.../java/org/apache/pinot/query/type/TypeFactory.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvdHlwZS9UeXBlRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-80.00%)` | :arrow_down: |\n| [...ion/function/DistinctCountAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `80.00% <0.00%> (-20.00%)` | :arrow_down: |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `43.56% <0.00%> (-18.82%)` | :arrow_down: |\n| [.../common/request/context/predicate/EqPredicate.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9FcVByZWRpY2F0ZS5qYXZh) | `61.53% <0.00%> (-15.39%)` | :arrow_down: |\n| [...core/startree/operator/StarTreeFilterOperator.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9vcGVyYXRvci9TdGFyVHJlZUZpbHRlck9wZXJhdG9yLmphdmE=) | `80.92% <0.00%> (-7.24%)` | :arrow_down: |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `51.88% <0.00%> (-6.61%)` | :arrow_down: |\n| [...core/operator/dociditerators/NotDocIdIterator.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Ob3REb2NJZEl0ZXJhdG9yLmphdmE=) | `95.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [.../org/apache/pinot/core/startree/StarTreeUtils.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9TdGFyVHJlZVV0aWxzLmphdmE=) | `44.32% <0.00%> (-2.07%)` | :arrow_down: |\n| [...g/apache/pinot/common/datablock/BaseDataBlock.java](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YWJsb2NrL0Jhc2VEYXRhQmxvY2suamF2YQ==) | `49.59% <0.00%> (-1.90%)` | :arrow_down: |\n| ... and [495 more](https://codecov.io/gh/apache/pinot/pull/10148?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396491709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396496351","html_url":"https://github.com/apache/pinot/pull/10144#issuecomment-1396496351","issue_url":"https://api.github.com/repos/apache/pinot/issues/10144","id":1396496351,"node_id":"IC_kwDOATCU_c5TPNff","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T06:26:28Z","updated_at":"2023-01-19T06:26:28Z","author_association":"CONTRIBUTOR","body":"My only concern is that who will be responsible for the trivy check results and version bump.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396496351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396526998","html_url":"https://github.com/apache/pinot/pull/10149#issuecomment-1396526998","issue_url":"https://api.github.com/repos/apache/pinot/issues/10149","id":1396526998,"node_id":"IC_kwDOATCU_c5TPU-W","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T07:02:45Z","updated_at":"2023-01-19T07:02:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10149](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (61bc28a) into [master](https://codecov.io/gh/apache/pinot/commit/21c6532564cb0fea682cf362a4d4eec37ef831e4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (21c6532) will **increase** coverage by `28.97%`.\n> The diff coverage is `83.33%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10149       +/-   ##\n=============================================\n+ Coverage     32.22%   61.20%   +28.97%     \n- Complexity      191     4977     +4786     \n=============================================\n  Files          2005     1993       -12     \n  Lines        108548   108205      -343     \n  Branches      16488    16450       -38     \n=============================================\n+ Hits          34985    66222    +31237     \n+ Misses        70454    37022    -33432     \n- Partials       3109     4961     +1852     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.64% <0.00%> (-0.15%)` | :arrow_down: |\n| unittests1 | `67.81% <83.33%> (?)` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...he/pinot/segment/local/utils/SegmentPushUtils.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91dGlscy9TZWdtZW50UHVzaFV0aWxzLmphdmE=) | `15.27% <83.33%> (+15.27%)` | :arrow_up: |\n| [...pinot/controller/recommender/io/ConfigManager.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9yZWNvbW1lbmRlci9pby9Db25maWdNYW5hZ2VyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/pinot/client/AggregationResultSet.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0FnZ3JlZ2F0aW9uUmVzdWx0U2V0LmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ntroller/recommender/rules/impl/JsonIndexRule.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9yZWNvbW1lbmRlci9ydWxlcy9pbXBsL0pzb25JbmRleFJ1bGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...troller/recommender/io/metadata/FieldMetadata.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9yZWNvbW1lbmRlci9pby9tZXRhZGF0YS9GaWVsZE1ldGFkYXRhLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...roller/recommender/rules/impl/BloomFilterRule.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9yZWNvbW1lbmRlci9ydWxlcy9pbXBsL0Jsb29tRmlsdGVyUnVsZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...oller/api/resources/PinotControllerAppConfigs.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90Q29udHJvbGxlckFwcENvbmZpZ3MuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ler/recommender/data/generator/BytesGenerator.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9yZWNvbW1lbmRlci9kYXRhL2dlbmVyYXRvci9CeXRlc0dlbmVyYXRvci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...er/recommender/io/metadata/SchemaWithMetaData.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9yZWNvbW1lbmRlci9pby9tZXRhZGF0YS9TY2hlbWFXaXRoTWV0YURhdGEuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...r/recommender/rules/impl/AggregateMetricsRule.java](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9yZWNvbW1lbmRlci9ydWxlcy9pbXBsL0FnZ3JlZ2F0ZU1ldHJpY3NSdWxlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1409 more](https://codecov.io/gh/apache/pinot/pull/10149?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396526998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396548970","html_url":"https://github.com/apache/pinot/pull/10150#issuecomment-1396548970","issue_url":"https://api.github.com/repos/apache/pinot/issues/10150","id":1396548970,"node_id":"IC_kwDOATCU_c5TPaVq","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T07:29:52Z","updated_at":"2023-01-20T01:36:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10150](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3ea840b) into [master](https://codecov.io/gh/apache/pinot/commit/21c6532564cb0fea682cf362a4d4eec37ef831e4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (21c6532) will **increase** coverage by `2.67%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10150      +/-   ##\n============================================\n+ Coverage     32.22%   34.90%   +2.67%     \n- Complexity      191      200       +9     \n============================================\n  Files          2005     2006       +1     \n  Lines        108548   108718     +170     \n  Branches      16488    16501      +13     \n============================================\n+ Hits          34985    37945    +2960     \n+ Misses        70454    67501    -2953     \n- Partials       3109     3272     +163     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.61% <Ã¸> (-0.17%)` | :arrow_down: |\n| integration2 | `24.32% <Ã¸> (?)` | |\n| unittests2 | `13.63% <Ã¸> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-80.00%)` | :arrow_down: |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `43.56% <0.00%> (-18.82%)` | :arrow_down: |\n| [...inot/core/util/SegmentCompletionProtocolUtils.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xVdGlscy5qYXZh) | `50.00% <0.00%> (-7.70%)` | :arrow_down: |\n| [...n/java/org/apache/pinot/common/utils/URIUtils.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVVJJVXRpbHMuamF2YQ==) | `66.66% <0.00%> (-7.41%)` | :arrow_down: |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `51.88% <0.00%> (-6.61%)` | :arrow_down: |\n| [...elix/core/periodictask/ControllerPeriodicTask.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3BlcmlvZGljdGFzay9Db250cm9sbGVyUGVyaW9kaWNUYXNrLmphdmE=) | `66.07% <0.00%> (-5.36%)` | :arrow_down: |\n| [...core/startree/operator/StarTreeFilterOperator.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9vcGVyYXRvci9TdGFyVHJlZUZpbHRlck9wZXJhdG9yLmphdmE=) | `86.84% <0.00%> (-1.32%)` | :arrow_down: |\n| [...ery/optimizer/filter/MergeEqInFilterOptimizer.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9vcHRpbWl6ZXIvZmlsdGVyL01lcmdlRXFJbkZpbHRlck9wdGltaXplci5qYXZh) | `88.88% <0.00%> (-1.24%)` | :arrow_down: |\n| [...ery/optimizer/filter/NumericalFilterOptimizer.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9vcHRpbWl6ZXIvZmlsdGVyL051bWVyaWNhbEZpbHRlck9wdGltaXplci5qYXZh) | `48.31% <0.00%> (-1.13%)` | :arrow_down: |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `92.38% <0.00%> (-0.96%)` | :arrow_down: |\n| ... and [250 more](https://codecov.io/gh/apache/pinot/pull/10150?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396548970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396567329","html_url":"https://github.com/apache/pinot/pull/10144#issuecomment-1396567329","issue_url":"https://api.github.com/repos/apache/pinot/issues/10144","id":1396567329,"node_id":"IC_kwDOATCU_c5TPe0h","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T07:53:15Z","updated_at":"2023-01-19T07:53:15Z","author_association":"CONTRIBUTOR","body":"I understand that the initial idea was to increase the timeout but we are using this PR to change the way trivy is triggered. Therefore I would suggest to change the title of the PR","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396567329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396699401","html_url":"https://github.com/apache/pinot/pull/10139#issuecomment-1396699401","issue_url":"https://api.github.com/repos/apache/pinot/issues/10139","id":1396699401,"node_id":"IC_kwDOATCU_c5TP_EJ","user":{"login":"Ferix9288","id":1356299,"node_id":"MDQ6VXNlcjEzNTYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1356299?v=4","gravatar_id":"","url":"https://api.github.com/users/Ferix9288","html_url":"https://github.com/Ferix9288","followers_url":"https://api.github.com/users/Ferix9288/followers","following_url":"https://api.github.com/users/Ferix9288/following{/other_user}","gists_url":"https://api.github.com/users/Ferix9288/gists{/gist_id}","starred_url":"https://api.github.com/users/Ferix9288/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ferix9288/subscriptions","organizations_url":"https://api.github.com/users/Ferix9288/orgs","repos_url":"https://api.github.com/users/Ferix9288/repos","events_url":"https://api.github.com/users/Ferix9288/events{/privacy}","received_events_url":"https://api.github.com/users/Ferix9288/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T09:47:59Z","updated_at":"2023-01-19T09:47:59Z","author_association":"CONTRIBUTOR","body":"Hey @Jackie-Jiang , much appreciated for the prompt review! \r\n\r\nAh very nice. So possibly a non-greedy search like (.*?)_(\\w+)? And np, I will fix the other regexes that also contain label `table` (but without the suffix) once we agree upon the new regex to match the table name more liberally.\r\n\r\n> When the table name contains _, can it correctly match the name?\r\n\r\nAh that's an excellent point. Yes, if a table name was something like `fake_table`, then regex will match this and deem it valid. However, code-wise and from what I've witnessed, the proper suffix is always appended to it. We could make it: \r\n\r\n`(.*?)_(OFFLINE|REALTIME)`\r\n\r\nand be more explicit though.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396699401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396760434","html_url":"https://github.com/apache/pinot/pull/10139#issuecomment-1396760434","issue_url":"https://api.github.com/repos/apache/pinot/issues/10139","id":1396760434,"node_id":"IC_kwDOATCU_c5TQN9y","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T10:35:32Z","updated_at":"2023-01-19T10:35:32Z","author_association":"MEMBER","body":"I don't have much of an opinion on what these regular expressions should be, I just took what was there before (which was working for us) and split it into different files so we don't have server rules on the broker and so on. The changes here look good.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396760434/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396918251","html_url":"https://github.com/apache/pinot/pull/10139#issuecomment-1396918251","issue_url":"https://api.github.com/repos/apache/pinot/issues/10139","id":1396918251,"node_id":"IC_kwDOATCU_c5TQ0fr","user":{"login":"Ferix9288","id":1356299,"node_id":"MDQ6VXNlcjEzNTYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1356299?v=4","gravatar_id":"","url":"https://api.github.com/users/Ferix9288","html_url":"https://github.com/Ferix9288","followers_url":"https://api.github.com/users/Ferix9288/followers","following_url":"https://api.github.com/users/Ferix9288/following{/other_user}","gists_url":"https://api.github.com/users/Ferix9288/gists{/gist_id}","starred_url":"https://api.github.com/users/Ferix9288/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ferix9288/subscriptions","organizations_url":"https://api.github.com/users/Ferix9288/orgs","repos_url":"https://api.github.com/users/Ferix9288/repos","events_url":"https://api.github.com/users/Ferix9288/events{/privacy}","received_events_url":"https://api.github.com/users/Ferix9288/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T12:42:33Z","updated_at":"2023-01-19T12:42:33Z","author_association":"CONTRIBUTOR","body":"Thanks @richardstartin for the input! \r\n\r\n@Jackie-Jiang I added `\\\\S+` regex to all other instances in which there was a `table` label; good catch on that. Also are we sure we should let whitespaces for table names? Wouldn't that kill a lot of the controller APIs that requires {{tableName}}? Or would encoding it as `%20` work? I am not sure if Pinot Controller UI would handle all of that correctly.\r\n\r\nSidenote: I created my own pinot custom image that has my changes baked in. Can confirm that this fixes our usecase and issue mentioned.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396918251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396973491","html_url":"https://github.com/apache/pinot/issues/10140#issuecomment-1396973491","issue_url":"https://api.github.com/repos/apache/pinot/issues/10140","id":1396973491,"node_id":"IC_kwDOATCU_c5TRB-z","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T13:25:54Z","updated_at":"2023-01-19T13:25:54Z","author_association":"CONTRIBUTOR","body":"Side-note: I think entries in seenMail may get leaked if `_releaseTs` is set to a finite value. The reason is that the OpChain may hang up and the sender may send the data after the corresponding OpChain has already finished as far as the scheduler is considered. It's only a small leak but a leak nevertheless.\r\n\r\nBroadly speaking I think we need to gracefully handle the cases where a sender is ready to send data to a stage but the receiver either hasn't been registered yet or has already hung up.\r\n\r\n> Separately, we should also see if we can bound the GRPC worker threads\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1396973491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397353721","html_url":"https://github.com/apache/pinot/pull/10148#issuecomment-1397353721","issue_url":"https://api.github.com/repos/apache/pinot/issues/10148","id":1397353721,"node_id":"IC_kwDOATCU_c5TSez5","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T17:32:26Z","updated_at":"2023-01-19T17:32:26Z","author_association":"CONTRIBUTOR","body":"this have introduce new set of issues. so we really need a proper null detection on columns. will shelf this PR for now","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397353721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397373177","html_url":"https://github.com/apache/pinot/pull/10144#issuecomment-1397373177","issue_url":"https://api.github.com/repos/apache/pinot/issues/10144","id":1397373177,"node_id":"IC_kwDOATCU_c5TSjj5","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T17:45:37Z","updated_at":"2023-01-19T17:45:37Z","author_association":"CONTRIBUTOR","body":"Not sure if periodic task is the best way to go forward here. I'm okay if we merge the flagged PR, and then separately fix the vulnerability detected (either the same PR author does it, or reports to pinot-contributers channel based on what the dependency is that caused the failure). But at least that way, we'll have someone in the loop about it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397373177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397438501","html_url":"https://github.com/apache/pinot/issues/10129#issuecomment-1397438501","issue_url":"https://api.github.com/repos/apache/pinot/issues/10129","id":1397438501,"node_id":"IC_kwDOATCU_c5TSzgl","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T18:38:58Z","updated_at":"2023-01-19T18:38:58Z","author_association":"CONTRIBUTOR","body":"did a bit of research on this topic:\r\n\r\nthe problem only occurs on `COUNT(*)` or `COUNT(1)`, `COUNT(col)` this is b/c calcite will optimize out the argument since all columns in pinot are marked non-nullable. \r\n\r\n1. several attempts have been tried on this one but the most promising so far is to replace `COUNT` with `SUM(1)` thus bypass calcite's optimization. with this project pushdown are being executed properly.\r\n2. @ankitsultana also reported that the pushdown doesn't apply to semi JOINs with NOT-IN clause properly\r\n ```\r\nSELECT\r\n  SUM(1)\r\nFROM\r\n  baseballStats_OFFLINE\r\nWHERE\r\n  hits > 10 AND \r\n  playerID NOT IN (SELECT playerID FROM baseballStats_OFFLINE WHERE hits < 5)\r\n```\r\n^ this seems to be related to the fact that NOT IN produces a in-equality JOIN condition that cannot be optimized into a proper JOIN and thus cannot apply proper pushdown rules. \r\nwhich we will address separately. \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397438501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397475658","html_url":"https://github.com/apache/pinot/pull/10144#issuecomment-1397475658","issue_url":"https://api.github.com/repos/apache/pinot/issues/10144","id":1397475658,"node_id":"IC_kwDOATCU_c5TS8lK","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T19:10:14Z","updated_at":"2023-01-19T19:10:14Z","author_association":"CONTRIBUTOR","body":"> I understand that the initial idea was to increase the timeout but we are using this PR to change the way trivy is triggered. Therefore I would suggest to change the title of the PR\r\n\r\nYes. I will update the title, if needed before merging. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397475658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397743731","html_url":"https://github.com/apache/pinot/pull/10151#issuecomment-1397743731","issue_url":"https://api.github.com/repos/apache/pinot/issues/10151","id":1397743731,"node_id":"IC_kwDOATCU_c5TT-Bz","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T23:33:12Z","updated_at":"2023-01-20T02:32:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10151?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10151](https://codecov.io/gh/apache/pinot/pull/10151?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4d7da0a) into [master](https://codecov.io/gh/apache/pinot/commit/4d7da0abab9563d95d139e11d054da2f0f5d45d8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4d7da0a) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n> :exclamation: Current head 4d7da0a differs from pull request most recent head 822c732. Consider uploading reports for the commit 822c732 to get more accurate results\n\n```diff\n@@            Coverage Diff            @@\n##             master   #10151   +/-   ##\n=========================================\n  Coverage     34.84%   34.84%           \n  Complexity      200      200           \n=========================================\n  Files          2006     2006           \n  Lines        108718   108718           \n  Branches      16501    16501           \n=========================================\n  Hits          37880    37880           \n  Misses        67566    67566           \n  Partials       3272     3272           \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.50% <0.00%> (Ã¸)` | |\n| integration2 | `24.29% <0.00%> (Ã¸)` | |\n| unittests2 | `13.64% <0.00%> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397743731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397748773","html_url":"https://github.com/apache/pinot/pull/10151#issuecomment-1397748773","issue_url":"https://api.github.com/repos/apache/pinot/issues/10151","id":1397748773,"node_id":"IC_kwDOATCU_c5TT_Ql","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T23:41:54Z","updated_at":"2023-01-19T23:42:10Z","author_association":"MEMBER","body":"Does `LoaderTest.testPadding` pass with this change? I'm all for simplification (assuming whatever the motivation for adding `LoaderTest.testPadding` was no longer matters) but this isn't going to move the needle much performance wise.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397748773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397787608","html_url":"https://github.com/apache/pinot/pull/10151#issuecomment-1397787608","issue_url":"https://api.github.com/repos/apache/pinot/issues/10151","id":1397787608,"node_id":"IC_kwDOATCU_c5TUIvY","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T00:39:03Z","updated_at":"2023-01-20T00:39:03Z","author_association":"CONTRIBUTOR","body":"> Does `LoaderTest.testPadding` pass with this change? I'm all for simplification (assuming whatever the motivation for adding `LoaderTest.testPadding` was no longer matters) but this isn't going to move the needle much performance wise.\r\n\r\nThis test is removed in #10087 where we removed the non-zero padding support. That test is added mainly for testing the behavior of legacy '%' padding, which is much more common than null.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397787608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397794076","html_url":"https://github.com/apache/pinot/issues/10147#issuecomment-1397794076","issue_url":"https://api.github.com/repos/apache/pinot/issues/10147","id":1397794076,"node_id":"IC_kwDOATCU_c5TUKUc","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T00:50:01Z","updated_at":"2023-01-20T00:50:01Z","author_association":"CONTRIBUTOR","body":"Have you considered using the regular state transition to achieve this? Essentially we can create the new consuming segment in IdealState when the commit starts. Nothing needs to be changed in the routing or state transition handling. If the commit end didn't arrive or failed, we can remove the new consuming segment from the IdealState. I feel this approach is more natural and easier to implement","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397794076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397807868","html_url":"https://github.com/apache/pinot/pull/10139#issuecomment-1397807868","issue_url":"https://api.github.com/repos/apache/pinot/issues/10139","id":1397807868,"node_id":"IC_kwDOATCU_c5TUNr8","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T01:11:40Z","updated_at":"2023-01-20T01:11:40Z","author_association":"CONTRIBUTOR","body":"Whitespaces in table name is definitely not recommended, but I don't think we reject it right now. Actually it is also not recommended to have '-' in table name or column name because you have to quote the name in the query, or it won't compile because '-' will be parsed as `minus`.\r\nI'd suggest changing the regex to `(.*?)_(OFFLINE|REALTIME)` which supports all possible table names, but also limit the table type value to prevent unexpected behavior.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397807868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397819480","html_url":"https://github.com/apache/pinot/issues/10147#issuecomment-1397819480","issue_url":"https://api.github.com/repos/apache/pinot/issues/10147","id":1397819480,"node_id":"IC_kwDOATCU_c5TUQhY","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T01:33:15Z","updated_at":"2023-01-20T01:33:15Z","author_association":"CONTRIBUTOR","body":"How many rows would the new consuming segment be setup to consume? (Currently that is decided when the prev segment is committed).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397819480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397822649","html_url":"https://github.com/apache/pinot/pull/10144#issuecomment-1397822649","issue_url":"https://api.github.com/repos/apache/pinot/issues/10144","id":1397822649,"node_id":"IC_kwDOATCU_c5TURS5","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T01:39:34Z","updated_at":"2023-01-20T01:39:34Z","author_association":"CONTRIBUTOR","body":"This change is included in #10150 which also fixes the trivy failure","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397822649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397833332","html_url":"https://github.com/apache/pinot/pull/10151#issuecomment-1397833332","issue_url":"https://api.github.com/repos/apache/pinot/issues/10151","id":1397833332,"node_id":"IC_kwDOATCU_c5TUT50","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T01:59:40Z","updated_at":"2023-01-20T02:00:30Z","author_association":"CONTRIBUTOR","body":"With the current code, `length == bytes.length && length != 0 && bytes[length - 1] == 0` case is not handled (the new added `ValueReaderComparisonTest` is flaky right now). To keep the behavior exactly the same as before, we need to do the following check:\r\n```\r\n      if (padded) {\r\n        if (length < bytes.length) {\r\n          return -1;\r\n        }\r\n        if (length == bytes.length) {\r\n          if (length == 0) {\r\n            return 0;\r\n          } else {\r\n            return dataBuffer.getByte(startOffset + length - 1) == 0 ? -1 : 0;\r\n          }\r\n        }\r\n        // length > bytes.length\r\n        // need to figure out whether the unpadded string is longer than the parameter or not\r\n        if (bytes.length == 0) {\r\n          // just need nonzero first byte\r\n          return dataBuffer.getByte(startOffset) == 0 ? 0 : 1;\r\n        } else if (bytes[bytes.length - 1] == 0) {\r\n          return -1;\r\n        } else {\r\n          // check if the stored string continues beyond the length of the parameter\r\n          return dataBuffer.getByte(startOffset + bytes.length) == 0 ? 0 : 1;\r\n        }\r\n      } else {\r\n        // then we know the length precisely or know that the parameter is at least as long as we can store\r\n        return length - bytes.length;\r\n      }\r\n```\r\n\r\nIMO it is too much and quite easy to make mistakes without adding much value","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397833332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397833536","html_url":"https://github.com/apache/pinot/pull/9994#issuecomment-1397833536","issue_url":"https://api.github.com/repos/apache/pinot/issues/9994","id":1397833536,"node_id":"IC_kwDOATCU_c5TUT9A","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T01:59:58Z","updated_at":"2023-01-20T01:59:58Z","author_association":"CONTRIBUTOR","body":"I tried deploying this change to one of our clusters with #10101 or #10121. We currently track ingestion lag via our custom stream ingestion plugin. For the most part these match up. But I still see an issue where partitions that have infrequent events continue to report forever increasing lag. From the code comments it seems that shouldn't be the case, but I want to make sure before I dig into our plugin to see if something isn't implemented as expected.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397833536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397888876","html_url":"https://github.com/apache/pinot/pull/10153#issuecomment-1397888876","issue_url":"https://api.github.com/repos/apache/pinot/issues/10153","id":1397888876,"node_id":"IC_kwDOATCU_c5TUhds","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T03:46:09Z","updated_at":"2023-01-20T04:21:02Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10153](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (70c2e2c) into [master](https://codecov.io/gh/apache/pinot/commit/c9ef76fb0471175c5d7a412dca46d10a2e2f2e2a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c9ef76f) will **increase** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10153      +/-   ##\n============================================\n+ Coverage     70.35%   70.37%   +0.01%     \n- Complexity     5134     5778     +644     \n============================================\n  Files          2000     2006       +6     \n  Lines        108454   108718     +264     \n  Branches      16481    16501      +20     \n============================================\n+ Hits          76302    76509     +207     \n- Misses        26812    26861      +49     \n- Partials       5340     5348       +8     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.59% <Ã¸> (+0.03%)` | :arrow_up: |\n| integration2 | `24.38% <Ã¸> (+0.15%)` | :arrow_up: |\n| unittests1 | `67.88% <Ã¸> (+0.08%)` | :arrow_up: |\n| unittests2 | `13.65% <Ã¸> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-80.00%)` | :arrow_down: |\n| [...ain/java/org/apache/pinot/spi/utils/LoopUtils.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvTG9vcFV0aWxzLmphdmE=) | `50.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...ion/function/DistinctCountAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `80.00% <0.00%> (-20.00%)` | :arrow_down: |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `43.56% <0.00%> (-18.82%)` | :arrow_down: |\n| [...ation/function/DistinctSumAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdFN1bUFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `85.71% <0.00%> (-14.29%)` | :arrow_down: |\n| [...ation/function/DistinctAvgAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdEF2Z0FnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `86.66% <0.00%> (-13.34%)` | :arrow_down: |\n| [...ot/query/runtime/executor/RoundRobinScheduler.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9leGVjdXRvci9Sb3VuZFJvYmluU2NoZWR1bGVyLmphdmE=) | `85.71% <0.00%> (-12.29%)` | :arrow_down: |\n| [...data/manager/realtime/SegmentCommitterFactory.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudENvbW1pdHRlckZhY3RvcnkuamF2YQ==) | `88.23% <0.00%> (-11.77%)` | :arrow_down: |\n| [...ore/query/scheduler/resources/ResourceManager.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `88.46% <0.00%> (-11.54%)` | :arrow_down: |\n| [...tion/BaseDistinctAggregateAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9CYXNlRGlzdGluY3RBZ2dyZWdhdGVBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `46.53% <0.00%> (-9.32%)` | :arrow_down: |\n| ... and [99 more](https://codecov.io/gh/apache/pinot/pull/10153?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397888876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397915490","html_url":"https://github.com/apache/pinot/pull/10154#issuecomment-1397915490","issue_url":"https://api.github.com/repos/apache/pinot/issues/10154","id":1397915490,"node_id":"IC_kwDOATCU_c5TUn9i","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T04:41:24Z","updated_at":"2023-01-20T05:00:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10154](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (99d6119) into [master](https://codecov.io/gh/apache/pinot/commit/4d7da0abab9563d95d139e11d054da2f0f5d45d8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4d7da0a) will **increase** coverage by `35.55%`.\n> The diff coverage is `75.80%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10154       +/-   ##\n=============================================\n+ Coverage     34.84%   70.40%   +35.55%     \n- Complexity      200     5132     +4932     \n=============================================\n  Files          2006     2007        +1     \n  Lines        108718   108741       +23     \n  Branches      16501    16505        +4     \n=============================================\n+ Hits          37880    76554    +38674     \n+ Misses        67566    26827    -40739     \n- Partials       3272     5360     +2088     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.68% <0.00%> (+0.17%)` | :arrow_up: |\n| integration2 | `24.43% <0.00%> (+0.13%)` | :arrow_up: |\n| unittests1 | `67.88% <75.80%> (?)` | |\n| unittests2 | `13.64% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [.../org/apache/pinot/query/mailbox/ServerAddress.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9TZXJ2ZXJBZGRyZXNzLmphdmE=) | `56.25% <56.25%> (Ã¸)` | |\n| [...che/pinot/query/mailbox/JsonMailboxIdentifier.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Kc29uTWFpbGJveElkZW50aWZpZXIuamF2YQ==) | `77.14% <77.14%> (Ã¸)` | |\n| [...he/pinot/query/mailbox/InMemorySendingMailbox.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Jbk1lbW9yeVNlbmRpbmdNYWlsYm94LmphdmE=) | `72.72% <100.00%> (+72.72%)` | :arrow_up: |\n| [...ain/java/org/apache/pinot/query/mailbox/Utils.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9VdGlscy5qYXZh) | `80.00% <100.00%> (+80.00%)` | :arrow_up: |\n| [.../mailbox/channel/MailboxContentStreamObserver.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9jaGFubmVsL01haWxib3hDb250ZW50U3RyZWFtT2JzZXJ2ZXIuamF2YQ==) | `67.14% <100.00%> (+67.14%)` | :arrow_up: |\n| [...query/runtime/operator/MailboxReceiveOperator.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NYWlsYm94UmVjZWl2ZU9wZXJhdG9yLmphdmE=) | `94.28% <100.00%> (+94.28%)` | :arrow_up: |\n| [...ot/query/runtime/operator/MailboxSendOperator.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NYWlsYm94U2VuZE9wZXJhdG9yLmphdmE=) | `92.98% <100.00%> (+92.98%)` | :arrow_up: |\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `88.31% <0.00%> (-3.90%)` | :arrow_down: |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `96.15% <0.00%> (-3.85%)` | :arrow_down: |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `71.62% <0.00%> (-2.71%)` | :arrow_down: |\n| ... and [1147 more](https://codecov.io/gh/apache/pinot/pull/10154?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1397915490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398016275","html_url":"https://github.com/apache/pinot/pull/10155#issuecomment-1398016275","issue_url":"https://api.github.com/repos/apache/pinot/issues/10155","id":1398016275,"node_id":"IC_kwDOATCU_c5TVAkT","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T07:35:00Z","updated_at":"2023-01-23T19:36:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10155](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (953ede8) into [master](https://codecov.io/gh/apache/pinot/commit/4d7da0abab9563d95d139e11d054da2f0f5d45d8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4d7da0a) will **increase** coverage by `35.56%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10155       +/-   ##\n=============================================\n+ Coverage     34.84%   70.41%   +35.56%     \n- Complexity      200     5785     +5585     \n=============================================\n  Files          2006     2006               \n  Lines        108718   108745       +27     \n  Branches      16501    16502        +1     \n=============================================\n+ Hits          37880    76568    +38688     \n+ Misses        67566    26832    -40734     \n- Partials       3272     5345     +2073     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.64% <Ã¸> (+0.13%)` | :arrow_up: |\n| integration2 | `24.28% <Ã¸> (-0.01%)` | :arrow_down: |\n| unittests1 | `67.95% <Ã¸> (?)` | |\n| unittests2 | `13.64% <Ã¸> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `88.31% <0.00%> (-3.90%)` | :arrow_down: |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `96.15% <0.00%> (-3.85%)` | :arrow_down: |\n| [...manager/realtime/HLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvSExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `77.98% <0.00%> (-2.30%)` | :arrow_down: |\n| [...pache/pinot/minion/event/MinionEventObservers.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vZXZlbnQvTWluaW9uRXZlbnRPYnNlcnZlcnMuamF2YQ==) | `87.09% <0.00%> (-1.62%)` | :arrow_down: |\n| [...x/core/realtime/MissingConsumingSegmentFinder.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL01pc3NpbmdDb25zdW1pbmdTZWdtZW50RmluZGVyLmphdmE=) | `86.02% <0.00%> (-1.08%)` | :arrow_down: |\n| [...g/apache/pinot/common/utils/helix/HelixHelper.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvaGVsaXgvSGVsaXhIZWxwZXIuamF2YQ==) | `52.17% <0.00%> (-0.80%)` | :arrow_down: |\n| [...core/startree/operator/StarTreeFilterOperator.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9vcGVyYXRvci9TdGFyVHJlZUZpbHRlck9wZXJhdG9yLmphdmE=) | `87.50% <0.00%> (-0.66%)` | :arrow_down: |\n| [...pache/pinot/core/query/utils/idset/EmptyIdSet.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9pZHNldC9FbXB0eUlkU2V0LmphdmE=) | `25.00% <0.00%> (Ã¸)` | |\n| [...inot/core/util/SegmentCompletionProtocolUtils.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xVdGlscy5qYXZh) | `57.69% <0.00%> (Ã¸)` | |\n| [...ot/common/function/scalar/ComparisonFunctions.java](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vc2NhbGFyL0NvbXBhcmlzb25GdW5jdGlvbnMuamF2YQ==) | `42.85% <0.00%> (Ã¸)` | |\n| ... and [1147 more](https://codecov.io/gh/apache/pinot/pull/10155?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398016275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398019400","html_url":"https://github.com/apache/pinot/pull/10136#issuecomment-1398019400","issue_url":"https://api.github.com/repos/apache/pinot/issues/10136","id":1398019400,"node_id":"IC_kwDOATCU_c5TVBVI","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T07:39:42Z","updated_at":"2023-01-20T07:39:42Z","author_association":"CONTRIBUTOR","body":"> Please check the test failure. I think it is related to the current change\r\n\r\nYes will fix it. Ty","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398019400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398240019","html_url":"https://github.com/apache/pinot/pull/10139#issuecomment-1398240019","issue_url":"https://api.github.com/repos/apache/pinot/issues/10139","id":1398240019,"node_id":"IC_kwDOATCU_c5TV3MT","user":{"login":"Ferix9288","id":1356299,"node_id":"MDQ6VXNlcjEzNTYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1356299?v=4","gravatar_id":"","url":"https://api.github.com/users/Ferix9288","html_url":"https://github.com/Ferix9288","followers_url":"https://api.github.com/users/Ferix9288/followers","following_url":"https://api.github.com/users/Ferix9288/following{/other_user}","gists_url":"https://api.github.com/users/Ferix9288/gists{/gist_id}","starred_url":"https://api.github.com/users/Ferix9288/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ferix9288/subscriptions","organizations_url":"https://api.github.com/users/Ferix9288/orgs","repos_url":"https://api.github.com/users/Ferix9288/repos","events_url":"https://api.github.com/users/Ferix9288/events{/privacy}","received_events_url":"https://api.github.com/users/Ferix9288/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T11:14:48Z","updated_at":"2023-01-20T11:15:51Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang  changed as you described and confirmed working with a custom image in our `dev` environment ðŸš€ \r\n\r\nAnd yes. Because of `-` in our table naming, we are in fact quoting the table name every time. We should probably reconsider the table name but it's nice to have it 1:1 with a UUID.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398240019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398417863","html_url":"https://github.com/apache/pinot/issues/10129#issuecomment-1398417863","issue_url":"https://api.github.com/repos/apache/pinot/issues/10129","id":1398417863,"node_id":"IC_kwDOATCU_c5TWinH","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T13:44:55Z","updated_at":"2023-01-20T13:44:55Z","author_association":"CONTRIBUTOR","body":"@walterddr : Can we consider using `RelFieldTrimmer`?\r\n\r\nI raised this: https://github.com/apache/pinot/pull/10156\r\n\r\nIt seems to work and I am testing it out on our clusters. The PR is not final as I am also reading more about this feature. There are some caveats called out in the code also regarding this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398417863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398468246","html_url":"https://github.com/apache/pinot/pull/10155#issuecomment-1398468246","issue_url":"https://api.github.com/repos/apache/pinot/issues/10155","id":1398468246,"node_id":"IC_kwDOATCU_c5TWu6W","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T14:27:20Z","updated_at":"2023-01-20T14:27:20Z","author_association":"CONTRIBUTOR","body":"This System.exit call was added in the first place to fail the spark job. Otherwise it just returned success even in the case of failure","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398468246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398754432","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1398754432","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1398754432,"node_id":"IC_kwDOATCU_c5TX0yA","user":{"login":"wirybeaver","id":19251177,"node_id":"MDQ6VXNlcjE5MjUxMTc3","avatar_url":"https://avatars.githubusercontent.com/u/19251177?v=4","gravatar_id":"","url":"https://api.github.com/users/wirybeaver","html_url":"https://github.com/wirybeaver","followers_url":"https://api.github.com/users/wirybeaver/followers","following_url":"https://api.github.com/users/wirybeaver/following{/other_user}","gists_url":"https://api.github.com/users/wirybeaver/gists{/gist_id}","starred_url":"https://api.github.com/users/wirybeaver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wirybeaver/subscriptions","organizations_url":"https://api.github.com/users/wirybeaver/orgs","repos_url":"https://api.github.com/users/wirybeaver/repos","events_url":"https://api.github.com/users/wirybeaver/events{/privacy}","received_events_url":"https://api.github.com/users/wirybeaver/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T18:05:09Z","updated_at":"2023-01-20T18:13:35Z","author_association":"CONTRIBUTOR","body":"Do we want to reuse the existing threshold.rows and correct the underlying behavior? Or create a new config, e.g. threshold.rowspersegment?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398754432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398771142","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1398771142","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1398771142,"node_id":"IC_kwDOATCU_c5TX43G","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T18:22:09Z","updated_at":"2023-01-20T18:22:09Z","author_association":"CONTRIBUTOR","body":"New config since we wouldn't want to break the existing behavior. The existing behavior is by design as @mcvsubbu had mentioned.\r\n\r\nA note on the motivation for this issue: I agree with the point about being careful about adding new configs, but what we have seen internally is that almost every time what we are interested in is setting a threshold on the exact number of rows per segment. We have come close to incidents a few times when dealing with high ingestion throughput tables because someone set a flush threshold thinking it will directly control the number of rows, but it ended up dividing the number of rows by maxPartitionsPerInstance, leading to very frequent flushes which put pressure on controller/deep-store.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398771142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398806514","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1398806514","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1398806514,"node_id":"IC_kwDOATCU_c5TYBfy","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T18:56:56Z","updated_at":"2023-01-20T18:56:56Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nI can see how they may get confused. The right way to tackle that problem is to use the segment size based configuration. The `ReealtimeProvisioningHelper` tool can  be used to set the right segment size.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398806514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398885968","html_url":"https://github.com/apache/pinot/pull/10157#issuecomment-1398885968","issue_url":"https://api.github.com/repos/apache/pinot/issues/10157","id":1398885968,"node_id":"IC_kwDOATCU_c5TYU5Q","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T20:18:05Z","updated_at":"2023-01-23T02:45:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10157](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d7108a6) into [master](https://codecov.io/gh/apache/pinot/commit/a8a3db5ef1ce8388349a07ff589ea4e8c093f7c8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a8a3db5) will **increase** coverage by `35.50%`.\n> The diff coverage is `77.41%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10157       +/-   ##\n=============================================\n+ Coverage     34.89%   70.39%   +35.50%     \n- Complexity      200     5778     +5578     \n=============================================\n  Files          2007     2007               \n  Lines        108741   108772       +31     \n  Branches      16505    16505               \n=============================================\n+ Hits          37941    76572    +38631     \n+ Misses        67523    26843    -40680     \n- Partials       3277     5357     +2080     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.57% <0.00%> (-0.02%)` | :arrow_down: |\n| integration2 | `24.16% <0.00%> (+0.07%)` | :arrow_up: |\n| unittests1 | `67.94% <77.41%> (?)` | |\n| unittests2 | `13.65% <0.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...e/pinot/query/planner/ExplainPlanStageVisitor.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9FeHBsYWluUGxhblN0YWdlVmlzaXRvci5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [.../org/apache/pinot/query/planner/StageMetadata.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9TdGFnZU1ldGFkYXRhLmphdmE=) | `95.00% <Ã¸> (+95.00%)` | :arrow_up: |\n| [...hysical/colocated/GreedyShuffleRewriteVisitor.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9waHlzaWNhbC9jb2xvY2F0ZWQvR3JlZWR5U2h1ZmZsZVJld3JpdGVWaXNpdG9yLmphdmE=) | `0.00% <0.00%> (Ã¸)` | |\n| [...rg/apache/pinot/query/service/QueryDispatcher.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvc2VydmljZS9RdWVyeURpc3BhdGNoZXIuamF2YQ==) | `80.58% <60.00%> (+80.58%)` | :arrow_up: |\n| [.../org/apache/pinot/query/routing/VirtualServer.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcm91dGluZy9WaXJ0dWFsU2VydmVyLmphdmE=) | `68.42% <68.42%> (Ã¸)` | |\n| [...ache/pinot/query/routing/VirtualServerAddress.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcm91dGluZy9WaXJ0dWFsU2VydmVyQWRkcmVzcy5qYXZh) | `59.09% <76.92%> (Ã¸)` | |\n| [.../org/apache/pinot/query/routing/WorkerManager.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcm91dGluZy9Xb3JrZXJNYW5hZ2VyLmphdmE=) | `84.84% <100.00%> (+84.84%)` | :arrow_up: |\n| [...che/pinot/query/mailbox/JsonMailboxIdentifier.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Kc29uTWFpbGJveElkZW50aWZpZXIuamF2YQ==) | `77.14% <100.00%> (+77.14%)` | :arrow_up: |\n| [...ain/java/org/apache/pinot/query/mailbox/Utils.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9VdGlscy5qYXZh) | `80.00% <100.00%> (+80.00%)` | :arrow_up: |\n| [...va/org/apache/pinot/query/runtime/QueryRunner.java](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9RdWVyeVJ1bm5lci5qYXZh) | `85.85% <100.00%> (+85.85%)` | :arrow_up: |\n| ... and [1163 more](https://codecov.io/gh/apache/pinot/pull/10157?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398885968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398896718","html_url":"https://github.com/apache/pinot/pull/10158#issuecomment-1398896718","issue_url":"https://api.github.com/repos/apache/pinot/issues/10158","id":1398896718,"node_id":"IC_kwDOATCU_c5TYXhO","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T20:29:45Z","updated_at":"2023-01-24T01:21:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10158](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7d099d0) into [master](https://codecov.io/gh/apache/pinot/commit/4d7da0abab9563d95d139e11d054da2f0f5d45d8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4d7da0a) will **increase** coverage by `35.55%`.\n> The diff coverage is `79.38%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10158       +/-   ##\n=============================================\n+ Coverage     34.84%   70.39%   +35.55%     \n- Complexity      200     5804     +5604     \n=============================================\n  Files          2006     2018       +12     \n  Lines        108718   109001      +283     \n  Branches      16501    16541       +40     \n=============================================\n+ Hits          37880    76734    +38854     \n+ Misses        67566    26891    -40675     \n- Partials       3272     5376     +2104     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.54% <0.00%> (+0.03%)` | :arrow_up: |\n| integration2 | `24.39% <0.00%> (+0.09%)` | :arrow_up: |\n| unittests1 | `67.87% <79.38%> (?)` | |\n| unittests2 | `13.62% <0.00%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...ent/local/segment/store/FilePerIndexDirectory.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3N0b3JlL0ZpbGVQZXJJbmRleERpcmVjdG9yeS5qYXZh) | `94.79% <Ã¸> (+94.79%)` | :arrow_up: |\n| [.../local/segment/store/SingleFileIndexDirectory.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3N0b3JlL1NpbmdsZUZpbGVJbmRleERpcmVjdG9yeS5qYXZh) | `90.72% <0.00%> (+90.72%)` | :arrow_up: |\n| [.../pinot/segment/spi/store/ColumnIndexDirectory.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL3N0b3JlL0NvbHVtbkluZGV4RGlyZWN0b3J5LmphdmE=) | `40.00% <Ã¸> (+40.00%)` | :arrow_up: |\n| [...ache/pinot/segment/spi/store/SegmentDirectory.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL3N0b3JlL1NlZ21lbnREaXJlY3RvcnkuamF2YQ==) | `45.45% <33.33%> (+45.45%)` | :arrow_up: |\n| [...t/local/segment/store/SegmentLocalFSDirectory.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3N0b3JlL1NlZ21lbnRMb2NhbEZTRGlyZWN0b3J5LmphdmE=) | `73.52% <76.47%> (+73.52%)` | :arrow_up: |\n| [...gment/local/segment/store/StarTreeIndexReader.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3N0b3JlL1N0YXJUcmVlSW5kZXhSZWFkZXIuamF2YQ==) | `81.15% <81.15%> (Ã¸)` | |\n| [...indexsegment/immutable/ImmutableSegmentLoader.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pbmRleHNlZ21lbnQvaW1tdXRhYmxlL0ltbXV0YWJsZVNlZ21lbnRMb2FkZXIuamF2YQ==) | `85.71% <100.00%> (+85.71%)` | :arrow_up: |\n| [...ocal/startree/v2/store/StarTreeIndexContainer.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZUluZGV4Q29udGFpbmVyLmphdmE=) | `100.00% <100.00%> (+100.00%)` | :arrow_up: |\n| [...t/local/startree/v2/store/StarTreeLoaderUtils.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZUxvYWRlclV0aWxzLmphdmE=) | `89.18% <100.00%> (+89.18%)` | :arrow_up: |\n| [...ot/core/operator/blocks/InstanceResponseBlock.java](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9ibG9ja3MvSW5zdGFuY2VSZXNwb25zZUJsb2NrLmphdmE=) | `69.81% <0.00%> (-9.44%)` | :arrow_down: |\n| ... and [1168 more](https://codecov.io/gh/apache/pinot/pull/10158?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398896718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398998254","html_url":"https://github.com/apache/pinot/issues/10159#issuecomment-1398998254","issue_url":"https://api.github.com/repos/apache/pinot/issues/10159","id":1398998254,"node_id":"IC_kwDOATCU_c5TYwTu","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T21:54:41Z","updated_at":"2023-01-20T21:54:41Z","author_association":"CONTRIBUTOR","body":"@navina Can you help take a look at this issue?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398998254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398999621","html_url":"https://github.com/apache/pinot/issues/10160#issuecomment-1398999621","issue_url":"https://api.github.com/repos/apache/pinot/issues/10160","id":1398999621,"node_id":"IC_kwDOATCU_c5TYwpF","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T21:56:33Z","updated_at":"2023-01-20T21:56:33Z","author_association":"CONTRIBUTOR","body":"cc @xiangfu0 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398999621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398999866","html_url":"https://github.com/apache/pinot/issues/10159#issuecomment-1398999866","issue_url":"https://api.github.com/repos/apache/pinot/issues/10159","id":1398999866,"node_id":"IC_kwDOATCU_c5TYws6","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T21:56:50Z","updated_at":"2023-01-20T21:56:50Z","author_association":"CONTRIBUTOR","body":"@ankitsultana can you provide more info about this? Are you able to reproduce this in your local dev envt?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1398999866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399029119","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1399029119","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1399029119,"node_id":"IC_kwDOATCU_c5TY31_","user":{"login":"sajjad-moradi","id":8548220,"node_id":"MDQ6VXNlcjg1NDgyMjA=","avatar_url":"https://avatars.githubusercontent.com/u/8548220?v=4","gravatar_id":"","url":"https://api.github.com/users/sajjad-moradi","html_url":"https://github.com/sajjad-moradi","followers_url":"https://api.github.com/users/sajjad-moradi/followers","following_url":"https://api.github.com/users/sajjad-moradi/following{/other_user}","gists_url":"https://api.github.com/users/sajjad-moradi/gists{/gist_id}","starred_url":"https://api.github.com/users/sajjad-moradi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajjad-moradi/subscriptions","organizations_url":"https://api.github.com/users/sajjad-moradi/orgs","repos_url":"https://api.github.com/users/sajjad-moradi/repos","events_url":"https://api.github.com/users/sajjad-moradi/events{/privacy}","received_events_url":"https://api.github.com/users/sajjad-moradi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T22:28:11Z","updated_at":"2023-01-20T22:28:11Z","author_association":"CONTRIBUTOR","body":"We have some tables that use number of rows as flush threshold, but vast majority of the them use auto-tuning and have defined desired segment size. I think we should still have support for num rows config for backward compatibility, but we should strive for using desired segment size which is:\r\n1. consistent (remains the same) if we uplift or downsize the cluster\r\n2. segment size is an important factor in different aspects like memory management servers, segment build duration in commit protocol, etc.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399029119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399036176","html_url":"https://github.com/apache/pinot/pull/9994#issuecomment-1399036176","issue_url":"https://api.github.com/repos/apache/pinot/issues/9994","id":1399036176,"node_id":"IC_kwDOATCU_c5TY5kQ","user":{"login":"jugomezv","id":109560870,"node_id":"U_kgDOBofEJg","avatar_url":"https://avatars.githubusercontent.com/u/109560870?v=4","gravatar_id":"","url":"https://api.github.com/users/jugomezv","html_url":"https://github.com/jugomezv","followers_url":"https://api.github.com/users/jugomezv/followers","following_url":"https://api.github.com/users/jugomezv/following{/other_user}","gists_url":"https://api.github.com/users/jugomezv/gists{/gist_id}","starred_url":"https://api.github.com/users/jugomezv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugomezv/subscriptions","organizations_url":"https://api.github.com/users/jugomezv/orgs","repos_url":"https://api.github.com/users/jugomezv/repos","events_url":"https://api.github.com/users/jugomezv/events{/privacy}","received_events_url":"https://api.github.com/users/jugomezv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T22:39:36Z","updated_at":"2023-01-20T22:39:36Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nHi @jadami10 for a partition that has infrequent events we should be displaying lags that stay at zero or near zero, the expectation is that the stream will return message count zero and we will set the delay zero. I guess first question is what is the stream involved? This should return zero when we are not observing events:messagesAndOffsets.getMessageCount();","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399036176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399038110","html_url":"https://github.com/apache/pinot/pull/10134#issuecomment-1399038110","issue_url":"https://api.github.com/repos/apache/pinot/issues/10134","id":1399038110,"node_id":"IC_kwDOATCU_c5TY6Ce","user":{"login":"jugomezv","id":109560870,"node_id":"U_kgDOBofEJg","avatar_url":"https://avatars.githubusercontent.com/u/109560870?v=4","gravatar_id":"","url":"https://api.github.com/users/jugomezv","html_url":"https://github.com/jugomezv","followers_url":"https://api.github.com/users/jugomezv/followers","following_url":"https://api.github.com/users/jugomezv/following{/other_user}","gists_url":"https://api.github.com/users/jugomezv/gists{/gist_id}","starred_url":"https://api.github.com/users/jugomezv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugomezv/subscriptions","organizations_url":"https://api.github.com/users/jugomezv/orgs","repos_url":"https://api.github.com/users/jugomezv/repos","events_url":"https://api.github.com/users/jugomezv/events{/privacy}","received_events_url":"https://api.github.com/users/jugomezv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T22:42:50Z","updated_at":"2023-01-20T22:42:50Z","author_association":"CONTRIBUTOR","body":"Missed this one sorry, but it is great to hear it is being put to use.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399038110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399043944","html_url":"https://github.com/apache/pinot/issues/10095#issuecomment-1399043944","issue_url":"https://api.github.com/repos/apache/pinot/issues/10095","id":1399043944,"node_id":"IC_kwDOATCU_c5TY7do","user":{"login":"jugomezv","id":109560870,"node_id":"U_kgDOBofEJg","avatar_url":"https://avatars.githubusercontent.com/u/109560870?v=4","gravatar_id":"","url":"https://api.github.com/users/jugomezv","html_url":"https://github.com/jugomezv","followers_url":"https://api.github.com/users/jugomezv/followers","following_url":"https://api.github.com/users/jugomezv/following{/other_user}","gists_url":"https://api.github.com/users/jugomezv/gists{/gist_id}","starred_url":"https://api.github.com/users/jugomezv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugomezv/subscriptions","organizations_url":"https://api.github.com/users/jugomezv/orgs","repos_url":"https://api.github.com/users/jugomezv/repos","events_url":"https://api.github.com/users/jugomezv/events{/privacy}","received_events_url":"https://api.github.com/users/jugomezv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T22:52:29Z","updated_at":"2023-01-20T22:52:29Z","author_association":"CONTRIBUTOR","body":"OK so may be this is not a good idea after all right? So I guess the side affect of a change like this is that we could even slow further the loading of segments in tables that are slow in the first place and then feed a spiral of delay. I see now, closing then.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399043944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399046706","html_url":"https://github.com/apache/pinot/pull/9994#issuecomment-1399046706","issue_url":"https://api.github.com/repos/apache/pinot/issues/9994","id":1399046706,"node_id":"IC_kwDOATCU_c5TY8Iy","user":{"login":"jugomezv","id":109560870,"node_id":"U_kgDOBofEJg","avatar_url":"https://avatars.githubusercontent.com/u/109560870?v=4","gravatar_id":"","url":"https://api.github.com/users/jugomezv","html_url":"https://github.com/jugomezv","followers_url":"https://api.github.com/users/jugomezv/followers","following_url":"https://api.github.com/users/jugomezv/following{/other_user}","gists_url":"https://api.github.com/users/jugomezv/gists{/gist_id}","starred_url":"https://api.github.com/users/jugomezv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugomezv/subscriptions","organizations_url":"https://api.github.com/users/jugomezv/orgs","repos_url":"https://api.github.com/users/jugomezv/repos","events_url":"https://api.github.com/users/jugomezv/events{/privacy}","received_events_url":"https://api.github.com/users/jugomezv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T22:55:21Z","updated_at":"2023-01-20T22:55:21Z","author_association":"CONTRIBUTOR","body":"> > \r\n> \r\n> Hi @jadami10 for a partition that has infrequent events we should be displaying lags that stay at zero or near zero, the expectation is that the stream will return message count zero and we will set the delay zero. I guess first question is what is the stream involved? This should return zero when we are not observing events:messagesAndOffsets.getMessageCount();\r\n\r\n@jadami10 \r\nI will look deeper into the code and see if consumption can get stuck without reporting empty batch for long, if so I may need to add a timer refresh there. Thanks for bringing this up to my attention!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399046706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399056857","html_url":"https://github.com/apache/pinot/pull/9994#issuecomment-1399056857","issue_url":"https://api.github.com/repos/apache/pinot/issues/9994","id":1399056857,"node_id":"IC_kwDOATCU_c5TY-nZ","user":{"login":"jugomezv","id":109560870,"node_id":"U_kgDOBofEJg","avatar_url":"https://avatars.githubusercontent.com/u/109560870?v=4","gravatar_id":"","url":"https://api.github.com/users/jugomezv","html_url":"https://github.com/jugomezv","followers_url":"https://api.github.com/users/jugomezv/followers","following_url":"https://api.github.com/users/jugomezv/following{/other_user}","gists_url":"https://api.github.com/users/jugomezv/gists{/gist_id}","starred_url":"https://api.github.com/users/jugomezv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugomezv/subscriptions","organizations_url":"https://api.github.com/users/jugomezv/orgs","repos_url":"https://api.github.com/users/jugomezv/repos","events_url":"https://api.github.com/users/jugomezv/events{/privacy}","received_events_url":"https://api.github.com/users/jugomezv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T23:09:02Z","updated_at":"2023-01-20T23:09:02Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n\r\n\r\n> I tried deploying this change to one of our clusters with #10101 or #10121. We currently track ingestion lag via our custom stream ingestion plugin. For the most part these match up. But I still see an issue where partitions that have infrequent events continue to report forever increasing lag. From the code comments it seems that shouldn't be the case, but I want to make sure before I dig into our plugin to see if something isn't implemented as expected.\r\n\r\nCan you check also what is the fetchTimeout config for your stream? Default seems to be 5 seconds so for an inactive system I would expect a sawtooth graph that peaks at fetch timeout and returns to zero periodically in intervals of fetch timeout, if fetch timeout has been set to larger value then we would expect that larger value to be the peak of the sawtooth graph","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399056857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399061156","html_url":"https://github.com/apache/pinot/issues/10160#issuecomment-1399061156","issue_url":"https://api.github.com/repos/apache/pinot/issues/10160","id":1399061156,"node_id":"IC_kwDOATCU_c5TY_qk","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T23:13:04Z","updated_at":"2023-01-20T23:13:22Z","author_association":"CONTRIBUTOR","body":"+100\r\n\r\nThanks @idomic for bringing this up! Do you want to write this up?\r\n\r\nI believe the existing pinot python client should help for the integration: https://pypi.org/project/pinotdb/\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399061156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399076616","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1399076616","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1399076616,"node_id":"IC_kwDOATCU_c5TZDcI","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T23:36:49Z","updated_at":"2023-01-20T23:36:49Z","author_association":"CONTRIBUTOR","body":"Agree with the advantages of segment size based threshold, but it also has some drawbacks:\r\n1. User sometimes wants to fix the row count per segment. It is not straight forward to translate segment size into row count, and it also differs with different data distribution.\r\n2. When moving to a new server, we need to start with a small segment, then slowly increase the row count to get the desired segment size.\r\n\r\nEven for segment size based threshold, we translate the desired segment size into row count. IMO we should give user the option to directly configure the segment row count. For a lot of use cases, memory is not really a concern, and I myself find it difficult to tune the segment size, not mention the average user.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399076616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399102186","html_url":"https://github.com/apache/pinot/pull/10139#issuecomment-1399102186","issue_url":"https://api.github.com/repos/apache/pinot/issues/10139","id":1399102186,"node_id":"IC_kwDOATCU_c5TZJrq","user":{"login":"Ferix9288","id":1356299,"node_id":"MDQ6VXNlcjEzNTYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1356299?v=4","gravatar_id":"","url":"https://api.github.com/users/Ferix9288","html_url":"https://github.com/Ferix9288","followers_url":"https://api.github.com/users/Ferix9288/followers","following_url":"https://api.github.com/users/Ferix9288/following{/other_user}","gists_url":"https://api.github.com/users/Ferix9288/gists{/gist_id}","starred_url":"https://api.github.com/users/Ferix9288/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ferix9288/subscriptions","organizations_url":"https://api.github.com/users/Ferix9288/orgs","repos_url":"https://api.github.com/users/Ferix9288/repos","events_url":"https://api.github.com/users/Ferix9288/events{/privacy}","received_events_url":"https://api.github.com/users/Ferix9288/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T00:36:57Z","updated_at":"2023-01-21T00:36:57Z","author_association":"CONTRIBUTOR","body":"Awesome. Is there anything else I need to do to get this PR merged or just wait?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399102186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399107604","html_url":"https://github.com/apache/pinot/pull/9994#issuecomment-1399107604","issue_url":"https://api.github.com/repos/apache/pinot/issues/9994","id":1399107604,"node_id":"IC_kwDOATCU_c5TZLAU","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T00:53:22Z","updated_at":"2023-01-21T00:53:22Z","author_association":"CONTRIBUTOR","body":">  I guess first question is what is the stream involved? This should return zero when we are not observing events:messagesAndOffsets.getMessageCount();\r\n\r\nWe ingest from kafka, but we talk through a proxy that consumes events from multiple kafka clusters. I've confirmed our subclass of `MessageBatch` returns the size of the records list we get, so it should be returning 0.\r\n\r\n> Can you check also what is the fetchTimeout config for your stream?\r\n\r\nWe set it to 500ms. Our stream ingestion plugin is fairly strange. The upstream consume API we use is async, so we request records and wait either 500ms or until we've received 1000 records before returning.\r\n\r\nis this feature using offsets at all? I know we've had some weird issues in the past where there's an off by 1 depending on what you consider the \"latest\" offset","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399107604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399110835","html_url":"https://github.com/apache/pinot/pull/10121#issuecomment-1399110835","issue_url":"https://api.github.com/repos/apache/pinot/issues/10121","id":1399110835,"node_id":"IC_kwDOATCU_c5TZLyz","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T01:04:12Z","updated_at":"2023-01-23T23:26:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10121](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (bc1f2f7) into [master](https://codecov.io/gh/apache/pinot/commit/d4356b47ede99351625426a08117e18c00facadb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d4356b4) will **increase** coverage by `1.82%`.\n> The diff coverage is `85.29%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10121      +/-   ##\n============================================\n+ Coverage     68.60%   70.42%   +1.82%     \n- Complexity     5770     5789      +19     \n============================================\n  Files          2006     2006              \n  Lines        108689   108776      +87     \n  Branches      16493    16506      +13     \n============================================\n+ Hits          74563    76610    +2047     \n+ Misses        28838    26823    -2015     \n- Partials       5288     5343      +55     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.62% <47.05%> (-0.02%)` | :arrow_down: |\n| integration2 | `24.30% <47.05%> (?)` | |\n| unittests1 | `67.95% <70.58%> (+0.05%)` | :arrow_up: |\n| unittests2 | `13.64% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [.../java/org/apache/pinot/spi/stream/RowMetadata.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1Jvd01ldGFkYXRhLmphdmE=) | `33.33% <0.00%> (-6.67%)` | :arrow_down: |\n| [...apache/pinot/spi/stream/StreamMessageMetadata.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbU1lc3NhZ2VNZXRhZGF0YS5qYXZh) | `92.85% <83.33%> (-7.15%)` | :arrow_down: |\n| [...e/data/manager/realtime/IngestionDelayTracker.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvSW5nZXN0aW9uRGVsYXlUcmFja2VyLmphdmE=) | `72.52% <85.71%> (+5.43%)` | :arrow_up: |\n| [...a/org/apache/pinot/common/metrics/ServerGauge.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9TZXJ2ZXJHYXVnZS5qYXZh) | `96.55% <100.00%> (+0.12%)` | :arrow_up: |\n| [...manager/realtime/LLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvTExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `72.20% <100.00%> (+2.78%)` | :arrow_up: |\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `67.88% <100.00%> (+25.16%)` | :arrow_up: |\n| [...ain/java/org/apache/pinot/spi/utils/LoopUtils.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvTG9vcFV0aWxzLmphdmE=) | `50.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...ot/segment/local/io/util/VarLengthValueReader.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pby91dGlsL1Zhckxlbmd0aFZhbHVlUmVhZGVyLmphdmE=) | `68.08% <0.00%> (-8.11%)` | :arrow_down: |\n| [.../impl/dictionary/BaseOffHeapMutableDictionary.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvQmFzZU9mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `81.33% <0.00%> (-3.34%)` | :arrow_down: |\n| [.../org/apache/pinot/core/startree/StarTreeUtils.java](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9TdGFyVHJlZVV0aWxzLmphdmE=) | `76.28% <0.00%> (-2.07%)` | :arrow_down: |\n| ... and [180 more](https://codecov.io/gh/apache/pinot/pull/10121?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399110835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399129285","html_url":"https://github.com/apache/pinot/pull/8878#issuecomment-1399129285","issue_url":"https://api.github.com/repos/apache/pinot/issues/8878","id":1399129285,"node_id":"IC_kwDOATCU_c5TZQTF","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T01:26:52Z","updated_at":"2023-01-21T01:26:52Z","author_association":"CONTRIBUTOR","body":"The idea is re-implemented in #10044 and #10161","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399129285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399129800","html_url":"https://github.com/apache/pinot/pull/10136#issuecomment-1399129800","issue_url":"https://api.github.com/repos/apache/pinot/issues/10136","id":1399129800,"node_id":"IC_kwDOATCU_c5TZQbI","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T01:29:03Z","updated_at":"2023-01-21T01:29:03Z","author_association":"CONTRIBUTOR","body":"Please update the PR description to reflect the current change. Also add some documentations in the pinot doc about the new config.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399129800/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399147867","html_url":"https://github.com/apache/pinot/pull/10161#issuecomment-1399147867","issue_url":"https://api.github.com/repos/apache/pinot/issues/10161","id":1399147867,"node_id":"IC_kwDOATCU_c5TZU1b","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T02:01:43Z","updated_at":"2023-01-21T02:16:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10161](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (471a978) into [master](https://codecov.io/gh/apache/pinot/commit/7d09489c5b939666c0561b6301c9287ef34ea239?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7d09489) will **decrease** coverage by `1.83%`.\n> The diff coverage is `61.53%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10161      +/-   ##\n============================================\n- Coverage     70.42%   68.59%   -1.83%     \n+ Complexity     5785     5780       -5     \n============================================\n  Files          2007     2007              \n  Lines        108737   108748      +11     \n  Branches      16502    16503       +1     \n============================================\n- Hits          76574    74593    -1981     \n- Misses        26809    28864    +2055     \n+ Partials       5354     5291      -63     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.72% <0.00%> (+<0.01%)` | :arrow_up: |\n| integration2 | `?` | |\n| unittests1 | `67.88% <61.53%> (+0.01%)` | :arrow_up: |\n| unittests2 | `13.63% <0.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...pache/pinot/segment/local/io/util/ValueReader.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pby91dGlsL1ZhbHVlUmVhZGVyLmphdmE=) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ot/segment/local/io/util/VarLengthValueReader.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pby91dGlsL1Zhckxlbmd0aFZhbHVlUmVhZGVyLmphdmE=) | `68.08% <0.00%> (-8.11%)` | :arrow_down: |\n| [...ment/local/io/util/FixedByteValueReaderWriter.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pby91dGlsL0ZpeGVkQnl0ZVZhbHVlUmVhZGVyV3JpdGVyLmphdmE=) | `88.52% <100.00%> (+0.38%)` | :arrow_up: |\n| [.../segment/local/io/util/ValueReaderComparisons.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pby91dGlsL1ZhbHVlUmVhZGVyQ29tcGFyaXNvbnMuamF2YQ==) | `97.05% <100.00%> (+0.23%)` | :arrow_up: |\n| [...segment/index/readers/BaseImmutableDictionary.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L3JlYWRlcnMvQmFzZUltbXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `96.82% <100.00%> (-0.03%)` | :arrow_down: |\n| [...pinot/core/data/manager/realtime/TimerService.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvVGltZXJTZXJ2aWNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...t/core/plan/StreamingInstanceResponsePlanNode.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1N0cmVhbWluZ0luc3RhbmNlUmVzcG9uc2VQbGFuTm9kZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ore/operator/streaming/StreamingResponseUtils.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9zdHJlYW1pbmcvU3RyZWFtaW5nUmVzcG9uc2VVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ager/realtime/PeerSchemeSplitSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUGVlclNjaGVtZVNwbGl0U2VnbWVudENvbW1pdHRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/utils/grpc/GrpcRequestBuilder.java](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZ3JwYy9HcnBjUmVxdWVzdEJ1aWxkZXIuamF2YQ==) | `0.00% <0.00%> (-90.91%)` | :arrow_down: |\n| ... and [161 more](https://codecov.io/gh/apache/pinot/pull/10161?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399147867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399174396","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1399174396","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1399174396,"node_id":"IC_kwDOATCU_c5TZbT8","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T04:21:27Z","updated_at":"2023-01-21T04:21:27Z","author_association":"CONTRIBUTOR","body":"> Agree with the advantages of segment size based threshold, but it also has some drawbacks:\r\n> \r\n> 1. User sometimes wants to fix the row count per segment. It is not straight forward to translate segment size into row count, and it also differs with different data distribution.\r\n> 2. When moving to a new server, we need to start with a small segment, then slowly increase the row count to get the desired segment size.\r\n\r\nthat is not true. Only on a new table we start with a small segment and increase. New servers/rebalance is not a problem.\r\n\r\n> \r\n> Even for segment size based threshold, we translate the desired segment size into row count. IMO we should give user the option to directly configure the segment row count. For a lot of use cases, memory is not really a concern, and I myself find it difficult to tune the segment size, not mention the average user.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399174396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399190414","html_url":"https://github.com/apache/pinot/issues/10137#issuecomment-1399190414","issue_url":"https://api.github.com/repos/apache/pinot/issues/10137","id":1399190414,"node_id":"IC_kwDOATCU_c5TZfOO","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T06:18:23Z","updated_at":"2023-01-21T06:18:23Z","author_association":"MEMBER","body":"Sorry for being late to the party.. I have to admit.. I really thought the num rows threshold was per segment.. this is first time I am learning that we actually take that number and divide by the number of partitions on a server. I find that very confusing and hard to reason about.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399190414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399191269","html_url":"https://github.com/apache/pinot/issues/10159#issuecomment-1399191269","issue_url":"https://api.github.com/repos/apache/pinot/issues/10159","id":1399191269,"node_id":"IC_kwDOATCU_c5TZfbl","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T06:26:08Z","updated_at":"2023-01-21T06:26:08Z","author_association":"CONTRIBUTOR","body":"Thanks Jackie and Navina. One of the engineers on our end is looking into this as well and it might be due to producer side code.\r\n\r\nLet me get back to this by early next week.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399191269/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399200526","html_url":"https://github.com/apache/pinot/pull/10162#issuecomment-1399200526","issue_url":"https://api.github.com/repos/apache/pinot/issues/10162","id":1399200526,"node_id":"IC_kwDOATCU_c5TZhsO","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T07:40:21Z","updated_at":"2023-01-21T08:00:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10162](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2aebea6) into [master](https://codecov.io/gh/apache/pinot/commit/7d09489c5b939666c0561b6301c9287ef34ea239?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7d09489) will **decrease** coverage by `0.02%`.\n> The diff coverage is `70.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10162      +/-   ##\n============================================\n- Coverage     70.42%   70.41%   -0.02%     \n- Complexity     5785     5786       +1     \n============================================\n  Files          2007     2006       -1     \n  Lines        108737   108739       +2     \n  Branches      16502    16500       -2     \n============================================\n- Hits          76574    76564      -10     \n- Misses        26809    26828      +19     \n+ Partials       5354     5347       -7     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.61% <70.00%> (-0.11%)` | :arrow_down: |\n| integration2 | `24.33% <70.00%> (+0.02%)` | :arrow_up: |\n| unittests1 | `67.95% <70.00%> (+0.07%)` | :arrow_up: |\n| unittests2 | `13.65% <0.00%> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `67.22% <Ã¸> (-0.66%)` | :arrow_down: |\n| [...manager/realtime/LLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvTExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `70.75% <66.66%> (-0.03%)` | :arrow_down: |\n| [.../data/manager/realtime/PinotFSSegmentUploader.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUGlub3RGU1NlZ21lbnRVcGxvYWRlci5qYXZh) | `83.87% <100.00%> (Ã¸)` | |\n| [...nction/DistinctCountBitmapAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50Qml0bWFwQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `47.66% <0.00%> (-7.78%)` | :arrow_down: |\n| [...n/java/org/apache/pinot/common/utils/URIUtils.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVVJJVXRpbHMuamF2YQ==) | `66.66% <0.00%> (-7.41%)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `92.85% <0.00%> (-7.15%)` | :arrow_down: |\n| [...tream/kafka20/server/KafkaDataServerStartable.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1zdHJlYW0taW5nZXN0aW9uL3Bpbm90LWthZmthLTIuMC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL3N0cmVhbS9rYWZrYTIwL3NlcnZlci9LYWZrYURhdGFTZXJ2ZXJTdGFydGFibGUuamF2YQ==) | `72.91% <0.00%> (-6.25%)` | :arrow_down: |\n| [.../filter/predicate/InPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0luUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `74.43% <0.00%> (-4.52%)` | :arrow_down: |\n| [...elix/core/periodictask/ControllerPeriodicTask.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3BlcmlvZGljdGFzay9Db250cm9sbGVyUGVyaW9kaWNUYXNrLmphdmE=) | `67.85% <0.00%> (-3.58%)` | :arrow_down: |\n| [...inot/core/operator/filter/FilterOperatorUtils.java](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvRmlsdGVyT3BlcmF0b3JVdGlscy5qYXZh) | `87.80% <0.00%> (-2.44%)` | :arrow_down: |\n| ... and [32 more](https://codecov.io/gh/apache/pinot/pull/10162?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399200526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399202732","html_url":"https://github.com/apache/pinot/pull/10155#issuecomment-1399202732","issue_url":"https://api.github.com/repos/apache/pinot/issues/10155","id":1399202732,"node_id":"IC_kwDOATCU_c5TZiOs","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T07:57:19Z","updated_at":"2023-01-21T07:57:19Z","author_association":"CONTRIBUTOR","body":"> This System.exit call was added in the first place to fail the spark job. Otherwise it just returned success even in the case of failure\r\n\r\nRight, the problem is that when a job with exit 0, it may kill the spark driver, that's why we don't want to kill when the exit code is 0.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399202732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399250713","html_url":"https://github.com/apache/pinot/pull/10122#issuecomment-1399250713","issue_url":"https://api.github.com/repos/apache/pinot/issues/10122","id":1399250713,"node_id":"IC_kwDOATCU_c5TZt8Z","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-21T13:20:56Z","updated_at":"2023-01-21T13:20:56Z","author_association":"CONTRIBUTOR","body":"Superseded by https://github.com/apache/pinot/pull/10156","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399250713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399459669","html_url":"https://github.com/apache/pinot/pull/10163#issuecomment-1399459669","issue_url":"https://api.github.com/repos/apache/pinot/issues/10163","id":1399459669,"node_id":"IC_kwDOATCU_c5Tag9V","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-22T11:30:11Z","updated_at":"2023-01-22T12:01:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10163](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7a22871) into [master](https://codecov.io/gh/apache/pinot/commit/4d7da0abab9563d95d139e11d054da2f0f5d45d8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4d7da0a) will **increase** coverage by `35.55%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10163       +/-   ##\n=============================================\n+ Coverage     34.84%   70.39%   +35.55%     \n- Complexity      200     5786     +5586     \n=============================================\n  Files          2006     2006               \n  Lines        108718   108745       +27     \n  Branches      16501    16502        +1     \n=============================================\n+ Hits          37880    76555    +38675     \n+ Misses        67566    26843    -40723     \n- Partials       3272     5347     +2075     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration1 | `24.71% <Ã¸> (+0.20%)` | :arrow_up: |\n| integration2 | `24.37% <Ã¸> (+0.08%)` | :arrow_up: |\n| unittests1 | `67.94% <Ã¸> (?)` | |\n| unittests2 | `13.64% <Ã¸> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Î” | |\n|---|---|---|\n| [...lanner/stage/DefaultPostOrderTraversalVisitor.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9zdGFnZS9EZWZhdWx0UG9zdE9yZGVyVHJhdmVyc2FsVmlzaXRvci5qYXZh) | `0.00% <Ã¸> (Ã¸)` | |\n| [...pache/pinot/core/query/optimizer/filter/Range.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9vcHRpbWl6ZXIvZmlsdGVyL1JhbmdlLmphdmE=) | `87.75% <0.00%> (-4.09%)` | :arrow_down: |\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `88.31% <0.00%> (-3.90%)` | :arrow_down: |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `96.15% <0.00%> (-3.85%)` | :arrow_down: |\n| [...pache/pinot/minion/event/MinionEventObservers.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vZXZlbnQvTWluaW9uRXZlbnRPYnNlcnZlcnMuamF2YQ==) | `87.09% <0.00%> (-1.62%)` | :arrow_down: |\n| [...g/apache/pinot/common/utils/helix/HelixHelper.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvaGVsaXgvSGVsaXhIZWxwZXIuamF2YQ==) | `52.17% <0.00%> (-0.80%)` | :arrow_down: |\n| [...pache/pinot/core/query/utils/idset/EmptyIdSet.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9pZHNldC9FbXB0eUlkU2V0LmphdmE=) | `25.00% <0.00%> (Ã¸)` | |\n| [...ot/common/function/scalar/ComparisonFunctions.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vc2NhbGFyL0NvbXBhcmlzb25GdW5jdGlvbnMuamF2YQ==) | `42.85% <0.00%> (Ã¸)` | |\n| [...anager/realtime/SegmentBuildTimeLeaseExtender.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudEJ1aWxkVGltZUxlYXNlRXh0ZW5kZXIuamF2YQ==) | `63.23% <0.00%> (Ã¸)` | |\n| [...e/pinot/query/mailbox/StringMailboxIdentifier.java](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9TdHJpbmdNYWlsYm94SWRlbnRpZmllci5qYXZh) | | |\n| ... and [1144 more](https://codecov.io/gh/apache/pinot/pull/10163?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: Weâ€™re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399459669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399639043","html_url":"https://github.com/apache/pinot/pull/10122#issuecomment-1399639043","issue_url":"https://api.github.com/repos/apache/pinot/issues/10122","id":1399639043,"node_id":"IC_kwDOATCU_c5TbMwD","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-22T23:22:59Z","updated_at":"2023-01-22T23:22:59Z","author_association":"CONTRIBUTOR","body":":+1: ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1399639043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400182859","html_url":"https://github.com/apache/pinot/pull/10155#issuecomment-1400182859","issue_url":"https://api.github.com/repos/apache/pinot/issues/10155","id":1400182859,"node_id":"IC_kwDOATCU_c5TdRhL","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T11:19:24Z","updated_at":"2023-01-23T11:19:24Z","author_association":"CONTRIBUTOR","body":"Cool, but where should `pinot.admin.system.exit` be set? What happens to the existing spark jobs where it is not set?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400182859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400638605","html_url":"https://github.com/apache/pinot/pull/10155#issuecomment-1400638605","issue_url":"https://api.github.com/repos/apache/pinot/issues/10155","id":1400638605,"node_id":"IC_kwDOATCU_c5TfAyN","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T16:32:38Z","updated_at":"2023-01-23T18:37:08Z","author_association":"CONTRIBUTOR","body":"> Cool, but where should `pinot.admin.system.exit` be set? What happens to the existing spark jobs where it is not set?\r\n\r\nhttps://stackoverflow.com/questions/5189914/how-to-set-system-property\r\n\r\nIt can be set from the command line `-Dpinot.admin.system.exit=true`\r\nor using code: \r\n```\r\nProperties props = System.getProperties();\r\nprops.setProperty(\"pinot.admin.system.exit\", \"true\");\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400638605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400794338","html_url":"https://github.com/apache/pinot/pull/9994#issuecomment-1400794338","issue_url":"https://api.github.com/repos/apache/pinot/issues/9994","id":1400794338,"node_id":"IC_kwDOATCU_c5Tfmzi","user":{"login":"jugomezv","id":109560870,"node_id":"U_kgDOBofEJg","avatar_url":"https://avatars.githubusercontent.com/u/109560870?v=4","gravatar_id":"","url":"https://api.github.com/users/jugomezv","html_url":"https://github.com/jugomezv","followers_url":"https://api.github.com/users/jugomezv/followers","following_url":"https://api.github.com/users/jugomezv/following{/other_user}","gists_url":"https://api.github.com/users/jugomezv/gists{/gist_id}","starred_url":"https://api.github.com/users/jugomezv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugomezv/subscriptions","organizations_url":"https://api.github.com/users/jugomezv/orgs","repos_url":"https://api.github.com/users/jugomezv/repos","events_url":"https://api.github.com/users/jugomezv/events{/privacy}","received_events_url":"https://api.github.com/users/jugomezv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T18:30:21Z","updated_at":"2023-01-23T18:30:21Z","author_association":"CONTRIBUTOR","body":"> We set it to 500ms. Our stream ingestion plugin is fairly strange. The upstream consume API we use is async, so we request records and wait either 500ms or until we've received 1000 records before returning.\r\n\r\nOK if this is the case, for an inactive stream we should see that 0 is reported and then the value linearly increases to about 500ms and then falls to zero, creating a sawtooth shape when your system is not consuming: is that what you see? if not can you share the graphs you are observing on an inactive stream? Also are the timestamps in your events UTC? This metric assumed times are in UTC, if not then the graph will be offset by the hours diff with UTC in milliseconds","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400794338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400802915","html_url":"https://github.com/apache/pinot/pull/10157#issuecomment-1400802915","issue_url":"https://api.github.com/repos/apache/pinot/issues/10157","id":1400802915,"node_id":"IC_kwDOATCU_c5Tfo5j","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T18:36:54Z","updated_at":"2023-01-23T18:36:54Z","author_association":"CONTRIBUTOR","body":"@agavra : Can you confirm how the number of VirtualServers will be determined?\r\n\r\nI remember that we had a discussion about having a parallelism query parameter to allow setting this at the query-level, but would there be any configs set in the broker/server? (e.g. to set max number of parallelism a user is allowed to set)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400802915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400805173","html_url":"https://github.com/apache/pinot/pull/10155#issuecomment-1400805173","issue_url":"https://api.github.com/repos/apache/pinot/issues/10155","id":1400805173,"node_id":"IC_kwDOATCU_c5Tfpc1","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T18:38:10Z","updated_at":"2023-01-23T18:38:10Z","author_association":"CONTRIBUTOR","body":"> > Cool, but where should `pinot.admin.system.exit` be set? What happens to the existing spark jobs where it is not set?\r\n> \r\n> https://stackoverflow.com/questions/5189914/how-to-set-system-property\r\n> \r\n> It can be set from the command line `-Dpinot.admin.system.exit=true` or using code:\r\n> \r\n> ```\r\n> Properties props = System.getProperties();\r\n> props.setProperty(\"pinot.admin.system.exit\", \"true\");\r\n> ```\r\n\r\nOr maybe I can change the logic to just not call System.exit when it returns 0.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400805173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400856553","html_url":"https://github.com/apache/pinot/issues/9277#issuecomment-1400856553","issue_url":"https://api.github.com/repos/apache/pinot/issues/9277","id":1400856553,"node_id":"IC_kwDOATCU_c5Tf1_p","user":{"login":"subkanthi","id":17434846,"node_id":"MDQ6VXNlcjE3NDM0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17434846?v=4","gravatar_id":"","url":"https://api.github.com/users/subkanthi","html_url":"https://github.com/subkanthi","followers_url":"https://api.github.com/users/subkanthi/followers","following_url":"https://api.github.com/users/subkanthi/following{/other_user}","gists_url":"https://api.github.com/users/subkanthi/gists{/gist_id}","starred_url":"https://api.github.com/users/subkanthi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/subkanthi/subscriptions","organizations_url":"https://api.github.com/users/subkanthi/orgs","repos_url":"https://api.github.com/users/subkanthi/repos","events_url":"https://api.github.com/users/subkanthi/events{/privacy}","received_events_url":"https://api.github.com/users/subkanthi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T19:19:44Z","updated_at":"2023-01-23T19:19:44Z","author_association":"NONE","body":"Thanks @jasperjiaguo , will compare the Trino implementation, Apache commons does expose PearsonCorrelation. will update the PR in a day or two.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400856553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400900194","html_url":"https://github.com/apache/pinot/pull/9994#issuecomment-1400900194","issue_url":"https://api.github.com/repos/apache/pinot/issues/9994","id":1400900194,"node_id":"IC_kwDOATCU_c5TgApi","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T19:59:39Z","updated_at":"2023-01-23T19:59:39Z","author_association":"CONTRIBUTOR","body":"> > We set it to 500ms. Our stream ingestion plugin is fairly strange. The upstream consume API we use is async, so we request records and wait either 500ms or until we've received 1000 records before returning.\r\n> \r\n> OK if this is the case, for an inactive stream we should see that 0 is reported and then the value linearly increases to about 500ms and then falls to zero, creating a sawtooth shape when your system is not consuming: is that what you see? if not can you share the graphs you are observing on an inactive stream? Also are the timestamps in your events UTC? This metric assumed times are in UTC, if not then the graph will be offset by the hours diff with UTC in milliseconds\r\n\r\n@jugomezv if it is not already there, can you add comments in the interface that the timestamps should be in UTC? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400900194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400911728","html_url":"https://github.com/apache/pinot/pull/10161#issuecomment-1400911728","issue_url":"https://api.github.com/repos/apache/pinot/issues/10161","id":1400911728,"node_id":"IC_kwDOATCU_c5TgDdw","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T20:09:04Z","updated_at":"2023-01-23T20:09:04Z","author_association":"CONTRIBUTOR","body":"> looks good. do we want to add a test?\r\n\r\nI've found enough test coverage with `ImmutableDictionaryTest`, so didn't add a new one","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400911728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400935030","html_url":"https://github.com/apache/pinot/pull/10157#issuecomment-1400935030","issue_url":"https://api.github.com/repos/apache/pinot/issues/10157","id":1400935030,"node_id":"IC_kwDOATCU_c5TgJJ2","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T20:26:17Z","updated_at":"2023-01-23T20:26:34Z","author_association":"CONTRIBUTOR","body":"> I remember that we had a discussion about having a parallelism query parameter to allow setting this at the query-level, but would there be any configs set in the broker/server? (e.g. to set max number of parallelism a user is allowed to set)\r\n\r\nMy follow-up PR will have a query option for parallelism. Then there will be a server configuration that could set the max allowed parallelism per-server (that would allow you to configure different configs per server if you had different physical resources). Then the idea is that the actual parallelism would be `min(query_limit, server_limit)` for each server.\r\n\r\nsee: https://docs.google.com/document/d/1HOxs4VBonEHxgU9lNIJBv3HwuZEmEBB4wscGQFbD3xw/edit","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1400935030/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1401054082","html_url":"https://github.com/apache/pinot/pull/9994#issuecomment-1401054082","issue_url":"https://api.github.com/repos/apache/pinot/issues/9994","id":1401054082,"node_id":"IC_kwDOATCU_c5TgmOC","user":{"login":"jugomezv","id":109560870,"node_id":"U_kgDOBofEJg","avatar_url":"https://avatars.githubusercontent.com/u/109560870?v=4","gravatar_id":"","url":"https://api.github.com/users/jugomezv","html_url":"https://github.com/jugomezv","followers_url":"https://api.github.com/users/jugomezv/followers","following_url":"https://api.github.com/users/jugomezv/following{/other_user}","gists_url":"https://api.github.com/users/jugomezv/gists{/gist_id}","starred_url":"https://api.github.com/users/jugomezv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugomezv/subscriptions","organizations_url":"https://api.github.com/users/jugomezv/orgs","repos_url":"https://api.github.com/users/jugomezv/repos","events_url":"https://api.github.com/users/jugomezv/events{/privacy}","received_events_url":"https://api.github.com/users/jugomezv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T22:01:39Z","updated_at":"2023-01-23T22:01:39Z","author_association":"CONTRIBUTOR","body":"> if it is not already there, can you add comments in the interface that the timestamps should be in UTC? Thanks.\r\n\r\nGood point @mcvsubbu also in user facing doc, I have to add a text for the new metric so will edit this one too!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1401054082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]