[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526748865","html_url":"https://github.com/apache/iceberg/issues/280#issuecomment-526748865","issue_url":"https://api.github.com/repos/apache/iceberg/issues/280","id":526748865,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjc0ODg2NQ==","user":{"login":"manishmalhotrawork","id":22434010,"node_id":"MDQ6VXNlcjIyNDM0MDEw","avatar_url":"https://avatars.githubusercontent.com/u/22434010?v=4","gravatar_id":"","url":"https://api.github.com/users/manishmalhotrawork","html_url":"https://github.com/manishmalhotrawork","followers_url":"https://api.github.com/users/manishmalhotrawork/followers","following_url":"https://api.github.com/users/manishmalhotrawork/following{/other_user}","gists_url":"https://api.github.com/users/manishmalhotrawork/gists{/gist_id}","starred_url":"https://api.github.com/users/manishmalhotrawork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manishmalhotrawork/subscriptions","organizations_url":"https://api.github.com/users/manishmalhotrawork/orgs","repos_url":"https://api.github.com/users/manishmalhotrawork/repos","events_url":"https://api.github.com/users/manishmalhotrawork/events{/privacy}","received_events_url":"https://api.github.com/users/manishmalhotrawork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T21:01:31Z","updated_at":"2019-08-30T21:46:04Z","author_association":"CONTRIBUTOR","body":"@rdblue yeah, will raise WIP.\r\n\r\n>>one strange thing about your test is that data_bucket has a different ID. It should continue to use id 1000 because it hasn't changed. Either the assignment logic or the evolution logic (like how SchemaUpdate works) should detect that the column has not changed and not assign a different ID.\r\n\r\nyeah thats what I was wondering, the assignment logic (which I added) doesn't check if the column has repeated. And can see `updatePartitionSpec` also doesn't check it. It uses the same specId only if all the fields are same [PartitionSpec#compatibleWith](https://github.com/apache/incubator-iceberg/blob/master/api/src/main/java/org/apache/iceberg/PartitionSpec.java#L179) otherwise just add a new `partitionSpec` into `specs`.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526748865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526753469","html_url":"https://github.com/apache/iceberg/issues/279#issuecomment-526753469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/279","id":526753469,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjc1MzQ2OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T21:18:47Z","updated_at":"2019-08-30T21:18:47Z","author_association":"CONTRIBUTOR","body":"Yep. Thank you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526753469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526782895","html_url":"https://github.com/apache/iceberg/pull/374#issuecomment-526782895","issue_url":"https://api.github.com/repos/apache/iceberg/issues/374","id":526782895,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjc4Mjg5NQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-31T00:15:24Z","updated_at":"2019-08-31T00:15:24Z","author_association":"COLLABORATOR","body":"The CI failed due to python unit tests not related to java.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526782895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526784704","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-526784704","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":526784704,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjc4NDcwNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-31T00:33:45Z","updated_at":"2019-08-31T00:33:45Z","author_association":"CONTRIBUTOR","body":"@xabriel, do you know how large the min/max values are for each row group in the file? I'm curious whether this is caused by the number of row groups or by the stats in the row group metadata.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526784704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526792685","html_url":"https://github.com/apache/iceberg/issues/429#issuecomment-526792685","issue_url":"https://api.github.com/repos/apache/iceberg/issues/429","id":526792685,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjc5MjY4NQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-31T02:32:34Z","updated_at":"2019-08-31T02:32:34Z","author_association":"CONTRIBUTOR","body":"I agree @rdblue and will close this issue, thanks for sharing your idea patiently.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526792685/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526847886","html_url":"https://github.com/apache/iceberg/pull/380#issuecomment-526847886","issue_url":"https://api.github.com/repos/apache/iceberg/issues/380","id":526847886,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjg0Nzg4Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-31T17:04:26Z","updated_at":"2019-08-31T17:04:26Z","author_association":"CONTRIBUTOR","body":"@rdblue, rebased","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526847886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526848422","html_url":"https://github.com/apache/iceberg/pull/427#issuecomment-526848422","issue_url":"https://api.github.com/repos/apache/iceberg/issues/427","id":526848422,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjg0ODQyMg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-31T17:09:41Z","updated_at":"2019-08-31T17:09:41Z","author_association":"CONTRIBUTOR","body":"@rdblue, do you happen to know why we have test failures only in iceberg-spark even though `TestHiveMetastore` is used in multiple places?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526848422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526854197","html_url":"https://github.com/apache/iceberg/issues/430#issuecomment-526854197","issue_url":"https://api.github.com/repos/apache/iceberg/issues/430","id":526854197,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjg1NDE5Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-31T18:16:26Z","updated_at":"2019-08-31T18:16:26Z","author_association":"CONTRIBUTOR","body":"This would be a great feature to have. I think Spark might have to be adapted as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526854197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526935070","html_url":"https://github.com/apache/iceberg/issues/404#issuecomment-526935070","issue_url":"https://api.github.com/repos/apache/iceberg/issues/404","id":526935070,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjkzNTA3MA==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-01T16:43:03Z","updated_at":"2019-09-01T16:43:03Z","author_association":"CONTRIBUTOR","body":"Cool @xabriel ! I am trying to draft the patch","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/526935070/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527032995","html_url":"https://github.com/apache/iceberg/pull/437#issuecomment-527032995","issue_url":"https://api.github.com/repos/apache/iceberg/issues/437","id":527032995,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzAzMjk5NQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-02T07:21:07Z","updated_at":"2019-09-03T02:57:30Z","author_association":"CONTRIBUTOR","body":"`hive.metastore.warehouse.dir` is supposed to set in hive-site.xml, in common sense. But `SparkContext#hadoopConfiguration()` does not take hive-site.xml into account, so even though the user might copy hive-site.xml into $HADOOP_CONF_DIR, or $SPARK_HOME/conf, it does not work in Spark.\r\nSetting it in the code is the most explicit way to configure it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527032995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527033457","html_url":"https://github.com/apache/iceberg/pull/437#issuecomment-527033457","issue_url":"https://api.github.com/repos/apache/iceberg/issues/437","id":527033457,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzAzMzQ1Nw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-02T07:22:30Z","updated_at":"2019-09-02T07:22:30Z","author_association":"CONTRIBUTOR","body":"@rdblue does it make any sense to you?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527033457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527102818","html_url":"https://github.com/apache/iceberg/pull/380#issuecomment-527102818","issue_url":"https://api.github.com/repos/apache/iceberg/issues/380","id":527102818,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzEwMjgxOA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-02T10:52:06Z","updated_at":"2019-09-02T10:52:06Z","author_association":"CONTRIBUTOR","body":"Seems like Python tests fail for everyone","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527102818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527235610","html_url":"https://github.com/apache/iceberg/pull/427#issuecomment-527235610","issue_url":"https://api.github.com/repos/apache/iceberg/issues/427","id":527235610,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzIzNTYxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-02T20:09:22Z","updated_at":"2019-09-02T20:09:22Z","author_association":"CONTRIBUTOR","body":"I think this has something to do with the connections created by the Hive hack that gets a connection from Spark. I'm surprised that reusing it doesn't work, but maybe it's accessed from multiple tests and we aren't actually able to reuse the connection?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527235610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527249538","html_url":"https://github.com/apache/iceberg/pull/427#issuecomment-527249538","issue_url":"https://api.github.com/repos/apache/iceberg/issues/427","id":527249538,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzI0OTUzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-02T22:01:45Z","updated_at":"2019-09-02T22:01:45Z","author_association":"CONTRIBUTOR","body":"Okay, once I actually took a good look at those tests it was more obvious. Each test instantiates a new catalog with its own client pool. So it was easy for these to conflict if the tests run in parallel.\r\n\r\nI'm pushing a fix that uses a single shared catalog. I'm also keeping the other changes since those clean up client handling a bit.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527249538/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527249570","html_url":"https://github.com/apache/iceberg/pull/427#issuecomment-527249570","issue_url":"https://api.github.com/repos/apache/iceberg/issues/427","id":527249570,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzI0OTU3MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-02T22:02:03Z","updated_at":"2019-09-02T22:02:03Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, I think I found the problem. Can you review?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527249570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527279901","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-527279901","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":527279901,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzI3OTkwMQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T02:27:16Z","updated_at":"2019-09-03T02:27:16Z","author_association":"COLLABORATOR","body":"I 'm also interested in this. Currently, the page indexes feature has not released yet. See [PARQUET-1434](https://issues.apache.org/jira/browse/PARQUET-1434).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527279901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527305499","html_url":"https://github.com/apache/iceberg/pull/437#issuecomment-527305499","issue_url":"https://api.github.com/repos/apache/iceberg/issues/437","id":527305499,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzMwNTQ5OQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T05:06:16Z","updated_at":"2019-09-03T05:06:16Z","author_association":"CONTRIBUTOR","body":"Close this PR by mistake (or github has something wrong?), trying to re-open it, but failed","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527305499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527309648","html_url":"https://github.com/apache/iceberg/issues/436#issuecomment-527309648","issue_url":"https://api.github.com/repos/apache/iceberg/issues/436","id":527309648,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzMwOTY0OA==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T05:28:09Z","updated_at":"2019-09-03T05:28:09Z","author_association":"CONTRIBUTOR","body":"PR #437 is closed by mistake. Re-open a new PR as #440 to address Ryan's comment in PR #436. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527309648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527320432","html_url":"https://github.com/apache/iceberg/issues/422#issuecomment-527320432","issue_url":"https://api.github.com/repos/apache/iceberg/issues/422","id":527320432,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzMyMDQzMg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T06:18:31Z","updated_at":"2019-09-03T06:18:31Z","author_association":"COLLABORATOR","body":"This is interesting, I'd like to spend some effort on this if you haven't started it yet.\r\n\r\nRegarding the `renameTable` challenge, The `renameTable`  requires to rename the location of the table, for example, `hdfs://tableA -> hdfs://tableB`, which means to rename the directory and update the JSON file in both file version and location value of its content as well.  The challenge is to do them atomically via hdfs rename. Could you please help to correct me if my understanding is not correct?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527320432/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527381701","html_url":"https://github.com/apache/iceberg/issues/422#issuecomment-527381701","issue_url":"https://api.github.com/repos/apache/iceberg/issues/422","id":527381701,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzM4MTcwMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T09:31:04Z","updated_at":"2019-09-03T09:31:04Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada it would be great if you could work on this!\r\n\r\nOne of the ideas was to use smth like this: `hdfs://nn:8020/iceberg/warehouse/(DB).db/(TABLE)`.\r\n\r\nI think the challenge with `renameTable` is that Iceberg keeps absolute paths in the metadata. So, we might need to keep data files somewhere else (controlled by `write.folder-storage.path`). Also, we need to avoid rewriting manifests while renaming a table. I think if we keep only `*.metadata.json` files under those locations, it should work (maybe `write.metadata.path` can help). Alternatively, we can consider using relative paths in the metadata. I haven't thought a lot about what's best.\r\n\r\n@rdblue what are you thoughts on this?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527381701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527523328","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-527523328","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":527523328,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzUyMzMyOA==","user":{"login":"xabriel","id":218555,"node_id":"MDQ6VXNlcjIxODU1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/218555?v=4","gravatar_id":"","url":"https://api.github.com/users/xabriel","html_url":"https://github.com/xabriel","followers_url":"https://api.github.com/users/xabriel/followers","following_url":"https://api.github.com/users/xabriel/following{/other_user}","gists_url":"https://api.github.com/users/xabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/xabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xabriel/subscriptions","organizations_url":"https://api.github.com/users/xabriel/orgs","repos_url":"https://api.github.com/users/xabriel/repos","events_url":"https://api.github.com/users/xabriel/events{/privacy}","received_events_url":"https://api.github.com/users/xabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T15:58:40Z","updated_at":"2019-09-03T15:58:40Z","author_association":"CONTRIBUTOR","body":"@rdblue:\r\n>  do you know how large the min/max values are for each row group in the file?\r\n\r\nWe do have lots and lots of String types, and some times the max has >= 100 characters. I just learned about #173, so we will give that a try.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527523328/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527523730","html_url":"https://github.com/apache/iceberg/pull/440#issuecomment-527523730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/440","id":527523730,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzUyMzczMA==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T15:59:34Z","updated_at":"2019-09-03T15:59:34Z","author_association":"CONTRIBUTOR","body":"Hi Ryan, please hold on the review of this PR. Jerry found that it should work by putting `hive.metastore.warehouse.dir` into hive-site.xml and putting hive-site.xml into $SPARK_HOME/conf. So setting it by code seems not needed. I am checking my environment to see if anything is wrong. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527523730/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527526233","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-527526233","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":527526233,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzUyNjIzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T16:05:14Z","updated_at":"2019-09-03T16:05:14Z","author_association":"CONTRIBUTOR","body":"#173 works for Iceberg metadata, but that won't help if the Parquet footer is too large because it stores a lot of large stats values. We might need to get something like #254 done in Parquet.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527526233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527528323","html_url":"https://github.com/apache/iceberg/issues/279#issuecomment-527528323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/279","id":527528323,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzUyODMyMw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T16:10:01Z","updated_at":"2019-09-03T16:10:01Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue , I am not sure if the table of \"partition transforms\" on the [doc](https://iceberg.apache.org/spec/#partition-transforms) needs to update to reflect this change. The row of \"day\" of the table. Would you please advice? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527528323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527531495","html_url":"https://github.com/apache/iceberg/issues/353#issuecomment-527531495","issue_url":"https://api.github.com/repos/apache/iceberg/issues/353","id":527531495,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzUzMTQ5NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T16:18:01Z","updated_at":"2019-09-03T16:18:01Z","author_association":"CONTRIBUTOR","body":"I think this is done. I'm going to close it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527531495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527532305","html_url":"https://github.com/apache/iceberg/issues/279#issuecomment-527532305","issue_url":"https://api.github.com/repos/apache/iceberg/issues/279","id":527532305,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzUzMjMwNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T16:20:17Z","updated_at":"2019-09-03T16:20:17Z","author_association":"CONTRIBUTOR","body":"@waterlx, I think you're right. We should update that line. Do you want to open a PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527532305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527533307","html_url":"https://github.com/apache/iceberg/issues/422#issuecomment-527533307","issue_url":"https://api.github.com/repos/apache/iceberg/issues/422","id":527533307,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzUzMzMwNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T16:22:52Z","updated_at":"2019-09-03T16:22:52Z","author_association":"CONTRIBUTOR","body":"I think adding a HadoopCatalog sounds good, but we should plan on continuing to support tables identified by full paths.\r\n\r\nFor rename, I would probably just throw an exception and disallow rename.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527533307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527556451","html_url":"https://github.com/apache/iceberg/pull/426#issuecomment-527556451","issue_url":"https://api.github.com/repos/apache/iceberg/issues/426","id":527556451,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzU1NjQ1MQ==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T17:23:11Z","updated_at":"2019-09-03T17:23:11Z","author_association":"CONTRIBUTOR","body":"@xhochy As always, I really appreciate the review.  And yes, totally agree that long term a more precise predicate parse implementation is warranted. I lean towards an implementation directly using pyparsing, but I am open to suggestion on other approaches if there are existing libraries that have more closely aligned functionality for this type of feature.  I was just using this as a quick step to get something in the lib that makes using the expressions api a little bit less esoteric.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527556451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527593118","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-527593118","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":527593118,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzU5MzExOA==","user":{"login":"xabriel","id":218555,"node_id":"MDQ6VXNlcjIxODU1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/218555?v=4","gravatar_id":"","url":"https://api.github.com/users/xabriel","html_url":"https://github.com/xabriel","followers_url":"https://api.github.com/users/xabriel/followers","following_url":"https://api.github.com/users/xabriel/following{/other_user}","gists_url":"https://api.github.com/users/xabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/xabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xabriel/subscriptions","organizations_url":"https://api.github.com/users/xabriel/orgs","repos_url":"https://api.github.com/users/xabriel/repos","events_url":"https://api.github.com/users/xabriel/events{/privacy}","received_events_url":"https://api.github.com/users/xabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T18:59:02Z","updated_at":"2019-09-03T18:59:02Z","author_association":"CONTRIBUTOR","body":"Test failures seem unrelated, all around Hive Metastore:\r\n```\r\norg.apache.iceberg.spark.source.TestIcebergSourceHiveTables > testHiveManifestsTable FAILED\r\n    java.lang.RuntimeException at TestIcebergSourceHiveTables.java:466\r\n        Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:466\r\n            Caused by: java.net.SocketException at TestIcebergSourceHiveTables.java:466\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527593118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527613884","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-527613884","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":527613884,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzYxMzg4NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T19:56:11Z","updated_at":"2019-09-03T19:56:11Z","author_association":"CONTRIBUTOR","body":"@xabriel, I pushed a fix for the flaky Java test this morning. And we're looking into the python test.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527613884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527649806","html_url":"https://github.com/apache/iceberg/pull/443#issuecomment-527649806","issue_url":"https://api.github.com/repos/apache/iceberg/issues/443","id":527649806,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzY0OTgwNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T21:34:35Z","updated_at":"2019-09-03T21:34:35Z","author_association":"CONTRIBUTOR","body":"Thanks for catching this! Could you add a test case for it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527649806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527670771","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-527670771","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":527670771,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzY3MDc3MQ==","user":{"login":"xabriel","id":218555,"node_id":"MDQ6VXNlcjIxODU1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/218555?v=4","gravatar_id":"","url":"https://api.github.com/users/xabriel","html_url":"https://github.com/xabriel","followers_url":"https://api.github.com/users/xabriel/followers","following_url":"https://api.github.com/users/xabriel/following{/other_user}","gists_url":"https://api.github.com/users/xabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/xabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xabriel/subscriptions","organizations_url":"https://api.github.com/users/xabriel/orgs","repos_url":"https://api.github.com/users/xabriel/repos","events_url":"https://api.github.com/users/xabriel/events{/privacy}","received_events_url":"https://api.github.com/users/xabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T22:52:50Z","updated_at":"2019-09-03T22:52:50Z","author_association":"CONTRIBUTOR","body":"(Rebased to pickup java test fixes.)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527670771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527686106","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-527686106","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":527686106,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzY4NjEwNg==","user":{"login":"xabriel","id":218555,"node_id":"MDQ6VXNlcjIxODU1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/218555?v=4","gravatar_id":"","url":"https://api.github.com/users/xabriel","html_url":"https://github.com/xabriel","followers_url":"https://api.github.com/users/xabriel/followers","following_url":"https://api.github.com/users/xabriel/following{/other_user}","gists_url":"https://api.github.com/users/xabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/xabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xabriel/subscriptions","organizations_url":"https://api.github.com/users/xabriel/orgs","repos_url":"https://api.github.com/users/xabriel/repos","events_url":"https://api.github.com/users/xabriel/events{/privacy}","received_events_url":"https://api.github.com/users/xabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T00:06:01Z","updated_at":"2019-09-04T00:06:01Z","author_association":"CONTRIBUTOR","body":"Travis CI still unhappy with the following unrelated test:\r\n```\r\norg.apache.iceberg.hive.HiveTableTest > testConcurrentConnections FAILED\r\n    java.lang.AssertionError at HiveTableTest.java:330\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527686106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527700435","html_url":"https://github.com/apache/iceberg/pull/252#issuecomment-527700435","issue_url":"https://api.github.com/repos/apache/iceberg/issues/252","id":527700435,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzcwMDQzNQ==","user":{"login":"lxynov","id":47990574,"node_id":"MDQ6VXNlcjQ3OTkwNTc0","avatar_url":"https://avatars.githubusercontent.com/u/47990574?v=4","gravatar_id":"","url":"https://api.github.com/users/lxynov","html_url":"https://github.com/lxynov","followers_url":"https://api.github.com/users/lxynov/followers","following_url":"https://api.github.com/users/lxynov/following{/other_user}","gists_url":"https://api.github.com/users/lxynov/gists{/gist_id}","starred_url":"https://api.github.com/users/lxynov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxynov/subscriptions","organizations_url":"https://api.github.com/users/lxynov/orgs","repos_url":"https://api.github.com/users/lxynov/repos","events_url":"https://api.github.com/users/lxynov/events{/privacy}","received_events_url":"https://api.github.com/users/lxynov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T01:23:20Z","updated_at":"2019-09-04T01:23:20Z","author_association":"CONTRIBUTOR","body":"I'm confused about how we can use metadata tables. It looks like we have to pass table type names to `Catalog##loadTable`. But if so, how can we specify the real table name? Could you help me figure this out? Any example usage can be helpful. Thanks in advance @rdblue \r\n\r\nhttps://github.com/apache/incubator-iceberg/blob/d7c7d0fbb28d711a4e4320c596cfdf4ce1caf93d/core/src/main/java/org/apache/iceberg/BaseMetastoreCatalog.java#L141","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527700435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527704359","html_url":"https://github.com/apache/iceberg/pull/374#issuecomment-527704359","issue_url":"https://api.github.com/repos/apache/iceberg/issues/374","id":527704359,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzcwNDM1OQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T01:43:50Z","updated_at":"2019-09-04T01:43:50Z","author_association":"COLLABORATOR","body":"@rdblue, could you please help to have a look again? It is ready now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527704359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527746965","html_url":"https://github.com/apache/iceberg/issues/417#issuecomment-527746965","issue_url":"https://api.github.com/repos/apache/iceberg/issues/417","id":527746965,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzc0Njk2NQ==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T05:31:42Z","updated_at":"2019-09-04T05:31:42Z","author_association":"CONTRIBUTOR","body":"@rdblue Let's consider new tables first\r\nMost of the source data that we ingest has an event time which is millisSinceUTCEpoch of long type. It is not feasible to change it at the source. One option here I can think of is to transform the source event time column to a datatype that Iceberg supports partitioning on in a layer above Iceberg and then provide it to Iceberg via a new column. I would like to avoid adding another column to the data though, but as a last resort it may be fine.\r\n\r\nThe idea of deriving the unit from column name seems hacky, agreed. The ability to promote long types to timestamp based on some metadata (unit, maybe tz too?) sounds good. However, I am not sure how much we can generalize this to other data types. Will that become an overfit?\r\n\r\nWith respect to tables with existing data, the issue is that the original data files don't have the partition value as a column. So I was under the assumption that identity partitioning cannot be applied here since it depends on column data to be present in the file. However looking at Iceberg reader code, it seems like for identity partitioning, the column value is derived from metadata. Will that assumption hold true generally? If yes, that probably solves the issue for existing tables. I couldn't find anything in the spec that mentions this though. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527746965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527778821","html_url":"https://github.com/apache/iceberg/issues/279#issuecomment-527778821","issue_url":"https://api.github.com/repos/apache/iceberg/issues/279","id":527778821,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzc3ODgyMQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T07:27:32Z","updated_at":"2019-09-04T07:27:44Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue , would you please review PR #447 at your most convenience? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527778821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527787123","html_url":"https://github.com/apache/iceberg/pull/448#issuecomment-527787123","issue_url":"https://api.github.com/repos/apache/iceberg/issues/448","id":527787123,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzc4NzEyMw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T07:53:24Z","updated_at":"2019-09-04T07:53:24Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue , would you please help to review this small change? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527787123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527888645","html_url":"https://github.com/apache/iceberg/pull/448#issuecomment-527888645","issue_url":"https://api.github.com/repos/apache/iceberg/issues/448","id":527888645,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzg4ODY0NQ==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T12:58:05Z","updated_at":"2019-09-04T12:58:05Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527888645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527967306","html_url":"https://github.com/apache/iceberg/pull/227#issuecomment-527967306","issue_url":"https://api.github.com/repos/apache/iceberg/issues/227","id":527967306,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzk2NzMwNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T15:58:51Z","updated_at":"2019-09-04T15:58:51Z","author_association":"CONTRIBUTOR","body":"ORC 1.6.0 is released: https://orc.apache.org/news/2019/09/03/ORC-1.6.0/\r\n\r\n@edgarRd, can you update this so we can get it in? I'd like to get it into a release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527967306/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527970235","html_url":"https://github.com/apache/iceberg/pull/252#issuecomment-527970235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/252","id":527970235,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzk3MDIzNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T16:05:15Z","updated_at":"2019-09-04T16:05:15Z","author_association":"CONTRIBUTOR","body":"@linxingyuan1102, look at the docs here: http://iceberg.apache.org/spark/#inspecting-tables","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527970235/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527980038","html_url":"https://github.com/apache/iceberg/pull/450#issuecomment-527980038","issue_url":"https://api.github.com/repos/apache/iceberg/issues/450","id":527980038,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzk4MDAzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T16:28:17Z","updated_at":"2019-09-04T16:28:17Z","author_association":"CONTRIBUTOR","body":"@xabriel, I think this should fix your current CI test failures. Can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527980038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527991469","html_url":"https://github.com/apache/iceberg/pull/442#issuecomment-527991469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/442","id":527991469,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzk5MTQ2OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T16:58:49Z","updated_at":"2019-09-04T16:58:49Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @vvysotskyi. This looks like a good start, but it isn't safe to update the visitor like this. The visitors may be parameterized by Boolean or Expression or something else. If parameterized by boolean, like an evaluator, then this wouldn't work. And if parameterized by expression, then there is no guarantee that this is going to be correct for the operation that uses the visitor pattern.\r\n\r\nI suggest adding a new `visit` method called `visitEvaluator` that accepts `ExpressionVisitor<Boolean>` and applies the short-circuit logic using the boolean returned by the eval visitor.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527991469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527992082","html_url":"https://github.com/apache/iceberg/pull/450#issuecomment-527992082","issue_url":"https://api.github.com/repos/apache/iceberg/issues/450","id":527992082,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzk5MjA4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T17:00:22Z","updated_at":"2019-09-04T17:00:22Z","author_association":"CONTRIBUTOR","body":"Thanks, I'll merge this to unblock #432.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527992082/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527999715","html_url":"https://github.com/apache/iceberg/pull/227#issuecomment-527999715","issue_url":"https://api.github.com/repos/apache/iceberg/issues/227","id":527999715,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzk5OTcxNQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T17:20:01Z","updated_at":"2019-09-04T17:20:01Z","author_association":"CONTRIBUTOR","body":"@rdblue Yeah, I'll work on this today. I will update everyone once this is ready for final review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/527999715/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528011492","html_url":"https://github.com/apache/iceberg/pull/444#issuecomment-528011492","issue_url":"https://api.github.com/repos/apache/iceberg/issues/444","id":528011492,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODAxMTQ5Mg==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T17:51:05Z","updated_at":"2019-09-04T17:51:05Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528011492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528027010","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-528027010","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":528027010,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODAyNzAxMA==","user":{"login":"xabriel","id":218555,"node_id":"MDQ6VXNlcjIxODU1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/218555?v=4","gravatar_id":"","url":"https://api.github.com/users/xabriel","html_url":"https://github.com/xabriel","followers_url":"https://api.github.com/users/xabriel/followers","following_url":"https://api.github.com/users/xabriel/following{/other_user}","gists_url":"https://api.github.com/users/xabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/xabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xabriel/subscriptions","organizations_url":"https://api.github.com/users/xabriel/orgs","repos_url":"https://api.github.com/users/xabriel/repos","events_url":"https://api.github.com/users/xabriel/events{/privacy}","received_events_url":"https://api.github.com/users/xabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T18:29:10Z","updated_at":"2019-09-04T18:29:10Z","author_association":"CONTRIBUTOR","body":"Fix in #450 indeed takes care of the test failure. Thanks @rdblue.\r\n\r\n@rdblue, @aokolnychyi: This PR is now ready for further consideration.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528027010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528039000","html_url":"https://github.com/apache/iceberg/pull/252#issuecomment-528039000","issue_url":"https://api.github.com/repos/apache/iceberg/issues/252","id":528039000,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODAzOTAwMA==","user":{"login":"lxynov","id":47990574,"node_id":"MDQ6VXNlcjQ3OTkwNTc0","avatar_url":"https://avatars.githubusercontent.com/u/47990574?v=4","gravatar_id":"","url":"https://api.github.com/users/lxynov","html_url":"https://github.com/lxynov","followers_url":"https://api.github.com/users/lxynov/followers","following_url":"https://api.github.com/users/lxynov/following{/other_user}","gists_url":"https://api.github.com/users/lxynov/gists{/gist_id}","starred_url":"https://api.github.com/users/lxynov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxynov/subscriptions","organizations_url":"https://api.github.com/users/lxynov/orgs","repos_url":"https://api.github.com/users/lxynov/repos","events_url":"https://api.github.com/users/lxynov/events{/privacy}","received_events_url":"https://api.github.com/users/lxynov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T19:00:15Z","updated_at":"2019-09-04T19:00:15Z","author_association":"CONTRIBUTOR","body":"Thank you for the pointer. I see the point now. The name of the underlying table to be queried is stored in `Namespace::levels` when a metadata table is queried.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528039000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528043541","html_url":"https://github.com/apache/iceberg/pull/252#issuecomment-528043541","issue_url":"https://api.github.com/repos/apache/iceberg/issues/252","id":528043541,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODA0MzU0MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T19:13:03Z","updated_at":"2019-09-04T19:13:03Z","author_association":"CONTRIBUTOR","body":"Yeah, the catalog first looks up the table name that is passed in and if it doesn't find that one, checks to see if the table name is a metadata table name and if the namespace is a table. If so, it will load the metadata table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528043541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528225303","html_url":"https://github.com/apache/iceberg/pull/357#issuecomment-528225303","issue_url":"https://api.github.com/repos/apache/iceberg/issues/357","id":528225303,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODIyNTMwMw==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T06:51:33Z","updated_at":"2019-09-05T06:51:33Z","author_association":"COLLABORATOR","body":"@rdblue I have addressed the review comments. Could you take a look when you get a chance?\r\nThanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528225303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528230533","html_url":"https://github.com/apache/iceberg/pull/448#issuecomment-528230533","issue_url":"https://api.github.com/repos/apache/iceberg/issues/448","id":528230533,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODIzMDUzMw==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T07:08:03Z","updated_at":"2019-09-05T07:08:03Z","author_association":"CONTRIBUTOR","body":"@waterlx seems like UT is flaky, you can close and reopen PR to trigger the UT again.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528230533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528272658","html_url":"https://github.com/apache/iceberg/issues/430#issuecomment-528272658","issue_url":"https://api.github.com/repos/apache/iceberg/issues/430","id":528272658,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODI3MjY1OA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T09:04:59Z","updated_at":"2019-09-05T09:05:11Z","author_association":"CONTRIBUTOR","body":"@rdblue @aokolnychyi I wrote a simple design doc about bucketing support in Iceberg, would you please help to review, appreciate your time.\r\n\r\nhttps://docs.google.com/document/d/1X3tpcJFz8Fd9m2SixHP4psBFHc39Y21TXev4i26ve-I/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528272658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528319107","html_url":"https://github.com/apache/iceberg/pull/443#issuecomment-528319107","issue_url":"https://api.github.com/repos/apache/iceberg/issues/443","id":528319107,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODMxOTEwNw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T11:24:52Z","updated_at":"2019-09-05T11:24:52Z","author_association":"MEMBER","body":"@rdblue added unit tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528319107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528446599","html_url":"https://github.com/apache/iceberg/pull/448#issuecomment-528446599","issue_url":"https://api.github.com/repos/apache/iceberg/issues/448","id":528446599,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODQ0NjU5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T16:20:05Z","updated_at":"2019-09-05T16:20:05Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for fixing this, @waterlx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528446599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528447841","html_url":"https://github.com/apache/iceberg/pull/440#issuecomment-528447841","issue_url":"https://api.github.com/repos/apache/iceberg/issues/440","id":528447841,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODQ0Nzg0MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T16:23:23Z","updated_at":"2019-09-05T16:23:23Z","author_association":"CONTRIBUTOR","body":"@waterlx, did you find out how to set the warehouse directory? Should we close this or do you want to merge it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528447841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528452639","html_url":"https://github.com/apache/iceberg/issues/417#issuecomment-528452639","issue_url":"https://api.github.com/repos/apache/iceberg/issues/417","id":528452639,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODQ1MjYzOQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T16:36:18Z","updated_at":"2019-09-06T16:15:02Z","author_association":"CONTRIBUTOR","body":"Seems like for existing tables which rely on identity partitioning it may be best to not change it.  Both Spark and Pig seems to be reading partition value from the `DataFile` instead of from records, so it should work for both existing data written with Hive - which does not add the partition data in the file and new data/partitions written with Iceberg which does add partition data in the file.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528452639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528578484","html_url":"https://github.com/apache/iceberg/pull/443#issuecomment-528578484","issue_url":"https://api.github.com/repos/apache/iceberg/issues/443","id":528578484,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODU3ODQ4NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T20:56:45Z","updated_at":"2019-09-05T20:56:45Z","author_association":"CONTRIBUTOR","body":"Thanks @arina-ielchiieva! +1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528578484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528640610","html_url":"https://github.com/apache/iceberg/issues/451#issuecomment-528640610","issue_url":"https://api.github.com/repos/apache/iceberg/issues/451","id":528640610,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY0MDYxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T23:07:54Z","updated_at":"2019-09-05T23:07:54Z","author_association":"CONTRIBUTOR","body":"@bsannicolas, I think what's happening is that scan planning doesn't project the encryption metadata column. You can see the columns it uses here: https://github.com/apache/incubator-iceberg/blob/master/core/src/main/java/org/apache/iceberg/DataTableScan.java#L41-L44\r\n\r\nI think if you add encryption metadata to that list, you'd be able to read the files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528640610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528641847","html_url":"https://github.com/apache/iceberg/issues/446#issuecomment-528641847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/446","id":528641847,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY0MTg0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T23:13:31Z","updated_at":"2019-09-05T23:13:31Z","author_association":"CONTRIBUTOR","body":"I would rather add the Kryo serializers for immutable collections. I think it makes sense for Iceberg to use ImmutableList because the data returned should not be mutable and that minimizes the cost of later copies.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528641847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528642221","html_url":"https://github.com/apache/iceberg/issues/430#issuecomment-528642221","issue_url":"https://api.github.com/repos/apache/iceberg/issues/430","id":528642221,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY0MjIyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T23:15:11Z","updated_at":"2019-09-05T23:15:11Z","author_association":"CONTRIBUTOR","body":"@jerryshao, thanks for posting this! I'll take a look as soon as I can, but I'm going to be at a conference next week so it may not be quick.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528642221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528642887","html_url":"https://github.com/apache/iceberg/issues/417#issuecomment-528642887","issue_url":"https://api.github.com/repos/apache/iceberg/issues/417","id":528642887,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY0Mjg4Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T23:18:14Z","updated_at":"2019-09-05T23:18:14Z","author_association":"CONTRIBUTOR","body":"Iceberg stores identity partition data in both data files and metadata files because the values are the same. Engines are free to use either one, but for backward compatibility with existing data, Spark and other readers will use the metadata values when reading.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528642887/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528643201","html_url":"https://github.com/apache/iceberg/issues/409#issuecomment-528643201","issue_url":"https://api.github.com/repos/apache/iceberg/issues/409","id":528643201,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY0MzIwMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T23:19:44Z","updated_at":"2019-09-05T23:19:44Z","author_association":"CONTRIBUTOR","body":"What do you mean? The changes in #387 already apply to `StreamingDelete` because it extends `MergingSnapshotProducer`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528643201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528643758","html_url":"https://github.com/apache/iceberg/issues/400#issuecomment-528643758","issue_url":"https://api.github.com/repos/apache/iceberg/issues/400","id":528643758,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY0Mzc1OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T23:22:08Z","updated_at":"2019-09-05T23:22:08Z","author_association":"CONTRIBUTOR","body":"I think we will need to fix this so that our source releases can be built without a .git directory. Thanks for reporting this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528643758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528644090","html_url":"https://github.com/apache/iceberg/pull/357#issuecomment-528644090","issue_url":"https://api.github.com/repos/apache/iceberg/issues/357","id":528644090,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY0NDA5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T23:23:27Z","updated_at":"2019-09-05T23:23:27Z","author_association":"CONTRIBUTOR","body":"@jun-he, thanks for the update. I'll review soon, but my current focus is getting ready for a Java release. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528644090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528654140","html_url":"https://github.com/apache/iceberg/pull/454#issuecomment-528654140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/454","id":528654140,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY1NDE0MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T00:08:51Z","updated_at":"2019-09-06T00:08:51Z","author_association":"CONTRIBUTOR","body":"Thanks @jzhuge! Can you also update the Javadoc for `newStream`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528654140/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528664828","html_url":"https://github.com/apache/iceberg/pull/456#issuecomment-528664828","issue_url":"https://api.github.com/repos/apache/iceberg/issues/456","id":528664828,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY2NDgyOA==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T01:02:46Z","updated_at":"2019-09-06T01:02:46Z","author_association":"CONTRIBUTOR","body":"@rdblue I found this caused issues while testing https://github.com/apache/incubator-iceberg/pull/227","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528664828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528700556","html_url":"https://github.com/apache/iceberg/pull/440#issuecomment-528700556","issue_url":"https://api.github.com/repos/apache/iceberg/issues/440","id":528700556,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODcwMDU1Ng==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T04:14:52Z","updated_at":"2019-09-06T04:14:52Z","author_association":"CONTRIBUTOR","body":"@rdblue Thanks for following this issue so patiently! I still need some time to debug my environment. The way of setting `hive.metastore.warehouse.dir` into hive-site.xml and putting hive-site.xml into Spark conf dir did not work for me somehow. It is the reason why I raise #436 (Setting it in the code seems not optional, but is required in my environment). SparkContext#hadoopConfiguration() seems not pick up hive-site.xml somehow. I did not figure out why yet.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528700556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528707196","html_url":"https://github.com/apache/iceberg/issues/404#issuecomment-528707196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/404","id":528707196,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODcwNzE5Ng==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T04:50:51Z","updated_at":"2019-09-06T04:50:51Z","author_association":"CONTRIBUTOR","body":"Hi @xabriel sorry that I do not have enough bandwidth to work this out within a week or two. Please feel free to pick this up if you have time. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528707196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528725863","html_url":"https://github.com/apache/iceberg/issues/457#issuecomment-528725863","issue_url":"https://api.github.com/repos/apache/iceberg/issues/457","id":528725863,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODcyNTg2Mw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T06:18:04Z","updated_at":"2019-09-06T06:21:30Z","author_association":"CONTRIBUTOR","body":"String in Spark has default nullable setting as \"true\", and Iceberg has the following code to decide required or optional with respect to nullable()\r\n``` java\r\n// public Type struct(StructType struct, List<Type> types) in SparkTypeToType.java\r\nif (field.nullable()) {\r\n    newFields.add(Types.NestedField.optional(id, field.name(), type, doc));\r\n} else {\r\n    newFields.add(Types.NestedField.required(id, field.name(), type, doc));\r\n}\r\n```\r\nWhen in Iceberg, we add a \" required\" field as StringType, the error message is reported.\r\nThis issue could be resolved by explicitly specifying \"nullable\" for schema in Spark, like:\r\n``` scala\r\n\r\nval schema = StructType(List(\r\n    StructField(\"string_column\", StringType, nullable = false),\r\n    ...\r\n}\r\n```\r\nBut I have no idea on how to resolve it when DataFrame is generated by Seq() or loading from a file","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528725863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528743741","html_url":"https://github.com/apache/iceberg/issues/430#issuecomment-528743741","issue_url":"https://api.github.com/repos/apache/iceberg/issues/430","id":528743741,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODc0Mzc0MQ==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T07:24:08Z","updated_at":"2019-09-06T07:24:08Z","author_association":"CONTRIBUTOR","body":"Sure, no problem, take your time :).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528743741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528808256","html_url":"https://github.com/apache/iceberg/issues/409#issuecomment-528808256","issue_url":"https://api.github.com/repos/apache/iceberg/issues/409","id":528808256,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODgwODI1Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T10:50:21Z","updated_at":"2019-09-06T10:50:21Z","author_association":"CONTRIBUTOR","body":"As I understand, `StreamingDelete` uses `delete(CharSequence)` instead of `delete(DataFile)`. So, `deleteFilePartitions` is not set.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528808256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528808751","html_url":"https://github.com/apache/iceberg/issues/446#issuecomment-528808751","issue_url":"https://api.github.com/repos/apache/iceberg/issues/446","id":528808751,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODgwODc1MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T10:52:25Z","updated_at":"2019-09-06T10:52:25Z","author_association":"CONTRIBUTOR","body":"We ended up with `kryo.register(Class.forName(\"org.apache.iceberg.GenericDataFile\"), new JavaSerializer());` to make Kryo work with Iceberg. `GenericDataFile` has custom serialization logic.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528808751/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528911488","html_url":"https://github.com/apache/iceberg/issues/451#issuecomment-528911488","issue_url":"https://api.github.com/repos/apache/iceberg/issues/451","id":528911488,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODkxMTQ4OA==","user":{"login":"bsannicolas","id":50034283,"node_id":"MDQ6VXNlcjUwMDM0Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/50034283?v=4","gravatar_id":"","url":"https://api.github.com/users/bsannicolas","html_url":"https://github.com/bsannicolas","followers_url":"https://api.github.com/users/bsannicolas/followers","following_url":"https://api.github.com/users/bsannicolas/following{/other_user}","gists_url":"https://api.github.com/users/bsannicolas/gists{/gist_id}","starred_url":"https://api.github.com/users/bsannicolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bsannicolas/subscriptions","organizations_url":"https://api.github.com/users/bsannicolas/orgs","repos_url":"https://api.github.com/users/bsannicolas/repos","events_url":"https://api.github.com/users/bsannicolas/events{/privacy}","received_events_url":"https://api.github.com/users/bsannicolas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T15:56:09Z","updated_at":"2019-09-06T15:56:09Z","author_association":"CONTRIBUTOR","body":"Yeah that seems to have fixed the problem. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528911488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528919621","html_url":"https://github.com/apache/iceberg/pull/440#issuecomment-528919621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/440","id":528919621,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODkxOTYyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T16:19:38Z","updated_at":"2019-09-06T16:19:38Z","author_association":"CONTRIBUTOR","body":"There's also a Spark warehouse directory setting, `spark.sql.warehouse.dir`. Maybe that setting is overriding the one from the Hive configuration?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528919621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528939041","html_url":"https://github.com/apache/iceberg/pull/442#issuecomment-528939041","issue_url":"https://api.github.com/repos/apache/iceberg/issues/442","id":528939041,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODkzOTA0MQ==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T17:19:28Z","updated_at":"2019-09-06T17:19:28Z","author_association":"MEMBER","body":"@rdblue, thanks for code review and your suggestions, I have made requested changes.\r\nI have replaced usage of the existing method `visit()` with the new `visitEvaluator()` method for `Boolean` visitors.\r\n\r\nI've also thought about the way, how we can optimize it for `Expression` visitors, since some of them may use `True.INSTANCE` and `False.INSTANCE` expressions. It is possible to add methods which accept suppliers into `ExpressionVisitor` and override these methods with short-circuit logic in some implementations where it will not cause issues, what do you think about this? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528939041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528994821","html_url":"https://github.com/apache/iceberg/pull/442#issuecomment-528994821","issue_url":"https://api.github.com/repos/apache/iceberg/issues/442","id":528994821,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODk5NDgyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T20:01:54Z","updated_at":"2019-09-06T20:01:54Z","author_association":"CONTRIBUTOR","body":"Thanks @vvysotskyi! This looks good and is covered by current tests so I'm going to merge it. We can follow up with more short-circuit methods later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528994821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528997506","html_url":"https://github.com/apache/iceberg/pull/442#issuecomment-528997506","issue_url":"https://api.github.com/repos/apache/iceberg/issues/442","id":528997506,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODk5NzUwNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T20:10:51Z","updated_at":"2019-09-06T20:10:51Z","author_association":"CONTRIBUTOR","body":"> I've also thought about the way, how we can optimize it for Expression visitors, since some of them may use True.INSTANCE and False.INSTANCE expressions. It is possible to add methods which accept suppliers into ExpressionVisitor and override these methods with short-circuit logic in some implementations where it will not cause issues, what do you think about this?\r\n\r\nIf there are others that would benefit, I think we should add a new visit method for this that checks for `True.INSTANCE` and `False.INSTANCE`. That can be used for visitors that support short-circuit evaluation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528997506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528998980","html_url":"https://github.com/apache/iceberg/pull/374#issuecomment-528998980","issue_url":"https://api.github.com/repos/apache/iceberg/issues/374","id":528998980,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODk5ODk4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T20:15:28Z","updated_at":"2019-09-06T20:15:28Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThanks, @chenjunjiedada! I'll merge this soon. I'm trying to test a fix for the flaky tests and I'd like to resume merging afterwards to avoid needing to restart so many tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528998980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528999318","html_url":"https://github.com/apache/iceberg/pull/454#issuecomment-528999318","issue_url":"https://api.github.com/repos/apache/iceberg/issues/454","id":528999318,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODk5OTMxOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T20:16:28Z","updated_at":"2019-09-06T20:16:28Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThanks for fixing this, @jzhuge!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/528999318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529000404","html_url":"https://github.com/apache/iceberg/pull/456#issuecomment-529000404","issue_url":"https://api.github.com/repos/apache/iceberg/issues/456","id":529000404,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTAwMDQwNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T20:19:59Z","updated_at":"2019-09-06T20:19:59Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThanks @edgarRd!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529000404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529003787","html_url":"https://github.com/apache/iceberg/issues/249#issuecomment-529003787","issue_url":"https://api.github.com/repos/apache/iceberg/issues/249","id":529003787,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTAwMzc4Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T20:31:04Z","updated_at":"2019-09-06T20:31:04Z","author_association":"CONTRIBUTOR","body":"Fixed by #374 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529003787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529041234","html_url":"https://github.com/apache/iceberg/pull/458#issuecomment-529041234","issue_url":"https://api.github.com/repos/apache/iceberg/issues/458","id":529041234,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTA0MTIzNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T23:03:16Z","updated_at":"2019-09-06T23:03:16Z","author_association":"CONTRIBUTOR","body":"@xabriel, this looks good to me other than the URI use. Thanks for fixing this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529041234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529069255","html_url":"https://github.com/apache/iceberg/issues/460#issuecomment-529069255","issue_url":"https://api.github.com/repos/apache/iceberg/issues/460","id":529069255,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTA2OTI1NQ==","user":{"login":"dushyanthbn","id":10858222,"node_id":"MDQ6VXNlcjEwODU4MjIy","avatar_url":"https://avatars.githubusercontent.com/u/10858222?v=4","gravatar_id":"","url":"https://api.github.com/users/dushyanthbn","html_url":"https://github.com/dushyanthbn","followers_url":"https://api.github.com/users/dushyanthbn/followers","following_url":"https://api.github.com/users/dushyanthbn/following{/other_user}","gists_url":"https://api.github.com/users/dushyanthbn/gists{/gist_id}","starred_url":"https://api.github.com/users/dushyanthbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dushyanthbn/subscriptions","organizations_url":"https://api.github.com/users/dushyanthbn/orgs","repos_url":"https://api.github.com/users/dushyanthbn/repos","events_url":"https://api.github.com/users/dushyanthbn/events{/privacy}","received_events_url":"https://api.github.com/users/dushyanthbn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-07T03:51:51Z","updated_at":"2019-09-07T03:51:51Z","author_association":"NONE","body":"resolved","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529069255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529211765","html_url":"https://github.com/apache/iceberg/pull/348#issuecomment-529211765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/348","id":529211765,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTIxMTc2NQ==","user":{"login":"jbapple","id":4156460,"node_id":"MDQ6VXNlcjQxNTY0NjA=","avatar_url":"https://avatars.githubusercontent.com/u/4156460?v=4","gravatar_id":"","url":"https://api.github.com/users/jbapple","html_url":"https://github.com/jbapple","followers_url":"https://api.github.com/users/jbapple/followers","following_url":"https://api.github.com/users/jbapple/following{/other_user}","gists_url":"https://api.github.com/users/jbapple/gists{/gist_id}","starred_url":"https://api.github.com/users/jbapple/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbapple/subscriptions","organizations_url":"https://api.github.com/users/jbapple/orgs","repos_url":"https://api.github.com/users/jbapple/repos","events_url":"https://api.github.com/users/jbapple/events{/privacy}","received_events_url":"https://api.github.com/users/jbapple/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-08T15:09:42Z","updated_at":"2019-09-08T15:09:42Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue ! Any new comments on this, or is it ready to go?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529211765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529338762","html_url":"https://github.com/apache/iceberg/issues/459#issuecomment-529338762","issue_url":"https://api.github.com/repos/apache/iceberg/issues/459","id":529338762,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTMzODc2Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T07:39:35Z","updated_at":"2019-09-09T11:20:06Z","author_association":"CONTRIBUTOR","body":"I like the idea but I am curious how we plan to replace `ops$current` and other calls.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529338762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529348450","html_url":"https://github.com/apache/iceberg/pull/453#issuecomment-529348450","issue_url":"https://api.github.com/repos/apache/iceberg/issues/453","id":529348450,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTM0ODQ1MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T08:08:24Z","updated_at":"2019-09-09T08:08:24Z","author_association":"CONTRIBUTOR","body":"I am going to merge this one as it was open for enough time to get comments from the community.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529348450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529390772","html_url":"https://github.com/apache/iceberg/pull/461#issuecomment-529390772","issue_url":"https://api.github.com/repos/apache/iceberg/issues/461","id":529390772,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTM5MDc3Mg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T09:49:38Z","updated_at":"2019-09-09T09:49:38Z","author_association":"COLLABORATOR","body":"@aokolnychyi, I use the static catalog from `HiveMetastoreTest` in unit test now since I found it is very fragile when creating a new hive catalog. Could you please have a look if you have time? Thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529390772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529397917","html_url":"https://github.com/apache/iceberg/pull/452#issuecomment-529397917","issue_url":"https://api.github.com/repos/apache/iceberg/issues/452","id":529397917,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTM5NzkxNw==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T10:07:05Z","updated_at":"2019-09-09T10:07:05Z","author_association":"CONTRIBUTOR","body":"closed this so i can squash commits. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529397917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529407647","html_url":"https://github.com/apache/iceberg/pull/452#issuecomment-529407647","issue_url":"https://api.github.com/repos/apache/iceberg/issues/452","id":529407647,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTQwNzY0Nw==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T10:33:38Z","updated_at":"2019-09-09T10:33:38Z","author_association":"CONTRIBUTOR","body":"created another PR adding Xabriel as Co-Author https://github.com/apache/incubator-iceberg/pull/462","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529407647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529578442","html_url":"https://github.com/apache/iceberg/issues/459#issuecomment-529578442","issue_url":"https://api.github.com/repos/apache/iceberg/issues/459","id":529578442,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTU3ODQ0Mg==","user":{"login":"lxynov","id":47990574,"node_id":"MDQ6VXNlcjQ3OTkwNTc0","avatar_url":"https://avatars.githubusercontent.com/u/47990574?v=4","gravatar_id":"","url":"https://api.github.com/users/lxynov","html_url":"https://github.com/lxynov","followers_url":"https://api.github.com/users/lxynov/followers","following_url":"https://api.github.com/users/lxynov/following{/other_user}","gists_url":"https://api.github.com/users/lxynov/gists{/gist_id}","starred_url":"https://api.github.com/users/lxynov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxynov/subscriptions","organizations_url":"https://api.github.com/users/lxynov/orgs","repos_url":"https://api.github.com/users/lxynov/repos","events_url":"https://api.github.com/users/lxynov/events{/privacy}","received_events_url":"https://api.github.com/users/lxynov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T17:14:08Z","updated_at":"2019-09-09T17:14:08Z","author_association":"CONTRIBUTOR","body":"> I like the idea but I am curious how we plan to replace `ops$current` and other calls.\r\n\r\n@aokolnychyi Thanks for the comment. As per my inspection, `ops$current` is called when `Snapshot::addedFiles`/`Snapshot::deletedFiles` is called. Essentially, it is used to get a `specLookup` function, which is essentially a mapping from spec ID to partition spec. I think it should be okay to store such a mapping in `BaseSnapshot`, i.e., to replace the `TableOperations` field with `Map<Integer, PartitionSpec>` and `FileIO`. Also, from my understanding, it's more intuitive to not let a certain `TableMetadata`'s behavior depend on the table's (future) state (`ops$current`). What do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529578442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529635766","html_url":"https://github.com/apache/iceberg/issues/459#issuecomment-529635766","issue_url":"https://api.github.com/repos/apache/iceberg/issues/459","id":529635766,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTYzNTc2Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T19:44:17Z","updated_at":"2019-09-09T19:44:17Z","author_association":"CONTRIBUTOR","body":"I wondered myself whether we can decouple `TableMetadataParser` from `TableOperations` at some point. It looked a substantial change to me and I didn't have time to investigate more. In my case, I had to provide `TableOperations` to read metadata from a file in order to register an existing table back. Personally, I would support this effort.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529635766/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529699506","html_url":"https://github.com/apache/iceberg/pull/207#issuecomment-529699506","issue_url":"https://api.github.com/repos/apache/iceberg/issues/207","id":529699506,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTY5OTUwNg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T23:01:19Z","updated_at":"2019-09-09T23:01:19Z","author_association":"CONTRIBUTOR","body":"@rdblue , picking this up again and going through your changes in #41 . \r\n\r\nI think the idea  passing an optional mapping to avro to iceberg schema is workable, and I think u mean this api  `AvroSchemaUtil#buildAvroProjection`. \r\n\r\nI'm working on this this week and will try to post a patch soon  \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529699506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529828788","html_url":"https://github.com/apache/iceberg/pull/461#issuecomment-529828788","issue_url":"https://api.github.com/repos/apache/iceberg/issues/461","id":529828788,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTgyODc4OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T08:23:19Z","updated_at":"2019-09-10T08:23:19Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/529828788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530025638","html_url":"https://github.com/apache/iceberg/pull/466#issuecomment-530025638","issue_url":"https://api.github.com/repos/apache/iceberg/issues/466","id":530025638,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDAyNTYzOA==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T16:52:00Z","updated_at":"2019-09-10T16:52:00Z","author_association":"CONTRIBUTOR","body":"checked the log. The tests `TestIcebergSourceHiveTables` are irrelevant to the change.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530025638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530025688","html_url":"https://github.com/apache/iceberg/pull/466#issuecomment-530025688","issue_url":"https://api.github.com/repos/apache/iceberg/issues/466","id":530025688,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDAyNTY4OA==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T16:52:07Z","updated_at":"2019-09-10T16:52:07Z","author_association":"CONTRIBUTOR","body":"Retest","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530025688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530032442","html_url":"https://github.com/apache/iceberg/pull/466#issuecomment-530032442","issue_url":"https://api.github.com/repos/apache/iceberg/issues/466","id":530032442,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDAzMjQ0Mg==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T17:09:11Z","updated_at":"2019-09-10T17:09:11Z","author_association":"CONTRIBUTOR","body":"close & reopen for retrigger test","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530032442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530032501","html_url":"https://github.com/apache/iceberg/pull/466#issuecomment-530032501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/466","id":530032501,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDAzMjUwMQ==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T17:09:21Z","updated_at":"2019-09-10T17:09:21Z","author_association":"CONTRIBUTOR","body":"reopen for trigger test","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530032501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530035202","html_url":"https://github.com/apache/iceberg/pull/207#issuecomment-530035202","issue_url":"https://api.github.com/repos/apache/iceberg/issues/207","id":530035202,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDAzNTIwMg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T17:16:19Z","updated_at":"2019-09-21T22:06:12Z","author_association":"CONTRIBUTOR","body":"@rdblue I've updated the approach here.\r\n\r\nI now pass an optional `NameMapping`  to `BuildAvroProjection`\r\nfield ids are now determined from first the `field-id` property and then from `NameMapping` . \r\nThe logic of how a field is selected in each of the methods (`field()`, `map()`, `array()` etc) is also slightly changed. \r\n\r\nThe general logic now is \r\n1. If the field does not have the field id (either as a property or in NameMapping) it is not selected \r\n1. if it resulting child node is null it is not selected\r\n1. if its resulting child node is different, a new field is created.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530035202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530035780","html_url":"https://github.com/apache/iceberg/pull/465#issuecomment-530035780","issue_url":"https://api.github.com/repos/apache/iceberg/issues/465","id":530035780,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDAzNTc4MA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T17:17:48Z","updated_at":"2019-09-10T17:17:48Z","author_association":"CONTRIBUTOR","body":"Hi @puneetzaroo  could you comment here on why is this change required?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530035780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530080116","html_url":"https://github.com/apache/iceberg/pull/465#issuecomment-530080116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/465","id":530080116,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDA4MDExNg==","user":{"login":"puneetzaroo","id":2358709,"node_id":"MDQ6VXNlcjIzNTg3MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2358709?v=4","gravatar_id":"","url":"https://api.github.com/users/puneetzaroo","html_url":"https://github.com/puneetzaroo","followers_url":"https://api.github.com/users/puneetzaroo/followers","following_url":"https://api.github.com/users/puneetzaroo/following{/other_user}","gists_url":"https://api.github.com/users/puneetzaroo/gists{/gist_id}","starred_url":"https://api.github.com/users/puneetzaroo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/puneetzaroo/subscriptions","organizations_url":"https://api.github.com/users/puneetzaroo/orgs","repos_url":"https://api.github.com/users/puneetzaroo/repos","events_url":"https://api.github.com/users/puneetzaroo/events{/privacy}","received_events_url":"https://api.github.com/users/puneetzaroo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T19:14:43Z","updated_at":"2019-09-10T19:14:43Z","author_association":"CONTRIBUTOR","body":"> Hi @puneetzaroo could you comment here on why is this change required?\r\n\r\nIn order to be able generate a mapping the static constructor needs to be accessible to the utility that is generating the mapping.\r\nthanks,","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/530080116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]