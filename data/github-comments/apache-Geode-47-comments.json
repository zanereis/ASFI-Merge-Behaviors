[{"url":"https://api.github.com/repos/apache/geode/issues/comments/612247016","html_url":"https://github.com/apache/geode/pull/4944#issuecomment-612247016","issue_url":"https://api.github.com/repos/apache/geode/issues/4944","id":612247016,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjI0NzAxNg==","user":{"login":"mhansonp","id":26558973,"node_id":"MDQ6VXNlcjI2NTU4OTcz","avatar_url":"https://avatars.githubusercontent.com/u/26558973?v=4","gravatar_id":"","url":"https://api.github.com/users/mhansonp","html_url":"https://github.com/mhansonp","followers_url":"https://api.github.com/users/mhansonp/followers","following_url":"https://api.github.com/users/mhansonp/following{/other_user}","gists_url":"https://api.github.com/users/mhansonp/gists{/gist_id}","starred_url":"https://api.github.com/users/mhansonp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhansonp/subscriptions","organizations_url":"https://api.github.com/users/mhansonp/orgs","repos_url":"https://api.github.com/users/mhansonp/repos","events_url":"https://api.github.com/users/mhansonp/events{/privacy}","received_events_url":"https://api.github.com/users/mhansonp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T22:31:33Z","updated_at":"2020-04-10T22:31:33Z","author_association":"CONTRIBUTOR","body":"DBG stands for \"debug\"","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/612247016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/612252834","html_url":"https://github.com/apache/geode/pull/4800#issuecomment-612252834","issue_url":"https://api.github.com/repos/apache/geode/issues/4800","id":612252834,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjI1MjgzNA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T22:49:09Z","updated_at":"2020-04-10T22:49:09Z","author_association":"NONE","body":"She thought it was finished. I'll convert it to a draft.\n\nOn Fri, Apr 10, 2020, 14:01 Owen Nichols <notifications@github.com> wrote:\n\n> Please consider using the new GitHub feature \"convert to draft\" and/or add\n> WIP to the title to indicate this is not finished.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/geode/pull/4800#issuecomment-612215793>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AHVPPUR4MHM2CAMZWJFXYALRL6CJFANCNFSM4LGUSA5Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/612252834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/612908634","html_url":"https://github.com/apache/geode/pull/4948#issuecomment-612908634","issue_url":"https://api.github.com/repos/apache/geode/issues/4948","id":612908634,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjkwODYzNA==","user":{"login":"jdeppe-pivotal","id":5313410,"node_id":"MDQ6VXNlcjUzMTM0MTA=","avatar_url":"https://avatars.githubusercontent.com/u/5313410?v=4","gravatar_id":"","url":"https://api.github.com/users/jdeppe-pivotal","html_url":"https://github.com/jdeppe-pivotal","followers_url":"https://api.github.com/users/jdeppe-pivotal/followers","following_url":"https://api.github.com/users/jdeppe-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/jdeppe-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/jdeppe-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdeppe-pivotal/subscriptions","organizations_url":"https://api.github.com/users/jdeppe-pivotal/orgs","repos_url":"https://api.github.com/users/jdeppe-pivotal/repos","events_url":"https://api.github.com/users/jdeppe-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/jdeppe-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T13:55:30Z","updated_at":"2020-04-13T13:55:30Z","author_association":"CONTRIBUTOR","body":"This PR fixes a prior breaking change that was caused by 2 separate commits merging at the same time. It has already been approved in https://github.com/apache/geode/pull/4937","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/612908634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/613117815","html_url":"https://github.com/apache/geode/pull/4939#issuecomment-613117815","issue_url":"https://api.github.com/repos/apache/geode/issues/4939","id":613117815,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzExNzgxNQ==","user":{"login":"Bill","id":4002,"node_id":"MDQ6VXNlcjQwMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4002?v=4","gravatar_id":"","url":"https://api.github.com/users/Bill","html_url":"https://github.com/Bill","followers_url":"https://api.github.com/users/Bill/followers","following_url":"https://api.github.com/users/Bill/following{/other_user}","gists_url":"https://api.github.com/users/Bill/gists{/gist_id}","starred_url":"https://api.github.com/users/Bill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bill/subscriptions","organizations_url":"https://api.github.com/users/Bill/orgs","repos_url":"https://api.github.com/users/Bill/repos","events_url":"https://api.github.com/users/Bill/events{/privacy}","received_events_url":"https://api.github.com/users/Bill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T21:57:58Z","updated_at":"2020-04-13T21:57:58Z","author_association":"CONTRIBUTOR","body":"this didn't work. Instead we reverted the offending commit. Back to the drawrrring board…","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/613117815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/613124012","html_url":"https://github.com/apache/geode/pull/4943#issuecomment-613124012","issue_url":"https://api.github.com/repos/apache/geode/issues/4943","id":613124012,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzEyNDAxMg==","user":{"login":"upthewaterspout","id":857521,"node_id":"MDQ6VXNlcjg1NzUyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/857521?v=4","gravatar_id":"","url":"https://api.github.com/users/upthewaterspout","html_url":"https://github.com/upthewaterspout","followers_url":"https://api.github.com/users/upthewaterspout/followers","following_url":"https://api.github.com/users/upthewaterspout/following{/other_user}","gists_url":"https://api.github.com/users/upthewaterspout/gists{/gist_id}","starred_url":"https://api.github.com/users/upthewaterspout/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/upthewaterspout/subscriptions","organizations_url":"https://api.github.com/users/upthewaterspout/orgs","repos_url":"https://api.github.com/users/upthewaterspout/repos","events_url":"https://api.github.com/users/upthewaterspout/events{/privacy}","received_events_url":"https://api.github.com/users/upthewaterspout/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T22:15:39Z","updated_at":"2020-04-13T22:15:39Z","author_association":"CONTRIBUTOR","body":"Bruce merged these changes into a different PR.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/613124012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/613232460","html_url":"https://github.com/apache/geode/pull/4815#issuecomment-613232460","issue_url":"https://api.github.com/repos/apache/geode/issues/4815","id":613232460,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzIzMjQ2MA==","user":{"login":"mkevo","id":48509719,"node_id":"MDQ6VXNlcjQ4NTA5NzE5","avatar_url":"https://avatars.githubusercontent.com/u/48509719?v=4","gravatar_id":"","url":"https://api.github.com/users/mkevo","html_url":"https://github.com/mkevo","followers_url":"https://api.github.com/users/mkevo/followers","following_url":"https://api.github.com/users/mkevo/following{/other_user}","gists_url":"https://api.github.com/users/mkevo/gists{/gist_id}","starred_url":"https://api.github.com/users/mkevo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkevo/subscriptions","organizations_url":"https://api.github.com/users/mkevo/orgs","repos_url":"https://api.github.com/users/mkevo/repos","events_url":"https://api.github.com/users/mkevo/events{/privacy}","received_events_url":"https://api.github.com/users/mkevo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T05:23:56Z","updated_at":"2020-04-14T05:23:56Z","author_association":"CONTRIBUTOR","body":"Nice catch! Thanks!","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/613232460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/613232633","html_url":"https://github.com/apache/geode/pull/4953#issuecomment-613232633","issue_url":"https://api.github.com/repos/apache/geode/issues/4953","id":613232633,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzIzMjYzMw==","user":{"login":"gesterzhou","id":10713950,"node_id":"MDQ6VXNlcjEwNzEzOTUw","avatar_url":"https://avatars.githubusercontent.com/u/10713950?v=4","gravatar_id":"","url":"https://api.github.com/users/gesterzhou","html_url":"https://github.com/gesterzhou","followers_url":"https://api.github.com/users/gesterzhou/followers","following_url":"https://api.github.com/users/gesterzhou/following{/other_user}","gists_url":"https://api.github.com/users/gesterzhou/gists{/gist_id}","starred_url":"https://api.github.com/users/gesterzhou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gesterzhou/subscriptions","organizations_url":"https://api.github.com/users/gesterzhou/orgs","repos_url":"https://api.github.com/users/gesterzhou/repos","events_url":"https://api.github.com/users/gesterzhou/events{/privacy}","received_events_url":"https://api.github.com/users/gesterzhou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T05:24:34Z","updated_at":"2020-04-14T05:24:34Z","author_association":"CONTRIBUTOR","body":"compare to wrong branch. Need to recreate the PR. ","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/613232633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/613362471","html_url":"https://github.com/apache/geode/pull/4934#issuecomment-613362471","issue_url":"https://api.github.com/repos/apache/geode/issues/4934","id":613362471,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzM2MjQ3MQ==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T10:38:48Z","updated_at":"2020-04-14T10:38:48Z","author_association":"CONTRIBUTOR","body":"@DonalEvans : good observation, I don't think we ever create that many shadow buckets as to introduce a memory leak with this map; _**but**_ is a valid concern nevertheless... I will go over the code again and check whether we can change the way we track shadow buckets destroyed. Thanks for catching this.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/613362471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/613467339","html_url":"https://github.com/apache/geode/pull/4934#issuecomment-613467339","issue_url":"https://api.github.com/repos/apache/geode/issues/4934","id":613467339,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzQ2NzMzOQ==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T14:12:58Z","updated_at":"2020-04-14T14:12:58Z","author_association":"CONTRIBUTOR","body":"@DonalEvans\r\n\r\nI've been digging through the code and we don't track created shadow buckets at the bucket level, we only track the entire shadow `PartitionRegion` instead... adding a fine-grained tracking per bucket doesn't seem to be a quick, nor easy, task. It would also imply getting the full list of buckets per region and, for each bucket, find every related shadow bucket and register it in the relevant `BucketAdvisor` upon creation, implying more messaging and delays.\r\nInstead, I've modified the `BucketAdvisor` to only keep track of known destroyed buckets, returning `false` by default (as before) if we don't have a record for that particular shadow bucket. The `markAllShadowBucketsAsNonDestroyed` now clears the `destroyedShadowBuckets` map instead of changing the boolean flag to `false` as well. Another thing to notice, according to what I see, is that there's only one `BucketAdvisor` per bucket and, in the general use case, there will be only one shadow bucket per bucket -> meaning that the `Map` itself will contain only one entry (if any) at any given time. For those cases where a single `Region` has multiple `gateway-senders`, the `Map` will have at most N entries (if any), being N the amount of `gateway-senders` attached to the region (the mapping `1 shadow bucket per bucket` becomes `N shadow buckets per bucket`).\r\nI might be missing something, though, and I know you've been working on the redundancy stuff (highly related to PR regions and bucket movement) _**so we can certainly discuss if you think otherwise**_.\r\nPlease let me know your thoughts!.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/613467339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/613519677","html_url":"https://github.com/apache/geode/pull/4934#issuecomment-613519677","issue_url":"https://api.github.com/repos/apache/geode/issues/4934","id":613519677,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzUxOTY3Nw==","user":{"login":"DonalEvans","id":17314657,"node_id":"MDQ6VXNlcjE3MzE0NjU3","avatar_url":"https://avatars.githubusercontent.com/u/17314657?v=4","gravatar_id":"","url":"https://api.github.com/users/DonalEvans","html_url":"https://github.com/DonalEvans","followers_url":"https://api.github.com/users/DonalEvans/followers","following_url":"https://api.github.com/users/DonalEvans/following{/other_user}","gists_url":"https://api.github.com/users/DonalEvans/gists{/gist_id}","starred_url":"https://api.github.com/users/DonalEvans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DonalEvans/subscriptions","organizations_url":"https://api.github.com/users/DonalEvans/orgs","repos_url":"https://api.github.com/users/DonalEvans/repos","events_url":"https://api.github.com/users/DonalEvans/events{/privacy}","received_events_url":"https://api.github.com/users/DonalEvans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T15:44:38Z","updated_at":"2020-04-14T15:44:38Z","author_association":"CONTRIBUTOR","body":"@jujoramos The proposed change you have of `markAllShadowBucketsAsNonDestroyed` clearing the map sounds good to me.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/613519677/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/613729954","html_url":"https://github.com/apache/geode/pull/4959#issuecomment-613729954","issue_url":"https://api.github.com/repos/apache/geode/issues/4959","id":613729954,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzcyOTk1NA==","user":{"login":"Bill","id":4002,"node_id":"MDQ6VXNlcjQwMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4002?v=4","gravatar_id":"","url":"https://api.github.com/users/Bill","html_url":"https://github.com/Bill","followers_url":"https://api.github.com/users/Bill/followers","following_url":"https://api.github.com/users/Bill/following{/other_user}","gists_url":"https://api.github.com/users/Bill/gists{/gist_id}","starred_url":"https://api.github.com/users/Bill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bill/subscriptions","organizations_url":"https://api.github.com/users/Bill/orgs","repos_url":"https://api.github.com/users/Bill/repos","events_url":"https://api.github.com/users/Bill/events{/privacy}","received_events_url":"https://api.github.com/users/Bill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T23:26:43Z","updated_at":"2020-04-14T23:26:43Z","author_association":"CONTRIBUTOR","body":"> so the client will actually retry\r\n\r\n@upthewaterspout if the proxy is down, won't every client-server operation result in `NoAvailableLocatorsException` being thrown in the client?","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/613729954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/613962316","html_url":"https://github.com/apache/geode/pull/4848#issuecomment-613962316","issue_url":"https://api.github.com/repos/apache/geode/issues/4848","id":613962316,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzk2MjMxNg==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T10:41:04Z","updated_at":"2020-04-15T10:41:04Z","author_association":"CONTRIBUTOR","body":"@gesterzhou \r\nI've rebased the `PR` against `feature/GEODE-7665` to include the latest changes from the `clear` feature. There are still some failures while running the tests, concurrent `putAll` with `clear` (test method `clearWithConcurrentPutAllShouldWorkCorrectly`) always reproduces a discrepancy between primary buckets a secondary buckets for `PARTITION_REDUNDANT` regions.\r\nOther tests also sporadically fail when I uncomment the following lines in the `assertRegionBucketsConsistency` method too:\r\n```\r\nassertThat(otherDump.getRvv())\r\n    .as(\"RegionVersionVector for bucket \" + bucketId + \" on member \" \r\n        + otherDump.getMember() + \" is not consistent with member \" + firstDump.getMember())\r\n    .isEqualTo(firstDump.getRvv());\r\n```","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/613962316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/614133137","html_url":"https://github.com/apache/geode/pull/4961#issuecomment-614133137","issue_url":"https://api.github.com/repos/apache/geode/issues/4961","id":614133137,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDEzMzEzNw==","user":{"login":"prettyClouds","id":1047660,"node_id":"MDQ6VXNlcjEwNDc2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1047660?v=4","gravatar_id":"","url":"https://api.github.com/users/prettyClouds","html_url":"https://github.com/prettyClouds","followers_url":"https://api.github.com/users/prettyClouds/followers","following_url":"https://api.github.com/users/prettyClouds/following{/other_user}","gists_url":"https://api.github.com/users/prettyClouds/gists{/gist_id}","starred_url":"https://api.github.com/users/prettyClouds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prettyClouds/subscriptions","organizations_url":"https://api.github.com/users/prettyClouds/orgs","repos_url":"https://api.github.com/users/prettyClouds/repos","events_url":"https://api.github.com/users/prettyClouds/events{/privacy}","received_events_url":"https://api.github.com/users/prettyClouds/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T16:11:21Z","updated_at":"2020-04-15T16:11:21Z","author_association":"CONTRIBUTOR","body":"@jdeppe-pivotal @xtreme-prasath  this is the PR we talked about yesterday.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/614133137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/614134326","html_url":"https://github.com/apache/geode/pull/4410#issuecomment-614134326","issue_url":"https://api.github.com/repos/apache/geode/issues/4410","id":614134326,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDEzNDMyNg==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T16:13:32Z","updated_at":"2020-04-15T16:13:32Z","author_association":"CONTRIBUTOR","body":"I closed this PR after Anil and I discussed it further. The main concern is that the current behavior is expected by users and is de facto correct. Changing it would change the behavior and result in long-time users being surprised by the new behavior.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/614134326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/614155187","html_url":"https://github.com/apache/geode/pull/4922#issuecomment-614155187","issue_url":"https://api.github.com/repos/apache/geode/issues/4922","id":614155187,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDE1NTE4Nw==","user":{"login":"jhuynh1","id":5750994,"node_id":"MDQ6VXNlcjU3NTA5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/5750994?v=4","gravatar_id":"","url":"https://api.github.com/users/jhuynh1","html_url":"https://github.com/jhuynh1","followers_url":"https://api.github.com/users/jhuynh1/followers","following_url":"https://api.github.com/users/jhuynh1/following{/other_user}","gists_url":"https://api.github.com/users/jhuynh1/gists{/gist_id}","starred_url":"https://api.github.com/users/jhuynh1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhuynh1/subscriptions","organizations_url":"https://api.github.com/users/jhuynh1/orgs","repos_url":"https://api.github.com/users/jhuynh1/repos","events_url":"https://api.github.com/users/jhuynh1/events{/privacy}","received_events_url":"https://api.github.com/users/jhuynh1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T16:52:26Z","updated_at":"2020-04-15T16:52:26Z","author_association":"CONTRIBUTOR","body":"> LGTM, just some nitpicks, feel free to ignore them.\r\n> One thing I've noted is that both test methods (`cumulativeResultsToDataShouldWriteToTheCorrectStreamNotCauseCorruption` and `nwayMergeResultsToDataShouldWriteToTheCorrectStreamAndNotCauseCorruption`) _**do exactly the same thing**_, am I missing something?, or can we just delete one of them?.\r\nGood catch, I must have accidently modified one to match the other by mistake.  The query should be modified to generate an N-Way result and the other the Cumulative type.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/614155187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/614210364","html_url":"https://github.com/apache/geode/pull/4919#issuecomment-614210364","issue_url":"https://api.github.com/repos/apache/geode/issues/4919","id":614210364,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDIxMDM2NA==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T18:40:11Z","updated_at":"2020-04-15T18:40:11Z","author_association":"CONTRIBUTOR","body":"Closing this PR in preference for #4924","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/614210364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/614273066","html_url":"https://github.com/apache/geode/pull/4963#issuecomment-614273066","issue_url":"https://api.github.com/repos/apache/geode/issues/4963","id":614273066,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDI3MzA2Ng==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T20:50:23Z","updated_at":"2020-04-15T20:50:23Z","author_association":"CONTRIBUTOR","body":"IntegrationTest exceeded timeout, and DistributedTest had a common JMXMBeanReconnectDUnitTest failure.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/614273066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/614805315","html_url":"https://github.com/apache/geode/pull/4966#issuecomment-614805315","issue_url":"https://api.github.com/repos/apache/geode/issues/4966","id":614805315,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDgwNTMxNQ==","user":{"login":"davebarnes97","id":13138489,"node_id":"MDQ6VXNlcjEzMTM4NDg5","avatar_url":"https://avatars.githubusercontent.com/u/13138489?v=4","gravatar_id":"","url":"https://api.github.com/users/davebarnes97","html_url":"https://github.com/davebarnes97","followers_url":"https://api.github.com/users/davebarnes97/followers","following_url":"https://api.github.com/users/davebarnes97/following{/other_user}","gists_url":"https://api.github.com/users/davebarnes97/gists{/gist_id}","starred_url":"https://api.github.com/users/davebarnes97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davebarnes97/subscriptions","organizations_url":"https://api.github.com/users/davebarnes97/orgs","repos_url":"https://api.github.com/users/davebarnes97/repos","events_url":"https://api.github.com/users/davebarnes97/events{/privacy}","received_events_url":"https://api.github.com/users/davebarnes97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T17:58:29Z","updated_at":"2020-04-16T17:58:29Z","author_association":"CONTRIBUTOR","body":"Thanks for documenting, @demery-pivotal. One small editorial request: \"End-User\" should simply be \"end user\".","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/614805315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615176955","html_url":"https://github.com/apache/geode/pull/4387#issuecomment-615176955","issue_url":"https://api.github.com/repos/apache/geode/issues/4387","id":615176955,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTE3Njk1NQ==","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T10:43:04Z","updated_at":"2020-04-17T10:43:04Z","author_association":"NONE","body":"This pull request **introduces 1 alert** when merging 1a95c35d895c5da5039a77d58f6325d355b2fb21 into bfbb398891c5d96fa3a5975365b29d71bd849ad6 - [view on LGTM.com](https://lgtm.com/projects/g/apache/geode/rev/pr-1a387d256d9168a6d22e2353c2c30dfc6b7d1543)\n\n**new alerts:**\n\n* 1 for Dereferenced variable may be null","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615176955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615328248","html_url":"https://github.com/apache/geode/pull/4969#issuecomment-615328248","issue_url":"https://api.github.com/repos/apache/geode/issues/4969","id":615328248,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTMyODI0OA==","user":{"login":"upthewaterspout","id":857521,"node_id":"MDQ6VXNlcjg1NzUyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/857521?v=4","gravatar_id":"","url":"https://api.github.com/users/upthewaterspout","html_url":"https://github.com/upthewaterspout","followers_url":"https://api.github.com/users/upthewaterspout/followers","following_url":"https://api.github.com/users/upthewaterspout/following{/other_user}","gists_url":"https://api.github.com/users/upthewaterspout/gists{/gist_id}","starred_url":"https://api.github.com/users/upthewaterspout/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/upthewaterspout/subscriptions","organizations_url":"https://api.github.com/users/upthewaterspout/orgs","repos_url":"https://api.github.com/users/upthewaterspout/repos","events_url":"https://api.github.com/users/upthewaterspout/events{/privacy}","received_events_url":"https://api.github.com/users/upthewaterspout/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T16:01:59Z","updated_at":"2020-04-17T16:01:59Z","author_association":"CONTRIBUTOR","body":"Can we stage this is a way that doesn't break people's PRs or lose coverage for a while? Maybe we can merge the gradle changes without moving the tests, then add the pipeline support, and then move the tests.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615328248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615332604","html_url":"https://github.com/apache/geode/pull/4969#issuecomment-615332604","issue_url":"https://api.github.com/repos/apache/geode/issues/4969","id":615332604,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTMzMjYwNA==","user":{"login":"jake-at-work","id":6800791,"node_id":"MDQ6VXNlcjY4MDA3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6800791?v=4","gravatar_id":"","url":"https://api.github.com/users/jake-at-work","html_url":"https://github.com/jake-at-work","followers_url":"https://api.github.com/users/jake-at-work/followers","following_url":"https://api.github.com/users/jake-at-work/following{/other_user}","gists_url":"https://api.github.com/users/jake-at-work/gists{/gist_id}","starred_url":"https://api.github.com/users/jake-at-work/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jake-at-work/subscriptions","organizations_url":"https://api.github.com/users/jake-at-work/orgs","repos_url":"https://api.github.com/users/jake-at-work/repos","events_url":"https://api.github.com/users/jake-at-work/events{/privacy}","received_events_url":"https://api.github.com/users/jake-at-work/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T16:10:14Z","updated_at":"2020-04-17T16:10:14Z","author_association":"CONTRIBUTOR","body":"> Can we stage this is a way that doesn't break people's PRs or lose coverage for a while? Maybe we can merge the gradle changes without moving the tests, then add the pipeline support, and then move the tests.\r\n\r\nWe could but I think the number of tests and the time between this commit and the pipeline tie in will be very short. I think the risk is very very small.\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615332604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615335068","html_url":"https://github.com/apache/geode/pull/4234#issuecomment-615335068","issue_url":"https://api.github.com/repos/apache/geode/issues/4234","id":615335068,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTMzNTA2OA==","user":{"login":"mivanac","id":48509724,"node_id":"MDQ6VXNlcjQ4NTA5NzI0","avatar_url":"https://avatars.githubusercontent.com/u/48509724?v=4","gravatar_id":"","url":"https://api.github.com/users/mivanac","html_url":"https://github.com/mivanac","followers_url":"https://api.github.com/users/mivanac/followers","following_url":"https://api.github.com/users/mivanac/following{/other_user}","gists_url":"https://api.github.com/users/mivanac/gists{/gist_id}","starred_url":"https://api.github.com/users/mivanac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mivanac/subscriptions","organizations_url":"https://api.github.com/users/mivanac/orgs","repos_url":"https://api.github.com/users/mivanac/repos","events_url":"https://api.github.com/users/mivanac/events{/privacy}","received_events_url":"https://api.github.com/users/mivanac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T16:14:44Z","updated_at":"2020-04-17T16:14:44Z","author_association":"CONTRIBUTOR","body":"Are the results OK with you? If they are not, I will close this PR.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615335068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615342733","html_url":"https://github.com/apache/geode/pull/4963#issuecomment-615342733","issue_url":"https://api.github.com/repos/apache/geode/issues/4963","id":615342733,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTM0MjczMw==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T16:29:44Z","updated_at":"2020-04-17T16:29:44Z","author_association":"CONTRIBUTOR","body":"Memcached IntegrationJUnitTest hangs IntegrationTest because Cache.close() calls GeodeMemcachedService.close() which again calls Cache.close(). Looks like the code base has lots of Cache.close() calls -- all of them could theoretically cause issues.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615342733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615392379","html_url":"https://github.com/apache/geode/pull/4969#issuecomment-615392379","issue_url":"https://api.github.com/repos/apache/geode/issues/4969","id":615392379,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTM5MjM3OQ==","user":{"login":"jake-at-work","id":6800791,"node_id":"MDQ6VXNlcjY4MDA3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6800791?v=4","gravatar_id":"","url":"https://api.github.com/users/jake-at-work","html_url":"https://github.com/jake-at-work","followers_url":"https://api.github.com/users/jake-at-work/followers","following_url":"https://api.github.com/users/jake-at-work/following{/other_user}","gists_url":"https://api.github.com/users/jake-at-work/gists{/gist_id}","starred_url":"https://api.github.com/users/jake-at-work/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jake-at-work/subscriptions","organizations_url":"https://api.github.com/users/jake-at-work/orgs","repos_url":"https://api.github.com/users/jake-at-work/repos","events_url":"https://api.github.com/users/jake-at-work/events{/privacy}","received_events_url":"https://api.github.com/users/jake-at-work/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T18:16:57Z","updated_at":"2020-04-17T18:16:57Z","author_association":"CONTRIBUTOR","body":"> I think it would be better to split things up and move the tests after the CI changes are done - doesn't seem too hard to do. The CI changes may take a little time - we have to enhance the stress new test job as well.\r\n\r\nWith the help of @rhoughton-pivot I have pushed a commit to the CI that we are running through a test pipeline. Will wait for results of that. ","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615392379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615425070","html_url":"https://github.com/apache/geode/pull/4969#issuecomment-615425070","issue_url":"https://api.github.com/repos/apache/geode/issues/4969","id":615425070,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTQyNTA3MA==","user":{"login":"jake-at-work","id":6800791,"node_id":"MDQ6VXNlcjY4MDA3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6800791?v=4","gravatar_id":"","url":"https://api.github.com/users/jake-at-work","html_url":"https://github.com/jake-at-work","followers_url":"https://api.github.com/users/jake-at-work/followers","following_url":"https://api.github.com/users/jake-at-work/following{/other_user}","gists_url":"https://api.github.com/users/jake-at-work/gists{/gist_id}","starred_url":"https://api.github.com/users/jake-at-work/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jake-at-work/subscriptions","organizations_url":"https://api.github.com/users/jake-at-work/orgs","repos_url":"https://api.github.com/users/jake-at-work/repos","events_url":"https://api.github.com/users/jake-at-work/events{/privacy}","received_events_url":"https://api.github.com/users/jake-at-work/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T19:27:32Z","updated_at":"2020-04-17T19:27:32Z","author_association":"CONTRIBUTOR","body":"Pipeline changes worked on test pipeline. \r\nhttps://concourse.apachegeode-ci.info/teams/main/pipelines/pivotal-jbarrett-feature-geode-7995-c-main/jobs/ConcurrencyTestOpenJDK8/builds/1\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615425070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615425846","html_url":"https://github.com/apache/geode/pull/4969#issuecomment-615425846","issue_url":"https://api.github.com/repos/apache/geode/issues/4969","id":615425846,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTQyNTg0Ng==","user":{"login":"jake-at-work","id":6800791,"node_id":"MDQ6VXNlcjY4MDA3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6800791?v=4","gravatar_id":"","url":"https://api.github.com/users/jake-at-work","html_url":"https://github.com/jake-at-work","followers_url":"https://api.github.com/users/jake-at-work/followers","following_url":"https://api.github.com/users/jake-at-work/following{/other_user}","gists_url":"https://api.github.com/users/jake-at-work/gists{/gist_id}","starred_url":"https://api.github.com/users/jake-at-work/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jake-at-work/subscriptions","organizations_url":"https://api.github.com/users/jake-at-work/orgs","repos_url":"https://api.github.com/users/jake-at-work/repos","events_url":"https://api.github.com/users/jake-at-work/events{/privacy}","received_events_url":"https://api.github.com/users/jake-at-work/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T19:29:24Z","updated_at":"2020-04-17T19:29:24Z","author_association":"CONTRIBUTOR","body":"> I think this is still missing some changes to include this new test target in stress new test.\r\n> \r\n> Side note - you made a lot of minor cleanup changes with this PR (maybe with some intellij inspection?). It would be nicer to split those out into a separate PR - especially since your changes are not going to get tested because they are running as part of this new gradle target that CI is not going to run on this PR.\r\n\r\nThe changes were required for them to compile. That project enforces warnings as errors. The test pipeline successfully built and ran those cleaned up tests.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615425846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615463926","html_url":"https://github.com/apache/geode/pull/4969#issuecomment-615463926","issue_url":"https://api.github.com/repos/apache/geode/issues/4969","id":615463926,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTQ2MzkyNg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T21:07:16Z","updated_at":"2020-04-17T21:07:16Z","author_association":"NONE","body":"The test jobs are here:\r\n\r\nhttps://concourse.apachegeode-ci.info/teams/main/pipelines/pivotal-jbarrett-feature-geode-7995-c-main/jobs/ConcurrencyTestOpenJDK8/builds/1\r\n\r\nhttps://concourse.apachegeode-ci.info/teams/main/pipelines/pivotal-jbarrett-feature-geode-7995-c-main/jobs/ConcurrencyTestOpenJDK11/builds/1","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615463926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615502168","html_url":"https://github.com/apache/geode/pull/4880#issuecomment-615502168","issue_url":"https://api.github.com/repos/apache/geode/issues/4880","id":615502168,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTUwMjE2OA==","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T23:13:13Z","updated_at":"2020-04-17T23:13:13Z","author_association":"NONE","body":"This pull request **fixes 13 alerts** when merging a1430106d1b88f50f98e0555389923f11c198b10 into c257c15e65a03249661781c350d20fda3c9d5ce8 - [view on LGTM.com](https://lgtm.com/projects/g/apache/geode/rev/pr-a3aaae5958268974442e73660e093cdf68c5ca19)\n\n**fixed alerts:**\n\n* 13 for Useless null check","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615502168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615509531","html_url":"https://github.com/apache/geode/pull/4973#issuecomment-615509531","issue_url":"https://api.github.com/repos/apache/geode/issues/4973","id":615509531,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTUwOTUzMQ==","user":{"login":"prettyClouds","id":1047660,"node_id":"MDQ6VXNlcjEwNDc2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1047660?v=4","gravatar_id":"","url":"https://api.github.com/users/prettyClouds","html_url":"https://github.com/prettyClouds","followers_url":"https://api.github.com/users/prettyClouds/followers","following_url":"https://api.github.com/users/prettyClouds/following{/other_user}","gists_url":"https://api.github.com/users/prettyClouds/gists{/gist_id}","starred_url":"https://api.github.com/users/prettyClouds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prettyClouds/subscriptions","organizations_url":"https://api.github.com/users/prettyClouds/orgs","repos_url":"https://api.github.com/users/prettyClouds/repos","events_url":"https://api.github.com/users/prettyClouds/events{/privacy}","received_events_url":"https://api.github.com/users/prettyClouds/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T23:35:53Z","updated_at":"2020-04-17T23:35:53Z","author_association":"CONTRIBUTOR","body":"@pivotal-jbarrett @dschneider-pivotal i'd appreciate an eye on this!","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615509531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/615537245","html_url":"https://github.com/apache/geode/pull/4866#issuecomment-615537245","issue_url":"https://api.github.com/repos/apache/geode/issues/4866","id":615537245,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTUzNzI0NQ==","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-04-18T01:54:15Z","updated_at":"2020-04-18T01:54:15Z","author_association":"NONE","body":"This pull request **fixes 7 alerts** when merging 6a7507c4f21bf86036b903da18bf90bce216cc96 into aab948a5e6c82319a631c901a17cc01692da14c2 - [view on LGTM.com](https://lgtm.com/projects/g/apache/geode/rev/pr-b6fc49c9c3f3207fdf4d600cd053a5efd8507bbd)\n\n**fixed alerts:**\n\n* 7 for Inconsistent equals and hashCode","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/615537245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/616565367","html_url":"https://github.com/apache/geode/pull/4974#issuecomment-616565367","issue_url":"https://api.github.com/repos/apache/geode/issues/4974","id":616565367,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjU2NTM2Nw==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T13:47:36Z","updated_at":"2020-04-20T15:36:14Z","author_association":"CONTRIBUTOR","body":"@alb3rtobr: I'm just tagging you as you are the author of the original commit so you're aware of the revert request, I'll try to reproduce the issue using a `DistributedTest` and will share it with you afterwards (let's use [GEODE-8004](https://issues.apache.org/jira/browse/GEODE-8004) for communication purposes).\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/616565367/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/616645957","html_url":"https://github.com/apache/geode/pull/4969#issuecomment-616645957","issue_url":"https://api.github.com/repos/apache/geode/issues/4969","id":616645957,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY0NTk1Nw==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T15:57:44Z","updated_at":"2020-04-20T15:57:44Z","author_association":"CONTRIBUTOR","body":"> What do we mean by facet in this context?\r\n\r\nI think it means (1) src set, (2) gradle target to execute tests in the src set, (3) pipeline job in CI and PR.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/616645957/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/616668765","html_url":"https://github.com/apache/geode/pull/4974#issuecomment-616668765","issue_url":"https://api.github.com/repos/apache/geode/issues/4974","id":616668765,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY2ODc2NQ==","user":{"login":"bschuchardt","id":7441204,"node_id":"MDQ6VXNlcjc0NDEyMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7441204?v=4","gravatar_id":"","url":"https://api.github.com/users/bschuchardt","html_url":"https://github.com/bschuchardt","followers_url":"https://api.github.com/users/bschuchardt/followers","following_url":"https://api.github.com/users/bschuchardt/following{/other_user}","gists_url":"https://api.github.com/users/bschuchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/bschuchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschuchardt/subscriptions","organizations_url":"https://api.github.com/users/bschuchardt/orgs","repos_url":"https://api.github.com/users/bschuchardt/repos","events_url":"https://api.github.com/users/bschuchardt/events{/privacy}","received_events_url":"https://api.github.com/users/bschuchardt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T16:34:16Z","updated_at":"2020-04-20T16:34:16Z","author_association":"CONTRIBUTOR","body":"The problem might be in changes to Ping.java.  It may send an error response back to the client with MessageType.PING, which maybe the client isn't equipped to deal with.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/616668765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/616692247","html_url":"https://github.com/apache/geode/pull/4969#issuecomment-616692247","issue_url":"https://api.github.com/repos/apache/geode/issues/4969","id":616692247,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY5MjI0Nw==","user":{"login":"jake-at-work","id":6800791,"node_id":"MDQ6VXNlcjY4MDA3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6800791?v=4","gravatar_id":"","url":"https://api.github.com/users/jake-at-work","html_url":"https://github.com/jake-at-work","followers_url":"https://api.github.com/users/jake-at-work/followers","following_url":"https://api.github.com/users/jake-at-work/following{/other_user}","gists_url":"https://api.github.com/users/jake-at-work/gists{/gist_id}","starred_url":"https://api.github.com/users/jake-at-work/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jake-at-work/subscriptions","organizations_url":"https://api.github.com/users/jake-at-work/orgs","repos_url":"https://api.github.com/users/jake-at-work/repos","events_url":"https://api.github.com/users/jake-at-work/events{/privacy}","received_events_url":"https://api.github.com/users/jake-at-work/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T17:12:54Z","updated_at":"2020-04-20T17:12:54Z","author_association":"CONTRIBUTOR","body":"Very specifically we use a plugin called facet that creates all these things for us.\r\nhttps://plugins.gradle.org/plugin/nebula.facet","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/616692247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/616863201","html_url":"https://github.com/apache/geode/pull/4975#issuecomment-616863201","issue_url":"https://api.github.com/repos/apache/geode/issues/4975","id":616863201,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjg2MzIwMQ==","user":{"login":"davebarnes97","id":13138489,"node_id":"MDQ6VXNlcjEzMTM4NDg5","avatar_url":"https://avatars.githubusercontent.com/u/13138489?v=4","gravatar_id":"","url":"https://api.github.com/users/davebarnes97","html_url":"https://github.com/davebarnes97","followers_url":"https://api.github.com/users/davebarnes97/followers","following_url":"https://api.github.com/users/davebarnes97/following{/other_user}","gists_url":"https://api.github.com/users/davebarnes97/gists{/gist_id}","starred_url":"https://api.github.com/users/davebarnes97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davebarnes97/subscriptions","organizations_url":"https://api.github.com/users/davebarnes97/orgs","repos_url":"https://api.github.com/users/davebarnes97/repos","events_url":"https://api.github.com/users/davebarnes97/events{/privacy}","received_events_url":"https://api.github.com/users/davebarnes97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T23:27:51Z","updated_at":"2020-04-20T23:27:51Z","author_association":"CONTRIBUTOR","body":"Thanks for this contribution, @alb3rtobr. \r\nFor the gfsh command reference writeup on change loglevel, I'd like to suggest a minor re-wording, which replaces future tense with present tense.\r\n\r\nNow:\r\nChanges the logging level on specified members. This command will take effect if the default <%=vars.product_name%> logging configuration is used.\r\n\r\nIn case of using custom `Log4J` configuration, this command will not work unless the member whose logging level you want to change was started using the `--J=-Dgeode.LOG_LEVEL_UPDATE_OCCURS=ALWAYS` system property.\r\n\r\nSuggested revision:\r\nChanges the logging level on specified members. This command takes effect if the default <%=vars.product_name%> logging configuration is used.\r\n\r\nWhen using a custom `Log4J` configuration, this command takes effect only if the member whose logging level you want to change was started using the `--J=-Dgeode.LOG_LEVEL_UPDATE_OCCURS=ALWAYS` system property.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/616863201/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/616957705","html_url":"https://github.com/apache/geode/pull/4928#issuecomment-616957705","issue_url":"https://api.github.com/repos/apache/geode/issues/4928","id":616957705,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjk1NzcwNQ==","user":{"login":"albertogpz","id":26227887,"node_id":"MDQ6VXNlcjI2MjI3ODg3","avatar_url":"https://avatars.githubusercontent.com/u/26227887?v=4","gravatar_id":"","url":"https://api.github.com/users/albertogpz","html_url":"https://github.com/albertogpz","followers_url":"https://api.github.com/users/albertogpz/followers","following_url":"https://api.github.com/users/albertogpz/following{/other_user}","gists_url":"https://api.github.com/users/albertogpz/gists{/gist_id}","starred_url":"https://api.github.com/users/albertogpz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertogpz/subscriptions","organizations_url":"https://api.github.com/users/albertogpz/orgs","repos_url":"https://api.github.com/users/albertogpz/repos","events_url":"https://api.github.com/users/albertogpz/events{/privacy}","received_events_url":"https://api.github.com/users/albertogpz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T05:18:20Z","updated_at":"2020-04-21T05:18:20Z","author_association":"CONTRIBUTOR","body":"> Sorry, I haven't had time to dig deeply into this PR.\r\n> \r\n> There were some concerns on the rfc for interleaving or out of ordering of events. I might have missed it, but were there some tests that can prove that we don't get out of order events on the receiving side?\r\n\r\nAs pointed out in the RFC, with this feature there could be some reordering of events but it would happen on events so close in time that it could not even be assured that the original order in the queue was the right order.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/616957705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/617301600","html_url":"https://github.com/apache/geode/pull/4949#issuecomment-617301600","issue_url":"https://api.github.com/repos/apache/geode/issues/4949","id":617301600,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzMwMTYwMA==","user":{"login":"upthewaterspout","id":857521,"node_id":"MDQ6VXNlcjg1NzUyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/857521?v=4","gravatar_id":"","url":"https://api.github.com/users/upthewaterspout","html_url":"https://github.com/upthewaterspout","followers_url":"https://api.github.com/users/upthewaterspout/followers","following_url":"https://api.github.com/users/upthewaterspout/following{/other_user}","gists_url":"https://api.github.com/users/upthewaterspout/gists{/gist_id}","starred_url":"https://api.github.com/users/upthewaterspout/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/upthewaterspout/subscriptions","organizations_url":"https://api.github.com/users/upthewaterspout/orgs","repos_url":"https://api.github.com/users/upthewaterspout/repos","events_url":"https://api.github.com/users/upthewaterspout/events{/privacy}","received_events_url":"https://api.github.com/users/upthewaterspout/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T17:24:56Z","updated_at":"2020-04-21T17:24:56Z","author_association":"CONTRIBUTOR","body":"JMXMBeanReconnectDUnitTest failed, but that is not related to this test.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/617301600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/617442287","html_url":"https://github.com/apache/geode/pull/4963#issuecomment-617442287","issue_url":"https://api.github.com/repos/apache/geode/issues/4963","id":617442287,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzQ0MjI4Nw==","user":{"login":"upthewaterspout","id":857521,"node_id":"MDQ6VXNlcjg1NzUyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/857521?v=4","gravatar_id":"","url":"https://api.github.com/users/upthewaterspout","html_url":"https://github.com/upthewaterspout","followers_url":"https://api.github.com/users/upthewaterspout/followers","following_url":"https://api.github.com/users/upthewaterspout/following{/other_user}","gists_url":"https://api.github.com/users/upthewaterspout/gists{/gist_id}","starred_url":"https://api.github.com/users/upthewaterspout/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/upthewaterspout/subscriptions","organizations_url":"https://api.github.com/users/upthewaterspout/orgs","repos_url":"https://api.github.com/users/upthewaterspout/repos","events_url":"https://api.github.com/users/upthewaterspout/events{/privacy}","received_events_url":"https://api.github.com/users/upthewaterspout/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T22:16:25Z","updated_at":"2020-04-22T16:37:44Z","author_association":"CONTRIBUTOR","body":"The combination of a `ThreadLocal<Thread>`, a `CountDownLatch`, and `synchronized()` seems a bit complicated.\r\n\r\nThe whole close block is already inside of  `synchronized(GemFireCacheImpl.class) {}`. It seems like the race condition is just with the early out at the beginning of close:\r\n\r\n```\r\nif (isClosed()) {\r\n      return;\r\n}\r\n```\r\n\r\nCouldn't that just be changed to \r\n\r\n```\r\nif (skipWait && isClosed()) {\r\n      return;\r\n}\r\n```\r\n\r\nTo handle thread reentering cache.close, just don't add a skipWait check inside the synchronized block here:\r\n\r\n```\r\nsynchronized (GemFireCacheImpl.class) {\r\n      // ALL CODE FOR CLOSE SHOULD NOW BE UNDER STATIC SYNCHRONIZATION OF GemFireCacheImpl.class\r\n      // static synchronization is necessary due to static resources\r\n      if (isClosed()) {\r\n\r\n====> Remove the below check\r\n        if (!skipAwait...)\r\n```\r\n\r\nAny code that gets into the synchronized block is guaranteed that either (a) the cache has not been closed by another thread (b) the cache is completely closed already or (c) the thread is reentering cache close, in which case it should early out.\r\n\r\nThere is probably some wrinkle that I'm missing here...","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/617442287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/617470775","html_url":"https://github.com/apache/geode/pull/4909#issuecomment-617470775","issue_url":"https://api.github.com/repos/apache/geode/issues/4909","id":617470775,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzQ3MDc3NQ==","user":{"login":"DonalEvans","id":17314657,"node_id":"MDQ6VXNlcjE3MzE0NjU3","avatar_url":"https://avatars.githubusercontent.com/u/17314657?v=4","gravatar_id":"","url":"https://api.github.com/users/DonalEvans","html_url":"https://github.com/DonalEvans","followers_url":"https://api.github.com/users/DonalEvans/followers","following_url":"https://api.github.com/users/DonalEvans/following{/other_user}","gists_url":"https://api.github.com/users/DonalEvans/gists{/gist_id}","starred_url":"https://api.github.com/users/DonalEvans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DonalEvans/subscriptions","organizations_url":"https://api.github.com/users/DonalEvans/orgs","repos_url":"https://api.github.com/users/DonalEvans/repos","events_url":"https://api.github.com/users/DonalEvans/events{/privacy}","received_events_url":"https://api.github.com/users/DonalEvans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T23:56:42Z","updated_at":"2020-04-21T23:56:42Z","author_association":"CONTRIBUTOR","body":"> it seems like there are several classes that are a tweaked copy of existing classes - RestoreRedundancyBuilderImpl, RestoreRedundancyDirector, RegionRedundancyStatus. Is there a way we could extend/generalize the existing classes rather than copy/paste/tweak?\r\n\r\nI've modified `CompositeDirector` slightly to avoid the need for the `RestoreRedundancyDirector` class, but as described in my comment above, doing the same for `RestoreRedundancyBuilderImpl` would be very difficult at this point. As for `RegionRedundancyStatus`; it's fundamentally very different from `RebalanceResults` in terms of the information it contains, since it represents a snapshot of the state of a region rather than the work done to get it to that state (unless I've missed something here and there is another class that already exists and is similar to `RegionRedundancyStatus`).","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/617470775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/617642403","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-617642403","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":617642403,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzY0MjQwMw==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T08:47:00Z","updated_at":"2020-04-22T08:47:00Z","author_association":"CONTRIBUTOR","body":"@bschuchardt @alb3rtobr : I'm still analysing the issue and seeing whether I can reproduce it consistently, so far it's proving quite elusive as it only fails once or twice in around 100 runs of my test. Will keep you posted.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/617642403/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/617771032","html_url":"https://github.com/apache/geode/pull/4861#issuecomment-617771032","issue_url":"https://api.github.com/repos/apache/geode/issues/4861","id":617771032,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzc3MTAzMg==","user":{"login":"jdeppe-pivotal","id":5313410,"node_id":"MDQ6VXNlcjUzMTM0MTA=","avatar_url":"https://avatars.githubusercontent.com/u/5313410?v=4","gravatar_id":"","url":"https://api.github.com/users/jdeppe-pivotal","html_url":"https://github.com/jdeppe-pivotal","followers_url":"https://api.github.com/users/jdeppe-pivotal/followers","following_url":"https://api.github.com/users/jdeppe-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/jdeppe-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/jdeppe-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdeppe-pivotal/subscriptions","organizations_url":"https://api.github.com/users/jdeppe-pivotal/orgs","repos_url":"https://api.github.com/users/jdeppe-pivotal/repos","events_url":"https://api.github.com/users/jdeppe-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/jdeppe-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T13:13:08Z","updated_at":"2020-04-22T13:13:08Z","author_association":"CONTRIBUTOR","body":"Since we're actively working on various approaches to this, and it's probably still going to take a while, I'm going to close this PR for now.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/617771032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/617814149","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-617814149","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":617814149,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzgxNDE0OQ==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T14:29:31Z","updated_at":"2020-04-22T14:29:31Z","author_association":"CONTRIBUTOR","body":"One additional comment regarding the following waning message:\r\n\r\n```\r\n[warn 2020/04/18 23:44:22.757 PDT <ServerConnection on port 29019 Thread 1> tid=0x298] Unable to ping non-member rs-FullRegression19040559a2i32xlarge-hydra-client-63(bridgegemfire1_host1_4749:4749)<ec><v39>:41003 for client identity(rs-FullRegression19040559a2i32xlarge-hydra-client-63(edgegemfire3_host1_1071:1071:loner):50046:5a182991:edgegemfire3_host1_1071,connection=2\r\n```\r\n\r\nThe above is logged by member `bridgegemfire1_host1_4749` in the tests, exactly the member to which the `ping` command was sent... this warning is logged within the `pingCorrectServer` method which, unless I'm missing something, shouldn't be invoked at all if this member is the actual recipient for the `ping` message. Maybe `!myID.equals(targetServer)` is not working as expected?.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/617814149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/617861442","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-617861442","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":617861442,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzg2MTQ0Mg==","user":{"login":"alb3rtobr","id":5363407,"node_id":"MDQ6VXNlcjUzNjM0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5363407?v=4","gravatar_id":"","url":"https://api.github.com/users/alb3rtobr","html_url":"https://github.com/alb3rtobr","followers_url":"https://api.github.com/users/alb3rtobr/followers","following_url":"https://api.github.com/users/alb3rtobr/following{/other_user}","gists_url":"https://api.github.com/users/alb3rtobr/gists{/gist_id}","starred_url":"https://api.github.com/users/alb3rtobr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alb3rtobr/subscriptions","organizations_url":"https://api.github.com/users/alb3rtobr/orgs","repos_url":"https://api.github.com/users/alb3rtobr/repos","events_url":"https://api.github.com/users/alb3rtobr/events{/privacy}","received_events_url":"https://api.github.com/users/alb3rtobr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T15:47:04Z","updated_at":"2020-04-22T15:47:04Z","author_association":"CONTRIBUTOR","body":"> One additional comment regarding the following waning message:\r\n> \r\n> ```\r\n> [warn 2020/04/18 23:44:22.757 PDT <ServerConnection on port 29019 Thread 1> tid=0x298] Unable to ping non-member rs-FullRegression19040559a2i32xlarge-hydra-client-63(bridgegemfire1_host1_4749:4749)<ec><v39>:41003 for client identity(rs-FullRegression19040559a2i32xlarge-hydra-client-63(edgegemfire3_host1_1071:1071:loner):50046:5a182991:edgegemfire3_host1_1071,connection=2\r\n> ```\r\n> \r\n> The above is logged by member `bridgegemfire1_host1_4749` in the tests, exactly the member to which the `ping` command was sent... this warning is logged within the `pingCorrectServer` method which, unless I'm missing something, shouldn't be invoked at all if this member is the actual recipient for the `ping` message. Maybe `!myID.equals(targetServer)` is not working as expected?.\r\n\r\nI have added a log right after the comparision to check which values were considered different. I have created two clusters with two servers, and in my case I dont see the comparision is not working, this is an example:\r\n```\r\n[info 2020/04/22 15:05:01.338 GMT <ServerConnection on port 32000 Thread 12> tid=0x56] ALBERTO - MyID=172.17.0.3(server-0:85)<v1>:41000 - target=172.17.0.9(server-1:84)<v2>:41000\r\n```\r\nCould you add the same log to your code?","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/617861442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/617866275","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-617866275","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":617866275,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzg2NjI3NQ==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T15:54:41Z","updated_at":"2020-04-22T15:54:41Z","author_association":"CONTRIBUTOR","body":"@alb3rtobr: Yes, I've added several logging messages to trace the `PING` message from start to finish, unfortunately I've been having some infrastructure issues the whole day and wasn't able to run the tests again with the logging changes. Hopefully will have something to share tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/617866275/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/617886184","html_url":"https://github.com/apache/geode/pull/4963#issuecomment-617886184","issue_url":"https://api.github.com/repos/apache/geode/issues/4963","id":617886184,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzg4NjE4NA==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T16:27:39Z","updated_at":"2020-04-22T16:28:06Z","author_association":"CONTRIBUTOR","body":"@upthewaterspout, I have some questions about your review of Cache.close() changes.\r\n```\r\n  @Override\r\n  public void close(String reason, Throwable systemFailureCause, boolean keepAlive,\r\n      boolean keepDS, boolean skipAwait) {\r\n    securityService.close();\r\n    if (isClosed()) {\r\n      if (!skipAwait && !Thread.currentThread().equals(CLOSING_THREAD.get())) {\r\n        waitUntilClosed();\r\n      }\r\n      return;\r\n    }\r\n    if (!keepDS && systemFailureCause == null\r\n        && (isReconnecting() || system.getReconnectedSystem() != null)) {\r\n      logger.debug(\r\n          \"Cache is shutting down distributed system connection. isReconnecting={} reconnectedSystem={} keepAlive={} keepDS={}\",\r\n          isReconnecting(), system.getReconnectedSystem(), keepAlive, keepDS);\r\n      system.stopReconnectingNoDisconnect();\r\n      if (system.getReconnectedSystem() != null) {\r\n        system.getReconnectedSystem().disconnect();\r\n      }\r\n      return;\r\n    }\r\n    synchronized (GemFireCacheImpl.class) {\r\n      // ALL CODE FOR CLOSE SHOULD NOW BE UNDER STATIC SYNCHRONIZATION OF GemFireCacheImpl.class\r\n      // static synchronization is necessary due to static resources\r\n      if (isClosed()) {\r\n        if (!skipAwait && !Thread.currentThread().equals(CLOSING_THREAD.get())) {\r\n          waitUntilClosed();\r\n        }\r\n        return;\r\n      }\r\n      CLOSING_THREAD.set(Thread.currentThread());\r\n```\r\nIf I remove that 1st early-out, then all subsequent calls will repeatedly execute the block about the reconnecting system. I’ve read the code that it invokes — such as \r\n```\r\nsystem.stopReconnectingNoDisconnect();\r\n```\r\nand \r\n```\r\nsystem.getReconnectedSystem().disconnect()\r\n```\r\n… so far, I’m not convinced that it’s safe to remove the 1st early out. Are you sure it’s safe to invoke these calls more than once? The current behavior never invokes them more than once.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/617886184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618094081","html_url":"https://github.com/apache/geode/pull/4987#issuecomment-618094081","issue_url":"https://api.github.com/repos/apache/geode/issues/4987","id":618094081,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODA5NDA4MQ==","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T23:39:35Z","updated_at":"2020-04-22T23:39:35Z","author_association":"NONE","body":"This pull request **introduces 1 alert** when merging 90928f3c68edbb010f103755a9279e5067fbafe5 into e87b3b7ab7cb48d2a4be9b114443dda56bfd9d70 - [view on LGTM.com](https://lgtm.com/projects/g/apache/geode/rev/pr-8301776a6101a07aedfd1e855dfb524329ff556c)\n\n**new alerts:**\n\n* 1 for Non\\-synchronized override of synchronized method","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618094081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618198674","html_url":"https://github.com/apache/geode/pull/4395#issuecomment-618198674","issue_url":"https://api.github.com/repos/apache/geode/issues/4395","id":618198674,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODE5ODY3NA==","user":{"login":"mkevo","id":48509719,"node_id":"MDQ6VXNlcjQ4NTA5NzE5","avatar_url":"https://avatars.githubusercontent.com/u/48509719?v=4","gravatar_id":"","url":"https://api.github.com/users/mkevo","html_url":"https://github.com/mkevo","followers_url":"https://api.github.com/users/mkevo/followers","following_url":"https://api.github.com/users/mkevo/following{/other_user}","gists_url":"https://api.github.com/users/mkevo/gists{/gist_id}","starred_url":"https://api.github.com/users/mkevo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkevo/subscriptions","organizations_url":"https://api.github.com/users/mkevo/orgs","repos_url":"https://api.github.com/users/mkevo/repos","events_url":"https://api.github.com/users/mkevo/events{/privacy}","received_events_url":"https://api.github.com/users/mkevo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T06:07:26Z","updated_at":"2020-04-23T06:07:26Z","author_association":"CONTRIBUTOR","body":"> We are still getting stack overflow errors in my rolling upgrade use cases, let me investigate a bit more.\r\n\r\nHi @nabarunnag, can you share your tests with us so we can help you? Also internal tests should not block merging to an open source project. ","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618198674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618199863","html_url":"https://github.com/apache/geode/pull/4975#issuecomment-618199863","issue_url":"https://api.github.com/repos/apache/geode/issues/4975","id":618199863,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODE5OTg2Mw==","user":{"login":"mkevo","id":48509719,"node_id":"MDQ6VXNlcjQ4NTA5NzE5","avatar_url":"https://avatars.githubusercontent.com/u/48509719?v=4","gravatar_id":"","url":"https://api.github.com/users/mkevo","html_url":"https://github.com/mkevo","followers_url":"https://api.github.com/users/mkevo/followers","following_url":"https://api.github.com/users/mkevo/following{/other_user}","gists_url":"https://api.github.com/users/mkevo/gists{/gist_id}","starred_url":"https://api.github.com/users/mkevo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkevo/subscriptions","organizations_url":"https://api.github.com/users/mkevo/orgs","repos_url":"https://api.github.com/users/mkevo/repos","events_url":"https://api.github.com/users/mkevo/events{/privacy}","received_events_url":"https://api.github.com/users/mkevo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T06:11:11Z","updated_at":"2020-04-23T06:16:20Z","author_association":"CONTRIBUTOR","body":"Since it was changed according to the comment, I will merge this.\r\nAlso I created a new ticket to easier track this in the future.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618199863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618210584","html_url":"https://github.com/apache/geode/pull/4387#issuecomment-618210584","issue_url":"https://api.github.com/repos/apache/geode/issues/4387","id":618210584,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODIxMDU4NA==","user":{"login":"mivanac","id":48509724,"node_id":"MDQ6VXNlcjQ4NTA5NzI0","avatar_url":"https://avatars.githubusercontent.com/u/48509724?v=4","gravatar_id":"","url":"https://api.github.com/users/mivanac","html_url":"https://github.com/mivanac","followers_url":"https://api.github.com/users/mivanac/followers","following_url":"https://api.github.com/users/mivanac/following{/other_user}","gists_url":"https://api.github.com/users/mivanac/gists{/gist_id}","starred_url":"https://api.github.com/users/mivanac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mivanac/subscriptions","organizations_url":"https://api.github.com/users/mivanac/orgs","repos_url":"https://api.github.com/users/mivanac/repos","events_url":"https://api.github.com/users/mivanac/events{/privacy}","received_events_url":"https://api.github.com/users/mivanac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T06:41:47Z","updated_at":"2020-04-23T06:41:47Z","author_association":"CONTRIBUTOR","body":"Hi,\r\nAre there any updates regarding this PR?","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618210584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618315601","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-618315601","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":618315601,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODMxNTYwMQ==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T10:16:42Z","updated_at":"2020-04-23T10:17:35Z","author_association":"CONTRIBUTOR","body":"@alb3rtobr @bschuchardt : added some more analysis and comments regarding one of the failures [here](https://issues.apache.org/jira/browse/GEODE-8004?focusedCommentId=17090468&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17090468).\r\nI will keep analysing the other issue (harder to reproduce) and update the ticket as soon as I have something to share.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618315601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618402980","html_url":"https://github.com/apache/geode/pull/4988#issuecomment-618402980","issue_url":"https://api.github.com/repos/apache/geode/issues/4988","id":618402980,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQwMjk4MA==","user":{"login":"jmelchio","id":687348,"node_id":"MDQ6VXNlcjY4NzM0OA==","avatar_url":"https://avatars.githubusercontent.com/u/687348?v=4","gravatar_id":"","url":"https://api.github.com/users/jmelchio","html_url":"https://github.com/jmelchio","followers_url":"https://api.github.com/users/jmelchio/followers","following_url":"https://api.github.com/users/jmelchio/following{/other_user}","gists_url":"https://api.github.com/users/jmelchio/gists{/gist_id}","starred_url":"https://api.github.com/users/jmelchio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmelchio/subscriptions","organizations_url":"https://api.github.com/users/jmelchio/orgs","repos_url":"https://api.github.com/users/jmelchio/repos","events_url":"https://api.github.com/users/jmelchio/events{/privacy}","received_events_url":"https://api.github.com/users/jmelchio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T13:45:47Z","updated_at":"2020-04-23T13:45:47Z","author_association":"CONTRIBUTOR","body":"> we probably need to add a test to assert the existence of the pulse.log in the geode-assembly module. Will help you add one tomorrow.\r\n\r\nIt appears that the `pulse.log` file is automatically created in the root directory of the locator.\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618402980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618449100","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-618449100","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":618449100,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQ0OTEwMA==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T15:04:33Z","updated_at":"2020-04-23T15:04:33Z","author_association":"CONTRIBUTOR","body":"@alb3rtobr \r\nI've been discussing the issue with @bschuchardt and we think you can use `MemberIdentifier.compareTo(other, compareMemberData, compareViewIDs)` to execute the member comparison instead of `equals`, that would guarantee that the `ping` is handled by the current member when the only difference between `myID` and `targetServer` is the `viewId`.\r\nSounds feasible?.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618449100/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618452679","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-618452679","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":618452679,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQ1MjY3OQ==","user":{"login":"alb3rtobr","id":5363407,"node_id":"MDQ6VXNlcjUzNjM0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5363407?v=4","gravatar_id":"","url":"https://api.github.com/users/alb3rtobr","html_url":"https://github.com/alb3rtobr","followers_url":"https://api.github.com/users/alb3rtobr/followers","following_url":"https://api.github.com/users/alb3rtobr/following{/other_user}","gists_url":"https://api.github.com/users/alb3rtobr/gists{/gist_id}","starred_url":"https://api.github.com/users/alb3rtobr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alb3rtobr/subscriptions","organizations_url":"https://api.github.com/users/alb3rtobr/orgs","repos_url":"https://api.github.com/users/alb3rtobr/repos","events_url":"https://api.github.com/users/alb3rtobr/events{/privacy}","received_events_url":"https://api.github.com/users/alb3rtobr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T15:10:10Z","updated_at":"2020-04-23T15:10:10Z","author_association":"CONTRIBUTOR","body":"> @alb3rtobr\r\n> I've been discussing the issue with @bschuchardt and we think you can use `MemberIdentifier.compareTo(other, compareMemberData, compareViewIDs)` to execute the member comparison instead of `equals`, that would guarantee that the `ping` is handled by the current member when the only difference between `myID` and `targetServer` is the `viewId`.\r\n> Sounds feasible?.\r\n\r\nI was waiting for Bruce comments after reading your detailed analysis in the jira ticket (thanks for that), and I already had that method in mind, so it sounds fine for me.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618452679/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618488247","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-618488247","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":618488247,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQ4ODI0Nw==","user":{"login":"bschuchardt","id":7441204,"node_id":"MDQ6VXNlcjc0NDEyMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7441204?v=4","gravatar_id":"","url":"https://api.github.com/users/bschuchardt","html_url":"https://github.com/bschuchardt","followers_url":"https://api.github.com/users/bschuchardt/followers","following_url":"https://api.github.com/users/bschuchardt/following{/other_user}","gists_url":"https://api.github.com/users/bschuchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/bschuchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschuchardt/subscriptions","organizations_url":"https://api.github.com/users/bschuchardt/orgs","repos_url":"https://api.github.com/users/bschuchardt/repos","events_url":"https://api.github.com/users/bschuchardt/events{/privacy}","received_events_url":"https://api.github.com/users/bschuchardt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T16:06:10Z","updated_at":"2020-04-23T16:06:10Z","author_association":"CONTRIBUTOR","body":"however, if that comparison returns true it should still result in an EXCEPTION being sent to the client so that the client knows that the server it intended to ping is no longer in the cluster.  Then it can clean up its endpoint info for the old server.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618488247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618527691","html_url":"https://github.com/apache/geode/pull/4963#issuecomment-618527691","issue_url":"https://api.github.com/repos/apache/geode/issues/4963","id":618527691,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODUyNzY5MQ==","user":{"login":"upthewaterspout","id":857521,"node_id":"MDQ6VXNlcjg1NzUyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/857521?v=4","gravatar_id":"","url":"https://api.github.com/users/upthewaterspout","html_url":"https://github.com/upthewaterspout","followers_url":"https://api.github.com/users/upthewaterspout/followers","following_url":"https://api.github.com/users/upthewaterspout/following{/other_user}","gists_url":"https://api.github.com/users/upthewaterspout/gists{/gist_id}","starred_url":"https://api.github.com/users/upthewaterspout/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/upthewaterspout/subscriptions","organizations_url":"https://api.github.com/users/upthewaterspout/orgs","repos_url":"https://api.github.com/users/upthewaterspout/repos","events_url":"https://api.github.com/users/upthewaterspout/events{/privacy}","received_events_url":"https://api.github.com/users/upthewaterspout/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T17:16:20Z","updated_at":"2020-04-23T17:16:20Z","author_association":"CONTRIBUTOR","body":"> … so far, I’m not convinced that it’s safe to remove the 1st early out. Are you sure it’s safe to invoke these calls more than once? The current behavior never invokes them more than once.\r\n\r\nIt looks like it might be ok to have a second thread go in there? If DistributedSystem.disconnect() is safe to call twice, it should be ok. It looks like that method also synchronizes on GemFireCacheImpl and also has some interesting wait logic to wait until other threads have finished disconnecting. Hmm.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618527691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/618684185","html_url":"https://github.com/apache/geode/pull/4987#issuecomment-618684185","issue_url":"https://api.github.com/repos/apache/geode/issues/4987","id":618684185,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODY4NDE4NQ==","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T21:34:23Z","updated_at":"2020-04-23T21:34:23Z","author_association":"NONE","body":"This pull request **introduces 1 alert** when merging 65cdf021720690a0e5274cb10d5833c512f31cfe into e87b3b7ab7cb48d2a4be9b114443dda56bfd9d70 - [view on LGTM.com](https://lgtm.com/projects/g/apache/geode/rev/pr-b3ed1961faa0ce57c9695f210a8d7b61326c24e8)\n\n**new alerts:**\n\n* 1 for Non\\-synchronized override of synchronized method","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/618684185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/619030061","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-619030061","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":619030061,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTAzMDA2MQ==","user":{"login":"alb3rtobr","id":5363407,"node_id":"MDQ6VXNlcjUzNjM0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5363407?v=4","gravatar_id":"","url":"https://api.github.com/users/alb3rtobr","html_url":"https://github.com/alb3rtobr","followers_url":"https://api.github.com/users/alb3rtobr/followers","following_url":"https://api.github.com/users/alb3rtobr/following{/other_user}","gists_url":"https://api.github.com/users/alb3rtobr/gists{/gist_id}","starred_url":"https://api.github.com/users/alb3rtobr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alb3rtobr/subscriptions","organizations_url":"https://api.github.com/users/alb3rtobr/orgs","repos_url":"https://api.github.com/users/alb3rtobr/repos","events_url":"https://api.github.com/users/alb3rtobr/events{/privacy}","received_events_url":"https://api.github.com/users/alb3rtobr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T14:03:35Z","updated_at":"2020-04-24T14:03:35Z","author_association":"CONTRIBUTOR","body":"> @alb3rtobr: I've executed the tests again and still see some failures, see my inline comments within the `Ping.java` class.\r\n> As a side note, I still don't see tests added to this pull request (only one new, which is really scarce considering the amount of changes introduced through `GEODE-7565`), please add multiple tests to verify all the code changes and additions.\r\n\r\nI hope last two commits solve the failure I introduced, sorry for that. ","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/619030061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/619040254","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-619040254","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":619040254,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTA0MDI1NA==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T14:21:33Z","updated_at":"2020-04-24T14:21:33Z","author_association":"CONTRIBUTOR","body":"> I hope last two commits solve the failure I introduced, sorry for that.\r\n\r\nThanks, I need to have a look and run the tests again; will let you know the results early next week.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/619040254/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/619138208","html_url":"https://github.com/apache/geode/pull/4395#issuecomment-619138208","issue_url":"https://api.github.com/repos/apache/geode/issues/4395","id":619138208,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTEzODIwOA==","user":{"login":"nabarunnag","id":8689859,"node_id":"MDQ6VXNlcjg2ODk4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8689859?v=4","gravatar_id":"","url":"https://api.github.com/users/nabarunnag","html_url":"https://github.com/nabarunnag","followers_url":"https://api.github.com/users/nabarunnag/followers","following_url":"https://api.github.com/users/nabarunnag/following{/other_user}","gists_url":"https://api.github.com/users/nabarunnag/gists{/gist_id}","starred_url":"https://api.github.com/users/nabarunnag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabarunnag/subscriptions","organizations_url":"https://api.github.com/users/nabarunnag/orgs","repos_url":"https://api.github.com/users/nabarunnag/repos","events_url":"https://api.github.com/users/nabarunnag/events{/privacy}","received_events_url":"https://api.github.com/users/nabarunnag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T17:11:27Z","updated_at":"2020-04-24T17:25:14Z","author_association":"CONTRIBUTOR","body":"> > We are still getting stack overflow errors in my rolling upgrade use cases, let me investigate a bit more.\r\n> \r\n> Hi @nabarunnag, can you share your tests with us so we can help you? Also internal tests should not block merging to an open source project.\r\n\r\nWe are in the process of open-sourcing the tests. More details incoming. \r\n\r\nSimple root cause is: When there is a newer version gemfire with older version, the aysnc listener is blocked waiting on the index repository to be created, but the queues continue to get filled up and ultimately result in overflow. I will have a PR up soon which solves these issues.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/619138208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/619140086","html_url":"https://github.com/apache/geode/pull/4395#issuecomment-619140086","issue_url":"https://api.github.com/repos/apache/geode/issues/4395","id":619140086,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTE0MDA4Ng==","user":{"login":"nabarunnag","id":8689859,"node_id":"MDQ6VXNlcjg2ODk4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8689859?v=4","gravatar_id":"","url":"https://api.github.com/users/nabarunnag","html_url":"https://github.com/nabarunnag","followers_url":"https://api.github.com/users/nabarunnag/followers","following_url":"https://api.github.com/users/nabarunnag/following{/other_user}","gists_url":"https://api.github.com/users/nabarunnag/gists{/gist_id}","starred_url":"https://api.github.com/users/nabarunnag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabarunnag/subscriptions","organizations_url":"https://api.github.com/users/nabarunnag/orgs","repos_url":"https://api.github.com/users/nabarunnag/repos","events_url":"https://api.github.com/users/nabarunnag/events{/privacy}","received_events_url":"https://api.github.com/users/nabarunnag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T17:14:39Z","updated_at":"2020-04-24T17:14:39Z","author_association":"CONTRIBUTOR","body":"@mkevo It is nearly complete, but the tests may be exposing another issue with the geode code base (un-related to lucene) which I am trying to fix, but I was unable to get to (other commitments) .. I will try to get it fixed shortly.\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/619140086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620132875","html_url":"https://github.com/apache/geode/pull/4826#issuecomment-620132875","issue_url":"https://api.github.com/repos/apache/geode/issues/4826","id":620132875,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDEzMjg3NQ==","user":{"login":"nabarunnag","id":8689859,"node_id":"MDQ6VXNlcjg2ODk4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8689859?v=4","gravatar_id":"","url":"https://api.github.com/users/nabarunnag","html_url":"https://github.com/nabarunnag","followers_url":"https://api.github.com/users/nabarunnag/followers","following_url":"https://api.github.com/users/nabarunnag/following{/other_user}","gists_url":"https://api.github.com/users/nabarunnag/gists{/gist_id}","starred_url":"https://api.github.com/users/nabarunnag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabarunnag/subscriptions","organizations_url":"https://api.github.com/users/nabarunnag/orgs","repos_url":"https://api.github.com/users/nabarunnag/repos","events_url":"https://api.github.com/users/nabarunnag/events{/privacy}","received_events_url":"https://api.github.com/users/nabarunnag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T17:43:35Z","updated_at":"2020-04-27T17:43:35Z","author_association":"CONTRIBUTOR","body":"@nabarunnag ","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620132875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620147006","html_url":"https://github.com/apache/geode/pull/5001#issuecomment-620147006","issue_url":"https://api.github.com/repos/apache/geode/issues/5001","id":620147006,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDE0NzAwNg==","user":{"login":"jinmeiliao","id":15638418,"node_id":"MDQ6VXNlcjE1NjM4NDE4","avatar_url":"https://avatars.githubusercontent.com/u/15638418?v=4","gravatar_id":"","url":"https://api.github.com/users/jinmeiliao","html_url":"https://github.com/jinmeiliao","followers_url":"https://api.github.com/users/jinmeiliao/followers","following_url":"https://api.github.com/users/jinmeiliao/following{/other_user}","gists_url":"https://api.github.com/users/jinmeiliao/gists{/gist_id}","starred_url":"https://api.github.com/users/jinmeiliao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinmeiliao/subscriptions","organizations_url":"https://api.github.com/users/jinmeiliao/orgs","repos_url":"https://api.github.com/users/jinmeiliao/repos","events_url":"https://api.github.com/users/jinmeiliao/events{/privacy}","received_events_url":"https://api.github.com/users/jinmeiliao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T18:11:44Z","updated_at":"2020-04-27T18:11:44Z","author_association":"MEMBER","body":"do we need to have the build process to pick up this json file and put it in the release folder?","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620147006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620268819","html_url":"https://github.com/apache/geode/pull/5001#issuecomment-620268819","issue_url":"https://api.github.com/repos/apache/geode/issues/5001","id":620268819,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDI2ODgxOQ==","user":{"login":"jmelchio","id":687348,"node_id":"MDQ6VXNlcjY4NzM0OA==","avatar_url":"https://avatars.githubusercontent.com/u/687348?v=4","gravatar_id":"","url":"https://api.github.com/users/jmelchio","html_url":"https://github.com/jmelchio","followers_url":"https://api.github.com/users/jmelchio/followers","following_url":"https://api.github.com/users/jmelchio/following{/other_user}","gists_url":"https://api.github.com/users/jmelchio/gists{/gist_id}","starred_url":"https://api.github.com/users/jmelchio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmelchio/subscriptions","organizations_url":"https://api.github.com/users/jmelchio/orgs","repos_url":"https://api.github.com/users/jmelchio/repos","events_url":"https://api.github.com/users/jmelchio/events{/privacy}","received_events_url":"https://api.github.com/users/jmelchio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T22:28:01Z","updated_at":"2020-04-27T22:28:01Z","author_association":"CONTRIBUTOR","body":"> do we need to have the build process to pick up this json file and put it in the release folder?\r\n\r\nI'm not sure to be honest. I looked at the related ticket from the K8S team and it seems to me that they need to their own repo for the client code and at that point something can be added to the script to push the swagger JSON to that repo.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620268819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620307053","html_url":"https://github.com/apache/geode/pull/4928#issuecomment-620307053","issue_url":"https://api.github.com/repos/apache/geode/issues/4928","id":620307053,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDMwNzA1Mw==","user":{"login":"boglesby","id":1002028,"node_id":"MDQ6VXNlcjEwMDIwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1002028?v=4","gravatar_id":"","url":"https://api.github.com/users/boglesby","html_url":"https://github.com/boglesby","followers_url":"https://api.github.com/users/boglesby/followers","following_url":"https://api.github.com/users/boglesby/following{/other_user}","gists_url":"https://api.github.com/users/boglesby/gists{/gist_id}","starred_url":"https://api.github.com/users/boglesby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boglesby/subscriptions","organizations_url":"https://api.github.com/users/boglesby/orgs","repos_url":"https://api.github.com/users/boglesby/repos","events_url":"https://api.github.com/users/boglesby/events{/privacy}","received_events_url":"https://api.github.com/users/boglesby/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T00:31:57Z","updated_at":"2020-04-28T00:31:57Z","author_association":"CONTRIBUTOR","body":"I ran a test with this scenario:\r\n\r\n- 2 colocated partitioned regions called customer and order attached to a parallel sender\r\n- 1 replicated region called customer_creation_time attached to a serial sender\r\n\r\nThe transaction does:\r\n\r\n- put 1 customer into customer region\r\n- put 10 orders into order region\r\n- put customer create time into customer_creation_time region\r\n\r\nHere are some notes from this test:\r\n\r\nGatewaySenderFactoryImpl.configureGatewaySender needs a line like below. Otherwise, the Geode xml case doesn't pass the boolean to the sender.\r\n```\r\nthis.attrs.isGroupTransactionEvents = senderCreation.isGroupTransactionEvents()\r\n```\r\nThe scenario above is not supported since the transaction is spanning multiple senders. I don't think there is a way to determine that during configuration, but the message that is logged needs additional info:\r\n```\r\n[error 2020/04/27 15:45:57.439 PDT <Pooled Waiting Message Processor 2> tid=0x57] Not all events in transaction go to the same senders that group transactions\r\n```\r\nAt least the sender ids should be logged if not which events go to which senders.\r\n\r\nI see `TXLastEventInTransactionUtils.checkAllEventsGoToSameGroupingSenders` is throwing the ServiceConfigurationError. Maybe that ServiceConfigurationError's message can contain this info. Then you can log the error. Maybe even the actual stack.\r\n\r\nAlso, I see that the test above succeeds. The batch is sent with the customer and orders. Other than that warning which the customer could easily miss, there is no evidence that all the events in the transaction were not sent in the same batch. Maybe the commit should fail?\r\n\r\nI'll change my test to remove the serial sender and continue to look at this.\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620307053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620308804","html_url":"https://github.com/apache/geode/pull/5009#issuecomment-620308804","issue_url":"https://api.github.com/repos/apache/geode/issues/5009","id":620308804,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDMwODgwNA==","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T00:38:12Z","updated_at":"2020-04-28T00:38:12Z","author_association":"NONE","body":"This pull request **introduces 2 alerts** when merging 896353807cd8f036521bbdfd8096c05f718df66d into 6d358846566fd74ee85ecab311d2eeb004c44897 - [view on LGTM.com](https://lgtm.com/projects/g/apache/geode/rev/pr-3ea93f6c14338593ec149d931ffb707eee9aebe0)\n\n**new alerts:**\n\n* 2 for Cast from abstract to concrete collection","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620308804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620315436","html_url":"https://github.com/apache/geode/pull/5004#issuecomment-620315436","issue_url":"https://api.github.com/repos/apache/geode/issues/5004","id":620315436,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDMxNTQzNg==","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T01:03:17Z","updated_at":"2020-04-28T01:03:17Z","author_association":"NONE","body":"This pull request **introduces 2 alerts** when merging 4426e0621a2f3a3778fe0ec5432f13dd89614ac1 into 6d358846566fd74ee85ecab311d2eeb004c44897 - [view on LGTM.com](https://lgtm.com/projects/g/apache/geode/rev/pr-22aebb54a0f8dd3dc909416cc5650c3281d317ba)\n\n**new alerts:**\n\n* 2 for Cast from abstract to concrete collection","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620315436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620529529","html_url":"https://github.com/apache/geode/pull/4928#issuecomment-620529529","issue_url":"https://api.github.com/repos/apache/geode/issues/4928","id":620529529,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDUyOTUyOQ==","user":{"login":"albertogpz","id":26227887,"node_id":"MDQ6VXNlcjI2MjI3ODg3","avatar_url":"https://avatars.githubusercontent.com/u/26227887?v=4","gravatar_id":"","url":"https://api.github.com/users/albertogpz","html_url":"https://github.com/albertogpz","followers_url":"https://api.github.com/users/albertogpz/followers","following_url":"https://api.github.com/users/albertogpz/following{/other_user}","gists_url":"https://api.github.com/users/albertogpz/gists{/gist_id}","starred_url":"https://api.github.com/users/albertogpz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertogpz/subscriptions","organizations_url":"https://api.github.com/users/albertogpz/orgs","repos_url":"https://api.github.com/users/albertogpz/repos","events_url":"https://api.github.com/users/albertogpz/events{/privacy}","received_events_url":"https://api.github.com/users/albertogpz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T10:45:43Z","updated_at":"2020-04-28T10:56:46Z","author_association":"CONTRIBUTOR","body":"Thanks for your comments.\r\nPlease, see below:\r\n> I ran a test with this scenario:\r\n> \r\n>     * 2 colocated partitioned regions called customer and order attached to a parallel sender\r\n> \r\n>     * 1 replicated region called customer_creation_time attached to a serial sender\r\n> \r\nI assume that both senders are configured to group transactions.\r\n> \r\n> The transaction does:\r\n> \r\n>     * put 1 customer into customer region\r\n> \r\n>     * put 10 orders into order region\r\n> \r\n>     * put customer create time into customer_creation_time region\r\n> \r\n> \r\n> Here are some notes from this test:\r\n> \r\n> GatewaySenderFactoryImpl.configureGatewaySender needs a line like below. Otherwise, the Geode xml case doesn't pass the boolean to the sender.\r\n> \r\n> ```\r\n> this.attrs.isGroupTransactionEvents = senderCreation.isGroupTransactionEvents()\r\n> ```\r\n> \r\nGood catch. I have pushed a new commit solving it.\r\n\r\n> The scenario above is not supported since the transaction is spanning multiple senders. I don't think there is a way to determine that during configuration, but the message that is logged needs additional info:\r\n> \r\n> ```\r\n> [error 2020/04/27 15:45:57.439 PDT <Pooled Waiting Message Processor 2> tid=0x57] Not all events in transaction go to the same senders that group transactions\r\n> ```\r\nActually, the reason why the scenario is not supported is not because the transaction is spanning multiple senders. The reason here is that some events go to some senders (the customer and order events go to the parallel sender) and other events go to other senders (the creation time event goes to the serial sender).\r\nIf each event in the transaction went to the same senders, the scenario would be supported.\r\nYou could have another scenario in which you configured two parallel senders for customer and order regions, with transactions containing customer and order instances and the transactions would be grouped in batches because all events would go to the same senders (two in this case).\r\n\r\n> \r\n> At least the sender ids should be logged if not which events go to which senders.\r\n> \r\n> I see `TXLastEventInTransactionUtils.checkAllEventsGoToSameGroupingSenders` is throwing the ServiceConfigurationError. Maybe that ServiceConfigurationError's message can contain this info. Then you can log the error. Maybe even the actual stack.\r\n> \r\nThe new commit contains an extended logging error including the events and, for each event, to which senders it would be sent to.\r\nI did not want to add this information initially because I am not sure how meaningful it would be for the one reading it and also because it would add processing time.\r\nHere is an example of the error log:\r\n```\r\n[error 2020/04/28 12:00:33.604 CEST <Pooled Waiting Message Processor 2> tid=85] Not all events go to the same senders that group transactions. Event[0]: EntryEventImpl[op=CREATE;region=/SHIPMENT;key=(ShipmentId:1 , (OrderId:0 , (CustId:1));callbackArg=null;originRemote=true;originMember=172.28.0.1(29917)<v1>:41004;version={v1; rv1; ds=1; time=1588068033598};id=EventID[id=18 bytes;threadID=2;sequenceID=0];tailKey=11], senders for Event[0]: [ln]; Event[1]: EntryEventImpl[op=CREATE;region=/SHIPMENT;key=(ShipmentId:1 , (OrderId:1 , (CustId:1));callbackArg=null;originRemote=true;originMember=172.28.0.1(29917)<v1>:41004;version={v1; rv2; ds=1; time=1588068033599};id=EventID[id=18 bytes;threadID=2;sequenceID=1];tailKey=21], senders for Event[1]: [ln]; Event[2]: EntryEventImpl[op=UPDATE;region=/CUSTOMER;key=(CustId:1);callbackArg=null;originRemote=true;originMember=172.28.0.1(29917)<v1>:41004;version={v2; rv2; ds=1; time=1588068033599};id=EventID[id=18 bytes;threadID=2;sequenceID=2];tailKey=31], senders for Event[2]: []; Event[3]: EntryEventImpl[op=CREATE;region=/ORDER;key=(\r\n```\r\n> Also, I see that the test above succeeds. The batch is sent with the customer and orders. Other than that warning which the customer could easily miss, there is no evidence that all the events in the transaction were not sent in the same batch. Maybe the commit should fail?\r\n> \r\nIt would not be possible at this point to make the commit fail as the processing is done after the commit. If done before, it could slow down transaction operations.\r\nBesides, I think it is better to make the operation progress to the other side logging the error which would indicate that there would be a small chance that the events would not be sent in the same batch. This, in turn, could only be a problem when there is a network split.\r\n> I'll change my test to remove the serial sender and continue to look at this.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620529529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620702140","html_url":"https://github.com/apache/geode/pull/5011#issuecomment-620702140","issue_url":"https://api.github.com/repos/apache/geode/issues/5011","id":620702140,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDcwMjE0MA==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T16:07:12Z","updated_at":"2020-04-28T16:07:12Z","author_association":"CONTRIBUTOR","body":"Tomcat session tests failed in UpgradeTestOpen. Unrelated to this PR.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620702140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620709035","html_url":"https://github.com/apache/geode/pull/4963#issuecomment-620709035","issue_url":"https://api.github.com/repos/apache/geode/issues/4963","id":620709035,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDcwOTAzNQ==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T16:18:26Z","updated_at":"2020-04-28T16:18:26Z","author_association":"CONTRIBUTOR","body":"I'm currently running a lot of manual tests against this change (ie hydra tests).","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620709035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620729123","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-620729123","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":620729123,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDcyOTEyMw==","user":{"login":"alb3rtobr","id":5363407,"node_id":"MDQ6VXNlcjUzNjM0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5363407?v=4","gravatar_id":"","url":"https://api.github.com/users/alb3rtobr","html_url":"https://github.com/alb3rtobr","followers_url":"https://api.github.com/users/alb3rtobr/followers","following_url":"https://api.github.com/users/alb3rtobr/following{/other_user}","gists_url":"https://api.github.com/users/alb3rtobr/gists{/gist_id}","starred_url":"https://api.github.com/users/alb3rtobr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alb3rtobr/subscriptions","organizations_url":"https://api.github.com/users/alb3rtobr/orgs","repos_url":"https://api.github.com/users/alb3rtobr/repos","events_url":"https://api.github.com/users/alb3rtobr/events{/privacy}","received_events_url":"https://api.github.com/users/alb3rtobr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T16:52:39Z","updated_at":"2020-04-28T16:52:39Z","author_association":"CONTRIBUTOR","body":"> I've added a small `DistributedTest` to my [branch](https://github.com/apache/geode/pull/4990/files#diff-b478e9ee8bbd7e0de69c1bac78ee0db2), you can use it as the starting point to test the different scenarios of the `Ping` execution. The method [`memberShouldNotRedirectPingMessageWhenClientCachedViewIdIsWrong`](https://github.com/apache/geode/pull/4990/files#diff-b478e9ee8bbd7e0de69c1bac78ee0db2R188) reproduces exactly the `ClassCastException` I'm seeing during our internal testing.\r\n\r\nThanks @jujoramos , I have used your code to create a test and identify the problem. I will add more tests as requested.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620729123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620812494","html_url":"https://github.com/apache/geode/pull/4928#issuecomment-620812494","issue_url":"https://api.github.com/repos/apache/geode/issues/4928","id":620812494,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDgxMjQ5NA==","user":{"login":"boglesby","id":1002028,"node_id":"MDQ6VXNlcjEwMDIwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1002028?v=4","gravatar_id":"","url":"https://api.github.com/users/boglesby","html_url":"https://github.com/boglesby","followers_url":"https://api.github.com/users/boglesby/followers","following_url":"https://api.github.com/users/boglesby/following{/other_user}","gists_url":"https://api.github.com/users/boglesby/gists{/gist_id}","starred_url":"https://api.github.com/users/boglesby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boglesby/subscriptions","organizations_url":"https://api.github.com/users/boglesby/orgs","repos_url":"https://api.github.com/users/boglesby/repos","events_url":"https://api.github.com/users/boglesby/events{/privacy}","received_events_url":"https://api.github.com/users/boglesby/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T19:36:45Z","updated_at":"2020-04-28T19:36:45Z","author_association":"CONTRIBUTOR","body":"If I do this:\r\n\r\n- start site 1 with a sender with batch size = 5\r\n- do a transaction with 1 customer and 10 orders\r\n- don't start site 2 immediately\r\n\r\nI see behavior like below:\r\n\r\nThe first call to peek is correct. It returns 11 events.\r\n\r\nSince the batch can't be sent, the batch is recreated. This batch only contains 5 events.\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620812494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620812755","html_url":"https://github.com/apache/geode/pull/4928#issuecomment-620812755","issue_url":"https://api.github.com/repos/apache/geode/issues/4928","id":620812755,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDgxMjc1NQ==","user":{"login":"boglesby","id":1002028,"node_id":"MDQ6VXNlcjEwMDIwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1002028?v=4","gravatar_id":"","url":"https://api.github.com/users/boglesby","html_url":"https://github.com/boglesby","followers_url":"https://api.github.com/users/boglesby/followers","following_url":"https://api.github.com/users/boglesby/following{/other_user}","gists_url":"https://api.github.com/users/boglesby/gists{/gist_id}","starred_url":"https://api.github.com/users/boglesby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boglesby/subscriptions","organizations_url":"https://api.github.com/users/boglesby/orgs","repos_url":"https://api.github.com/users/boglesby/repos","events_url":"https://api.github.com/users/boglesby/events{/privacy}","received_events_url":"https://api.github.com/users/boglesby/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T19:37:21Z","updated_at":"2020-04-28T19:37:21Z","author_association":"CONTRIBUTOR","body":"Here are the details.\r\n\r\nThe first batch has the 11 events.\r\n\r\n5 events are peeked initially:\r\n```\r\nEvent Processor for GatewaySender_ny_3: ParallelGatewaySenderQueue.peek peeked a batch of 5 events into batch:\r\n  GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=0;bucketId=48];action=0;operation=CREATE;region=/customer;key=0;value=Customer[id=0; name=name-0];shadowKey=161;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n  GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=1;bucketId=48];action=0;operation=CREATE;region=/order;key=0-0;value=Order[id=0-0; customerId=0];shadowKey=274;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n  GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=2;bucketId=48];action=0;operation=CREATE;region=/order;key=0-1;value=Order[id=0-1; customerId=0];shadowKey=387;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n  GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=3;bucketId=48];action=0;operation=CREATE;region=/order;key=0-2;value=Order[id=0-2; customerId=0];shadowKey=500;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n  GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=4;bucketId=48];action=0;operation=CREATE;region=/order;key=0-3;value=Order[id=0-3; customerId=0];shadowKey=613;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n```\r\nThe remaining 6 from the transaction are peeked in peekEventsFromIncompleteTransactions:\r\n```\r\nEvent Processor for GatewaySender_ny_3: ParallelGatewaySenderQueue.peekEventsFromIncompleteTransactions areAllTransactionsCompleteInBatch=false\r\nEvent Processor for GatewaySender_ny_3: ParallelGatewaySenderQueue.peekEventsFromIncompleteTransactions getting missing transactions for transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1; bucketId=48\r\nEvent Processor for GatewaySender_ny_3: BucketRegionQueue.getElementsMatching key=726; object=GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=5;bucketId=48];action=0;operation=CREATE;region=/order;key=0-4;value=Order[id=0-4; customerId=0];shadowKey=726;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\nEvent Processor for GatewaySender_ny_3: BucketRegionQueue.getElementsMatching key=839; object=GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=6;bucketId=48];action=0;operation=CREATE;region=/order;key=0-5;value=Order[id=0-5; customerId=0];shadowKey=839;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\nEvent Processor for GatewaySender_ny_3: BucketRegionQueue.getElementsMatching key=952; object=GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=7;bucketId=48];action=0;operation=CREATE;region=/order;key=0-6;value=Order[id=0-6; customerId=0];shadowKey=952;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\nEvent Processor for GatewaySender_ny_3: BucketRegionQueue.getElementsMatching key=1065; object=GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=8;bucketId=48];action=0;operation=CREATE;region=/order;key=0-7;value=Order[id=0-7; customerId=0];shadowKey=1065;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\nEvent Processor for GatewaySender_ny_3: BucketRegionQueue.getElementsMatching key=1178; object=GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=9;bucketId=48];action=0;operation=CREATE;region=/order;key=0-8;value=Order[id=0-8; customerId=0];shadowKey=1178;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\nEvent Processor for GatewaySender_ny_3: BucketRegionQueue.getElementsMatching key=1291; object=GatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=10;bucketId=48];action=0;operation=CREATE;region=/order;key=0-9;value=Order[id=0-9; customerId=0];shadowKey=1291;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=true]\r\nEvent Processor for GatewaySender_ny_3: ParallelGatewaySenderQueue.peekEventsFromIncompleteTransactions peeked 6 events in transaction:\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=5;bucketId=48];action=0;operation=CREATE;region=/order;key=0-4;value=Order[id=0-4; customerId=0];shadowKey=726;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=6;bucketId=48];action=0;operation=CREATE;region=/order;key=0-5;value=Order[id=0-5; customerId=0];shadowKey=839;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=7;bucketId=48];action=0;operation=CREATE;region=/order;key=0-6;value=Order[id=0-6; customerId=0];shadowKey=952;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=8;bucketId=48];action=0;operation=CREATE;region=/order;key=0-7;value=Order[id=0-7; customerId=0];shadowKey=1065;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=9;bucketId=48];action=0;operation=CREATE;region=/order;key=0-8;value=Order[id=0-8; customerId=0];shadowKey=1178;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=10;bucketId=48];action=0;operation=CREATE;region=/order;key=0-9;value=Order[id=0-9; customerId=0];shadowKey=1291;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=true]\r\n```\r\nThe final batch contains 11 events:\r\n```\r\nEvent Processor for GatewaySender_ny_3: ParallelGatewaySenderQueue.peek final batch contains 11 events:\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=0;bucketId=48];action=0;operation=CREATE;region=/customer;key=0;value=Customer[id=0; name=name-0];shadowKey=161;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=1;bucketId=48];action=0;operation=CREATE;region=/order;key=0-0;value=Order[id=0-0; customerId=0];shadowKey=274;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=2;bucketId=48];action=0;operation=CREATE;region=/order;key=0-1;value=Order[id=0-1; customerId=0];shadowKey=387;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=3;bucketId=48];action=0;operation=CREATE;region=/order;key=0-2;value=Order[id=0-2; customerId=0];shadowKey=500;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=4;bucketId=48];action=0;operation=CREATE;region=/order;key=0-3;value=Order[id=0-3; customerId=0];shadowKey=613;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=5;bucketId=48];action=0;operation=CREATE;region=/order;key=0-4;value=Order[id=0-4; customerId=0];shadowKey=726;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=6;bucketId=48];action=0;operation=CREATE;region=/order;key=0-5;value=Order[id=0-5; customerId=0];shadowKey=839;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=7;bucketId=48];action=0;operation=CREATE;region=/order;key=0-6;value=Order[id=0-6; customerId=0];shadowKey=952;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=8;bucketId=48];action=0;operation=CREATE;region=/order;key=0-7;value=Order[id=0-7; customerId=0];shadowKey=1065;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=9;bucketId=48];action=0;operation=CREATE;region=/order;key=0-8;value=Order[id=0-8; customerId=0];shadowKey=1178;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n \tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=10;bucketId=48];action=0;operation=CREATE;region=/order;key=0-9;value=Order[id=0-9; customerId=0];shadowKey=1291;timeStamp=1588101080898;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=true]\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620812755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620812923","html_url":"https://github.com/apache/geode/pull/4928#issuecomment-620812923","issue_url":"https://api.github.com/repos/apache/geode/issues/4928","id":620812923,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDgxMjkyMw==","user":{"login":"boglesby","id":1002028,"node_id":"MDQ6VXNlcjEwMDIwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1002028?v=4","gravatar_id":"","url":"https://api.github.com/users/boglesby","html_url":"https://github.com/boglesby","followers_url":"https://api.github.com/users/boglesby/followers","following_url":"https://api.github.com/users/boglesby/following{/other_user}","gists_url":"https://api.github.com/users/boglesby/gists{/gist_id}","starred_url":"https://api.github.com/users/boglesby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boglesby/subscriptions","organizations_url":"https://api.github.com/users/boglesby/orgs","repos_url":"https://api.github.com/users/boglesby/repos","events_url":"https://api.github.com/users/boglesby/events{/privacy}","received_events_url":"https://api.github.com/users/boglesby/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T19:37:42Z","updated_at":"2020-04-28T19:37:42Z","author_association":"CONTRIBUTOR","body":"The next peeked batch doesn't contain 11 events. It only contains 5. This is because the previous batch failed to be sent which causes addPeekedEvents to actually do something. In this case, it adds batchSize number of events to the batch since these events have already been peeked. When this method returns, the batch contains batchSize events so the loop is short-circuited, and the incompleteTransactionsInBatch processing doesn't occur.\r\n\r\nHere is the behavior:\r\n\r\naddPeekedEvents adds 5 previously peeked events to the batch:\r\n```\r\nEvent Processor for GatewaySender_ny_3: ParallelGatewaySenderQueue.addPeekedEvents added 5 previously peeked events to the batch:\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=0;bucketId=48];action=0;operation=CREATE;region=/customer;key=0;value=Customer[id=0; name=name-0];creationTime=1588101080903;shadowKey=161;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=1;bucketId=48];action=0;operation=CREATE;region=/order;key=0-0;value=Order[id=0-0; customerId=0];creationTime=1588101080906;shadowKey=274;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=2;bucketId=48];action=0;operation=CREATE;region=/order;key=0-1;value=Order[id=0-1; customerId=0];creationTime=1588101080906;shadowKey=387;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=3;bucketId=48];action=0;operation=CREATE;region=/order;key=0-2;value=Order[id=0-2; customerId=0];creationTime=1588101080906;shadowKey=500;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=4;bucketId=48];action=0;operation=CREATE;region=/order;key=0-3;value=Order[id=0-3; customerId=0];creationTime=1588101080906;shadowKey=613;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n```\r\npeekEventsFromIncompleteTransactions short-circuits because returns because areAllTransactionsCompleteInBatch is true:\r\n```\r\nEvent Processor for GatewaySender_ny_3: ParallelGatewaySenderQueue.peekEventsFromIncompleteTransactions areAllTransactionsCompleteInBatch=true\r\n```\r\nThe final batch contains 5 events:\r\n```\r\nEvent Processor for GatewaySender_ny_3: ParallelGatewaySenderQueue.peek final batch 1156975981 contains 5 events:\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=0;bucketId=48];action=0;operation=CREATE;region=/customer;key=0;value=Customer[id=0; name=name-0];creationTime=1588101080903;shadowKey=161;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=1;bucketId=48];action=0;operation=CREATE;region=/order;key=0-0;value=Order[id=0-0; customerId=0];creationTime=1588101080906;shadowKey=274;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=2;bucketId=48];action=0;operation=CREATE;region=/order;key=0-1;value=Order[id=0-1; customerId=0];creationTime=1588101080906;shadowKey=387;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=3;bucketId=48];action=0;operation=CREATE;region=/order;key=0-2;value=Order[id=0-2; customerId=0];creationTime=1588101080906;shadowKey=500;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n\tGatewaySenderEventImpl[id=EventID[id=23 bytes;threadID=0x10030|4;sequenceID=4;bucketId=48];action=0;operation=CREATE;region=/order;key=0-3;value=Order[id=0-3; customerId=0];creationTime=1588101080906;shadowKey=613;timeStamp=1588101080897;transactionId=TXId: 192.168.1.8(ln-client:93385:loner):55648:ae6333c2:ln-client:1;isLastEventInTransaction=false]\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620812923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620813007","html_url":"https://github.com/apache/geode/pull/4928#issuecomment-620813007","issue_url":"https://api.github.com/repos/apache/geode/issues/4928","id":620813007,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDgxMzAwNw==","user":{"login":"boglesby","id":1002028,"node_id":"MDQ6VXNlcjEwMDIwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1002028?v=4","gravatar_id":"","url":"https://api.github.com/users/boglesby","html_url":"https://github.com/boglesby","followers_url":"https://api.github.com/users/boglesby/followers","following_url":"https://api.github.com/users/boglesby/following{/other_user}","gists_url":"https://api.github.com/users/boglesby/gists{/gist_id}","starred_url":"https://api.github.com/users/boglesby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boglesby/subscriptions","organizations_url":"https://api.github.com/users/boglesby/orgs","repos_url":"https://api.github.com/users/boglesby/repos","events_url":"https://api.github.com/users/boglesby/events{/privacy}","received_events_url":"https://api.github.com/users/boglesby/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T19:37:52Z","updated_at":"2020-04-28T19:37:52Z","author_association":"CONTRIBUTOR","body":"When I start site 2, I see 3 batches received:\r\n```\r\nServerConnection on port 5185 Thread 1: GatewayReceiverCommand.cmdExecute received batch 0 containing 5 events\r\nServerConnection on port 5185 Thread 1: GatewayReceiverCommand.cmdExecute received batch 1 containing 5 events\r\nServerConnection on port 5185 Thread 1: GatewayReceiverCommand.cmdExecute received batch 2 containing 1 events\r\n```","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620813007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620893200","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-620893200","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":620893200,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDg5MzIwMA==","user":{"login":"onichols-pivotal","id":34043438,"node_id":"MDQ6VXNlcjM0MDQzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/34043438?v=4","gravatar_id":"","url":"https://api.github.com/users/onichols-pivotal","html_url":"https://github.com/onichols-pivotal","followers_url":"https://api.github.com/users/onichols-pivotal/followers","following_url":"https://api.github.com/users/onichols-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/onichols-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/onichols-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onichols-pivotal/subscriptions","organizations_url":"https://api.github.com/users/onichols-pivotal/orgs","repos_url":"https://api.github.com/users/onichols-pivotal/repos","events_url":"https://api.github.com/users/onichols-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/onichols-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T22:42:04Z","updated_at":"2020-04-28T22:42:04Z","author_association":"CONTRIBUTOR","body":"looks like this PR needs to be rebased to latest develop to fix merge confict with DataSerializableFixedID.java, until then PR checks cannot run.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620893200/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620894692","html_url":"https://github.com/apache/geode/pull/5011#issuecomment-620894692","issue_url":"https://api.github.com/repos/apache/geode/issues/5011","id":620894692,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDg5NDY5Mg==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T22:47:12Z","updated_at":"2020-04-28T22:47:12Z","author_association":"CONTRIBUTOR","body":"Tomcat session tests are still failing in UpgradeTestOpen.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620894692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620900280","html_url":"https://github.com/apache/geode/pull/4234#issuecomment-620900280","issue_url":"https://api.github.com/repos/apache/geode/issues/4234","id":620900280,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDkwMDI4MA==","user":{"login":"onichols-pivotal","id":34043438,"node_id":"MDQ6VXNlcjM0MDQzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/34043438?v=4","gravatar_id":"","url":"https://api.github.com/users/onichols-pivotal","html_url":"https://github.com/onichols-pivotal","followers_url":"https://api.github.com/users/onichols-pivotal/followers","following_url":"https://api.github.com/users/onichols-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/onichols-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/onichols-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onichols-pivotal/subscriptions","organizations_url":"https://api.github.com/users/onichols-pivotal/orgs","repos_url":"https://api.github.com/users/onichols-pivotal/repos","events_url":"https://api.github.com/users/onichols-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/onichols-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T23:05:15Z","updated_at":"2020-04-28T23:05:15Z","author_association":"CONTRIBUTOR","body":"Here's a summary of the benchmark results from the above run (positive number = improvement)\r\n-3.6% Benchmark_base PartitionedFunctionExecutionBenchmark\r\n+2.1% Benchmark_base PartitionedFunctionExecutionWithArgumentsBenchmark\r\n-5.1% Benchmark_base PartitionedFunctionExecutionWithFiltersBenchmark\r\n-1.4% Benchmark_base PartitionedGetBenchmark\r\n+5.9% Benchmark_base PartitionedIndexedQueryBenchmark\r\n+4.3% Benchmark_base PartitionedNonIndexedQueryBenchmark\r\n+1.2% Benchmark_base PartitionedPutAllBenchmark\r\n-0.6% Benchmark_base PartitionedPutBenchmark\r\n+0.1% Benchmark_base ReplicatedFunctionExecutionBenchmark\r\n-1.2% Benchmark_base ReplicatedFunctionExecutionWithArgumentsBenchmark\r\n-1.2% Benchmark_base ReplicatedFunctionExecutionWithFiltersBenchmark\r\n-0.8% Benchmark_base ReplicatedGetBenchmark\r\n-2.4% Benchmark_base ReplicatedIndexedQueryBenchmark\r\n+7.1% Benchmark_base ReplicatedNonIndexedQueryBenchmark\r\n+0.7% Benchmark_base ReplicatedPutAllBenchmark\r\n+0.3% Benchmark_base ReplicatedPutBenchmark\r\n-1.3% Benchmark_base PartitionedFunctionExecutionWithFiltersBenchmark\r\n-3.3% Benchmark_with_ssl PartitionedGetBenchmark\r\n-1.2% Benchmark_with_ssl PartitionedPutBenchmark\r\n-0.2% Benchmark_with_ssl ReplicatedGetBenchmark\r\n+1.4% Benchmark_with_ssl ReplicatedPutBenchmark\r\n-5.8% Benchmark_with_security_manager PartitionedFunctionExecutionBenchmark\r\n+2.2% Benchmark_with_security_manager PartitionedFunctionExecutionWithArgumentsBenchmark\r\n+1.9% Benchmark_with_security_manager PartitionedFunctionExecutionWithFiltersBenchmark\r\n-2.0% Benchmark_with_security_manager PartitionedGetBenchmark\r\n-0.1% Benchmark_with_security_manager PartitionedIndexedQueryBenchmark\r\n-3.8% Benchmark_with_security_manager PartitionedNonIndexedQueryBenchmark\r\n+0.7% Benchmark_with_security_manager PartitionedPutAllBenchmark\r\n-1.4% Benchmark_with_security_manager PartitionedPutBenchmark\r\n-4.1% Benchmark_with_security_manager PartitionedFunctionExecutionBenchmark\r\n\r\n@pivotal-jbarrett does this satisfy your request for changes?","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620900280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/620951680","html_url":"https://github.com/apache/geode/pull/5018#issuecomment-620951680","issue_url":"https://api.github.com/repos/apache/geode/issues/5018","id":620951680,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDk1MTY4MA==","user":{"login":"onichols-pivotal","id":34043438,"node_id":"MDQ6VXNlcjM0MDQzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/34043438?v=4","gravatar_id":"","url":"https://api.github.com/users/onichols-pivotal","html_url":"https://github.com/onichols-pivotal","followers_url":"https://api.github.com/users/onichols-pivotal/followers","following_url":"https://api.github.com/users/onichols-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/onichols-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/onichols-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onichols-pivotal/subscriptions","organizations_url":"https://api.github.com/users/onichols-pivotal/orgs","repos_url":"https://api.github.com/users/onichols-pivotal/repos","events_url":"https://api.github.com/users/onichols-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/onichols-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T02:07:15Z","updated_at":"2020-04-29T02:18:41Z","author_association":"CONTRIBUTOR","body":"It seems that anything we distribute that is licensed under Apache 2.0 License does not need to be called out.  However, I found 3 jars that will be in the 1.13 release that are licensed under some other license but not currently mentioned in LICENSE, should they be added?\r\n\r\n* HikariCP v3.4.2 - Eclipse Public License 1.0\r\n* findbugs-annotations v1.3.9-1 - BSD License (?)\r\n* swagger-annotations v1.5.23 - MIT License","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/620951680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621239878","html_url":"https://github.com/apache/geode/pull/4984#issuecomment-621239878","issue_url":"https://api.github.com/repos/apache/geode/issues/4984","id":621239878,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTIzOTg3OA==","user":{"login":"prettyClouds","id":1047660,"node_id":"MDQ6VXNlcjEwNDc2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1047660?v=4","gravatar_id":"","url":"https://api.github.com/users/prettyClouds","html_url":"https://github.com/prettyClouds","followers_url":"https://api.github.com/users/prettyClouds/followers","following_url":"https://api.github.com/users/prettyClouds/following{/other_user}","gists_url":"https://api.github.com/users/prettyClouds/gists{/gist_id}","starred_url":"https://api.github.com/users/prettyClouds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prettyClouds/subscriptions","organizations_url":"https://api.github.com/users/prettyClouds/orgs","repos_url":"https://api.github.com/users/prettyClouds/repos","events_url":"https://api.github.com/users/prettyClouds/events{/privacy}","received_events_url":"https://api.github.com/users/prettyClouds/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T14:16:27Z","updated_at":"2020-04-29T14:16:27Z","author_association":"CONTRIBUTOR","body":"@jdeppe-pivotal @dschneider-pivotal, I finally got this passing. Can you please take a look at this before it gets stale. merging in changes to the old SetsIntegrationTest is a little tedious.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621239878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621255116","html_url":"https://github.com/apache/geode/pull/4928#issuecomment-621255116","issue_url":"https://api.github.com/repos/apache/geode/issues/4928","id":621255116,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTI1NTExNg==","user":{"login":"albertogpz","id":26227887,"node_id":"MDQ6VXNlcjI2MjI3ODg3","avatar_url":"https://avatars.githubusercontent.com/u/26227887?v=4","gravatar_id":"","url":"https://api.github.com/users/albertogpz","html_url":"https://github.com/albertogpz","followers_url":"https://api.github.com/users/albertogpz/followers","following_url":"https://api.github.com/users/albertogpz/following{/other_user}","gists_url":"https://api.github.com/users/albertogpz/gists{/gist_id}","starred_url":"https://api.github.com/users/albertogpz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertogpz/subscriptions","organizations_url":"https://api.github.com/users/albertogpz/orgs","repos_url":"https://api.github.com/users/albertogpz/repos","events_url":"https://api.github.com/users/albertogpz/events{/privacy}","received_events_url":"https://api.github.com/users/albertogpz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T14:40:30Z","updated_at":"2020-04-29T14:40:30Z","author_association":"CONTRIBUTOR","body":"> If I do this:\r\n> \r\n>     * start site 1 with a sender with batch size = 5\r\n> \r\n>     * do a transaction with 1 customer and 10 orders\r\n> \r\n>     * don't start site 2 immediately\r\n> \r\n> \r\n> I see behavior like below:\r\n> \r\n> The first call to peek is correct. It returns 11 events.\r\n> \r\n> Since the batch can't be sent, the batch is recreated. This batch only contains 5 events.\r\n\r\nI had not thought about this case.\r\nI have pushed another commit that should solve the issue.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621255116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621328260","html_url":"https://github.com/apache/geode/pull/5018#issuecomment-621328260","issue_url":"https://api.github.com/repos/apache/geode/issues/5018","id":621328260,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTMyODI2MA==","user":{"login":"metatype","id":2790361,"node_id":"MDQ6VXNlcjI3OTAzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2790361?v=4","gravatar_id":"","url":"https://api.github.com/users/metatype","html_url":"https://github.com/metatype","followers_url":"https://api.github.com/users/metatype/followers","following_url":"https://api.github.com/users/metatype/following{/other_user}","gists_url":"https://api.github.com/users/metatype/gists{/gist_id}","starred_url":"https://api.github.com/users/metatype/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/metatype/subscriptions","organizations_url":"https://api.github.com/users/metatype/orgs","repos_url":"https://api.github.com/users/metatype/repos","events_url":"https://api.github.com/users/metatype/events{/privacy}","received_events_url":"https://api.github.com/users/metatype/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T16:40:31Z","updated_at":"2020-04-29T16:40:31Z","author_association":"CONTRIBUTOR","body":"> It seems that anything we distribute that is licensed under Apache 2.0 License does not need to be called out. However, I found 3 jars that will be in the 1.13 release that are licensed under some other license but not currently mentioned in LICENSE, should they be added?\r\n> \r\n> * HikariCP v3.4.2 - Eclipse Public License 1.0\r\n> * findbugs-annotations v1.3.9-1 - BSD License (?)\r\n> * swagger-annotations v1.5.23 - MIT License\r\n\r\nHikariCP is Apache though, right?  See https://github.com/brettwooldridge/HikariCP/blob/dev/LICENSE.\r\n\r\nSame for findbugs-annotations (note the group):  https://mvnrepository.com/artifact/com.github.stephenc.findbugs/findbugs-annotations\r\n\r\nAlso for swagger-annotations:  https://mvnrepository.com/artifact/io.swagger/swagger-annotations/1.5.23","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621328260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621343027","html_url":"https://github.com/apache/geode/pull/5011#issuecomment-621343027","issue_url":"https://api.github.com/repos/apache/geode/issues/5011","id":621343027,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM0MzAyNw==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T17:07:45Z","updated_at":"2020-04-29T17:07:45Z","author_association":"CONTRIBUTOR","body":"Backing out the changes to BootstrappingFunction restores UpgradeTest to GREEN. I have filed https://issues.apache.org/jira/browse/GEODE-8040 and renamed/moved BootstrappingFunctionTest to src/integrationTest so that it won't break any other unit tests.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621343027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621360309","html_url":"https://github.com/apache/geode/pull/5021#issuecomment-621360309","issue_url":"https://api.github.com/repos/apache/geode/issues/5021","id":621360309,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM2MDMwOQ==","user":{"login":"metatype","id":2790361,"node_id":"MDQ6VXNlcjI3OTAzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2790361?v=4","gravatar_id":"","url":"https://api.github.com/users/metatype","html_url":"https://github.com/metatype","followers_url":"https://api.github.com/users/metatype/followers","following_url":"https://api.github.com/users/metatype/following{/other_user}","gists_url":"https://api.github.com/users/metatype/gists{/gist_id}","starred_url":"https://api.github.com/users/metatype/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/metatype/subscriptions","organizations_url":"https://api.github.com/users/metatype/orgs","repos_url":"https://api.github.com/users/metatype/repos","events_url":"https://api.github.com/users/metatype/events{/privacy}","received_events_url":"https://api.github.com/users/metatype/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T17:40:33Z","updated_at":"2020-04-29T17:40:33Z","author_association":"CONTRIBUTOR","body":"Would it make sense to have an RFC and/or discuss thread to share your ideas about this new submodule?","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621360309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621370295","html_url":"https://github.com/apache/geode/pull/5011#issuecomment-621370295","issue_url":"https://api.github.com/repos/apache/geode/issues/5011","id":621370295,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM3MDI5NQ==","user":{"login":"kirklund","id":1444301,"node_id":"MDQ6VXNlcjE0NDQzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1444301?v=4","gravatar_id":"","url":"https://api.github.com/users/kirklund","html_url":"https://github.com/kirklund","followers_url":"https://api.github.com/users/kirklund/followers","following_url":"https://api.github.com/users/kirklund/following{/other_user}","gists_url":"https://api.github.com/users/kirklund/gists{/gist_id}","starred_url":"https://api.github.com/users/kirklund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirklund/subscriptions","organizations_url":"https://api.github.com/users/kirklund/orgs","repos_url":"https://api.github.com/users/kirklund/repos","events_url":"https://api.github.com/users/kirklund/events{/privacy}","received_events_url":"https://api.github.com/users/kirklund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T18:00:04Z","updated_at":"2020-04-29T18:00:21Z","author_association":"CONTRIBUTOR","body":"DistributedTest has an unrelated failure:\r\n```\r\norg.apache.geode.distributed.internal.deadlock.GemFireDeadlockDetectorDUnitTest > testDistributedDeadlockWithDLock FAILED\r\n    java.lang.AssertionError\r\n        at org.junit.Assert.fail(Assert.java:86)\r\n        at org.junit.Assert.assertTrue(Assert.java:41)\r\n        at org.junit.Assert.assertTrue(Assert.java:52)\r\n        at org.apache.geode.distributed.internal.deadlock.GemFireDeadlockDetectorDUnitTest.testDistributedDeadlockWithDLock(GemFireDeadlockDetectorDUnitTest.java:201)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621370295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621378896","html_url":"https://github.com/apache/geode/pull/5022#issuecomment-621378896","issue_url":"https://api.github.com/repos/apache/geode/issues/5022","id":621378896,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM3ODg5Ng==","user":{"login":"jhutchison","id":1131716,"node_id":"MDQ6VXNlcjExMzE3MTY=","avatar_url":"https://avatars.githubusercontent.com/u/1131716?v=4","gravatar_id":"","url":"https://api.github.com/users/jhutchison","html_url":"https://github.com/jhutchison","followers_url":"https://api.github.com/users/jhutchison/followers","following_url":"https://api.github.com/users/jhutchison/following{/other_user}","gists_url":"https://api.github.com/users/jhutchison/gists{/gist_id}","starred_url":"https://api.github.com/users/jhutchison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhutchison/subscriptions","organizations_url":"https://api.github.com/users/jhutchison/orgs","repos_url":"https://api.github.com/users/jhutchison/repos","events_url":"https://api.github.com/users/jhutchison/events{/privacy}","received_events_url":"https://api.github.com/users/jhutchison/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T18:16:36Z","updated_at":"2020-04-29T18:16:36Z","author_association":"CONTRIBUTOR","body":"Note:  currently intended only for internal team review-- PLEASE DO NOT MERGE UNTIL ADDITIONAL NOTE IS ENTERED CONFIRMING OK TO MERGE--  thanks :) -J ","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621378896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621383545","html_url":"https://github.com/apache/geode/pull/5021#issuecomment-621383545","issue_url":"https://api.github.com/repos/apache/geode/issues/5021","id":621383545,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM4MzU0NQ==","user":{"login":"kohlmu-pivotal","id":11528691,"node_id":"MDQ6VXNlcjExNTI4Njkx","avatar_url":"https://avatars.githubusercontent.com/u/11528691?v=4","gravatar_id":"","url":"https://api.github.com/users/kohlmu-pivotal","html_url":"https://github.com/kohlmu-pivotal","followers_url":"https://api.github.com/users/kohlmu-pivotal/followers","following_url":"https://api.github.com/users/kohlmu-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/kohlmu-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/kohlmu-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kohlmu-pivotal/subscriptions","organizations_url":"https://api.github.com/users/kohlmu-pivotal/orgs","repos_url":"https://api.github.com/users/kohlmu-pivotal/repos","events_url":"https://api.github.com/users/kohlmu-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/kohlmu-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T18:25:42Z","updated_at":"2020-04-29T18:25:42Z","author_association":"CONTRIBUTOR","body":"> Would it make sense to have an RFC and/or discuss thread to share your ideas about this new submodule?\r\n\r\nhttps://cwiki.apache.org/confluence/display/GEODE/ClassLoader+Isolation","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621383545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621425929","html_url":"https://github.com/apache/geode/pull/5021#issuecomment-621425929","issue_url":"https://api.github.com/repos/apache/geode/issues/5021","id":621425929,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTQyNTkyOQ==","user":{"login":"metatype","id":2790361,"node_id":"MDQ6VXNlcjI3OTAzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2790361?v=4","gravatar_id":"","url":"https://api.github.com/users/metatype","html_url":"https://github.com/metatype","followers_url":"https://api.github.com/users/metatype/followers","following_url":"https://api.github.com/users/metatype/following{/other_user}","gists_url":"https://api.github.com/users/metatype/gists{/gist_id}","starred_url":"https://api.github.com/users/metatype/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/metatype/subscriptions","organizations_url":"https://api.github.com/users/metatype/orgs","repos_url":"https://api.github.com/users/metatype/repos","events_url":"https://api.github.com/users/metatype/events{/privacy}","received_events_url":"https://api.github.com/users/metatype/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T19:49:43Z","updated_at":"2020-04-29T19:49:43Z","author_association":"CONTRIBUTOR","body":"> > Would it make sense to have an RFC and/or discuss thread to share your ideas about this new submodule?\r\n> \r\n> https://cwiki.apache.org/confluence/display/GEODE/ClassLoader+Isolation\r\n\r\nPerfect, I missed that the RFC had these details.  Thanks!","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621425929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621486338","html_url":"https://github.com/apache/geode/pull/5022#issuecomment-621486338","issue_url":"https://api.github.com/repos/apache/geode/issues/5022","id":621486338,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTQ4NjMzOA==","user":{"login":"moleske","id":12620096,"node_id":"MDQ6VXNlcjEyNjIwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/12620096?v=4","gravatar_id":"","url":"https://api.github.com/users/moleske","html_url":"https://github.com/moleske","followers_url":"https://api.github.com/users/moleske/followers","following_url":"https://api.github.com/users/moleske/following{/other_user}","gists_url":"https://api.github.com/users/moleske/gists{/gist_id}","starred_url":"https://api.github.com/users/moleske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moleske/subscriptions","organizations_url":"https://api.github.com/users/moleske/orgs","repos_url":"https://api.github.com/users/moleske/repos","events_url":"https://api.github.com/users/moleske/events{/privacy}","received_events_url":"https://api.github.com/users/moleske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T21:55:58Z","updated_at":"2020-04-29T21:55:58Z","author_association":"MEMBER","body":"> Note: currently intended only for internal team review\r\n\r\n@jhutchison - GitHub has [draft PRs](https://github.blog/2019-02-14-introducing-draft-pull-requests/), which can be enabled by clicking the `Convert to draft` link under the reviewers on the right.  It will still run the PR checks, just won't allow merging til it is no longer in draft state","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621486338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621504482","html_url":"https://github.com/apache/geode/pull/5015#issuecomment-621504482","issue_url":"https://api.github.com/repos/apache/geode/issues/5015","id":621504482,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTUwNDQ4Mg==","user":{"login":"jdeppe-pivotal","id":5313410,"node_id":"MDQ6VXNlcjUzMTM0MTA=","avatar_url":"https://avatars.githubusercontent.com/u/5313410?v=4","gravatar_id":"","url":"https://api.github.com/users/jdeppe-pivotal","html_url":"https://github.com/jdeppe-pivotal","followers_url":"https://api.github.com/users/jdeppe-pivotal/followers","following_url":"https://api.github.com/users/jdeppe-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/jdeppe-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/jdeppe-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdeppe-pivotal/subscriptions","organizations_url":"https://api.github.com/users/jdeppe-pivotal/orgs","repos_url":"https://api.github.com/users/jdeppe-pivotal/repos","events_url":"https://api.github.com/users/jdeppe-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/jdeppe-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T22:38:59Z","updated_at":"2020-04-29T22:39:14Z","author_association":"CONTRIBUTOR","body":"I'm not sure whether this was meant to solve GEODE-7998, but here is a test that reproduces the original issue:\r\n```java\r\n  @Test\r\n  public void testPubSubWithManyClientsDisconnecting() throws Exception {\r\n    int CLIENT_COUNT = 10;\r\n    int ITERATIONS = 400;\r\n\r\n    Random random = new Random();\r\n    List<Jedis> clients = new ArrayList<>();\r\n\r\n    // Build up an initial set of subscribers\r\n    for (int i = 0; i < CLIENT_COUNT; i++) {\r\n      Jedis client = new Jedis(\"localhost\", ports[0]);\r\n      clients.add(client);\r\n\r\n      CountDownLatch latch = new CountDownLatch(1);\r\n      MockSubscriber mockSubscriber = new MockSubscriber(latch);\r\n      executor.submit(() -> client.subscribe(mockSubscriber, CHANNEL_NAME));\r\n      latch.await();\r\n    }\r\n\r\n    // Start actively publishing in the background\r\n    Jedis publishingClient = new Jedis(\"localhost\", ports[0]);\r\n    Callable<Void> callable = () -> {\r\n      for (int j = 0; j < ITERATIONS; j++) {\r\n        publishingClient.publish(CHANNEL_NAME, \"hello\");\r\n      }\r\n      return null;\r\n    };\r\n\r\n    Future<Void> future = executor.submit(callable);\r\n\r\n    // Abnormally close and recreate new subscribers without unsubscribing\r\n    for (int i = 0; i < ITERATIONS; i++) {\r\n      int candy = random.nextInt(CLIENT_COUNT);\r\n      clients.get(candy).close();\r\n\r\n      Jedis client = new Jedis(\"localhost\", ports[0]);\r\n      CountDownLatch latch = new CountDownLatch(1);\r\n      MockSubscriber mockSubscriber = new MockSubscriber(latch);\r\n      executor.submit(() -> client.subscribe(mockSubscriber, CHANNEL_NAME));\r\n      // latch.await(1, TimeUnit.SECONDS);\r\n      latch.await();\r\n\r\n      clients.set(candy, client);\r\n    }\r\n\r\n    // I'm not sure what to call so that this stat gets updated - just wait a few minutes\r\n    // to see stuck threads reported in the log.\r\n    // server1.invoke(() ->\r\n    //     assertThat(InternalResourceManager.getInternalResourceManager(ClusterStartupRule.getCache()).getStats()\r\n    //         .getNumThreadStuck()).isEqualTo(0)\r\n    // );\r\n\r\n    future.get();\r\n  }\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621504482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621521546","html_url":"https://github.com/apache/geode/pull/4357#issuecomment-621521546","issue_url":"https://api.github.com/repos/apache/geode/issues/4357","id":621521546,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTUyMTU0Ng==","user":{"login":"onichols-pivotal","id":34043438,"node_id":"MDQ6VXNlcjM0MDQzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/34043438?v=4","gravatar_id":"","url":"https://api.github.com/users/onichols-pivotal","html_url":"https://github.com/onichols-pivotal","followers_url":"https://api.github.com/users/onichols-pivotal/followers","following_url":"https://api.github.com/users/onichols-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/onichols-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/onichols-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onichols-pivotal/subscriptions","organizations_url":"https://api.github.com/users/onichols-pivotal/orgs","repos_url":"https://api.github.com/users/onichols-pivotal/repos","events_url":"https://api.github.com/users/onichols-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/onichols-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T23:26:08Z","updated_at":"2020-04-29T23:26:08Z","author_association":"CONTRIBUTOR","body":"This PR appears to be abandoned.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621521546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621690532","html_url":"https://github.com/apache/geode/pull/5018#issuecomment-621690532","issue_url":"https://api.github.com/repos/apache/geode/issues/5018","id":621690532,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTY5MDUzMg==","user":{"login":"onichols-pivotal","id":34043438,"node_id":"MDQ6VXNlcjM0MDQzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/34043438?v=4","gravatar_id":"","url":"https://api.github.com/users/onichols-pivotal","html_url":"https://github.com/onichols-pivotal","followers_url":"https://api.github.com/users/onichols-pivotal/followers","following_url":"https://api.github.com/users/onichols-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/onichols-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/onichols-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onichols-pivotal/subscriptions","organizations_url":"https://api.github.com/users/onichols-pivotal/orgs","repos_url":"https://api.github.com/users/onichols-pivotal/repos","events_url":"https://api.github.com/users/onichols-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/onichols-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T08:25:20Z","updated_at":"2020-04-30T08:25:20Z","author_association":"CONTRIBUTOR","body":"Thanks for catching those mistakes, Anthony.  You are correct, I had googled something else with similar name by mistake.  I also forgot to expand war files to look at their embedded dependencies; I've made several additional corrections and also included the script I created for this review process and an rc pipeline job to run it again before shipping.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621690532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621756941","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-621756941","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":621756941,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTc1Njk0MQ==","user":{"login":"alb3rtobr","id":5363407,"node_id":"MDQ6VXNlcjUzNjM0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5363407?v=4","gravatar_id":"","url":"https://api.github.com/users/alb3rtobr","html_url":"https://github.com/alb3rtobr","followers_url":"https://api.github.com/users/alb3rtobr/followers","following_url":"https://api.github.com/users/alb3rtobr/following{/other_user}","gists_url":"https://api.github.com/users/alb3rtobr/gists{/gist_id}","starred_url":"https://api.github.com/users/alb3rtobr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alb3rtobr/subscriptions","organizations_url":"https://api.github.com/users/alb3rtobr/orgs","repos_url":"https://api.github.com/users/alb3rtobr/repos","events_url":"https://api.github.com/users/alb3rtobr/events{/privacy}","received_events_url":"https://api.github.com/users/alb3rtobr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T10:46:21Z","updated_at":"2020-04-30T10:46:21Z","author_association":"CONTRIBUTOR","body":"@jujoramos Is there a problem with the CI? Tests have not been executed in the last four commits.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621756941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621758779","html_url":"https://github.com/apache/geode/pull/4978#issuecomment-621758779","issue_url":"https://api.github.com/repos/apache/geode/issues/4978","id":621758779,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTc1ODc3OQ==","user":{"login":"jujoramos","id":8254001,"node_id":"MDQ6VXNlcjgyNTQwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/8254001?v=4","gravatar_id":"","url":"https://api.github.com/users/jujoramos","html_url":"https://github.com/jujoramos","followers_url":"https://api.github.com/users/jujoramos/followers","following_url":"https://api.github.com/users/jujoramos/following{/other_user}","gists_url":"https://api.github.com/users/jujoramos/gists{/gist_id}","starred_url":"https://api.github.com/users/jujoramos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jujoramos/subscriptions","organizations_url":"https://api.github.com/users/jujoramos/orgs","repos_url":"https://api.github.com/users/jujoramos/repos","events_url":"https://api.github.com/users/jujoramos/events{/privacy}","received_events_url":"https://api.github.com/users/jujoramos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T10:50:47Z","updated_at":"2020-04-30T10:50:47Z","author_association":"CONTRIBUTOR","body":"Hello @alb3rtobr \r\nApparently yes, can you rebase the `PR` against the latest `develop` branch and `push` the changes again?.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621758779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621939683","html_url":"https://github.com/apache/geode/pull/5018#issuecomment-621939683","issue_url":"https://api.github.com/repos/apache/geode/issues/5018","id":621939683,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTkzOTY4Mw==","user":{"login":"onichols-pivotal","id":34043438,"node_id":"MDQ6VXNlcjM0MDQzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/34043438?v=4","gravatar_id":"","url":"https://api.github.com/users/onichols-pivotal","html_url":"https://github.com/onichols-pivotal","followers_url":"https://api.github.com/users/onichols-pivotal/followers","following_url":"https://api.github.com/users/onichols-pivotal/following{/other_user}","gists_url":"https://api.github.com/users/onichols-pivotal/gists{/gist_id}","starred_url":"https://api.github.com/users/onichols-pivotal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onichols-pivotal/subscriptions","organizations_url":"https://api.github.com/users/onichols-pivotal/orgs","repos_url":"https://api.github.com/users/onichols-pivotal/repos","events_url":"https://api.github.com/users/onichols-pivotal/events{/privacy}","received_events_url":"https://api.github.com/users/onichols-pivotal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T15:50:27Z","updated_at":"2020-04-30T17:01:35Z","author_association":"CONTRIBUTOR","body":"LICENSE currently gets used 5 different places:\r\n* the source distribution\r\n* geode-pulse.war\r\n* geode-web.war\r\n* geode-web-api.war\r\n* geode-web-management.war\r\n\r\nIt sounds like a gradle refactoring somewhere along the way starting putting the source LICENSE instead of the binary geode-assembly/src/main/dist/LICENSE into the .war files.  I'll get this straightened out.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621939683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621978149","html_url":"https://github.com/apache/geode/pull/5027#issuecomment-621978149","issue_url":"https://api.github.com/repos/apache/geode/issues/5027","id":621978149,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTk3ODE0OQ==","user":{"login":"jake-at-work","id":6800791,"node_id":"MDQ6VXNlcjY4MDA3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6800791?v=4","gravatar_id":"","url":"https://api.github.com/users/jake-at-work","html_url":"https://github.com/jake-at-work","followers_url":"https://api.github.com/users/jake-at-work/followers","following_url":"https://api.github.com/users/jake-at-work/following{/other_user}","gists_url":"https://api.github.com/users/jake-at-work/gists{/gist_id}","starred_url":"https://api.github.com/users/jake-at-work/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jake-at-work/subscriptions","organizations_url":"https://api.github.com/users/jake-at-work/orgs","repos_url":"https://api.github.com/users/jake-at-work/repos","events_url":"https://api.github.com/users/jake-at-work/events{/privacy}","received_events_url":"https://api.github.com/users/jake-at-work/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T16:58:13Z","updated_at":"2020-04-30T16:58:13Z","author_association":"CONTRIBUTOR","body":"By reverting this we are re-introducing the issue that GEODE-8020 was trying to solve, correct?","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621978149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621978836","html_url":"https://github.com/apache/geode/pull/5018#issuecomment-621978836","issue_url":"https://api.github.com/repos/apache/geode/issues/5018","id":621978836,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTk3ODgzNg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T16:59:15Z","updated_at":"2020-04-30T16:59:15Z","author_association":"NONE","body":"I'm not a huge fan that we have yet another list of dependencies to manage :( ","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621978836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621982073","html_url":"https://github.com/apache/geode/pull/5027#issuecomment-621982073","issue_url":"https://api.github.com/repos/apache/geode/issues/5027","id":621982073,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTk4MjA3Mw==","user":{"login":"bschuchardt","id":7441204,"node_id":"MDQ6VXNlcjc0NDEyMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7441204?v=4","gravatar_id":"","url":"https://api.github.com/users/bschuchardt","html_url":"https://github.com/bschuchardt","followers_url":"https://api.github.com/users/bschuchardt/followers","following_url":"https://api.github.com/users/bschuchardt/following{/other_user}","gists_url":"https://api.github.com/users/bschuchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/bschuchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschuchardt/subscriptions","organizations_url":"https://api.github.com/users/bschuchardt/orgs","repos_url":"https://api.github.com/users/bschuchardt/repos","events_url":"https://api.github.com/users/bschuchardt/events{/privacy}","received_events_url":"https://api.github.com/users/bschuchardt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T17:04:47Z","updated_at":"2020-04-30T17:05:16Z","author_association":"CONTRIBUTOR","body":"@pivotal-jbarrett yes, that's true.  However, there is a system property that folks can use to disable use of pooled direct-buffers in comms: p2p.nodirectBuffers=true, and that will avoid the problem.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621982073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/621984705","html_url":"https://github.com/apache/geode/pull/5027#issuecomment-621984705","issue_url":"https://api.github.com/repos/apache/geode/issues/5027","id":621984705,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTk4NDcwNQ==","user":{"login":"jake-at-work","id":6800791,"node_id":"MDQ6VXNlcjY4MDA3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6800791?v=4","gravatar_id":"","url":"https://api.github.com/users/jake-at-work","html_url":"https://github.com/jake-at-work","followers_url":"https://api.github.com/users/jake-at-work/followers","following_url":"https://api.github.com/users/jake-at-work/following{/other_user}","gists_url":"https://api.github.com/users/jake-at-work/gists{/gist_id}","starred_url":"https://api.github.com/users/jake-at-work/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jake-at-work/subscriptions","organizations_url":"https://api.github.com/users/jake-at-work/orgs","repos_url":"https://api.github.com/users/jake-at-work/repos","events_url":"https://api.github.com/users/jake-at-work/events{/privacy}","received_events_url":"https://api.github.com/users/jake-at-work/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T17:09:27Z","updated_at":"2020-04-30T17:09:27Z","author_association":"CONTRIBUTOR","body":"> @pivotal-jbarrett yes, that's true. However, there is a system property that folks can use to disable use of pooled direct-buffers in comms: p2p.nodirectBuffers=true, and that will avoid the problem.\r\n\r\nDoes disabling with the `p2p.nodirectBuffers=true` property result in the same performance issue that this revert corrects?","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/621984705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/622017728","html_url":"https://github.com/apache/geode/pull/5016#issuecomment-622017728","issue_url":"https://api.github.com/repos/apache/geode/issues/5016","id":622017728,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjAxNzcyOA==","user":{"login":"jhutchison","id":1131716,"node_id":"MDQ6VXNlcjExMzE3MTY=","avatar_url":"https://avatars.githubusercontent.com/u/1131716?v=4","gravatar_id":"","url":"https://api.github.com/users/jhutchison","html_url":"https://github.com/jhutchison","followers_url":"https://api.github.com/users/jhutchison/followers","following_url":"https://api.github.com/users/jhutchison/following{/other_user}","gists_url":"https://api.github.com/users/jhutchison/gists{/gist_id}","starred_url":"https://api.github.com/users/jhutchison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhutchison/subscriptions","organizations_url":"https://api.github.com/users/jhutchison/orgs","repos_url":"https://api.github.com/users/jhutchison/repos","events_url":"https://api.github.com/users/jhutchison/events{/privacy}","received_events_url":"https://api.github.com/users/jhutchison/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T18:14:05Z","updated_at":"2020-04-30T18:14:05Z","author_association":"CONTRIBUTOR","body":"This PR seems to be an artifact of a commit revert applied after initial merge (This code appears to have been merged into develop in some other PR)","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/622017728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/geode/issues/comments/622032550","html_url":"https://github.com/apache/geode/pull/5030#issuecomment-622032550","issue_url":"https://api.github.com/repos/apache/geode/issues/5030","id":622032550,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjAzMjU1MA==","user":{"login":"moleske","id":12620096,"node_id":"MDQ6VXNlcjEyNjIwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/12620096?v=4","gravatar_id":"","url":"https://api.github.com/users/moleske","html_url":"https://github.com/moleske","followers_url":"https://api.github.com/users/moleske/followers","following_url":"https://api.github.com/users/moleske/following{/other_user}","gists_url":"https://api.github.com/users/moleske/gists{/gist_id}","starred_url":"https://api.github.com/users/moleske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moleske/subscriptions","organizations_url":"https://api.github.com/users/moleske/orgs","repos_url":"https://api.github.com/users/moleske/repos","events_url":"https://api.github.com/users/moleske/events{/privacy}","received_events_url":"https://api.github.com/users/moleske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T18:43:43Z","updated_at":"2020-04-30T18:43:43Z","author_association":"MEMBER","body":"I looked at https://issues.apache.org/jira/projects/GEODE/issues/GEODE-8037 and the issue doesn't really explain why this is being added or what it will do (acceptance criteria or something of the like).  I know there's the RFC but some details in the Geode Jira would be handy since I can't quite figure out what's going on.","reactions":{"url":"https://api.github.com/repos/apache/geode/issues/comments/622032550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]