[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682237310","html_url":"https://github.com/apache/pinot/pull/5934#issuecomment-682237310","issue_url":"https://api.github.com/repos/apache/pinot/issues/5934","id":682237310,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjIzNzMxMA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T23:13:40Z","updated_at":"2020-08-27T23:13:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5934?src=pr&el=h1) Report\n> Merging [#5934](https://codecov.io/gh/apache/incubator-pinot/pull/5934?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `23.23%`.\n> The diff coverage is `51.23%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5934/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5934?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #5934       +/-   ##\n===========================================\n- Coverage   66.44%   43.20%   -23.24%     \n===========================================\n  Files        1075     1210      +135     \n  Lines       54773    62540     +7767     \n  Branches     8168     9529     +1361     \n===========================================\n- Hits        36396    27023     -9373     \n- Misses      15700    33081    +17381     \n+ Partials     2677     2436      -241     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `43.20% <51.23%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5934?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `26.66% <0.00%> (-30.48%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `22.22% <0.00%> (-26.62%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [.../org/apache/pinot/common/lineage/LineageEntry.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9MaW5lYWdlRW50cnkuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...apache/pinot/common/lineage/LineageEntryState.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9MaW5lYWdlRW50cnlTdGF0ZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...rg/apache/pinot/common/lineage/SegmentLineage.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ache/pinot/common/lineage/SegmentLineageUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZVV0aWxzLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...ot/common/messages/RoutingTableRebuildMessage.java](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvUm91dGluZ1RhYmxlUmVidWlsZE1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| ... and [1132 more](https://codecov.io/gh/apache/incubator-pinot/pull/5934/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5934?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5934?src=pr&el=footer). Last update [4fd70fe...eece981](https://codecov.io/gh/apache/incubator-pinot/pull/5934?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682237310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682265379","html_url":"https://github.com/apache/pinot/issues/5876#issuecomment-682265379","issue_url":"https://api.github.com/repos/apache/pinot/issues/5876","id":682265379,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI2NTM3OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T00:58:56Z","updated_at":"2020-08-28T00:58:56Z","author_association":"CONTRIBUTOR","body":"thanks for the help!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682265379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682280899","html_url":"https://github.com/apache/pinot/pull/5911#issuecomment-682280899","issue_url":"https://api.github.com/repos/apache/pinot/issues/5911","id":682280899,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI4MDg5OQ==","user":{"login":"saileshnankani","id":30644225,"node_id":"MDQ6VXNlcjMwNjQ0MjI1","avatar_url":"https://avatars.githubusercontent.com/u/30644225?v=4","gravatar_id":"","url":"https://api.github.com/users/saileshnankani","html_url":"https://github.com/saileshnankani","followers_url":"https://api.github.com/users/saileshnankani/followers","following_url":"https://api.github.com/users/saileshnankani/following{/other_user}","gists_url":"https://api.github.com/users/saileshnankani/gists{/gist_id}","starred_url":"https://api.github.com/users/saileshnankani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saileshnankani/subscriptions","organizations_url":"https://api.github.com/users/saileshnankani/orgs","repos_url":"https://api.github.com/users/saileshnankani/repos","events_url":"https://api.github.com/users/saileshnankani/events{/privacy}","received_events_url":"https://api.github.com/users/saileshnankani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T01:56:00Z","updated_at":"2020-08-28T14:04:16Z","author_association":"CONTRIBUTOR","body":"I have implemented most of the changes you've requested. There's an additional change I made:\r\n\r\n- Since providing a working directory is optional, I added code for building Pinot in temporary directory and handling the cleanup at exit. \r\n- https://github.com/apache/incubator-pinot/pull/5911#discussion_r479319009","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682280899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682294392","html_url":"https://github.com/apache/pinot/pull/5926#issuecomment-682294392","issue_url":"https://api.github.com/repos/apache/pinot/issues/5926","id":682294392,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI5NDM5Mg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T02:47:45Z","updated_at":"2020-08-28T02:47:45Z","author_association":"CONTRIBUTOR","body":"@kishoreg Refactored the PR and introduced the `BloomFilterIdSet`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682294392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682301837","html_url":"https://github.com/apache/pinot/pull/5926#issuecomment-682301837","issue_url":"https://api.github.com/repos/apache/pinot/issues/5926","id":682301837,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjMwMTgzNw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T03:16:18Z","updated_at":"2020-08-28T03:16:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5926?src=pr&el=h1) Report\n> Merging [#5926](https://codecov.io/gh/apache/incubator-pinot/pull/5926?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `0.90%`.\n> The diff coverage is `68.99%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5926/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5926?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5926      +/-   ##\n==========================================\n+ Coverage   66.44%   67.35%   +0.90%     \n==========================================\n  Files        1075     1191     +116     \n  Lines       54773    62438    +7665     \n  Branches     8168     9533    +1365     \n==========================================\n+ Hits        36396    42054    +5658     \n- Misses      15700    17286    +1586     \n- Partials     2677     3098     +421     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `43.75% <48.87%> (?)` | |\n| #unittests | `58.79% <56.33%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5926?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...ot/common/messages/RoutingTableRebuildMessage.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvUm91dGluZ1RhYmxlUmVidWlsZE1lc3NhZ2UuamF2YQ==) | `54.54% <ø> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `70.55% <ø> (+3.70%)` | :arrow_up: |\n| [...metadata/segment/LLCRealtimeSegmentZKMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvc2VnbWVudC9MTENSZWFsdGltZVNlZ21lbnRaS01ldGFkYXRhLmphdmE=) | `47.61% <ø> (+3.35%)` | :arrow_up: |\n| [...g/apache/pinot/common/metrics/AbstractMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9BYnN0cmFjdE1ldHJpY3MuamF2YQ==) | `82.57% <ø> (+7.90%)` | :arrow_up: |\n| [...a/org/apache/pinot/common/metrics/BrokerGauge.java](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJHYXVnZS5qYXZh) | `91.66% <ø> (+1.66%)` | :arrow_up: |\n| ... and [860 more](https://codecov.io/gh/apache/incubator-pinot/pull/5926/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5926?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5926?src=pr&el=footer). Last update [e4ea9fc...fab464f](https://codecov.io/gh/apache/incubator-pinot/pull/5926?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682301837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682346278","html_url":"https://github.com/apache/pinot/pull/5936#issuecomment-682346278","issue_url":"https://api.github.com/repos/apache/pinot/issues/5936","id":682346278,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjM0NjI3OA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T06:12:32Z","updated_at":"2020-08-28T06:14:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5936?src=pr&el=h1) Report\n> Merging [#5936](https://codecov.io/gh/apache/incubator-pinot/pull/5936?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `0.63%`.\n> The diff coverage is `68.95%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5936/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5936?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5936      +/-   ##\n==========================================\n+ Coverage   66.44%   67.08%   +0.63%     \n==========================================\n  Files        1075     1184     +109     \n  Lines       54773    62044    +7271     \n  Branches     8168     9479    +1311     \n==========================================\n+ Hits        36396    41622    +5226     \n- Misses      15700    17354    +1654     \n- Partials     2677     3068     +391     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `43.72% <48.81%> (?)` | |\n| #unittests | `58.68% <56.27%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5936?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...ot/common/messages/RoutingTableRebuildMessage.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvUm91dGluZ1RhYmxlUmVidWlsZE1lc3NhZ2UuamF2YQ==) | `54.54% <ø> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `72.22% <ø> (+5.36%)` | :arrow_up: |\n| [...metadata/segment/LLCRealtimeSegmentZKMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvc2VnbWVudC9MTENSZWFsdGltZVNlZ21lbnRaS01ldGFkYXRhLmphdmE=) | `47.61% <ø> (+3.35%)` | :arrow_up: |\n| [...g/apache/pinot/common/metrics/AbstractMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9BYnN0cmFjdE1ldHJpY3MuamF2YQ==) | `82.57% <ø> (+7.90%)` | :arrow_up: |\n| [...a/org/apache/pinot/common/metrics/BrokerGauge.java](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJHYXVnZS5qYXZh) | `91.66% <ø> (+1.66%)` | :arrow_up: |\n| ... and [853 more](https://codecov.io/gh/apache/incubator-pinot/pull/5936/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5936?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5936?src=pr&el=footer). Last update [e4ea9fc...5729ff4](https://codecov.io/gh/apache/incubator-pinot/pull/5936?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682346278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682728526","html_url":"https://github.com/apache/pinot/issues/5937#issuecomment-682728526","issue_url":"https://api.github.com/repos/apache/pinot/issues/5937","id":682728526,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjcyODUyNg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T15:39:01Z","updated_at":"2020-08-28T15:39:01Z","author_association":"MEMBER","body":"@jackjlli looks like you change broker swagger\r\n\r\ngit checkout 87b5b77264c1f05ac6073ff77e1728667dce1e1b works\r\n\r\ngit checkout e9ad1e017bf06ac579014357462c86861a31cf7d DOES NOT WORK\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682728526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682738316","html_url":"https://github.com/apache/pinot/issues/5928#issuecomment-682738316","issue_url":"https://api.github.com/repos/apache/pinot/issues/5928","id":682738316,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjczODMxNg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T15:44:03Z","updated_at":"2020-08-28T15:44:03Z","author_association":"MEMBER","body":"@mcvsubbu @npawar @KKcorps thoughts?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682738316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682745569","html_url":"https://github.com/apache/pinot/issues/5904#issuecomment-682745569","issue_url":"https://api.github.com/repos/apache/pinot/issues/5904","id":682745569,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mjc0NTU2OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T15:47:49Z","updated_at":"2020-08-28T15:47:49Z","author_association":"MEMBER","body":"What operators will you need on top of DECIMAL. is sum the only one?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682745569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682953613","html_url":"https://github.com/apache/pinot/pull/5938#issuecomment-682953613","issue_url":"https://api.github.com/repos/apache/pinot/issues/5938","id":682953613,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mjk1MzYxMw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T17:16:52Z","updated_at":"2020-08-28T17:16:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5938?src=pr&el=h1) Report\n> Merging [#5938](https://codecov.io/gh/apache/incubator-pinot/pull/5938?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `7.73%`.\n> The diff coverage is `58.35%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5938/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5938?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5938      +/-   ##\n==========================================\n- Coverage   66.44%   58.71%   -7.74%     \n==========================================\n  Files        1075     1185     +110     \n  Lines       54773    62086    +7313     \n  Branches     8168     9483    +1315     \n==========================================\n+ Hits        36396    36453      +57     \n- Misses      15700    22767    +7067     \n- Partials     2677     2866     +189     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #unittests | `58.71% <58.35%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5938?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...e/pinot/broker/api/resources/PinotBrokerDebug.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdEJyb2tlckRlYnVnLmphdmE=) | `0.00% <0.00%> (-79.32%)` | :arrow_down: |\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `71.42% <ø> (-28.58%)` | :arrow_down: |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `33.96% <0.00%> (-32.71%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `35.55% <0.00%> (-13.29%)` | :arrow_down: |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0pzb25Bc3luY0h0dHBQaW5vdENsaWVudFRyYW5zcG9ydC5qYXZh) | `10.90% <0.00%> (-51.10%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `0.00% <0.00%> (-34.29%)` | :arrow_down: |\n| [...ache/pinot/common/lineage/SegmentLineageUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZVV0aWxzLmphdmE=) | `33.33% <ø> (ø)` | |\n| [...ot/common/messages/RoutingTableRebuildMessage.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvUm91dGluZ1RhYmxlUmVidWlsZE1lc3NhZ2UuamF2YQ==) | `54.54% <ø> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `63.33% <ø> (-3.53%)` | :arrow_down: |\n| ... and [943 more](https://codecov.io/gh/apache/incubator-pinot/pull/5938/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5938?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5938?src=pr&el=footer). Last update [6b78dcc...915f23f](https://codecov.io/gh/apache/incubator-pinot/pull/5938?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/682953613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683041881","html_url":"https://github.com/apache/pinot/issues/5877#issuecomment-683041881","issue_url":"https://api.github.com/repos/apache/pinot/issues/5877","id":683041881,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzA0MTg4MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T18:24:46Z","updated_at":"2020-08-28T18:24:46Z","author_association":"MEMBER","body":"@fx19880617 can we close this","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683041881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683042498","html_url":"https://github.com/apache/pinot/issues/5871#issuecomment-683042498","issue_url":"https://api.github.com/repos/apache/pinot/issues/5871","id":683042498,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzA0MjQ5OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T18:25:09Z","updated_at":"2020-08-28T18:25:09Z","author_association":"MEMBER","body":"@buchireddy  can we close this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683042498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683071844","html_url":"https://github.com/apache/pinot/issues/5877#issuecomment-683071844","issue_url":"https://api.github.com/repos/apache/pinot/issues/5877","id":683071844,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzA3MTg0NA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T18:44:46Z","updated_at":"2020-08-28T18:44:46Z","author_association":"CONTRIBUTOR","body":"Here is also a doc for using s3 as deep store: https://docs.pinot.apache.org/users/tutorials/use-s3-as-deep-store-for-pinot\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683071844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683129155","html_url":"https://github.com/apache/pinot/issues/5937#issuecomment-683129155","issue_url":"https://api.github.com/repos/apache/pinot/issues/5937","id":683129155,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzEyOTE1NQ==","user":{"login":"mr-agrwal","id":24796847,"node_id":"MDQ6VXNlcjI0Nzk2ODQ3","avatar_url":"https://avatars.githubusercontent.com/u/24796847?v=4","gravatar_id":"","url":"https://api.github.com/users/mr-agrwal","html_url":"https://github.com/mr-agrwal","followers_url":"https://api.github.com/users/mr-agrwal/followers","following_url":"https://api.github.com/users/mr-agrwal/following{/other_user}","gists_url":"https://api.github.com/users/mr-agrwal/gists{/gist_id}","starred_url":"https://api.github.com/users/mr-agrwal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr-agrwal/subscriptions","organizations_url":"https://api.github.com/users/mr-agrwal/orgs","repos_url":"https://api.github.com/users/mr-agrwal/repos","events_url":"https://api.github.com/users/mr-agrwal/events{/privacy}","received_events_url":"https://api.github.com/users/mr-agrwal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T20:18:17Z","updated_at":"2020-08-28T20:18:17Z","author_association":"CONTRIBUTOR","body":"@jackjlli @kishoreg The fix works :). Thanks!!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683129155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683144571","html_url":"https://github.com/apache/pinot/issues/5704#issuecomment-683144571","issue_url":"https://api.github.com/repos/apache/pinot/issues/5704","id":683144571,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE0NDU3MQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T21:01:15Z","updated_at":"2020-08-28T21:01:24Z","author_association":"CONTRIBUTOR","body":"Fixing an issue https://github.com/apache/incubator-pinot/pull/5940 which prevents using functions introduced in #5438 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683144571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683144586","html_url":"https://github.com/apache/pinot/pull/5941#issuecomment-683144586","issue_url":"https://api.github.com/repos/apache/pinot/issues/5941","id":683144586,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE0NDU4Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T21:01:17Z","updated_at":"2020-08-28T21:01:17Z","author_association":"MEMBER","body":"what was the bug in the previous PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683144586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683144893","html_url":"https://github.com/apache/pinot/pull/5941#issuecomment-683144893","issue_url":"https://api.github.com/repos/apache/pinot/issues/5941","id":683144893,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE0NDg5Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T21:02:04Z","updated_at":"2020-08-28T21:02:04Z","author_association":"MEMBER","body":"> what was the bug in the previous PR?\r\n\r\nNever mind looked at the diff and figured it out. Thanks for fixing it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683144893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683145518","html_url":"https://github.com/apache/pinot/pull/5940#issuecomment-683145518","issue_url":"https://api.github.com/repos/apache/pinot/issues/5940","id":683145518,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE0NTUxOA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T21:03:37Z","updated_at":"2020-08-28T21:03:37Z","author_association":"CONTRIBUTOR","body":"> LGTM. Wonder how Calcite differentiate `OTHER_FUNCTION` and `OTHER` :-P\r\n\r\nOTHER_FUNCTION is the functions Calcite recognize but not special functions like `COUNT`,`AND`, `OR`\r\nOTHER is for anything else.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683145518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683150005","html_url":"https://github.com/apache/pinot/pull/5941#issuecomment-683150005","issue_url":"https://api.github.com/repos/apache/pinot/issues/5941","id":683150005,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE1MDAwNQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T21:15:33Z","updated_at":"2020-08-28T21:15:33Z","author_association":"MEMBER","body":"@kishoreg yeah it's because the locations for those front-end related files like css, js files have changed in the newer swagger-ui version.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683150005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683166530","html_url":"https://github.com/apache/pinot/issues/5871#issuecomment-683166530","issue_url":"https://api.github.com/repos/apache/pinot/issues/5871","id":683166530,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE2NjUzMA==","user":{"login":"buchireddy","id":945283,"node_id":"MDQ6VXNlcjk0NTI4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/945283?v=4","gravatar_id":"","url":"https://api.github.com/users/buchireddy","html_url":"https://github.com/buchireddy","followers_url":"https://api.github.com/users/buchireddy/followers","following_url":"https://api.github.com/users/buchireddy/following{/other_user}","gists_url":"https://api.github.com/users/buchireddy/gists{/gist_id}","starred_url":"https://api.github.com/users/buchireddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buchireddy/subscriptions","organizations_url":"https://api.github.com/users/buchireddy/orgs","repos_url":"https://api.github.com/users/buchireddy/repos","events_url":"https://api.github.com/users/buchireddy/events{/privacy}","received_events_url":"https://api.github.com/users/buchireddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T22:06:16Z","updated_at":"2020-08-28T22:06:16Z","author_association":"CONTRIBUTOR","body":"Yes. The PR is merged.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683166530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683171767","html_url":"https://github.com/apache/pinot/issues/4484#issuecomment-683171767","issue_url":"https://api.github.com/repos/apache/pinot/issues/4484","id":683171767,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE3MTc2Nw==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T22:23:21Z","updated_at":"2020-08-28T22:34:17Z","author_association":"CONTRIBUTOR","body":"Thanks for the input @mcvsubbu . \r\n\r\nI've started a design here: https://docs.google.com/document/d/1PP_RaDuS7KGeF9RnAcRFJRCA8aCVxxVLTJn-c3hg9qQ/edit\r\n\r\nPlease take a look.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683171767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683185554","html_url":"https://github.com/apache/pinot/pull/5910#issuecomment-683185554","issue_url":"https://api.github.com/repos/apache/pinot/issues/5910","id":683185554,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE4NTU1NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T23:16:01Z","updated_at":"2020-08-28T23:16:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5910?src=pr&el=h1) Report\n> Merging [#5910](https://codecov.io/gh/apache/incubator-pinot/pull/5910?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `0.80%`.\n> The diff coverage is `69.14%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5910/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5910?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5910      +/-   ##\n==========================================\n+ Coverage   66.44%   67.25%   +0.80%     \n==========================================\n  Files        1075     1185     +110     \n  Lines       54773    62086    +7313     \n  Branches     8168     9483    +1315     \n==========================================\n+ Hits        36396    41755    +5359     \n- Misses      15700    17254    +1554     \n- Partials     2677     3077     +400     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `43.80% <48.76%> (?)` | |\n| #unittests | `58.72% <56.53%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5910?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...ot/common/messages/RoutingTableRebuildMessage.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvUm91dGluZ1RhYmxlUmVidWlsZE1lc3NhZ2UuamF2YQ==) | `54.54% <ø> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `72.22% <ø> (+5.36%)` | :arrow_up: |\n| [...metadata/segment/LLCRealtimeSegmentZKMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvc2VnbWVudC9MTENSZWFsdGltZVNlZ21lbnRaS01ldGFkYXRhLmphdmE=) | `47.61% <ø> (+3.35%)` | :arrow_up: |\n| [...g/apache/pinot/common/metrics/AbstractMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9BYnN0cmFjdE1ldHJpY3MuamF2YQ==) | `76.22% <ø> (+1.55%)` | :arrow_up: |\n| [...a/org/apache/pinot/common/metrics/BrokerGauge.java](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJHYXVnZS5qYXZh) | `92.30% <ø> (+2.30%)` | :arrow_up: |\n| ... and [857 more](https://codecov.io/gh/apache/incubator-pinot/pull/5910/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5910?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5910?src=pr&el=footer). Last update [331b874...32599ed](https://codecov.io/gh/apache/incubator-pinot/pull/5910?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683185554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683191930","html_url":"https://github.com/apache/pinot/issues/5942#issuecomment-683191930","issue_url":"https://api.github.com/repos/apache/pinot/issues/5942","id":683191930,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE5MTkzMA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T23:41:51Z","updated_at":"2020-08-28T23:41:51Z","author_association":"CONTRIBUTOR","body":"One more: https://github.com/apache/incubator-pinot/issues/5730","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683191930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683245902","html_url":"https://github.com/apache/pinot/issues/5944#issuecomment-683245902","issue_url":"https://api.github.com/repos/apache/pinot/issues/5944","id":683245902,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzI0NTkwMg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T06:36:03Z","updated_at":"2020-08-29T06:36:03Z","author_association":"MEMBER","body":"+100 for this. @jackjlli can you please explain why this sha was added?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683245902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683248120","html_url":"https://github.com/apache/pinot/issues/5944#issuecomment-683248120","issue_url":"https://api.github.com/repos/apache/pinot/issues/5944","id":683248120,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzI0ODEyMA==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T07:02:15Z","updated_at":"2020-08-29T07:02:15Z","author_association":"MEMBER","body":"The purpose of having revision and sha1 is to have the ability to specify the internal published version of Pinot. By default the revision value is the next release version (like `0.5.0`) and the sha1 value is `-SNAPSHOT`. In LinkedIn, we leverage this to change the version to an internal release (like `0.5.0-dev-12345`) and then publish the release to internal artifactory.\r\nI actually have a PR which moves to natural pom versions: https://github.com/apache/incubator-pinot/pull/5840 but the logic is mixed with migrating the publication. I can split that out to a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683248120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683249249","html_url":"https://github.com/apache/pinot/issues/5944#issuecomment-683249249","issue_url":"https://api.github.com/repos/apache/pinot/issues/5944","id":683249249,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzI0OTI0OQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T07:15:01Z","updated_at":"2020-08-29T07:15:01Z","author_association":"MEMBER","body":"Just split that logic out of the previous PR:\r\nhttps://github.com/apache/incubator-pinot/pull/5945\r\nCould @kishoreg @adriancole take a look? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683249249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683311144","html_url":"https://github.com/apache/pinot/pull/5868#issuecomment-683311144","issue_url":"https://api.github.com/repos/apache/pinot/issues/5868","id":683311144,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzMxMTE0NA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T16:19:31Z","updated_at":"2020-08-29T16:19:31Z","author_association":"MEMBER","body":"@suvodeep-pyne Does this look good?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683311144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683311222","html_url":"https://github.com/apache/pinot/pull/5833#issuecomment-683311222","issue_url":"https://api.github.com/repos/apache/pinot/issues/5833","id":683311222,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzMxMTIyMg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T16:20:20Z","updated_at":"2020-08-29T16:20:20Z","author_association":"MEMBER","body":"Is this ready for review? Please add WIP to the title if its not ready yet","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683311222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683386918","html_url":"https://github.com/apache/pinot/issues/5850#issuecomment-683386918","issue_url":"https://api.github.com/repos/apache/pinot/issues/5850","id":683386918,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzM4NjkxOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-30T07:27:54Z","updated_at":"2020-08-30T07:27:54Z","author_association":"CONTRIBUTOR","body":"I think for servicemanager, we should have a composite health returned. there's a conversation on slack to this effect","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683386918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683484237","html_url":"https://github.com/apache/pinot/issues/5879#issuecomment-683484237","issue_url":"https://api.github.com/repos/apache/pinot/issues/5879","id":683484237,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzQ4NDIzNw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-30T23:22:43Z","updated_at":"2020-08-30T23:22:43Z","author_association":"CONTRIBUTOR","body":"I will add this support into ingestion jobs","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683484237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683488194","html_url":"https://github.com/apache/pinot/pull/5846#issuecomment-683488194","issue_url":"https://api.github.com/repos/apache/pinot/issues/5846","id":683488194,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzQ4ODE5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-30T23:55:33Z","updated_at":"2020-08-30T23:55:33Z","author_association":"CONTRIBUTOR","body":"above request relates also to #5850","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683488194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683490782","html_url":"https://github.com/apache/pinot/issues/5950#issuecomment-683490782","issue_url":"https://api.github.com/repos/apache/pinot/issues/5950","id":683490782,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzQ5MDc4Mg==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T00:14:05Z","updated_at":"2020-08-31T00:14:05Z","author_association":"CONTRIBUTOR","body":"Currently the health check is implemented in: https://github.com/apache/incubator-pinot/blob/master/pinot-tools/src/main/java/org/apache/pinot/tools/service/api/resources/PinotServiceManagerHealthCheck.java\r\n\r\nI think `ServiceStatus.getServiceStatus();` will return the composite health check.\r\n`ServiceStatus` holds a `MapBasedMultipleCallbackServiceStatusCallback` which contains the callback for all the components.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683490782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683491573","html_url":"https://github.com/apache/pinot/issues/5950#issuecomment-683491573","issue_url":"https://api.github.com/repos/apache/pinot/issues/5950","id":683491573,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzQ5MTU3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T00:18:21Z","updated_at":"2020-08-31T00:18:21Z","author_association":"CONTRIBUTOR","body":"sounds like the right spot. main thing after that is the rather simple logic to scan them before deciding the ultimate HTTP status (200 vs 503) where if any status is not ready == 503 conversely iff they are all ready == 200","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683491573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683512998","html_url":"https://github.com/apache/pinot/issues/5948#issuecomment-683512998","issue_url":"https://api.github.com/repos/apache/pinot/issues/5948","id":683512998,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUxMjk5OA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T02:04:19Z","updated_at":"2020-08-31T02:04:19Z","author_association":"CONTRIBUTOR","body":"This thing keeps making its appearance every once in a while.\r\n\r\nI assume that by `lag` you mean the difference between the highest offset available vs the offset consumed. This used to be exposed by Kafka in 0.9, but not anymore. We need to make a separate API call to get the highest offset, and that is something that is sub-optimal when it comes to high ingestion use cases.\r\n\r\nWe could add some calls to our existing StreamConsumer interface and some implementations may choose to return the highest offset while others may not return it. If it is returned, a metric may be emitted.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683512998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683518233","html_url":"https://github.com/apache/pinot/issues/5950#issuecomment-683518233","issue_url":"https://api.github.com/repos/apache/pinot/issues/5950","id":683518233,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUxODIzMw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T02:30:16Z","updated_at":"2020-08-31T02:30:16Z","author_association":"CONTRIBUTOR","body":"My initial thoughts was that user expects all the components to be up to consider the standalone process is healthy.\r\nSo I put the hight level `/health` uses 200 for (all healthy) or 503(something is wrong).\r\n\r\nDo you suggest to have some error code for partial failure or all failure? Also this is still missing the information of which component is in bad state.\r\n\r\nMeanwhile users can use `/health/services` to get all health checks for all the components.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683518233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683526120","html_url":"https://github.com/apache/pinot/pull/5810#issuecomment-683526120","issue_url":"https://api.github.com/repos/apache/pinot/issues/5810","id":683526120,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUyNjEyMA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T03:07:16Z","updated_at":"2020-08-31T03:07:16Z","author_association":"MEMBER","body":"Tested it and works as expected. Thanks @shahsank3t ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683526120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683542996","html_url":"https://github.com/apache/pinot/issues/5950#issuecomment-683542996","issue_url":"https://api.github.com/repos/apache/pinot/issues/5950","id":683542996,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU0Mjk5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T04:31:47Z","updated_at":"2020-08-31T04:31:47Z","author_association":"CONTRIBUTOR","body":"I don't think we need a code difference on partial fail. still use 503. if someone wants to they can see the partial fail in the json of the response.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683542996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683550293","html_url":"https://github.com/apache/pinot/pull/5719#issuecomment-683550293","issue_url":"https://api.github.com/repos/apache/pinot/issues/5719","id":683550293,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU1MDI5Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T05:03:25Z","updated_at":"2020-08-31T05:03:25Z","author_association":"MEMBER","body":"@mayankshriv @Jackie-Jiang please review this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683550293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683558329","html_url":"https://github.com/apache/pinot/issues/5950#issuecomment-683558329","issue_url":"https://api.github.com/repos/apache/pinot/issues/5950","id":683558329,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU1ODMyOQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T05:30:47Z","updated_at":"2020-08-31T05:40:50Z","author_association":"CONTRIBUTOR","body":"Sounds good, then I think current code behavior is already as you described?\r\nHave you observed the situation that `/health` returns 200 but `/health/services` give some components failure?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683558329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683584102","html_url":"https://github.com/apache/pinot/issues/5950#issuecomment-683584102","issue_url":"https://api.github.com/repos/apache/pinot/issues/5950","id":683584102,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU4NDEwMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T06:22:07Z","updated_at":"2020-08-31T06:22:07Z","author_association":"CONTRIBUTOR","body":"no I haven't seen partial failure scenario using this. I will switch to it. meanwhile, it might be work back filling a test that proves PinotServiceManagerHealthCheck gives 503 on partial failure or if already does, link that and close this out.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683584102/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683862057","html_url":"https://github.com/apache/pinot/issues/5904#issuecomment-683862057","issue_url":"https://api.github.com/repos/apache/pinot/issues/5904","id":683862057,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mzg2MjA1Nw==","user":{"login":"lgo","id":1161183,"node_id":"MDQ6VXNlcjExNjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/1161183?v=4","gravatar_id":"","url":"https://api.github.com/users/lgo","html_url":"https://github.com/lgo","followers_url":"https://api.github.com/users/lgo/followers","following_url":"https://api.github.com/users/lgo/following{/other_user}","gists_url":"https://api.github.com/users/lgo/gists{/gist_id}","starred_url":"https://api.github.com/users/lgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgo/subscriptions","organizations_url":"https://api.github.com/users/lgo/orgs","repos_url":"https://api.github.com/users/lgo/repos","events_url":"https://api.github.com/users/lgo/events{/privacy}","received_events_url":"https://api.github.com/users/lgo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T15:46:09Z","updated_at":"2020-08-31T15:46:22Z","author_association":"CONTRIBUTOR","body":"We'll just need basic arithmetic operations (+ abs) and `SUM` agg. Our aggregation functions may look like either this:\r\n```\r\nSELECT\r\n  SUM(decimal_col)\r\nFROM ...\r\n```\r\n\r\nOr some variations (`SUM(ABS(decimal_col))`, or other basic math ops inside the `SUM` expression)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683862057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683909630","html_url":"https://github.com/apache/pinot/pull/5941#issuecomment-683909630","issue_url":"https://api.github.com/repos/apache/pinot/issues/5941","id":683909630,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzkwOTYzMA==","user":{"login":"mr-agrwal","id":24796847,"node_id":"MDQ6VXNlcjI0Nzk2ODQ3","avatar_url":"https://avatars.githubusercontent.com/u/24796847?v=4","gravatar_id":"","url":"https://api.github.com/users/mr-agrwal","html_url":"https://github.com/mr-agrwal","followers_url":"https://api.github.com/users/mr-agrwal/followers","following_url":"https://api.github.com/users/mr-agrwal/following{/other_user}","gists_url":"https://api.github.com/users/mr-agrwal/gists{/gist_id}","starred_url":"https://api.github.com/users/mr-agrwal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr-agrwal/subscriptions","organizations_url":"https://api.github.com/users/mr-agrwal/orgs","repos_url":"https://api.github.com/users/mr-agrwal/repos","events_url":"https://api.github.com/users/mr-agrwal/events{/privacy}","received_events_url":"https://api.github.com/users/mr-agrwal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T17:09:02Z","updated_at":"2020-08-31T17:09:02Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683909630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683966432","html_url":"https://github.com/apache/pinot/issues/5925#issuecomment-683966432","issue_url":"https://api.github.com/repos/apache/pinot/issues/5925","id":683966432,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mzk2NjQzMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T18:56:12Z","updated_at":"2020-08-31T18:56:12Z","author_association":"CONTRIBUTOR","body":"Support `IN_ID_SET` predicate: #5952 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/683966432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/684106181","html_url":"https://github.com/apache/pinot/issues/5950#issuecomment-684106181","issue_url":"https://api.github.com/repos/apache/pinot/issues/5950","id":684106181,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDEwNjE4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T23:47:55Z","updated_at":"2020-08-31T23:47:55Z","author_association":"CONTRIBUTOR","body":"PS I have seen a partial failure, just not one using this. That said, there is code now that checks exit status at startup, and the partial failure I saw was at bootstrap (error extracting the swagger stuff)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/684106181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/684180261","html_url":"https://github.com/apache/pinot/issues/5950#issuecomment-684180261","issue_url":"https://api.github.com/repos/apache/pinot/issues/5950","id":684180261,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE4MDI2MQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T03:48:21Z","updated_at":"2020-09-01T03:48:21Z","author_association":"CONTRIBUTOR","body":"oh? so swagger fail the component? or you saw swagger errors in the log?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/684180261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/684182976","html_url":"https://github.com/apache/pinot/issues/5950#issuecomment-684182976","issue_url":"https://api.github.com/repos/apache/pinot/issues/5950","id":684182976,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE4Mjk3Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T03:57:47Z","updated_at":"2020-09-01T03:57:47Z","author_association":"CONTRIBUTOR","body":"it was a jar error ultimately during bootstrap which no longer exists (after extracting all of them). sadly I don't have a copy of the message. the surprise was that the listener still worked heh. I think this error will be less possible after recent commit which checks exception and boolean status strictly.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/684182976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/684974188","html_url":"https://github.com/apache/pinot/pull/5953#issuecomment-684974188","issue_url":"https://api.github.com/repos/apache/pinot/issues/5953","id":684974188,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDk3NDE4OA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T16:17:55Z","updated_at":"2020-09-01T16:17:55Z","author_association":"CONTRIBUTOR","body":"> please annotate the PR for release notes that these properties are deprecated.\r\n> Update doc accordingly\r\n\r\nalready labeled release-notes and added release notes section","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/684974188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685040939","html_url":"https://github.com/apache/pinot/issues/5955#issuecomment-685040939","issue_url":"https://api.github.com/repos/apache/pinot/issues/5955","id":685040939,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTA0MDkzOQ==","user":{"login":"dongxiaoman","id":11821736,"node_id":"MDQ6VXNlcjExODIxNzM2","avatar_url":"https://avatars.githubusercontent.com/u/11821736?v=4","gravatar_id":"","url":"https://api.github.com/users/dongxiaoman","html_url":"https://github.com/dongxiaoman","followers_url":"https://api.github.com/users/dongxiaoman/followers","following_url":"https://api.github.com/users/dongxiaoman/following{/other_user}","gists_url":"https://api.github.com/users/dongxiaoman/gists{/gist_id}","starred_url":"https://api.github.com/users/dongxiaoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongxiaoman/subscriptions","organizations_url":"https://api.github.com/users/dongxiaoman/orgs","repos_url":"https://api.github.com/users/dongxiaoman/repos","events_url":"https://api.github.com/users/dongxiaoman/events{/privacy}","received_events_url":"https://api.github.com/users/dongxiaoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T18:07:11Z","updated_at":"2020-09-01T18:09:40Z","author_association":"CONTRIBUTOR","body":"Error Log when set property to `latest`: (sorry for the bad format)\r\n```\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853256] 2020/09/01 17:09:46.852 ERROR [PinotTableRestletResource] [grizzly-http-server-5] Failed to fetch the offset for topic: ledger.v2, partition: 0 with criteria: OffsetCriteria{_off$\r\netType=CUSTOM, _offsetString='latest'}\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853299] java.lang.IllegalStateException: Failed to fetch the offset for topic: ledger.v2, partition: 0 with criteria: OffsetCriteria{_offsetType=CUSTOM, _offsetString='latest'}\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853351]        at org.apache.pinot.controller.helix.core.realtime.PinotLLCRealtimeSegmentManager.getPartitionOffset(PinotLLCRealtimeSegmentManager.java:612) ~[pinot-all-0.5.0-2020-08-13-$\r\nNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853392]        at org.apache.pinot.controller.helix.core.realtime.PinotLLCRealtimeSegmentManager.setupNewPartition(PinotLLCRealtimeSegmentManager.java:1012) ~[pinot-all-0.5.0-2020-08-13-$\r\nNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853430]        at org.apache.pinot.controller.helix.core.realtime.PinotLLCRealtimeSegmentManager.setUpNewTable(PinotLLCRealtimeSegmentManager.java:226) ~[pinot-all-0.5.0-2020-08-13-SNAPS$\r\nOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853479]        at org.apache.pinot.controller.helix.core.PinotTableIdealStateBuilder.buildLowLevelRealtimeIdealStateFor(PinotTableIdealStateBuilder.java:114) ~[pinot-all-0.5.0-2020-08-13$\r\nSNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853516]        at org.apache.pinot.controller.helix.core.PinotHelixResourceManager.ensureRealtimeClusterIsSetUp(PinotHelixResourceManager.java:1284) ~[pinot-all-0.5.0-2020-08-13-SNAPSHOT$\r\njar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853552]        at org.apache.pinot.controller.helix.core.PinotHelixResourceManager.addTable(PinotHelixResourceManager.java:1139) ~[pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependenci$\r\ns.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853582]        at org.apache.pinot.controller.api.resources.PinotTableRestletResource.addTable(PinotTableRestletResource.java:128) ~[pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependenc\r\nies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853600]        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_265]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853623]        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_265]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853644]        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_265]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853655]        at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_265]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853678]        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52) ~[pinot-all-0.5.0-2020-\r\n08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853699]        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124) [pinot-all-0.5.0-2020-08-13-SNAPSHOT\r\n-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853751]        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167) [pinot-all-0.5.0-2020-08-13-SNAPSHO\r\nT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853789]        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219) [pinot-all-0.5.0\r\n-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853820]        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79) [pinot-all-0.5.0-2020-08-13-SNAPSH\r\nOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853850]        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:469) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-\r\n08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853877]        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:391) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-0\r\n8-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853897]        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:80) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08\r\n-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853929]        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:253) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1\r\na1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853950]        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c\r\n76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853970]        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c\r\n76d81d138cac29d0d3d4e\r\n....\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853877]        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:391) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-0\r\n8-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853897]        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:80) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08\r\n-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853929]        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:253) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1\r\na1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853950]        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c\r\n76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853970]        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c\r\n76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.853987]        at org.glassfish.jersey.internal.Errors.process(Errors.java:292) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0\r\nc76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854011]        at org.glassfish.jersey.internal.Errors.process(Errors.java:274) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0\r\nc76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854032]        at org.glassfish.jersey.internal.Errors.process(Errors.java:244) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0\r\nc76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854052]        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAP\r\nSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854070]        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:232) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67e\r\nb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854088]        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:679) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSH\r\nOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854121]        at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:353) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0\r\n-2020-08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854141]        at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-13-SNAPSHOT-5ac67e\r\nb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854172]        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-\r\n08-13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854198]        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549) [pinot-all-0.5.0-2020-08-13-SNAPSHOT-jar-with-dependencies.jar:0.5.0-2020-08-\r\n13-SNAPSHOT-5ac67eb1a1210cb6c0c76d81d138cac29d0d3d4e]\r\n@^ r=ledger a=unilog-host $@[2020-09-01 17:09:46.854208]        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_265]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685040939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685042006","html_url":"https://github.com/apache/pinot/issues/5955#issuecomment-685042006","issue_url":"https://api.github.com/repos/apache/pinot/issues/5955","id":685042006,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTA0MjAwNg==","user":{"login":"dongxiaoman","id":11821736,"node_id":"MDQ6VXNlcjExODIxNzM2","avatar_url":"https://avatars.githubusercontent.com/u/11821736?v=4","gravatar_id":"","url":"https://api.github.com/users/dongxiaoman","html_url":"https://github.com/dongxiaoman","followers_url":"https://api.github.com/users/dongxiaoman/followers","following_url":"https://api.github.com/users/dongxiaoman/following{/other_user}","gists_url":"https://api.github.com/users/dongxiaoman/gists{/gist_id}","starred_url":"https://api.github.com/users/dongxiaoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongxiaoman/subscriptions","organizations_url":"https://api.github.com/users/dongxiaoman/orgs","repos_url":"https://api.github.com/users/dongxiaoman/repos","events_url":"https://api.github.com/users/dongxiaoman/events{/privacy}","received_events_url":"https://api.github.com/users/dongxiaoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T18:08:51Z","updated_at":"2020-09-01T18:08:51Z","author_association":"CONTRIBUTOR","body":"There is no error log when set to \"smallest\". We ingested exactly 5000 messages for that real time table, which is a bit strange. I don't think Kafka retention has something to do with that.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685042006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685061460","html_url":"https://github.com/apache/pinot/issues/5955#issuecomment-685061460","issue_url":"https://api.github.com/repos/apache/pinot/issues/5955","id":685061460,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTA2MTQ2MA==","user":{"login":"dongxiaoman","id":11821736,"node_id":"MDQ6VXNlcjExODIxNzM2","avatar_url":"https://avatars.githubusercontent.com/u/11821736?v=4","gravatar_id":"","url":"https://api.github.com/users/dongxiaoman","html_url":"https://github.com/dongxiaoman","followers_url":"https://api.github.com/users/dongxiaoman/followers","following_url":"https://api.github.com/users/dongxiaoman/following{/other_user}","gists_url":"https://api.github.com/users/dongxiaoman/gists{/gist_id}","starred_url":"https://api.github.com/users/dongxiaoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongxiaoman/subscriptions","organizations_url":"https://api.github.com/users/dongxiaoman/orgs","repos_url":"https://api.github.com/users/dongxiaoman/repos","events_url":"https://api.github.com/users/dongxiaoman/events{/privacy}","received_events_url":"https://api.github.com/users/dongxiaoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T18:42:00Z","updated_at":"2020-09-01T18:42:24Z","author_association":"CONTRIBUTOR","body":"To reproduce the issue, we need to start from a clean slate. I can reproduce after deleting the table completely and start fresh. below are the steps:\r\n\r\n1. delete the old table\r\n2. set \"stream.kafka.consumer.prop.auto.offset.reset\": \"smallest\" , table created, got exactly 50000 documents and stopped\r\n3. delete table again\r\n4. change value in config to earliest or latest, cannot create realtime table with the error OffsetCriteria{_offsetType=CUSTOM, _offsetString='earliest'}\r\n5. the value largest or smallest works. in our config we are using \"stream.kafka.consumer.factory.class.name\": \"org.apache.pinot.plugin.stream.kafka20.KafkaConsumerFactory\".\r\n6. \r\n\r\nItem #2 is still an issue, where we can only see 50000 documents in pinotcontroller UI (query console)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685061460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685064354","html_url":"https://github.com/apache/pinot/issues/5955#issuecomment-685064354","issue_url":"https://api.github.com/repos/apache/pinot/issues/5955","id":685064354,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTA2NDM1NA==","user":{"login":"dongxiaoman","id":11821736,"node_id":"MDQ6VXNlcjExODIxNzM2","avatar_url":"https://avatars.githubusercontent.com/u/11821736?v=4","gravatar_id":"","url":"https://api.github.com/users/dongxiaoman","html_url":"https://github.com/dongxiaoman","followers_url":"https://api.github.com/users/dongxiaoman/followers","following_url":"https://api.github.com/users/dongxiaoman/following{/other_user}","gists_url":"https://api.github.com/users/dongxiaoman/gists{/gist_id}","starred_url":"https://api.github.com/users/dongxiaoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongxiaoman/subscriptions","organizations_url":"https://api.github.com/users/dongxiaoman/orgs","repos_url":"https://api.github.com/users/dongxiaoman/repos","events_url":"https://api.github.com/users/dongxiaoman/events{/privacy}","received_events_url":"https://api.github.com/users/dongxiaoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T18:48:07Z","updated_at":"2020-09-01T18:48:07Z","author_association":"CONTRIBUTOR","body":"I think the major issue here is that with \"smallest\" the new Kafka messages are not picked up at some point.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685064354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685100716","html_url":"https://github.com/apache/pinot/issues/5955#issuecomment-685100716","issue_url":"https://api.github.com/repos/apache/pinot/issues/5955","id":685100716,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTEwMDcxNg==","user":{"login":"dongxiaoman","id":11821736,"node_id":"MDQ6VXNlcjExODIxNzM2","avatar_url":"https://avatars.githubusercontent.com/u/11821736?v=4","gravatar_id":"","url":"https://api.github.com/users/dongxiaoman","html_url":"https://github.com/dongxiaoman","followers_url":"https://api.github.com/users/dongxiaoman/followers","following_url":"https://api.github.com/users/dongxiaoman/following{/other_user}","gists_url":"https://api.github.com/users/dongxiaoman/gists{/gist_id}","starred_url":"https://api.github.com/users/dongxiaoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongxiaoman/subscriptions","organizations_url":"https://api.github.com/users/dongxiaoman/orgs","repos_url":"https://api.github.com/users/dongxiaoman/repos","events_url":"https://api.github.com/users/dongxiaoman/events{/privacy}","received_events_url":"https://api.github.com/users/dongxiaoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T20:02:06Z","updated_at":"2020-09-01T20:02:06Z","author_association":"CONTRIBUTOR","body":"Switched to a new table, seeing flow of below warning:\r\n```\r\nWARN [LLRealtimeSegmentDataManager_finance_edges_v2_temp__57__0__20200901T1957Z] [finance_edges_v2_temp__33__0__20200901T1957Z] CommitEnd failed with response {\"streamPartitionMsgOffset\":null,\"buildTimeSec\":-1,\"isSplitCommitType\":false,\"status\":\"FAILED\",\"offset\":-1}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685100716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685164133","html_url":"https://github.com/apache/pinot/issues/5955#issuecomment-685164133","issue_url":"https://api.github.com/repos/apache/pinot/issues/5955","id":685164133,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTE2NDEzMw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T22:20:45Z","updated_at":"2020-09-01T22:20:45Z","author_association":"CONTRIBUTOR","body":"After some investigation, the problem is on the deep storage side instead of the Kafka ingestion. Close this issue now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685164133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685294191","html_url":"https://github.com/apache/pinot/pull/5718#issuecomment-685294191","issue_url":"https://api.github.com/repos/apache/pinot/issues/5718","id":685294191,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTI5NDE5MQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T04:51:10Z","updated_at":"2020-09-09T03:49:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5718?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@7708341`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `62.02%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5718/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5718?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5718   +/-   ##\n=========================================\n  Coverage          ?   67.15%           \n=========================================\n  Files             ?     1205           \n  Lines             ?    63599           \n  Branches          ?     9741           \n=========================================\n  Hits              ?    42708           \n  Misses            ?    17747           \n  Partials          ?     3144           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `43.55% <0.63%> (?)` | |\n| #unittests | `58.36% <62.02%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5718?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...che/pinot/controller/util/TableMetadataReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1RhYmxlTWV0YWRhdGFSZWFkZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ler/api/resources/PinotSegmentRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFJlc3RsZXRSZXNvdXJjZS5qYXZh) | `14.19% <5.88%> (ø)` | |\n| [...che/pinot/server/api/resources/TablesResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9UYWJsZXNSZXNvdXJjZS5qYXZh) | `72.83% <25.00%> (ø)` | |\n| [...ontroller/api/resources/ServerTableSizeReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1NlcnZlclRhYmxlU2l6ZVJlYWRlci5qYXZh) | `83.87% <58.33%> (ø)` | |\n| [...t/server/api/resources/SegmentMetadataFetcher.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9TZWdtZW50TWV0YWRhdGFGZXRjaGVyLmphdmE=) | `70.45% <70.45%> (ø)` | |\n| [...t/controller/util/ServerSegmentMetadataReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlcnZlclNlZ21lbnRNZXRhZGF0YVJlYWRlci5qYXZh) | `84.37% <84.37%> (ø)` | |\n| [...pinot/controller/util/CompletionServiceHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0NvbXBsZXRpb25TZXJ2aWNlSGVscGVyLmphdmE=) | `93.75% <93.75%> (ø)` | |\n| [...e/indexsegment/immutable/ImmutableSegmentImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pbmRleHNlZ21lbnQvaW1tdXRhYmxlL0ltbXV0YWJsZVNlZ21lbnRJbXBsLmphdmE=) | `74.35% <100.00%> (ø)` | |\n| [...pinot/core/util/IntDoubleIndexedPriorityQueue.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL0ludERvdWJsZUluZGV4ZWRQcmlvcml0eVF1ZXVlLmphdmE=) | `85.36% <0.00%> (ø)` | |\n| [...java/org/apache/pinot/spi/utils/DataSizeUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvRGF0YVNpemVVdGlscy5qYXZh) | `88.23% <0.00%> (ø)` | |\n| ... and [1203 more](https://codecov.io/gh/apache/incubator-pinot/pull/5718/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5718?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5718?src=pr&el=footer). Last update [7708341...b36d4cf](https://codecov.io/gh/apache/incubator-pinot/pull/5718?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685294191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685315760","html_url":"https://github.com/apache/pinot/pull/5857#issuecomment-685315760","issue_url":"https://api.github.com/repos/apache/pinot/issues/5857","id":685315760,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTMxNTc2MA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T05:48:47Z","updated_at":"2020-09-02T05:48:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5857?src=pr&el=h1) Report\n> Merging [#5857](https://codecov.io/gh/apache/incubator-pinot/pull/5857?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `0.94%`.\n> The diff coverage is `70.06%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5857/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5857?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5857      +/-   ##\n==========================================\n+ Coverage   66.44%   67.38%   +0.94%     \n==========================================\n  Files        1075     1192     +117     \n  Lines       54773    62655    +7882     \n  Branches     8168     9561    +1393     \n==========================================\n+ Hits        36396    42223    +5827     \n- Misses      15700    17328    +1628     \n- Partials     2677     3104     +427     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `43.65% <46.55%> (?)` | |\n| #unittests | `58.84% <57.79%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5857?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/lineage/SegmentLineageAccessHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZUFjY2Vzc0hlbHBlci5qYXZh) | `93.33% <ø> (ø)` | |\n| [...ache/pinot/common/lineage/SegmentLineageUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZVV0aWxzLmphdmE=) | `33.33% <ø> (ø)` | |\n| [...ot/common/messages/RoutingTableRebuildMessage.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvUm91dGluZ1RhYmxlUmVidWlsZE1lc3NhZ2UuamF2YQ==) | `54.54% <ø> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `72.22% <ø> (+5.36%)` | :arrow_up: |\n| [...metadata/segment/LLCRealtimeSegmentZKMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvc2VnbWVudC9MTENSZWFsdGltZVNlZ21lbnRaS01ldGFkYXRhLmphdmE=) | `47.61% <ø> (+3.35%)` | :arrow_up: |\n| ... and [863 more](https://codecov.io/gh/apache/incubator-pinot/pull/5857/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5857?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5857?src=pr&el=footer). Last update [d444285...7d0cce6](https://codecov.io/gh/apache/incubator-pinot/pull/5857?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685315760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685386447","html_url":"https://github.com/apache/pinot/issues/5960#issuecomment-685386447","issue_url":"https://api.github.com/repos/apache/pinot/issues/5960","id":685386447,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTM4NjQ0Nw==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T07:02:24Z","updated_at":"2020-09-02T07:02:24Z","author_association":"CONTRIBUTOR","body":"@jackjlli and @mcvsubbu I wonder if you have encountered the above deadlock issue in your Prod clusters. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685386447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685858274","html_url":"https://github.com/apache/pinot/pull/5959#issuecomment-685858274","issue_url":"https://api.github.com/repos/apache/pinot/issues/5959","id":685858274,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTg1ODI3NA==","user":{"login":"pradeepgv42","id":66842697,"node_id":"MDQ6VXNlcjY2ODQyNjk3","avatar_url":"https://avatars.githubusercontent.com/u/66842697?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepgv42","html_url":"https://github.com/pradeepgv42","followers_url":"https://api.github.com/users/pradeepgv42/followers","following_url":"https://api.github.com/users/pradeepgv42/following{/other_user}","gists_url":"https://api.github.com/users/pradeepgv42/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepgv42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepgv42/subscriptions","organizations_url":"https://api.github.com/users/pradeepgv42/orgs","repos_url":"https://api.github.com/users/pradeepgv42/repos","events_url":"https://api.github.com/users/pradeepgv42/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepgv42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T16:41:17Z","updated_at":"2020-09-02T16:41:17Z","author_association":"CONTRIBUTOR","body":"@jackjlli Thanks for the fix, LGTM","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685858274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685926055","html_url":"https://github.com/apache/pinot/issues/5960#issuecomment-685926055","issue_url":"https://api.github.com/repos/apache/pinot/issues/5960","id":685926055,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTkyNjA1NQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T18:42:11Z","updated_at":"2020-09-02T18:45:46Z","author_association":"MEMBER","body":"The default pool size for HelixTaskExecutor shouldn't be just 1. I checked the Helix code and the default value is 40:\r\nhttps://github.com/apache/helix/blob/78f6c8beaf05302703809dd7de231605ff4d74a3/helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java#L115\r\nPlease adjust the `STATE_TRANSITION.maxThreads` in `CONFIGS/CLUSTER/pinot` ZNode and restart all the pinot components sequentially to correctly pick up your new setting (controller first, then broker, server, etc).\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685926055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685963230","html_url":"https://github.com/apache/pinot/issues/5951#issuecomment-685963230","issue_url":"https://api.github.com/repos/apache/pinot/issues/5951","id":685963230,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTk2MzIzMA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T19:57:28Z","updated_at":"2020-09-02T19:57:52Z","author_association":"CONTRIBUTOR","body":"This could also be very useful for user to test controller/server configs with PinotFs. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685963230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685983332","html_url":"https://github.com/apache/pinot/issues/5915#issuecomment-685983332","issue_url":"https://api.github.com/repos/apache/pinot/issues/5915","id":685983332,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTk4MzMzMg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T20:35:30Z","updated_at":"2020-09-02T20:37:40Z","author_association":"CONTRIBUTOR","body":"How about we enforce that schema must exist for a table before adding/updating the table? i.e. fail table validation if schema doesn't exist. That way we'll get rid of the corner case.\r\nBesides, this is already a requirement for realtime.\r\n@Jackie-Jiang ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685983332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685997839","html_url":"https://github.com/apache/pinot/issues/5942#issuecomment-685997839","issue_url":"https://api.github.com/repos/apache/pinot/issues/5942","id":685997839,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTk5NzgzOQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T21:06:37Z","updated_at":"2020-09-02T21:06:37Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/issues/5900\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/685997839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686038762","html_url":"https://github.com/apache/pinot/issues/5960#issuecomment-686038762","issue_url":"https://api.github.com/repos/apache/pinot/issues/5960","id":686038762,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjAzODc2Mg==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T21:33:48Z","updated_at":"2020-09-02T21:33:48Z","author_association":"MEMBER","body":"In Pinot 1.0, we used to have a logic that the value of `STATE_TRANSITION.maxThreads` is set to 1 if this config is missing in the cluster. This will cause issue as this default value 1 will be used as the thread pool size, which will make Pinot cluster extremely slow. \r\nIf you try to upgrade Pinot cluster from 1.0 to a higher version, please keep in mind that `STATE_TRANSITION.maxThreads` be set to a higher number instead of 1 in `CONFIGS/CLUSTER/pinot` Znode before rolling out to higher Pinot version.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686038762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686246344","html_url":"https://github.com/apache/pinot/pull/5961#issuecomment-686246344","issue_url":"https://api.github.com/repos/apache/pinot/issues/5961","id":686246344,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjI0NjM0NA==","user":{"login":"devinay","id":449318,"node_id":"MDQ6VXNlcjQ0OTMxOA==","avatar_url":"https://avatars.githubusercontent.com/u/449318?v=4","gravatar_id":"","url":"https://api.github.com/users/devinay","html_url":"https://github.com/devinay","followers_url":"https://api.github.com/users/devinay/followers","following_url":"https://api.github.com/users/devinay/following{/other_user}","gists_url":"https://api.github.com/users/devinay/gists{/gist_id}","starred_url":"https://api.github.com/users/devinay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinay/subscriptions","organizations_url":"https://api.github.com/users/devinay/orgs","repos_url":"https://api.github.com/users/devinay/repos","events_url":"https://api.github.com/users/devinay/events{/privacy}","received_events_url":"https://api.github.com/users/devinay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T04:34:28Z","updated_at":"2020-09-03T04:34:28Z","author_association":"NONE","body":"This is good. I had a few additional comments:\r\n\r\nIt would probably make sense to have 3 types of installation :\r\nfrontend, worker and scheduler : So users should be able to install these 3 kinds of nodes either by changing something in values.yaml or by passing params to helm. This is convenient as each of these 3 node types could live in different VPC's or be provisioned in different env's.\r\n\r\nCould the mysql initialization be treated as an independent concern -- because its a one-time thing. It may not be a bad thing to assume that the db is already available and initialized and not treat DB upgrades via helm at all. DB install / backup / schema migration is an independent and mature concern with its own tools like liquibase. In theory, thirdeye should be able to work with  any database, maybe even NoSQL ones.\r\n\r\nThe bulk of operation load (IMHO) comes because we want to scale or change the config of some existing cluster, we want to increase the size of the back end, add new config variables, override old ones, support new datasources or detection algos. This would help upgrade / scale up a cluster to keep pace with code changes and load requirements.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686246344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686624956","html_url":"https://github.com/apache/pinot/pull/5966#issuecomment-686624956","issue_url":"https://api.github.com/repos/apache/pinot/issues/5966","id":686624956,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjYyNDk1Ng==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T16:58:43Z","updated_at":"2020-09-03T16:58:43Z","author_association":"CONTRIBUTOR","body":"We do allow to have tables without a schema. I have not had the time to go through this fully, but do you account for the fact that a (offline) table may not have a schema at all?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686624956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686644582","html_url":"https://github.com/apache/pinot/issues/5968#issuecomment-686644582","issue_url":"https://api.github.com/repos/apache/pinot/issues/5968","id":686644582,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjY0NDU4Mg==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T17:37:01Z","updated_at":"2020-09-03T17:37:01Z","author_association":"CONTRIBUTOR","body":"@jackjlli \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686644582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686649750","html_url":"https://github.com/apache/pinot/issues/5915#issuecomment-686649750","issue_url":"https://api.github.com/repos/apache/pinot/issues/5915","id":686649750,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjY0OTc1MA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T17:46:40Z","updated_at":"2020-09-03T17:46:40Z","author_association":"CONTRIBUTOR","body":"@npawar I think we can enforce the following things:\r\n- Schema must exist for a table before adding/updating the table\r\n- Schema name must be the same as raw table name\r\n\r\nThen we can do cross validation when updating table config or schema. Without enforcement 2, it is hard to find the table config for a given schema","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686649750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686659050","html_url":"https://github.com/apache/pinot/pull/5961#issuecomment-686659050","issue_url":"https://api.github.com/repos/apache/pinot/issues/5961","id":686659050,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjY1OTA1MA==","user":{"login":"suvodeep-pyne","id":2577714,"node_id":"MDQ6VXNlcjI1Nzc3MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2577714?v=4","gravatar_id":"","url":"https://api.github.com/users/suvodeep-pyne","html_url":"https://github.com/suvodeep-pyne","followers_url":"https://api.github.com/users/suvodeep-pyne/followers","following_url":"https://api.github.com/users/suvodeep-pyne/following{/other_user}","gists_url":"https://api.github.com/users/suvodeep-pyne/gists{/gist_id}","starred_url":"https://api.github.com/users/suvodeep-pyne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suvodeep-pyne/subscriptions","organizations_url":"https://api.github.com/users/suvodeep-pyne/orgs","repos_url":"https://api.github.com/users/suvodeep-pyne/repos","events_url":"https://api.github.com/users/suvodeep-pyne/events{/privacy}","received_events_url":"https://api.github.com/users/suvodeep-pyne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T18:04:02Z","updated_at":"2020-09-03T18:04:02Z","author_association":"CONTRIBUTOR","body":"Hi @devinay \r\n\r\nI like all your comments. And I think we are aligned on most of the issues. Think of this as the alpha version of the deployment. As we go forward, we'll streamline configuration and focus of scalability. \r\n\r\nSome thoughts:\r\n-  The intent of this distribution is to help new/existing users with a template to kickstart ThirdEye with the minimal amount of effort\r\n- Going forward, the goal is to make this distribution ready for production\r\n- Regarding MySQL:  We want people to be able to plugin their existing SQL service in the future. However, currently we are just trying to make things simple for new users so that they can jumpstart their application with minimal effort.\r\n- Regarding scheduler, worker: Agreed. This is an alpha version. We'll be enhancing this further. PR's welcome :) However, long term, we are also looking at architectural simplifications that could make TE more reliable. For example, having a distributed scheduler.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686659050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686717065","html_url":"https://github.com/apache/pinot/issues/5960#issuecomment-686717065","issue_url":"https://api.github.com/repos/apache/pinot/issues/5960","id":686717065,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjcxNzA2NQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T19:43:09Z","updated_at":"2020-09-03T19:43:09Z","author_association":"CONTRIBUTOR","body":"Alternatively, just remove `STATE_TRANSITION.maxThreads`, and the cluster will use the Helix default value of 40","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686717065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686785321","html_url":"https://github.com/apache/pinot/pull/5952#issuecomment-686785321","issue_url":"https://api.github.com/repos/apache/pinot/issues/5952","id":686785321,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Njc4NTMyMQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T21:59:04Z","updated_at":"2020-09-03T21:59:04Z","author_association":"MEMBER","body":"show we just model this as UDF?\r\n\r\n```\r\nSELECT COUNT(*) FROM mytable WHERE AirlineID IN IDSET('AgAAAAABAAAAADowAAABAAAAAAADABAAAAAAAOpMg0+zUg==')\r\n(AgAAAAABAAAAADowAAABAAAAAAADABAAAAAAAOpMg0+zUg== is the base64 encoded IdSet)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686785321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686799384","html_url":"https://github.com/apache/pinot/issues/4261#issuecomment-686799384","issue_url":"https://api.github.com/repos/apache/pinot/issues/4261","id":686799384,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Njc5OTM4NA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T22:39:04Z","updated_at":"2020-09-03T22:39:04Z","author_association":"CONTRIBUTOR","body":"It has been a while since the upsert work started. We'd like to reflect on the challenges encountered, share some learnings and also a [revisit on the upsert design](https://docs.google.com/document/d/1qljEMndPMxbbKtjlVn9mn2toz7Qrk0TGQsHLfI--7h8/edit#heading=h.lsfmyoyyxtgt). \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686799384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686816556","html_url":"https://github.com/apache/pinot/pull/5967#issuecomment-686816556","issue_url":"https://api.github.com/repos/apache/pinot/issues/5967","id":686816556,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjgxNjU1Ng==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T23:34:47Z","updated_at":"2020-09-03T23:34:47Z","author_association":"CONTRIBUTOR","body":"Curious, why is this mode needed? Could this lead to inconsistency between metadata and segments?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686816556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686821662","html_url":"https://github.com/apache/pinot/issues/5925#issuecomment-686821662","issue_url":"https://api.github.com/repos/apache/pinot/issues/5925","id":686821662,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjgyMTY2Mg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T23:53:30Z","updated_at":"2020-09-03T23:53:30Z","author_association":"CONTRIBUTOR","body":"Alternative of #5952, model `IN_ID_SET` as a `TransformFunction`: #5973 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686821662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686824951","html_url":"https://github.com/apache/pinot/pull/5967#issuecomment-686824951","issue_url":"https://api.github.com/repos/apache/pinot/issues/5967","id":686824951,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjgyNDk1MQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T00:05:37Z","updated_at":"2020-09-04T00:05:37Z","author_association":"CONTRIBUTOR","body":"> Curious, why is this mode needed? Could this lead to inconsistency between metadata and segments?\r\n\r\nThis mode should be used in caution. \r\nWe observed for some users, it takes 10 hours to push 20 TB segments to controller to download all segments, load metadata and add segments.\r\nThis is mostly useful for data bootstrapping to reduce total push time.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686824951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686831361","html_url":"https://github.com/apache/pinot/issues/5974#issuecomment-686831361","issue_url":"https://api.github.com/repos/apache/pinot/issues/5974","id":686831361,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjgzMTM2MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T00:28:34Z","updated_at":"2020-09-04T00:28:34Z","author_association":"CONTRIBUTOR","body":"All of these are helix except the `Illegal reflective access by org.apache.pinot.spi.plugin.PluginClassLoader`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686831361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686951445","html_url":"https://github.com/apache/pinot/issues/5893#issuecomment-686951445","issue_url":"https://api.github.com/repos/apache/pinot/issues/5893","id":686951445,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Njk1MTQ0NQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T06:50:26Z","updated_at":"2020-09-04T06:53:01Z","author_association":"MEMBER","body":"@Jackie-Jiang\r\n\r\n> which contains all the distinct values and has unbounded size\r\nThis cannot be more than the threshold right?\r\n\r\nIn the intermediate star-tree nodes, we should be able to store the final results.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686951445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686953093","html_url":"https://github.com/apache/pinot/issues/5893#issuecomment-686953093","issue_url":"https://api.github.com/repos/apache/pinot/issues/5893","id":686953093,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Njk1MzA5Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T06:53:54Z","updated_at":"2020-09-04T06:53:54Z","author_association":"MEMBER","body":"I think it's worth giving it a shot and compare the results.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686953093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686966038","html_url":"https://github.com/apache/pinot/issues/5977#issuecomment-686966038","issue_url":"https://api.github.com/repos/apache/pinot/issues/5977","id":686966038,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Njk2NjAzOA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T07:22:13Z","updated_at":"2020-09-04T07:22:13Z","author_association":"CONTRIBUTOR","body":"I like this feature would you like to work on this?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686966038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686971197","html_url":"https://github.com/apache/pinot/issues/5977#issuecomment-686971197","issue_url":"https://api.github.com/repos/apache/pinot/issues/5977","id":686971197,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Njk3MTE5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T07:34:50Z","updated_at":"2020-09-04T07:34:50Z","author_association":"CONTRIBUTOR","body":"FYI here is a work around. I can help next week https://github.com/hypertrace/pinot/pull/28","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/686971197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687016624","html_url":"https://github.com/apache/pinot/pull/5979#issuecomment-687016624","issue_url":"https://api.github.com/repos/apache/pinot/issues/5979","id":687016624,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzAxNjYyNA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T08:50:39Z","updated_at":"2020-09-04T08:50:39Z","author_association":"MEMBER","body":"Thanks for your contribution!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687016624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687256508","html_url":"https://github.com/apache/pinot/pull/5967#issuecomment-687256508","issue_url":"https://api.github.com/repos/apache/pinot/issues/5967","id":687256508,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzI1NjUwOA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T16:35:05Z","updated_at":"2020-09-04T16:35:05Z","author_association":"CONTRIBUTOR","body":"> > Curious, why is this mode needed? Could this lead to inconsistency between metadata and segments?\r\n> \r\n> This mode should be used in caution.\r\n> We observed for some users, it takes 10 hours to push 20 TB segments to controller to download all segments, load metadata and add segments.\r\n> This is mostly useful for data bootstrapping to reduce total push time.\r\n\r\nI see. I can see this can be a useful tool for issue mitigation. It'll be good to add some description of the scenarios that it targets in the PR description.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687256508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687284187","html_url":"https://github.com/apache/pinot/pull/5966#issuecomment-687284187","issue_url":"https://api.github.com/repos/apache/pinot/issues/5966","id":687284187,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzI4NDE4Nw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T17:29:12Z","updated_at":"2020-09-04T17:29:12Z","author_association":"CONTRIBUTOR","body":"> We do allow to have tables without a schema. I have not had the time to go through this fully, but do you account for the fact that a (offline) table may not have a schema at all?\r\n\r\nYes, I have accounted for offline table not having schema at all. I've put in the description all the cases it covers, and the case we miss out","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687284187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687324697","html_url":"https://github.com/apache/pinot/issues/5893#issuecomment-687324697","issue_url":"https://api.github.com/repos/apache/pinot/issues/5893","id":687324697,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzMyNDY5Nw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T18:58:15Z","updated_at":"2020-09-04T18:58:15Z","author_association":"CONTRIBUTOR","body":"> In the intermediate star-tree nodes, we should be able to store the final results.\r\n\r\nYou mean the long values? There is no way to aggregate them inside the segment.\r\nE.g. there is no way to solve this query: `SELECT SEGMENT_PARTITIONED_DISTINCT_COUNT(colA) FROM table WHERE colB IN (1, 2)`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687324697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687334722","html_url":"https://github.com/apache/pinot/issues/5968#issuecomment-687334722","issue_url":"https://api.github.com/repos/apache/pinot/issues/5968","id":687334722,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzMzNDcyMg==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T19:20:30Z","updated_at":"2020-09-04T19:20:30Z","author_association":"CONTRIBUTOR","body":"Thanks @jackjlli for quick fix in  https://github.com/apache/incubator-pinot/pull/5983","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687334722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687552085","html_url":"https://github.com/apache/pinot/pull/5986#issuecomment-687552085","issue_url":"https://api.github.com/repos/apache/pinot/issues/5986","id":687552085,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzU1MjA4NQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-05T05:10:25Z","updated_at":"2020-09-05T05:24:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5986?src=pr&el=h1) Report\n> Merging [#5986](https://codecov.io/gh/apache/incubator-pinot/pull/5986?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `20.32%`.\n> The diff coverage is `50.34%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5986/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5986?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #5986       +/-   ##\n===========================================\n- Coverage   66.44%   46.12%   -20.33%     \n===========================================\n  Files        1075     1174       +99     \n  Lines       54773    55381      +608     \n  Branches     8168     8057      -111     \n===========================================\n- Hits        36396    25544    -10852     \n- Misses      15700    27737    +12037     \n+ Partials     2677     2100      -577     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `46.12% <50.34%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5986?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...che/pinot/broker/queryquota/MaxHitRateTracker.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9NYXhIaXRSYXRlVHJhY2tlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ache/pinot/broker/queryquota/QueryQuotaEntity.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9RdWVyeVF1b3RhRW50aXR5LmphdmE=) | `0.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `26.66% <0.00%> (-30.48%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `22.22% <0.00%> (-26.62%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...apache/pinot/common/function/FunctionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25SZWdpc3RyeS5qYXZh) | `78.78% <ø> (ø)` | |\n| [...rg/apache/pinot/common/function/FunctionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25VdGlscy5qYXZh) | `94.44% <ø> (ø)` | |\n| ... and [1119 more](https://codecov.io/gh/apache/incubator-pinot/pull/5986/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5986?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5986?src=pr&el=footer). Last update [8900ebb...1a307eb](https://codecov.io/gh/apache/incubator-pinot/pull/5986?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687552085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687635240","html_url":"https://github.com/apache/pinot/pull/5986#issuecomment-687635240","issue_url":"https://api.github.com/repos/apache/pinot/issues/5986","id":687635240,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzYzNTI0MA==","user":{"login":"bradengroom","id":1591974,"node_id":"MDQ6VXNlcjE1OTE5NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1591974?v=4","gravatar_id":"","url":"https://api.github.com/users/bradengroom","html_url":"https://github.com/bradengroom","followers_url":"https://api.github.com/users/bradengroom/followers","following_url":"https://api.github.com/users/bradengroom/following{/other_user}","gists_url":"https://api.github.com/users/bradengroom/gists{/gist_id}","starred_url":"https://api.github.com/users/bradengroom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradengroom/subscriptions","organizations_url":"https://api.github.com/users/bradengroom/orgs","repos_url":"https://api.github.com/users/bradengroom/repos","events_url":"https://api.github.com/users/bradengroom/events{/privacy}","received_events_url":"https://api.github.com/users/bradengroom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-05T16:53:57Z","updated_at":"2020-09-05T16:53:57Z","author_association":"CONTRIBUTOR","body":"This coverage report doesn’t seem correct. It reports drops in coverage for files I haven’t touched?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687635240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687932082","html_url":"https://github.com/apache/pinot/issues/5901#issuecomment-687932082","issue_url":"https://api.github.com/repos/apache/pinot/issues/5901","id":687932082,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzkzMjA4Mg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-06T23:25:55Z","updated_at":"2020-09-06T23:25:55Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/pull/5902","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/687932082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/688370476","html_url":"https://github.com/apache/pinot/issues/5893#issuecomment-688370476","issue_url":"https://api.github.com/repos/apache/pinot/issues/5893","id":688370476,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODM3MDQ3Ng==","user":{"login":"mr-agrwal","id":24796847,"node_id":"MDQ6VXNlcjI0Nzk2ODQ3","avatar_url":"https://avatars.githubusercontent.com/u/24796847?v=4","gravatar_id":"","url":"https://api.github.com/users/mr-agrwal","html_url":"https://github.com/mr-agrwal","followers_url":"https://api.github.com/users/mr-agrwal/followers","following_url":"https://api.github.com/users/mr-agrwal/following{/other_user}","gists_url":"https://api.github.com/users/mr-agrwal/gists{/gist_id}","starred_url":"https://api.github.com/users/mr-agrwal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr-agrwal/subscriptions","organizations_url":"https://api.github.com/users/mr-agrwal/orgs","repos_url":"https://api.github.com/users/mr-agrwal/repos","events_url":"https://api.github.com/users/mr-agrwal/events{/privacy}","received_events_url":"https://api.github.com/users/mr-agrwal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T14:45:21Z","updated_at":"2020-09-07T14:45:21Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Our specific use case is \r\n`SELECT SEGMENT_PARTITIONED_DISTINCT_COUNT(colA) FROM table WHERE colB IN (1, 2)`\r\nwhere we are creating a star tree with `t=1` on `colB`. In that case, we should be able to use the star tree.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/688370476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/688503403","html_url":"https://github.com/apache/pinot/pull/5987#issuecomment-688503403","issue_url":"https://api.github.com/repos/apache/pinot/issues/5987","id":688503403,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODUwMzQwMw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T20:38:28Z","updated_at":"2020-09-07T20:40:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5987?src=pr&el=h1) Report\n> Merging [#5987](https://codecov.io/gh/apache/incubator-pinot/pull/5987?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `0.71%`.\n> The diff coverage is `63.43%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5987/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5987?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5987      +/-   ##\n==========================================\n+ Coverage   66.44%   67.15%   +0.71%     \n==========================================\n  Files        1075     1195     +120     \n  Lines       54773    63022    +8249     \n  Branches     8168     9660    +1492     \n==========================================\n+ Hits        36396    42325    +5929     \n- Misses      15700    17587    +1887     \n- Partials     2677     3110     +433     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `43.60% <51.77%> (?)` | |\n| #unittests | `58.65% <46.27%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5987?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...rg/apache/pinot/common/function/FunctionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25VdGlscy5qYXZh) | `96.29% <ø> (ø)` | |\n| [...e/pinot/common/function/TransformFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25UeXBlLmphdmE=) | `100.00% <ø> (+12.90%)` | :arrow_up: |\n| [...ot/common/function/scalar/ArithmeticFunctions.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vc2NhbGFyL0FyaXRobWV0aWNGdW5jdGlvbnMuamF2YQ==) | `33.33% <ø> (ø)` | |\n| [...inot/common/function/scalar/DateTimeFunctions.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vc2NhbGFyL0RhdGVUaW1lRnVuY3Rpb25zLmphdmE=) | `96.77% <ø> (ø)` | |\n| [...he/pinot/common/function/scalar/JsonFunctions.java](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vc2NhbGFyL0pzb25GdW5jdGlvbnMuamF2YQ==) | `50.00% <ø> (ø)` | |\n| ... and [868 more](https://codecov.io/gh/apache/incubator-pinot/pull/5987/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5987?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5987?src=pr&el=footer). Last update [a122728...8d9daad](https://codecov.io/gh/apache/incubator-pinot/pull/5987?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/688503403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/688936628","html_url":"https://github.com/apache/pinot/pull/5981#issuecomment-688936628","issue_url":"https://api.github.com/repos/apache/pinot/issues/5981","id":688936628,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODkzNjYyOA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T15:00:18Z","updated_at":"2020-09-08T15:00:18Z","author_association":"MEMBER","body":"Tested it and it works fine. Few things\r\n- Ask for confirmation before saving instead of before editing\r\n- Refresh seems to refresh the entire tree, just refresh the path that is selected\r\n- display the refresh time on the top (maintain this for each node)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/688936628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/688946724","html_url":"https://github.com/apache/pinot/pull/5987#issuecomment-688946724","issue_url":"https://api.github.com/repos/apache/pinot/issues/5987","id":688946724,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODk0NjcyNA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T15:15:32Z","updated_at":"2020-09-08T15:15:32Z","author_association":"CONTRIBUTOR","body":"Can we parameterize `JAVA_VERSION` and default still to 8?\r\nSo out build script can set `JAVA_VERSION` to 11 if needed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/688946724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689147826","html_url":"https://github.com/apache/pinot/pull/5989#issuecomment-689147826","issue_url":"https://api.github.com/repos/apache/pinot/issues/5989","id":689147826,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTE0NzgyNg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T21:33:25Z","updated_at":"2020-09-08T21:33:25Z","author_association":"CONTRIBUTOR","body":"We should not use a separate fixed timeout for planning phase, but use the query timeout instead: #5990 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689147826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689154234","html_url":"https://github.com/apache/pinot/issues/5893#issuecomment-689154234","issue_url":"https://api.github.com/repos/apache/pinot/issues/5893","id":689154234,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTE1NDIzNA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T21:47:18Z","updated_at":"2020-09-08T21:47:18Z","author_association":"CONTRIBUTOR","body":"@mr-agrwal In order to aggregate the values, we have to store the serialized `Set` into the star-tree (same as what we need to store for `DistinctCount`. The size of this `Set` is unbounded, and is storing all the distinct values under a tree node. I don't think it will work properly for 2 reasons:\r\n1. The star-tree size could be huge if there are many distinct values under a tree node, which can leads to memory issue\r\n2. Reading and deserializing the set could be very expensive (even more expensive than scanning the raw values and creating a new set)\r\n\r\nIt might work for low cardinality columns (e.g. colA has <1000 distinct values), but that is not very common IMO","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689154234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689161988","html_url":"https://github.com/apache/pinot/pull/5981#issuecomment-689161988","issue_url":"https://api.github.com/repos/apache/pinot/issues/5981","id":689161988,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTE2MTk4OA==","user":{"login":"shahsank3t","id":6761317,"node_id":"MDQ6VXNlcjY3NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6761317?v=4","gravatar_id":"","url":"https://api.github.com/users/shahsank3t","html_url":"https://github.com/shahsank3t","followers_url":"https://api.github.com/users/shahsank3t/followers","following_url":"https://api.github.com/users/shahsank3t/following{/other_user}","gists_url":"https://api.github.com/users/shahsank3t/gists{/gist_id}","starred_url":"https://api.github.com/users/shahsank3t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahsank3t/subscriptions","organizations_url":"https://api.github.com/users/shahsank3t/orgs","repos_url":"https://api.github.com/users/shahsank3t/repos","events_url":"https://api.github.com/users/shahsank3t/events{/privacy}","received_events_url":"https://api.github.com/users/shahsank3t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T22:07:03Z","updated_at":"2020-09-08T22:07:03Z","author_association":"CONTRIBUTOR","body":"@kishoreg Addressed your feedback and also added Success & Error Notification Alerts on completion of Update/Delete Operation.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689161988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689238164","html_url":"https://github.com/apache/pinot/pull/5952#issuecomment-689238164","issue_url":"https://api.github.com/repos/apache/pinot/issues/5952","id":689238164,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTIzODE2NA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T01:15:34Z","updated_at":"2020-09-09T01:15:34Z","author_association":"CONTRIBUTOR","body":"Replaced with #5973 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689238164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689256109","html_url":"https://github.com/apache/pinot/pull/5984#issuecomment-689256109","issue_url":"https://api.github.com/repos/apache/pinot/issues/5984","id":689256109,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTI1NjEwOQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T02:17:42Z","updated_at":"2020-09-09T02:17:42Z","author_association":"CONTRIBUTOR","body":"High level question, do we really need row level validation? What is the overhead of this validation?\r\nSeems like the validation only applies to the Avro reader. In that case, validating Pinot schema and Avro schema should be enough. IMO we are paying a lot of overhead for very little gain.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689256109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689270729","html_url":"https://github.com/apache/pinot/pull/5984#issuecomment-689270729","issue_url":"https://api.github.com/repos/apache/pinot/issues/5984","id":689270729,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTI3MDcyOQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T03:04:52Z","updated_at":"2020-09-09T03:04:52Z","author_association":"CONTRIBUTOR","body":"@jackjlli Could you describe the case which is not caught by schema level check?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689270729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689274482","html_url":"https://github.com/apache/pinot/pull/5984#issuecomment-689274482","issue_url":"https://api.github.com/repos/apache/pinot/issues/5984","id":689274482,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTI3NDQ4Mg==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T03:19:01Z","updated_at":"2020-09-09T03:19:01Z","author_association":"MEMBER","body":"Most of the cases can be covered by validating pinot schema and avro schema. One tricky thing is that when all the fields are required to be fetched, we convert the avro generic record to string first, then parse it as a json:\r\nhttps://github.com/apache/incubator-pinot/blob/d54b04a2562f86dfb3adaa02ff400951d8108738/pinot-plugins/pinot-input-format/pinot-avro-base/src/main/java/org/apache/pinot/plugin/inputformat/avro/AvroRecordExtractor.java#L49\r\n```\r\n  /**\r\n   * Converts from a GenericRecord to a json map\r\n   */\r\n  public static Map<String, Object> genericRecordToJson(GenericRecord genericRecord) {\r\n    try {\r\n      String jsonString = genericRecord.toString();\r\n      return DEFAULT_MAPPER.readValue(jsonString, new TypeReference<Map<String, Object>>() {\r\n      });\r\n    } catch (IOException e) {\r\n      throw new IllegalStateException(\"Caught exception when converting generic record \" + genericRecord + \" to JSON\");\r\n    }\r\n  }\r\n```\r\nThe data type of the value from the k-v pair might get changed. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689274482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689303483","html_url":"https://github.com/apache/pinot/issues/5951#issuecomment-689303483","issue_url":"https://api.github.com/repos/apache/pinot/issues/5951","id":689303483,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTMwMzQ4Mw==","user":{"login":"bradengroom","id":1591974,"node_id":"MDQ6VXNlcjE1OTE5NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1591974?v=4","gravatar_id":"","url":"https://api.github.com/users/bradengroom","html_url":"https://github.com/bradengroom","followers_url":"https://api.github.com/users/bradengroom/followers","following_url":"https://api.github.com/users/bradengroom/following{/other_user}","gists_url":"https://api.github.com/users/bradengroom/gists{/gist_id}","starred_url":"https://api.github.com/users/bradengroom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradengroom/subscriptions","organizations_url":"https://api.github.com/users/bradengroom/orgs","repos_url":"https://api.github.com/users/bradengroom/repos","events_url":"https://api.github.com/users/bradengroom/events{/privacy}","received_events_url":"https://api.github.com/users/bradengroom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T05:01:19Z","updated_at":"2020-09-09T05:01:19Z","author_association":"CONTRIBUTOR","body":"You can assign this to me if you'd like. I've got an initial implementation working locally. I just need to do some polish and add tests.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689303483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689799046","html_url":"https://github.com/apache/pinot/pull/5994#issuecomment-689799046","issue_url":"https://api.github.com/repos/apache/pinot/issues/5994","id":689799046,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTc5OTA0Ng==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T20:18:22Z","updated_at":"2020-09-09T20:18:22Z","author_association":"CONTRIBUTOR","body":"Exception example:\r\n\r\n```\r\n2020/09/09 19:07:04.121 ERROR [ZKMetadataProvider] [grizzly-http-server-28] [pinot-controller] [] Caught exception while getting schema: null\r\njava.lang.IllegalArgumentException: Path must not end with / character\r\n        at org.apache.helix.util.PathUtils.validatePath(PathUtils.java:57) ~[helix-core-0.9.4.1.jar:0.9.4.1]\r\n        at org.apache.helix.manager.zk.ZkCacheBaseDataAccessor.prependChroot(ZkCacheBaseDataAccessor.java:150) ~[helix-core-0.9.4.1.jar:0.9.4.1]\r\n        at org.apache.helix.manager.zk.ZkCacheBaseDataAccessor.get(ZkCacheBaseDataAccessor.java:355) ~[helix-core-0.9.4.1.jar:0.9.4.1]\r\n        at org.apache.helix.store.zk.AutoFallbackPropertyStore.get(AutoFallbackPropertyStore.java:101) ~[helix-core-0.9.4.1.jar:0.9.4.1]\r\n        at org.apache.pinot.common.metadata.ZKMetadataProvider.getSchema(ZKMetadataProvider.java:244) ~[pinot-common-0.5.0-dev-18617.jar:0.5.0-dev-18617-a31c06a9f77314234190cdd77d4657bc373d4e89]\r\n        at org.apache.pinot.common.metadata.ZKMetadataProvider.getTableSchema(ZKMetadataProvider.java:284) ~[pinot-common-0.5.0-dev-18617.jar:0.5.0-dev-18617-a31c06a9f77314234190cdd77d4657bc373d4e89]\r\n        at org.apache.pinot.controller.helix.core.PinotHelixResourceManager.getTableSchema(PinotHelixResourceManager.java:1048) ~[pinot-controller-0.5.0-dev-18617.jar:0.5.0-dev-18617-a31c06a9f77314234190cdd77d4657bc373d4e89]\r\n        at org.apache.pinot.controller.api.resources.PinotTableSchema.getTableSchema(PinotTableSchema.java:54) ~[pinot-controller-0.5.0-dev-18617.jar:?]\r\n        at jdk.internal.reflect.GeneratedMethodAccessor239.invoke(Unknown Source) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52) ~[jersey-server-2.28.jar:?]\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124) [jersey-server-2.28.jar:?]\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167) [jersey-server-2.28.jar:?]\r\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219) [jersey-server-2.28.jar:?]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689799046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689836238","html_url":"https://github.com/apache/pinot/pull/5984#issuecomment-689836238","issue_url":"https://api.github.com/repos/apache/pinot/issues/5984","id":689836238,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTgzNjIzOA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T21:39:31Z","updated_at":"2020-09-09T21:39:31Z","author_association":"CONTRIBUTOR","body":"> Most of the cases can be covered by validating pinot schema and avro schema. One tricky thing is that when all the fields are required to be fetched, we convert the avro generic record to string first, then parse it as a json:\r\n> https://github.com/apache/incubator-pinot/blob/d54b04a2562f86dfb3adaa02ff400951d8108738/pinot-plugins/pinot-input-format/pinot-avro-base/src/main/java/org/apache/pinot/plugin/inputformat/avro/AvroRecordExtractor.java#L49\r\n> \r\n> ```\r\n>   /**\r\n>    * Converts from a GenericRecord to a json map\r\n>    */\r\n>   public static Map<String, Object> genericRecordToJson(GenericRecord genericRecord) {\r\n>     try {\r\n>       String jsonString = genericRecord.toString();\r\n>       return DEFAULT_MAPPER.readValue(jsonString, new TypeReference<Map<String, Object>>() {\r\n>       });\r\n>     } catch (IOException e) {\r\n>       throw new IllegalStateException(\"Caught exception when converting generic record \" + genericRecord + \" to JSON\");\r\n>     }\r\n>   }\r\n> ```\r\n> \r\n> The data type of the value from the k-v pair might get changed.\r\n\r\nI don't think we ever init record extractor without the fields. Also, converting to string then serializing as json doesn't seem correct. We should fix that instead of adding the row based validation.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/689836238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]