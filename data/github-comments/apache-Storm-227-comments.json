[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895762","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895762","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895762,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU3NjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T04:20:08Z","updated_at":"2025-01-24T16:13:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1325\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1325</a></p>\n\n<p>    Github fails to track this branch is merged into master. Already merged. Closing.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895766","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895766","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895766,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU3NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T04:20:08Z","updated_at":"2025-01-24T16:13:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1325\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1325</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895771","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895771","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895771,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU3NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T04:21:06Z","updated_at":"2025-01-24T16:13:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Merged into master and 1.x-branch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895277","html_url":"https://github.com/apache/storm/issues/5533#issuecomment-2612895277","issue_url":"https://api.github.com/repos/apache/storm/issues/5533","id":2612895277,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTUyNzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T04:21:25Z","updated_at":"2025-01-24T16:12:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Merged into master and 1.x-branch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895330","html_url":"https://github.com/apache/storm/issues/5534#issuecomment-2612895330","issue_url":"https://api.github.com/repos/apache/storm/issues/5534","id":2612895330,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTUzMzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T04:22:44Z","updated_at":"2025-01-24T16:12:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Marking as 'Resolved' since sub-tasks are resolved. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612911568","html_url":"https://github.com/apache/storm/issues/5650#issuecomment-2612911568","issue_url":"https://api.github.com/repos/apache/storm/issues/5650","id":2612911568,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTE1Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T04:27:17Z","updated_at":"2025-01-24T16:20:45Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cyyber\">cyyber</a>:</i>\n<p>Setting max spout pending helped me to overcome the issue.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612911568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612899037","html_url":"https://github.com/apache/storm/issues/5558#issuecomment-2612899037","issue_url":"https://api.github.com/repos/apache/storm/issues/5558","id":2612899037,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTkwMzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T05:01:52Z","updated_at":"2025-01-24T16:14:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1460\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1460</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612899037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612899040","html_url":"https://github.com/apache/storm/issues/5558#issuecomment-2612899040","issue_url":"https://api.github.com/repos/apache/storm/issues/5558","id":2612899040,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTkwNDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T05:01:54Z","updated_at":"2025-01-24T16:14:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1352\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1352</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612899040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612899045","html_url":"https://github.com/apache/storm/issues/5558#issuecomment-2612899045","issue_url":"https://api.github.com/repos/apache/storm/issues/5558","id":2612899045,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTkwNDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T05:04:15Z","updated_at":"2025-01-24T16:14:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Merged to master and 1.x-branch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612899045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915467","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915467","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915467,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU0Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T05:26:03Z","updated_at":"2025-01-24T16:22:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user satishd opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1893\" title=\"Support OpenTSDB for storing timeseries data.\" class=\"issue-link\" data-issue-key=\"STORM-1893\"><del>STORM-1893</del></a> OpenTSDB bolt and trident state for storing any timeseries data.</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/satishd/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/satishd/storm</a> tsdb-bolt</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1484</p>\n\n<hr />\n<p>commit c5972b69bc5ef1d948b5d63946d48fd026376736<br/>\nAuthor: Satish Duggana <sduggana@hortonworks.com><br/>\nDate:   2016-06-08T06:05:42Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1893\" title=\"Support OpenTSDB for storing timeseries data.\" class=\"issue-link\" data-issue-key=\"STORM-1893\"><del>STORM-1893</del></a> OpenTSDB bolt and trident state for storing any timeseries data.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914517","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914517","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914517,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:46:01Z","updated_at":"2025-01-24T16:22:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r66784961\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r66784961</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -77,7 +81,8 @@ public RedisKeyValueState(String namespace, JedisCommandsInstanceContainer jedis<br/>\n     this.keySerializer = keySerializer;<br/>\n     this.valueSerializer = valueSerializer;<br/>\n     this.jedisContainer = jedisContainer;</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>this.pendingPrepare = new ConcurrentHashMap<>();\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Could we somehow handle the deletes by maintaining an entry (with some extra info) within the pendingPrepare itself and avoid the extra hash sets and synchronized ? Something along the lines of maintaining a map of<br/>\n    `key -> </p>\n{ADD or DELETE, value}\n<p>`. The values to be deleted could be written to a separate Redis Set during prepare.</p>\n\n<p>    During `delete`, insert a DELETE entry into pendingPrepare.<br/>\n    During `prepare`, snapshot pendingPrepare to pendingCommit and also save the DELETE entries to a redis set.<br/>\n    During `commit`, delete the DELETE entries from redis map.<br/>\n    During `get`, if key is in pendingPrepare, pendingCommit with DELETE or the key is not found return null.</p>\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914519","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914519","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914519,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1MTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:46:07Z","updated_at":"2025-01-24T16:22:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r66784976\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r66784976</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -104,9 +109,11 @@ private void initPendingCommit() {<br/>\n if (commands.exists(prepareNamespace)) {<br/>\n     LOG.debug(\"Loading previously prepared commit from {}\", prepareNamespace);<br/>\n     pendingCommit = Collections.unmodifiableMap(commands.hgetAll(prepareNamespace));<br/>\n    +pendingDeleteCommit = Collections.emptySet();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    during init, shouldn't the pendingDeleteCommit also be restored from previously saved state ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914522","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914522","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914522,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1MjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:46:16Z","updated_at":"2025-01-24T16:22:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r66784993\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r66784993</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -104,9 +109,11 @@ private void initPendingCommit() {<br/>\n if (commands.exists(prepareNamespace)) {<br/>\n     LOG.debug(\"Loading previously prepared commit from {}\", prepareNamespace);<br/>\n     pendingCommit = Collections.unmodifiableMap(commands.hgetAll(prepareNamespace));<br/>\n    +pendingDeleteCommit = Collections.emptySet();<br/>\n } else {<br/>\n     LOG.debug(\"No previously prepared commits.\");<br/>\n     pendingCommit = Collections.emptyMap();<br/>\n    +pendingDeleteCommit = Collections.emptySet();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    pendingDeleteCommits should probably be saved to a separate namespace say a redis set?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914527","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914527","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914527,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:46:31Z","updated_at":"2025-01-24T16:22:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r66785022\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r66785022</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -116,20 +123,30 @@ private void initPendingCommit() {<br/>\n @Override<br/>\n public void put(K key, V value) {<br/>\n     LOG.debug(\"put key '{}', value '{}'\", key, value);</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>pendingPrepare.put(encode(keySerializer.serialize(key)),</li>\n\t<li>encode(valueSerializer.serialize(value)));<br/>\n    +String redisKey = encode(keySerializer.serialize(key));<br/>\n    +synchronized (this) \n{\n    +    pendingPrepare.put(redisKey,\n    +    encode(valueSerializer.serialize(value)));\n    +    pendingDeletePrepare.remove(redisKey);\n    +}\n<p> }</p></li>\n</ul>\n\n\n<p> @Override<br/>\n public V get(K key) {<br/>\n     LOG.debug(\"get key '{}'\", key);<br/>\n     String redisKey = encode(keySerializer.serialize(key));<br/>\n     String redisValue = null;</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>if (pendingPrepare.containsKey(redisKey)) \n{\n    -    redisValue = pendingPrepare.get(redisKey);\n    -}\n<p> else if (pendingCommit.containsKey(redisKey)) </p>\n{\n    -    redisValue = pendingCommit.get(redisKey);\n    -}\n<p> else {<br/>\n    +boolean found = false;<br/>\n    +synchronized (this) {<br/>\n    +    if (pendingPrepare.containsKey(redisKey) || pendingDeletePrepare.contains(redisKey)) {</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    if pendingDeletePrepare contains the key the value should not be returned.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914532","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914532","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914532,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:46:38Z","updated_at":"2025-01-24T16:22:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r66785037\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r66785037</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -163,15 +190,20 @@ public void prepareCommit(long txid) </p>\n{\n     LOG.debug(\"Prepared txn already exists, will merge\", txid);\n     pendingPrepare.putAll(pendingCommit);\n }\n<ul class=\"alternate\" type=\"square\">\n\t<li>if (!pendingPrepare.isEmpty()) {<br/>\n    +    if (!pendingPrepare.isEmpty() || !pendingDeletePrepare.isEmpty()) {<br/>\n     commands.hmset(prepareNamespace, pendingPrepare);<br/>\n    +commands.hdel(prepareNamespace, pendingDeletePrepare.toArray(new String<span class=\"error\">&#91;pendingDeletePrepare.size()&#93;</span>));\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Shouldn't you save the pendingDeletePrepare keys separately into a redis hashset. If a previously saved key (only in redis) is deleted, this may not work.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914542","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914542","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914542,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:46:42Z","updated_at":"2025-01-24T16:22:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r66785042\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r66785042</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -184,15 +216,17 @@ public void commit(long txid) {<br/>\n     JedisCommands commands = null;<br/>\n     try {<br/>\n commands = jedisContainer.getInstance();</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>if (!pendingCommit.isEmpty()) {<br/>\n    +    if (!pendingCommit.isEmpty() || !pendingDeleteCommit.isEmpty()) {<br/>\n     commands.hmset(namespace, pendingCommit);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Redis may throw error if pendingCommit is empty. you may want to confirm.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914545","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914545","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914545,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1NDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:46:45Z","updated_at":"2025-01-24T16:22:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r66785050\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r66785050</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -203,12 +237,14 @@ public void commit() {<br/>\n     JedisCommands commands = null;<br/>\n     try {<br/>\n commands = jedisContainer.getInstance();</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>if (!pendingPrepare.isEmpty()) {<br/>\n    +    if (!pendingPrepare.isEmpty() || !pendingDeletePrepare.isEmpty()) {<br/>\n     commands.hmset(namespace, pendingPrepare);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Redis may throw error if pendingPrepare is empty. you may want to confirm.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914551","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914551","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914551,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1NTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:49:00Z","updated_at":"2025-01-24T16:22:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r66785298\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r66785298</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/state/KeyValueState.java &#8212;<br/>\n    @@ -45,4 +45,11 @@</p>\n<ul>\n\t<li>@return the value or defaultValue if no mapping is found<br/>\n  */<br/>\n V get(K key, V defaultValue);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Deletes the value mapped to the key, if there is any<br/>\n    +     *<br/>\n    +     * @param key   the key<br/>\n    +     */<br/>\n    +    void delete(K key);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Could probably be changed to `V remove(K key)` along the lines of java.util.Map.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225572255","html_url":"https://github.com/apache/storm/pull/1470#issuecomment-225572255","issue_url":"https://api.github.com/repos/apache/storm/issues/1470","id":225572255,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTU3MjI1NQ==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:53:53Z","updated_at":"2016-06-13T12:53:53Z","author_association":"CONTRIBUTOR","body":"@kosii the delete api is useful. Lets also try to see if we could handle the deletes by maintaining an entry within the pendingPrepare itself and avoid the extra hashsets and synchronized as mentioned in https://github.com/apache/storm/pull/1470/files#r66784961\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225572255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914557","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914557","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914557,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1NTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-13T12:53:56Z","updated_at":"2025-01-24T16:22:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470</a></p>\n\n<p>    @kosii the delete api is useful. Lets also try to see if we could handle the deletes by maintaining an entry within the pendingPrepare itself and avoid the extra hashsets and synchronized as mentioned in <a href=\"https://github.com/apache/storm/pull/1470/files#r66784961\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470/files#r66784961</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225746318","html_url":"https://github.com/apache/storm/pull/1482#issuecomment-225746318","issue_url":"https://api.github.com/repos/apache/storm/issues/1482","id":225746318,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTc0NjMxOA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T00:15:39Z","updated_at":"2016-06-14T00:15:39Z","author_association":"CONTRIBUTOR","body":"+1 Nice addressing.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225746318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913037","html_url":"https://github.com/apache/storm/issues/5659#issuecomment-2612913037","issue_url":"https://api.github.com/repos/apache/storm/issues/5659","id":2612913037,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTMwMzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T00:15:40Z","updated_at":"2025-01-24T16:21:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1482\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1482</a></p>\n\n<p>    +1 Nice addressing.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225778880","html_url":"https://github.com/apache/storm/pull/1482#issuecomment-225778880","issue_url":"https://api.github.com/repos/apache/storm/issues/1482","id":225778880,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTc3ODg4MA==","user":{"login":"unsleepy22","id":631361,"node_id":"MDQ6VXNlcjYzMTM2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/631361?v=4","gravatar_id":"","url":"https://api.github.com/users/unsleepy22","html_url":"https://github.com/unsleepy22","followers_url":"https://api.github.com/users/unsleepy22/followers","following_url":"https://api.github.com/users/unsleepy22/following{/other_user}","gists_url":"https://api.github.com/users/unsleepy22/gists{/gist_id}","starred_url":"https://api.github.com/users/unsleepy22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unsleepy22/subscriptions","organizations_url":"https://api.github.com/users/unsleepy22/orgs","repos_url":"https://api.github.com/users/unsleepy22/repos","events_url":"https://api.github.com/users/unsleepy22/events{/privacy}","received_events_url":"https://api.github.com/users/unsleepy22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T04:45:54Z","updated_at":"2016-06-14T04:45:54Z","author_association":"NONE","body":"Should we change the README.md accordingly?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225778880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913045","html_url":"https://github.com/apache/storm/issues/5659#issuecomment-2612913045","issue_url":"https://api.github.com/repos/apache/storm/issues/5659","id":2612913045,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTMwNDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T04:45:56Z","updated_at":"2025-01-24T16:21:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1482\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1482</a></p>\n\n<p>    Should we change the README.md accordingly?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225781681","html_url":"https://github.com/apache/storm/pull/1482#issuecomment-225781681","issue_url":"https://api.github.com/repos/apache/storm/issues/1482","id":225781681,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTc4MTY4MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T05:12:47Z","updated_at":"2016-06-14T05:12:47Z","author_association":"CONTRIBUTOR","body":"Great @unsleepy22 you got the point. \n@abhishekagarwal87 I guess you want to address also doc since you mark component of issue to also 'documentation'. Could you address this?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225781681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913049","html_url":"https://github.com/apache/storm/issues/5659#issuecomment-2612913049","issue_url":"https://api.github.com/repos/apache/storm/issues/5659","id":2612913049,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTMwNDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T05:12:48Z","updated_at":"2025-01-24T16:21:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1482\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1482</a></p>\n\n<p>    Great @unsleepy22 you got the point. <br/>\n    @abhishekagarwal87 I guess you want to address also doc since you mark component of issue to also 'documentation'. Could you address this?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915472","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915472","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915472,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU0NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T07:10:20Z","updated_at":"2025-01-24T16:22:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66918553\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66918553</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/README.md &#8212;<br/>\n    @@ -0,0 +1,73 @@<br/>\n    +# Storm OpenTSDB Bolt and TridentState<br/>\n    +  <br/>\n    +OpenTSDB offers a scalable and highly available storage for time series data. It consists of a<br/>\n    +Time Series Daemon (TSD) servers along with command line utilities. Each TSD connects to the <br/>\n    +configured HBase cluster to push/query the data.<br/>\n    +<br/>\n    +Time series data point consists of:<br/>\n    + - a metric name.<br/>\n    + - a UNIX timestamp (seconds or millisecinds since Epoch).<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    millisecinds -> milliseconds</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915480","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915480","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915480,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU0ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T07:11:33Z","updated_at":"2025-01-24T16:22:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66918729\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66918729</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/README.md &#8212;<br/>\n    @@ -0,0 +1,73 @@<br/>\n    +# Storm OpenTSDB Bolt and TridentState<br/>\n    +  <br/>\n    +OpenTSDB offers a scalable and highly available storage for time series data. It consists of a<br/>\n    +Time Series Daemon (TSD) servers along with command line utilities. Each TSD connects to the <br/>\n    +configured HBase cluster to push/query the data.<br/>\n    +<br/>\n    +Time series data point consists of:<br/>\n    + - a metric name.<br/>\n    + - a UNIX timestamp (seconds or millisecinds since Epoch).<br/>\n    + - a value (64 bit integer or single-precision floating point value).<br/>\n    + - a set of tags (key-value pairs) that describe the time series the point belongs to.<br/>\n    +<br/>\n    +Storm bolt and trident state creates the above time series data from a tuple based on the given `TupleMetricPointMapper`<br/>\n    +  <br/>\n    +This module provides core Storm and Trident bolt implementations for writing data to OpenTSDB.<br/>\n    +<br/>\n    +## Examples<br/>\n    +<br/>\n    +### Core Bolt<br/>\n    +Below example describes the usage of core colt viz `org.apache.stom.opentsdb.bolt.OpenTsdbBolt`<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I'm not sure it is typo, but I guess colt -> bolt and viz -> via.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915484","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915484","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915484,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU0ODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T07:13:34Z","updated_at":"2025-01-24T16:22:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66918897\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66918897</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/README.md &#8212;<br/>\n    @@ -0,0 +1,73 @@<br/>\n    +# Storm OpenTSDB Bolt and TridentState<br/>\n    +  <br/>\n    +OpenTSDB offers a scalable and highly available storage for time series data. It consists of a<br/>\n    +Time Series Daemon (TSD) servers along with command line utilities. Each TSD connects to the <br/>\n    +configured HBase cluster to push/query the data.<br/>\n    +<br/>\n    +Time series data point consists of:<br/>\n    + - a metric name.<br/>\n    + - a UNIX timestamp (seconds or millisecinds since Epoch).<br/>\n    + - a value (64 bit integer or single-precision floating point value).<br/>\n    + - a set of tags (key-value pairs) that describe the time series the point belongs to.<br/>\n    +<br/>\n    +Storm bolt and trident state creates the above time series data from a tuple based on the given `TupleMetricPointMapper`<br/>\n    +  <br/>\n    +This module provides core Storm and Trident bolt implementations for writing data to OpenTSDB.<br/>\n    +<br/>\n    +## Examples<br/>\n    +<br/>\n    +### Core Bolt<br/>\n    +Below example describes the usage of core colt viz `org.apache.stom.opentsdb.bolt.OpenTsdbBolt`<br/>\n    +<br/>\n    +```java<br/>\n    +<br/>\n    +OpenTsdbClient.Builder builder =  OpenTsdbClient.newBuilder(openTsdbUrl).sync(30_000).returnDetails();<br/>\n    +final OpenTsdbBolt openTsdbBolt = new OpenTsdbBolt(builder, Collections.singletonList(TupleOpenTsdbDatapointMapper.DEFAULT_MAPPER));<br/>\n    +openTsdbBolt.withBatchSize(10).withFlushInterval(2000);<br/>\n    +topologyBuilder.setBolt(\"opentsdb\", openTsdbBolt).shuffleGrouping(\"metric-gen\");<br/>\n    +<br/>\n    +```<br/>\n    +<br/>\n    +<br/>\n    +### Trident Bolt<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Bolt -> State</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915486","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915486","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915486,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU0ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T07:27:26Z","updated_at":"2025-01-24T16:22:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66920336\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66920336</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    + *<br/>\n    + */<br/>\n    +public class OpenTsdbBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(OpenTsdbBolt.class);<br/>\n    +<br/>\n    +    private final OpenTsdbClient.Builder openTsdbClientBuilder;<br/>\n    +    private final List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers;<br/>\n    +    private int batchSize;<br/>\n    +    private int flushIntervalInSeconds;<br/>\n    +    private boolean failTupleForFailedMetrics;<br/>\n    +<br/>\n    +    private BatchHelper batchHelper;<br/>\n    +    private OpenTsdbClient openTsdbClient;<br/>\n    +    private Map<OpenTsdbMetricDatapoint, Tuple> metricPointsWithTuple = new HashMap<>();<br/>\n    +    private OutputCollector collector;<br/>\n    +<br/>\n    +    public OpenTsdbBolt(OpenTsdbClient.Builder openTsdbClientBuilder, List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers) </p>\n{\n    +this.openTsdbClientBuilder = openTsdbClientBuilder;\n    +this.tupleOpenTsdbDatapointMappers = tupleOpenTsdbDatapointMappers;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withFlushInterval(int flushIntervalInSeconds) </p>\n{\n    +this.flushIntervalInSeconds = flushIntervalInSeconds;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withBatchSize(int batchSize) </p>\n{\n    +this.batchSize = batchSize;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * When it is invoked, this bolt acks only the tuples which have successful metrics stored into OpenTSDB and fails<br/>\n    +     * the respective tuples of the failed metrics.<br/>\n    +     *<br/>\n    +     * @return same insatcne by setting </p>\n{@code failTupleForFailedMetrics}\n<p> to true<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    insatcne -> instance</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915494","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915494","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915494,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU0OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T07:47:24Z","updated_at":"2025-01-24T16:22:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66922591\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66922591</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    + *<br/>\n    + */<br/>\n    +public class OpenTsdbBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(OpenTsdbBolt.class);<br/>\n    +<br/>\n    +    private final OpenTsdbClient.Builder openTsdbClientBuilder;<br/>\n    +    private final List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers;<br/>\n    +    private int batchSize;<br/>\n    +    private int flushIntervalInSeconds;<br/>\n    +    private boolean failTupleForFailedMetrics;<br/>\n    +<br/>\n    +    private BatchHelper batchHelper;<br/>\n    +    private OpenTsdbClient openTsdbClient;<br/>\n    +    private Map<OpenTsdbMetricDatapoint, Tuple> metricPointsWithTuple = new HashMap<>();<br/>\n    +    private OutputCollector collector;<br/>\n    +<br/>\n    +    public OpenTsdbBolt(OpenTsdbClient.Builder openTsdbClientBuilder, List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers) </p>\n{\n    +this.openTsdbClientBuilder = openTsdbClientBuilder;\n    +this.tupleOpenTsdbDatapointMappers = tupleOpenTsdbDatapointMappers;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withFlushInterval(int flushIntervalInSeconds) </p>\n{\n    +this.flushIntervalInSeconds = flushIntervalInSeconds;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withBatchSize(int batchSize) </p>\n{\n    +this.batchSize = batchSize;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * When it is invoked, this bolt acks only the tuples which have successful metrics stored into OpenTSDB and fails<br/>\n    +     * the respective tuples of the failed metrics.<br/>\n    +     *<br/>\n    +     * @return same insatcne by setting </p>\n{@code failTupleForFailedMetrics}\n<p> to true<br/>\n    +     */<br/>\n    +    public OpenTsdbBolt failTupleForFailedMetrics() </p>\n{\n    +this.failTupleForFailedMetrics = true;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +batchHelper = new BatchHelper(batchSize, collector);\n    +openTsdbClient = openTsdbClientBuilder.build();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    if (batchHelper.shouldHandle(tuple)) {<br/>\n    +final List<OpenTsdbMetricDatapoint> metricDataPoints = getMetricPoints(tuple);<br/>\n    +for (OpenTsdbMetricDatapoint metricDataPoint : metricDataPoints) </p>\n{\n    +    metricPointsWithTuple.put(metricDataPoint, tuple);\n    +}\n<p>    +batchHelper.addBatch(tuple);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It just counts multiple metric datapoints into one since BatchHelper handles batch via tuple. In fact, \"count of mappers\" data points are created for each tuple.<br/>\n    Since target of batching is metric datapoints instead of tuples, it seems not intuitive behavior.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915500","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915500","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915500,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1MDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T08:12:50Z","updated_at":"2025-01-24T16:22:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66925841\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66925841</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    + *<br/>\n    + */<br/>\n    +public class OpenTsdbBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(OpenTsdbBolt.class);<br/>\n    +<br/>\n    +    private final OpenTsdbClient.Builder openTsdbClientBuilder;<br/>\n    +    private final List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers;<br/>\n    +    private int batchSize;<br/>\n    +    private int flushIntervalInSeconds;<br/>\n    +    private boolean failTupleForFailedMetrics;<br/>\n    +<br/>\n    +    private BatchHelper batchHelper;<br/>\n    +    private OpenTsdbClient openTsdbClient;<br/>\n    +    private Map<OpenTsdbMetricDatapoint, Tuple> metricPointsWithTuple = new HashMap<>();<br/>\n    +    private OutputCollector collector;<br/>\n    +<br/>\n    +    public OpenTsdbBolt(OpenTsdbClient.Builder openTsdbClientBuilder, List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers) </p>\n{\n    +this.openTsdbClientBuilder = openTsdbClientBuilder;\n    +this.tupleOpenTsdbDatapointMappers = tupleOpenTsdbDatapointMappers;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withFlushInterval(int flushIntervalInSeconds) </p>\n{\n    +this.flushIntervalInSeconds = flushIntervalInSeconds;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withBatchSize(int batchSize) </p>\n{\n    +this.batchSize = batchSize;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * When it is invoked, this bolt acks only the tuples which have successful metrics stored into OpenTSDB and fails<br/>\n    +     * the respective tuples of the failed metrics.<br/>\n    +     *<br/>\n    +     * @return same insatcne by setting </p>\n{@code failTupleForFailedMetrics}\n<p> to true<br/>\n    +     */<br/>\n    +    public OpenTsdbBolt failTupleForFailedMetrics() </p>\n{\n    +this.failTupleForFailedMetrics = true;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +batchHelper = new BatchHelper(batchSize, collector);\n    +openTsdbClient = openTsdbClientBuilder.build();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    if (batchHelper.shouldHandle(tuple)) {<br/>\n    +final List<OpenTsdbMetricDatapoint> metricDataPoints = getMetricPoints(tuple);<br/>\n    +for (OpenTsdbMetricDatapoint metricDataPoint : metricDataPoints) </p>\n{\n    +    metricPointsWithTuple.put(metricDataPoint, tuple);\n    +}\n<p>    +batchHelper.addBatch(tuple);<br/>\n    +    }<br/>\n    +<br/>\n    +    if (batchHelper.shouldFlush()) {<br/>\n    +LOG.debug(\"Sending metrics of size <span class=\"error\">&#91;{}&#93;</span>\", metricPointsWithTuple.size());<br/>\n    +<br/>\n    +ClientResponse.Details clientResponse = openTsdbClient.writeMetricPoints(metricPointsWithTuple.keySet());<br/>\n    +<br/>\n    +if(failTupleForFailedMetrics && clientResponse.getFailed() > 0) {<br/>\n    +    final List<ClientResponse.Details.Error> errors = clientResponse.getErrors();<br/>\n    +    LOG.error(\"Some of the metric points failed with errors: <span class=\"error\">&#91;{}&#93;</span>\", clientResponse);<br/>\n    +    if(errors != null && !errors.isEmpty()) {<br/>\n    +<br/>\n    +Set<Tuple> failedTuples = new HashSet<>();<br/>\n    +for (ClientResponse.Details.Error error : errors) {<br/>\n    +    final Tuple failedTuple = metricPointsWithTuple.get(error.getDatapoint());<br/>\n    +    if(failedTuple != null) </p>\n{\n    +failedTuples.add(failedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +for (Tuple batchedTuple : batchHelper.getBatchTuples()) {<br/>\n    +    if(failedTuples.contains(batchedTuple)) </p>\n{\n    +collector.fail(batchedTuple);\n    +    }\n<p> else </p>\n{\n    +collector.ack(batchedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +    } else </p>\n{\n    +throw new RuntimeException(\"Some of the metric points failed with details: \" + errors);\n    +    }\n<p>    +} else </p>\n{\n    +    LOG.debug(\"Acknowledging batched tuples\");\n    +    batchHelper.ack();\n    +}\n<p>    +metricPointsWithTuple.clear();<br/>\n    +    }<br/>\n    +} catch (Exception e) </p>\n{\n    +    batchHelper.fail(e);\n    +    metricPointsWithTuple.clear();\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private List<OpenTsdbMetricDatapoint> getMetricPoints(Tuple tuple) {<br/>\n    +List<OpenTsdbMetricDatapoint> metricDataPoints = new ArrayList<>();<br/>\n    +for (TupleOpenTsdbDatapointMapper tupleOpenTsdbDatapointMapper : tupleOpenTsdbDatapointMappers) </p>\n{\n    +    metricDataPoints.add(tupleOpenTsdbDatapointMapper.getMetricPoint(tuple));\n    +}\n<p>    +<br/>\n    +return metricDataPoints;<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void cleanup() </p>\n{\n    +openTsdbClient.cleanup();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void declareOutputFields(OutputFieldsDeclarer declarer) </p>\n{\n    +// this is a sink and no result to emit.\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public Map<String, Object> getComponentConfiguration() {<br/>\n    +return TupleUtils.putTickFrequencyIntoComponentConfig(null, flushIntervalInSeconds);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    We know that super.getComponentConfiguration() is null, but it would be more clear to state that explicitly.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915509","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915509","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915509,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T08:13:57Z","updated_at":"2025-01-24T16:22:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66925973\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66925973</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/TupleOpenTsdbDatapointMapper.java &#8212;<br/>\n    @@ -0,0 +1,120 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.storm.tuple.ITuple;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Converts </p>\n{@link org.apache.storm.tuple.Tuple}\n<p> to </p>\n{@link OpenTsdbMetricDatapoint}\n<p>    &#8212; End diff &#8211;</p>\n\n<p>    Tuple -> ITuple</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225811718","html_url":"https://github.com/apache/storm/pull/1474#issuecomment-225811718","issue_url":"https://api.github.com/repos/apache/storm/issues/1474","id":225811718,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTgxMTcxOA==","user":{"login":"nabhanelrahman","id":18206402,"node_id":"MDQ6VXNlcjE4MjA2NDAy","avatar_url":"https://avatars.githubusercontent.com/u/18206402?v=4","gravatar_id":"","url":"https://api.github.com/users/nabhanelrahman","html_url":"https://github.com/nabhanelrahman","followers_url":"https://api.github.com/users/nabhanelrahman/followers","following_url":"https://api.github.com/users/nabhanelrahman/following{/other_user}","gists_url":"https://api.github.com/users/nabhanelrahman/gists{/gist_id}","starred_url":"https://api.github.com/users/nabhanelrahman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabhanelrahman/subscriptions","organizations_url":"https://api.github.com/users/nabhanelrahman/orgs","repos_url":"https://api.github.com/users/nabhanelrahman/repos","events_url":"https://api.github.com/users/nabhanelrahman/events{/privacy}","received_events_url":"https://api.github.com/users/nabhanelrahman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T08:19:43Z","updated_at":"2016-06-14T08:19:43Z","author_association":"NONE","body":"@harshach, just reaching out on the status of this pull request?  Does it look good? \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225811718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225819801","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-225819801","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":225819801,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTgxOTgwMQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T08:54:48Z","updated_at":"2016-06-14T08:54:48Z","author_association":"CONTRIBUTOR","body":"Since we have possibility to write same data points in multiple times, it might be helpful to mention `tsd.storage.fix_duplicates` for OpenTSDB 2.1.\nIt's on `Duplicate Data Points` sections from http://opentsdb.net/docs/build/html/user_guide/writing.html\n\nOr we can just mention that points are written at-least-once so users need to take care of it.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225819801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225822231","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-225822231","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":225822231,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTgyMjIzMQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T09:05:05Z","updated_at":"2016-06-14T09:05:05Z","author_association":"CONTRIBUTOR","body":"I've taken a look through whole places. Looks good overall.\nI'd like to sponsor on this module. Could you add me to sponsor? Thanks in advance!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225822231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915513","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915513","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915513,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1MTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T09:23:27Z","updated_at":"2025-01-24T16:22:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    I've taken a look through whole places. Looks good overall.<br/>\n    I'd like to sponsor on this module. Could you add me to sponsor? Thanks in advance!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225838621","html_url":"https://github.com/apache/storm/pull/1480#issuecomment-225838621","issue_url":"https://api.github.com/repos/apache/storm/issues/1480","id":225838621,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTgzODYyMQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T10:13:15Z","updated_at":"2016-06-14T10:13:15Z","author_association":"CONTRIBUTOR","body":"We're shading the libraries which you're changing scope to `provided` in storm-core, so it will not be provided at runtime.\nSince storm-redis depends on Guava, placing uber storm-redis jar to extlib incurs dependency issue in whole topologies in cluster. If we still really want to place this to extlib, we may need to consider shading guava and others for storm-redis module.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225838621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913763","html_url":"https://github.com/apache/storm/issues/5663#issuecomment-2612913763","issue_url":"https://api.github.com/repos/apache/storm/issues/5663","id":2612913763,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTM3NjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T10:13:17Z","updated_at":"2025-01-24T16:21:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1480\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1480</a></p>\n\n<p>    We're shading the libraries which you're changing scope to `provided` in storm-core, so it will not be provided at runtime.<br/>\n    Since storm-redis depends on Guava, placing uber storm-redis jar to extlib incurs dependency issue in whole topologies in cluster. If we still really want to place this to extlib, we may need to consider shading guava and others for storm-redis module.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225843558","html_url":"https://github.com/apache/storm/pull/1479#issuecomment-225843558","issue_url":"https://api.github.com/repos/apache/storm/issues/1479","id":225843558,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTg0MzU1OA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T10:36:33Z","updated_at":"2016-06-14T10:36:33Z","author_association":"CONTRIBUTOR","body":"@darionyaphet I'm curious that `exists` fits for use cases of Storm. Could you share your use cases?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225843558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913564","html_url":"https://github.com/apache/storm/issues/5662#issuecomment-2612913564","issue_url":"https://api.github.com/repos/apache/storm/issues/5662","id":2612913564,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTM1NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T10:36:35Z","updated_at":"2025-01-24T16:21:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1479\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1479</a></p>\n\n<p>    @darionyaphet I'm curious that `exists` fits for use cases of Storm. Could you share your use cases?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915515","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915515","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915515,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:08:39Z","updated_at":"2025-01-24T16:22:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66950068\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66950068</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/README.md &#8212;<br/>\n    @@ -0,0 +1,73 @@<br/>\n    +# Storm OpenTSDB Bolt and TridentState<br/>\n    +  <br/>\n    +OpenTSDB offers a scalable and highly available storage for time series data. It consists of a<br/>\n    +Time Series Daemon (TSD) servers along with command line utilities. Each TSD connects to the <br/>\n    +configured HBase cluster to push/query the data.<br/>\n    +<br/>\n    +Time series data point consists of:<br/>\n    + - a metric name.<br/>\n    + - a UNIX timestamp (seconds or milliseconds since Epoch).<br/>\n    + - a value (64 bit integer or single-precision floating point value).<br/>\n    + - a set of tags (key-value pairs) that describe the time series the point belongs to.<br/>\n    +<br/>\n    +Storm bolt and trident state creates the above time series data from a tuple based on the given `TupleMetricPointMapper`<br/>\n    +  <br/>\n    +This module provides core Storm and Trident bolt implementations for writing data to OpenTSDB.<br/>\n    +<br/>\n    +## Examples<br/>\n    +<br/>\n    +### Core Bolt<br/>\n    +Below example describes the usage of core bolt which is `org.apache.stom.opentsdb.bolt.OpenTsdbBolt`<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    The package name should org.apache.<b>storm</b>...</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915520","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915520","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915520,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:10:54Z","updated_at":"2025-01-24T16:22:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66950323\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66950323</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/pom.xml &#8212;<br/>\n    @@ -0,0 +1,97 @@<br/>\n    +<?xml version=\"1.0\" encoding=\"UTF-8\"?><br/>\n    +<!--<br/>\n    + Licensed to the Apache Software Foundation (ASF) under one or more<br/>\n    + contributor license agreements.  See the NOTICE file distributed with<br/>\n    + this work for additional information regarding copyright ownership.<br/>\n    + The ASF licenses this file to You under the Apache License, Version 2.0<br/>\n    + (the \"License\"); you may not use this file except in compliance with<br/>\n    + the License.  You may obtain a copy of the License at<br/>\n    +<br/>\n    +     <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    +<br/>\n    + Unless required by applicable law or agreed to in writing, software<br/>\n    + distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + See the License for the specific language governing permissions and<br/>\n    + limitations under the License.<br/>\n    +--><br/>\n    +<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 <a href=\"http://maven.apache.org/xsd/maven-4.0.0.xsd\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://maven.apache.org/xsd/maven-4.0.0.xsd</a>\"><br/>\n    +    <modelVersion>4.0.0</modelVersion><br/>\n    +<br/>\n    +    <parent><br/>\n    +<artifactId>storm</artifactId><br/>\n    +<groupId>org.apache.storm</groupId><br/>\n    +<version>2.0.0-SNAPSHOT</version><br/>\n    +<relativePath>../../pom.xml</relativePath><br/>\n    +    </parent><br/>\n    +<br/>\n    +    <artifactId>storm-opentsdb</artifactId><br/>\n    +<br/>\n    +    <developers><br/>\n    +<developer><br/>\n    +    <id>satishd</id><br/>\n    +    <name>Satish Duggana</name><br/>\n    +    <email>satish.duggana@gmail.com</email><br/>\n    +</developer><br/>\n    +    </developers><br/>\n    +<br/>\n    +    <properties><br/>\n    +<jersey.version>2.23</jersey.version><br/>\n    +    </properties><br/>\n    +<br/>\n    +    <dependencies><br/>\n    +<dependency><br/>\n    +    <groupId>org.apache.storm</groupId><br/>\n    +    <artifactId>storm-core</artifactId><br/>\n    +    <version>${project.version}</version><br/>\n    +    <scope>provided</scope><br/>\n    +</dependency><br/>\n    +<dependency><br/>\n    +    <groupId>com.google.guava</groupId><br/>\n    +    <artifactId>guava</artifactId><br/>\n    +    <version>18.0</version><br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    should this come from parent pom?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915522","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915522","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915522,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1MjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:11:16Z","updated_at":"2025-01-24T16:22:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66950359\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66950359</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/OpenTsdbMetricDatapoint.java &#8212;<br/>\n    @@ -0,0 +1,113 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * This class represents a metric data point in OpenTSDB's format.<br/>\n    + */<br/>\n    +public class OpenTsdbMetricDatapoint implements Serializable {<br/>\n    +<br/>\n    +    // metric name<br/>\n    +    private final String metric;<br/>\n    +<br/>\n    +    // map of tag value pairs<br/>\n    +    private final Map<String, String> tags;<br/>\n    +<br/>\n    +    // timestamp either in milliseconds or seconds at which this metric is occurred.<br/>\n    +    private final long timestamp;<br/>\n    +<br/>\n    +    // value of the metric<br/>\n    +    private final Object value;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915527","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915527","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915527,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:13:08Z","updated_at":"2025-01-24T16:22:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66950531\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66950531</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/OpenTsdbMetricDatapoint.java &#8212;<br/>\n    @@ -0,0 +1,113 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * This class represents a metric data point in OpenTSDB's format.<br/>\n    + */<br/>\n    +public class OpenTsdbMetricDatapoint implements Serializable {<br/>\n    +<br/>\n    +    // metric name<br/>\n    +    private final String metric;<br/>\n    +<br/>\n    +    // map of tag value pairs<br/>\n    +    private final Map<String, String> tags;<br/>\n    +<br/>\n    +    // timestamp either in milliseconds or seconds at which this metric is occurred.<br/>\n    +    private final long timestamp;<br/>\n    +<br/>\n    +    // value of the metric<br/>\n    +    private final Object value;<br/>\n    +<br/>\n    +    private OpenTsdbMetricDatapoint() {<br/>\n    +this(null, null, 0L, null);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    should null values be allowed?  This can result in NPE in equals/hashCode method</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915532","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915532","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915532,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:14:04Z","updated_at":"2025-01-24T16:22:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66950623\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66950623</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/ITupleOpenTsdbDatapointMapper.java &#8212;<br/>\n    @@ -0,0 +1,39 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    the classes need to be moved to package org.apache.*<b>storm</b>*.opentsdb.bolt</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915535","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915535","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915535,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:18:47Z","updated_at":"2025-01-24T16:22:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66951119\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66951119</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    link of example topology is missing</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225851915","html_url":"https://github.com/apache/storm/pull/1480#issuecomment-225851915","issue_url":"https://api.github.com/repos/apache/storm/issues/1480","id":225851915,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTg1MTkxNQ==","user":{"login":"sakanaou","id":6887099,"node_id":"MDQ6VXNlcjY4ODcwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6887099?v=4","gravatar_id":"","url":"https://api.github.com/users/sakanaou","html_url":"https://github.com/sakanaou","followers_url":"https://api.github.com/users/sakanaou/followers","following_url":"https://api.github.com/users/sakanaou/following{/other_user}","gists_url":"https://api.github.com/users/sakanaou/gists{/gist_id}","starred_url":"https://api.github.com/users/sakanaou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sakanaou/subscriptions","organizations_url":"https://api.github.com/users/sakanaou/orgs","repos_url":"https://api.github.com/users/sakanaou/repos","events_url":"https://api.github.com/users/sakanaou/events{/privacy}","received_events_url":"https://api.github.com/users/sakanaou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:19:34Z","updated_at":"2016-06-14T11:19:34Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR: `storm-core/pom.xml` includes a `maven-shade-plugin` step that lists both guava and jackson as artifactSet-includes without relocations. Why should they then not be provided via storm-core? I have successfully used storm-redis without placing guava or jackson explicitly in the classpath so they must be present already. From my understanding they are provided by the \"fat\" storm-core jar.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225851915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913767","html_url":"https://github.com/apache/storm/issues/5663#issuecomment-2612913767","issue_url":"https://api.github.com/repos/apache/storm/issues/5663","id":2612913767,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTM3Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:19:36Z","updated_at":"2025-01-24T16:21:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user sakanaou commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1480\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1480</a></p>\n\n<p>    @HeartSaVioR: `storm-core/pom.xml` includes a `maven-shade-plugin` step that lists both guava and jackson as artifactSet-includes without relocations. Why should they then not be provided via storm-core? I have successfully used storm-redis without placing guava or jackson explicitly in the classpath so they must be present already. From my understanding they are provided by the \"fat\" storm-core jar.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915536","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915536","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915536,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1MzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:21:22Z","updated_at":"2025-01-24T16:22:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66951360\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66951360</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    + *<br/>\n    + */<br/>\n    +public class OpenTsdbBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(OpenTsdbBolt.class);<br/>\n    +<br/>\n    +    private final OpenTsdbClient.Builder openTsdbClientBuilder;<br/>\n    +    private final List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers;<br/>\n    +    private int batchSize;<br/>\n    +    private int flushIntervalInSeconds;<br/>\n    +    private boolean failTupleForFailedMetrics;<br/>\n    +<br/>\n    +    private BatchHelper batchHelper;<br/>\n    +    private OpenTsdbClient openTsdbClient;<br/>\n    +    private Map<OpenTsdbMetricDatapoint, Tuple> metricPointsWithTuple = new HashMap<>();<br/>\n    +    private OutputCollector collector;<br/>\n    +<br/>\n    +    public OpenTsdbBolt(OpenTsdbClient.Builder openTsdbClientBuilder, List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers) </p>\n{\n    +this.openTsdbClientBuilder = openTsdbClientBuilder;\n    +this.tupleOpenTsdbDatapointMappers = tupleOpenTsdbDatapointMappers;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withFlushInterval(int flushIntervalInSeconds) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    is flushInterval and batch size not mandatory parameters? </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915542","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915542","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915542,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:28:05Z","updated_at":"2025-01-24T16:22:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66952076\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66952076</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/client/ClientResponse.java &#8212;<br/>\n    @@ -0,0 +1,169 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.client;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * This class represents the response from OpenTsdb for a request sent.<br/>\n    + */<br/>\n    +public interface ClientResponse extends Serializable {<br/>\n    +<br/>\n    +<br/>\n    +    public class Summary implements ClientResponse {<br/>\n    +private int failed;<br/>\n    +private int success;<br/>\n    +<br/>\n    +public Summary() </p>\n{\n    +}<br/>\n    +<br/>\n    +public Summary(int failed, int success) {\n    +    this.failed = failed;\n    +    this.success = success;\n    +}<br/>\n    +<br/>\n    +public int getFailed() {\n    +    return failed;\n    +}<br/>\n    +<br/>\n    +public int getSuccess() {\n    +    return success;\n    +}<br/>\n    +<br/>\n    +@Override<br/>\n    +public boolean equals(Object o) {\n    +    if (this == o) return true;\n    +    if (!(o instanceof Summary)) return false;\n    +\n    +    Summary summary = (Summary) o;\n    +\n    +    if (failed != summary.failed) return false;\n    +    return success == summary.success;\n    +\n    +}<br/>\n    +<br/>\n    +@Override<br/>\n    +public int hashCode() {\n    +    int result = failed;\n    +    result = 31 * result + success;\n    +    return result;\n    +}<br/>\n    +<br/>\n    +@Override<br/>\n    +public String toString() {<br/>\n    +    return \"Summary{\" +\n    +    \"failed=\" + failed +\n    +    \", success=\" + success +\n    +    '}';<br/>\n    +}<br/>\n    +    }<br/>\n    +<br/>\n    +    public class Details extends Summary {<br/>\n    +private List<Error> errors;<br/>\n    +<br/>\n    +public Details() {    +}\n<p>    +<br/>\n    +public Details(int failed, int success, List<Error> errors) </p>\n{\n    +    super(failed, success);\n    +    this.errors = errors;\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public boolean equals(Object o) </p>\n{\n    +    if (this == o) return true;\n    +    if (!(o instanceof Details)) return false;\n    +    if (!super.equals(o)) return false;\n    +\n    +    Details details = (Details) o;\n    +\n    +    return errors.equals(details.errors);\n    +\n    +}\n<p>    +<br/>\n    +public List<Error> getErrors() </p>\n{\n    +    return errors;\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public int hashCode() </p>\n{\n    +    int result = super.hashCode();\n    +    result = 31 * result + errors.hashCode();\n    +    return result;\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public String toString() {<br/>\n    +    return \"Details</p>\n{\" +\n    +    \"errors=\" + errors +\n    +    '}\n<p>'+super.toString();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    minor. '}' can be after super.toString()</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915544","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915544","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915544,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:29:00Z","updated_at":"2025-01-24T16:22:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66952161\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66952161</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/client/ClientResponse.java &#8212;<br/>\n    @@ -0,0 +1,169 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.client;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * This class represents the response from OpenTsdb for a request sent.<br/>\n    + */<br/>\n    +public interface ClientResponse extends Serializable {<br/>\n    +<br/>\n    +<br/>\n    +    public class Summary implements ClientResponse {<br/>\n    +private int failed;<br/>\n    +private int success;<br/>\n    +<br/>\n    +public Summary() </p>\n{\n    +}<br/>\n    +<br/>\n    +public Summary(int failed, int success) {\n    +    this.failed = failed;\n    +    this.success = success;\n    +}<br/>\n    +<br/>\n    +public int getFailed() {\n    +    return failed;\n    +}<br/>\n    +<br/>\n    +public int getSuccess() {\n    +    return success;\n    +}<br/>\n    +<br/>\n    +@Override<br/>\n    +public boolean equals(Object o) {\n    +    if (this == o) return true;\n    +    if (!(o instanceof Summary)) return false;\n    +\n    +    Summary summary = (Summary) o;\n    +\n    +    if (failed != summary.failed) return false;\n    +    return success == summary.success;\n    +\n    +}<br/>\n    +<br/>\n    +@Override<br/>\n    +public int hashCode() {\n    +    int result = failed;\n    +    result = 31 * result + success;\n    +    return result;\n    +}<br/>\n    +<br/>\n    +@Override<br/>\n    +public String toString() {<br/>\n    +    return \"Summary{\" +\n    +    \"failed=\" + failed +\n    +    \", success=\" + success +\n    +    '}';<br/>\n    +}<br/>\n    +    }<br/>\n    +<br/>\n    +    public class Details extends Summary {<br/>\n    +private List<Error> errors;<br/>\n    +<br/>\n    +public Details() {    +}\n<p>    +<br/>\n    +public Details(int failed, int success, List<Error> errors) </p>\n{\n    +    super(failed, success);\n    +    this.errors = errors;\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public boolean equals(Object o) </p>\n{\n    +    if (this == o) return true;\n    +    if (!(o instanceof Details)) return false;\n    +    if (!super.equals(o)) return false;\n    +\n    +    Details details = (Details) o;\n    +\n    +    return errors.equals(details.errors);\n    +\n    +}\n<p>    +<br/>\n    +public List<Error> getErrors() </p>\n{\n    +    return errors;\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public int hashCode() </p>\n{\n    +    int result = super.hashCode();\n    +    result = 31 * result + errors.hashCode();\n    +    return result;\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public String toString() {<br/>\n    +    return \"Details</p>\n{\" +\n    +    \"errors=\" + errors +\n    +    '}\n<p>'+super.toString();<br/>\n    +}<br/>\n    +<br/>\n    +public static class Error implements Serializable {<br/>\n    +    private String error;<br/>\n    +    private OpenTsdbMetricDatapoint datapoint;<br/>\n    +<br/>\n    +    public Error() </p>\n{\n    +    }\n<p>    +<br/>\n    +    public Error(String error, OpenTsdbMetricDatapoint datapoint) </p>\n{\n    +this.error = error;\n    +this.datapoint = datapoint;\n    +    }\n<p>    +<br/>\n    +    public String getError() </p>\n{\n    +return error;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbMetricDatapoint getDatapoint() </p>\n{\n    +return datapoint;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public boolean equals(Object o) </p>\n{\n    +if (this == o) return true;\n    +if (!(o instanceof Error)) return false;\n    +\n    +Error error1 = (Error) o;\n    +\n    +if (!error.equals(error1.error)) return false;\n    +return datapoint.equals(error1.datapoint);\n    +\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public int hashCode() </p>\n{\n    +int result = error.hashCode();\n    +result = 31 * result + datapoint.hashCode();\n    +return result;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public String toString() {<br/>\n    +return \"Error{\" +<br/>\n    +\"error='\" + error + '\\'' +<br/>\n    +\", datapoints=\" + datapoint +<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    typo. datapoint=</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915554","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915554","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915554,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1NTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:39:09Z","updated_at":"2025-01-24T16:22:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66953314\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66953314</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    + *<br/>\n    + */<br/>\n    +public class OpenTsdbBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(OpenTsdbBolt.class);<br/>\n    +<br/>\n    +    private final OpenTsdbClient.Builder openTsdbClientBuilder;<br/>\n    +    private final List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers;<br/>\n    +    private int batchSize;<br/>\n    +    private int flushIntervalInSeconds;<br/>\n    +    private boolean failTupleForFailedMetrics;<br/>\n    +<br/>\n    +    private BatchHelper batchHelper;<br/>\n    +    private OpenTsdbClient openTsdbClient;<br/>\n    +    private Map<OpenTsdbMetricDatapoint, Tuple> metricPointsWithTuple = new HashMap<>();<br/>\n    +    private OutputCollector collector;<br/>\n    +<br/>\n    +    public OpenTsdbBolt(OpenTsdbClient.Builder openTsdbClientBuilder, List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers) </p>\n{\n    +this.openTsdbClientBuilder = openTsdbClientBuilder;\n    +this.tupleOpenTsdbDatapointMappers = tupleOpenTsdbDatapointMappers;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withFlushInterval(int flushIntervalInSeconds) </p>\n{\n    +this.flushIntervalInSeconds = flushIntervalInSeconds;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withBatchSize(int batchSize) </p>\n{\n    +this.batchSize = batchSize;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * When it is invoked, this bolt acks only the tuples which have successful metrics stored into OpenTSDB and fails<br/>\n    +     * the respective tuples of the failed metrics.<br/>\n    +     *<br/>\n    +     * @return same instance by setting </p>\n{@code failTupleForFailedMetrics}\n<p> to true<br/>\n    +     */<br/>\n    +    public OpenTsdbBolt failTupleForFailedMetrics() </p>\n{\n    +this.failTupleForFailedMetrics = true;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +batchHelper = new BatchHelper(batchSize, collector);\n    +openTsdbClient = openTsdbClientBuilder.build();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    if (batchHelper.shouldHandle(tuple)) {<br/>\n    +final List<OpenTsdbMetricDatapoint> metricDataPoints = getMetricPoints(tuple);<br/>\n    +for (OpenTsdbMetricDatapoint metricDataPoint : metricDataPoints) </p>\n{\n    +    metricPointsWithTuple.put(metricDataPoint, tuple);\n    +}\n<p>    +batchHelper.addBatch(tuple);<br/>\n    +    }<br/>\n    +<br/>\n    +    if (batchHelper.shouldFlush()) {<br/>\n    +LOG.debug(\"Sending metrics of size <span class=\"error\">&#91;{}&#93;</span>\", metricPointsWithTuple.size());<br/>\n    +<br/>\n    +ClientResponse.Details clientResponse = openTsdbClient.writeMetricPoints(metricPointsWithTuple.keySet());<br/>\n    +<br/>\n    +if(failTupleForFailedMetrics && clientResponse.getFailed() > 0) {<br/>\n    +    final List<ClientResponse.Details.Error> errors = clientResponse.getErrors();<br/>\n    +    LOG.error(\"Some of the metric points failed with errors: <span class=\"error\">&#91;{}&#93;</span>\", clientResponse);<br/>\n    +    if(errors != null && !errors.isEmpty()) {<br/>\n    +<br/>\n    +Set<Tuple> failedTuples = new HashSet<>();<br/>\n    +for (ClientResponse.Details.Error error : errors) {<br/>\n    +    final Tuple failedTuple = metricPointsWithTuple.get(error.getDatapoint());<br/>\n    +    if(failedTuple != null) </p>\n{\n    +failedTuples.add(failedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +for (Tuple batchedTuple : batchHelper.getBatchTuples()) {<br/>\n    +    if(failedTuples.contains(batchedTuple)) </p>\n{\n    +collector.fail(batchedTuple);\n    +    }\n<p> else </p>\n{\n    +collector.ack(batchedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +    } else </p>\n{\n    +throw new RuntimeException(\"Some of the metric points failed with details: \" + errors);\n    +    }\n<p>    +} else </p>\n{\n    +    LOG.debug(\"Acknowledging batched tuples\");\n    +    batchHelper.ack();\n    +}\n<p>    +metricPointsWithTuple.clear();<br/>\n    +    }<br/>\n    +} catch (Exception e) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    should this catch be inside `batchHelper.shouldFlush()` since whole batch is failed. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915559","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915559","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915559,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:40:51Z","updated_at":"2025-01-24T16:22:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66953536\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66953536</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/client/OpenTsdbClient.java &#8212;<br/>\n    @@ -0,0 +1,151 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.client;<br/>\n    +<br/>\n    +import com.google.common.base.Preconditions;<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.glassfish.jersey.apache.connector.ApacheConnectorProvider;<br/>\n    +import org.glassfish.jersey.client.ClientConfig;<br/>\n    +import org.glassfish.jersey.client.ClientProperties;<br/>\n    +import org.glassfish.jersey.client.RequestEntityProcessing;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import javax.ws.rs.client.Client;<br/>\n    +import javax.ws.rs.client.ClientBuilder;<br/>\n    +import javax.ws.rs.client.Entity;<br/>\n    +import javax.ws.rs.client.WebTarget;<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.Collection;<br/>\n    +<br/>\n    +/**<br/>\n    + * Client to connect to OpenTsdb TSD for storing timeseries datapoints.<br/>\n    + */<br/>\n    +public class OpenTsdbClient {<br/>\n    +    private static final String PUT_PATH = \"/api/put\";<br/>\n    +    private static Logger LOG = LoggerFactory.getLogger(OpenTsdbClient.class);<br/>\n    +<br/>\n    +    private final String urlString;<br/>\n    +    private final boolean sync;<br/>\n    +    private final long syncTimeout;<br/>\n    +    private final ResponseType responseType;<br/>\n    +    private final boolean enableChunkedEncoding;<br/>\n    +<br/>\n    +    private WebTarget target;<br/>\n    +    private Client client;<br/>\n    +<br/>\n    +    public enum ResponseType {<br/>\n    +None(\"\"),<br/>\n    +Summary(\"summary\"),<br/>\n    +Details(\"details\");<br/>\n    +<br/>\n    +private final String value;<br/>\n    +<br/>\n    +ResponseType(String value) </p>\n{\n    +    this.value = value;\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    protected OpenTsdbClient(String urlString, boolean sync, long syncTimeOut, ResponseType responseType, boolean enableChunkedEncoding) </p>\n{\n    +this.urlString = urlString;\n    +this.sync = sync;\n    +this.syncTimeout = syncTimeOut;\n    +this.responseType = responseType;\n    +this.enableChunkedEncoding = enableChunkedEncoding;\n    +\n    +init();\n    +    }\n<p>    +<br/>\n    +    private void init() {<br/>\n    +<br/>\n    +final ApacheConnectorProvider apacheConnectorProvider = new ApacheConnectorProvider();<br/>\n    +final ClientConfig clientConfig = new ClientConfig().connectorProvider(apacheConnectorProvider);<br/>\n    +<br/>\n    +// transfer encoding should be set as jersey sets it on by default.<br/>\n    +clientConfig.property(ClientProperties.REQUEST_ENTITY_PROCESSING,<br/>\n    +enableChunkedEncoding ? RequestEntityProcessing.CHUNKED : RequestEntityProcessing.BUFFERED);<br/>\n    +<br/>\n    +client = ClientBuilder.newClient(clientConfig);<br/>\n    +<br/>\n    +target = client.target(urlString).path(PUT_PATH);<br/>\n    +if(sync) </p>\n{\n    +    target = target.queryParam(\"sync\").queryParam(\"sync_timeout\", syncTimeout);\n    +}\n<p>    +if(!(responseType == ResponseType.None)) </p>\n{\n    +    target.queryParam(responseType.value);\n    +}\n<p>    +<br/>\n    +LOG.debug(\"target uri <span class=\"error\">&#91;{}&#93;</span>\", target.getUri());<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This can be made info. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915562","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915562","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915562,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1NjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:47:25Z","updated_at":"2025-01-24T16:22:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66954285\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66954285</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/OpenTsdbMetricDatapoint.java &#8212;<br/>\n    @@ -0,0 +1,113 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * This class represents a metric data point in OpenTSDB's format.<br/>\n    + */<br/>\n    +public class OpenTsdbMetricDatapoint implements Serializable {<br/>\n    +<br/>\n    +    // metric name<br/>\n    +    private final String metric;<br/>\n    +<br/>\n    +    // map of tag value pairs<br/>\n    +    private final Map<String, String> tags;<br/>\n    +<br/>\n    +    // timestamp either in milliseconds or seconds at which this metric is occurred.<br/>\n    +    private final long timestamp;<br/>\n    +<br/>\n    +    // value of the metric<br/>\n    +    private final Object value;<br/>\n    +<br/>\n    +    private OpenTsdbMetricDatapoint() {<br/>\n    +this(null, null, 0L, null);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This is for jackson serialization and it is a private constructor.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915565","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915565","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915565,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1NjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:48:10Z","updated_at":"2025-01-24T16:22:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66954356\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66954356</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/test/java/org/apache/storm/opentsdb/SampleOpenTsdbBoltTopology.java &#8212;<br/>\n    @@ -0,0 +1,70 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.opentsdb;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.bolt.OpenTsdbBolt;<br/>\n    +import org.apache.stom.opentsdb.bolt.TupleOpenTsdbDatapointMapper;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.LocalCluster;<br/>\n    +import org.apache.storm.StormSubmitter;<br/>\n    +import org.apache.storm.topology.TopologyBuilder;<br/>\n    +<br/>\n    +import java.util.Collections;<br/>\n    +<br/>\n    +/**<br/>\n    + * Sample application to use OpenTSDB bolt.<br/>\n    + */<br/>\n    +public class SampleOpenTsdbBoltTopology {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I feel that this class and MetricGenSpout should be rather moved to examples/storm-starter. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915570","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915570","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915570,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1NzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:56:24Z","updated_at":"2025-01-24T16:22:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66955350\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66955350</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/test/java/org/apache/storm/opentsdb/SampleOpenTsdbBoltTopology.java &#8212;<br/>\n    @@ -0,0 +1,70 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.opentsdb;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.bolt.OpenTsdbBolt;<br/>\n    +import org.apache.stom.opentsdb.bolt.TupleOpenTsdbDatapointMapper;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.LocalCluster;<br/>\n    +import org.apache.storm.StormSubmitter;<br/>\n    +import org.apache.storm.topology.TopologyBuilder;<br/>\n    +<br/>\n    +import java.util.Collections;<br/>\n    +<br/>\n    +/**<br/>\n    + * Sample application to use OpenTSDB bolt.<br/>\n    + */<br/>\n    +public class SampleOpenTsdbBoltTopology {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    storm-opsntsdb's jersey related dependencies had collision with some example topologies. That is the reason why it is kept inside this module for now.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915574","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915574","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915574,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T11:57:36Z","updated_at":"2025-01-24T16:22:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66955486\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66955486</a></p>\n\n<p>    &#8212; Diff: pom.xml &#8212;<br/>\n    @@ -228,7 +228,7 @@<br/>\n     <clojure.math.numeric-tower.version>0.0.1</clojure.math.numeric-tower.version><br/>\n     <carbonite.version>1.5.0</carbonite.version><br/>\n     <snakeyaml.version>1.11</snakeyaml.version></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li><httpclient.version>4.3.3</httpclient.version><br/>\n    +<httpclient.version>4.5</httpclient.version>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I am not sure about this change. Is this dependency shaded? There has been a discussion recently on updating versions of non-shaded dependencies. <br/>\n    <a href=\"https://www.mail-archive.com/dev@storm.apache.org/msg32949.html\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://www.mail-archive.com/dev@storm.apache.org/msg32949.html</a><br/>\n    If it is not shaded, it is better to upgrade the version only for storm-opentsdb module</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225860137","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-225860137","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":225860137,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTg2MDEzNw==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:01:28Z","updated_at":"2016-06-14T12:01:28Z","author_association":"CONTRIBUTOR","body":"Thanks @satishd I had mostly minor comments except the httpclients version upgrade. I would prefer that upgrade to be isolated to storm-opentsdb module. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225860137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915579","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915579","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915579,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:01:29Z","updated_at":"2025-01-24T16:22:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    Thanks @satishd I had mostly minor comments except the httpclients version upgrade. I would prefer that upgrade to be isolated to storm-opentsdb module. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915584","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915584","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915584,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1ODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:03:14Z","updated_at":"2025-01-24T16:22:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66956202\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66956202</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    + *<br/>\n    + */<br/>\n    +public class OpenTsdbBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(OpenTsdbBolt.class);<br/>\n    +<br/>\n    +    private final OpenTsdbClient.Builder openTsdbClientBuilder;<br/>\n    +    private final List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers;<br/>\n    +    private int batchSize;<br/>\n    +    private int flushIntervalInSeconds;<br/>\n    +    private boolean failTupleForFailedMetrics;<br/>\n    +<br/>\n    +    private BatchHelper batchHelper;<br/>\n    +    private OpenTsdbClient openTsdbClient;<br/>\n    +    private Map<OpenTsdbMetricDatapoint, Tuple> metricPointsWithTuple = new HashMap<>();<br/>\n    +    private OutputCollector collector;<br/>\n    +<br/>\n    +    public OpenTsdbBolt(OpenTsdbClient.Builder openTsdbClientBuilder, List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers) </p>\n{\n    +this.openTsdbClientBuilder = openTsdbClientBuilder;\n    +this.tupleOpenTsdbDatapointMappers = tupleOpenTsdbDatapointMappers;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withFlushInterval(int flushIntervalInSeconds) </p>\n{\n    +this.flushIntervalInSeconds = flushIntervalInSeconds;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withBatchSize(int batchSize) </p>\n{\n    +this.batchSize = batchSize;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * When it is invoked, this bolt acks only the tuples which have successful metrics stored into OpenTSDB and fails<br/>\n    +     * the respective tuples of the failed metrics.<br/>\n    +     *<br/>\n    +     * @return same instance by setting </p>\n{@code failTupleForFailedMetrics}\n<p> to true<br/>\n    +     */<br/>\n    +    public OpenTsdbBolt failTupleForFailedMetrics() </p>\n{\n    +this.failTupleForFailedMetrics = true;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +batchHelper = new BatchHelper(batchSize, collector);\n    +openTsdbClient = openTsdbClientBuilder.build();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    if (batchHelper.shouldHandle(tuple)) {<br/>\n    +final List<OpenTsdbMetricDatapoint> metricDataPoints = getMetricPoints(tuple);<br/>\n    +for (OpenTsdbMetricDatapoint metricDataPoint : metricDataPoints) </p>\n{\n    +    metricPointsWithTuple.put(metricDataPoint, tuple);\n    +}\n<p>    +batchHelper.addBatch(tuple);<br/>\n    +    }<br/>\n    +<br/>\n    +    if (batchHelper.shouldFlush()) {<br/>\n    +LOG.debug(\"Sending metrics of size <span class=\"error\">&#91;{}&#93;</span>\", metricPointsWithTuple.size());<br/>\n    +<br/>\n    +ClientResponse.Details clientResponse = openTsdbClient.writeMetricPoints(metricPointsWithTuple.keySet());<br/>\n    +<br/>\n    +if(failTupleForFailedMetrics && clientResponse.getFailed() > 0) {<br/>\n    +    final List<ClientResponse.Details.Error> errors = clientResponse.getErrors();<br/>\n    +    LOG.error(\"Some of the metric points failed with errors: <span class=\"error\">&#91;{}&#93;</span>\", clientResponse);<br/>\n    +    if(errors != null && !errors.isEmpty()) {<br/>\n    +<br/>\n    +Set<Tuple> failedTuples = new HashSet<>();<br/>\n    +for (ClientResponse.Details.Error error : errors) {<br/>\n    +    final Tuple failedTuple = metricPointsWithTuple.get(error.getDatapoint());<br/>\n    +    if(failedTuple != null) </p>\n{\n    +failedTuples.add(failedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +for (Tuple batchedTuple : batchHelper.getBatchTuples()) {<br/>\n    +    if(failedTuples.contains(batchedTuple)) </p>\n{\n    +collector.fail(batchedTuple);\n    +    }\n<p> else </p>\n{\n    +collector.ack(batchedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +    } else </p>\n{\n    +throw new RuntimeException(\"Some of the metric points failed with details: \" + errors);\n    +    }\n<p>    +} else </p>\n{\n    +    LOG.debug(\"Acknowledging batched tuples\");\n    +    batchHelper.ack();\n    +}\n<p>    +metricPointsWithTuple.clear();<br/>\n    +    }<br/>\n    +} catch (Exception e) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    `batchHelper.shouldFlush()` checks only whether to flush or not. `batchHelper.fail(e)` fails the whole batch of tuples.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915588","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915588","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915588,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1ODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:06:03Z","updated_at":"2025-01-24T16:22:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66956501\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66956501</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/OpenTsdbMetricDatapoint.java &#8212;<br/>\n    @@ -0,0 +1,113 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * This class represents a metric data point in OpenTSDB's format.<br/>\n    + */<br/>\n    +public class OpenTsdbMetricDatapoint implements Serializable {<br/>\n    +<br/>\n    +    // metric name<br/>\n    +    private final String metric;<br/>\n    +<br/>\n    +    // map of tag value pairs<br/>\n    +    private final Map<String, String> tags;<br/>\n    +<br/>\n    +    // timestamp either in milliseconds or seconds at which this metric is occurred.<br/>\n    +    private final long timestamp;<br/>\n    +<br/>\n    +    // value of the metric<br/>\n    +    private final Object value;<br/>\n    +<br/>\n    +    private OpenTsdbMetricDatapoint() {<br/>\n    +this(null, null, 0L, null);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Thanks for explanation satish. can you add this as a comment on the constructor?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915592","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915592","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915592,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:07:41Z","updated_at":"2025-01-24T16:22:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66956682\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66956682</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    + *<br/>\n    + */<br/>\n    +public class OpenTsdbBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(OpenTsdbBolt.class);<br/>\n    +<br/>\n    +    private final OpenTsdbClient.Builder openTsdbClientBuilder;<br/>\n    +    private final List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers;<br/>\n    +    private int batchSize;<br/>\n    +    private int flushIntervalInSeconds;<br/>\n    +    private boolean failTupleForFailedMetrics;<br/>\n    +<br/>\n    +    private BatchHelper batchHelper;<br/>\n    +    private OpenTsdbClient openTsdbClient;<br/>\n    +    private Map<OpenTsdbMetricDatapoint, Tuple> metricPointsWithTuple = new HashMap<>();<br/>\n    +    private OutputCollector collector;<br/>\n    +<br/>\n    +    public OpenTsdbBolt(OpenTsdbClient.Builder openTsdbClientBuilder, List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers) </p>\n{\n    +this.openTsdbClientBuilder = openTsdbClientBuilder;\n    +this.tupleOpenTsdbDatapointMappers = tupleOpenTsdbDatapointMappers;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withFlushInterval(int flushIntervalInSeconds) </p>\n{\n    +this.flushIntervalInSeconds = flushIntervalInSeconds;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withBatchSize(int batchSize) </p>\n{\n    +this.batchSize = batchSize;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * When it is invoked, this bolt acks only the tuples which have successful metrics stored into OpenTSDB and fails<br/>\n    +     * the respective tuples of the failed metrics.<br/>\n    +     *<br/>\n    +     * @return same instance by setting </p>\n{@code failTupleForFailedMetrics}\n<p> to true<br/>\n    +     */<br/>\n    +    public OpenTsdbBolt failTupleForFailedMetrics() </p>\n{\n    +this.failTupleForFailedMetrics = true;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +batchHelper = new BatchHelper(batchSize, collector);\n    +openTsdbClient = openTsdbClientBuilder.build();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    if (batchHelper.shouldHandle(tuple)) {<br/>\n    +final List<OpenTsdbMetricDatapoint> metricDataPoints = getMetricPoints(tuple);<br/>\n    +for (OpenTsdbMetricDatapoint metricDataPoint : metricDataPoints) </p>\n{\n    +    metricPointsWithTuple.put(metricDataPoint, tuple);\n    +}\n<p>    +batchHelper.addBatch(tuple);<br/>\n    +    }<br/>\n    +<br/>\n    +    if (batchHelper.shouldFlush()) {<br/>\n    +LOG.debug(\"Sending metrics of size <span class=\"error\">&#91;{}&#93;</span>\", metricPointsWithTuple.size());<br/>\n    +<br/>\n    +ClientResponse.Details clientResponse = openTsdbClient.writeMetricPoints(metricPointsWithTuple.keySet());<br/>\n    +<br/>\n    +if(failTupleForFailedMetrics && clientResponse.getFailed() > 0) {<br/>\n    +    final List<ClientResponse.Details.Error> errors = clientResponse.getErrors();<br/>\n    +    LOG.error(\"Some of the metric points failed with errors: <span class=\"error\">&#91;{}&#93;</span>\", clientResponse);<br/>\n    +    if(errors != null && !errors.isEmpty()) {<br/>\n    +<br/>\n    +Set<Tuple> failedTuples = new HashSet<>();<br/>\n    +for (ClientResponse.Details.Error error : errors) {<br/>\n    +    final Tuple failedTuple = metricPointsWithTuple.get(error.getDatapoint());<br/>\n    +    if(failedTuple != null) </p>\n{\n    +failedTuples.add(failedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +for (Tuple batchedTuple : batchHelper.getBatchTuples()) {<br/>\n    +    if(failedTuples.contains(batchedTuple)) </p>\n{\n    +collector.fail(batchedTuple);\n    +    }\n<p> else </p>\n{\n    +collector.ack(batchedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +    } else </p>\n{\n    +throw new RuntimeException(\"Some of the metric points failed with details: \" + errors);\n    +    }\n<p>    +} else </p>\n{\n    +    LOG.debug(\"Acknowledging batched tuples\");\n    +    batchHelper.ack();\n    +}\n<p>    +metricPointsWithTuple.clear();<br/>\n    +    }<br/>\n    +} catch (Exception e) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This contract is along the lines of `HBaseBolt`, `HiveBolt` etc which are using `BatchHelper`.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915595","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915595","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915595,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1OTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:09:05Z","updated_at":"2025-01-24T16:22:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66956898\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66956898</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    + *<br/>\n    + */<br/>\n    +public class OpenTsdbBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(OpenTsdbBolt.class);<br/>\n    +<br/>\n    +    private final OpenTsdbClient.Builder openTsdbClientBuilder;<br/>\n    +    private final List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers;<br/>\n    +    private int batchSize;<br/>\n    +    private int flushIntervalInSeconds;<br/>\n    +    private boolean failTupleForFailedMetrics;<br/>\n    +<br/>\n    +    private BatchHelper batchHelper;<br/>\n    +    private OpenTsdbClient openTsdbClient;<br/>\n    +    private Map<OpenTsdbMetricDatapoint, Tuple> metricPointsWithTuple = new HashMap<>();<br/>\n    +    private OutputCollector collector;<br/>\n    +<br/>\n    +    public OpenTsdbBolt(OpenTsdbClient.Builder openTsdbClientBuilder, List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers) </p>\n{\n    +this.openTsdbClientBuilder = openTsdbClientBuilder;\n    +this.tupleOpenTsdbDatapointMappers = tupleOpenTsdbDatapointMappers;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withFlushInterval(int flushIntervalInSeconds) </p>\n{\n    +this.flushIntervalInSeconds = flushIntervalInSeconds;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withBatchSize(int batchSize) </p>\n{\n    +this.batchSize = batchSize;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * When it is invoked, this bolt acks only the tuples which have successful metrics stored into OpenTSDB and fails<br/>\n    +     * the respective tuples of the failed metrics.<br/>\n    +     *<br/>\n    +     * @return same instance by setting </p>\n{@code failTupleForFailedMetrics}\n<p> to true<br/>\n    +     */<br/>\n    +    public OpenTsdbBolt failTupleForFailedMetrics() </p>\n{\n    +this.failTupleForFailedMetrics = true;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +batchHelper = new BatchHelper(batchSize, collector);\n    +openTsdbClient = openTsdbClientBuilder.build();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    if (batchHelper.shouldHandle(tuple)) {<br/>\n    +final List<OpenTsdbMetricDatapoint> metricDataPoints = getMetricPoints(tuple);<br/>\n    +for (OpenTsdbMetricDatapoint metricDataPoint : metricDataPoints) </p>\n{\n    +    metricPointsWithTuple.put(metricDataPoint, tuple);\n    +}\n<p>    +batchHelper.addBatch(tuple);<br/>\n    +    }<br/>\n    +<br/>\n    +    if (batchHelper.shouldFlush()) {<br/>\n    +LOG.debug(\"Sending metrics of size <span class=\"error\">&#91;{}&#93;</span>\", metricPointsWithTuple.size());<br/>\n    +<br/>\n    +ClientResponse.Details clientResponse = openTsdbClient.writeMetricPoints(metricPointsWithTuple.keySet());<br/>\n    +<br/>\n    +if(failTupleForFailedMetrics && clientResponse.getFailed() > 0) {<br/>\n    +    final List<ClientResponse.Details.Error> errors = clientResponse.getErrors();<br/>\n    +    LOG.error(\"Some of the metric points failed with errors: <span class=\"error\">&#91;{}&#93;</span>\", clientResponse);<br/>\n    +    if(errors != null && !errors.isEmpty()) {<br/>\n    +<br/>\n    +Set<Tuple> failedTuples = new HashSet<>();<br/>\n    +for (ClientResponse.Details.Error error : errors) {<br/>\n    +    final Tuple failedTuple = metricPointsWithTuple.get(error.getDatapoint());<br/>\n    +    if(failedTuple != null) </p>\n{\n    +failedTuples.add(failedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +for (Tuple batchedTuple : batchHelper.getBatchTuples()) {<br/>\n    +    if(failedTuples.contains(batchedTuple)) </p>\n{\n    +collector.fail(batchedTuple);\n    +    }\n<p> else </p>\n{\n    +collector.ack(batchedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +    } else </p>\n{\n    +throw new RuntimeException(\"Some of the metric points failed with details: \" + errors);\n    +    }\n<p>    +} else </p>\n{\n    +    LOG.debug(\"Acknowledging batched tuples\");\n    +    batchHelper.ack();\n    +}\n<p>    +metricPointsWithTuple.clear();<br/>\n    +    }<br/>\n    +} catch (Exception e) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I was thinking that if there is an exception in the part of code dealing with just one tuple e.g. getMetricPoints(tuple), should the whole batch be failed? The part of code inside `batchHelper.shouldFlush` operates on whole batch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915599","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915599","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915599,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU1OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:10:46Z","updated_at":"2025-01-24T16:22:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484#discussion_r66957240\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484#discussion_r66957240</a></p>\n\n<p>    &#8212; Diff: external/storm-opentsdb/src/main/java/org/apache/stom/opentsdb/bolt/OpenTsdbBolt.java &#8212;<br/>\n    @@ -0,0 +1,172 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.stom.opentsdb.bolt;<br/>\n    +<br/>\n    +import org.apache.stom.opentsdb.OpenTsdbMetricDatapoint;<br/>\n    +import org.apache.stom.opentsdb.client.ClientResponse;<br/>\n    +import org.apache.stom.opentsdb.client.OpenTsdbClient;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.utils.BatchHelper;<br/>\n    +import org.apache.storm.utils.TupleUtils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Set;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing timeseries datapoints to OpenTSDB.<br/>\n    + *<br/>\n    + * List of </p>\n{@link OpenTsdbMetricDatapoint}\n<p> is generated for each tuple with the configured </p>\n{@code tupleOpenTsdbDatapointMappers}\n<p>.<br/>\n    + * All these datapoints are batched till the given </p>\n{@code batchSize}\n<p> or </p>\n{@code flushIntervalInSeconds}\n<p> is reached.<br/>\n    + *<br/>\n    + * Example topology:<br/>\n    + *<br/>\n    + */<br/>\n    +public class OpenTsdbBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(OpenTsdbBolt.class);<br/>\n    +<br/>\n    +    private final OpenTsdbClient.Builder openTsdbClientBuilder;<br/>\n    +    private final List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers;<br/>\n    +    private int batchSize;<br/>\n    +    private int flushIntervalInSeconds;<br/>\n    +    private boolean failTupleForFailedMetrics;<br/>\n    +<br/>\n    +    private BatchHelper batchHelper;<br/>\n    +    private OpenTsdbClient openTsdbClient;<br/>\n    +    private Map<OpenTsdbMetricDatapoint, Tuple> metricPointsWithTuple = new HashMap<>();<br/>\n    +    private OutputCollector collector;<br/>\n    +<br/>\n    +    public OpenTsdbBolt(OpenTsdbClient.Builder openTsdbClientBuilder, List<TupleOpenTsdbDatapointMapper> tupleOpenTsdbDatapointMappers) </p>\n{\n    +this.openTsdbClientBuilder = openTsdbClientBuilder;\n    +this.tupleOpenTsdbDatapointMappers = tupleOpenTsdbDatapointMappers;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withFlushInterval(int flushIntervalInSeconds) </p>\n{\n    +this.flushIntervalInSeconds = flushIntervalInSeconds;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public OpenTsdbBolt withBatchSize(int batchSize) </p>\n{\n    +this.batchSize = batchSize;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * When it is invoked, this bolt acks only the tuples which have successful metrics stored into OpenTSDB and fails<br/>\n    +     * the respective tuples of the failed metrics.<br/>\n    +     *<br/>\n    +     * @return same instance by setting </p>\n{@code failTupleForFailedMetrics}\n<p> to true<br/>\n    +     */<br/>\n    +    public OpenTsdbBolt failTupleForFailedMetrics() </p>\n{\n    +this.failTupleForFailedMetrics = true;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +batchHelper = new BatchHelper(batchSize, collector);\n    +openTsdbClient = openTsdbClientBuilder.build();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    if (batchHelper.shouldHandle(tuple)) {<br/>\n    +final List<OpenTsdbMetricDatapoint> metricDataPoints = getMetricPoints(tuple);<br/>\n    +for (OpenTsdbMetricDatapoint metricDataPoint : metricDataPoints) </p>\n{\n    +    metricPointsWithTuple.put(metricDataPoint, tuple);\n    +}\n<p>    +batchHelper.addBatch(tuple);<br/>\n    +    }<br/>\n    +<br/>\n    +    if (batchHelper.shouldFlush()) {<br/>\n    +LOG.debug(\"Sending metrics of size <span class=\"error\">&#91;{}&#93;</span>\", metricPointsWithTuple.size());<br/>\n    +<br/>\n    +ClientResponse.Details clientResponse = openTsdbClient.writeMetricPoints(metricPointsWithTuple.keySet());<br/>\n    +<br/>\n    +if(failTupleForFailedMetrics && clientResponse.getFailed() > 0) {<br/>\n    +    final List<ClientResponse.Details.Error> errors = clientResponse.getErrors();<br/>\n    +    LOG.error(\"Some of the metric points failed with errors: <span class=\"error\">&#91;{}&#93;</span>\", clientResponse);<br/>\n    +    if(errors != null && !errors.isEmpty()) {<br/>\n    +<br/>\n    +Set<Tuple> failedTuples = new HashSet<>();<br/>\n    +for (ClientResponse.Details.Error error : errors) {<br/>\n    +    final Tuple failedTuple = metricPointsWithTuple.get(error.getDatapoint());<br/>\n    +    if(failedTuple != null) </p>\n{\n    +failedTuples.add(failedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +for (Tuple batchedTuple : batchHelper.getBatchTuples()) {<br/>\n    +    if(failedTuples.contains(batchedTuple)) </p>\n{\n    +collector.fail(batchedTuple);\n    +    }\n<p> else </p>\n{\n    +collector.ack(batchedTuple);\n    +    }\n<p>    +}<br/>\n    +<br/>\n    +    } else </p>\n{\n    +throw new RuntimeException(\"Some of the metric points failed with details: \" + errors);\n    +    }\n<p>    +} else </p>\n{\n    +    LOG.debug(\"Acknowledging batched tuples\");\n    +    batchHelper.ack();\n    +}\n<p>    +metricPointsWithTuple.clear();<br/>\n    +    }<br/>\n    +} catch (Exception e) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    should be fine then</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225862463","html_url":"https://github.com/apache/storm/pull/1480#issuecomment-225862463","issue_url":"https://api.github.com/repos/apache/storm/issues/1480","id":225862463,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTg2MjQ2Mw==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:13:09Z","updated_at":"2016-06-14T12:13:09Z","author_association":"CONTRIBUTOR","body":"guava dependency is relocated in storm-core.\nhttps://github.com/apache/storm/blob/2a435b0289d43494eb2f834e94ed61c175f9eea6/storm-core/pom.xml#L593\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225862463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913772","html_url":"https://github.com/apache/storm/issues/5663#issuecomment-2612913772","issue_url":"https://api.github.com/repos/apache/storm/issues/5663","id":2612913772,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTM3NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:13:10Z","updated_at":"2025-01-24T16:21:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1480\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1480</a></p>\n\n<p>    guava dependency is relocated in storm-core.<br/>\n    <a href=\"https://github.com/apache/storm/blob/2a435b0289d43494eb2f834e94ed61c175f9eea6/storm-core/pom.xml#L593\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/2a435b0289d43494eb2f834e94ed61c175f9eea6/storm-core/pom.xml#L593</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225869343","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-225869343","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":225869343,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTg2OTM0Mw==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:44:25Z","updated_at":"2016-06-14T12:44:25Z","author_association":"MEMBER","body":"Removed http client version upgrade as part of this change and it is isolated only to storm-opentsdb.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225869343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915601","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915601","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915601,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU2MDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T12:44:26Z","updated_at":"2025-01-24T16:22:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    Removed http client version upgrade as part of this change and it is isolated only to storm-opentsdb.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916509","html_url":"https://github.com/apache/storm/issues/5681#issuecomment-2612916509","issue_url":"https://api.github.com/repos/apache/storm/issues/5681","id":2612916509,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY1MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T13:31:31Z","updated_at":"2025-01-24T16:23:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user darionyaphet opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1485\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1485</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1899\" title=\"Release HBase connection when topology shutdown\" class=\"issue-link\" data-issue-key=\"STORM-1899\"><del>STORM-1899</del></a> Release HBase connection when topology shutdown</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1899\" title=\"Release HBase connection when topology shutdown\" class=\"issue-link\" data-issue-key=\"STORM-1899\"><del>STORM-1899</del></a>(<a href=\"https://issues.apache.org/jira/browse/STORM-1899\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1899</a>)</p>\n\n<p>    Release HBase connection when topology shutdown</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/darionyaphet/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/darionyaphet/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1899\" title=\"Release HBase connection when topology shutdown\" class=\"issue-link\" data-issue-key=\"STORM-1899\"><del>STORM-1899</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1485.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1485.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1485</p>\n\n<hr />\n<p>commit 5788d83350bb82e53547cfb5830fd55669a40ee0<br/>\nAuthor: darionyaphet <darion.yaphet@gmail.com><br/>\nDate:   2016-06-14T13:28:12Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1899\" title=\"Release HBase connection when topology shutdown\" class=\"issue-link\" data-issue-key=\"STORM-1899\"><del>STORM-1899</del></a> : release HBase connection when topology shutdown</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915121","html_url":"https://github.com/apache/storm/issues/5672#issuecomment-2612915121","issue_url":"https://api.github.com/repos/apache/storm/issues/5672","id":2612915121,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTUxMjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T13:38:40Z","updated_at":"2025-01-24T16:22:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user abellina opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1486\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1486</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1890\" title=\"Employ cache-busting method to ensure newly deployed UI forces browsers to refetch scripts, templates, and CSS\" class=\"issue-link\" data-issue-key=\"STORM-1890\"><del>STORM-1890</del></a>: ensure static UI resources are re-requested with differen…</p>\n\n<p>    …t Storm package builds</p>\n\n<p>    Note it doesn't perform cache busting for logviewer. That is creating its own HTML, where I think it can be refactored to use some static file in public/, that is a separate task.</p>\n\n<p>    Thanks! I'll backport to 1.x if this looks good.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/abellina/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/abellina/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1890\" title=\"Employ cache-busting method to ensure newly deployed UI forces browsers to refetch scripts, templates, and CSS\" class=\"issue-link\" data-issue-key=\"STORM-1890\"><del>STORM-1890</del></a>_ensure_we_refetch_static_resources_after_package_build</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1486.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1486.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1486</p>\n\n<hr />\n<p>commit 76a5e72e7cbdf9d9b32f5683d2bf5054ec0e2291<br/>\nAuthor: Alessandro Bellina <abellina@yahoo-inc.com><br/>\nDate:   2016-06-14T12:39:45Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1890\" title=\"Employ cache-busting method to ensure newly deployed UI forces browsers to refetch scripts, templates, and CSS\" class=\"issue-link\" data-issue-key=\"STORM-1890\"><del>STORM-1890</del></a>: ensure static UI resources are re-requested with different Storm package builds</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916514","html_url":"https://github.com/apache/storm/issues/5681#issuecomment-2612916514","issue_url":"https://api.github.com/repos/apache/storm/issues/5681","id":2612916514,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY1MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T13:45:56Z","updated_at":"2025-01-24T16:23:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1485#discussion_r66972323\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1485#discussion_r66972323</a></p>\n\n<p>    &#8212; Diff: external/storm-hbase/src/main/java/org/apache/storm/hbase/bolt/AbstractHBaseBolt.java &#8212;<br/>\n    @@ -73,4 +74,13 @@ public void prepare(Map map, TopologyContext topologyContext, OutputCollector co<br/>\n     hbaseConfMap.put(Config.TOPOLOGY_AUTO_CREDENTIALS, map.get(Config.TOPOLOGY_AUTO_CREDENTIALS));<br/>\n     this.hBaseClient = new HBaseClient(hbaseConfMap, hbConfig, tableName);<br/>\n }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void cleanup() {<br/>\n    +try </p>\n{\n    +    hBaseClient.close();\n    +}\n<p> catch (IOException e) {<br/>\n    +    LOG.error(\"HBase Client Close Failed\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    add the exception as well in log statement. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916517","html_url":"https://github.com/apache/storm/issues/5681#issuecomment-2612916517","issue_url":"https://api.github.com/repos/apache/storm/issues/5681","id":2612916517,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY1MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T13:46:20Z","updated_at":"2025-01-24T16:23:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1485#discussion_r66972401\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1485#discussion_r66972401</a></p>\n\n<p>    &#8212; Diff: external/storm-hbase/src/main/java/org/apache/storm/hbase/common/HBaseClient.java &#8212;<br/>\n    @@ -26,12 +26,13 @@<br/>\n     import org.slf4j.Logger;<br/>\n     import org.slf4j.LoggerFactory;</p>\n\n<p>    +import java.io.Closeable;<br/>\n     import java.io.IOException;<br/>\n     import java.security.PrivilegedExceptionAction;<br/>\n     import java.util.List;<br/>\n     import java.util.Map;</p>\n\n<p>    -public class HBaseClient {<br/>\n    +public class HBaseClient implements Closeable{<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    minor. space after Closeable. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225900001","html_url":"https://github.com/apache/storm/pull/1486#issuecomment-225900001","issue_url":"https://api.github.com/repos/apache/storm/issues/1486","id":225900001,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTkwMDAwMQ==","user":{"login":"abellina","id":1901059,"node_id":"MDQ6VXNlcjE5MDEwNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1901059?v=4","gravatar_id":"","url":"https://api.github.com/users/abellina","html_url":"https://github.com/abellina","followers_url":"https://api.github.com/users/abellina/followers","following_url":"https://api.github.com/users/abellina/following{/other_user}","gists_url":"https://api.github.com/users/abellina/gists{/gist_id}","starred_url":"https://api.github.com/users/abellina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abellina/subscriptions","organizations_url":"https://api.github.com/users/abellina/orgs","repos_url":"https://api.github.com/users/abellina/repos","events_url":"https://api.github.com/users/abellina/events{/privacy}","received_events_url":"https://api.github.com/users/abellina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T14:31:50Z","updated_at":"2016-06-14T14:31:50Z","author_association":"CONTRIBUTOR","body":"Build errors are unrelated to change.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225900001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915127","html_url":"https://github.com/apache/storm/issues/5672#issuecomment-2612915127","issue_url":"https://api.github.com/repos/apache/storm/issues/5672","id":2612915127,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTUxMjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T14:31:53Z","updated_at":"2025-01-24T16:22:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abellina commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1486\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1486</a></p>\n\n<p>    Build errors are unrelated to change.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225917857","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-225917857","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":225917857,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTkxNzg1Nw==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T15:24:38Z","updated_at":"2016-06-14T15:24:38Z","author_association":"CONTRIBUTOR","body":"+1 . Overall looks good to me. @satishd can you add this module here as well https://github.com/apache/storm/blob/master/storm-dist/binary/src/main/assembly/binary.xml#L171\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225917857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915606","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915606","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915606,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU2MDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T15:24:39Z","updated_at":"2025-01-24T16:22:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    +1 . Overall looks good to me. @satishd can you add this module here as well <a href=\"https://github.com/apache/storm/blob/master/storm-dist/binary/src/main/assembly/binary.xml#L171\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/storm-dist/binary/src/main/assembly/binary.xml#L171</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225924561","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-225924561","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":225924561,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTkyNDU2MQ==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T15:45:34Z","updated_at":"2016-06-14T15:45:34Z","author_association":"MEMBER","body":"@harshach Added it to binary.xml.\n\n@HeartSaVioR @abhishekagarwal87 Addressed review comments.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225924561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915609","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915609","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915609,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU2MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T15:45:37Z","updated_at":"2025-01-24T16:22:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    @harshach Added it to binary.xml.</p>\n\n<p>    @HeartSaVioR @abhishekagarwal87 Addressed review comments.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225933656","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-225933656","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":225933656,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTkzMzY1Ng==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T16:14:43Z","updated_at":"2016-06-14T16:14:43Z","author_association":"CONTRIBUTOR","body":"+1.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225933656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916523","html_url":"https://github.com/apache/storm/issues/5681#issuecomment-2612916523","issue_url":"https://api.github.com/repos/apache/storm/issues/5681","id":2612916523,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY1MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T16:22:52Z","updated_at":"2025-01-24T16:23:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user darionyaphet commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1485#discussion_r67004722\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1485#discussion_r67004722</a></p>\n\n<p>    &#8212; Diff: external/storm-hbase/src/main/java/org/apache/storm/hbase/bolt/AbstractHBaseBolt.java &#8212;<br/>\n    @@ -73,4 +74,13 @@ public void prepare(Map map, TopologyContext topologyContext, OutputCollector co<br/>\n     hbaseConfMap.put(Config.TOPOLOGY_AUTO_CREDENTIALS, map.get(Config.TOPOLOGY_AUTO_CREDENTIALS));<br/>\n     this.hBaseClient = new HBaseClient(hbaseConfMap, hbConfig, tableName);<br/>\n }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void cleanup() {<br/>\n    +try </p>\n{\n    +    hBaseClient.close();\n    +}\n<p> catch (IOException e) {<br/>\n    +    LOG.error(\"HBase Client Close Failed\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    update and rebased 👍 </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225950750","html_url":"https://github.com/apache/storm/pull/1276#issuecomment-225950750","issue_url":"https://api.github.com/repos/apache/storm/issues/1276","id":225950750,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTk1MDc1MA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T17:14:09Z","updated_at":"2016-06-14T17:14:09Z","author_association":"CONTRIBUTOR","body":"@knusbaum Mind merging if you're still +1 on this change? \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225950750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612890401","html_url":"https://github.com/apache/storm/issues/5499#issuecomment-2612890401","issue_url":"https://api.github.com/repos/apache/storm/issues/5499","id":2612890401,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTA0MDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T17:14:35Z","updated_at":"2025-01-24T16:10:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user srdo commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1276\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1276</a></p>\n\n<p>    @knusbaum Mind merging if you're still +1 on this change? </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612890401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/225974621","html_url":"https://github.com/apache/storm/pull/1486#issuecomment-225974621","issue_url":"https://api.github.com/repos/apache/storm/issues/1486","id":225974621,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTk3NDYyMQ==","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T18:33:54Z","updated_at":"2016-06-14T18:33:54Z","author_association":"CONTRIBUTOR","body":"LGTM. +1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/225974621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915132","html_url":"https://github.com/apache/storm/issues/5672#issuecomment-2612915132","issue_url":"https://api.github.com/repos/apache/storm/issues/5672","id":2612915132,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTUxMzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T18:33:56Z","updated_at":"2025-01-24T16:22:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1486\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1486</a></p>\n\n<p>    LGTM. +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/226011443","html_url":"https://github.com/apache/storm/pull/1487#issuecomment-226011443","issue_url":"https://api.github.com/repos/apache/storm/issues/1487","id":226011443,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjAxMTQ0Mw==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T20:48:27Z","updated_at":"2016-06-14T20:48:27Z","author_association":"CONTRIBUTOR","body":"Are you sure this is the case? It looks to me like the spout is committing the offset of the latest acked tuple that doesn't have uncommitted predecessors. It seems to make sense that it seeks to the last committed offset +1, since that's the earliest unacked message.\n\nThe API does suggest doing the +1 on commit instead, but I'd imagine that's just a matter of taste.\n\n\"The committed offset should be the next message your application will consume, i.e. lastProcessedMessageOffset + 1.\" (see https://kafka.apache.org/090/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html under commitSync(Map))\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/226011443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/226050890","html_url":"https://github.com/apache/storm/pull/1487#issuecomment-226050890","issue_url":"https://api.github.com/repos/apache/storm/issues/1487","id":226050890,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjA1MDg5MA==","user":{"login":"nabhanelrahman","id":18206402,"node_id":"MDQ6VXNlcjE4MjA2NDAy","avatar_url":"https://avatars.githubusercontent.com/u/18206402?v=4","gravatar_id":"","url":"https://api.github.com/users/nabhanelrahman","html_url":"https://github.com/nabhanelrahman","followers_url":"https://api.github.com/users/nabhanelrahman/followers","following_url":"https://api.github.com/users/nabhanelrahman/following{/other_user}","gists_url":"https://api.github.com/users/nabhanelrahman/gists{/gist_id}","starred_url":"https://api.github.com/users/nabhanelrahman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabhanelrahman/subscriptions","organizations_url":"https://api.github.com/users/nabhanelrahman/orgs","repos_url":"https://api.github.com/users/nabhanelrahman/repos","events_url":"https://api.github.com/users/nabhanelrahman/events{/privacy}","received_events_url":"https://api.github.com/users/nabhanelrahman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-14T23:53:07Z","updated_at":"2016-06-14T23:53:07Z","author_association":"NONE","body":"@srdo, \n\ni have this property set:\n\n props.put(KafkaSpoutConfig.Consumer.ENABLE_AUTO_COMMIT, \"true\");\n\nHere are my steps:\n\n1) create 10 partition topic\n2) deploy topology\n3) send 10 msgs\n4) confirmed 10 msgs where received\n5) kill topology\n6) send 100 msgs\n7) re-deploy topology\n8) confirmed that 90 msgs were received ( was expecting 100 msgs).  that means the first message in each partition was skipped when the initialized was called.  \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/226050890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/226060188","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-226060188","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":226060188,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjA2MDE4OA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T00:56:43Z","updated_at":"2016-06-15T00:56:43Z","author_association":"CONTRIBUTOR","body":"+1\nThanks @satishd for the great work!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/226060188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915615","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915615","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915615,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU2MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T00:56:45Z","updated_at":"2025-01-24T16:22:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    +1<br/>\n    Thanks @satishd for the great work!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/226088106","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-226088106","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":226088106,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjA4ODEwNg==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T04:58:28Z","updated_at":"2016-06-15T04:58:28Z","author_association":"CONTRIBUTOR","body":"@abhishekagarwal87 can you check if your comments are addressed.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/226088106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915619","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915619","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915619,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU2MTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T04:58:29Z","updated_at":"2025-01-24T16:22:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    @abhishekagarwal87 can you check if your comments are addressed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/226104998","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-226104998","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":226104998,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjEwNDk5OA==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T07:03:27Z","updated_at":"2016-06-15T07:03:27Z","author_association":"CONTRIBUTOR","body":"@satishd - can you add some comment on the private constructor in OpenTsdb regarding jackson serialization? Please squash the commits as well since it is ready for merge. \nRest looks good to me. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/226104998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915621","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915621","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915621,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU2MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T07:03:28Z","updated_at":"2025-01-24T16:22:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    @satishd - can you add some comment on the private constructor in OpenTsdb regarding jackson serialization? Please squash the commits as well since it is ready for merge. <br/>\n    Rest looks good to me. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/226105382","html_url":"https://github.com/apache/storm/pull/1485#issuecomment-226105382","issue_url":"https://api.github.com/repos/apache/storm/issues/1485","id":226105382,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjEwNTM4Mg==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T07:05:26Z","updated_at":"2016-06-15T07:05:26Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/226105382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916527","html_url":"https://github.com/apache/storm/issues/5681#issuecomment-2612916527","issue_url":"https://api.github.com/repos/apache/storm/issues/5681","id":2612916527,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY1Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T07:05:27Z","updated_at":"2025-01-24T16:23:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1485\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1485</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/226107867","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-226107867","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":226107867,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjEwNzg2Nw==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T07:19:59Z","updated_at":"2016-06-15T07:19:59Z","author_association":"MEMBER","body":"@abhishekagarwal87 Added suggested comment and squashed commits.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/226107867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915627","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915627","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915627,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU2Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T07:20:00Z","updated_at":"2025-01-24T16:22:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    @abhishekagarwal87 Added suggested comment and squashed commits.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/226108266","html_url":"https://github.com/apache/storm/pull/1484#issuecomment-226108266","issue_url":"https://api.github.com/repos/apache/storm/issues/1484","id":226108266,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjEwODI2Ng==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T07:22:00Z","updated_at":"2016-06-15T07:22:00Z","author_association":"CONTRIBUTOR","body":"+1. Thank you @satishd \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/226108266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915633","html_url":"https://github.com/apache/storm/issues/5675#issuecomment-2612915633","issue_url":"https://api.github.com/repos/apache/storm/issues/5675","id":2612915633,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTU2MzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T07:22:01Z","updated_at":"2025-01-24T16:22:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1484</a></p>\n\n<p>    +1. Thank you @satishd </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612915633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913403","html_url":"https://github.com/apache/storm/issues/5661#issuecomment-2612913403","issue_url":"https://api.github.com/repos/apache/storm/issues/5661","id":2612913403,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTM0MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-15T09:07:43Z","updated_at":"2025-01-24T16:21:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nico.meyer\">nico.meyer</a>:</i>\n<p>I am seeing the exact same issue. It is almost trivial to reproduce just by killing all Storm processes on one of my five workers, including the supervisor which is immediately restarted by runit.</p>\n\n<p>I will attach some additional supervisor logs which include DEBUG log messages for <tt>org.apache.storm.daemon.supervisor</tt> and <tt>org.apache.storm.util</tt>. Note that I have added an additional log message in order to confirm that indeed the <tt>pids</tt> for the worker are empty in the <tt>shutdown-worker</tt> function (<a href=\"https://github.com/apache/storm/blob/v1.0.1/storm-core/src/clj/org/apache/storm/daemon/supervisor.clj#L277\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/v1.0.1/storm-core/src/clj/org/apache/storm/daemon/supervisor.clj#L277</a>). The added line is this:</p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">(log-message <span class=\"code-quote\">\"Killing the following pids <span class=\"code-keyword\">for</span> \"</span> (:supervisor-id supervisor) <span class=\"code-quote\">\":\"</span> id <span class=\"code-quote\">\" : \"</span> (seq pids))</pre>\n</div></div>\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]