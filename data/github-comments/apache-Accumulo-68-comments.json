[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844378288","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-844378288","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":844378288,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDM3ODI4OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T18:52:05Z","updated_at":"2021-05-19T18:52:37Z","author_association":"CONTRIBUTOR","body":"@Manno15 I think I may have fixed the issue you were seeing in 3095d3d, if line 1055 was the !closed check.  That was an incorrect sanity check, looking at how the close() method works, closed could be true there and that would be ok.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844378288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844404840","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-844404840","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":844404840,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDQwNDg0MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T19:29:11Z","updated_at":"2021-05-19T19:29:11Z","author_association":"CONTRIBUTOR","body":"@Manno15 the feedback on logging was great.  I made some quick changes with the following goals.\r\n\r\n * At INFO when things are working normally there should only be  two INFO message per compaction. One message before and one after.\r\n * At DEBUG there are multiple messages per compaction giving more detailed information about compactions that are working as expected.\r\n * At TRACE there are only message that people would want to see when there is a suspected bug in the compactor code or performance problem.  These are messages that people would not want to see whenever the system is working as expected.\r\n\r\nI Am not sure if I achieved the INFO goal of two message per compaction because I didn't try running it.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844404840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844408991","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-844408991","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":844408991,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDQwODk5MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T19:35:10Z","updated_at":"2021-05-19T19:35:10Z","author_association":"CONTRIBUTOR","body":">  I noticed with the CompactionCoordinator and CompactionFinalizer both have filesize and entries parameters but they are in the opposite order as each other.\r\n\r\nConsistency is nice.  Looking the message you posted, thinking we should also minimize the INFO message per compaction in the coordinator like the Compactor.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844408991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844426693","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-844426693","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":844426693,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDQyNjY5Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T20:00:05Z","updated_at":"2021-05-19T20:00:05Z","author_association":"CONTRIBUTOR","body":"@Manno15 re the consistency of those fields, that data was coming from a thrift class and GSON generator json, so not sure they could reliably be ordered consistently.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844426693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844468753","html_url":"https://github.com/apache/accumulo/issues/2111#issuecomment-844468753","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2111","id":844468753,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDQ2ODc1Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T20:59:30Z","updated_at":"2021-05-19T20:59:30Z","author_association":"CONTRIBUTOR","body":"Could try to test the end-to-end functionality works in an IT.  The code that rebuilds the selected set of files has a lot of sanity checks.  Could refactor the code so that all of these sanity checks can be exercised in a unit test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844468753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844670745","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-844670745","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":844670745,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDY3MDc0NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T04:08:28Z","updated_at":"2021-05-20T04:08:28Z","author_association":"MEMBER","body":"> In AccumuloClient a method for creating conditional writers that takes no config could be added.\r\n\r\nWe could add an overloaded `createConditionalWriter(String tableName)` that just calls `createConditionalWriter(tableName, new ConditionalWriterConfig())`, but conditional writers seem used infrequently enough that it doesn't really warrant the overload, since this is already pretty easy to do.\r\n\r\n> Doing this would probably require also adding client properties for the conditional writer.\r\n\r\nIt wouldn't *require* it, but we could make it so `new ConditionalWriterConfig()` gets default values from client properties. How common is it to have an application need to create many different ConditionalWriters with the same ConditionalWriterConfig, though? And, it seems convenient enough to be able to reuse a ConditionalWriterConfig instance and pass it as the second arg in those cases. I'm not sure the advantage to growing client properties over simply reusing the object.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844670745/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844945493","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-844945493","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":844945493,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDk0NTQ5Mw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T10:08:26Z","updated_at":"2021-05-20T12:54:49Z","author_association":"CONTRIBUTOR","body":"> @Manno15 I think I may have fixed the issue you were seeing in 3095d3d, if line 1055 was the !closed check. That was an incorrect sanity check, looking at how the close() method works, closed could be true there and that would be ok.\r\n\r\nYeah, that is the line I saw for 1055. I was running the latest commit on this branch at that time.\r\n\r\n> @Manno15 the feedback on logging was great. I made some quick changes with the following goals.\r\n\r\nGreat, I like the logging changes you made. I will test them out today. \r\n\r\nEDIT: After testing, the logs look great. A lot less chatty on the INFO level. Though, I am not quite sure how to change the log levels for the compactor and coordinator log files. They don't seem to take after the logger settings. \r\n\r\n> @Manno15 re the consistency of those fields, that data was coming from a thrift class and GSON generator json, so not sure they could reliably be ordered consistently.\r\n\r\nAh, that makes sense. It's not a huge deal, just something I noticed while reading through it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/844945493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845161781","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-845161781","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":845161781,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTE2MTc4MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T14:14:45Z","updated_at":"2021-05-20T14:14:45Z","author_association":"CONTRIBUTOR","body":"> These changes help, thanks. I am still wondering why we need both constructors? If you make the jobSelectedAll an Optional type parameter wouldn't that suffice?\r\n\r\n@milleruntime  I made the constructor take an optional and added a comment about the parameter in 28c84b6","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845161781/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845166812","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-845166812","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":845166812,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTE2NjgxMg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T14:21:20Z","updated_at":"2021-05-20T14:21:20Z","author_association":"CONTRIBUTOR","body":"> Though, I am not quite sure how to change the log levels for the compactor and coordinator log files. \r\n\r\n@Manno15 you should be able to edit `<ACCUMULO DIR>/conf/log4j2-service.properties` and add something like the following.\r\n\r\n```\r\nlogger.compactor.name = org.apache.accumulo.compactor\r\nlogger.compactor.level = trace\r\n```\r\n\r\nThe above is from a file I had laying around for a bit so not completely sure its still correct.  Could add similar lines for the coordinator. Changes should be picked up while processes are running (which is really really nice).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845166812/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845185375","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845185375","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845185375,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTE4NTM3NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T14:44:35Z","updated_at":"2021-05-20T14:44:35Z","author_association":"CONTRIBUTOR","body":"> Are you suggesting having a method that accepts a table name as its sole parameter?\r\n\r\nYeah that is what I was thinking, like [createBatchWriter(String)](https://github.com/apache/accumulo/blob/af2d2d630094fc06e0ac1d6702a9a49d30ec1e94/core/src/main/java/org/apache/accumulo/core/client/AccumuloClient.java#L195), `createBatchScanner(String)`, `createScanner(String)`.  All of those method were added for 2.0. I had wanted to add one for the conditionalWriter before 2.0 to make it consistent, but I suppose it slipped through the cracks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845185375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845204827","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845204827","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845204827,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTIwNDgyNw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T15:07:49Z","updated_at":"2021-05-20T15:07:49Z","author_association":"MEMBER","body":"Making it consistent is a good idea. I'm still not sure about changing the defaults via client properties though. That may or may not be worth it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845204827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845205511","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845205511","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845205511,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTIwNTUxMQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T15:08:37Z","updated_at":"2021-05-20T15:09:21Z","author_association":"MEMBER","body":"It does seem like it could clean up ConditionalWriterIT a bit at least, seeing that `createConditionalWriter(tableName, new ConditionalWriterConfig()))` is used a good number of times.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845205511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845233108","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845233108","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845233108,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTIzMzEwOA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T15:42:54Z","updated_at":"2021-05-20T15:45:05Z","author_association":"CONTRIBUTOR","body":">  I'm still not sure about changing the defaults via client properties though.\r\n\r\nI was thinking the client prop behavior should be consistent w/ the other methods. Looking into it, the method w/o a config object is completely unrelated to client config override for createBatchWriter() methods.  For example the following will merge in client config for batch writer for either of the createBatchWriter methods.\r\n\r\nhttps://github.com/apache/accumulo/blob/af2d2d630094fc06e0ac1d6702a9a49d30ec1e94/core/src/main/java/org/apache/accumulo/core/clientImpl/ClientContext.java#L535\r\n\r\nI think when I wrote the ticket I was thinking they are related.  They are not related from an impl standpoint.  I think the only relation is more from a usability standpoint, in that the methods w/ no config obj exists to support only using client props.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845233108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845239830","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845239830","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845239830,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTIzOTgzMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T15:51:59Z","updated_at":"2021-05-20T15:51:59Z","author_association":"MEMBER","body":"> I think the only relation is more from a usability standpoint, in that the methods w/ no config obj exists to support only using client props.\r\n\r\nIn terms of usability, the way I've been thinking about it was: not specifying a config uses defaults; setting props in client properties allows you to tune those defaults; setting a config allows you to explicitly bypass those defaults.\r\n\r\nTuning defaults kind of makes sense for BatchWriter, and possibly even Scanner, because those are ubiquitous in user code. ConditionalWriter use cases are much more niche in nature, and (my assumption is that) it's less likely that a set of user-tuned defaults in the client properties will make sense to apply to a significant number of separate uses of the `createConditionalWriter()` method. Focusing only on consistency, it makes sense to add options to the client props to merge with the default config. But, thinking about how often users will actually find that setting these in client properties will be useful to them, I'm less convinced. I'm not necessarily objecting, though... just expressing my skepticism that it would be useful.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845239830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845262982","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845262982","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845262982,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTI2Mjk4Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T16:19:14Z","updated_at":"2021-05-20T16:19:14Z","author_association":"CONTRIBUTOR","body":"> setting a config allows you to explicitly bypass those defaults\r\n \r\nIt also bypasses any client props. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845262982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845270796","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845270796","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845270796,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTI3MDc5Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T16:30:30Z","updated_at":"2021-05-20T16:30:49Z","author_association":"CONTRIBUTOR","body":"> just expressing my skepticism that it would be useful.\r\n\r\nIn my opinion it would be useful.  Configuring via client props is so much better than configuring things in Java code when the situation supports it.  Maybe I can get to it for 2.1 if there is no interest.  May also be nice to look for any other thing that can be configured via java API in client and not by client props, not that everything needs a client prop but it would be nice to know what else is missing.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845270796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845275580","html_url":"https://github.com/apache/accumulo/issues/2001#issuecomment-845275580","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2001","id":845275580,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTI3NTU4MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T16:37:16Z","updated_at":"2021-05-20T16:37:16Z","author_association":"CONTRIBUTOR","body":"> I want to create an RFile for bulk import, there won't be a table associated with it yet so there is no way to know that when writing the file.\r\n\r\nI had an idea for this table awareness problem. We could have a guard on any table that is configured for encryption to fail a bulk import if any file in the directory is unencrypted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845275580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845277183","html_url":"https://github.com/apache/accumulo/issues/2111#issuecomment-845277183","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2111","id":845277183,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTI3NzE4Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T16:39:30Z","updated_at":"2021-05-20T16:39:30Z","author_association":"CONTRIBUTOR","body":"I assigned this to myself as a reminder TODO next but anyone feel free to tackle in the meantime as I am not actively working this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845277183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845284174","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845284174","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845284174,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTI4NDE3NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T16:49:57Z","updated_at":"2021-05-20T16:49:57Z","author_association":"CONTRIBUTOR","body":" I opened #2115 after poking around in the existing code as a result of looking into this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845284174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845319952","html_url":"https://github.com/apache/accumulo/issues/2001#issuecomment-845319952","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2001","id":845319952,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTMxOTk1Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T17:35:35Z","updated_at":"2021-05-20T17:35:35Z","author_association":"CONTRIBUTOR","body":"> I had an idea for this table awareness problem. We could have a guard on any table that is configured for encryption to fail a bulk import if any file in the directory is unencrypted.\r\n\r\nThat made me wonder if it would be possible to write a [CompactionSelector](https://github.com/apache/accumulo/blob/af2d2d630094fc06e0ac1d6702a9a49d30ec1e94/core/src/main/java/org/apache/accumulo/core/client/admin/compaction/CompactionSelector.java#L42) that selects unencrypted files for compaction.  This could be used in two ways.  First it could be configured on a user initiated compaction as a one time operation to encrypt all unencrypted files.  Second it could be configured on a table to continually select unencrypted files for compaction.  The second case may be an alternative to what you suggested for bulk imports, but its a more error prone because a user has to configure the selector on the table.  The first case would be useful for the case where someone wants to encrypt an existing table that is partially encrypted already.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845319952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845332058","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845332058","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845332058,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTMzMjA1OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T17:47:20Z","updated_at":"2021-05-20T17:47:20Z","author_association":"MEMBER","body":"> Configuring via client props is so much better than configuring things in Java code when the situation supports it.\r\n\r\nYou're right. I was actually thinking of the case where client properties is long-lived, and was skeptical that client properties for this would be appropriate for the lifetime of a long-lived client, or reusable for many short-lived clients using the same, unmodified, properties file.\r\n\r\nHowever, your phasing here highlights another use case I had overlooked: short-lived client props for the purposes of executing a specific client. Using client props avoids a lot of boilerplate Java code for this case.\r\n\r\nIn short, my skepticism has dissipated. This is definitely a good idea.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845332058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845338994","html_url":"https://github.com/apache/accumulo/issues/2001#issuecomment-845338994","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2001","id":845338994,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTMzODk5NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T17:51:22Z","updated_at":"2021-05-20T17:51:22Z","author_association":"MEMBER","body":"> That made me wonder if it would be possible to write a [CompactionSelector](https://github.com/apache/accumulo/blob/af2d2d630094fc06e0ac1d6702a9a49d30ec1e94/core/src/main/java/org/apache/accumulo/core/client/admin/compaction/CompactionSelector.java#L42) that selects unencrypted files for compaction.\r\n\r\nThat would be cool, but right now, there isn't a way to determine how files were encrypted without reading a bit of the file metadata.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845338994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845347493","html_url":"https://github.com/apache/accumulo/issues/2001#issuecomment-845347493","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2001","id":845347493,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTM0NzQ5Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T18:04:20Z","updated_at":"2021-05-20T18:04:57Z","author_association":"CONTRIBUTOR","body":"Would it be useful to add an encrypted flag to the metadata table in `DataFileColumnFamily`? Or perhaps an even bigger change would be to store the file differently and have something built into `TabletFile`. Every tablet file directory now starts with \"t-0003\".  What if we stored encrypted files in directories starting with \"e-0003\"?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845347493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845348852","html_url":"https://github.com/apache/accumulo/issues/2001#issuecomment-845348852","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2001","id":845348852,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTM0ODg1Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T18:06:24Z","updated_at":"2021-05-20T18:06:24Z","author_association":"CONTRIBUTOR","body":"> That would be cool, but right now, there isn't a way to determine how files were encrypted without reading a bit of the file metadata.\r\n\r\nI was wondering about that.  Looking at the code each compaction service has single thread that does selection and planning, however I think the code would easily support multiple threads.  This thread pool size is currently not configurable, but it could be. User compactions would examine each file once, if this were done in a thread pool with lots of threads that may be ok.  For the case of a per table selector, would probably want the class to have a cache of info about previously examined files to avoid examining them over and over.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845348852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845352787","html_url":"https://github.com/apache/accumulo/issues/2001#issuecomment-845352787","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2001","id":845352787,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTM1Mjc4Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T18:12:08Z","updated_at":"2021-05-20T18:12:08Z","author_association":"CONTRIBUTOR","body":"> Every tablet file directory now starts with \"t-0003\". What if we stored encrypted files in directories starting with \"e-0003\"\r\n\r\nFor the case of selecting files for compaction in order to encrypt, thinking it may be best to open the files and examine them IF that examination can determine wether the files encryption config differs from the tables encryption config.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845352787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845368828","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845368828","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845368828,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTM2ODgyOA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T18:36:54Z","updated_at":"2021-05-20T18:36:54Z","author_association":"MEMBER","body":"I'm not sure I understand what is being proposed in terms of using client properties. Is it being suggested that properties be added to the client in order to create a `ConditionalWriterConfig`?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845368828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845371405","html_url":"https://github.com/apache/accumulo/issues/1091#issuecomment-845371405","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1091","id":845371405,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTM3MTQwNQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T18:41:21Z","updated_at":"2021-05-20T18:41:21Z","author_association":"MEMBER","body":"Are you suggesting that currentRow is updated after the new mutation is created here:\r\nhttps://github.com/apache/accumulo/blob/1dc72fce2c781dee597c8c11876a3bc6c321c199/server/manager/src/main/java/org/apache/accumulo/manager/tableOps/tableImport/PopulateMetadataTable.java#L169\r\nSimilar to how it is updated in the if block above it?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845371405/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845382026","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-845382026","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":845382026,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTM4MjAyNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T18:47:47Z","updated_at":"2021-05-20T18:47:47Z","author_association":"MEMBER","body":"@DomGarguilo There are two tasks being proposed.\r\n\r\n1. (trivial) Create an overloaded `createConditionalMutation(String tableName)` method that internally uses a `new ConditionalWriterConfig()` so the config is optional to pass, and\r\n2. (more involved) Allow client properties to be set in the client properties file that will be used (if set) instead of the built-in defaults when BatchWriterConfig has a configurable field set to null (see ClientContext.java and BatchWriterConfig.java for analogous behavior for the BatchWriter; pay special attention to the `merge` method to see how the client properties are merged with the BatchWriterConfig objects).\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845382026/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845856835","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-845856835","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":845856835,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTg1NjgzNQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T10:36:46Z","updated_at":"2021-05-21T10:36:46Z","author_association":"CONTRIBUTOR","body":"@keith-turner @dlmarion is there any particular aspect or feature that you think needs to be tested specifically? I've done multiple runs with the normal testing procedures (multiple tservers, agitation, etc) and haven't run into any issues so far. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845856835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845899886","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-845899886","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":845899886,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTg5OTg4Ng==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T11:58:43Z","updated_at":"2021-05-21T11:59:20Z","author_association":"CONTRIBUTOR","body":"I also noticed that this log message below will repeat indefinitely in the right scenario (one Tserver cluster that has the Tserver crash or killed). In that scenario, it will repeat this log message until one TServer is brought back up. From what I see in `TServerUtils`, this may only feasibly occur on a one TServer cluster as the logic to obtain the larger pool size will never be larger than the active pool count. \r\n2021-05-21T07:44:01,916 [rpc.TServerUtils] INFO : Increasing server thread pool size on CompactionCoordinator to 1\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845899886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845953968","html_url":"https://github.com/apache/accumulo/pull/2113#issuecomment-845953968","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2113","id":845953968,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTk1Mzk2OA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T13:34:06Z","updated_at":"2021-05-21T13:45:52Z","author_association":"CONTRIBUTOR","body":"Not sure what is going on with Github actions. Successfully ran the checks locally:\r\n\r\n- mvn clean verify -DskipTests -Dspotbugs.skip\r\n- mvn clean verify -PskipQA -DskipTests=false\r\n- mvn clean verify javadoc:jar -Psec-bugs -DskipTests","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845953968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845986252","html_url":"https://github.com/apache/accumulo/pull/2113#issuecomment-845986252","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2113","id":845986252,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTk4NjI1Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T14:24:00Z","updated_at":"2021-05-21T14:24:00Z","author_association":"CONTRIBUTOR","body":"I updated the Test by adding an expect throws for the old WAL, creating a new test for the latest WAL and refactoring the tests to use try-with-resources. It cleaned up the test a lot and I think it is good to go now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/845986252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/846016085","html_url":"https://github.com/apache/accumulo/issues/1091#issuecomment-846016085","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1091","id":846016085,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjAxNjA4NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T15:02:53Z","updated_at":"2021-05-21T15:02:53Z","author_association":"CONTRIBUTOR","body":"> Are you suggesting that currentRow is updated after the new mutation is created here:\r\n\r\n@DomGarguilo yeah I think that is what I was thinking.  \r\n\r\nFor the comment about `if(m != null)` not exactly sure what I was thinking because I only see `if(m == null)`.   Maybe I was thinking the `if(m==null){...}` and `if(!currentRow.equals(metadataRow)){...}` could be combined but only calling `mbw.addMutation(m);` when `m!=null`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/846016085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/846030277","html_url":"https://github.com/apache/accumulo/issues/1091#issuecomment-846030277","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1091","id":846030277,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjAzMDI3Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T15:22:10Z","updated_at":"2021-05-21T15:22:10Z","author_association":"CONTRIBUTOR","body":"> It also looks like BatchWriter mbw could be created within a try-with-resources block seeing how it is autoclosable.\r\n\r\n@DomGarguilo  that would be good.  Wonder if it would be possible to put the and ZipInputStream in the try w/ resources also.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/846030277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/846920178","html_url":"https://github.com/apache/accumulo/issues/2085#issuecomment-846920178","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2085","id":846920178,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjkyMDE3OA==","user":{"login":"Viv1986","id":25159403,"node_id":"MDQ6VXNlcjI1MTU5NDAz","avatar_url":"https://avatars.githubusercontent.com/u/25159403?v=4","gravatar_id":"","url":"https://api.github.com/users/Viv1986","html_url":"https://github.com/Viv1986","followers_url":"https://api.github.com/users/Viv1986/followers","following_url":"https://api.github.com/users/Viv1986/following{/other_user}","gists_url":"https://api.github.com/users/Viv1986/gists{/gist_id}","starred_url":"https://api.github.com/users/Viv1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Viv1986/subscriptions","organizations_url":"https://api.github.com/users/Viv1986/orgs","repos_url":"https://api.github.com/users/Viv1986/repos","events_url":"https://api.github.com/users/Viv1986/events{/privacy}","received_events_url":"https://api.github.com/users/Viv1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T09:41:10Z","updated_at":"2021-05-24T09:41:10Z","author_association":"NONE","body":"can anybody tell me what related to speed of table reassign? cuz in same configuration I get ~14 tables per minute on current, and ~1500 per minute on another","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/846920178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847047456","html_url":"https://github.com/apache/accumulo/issues/2085#issuecomment-847047456","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2085","id":847047456,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzA0NzQ1Ng==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T13:36:03Z","updated_at":"2021-05-24T13:36:03Z","author_association":"CONTRIBUTOR","body":"Please ask this on the user mailing list.  You will be more likely to get a response if you include additional information.  There are a lot of factors that trigger reassignment and without any information on why the reassignment is occurring and what the system it is very difficult to just guess.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847047456/reactions","total_count":1,"+1":0,"-1":1,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847047942","html_url":"https://github.com/apache/accumulo/issues/2085#issuecomment-847047942","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2085","id":847047942,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzA0Nzk0Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T13:36:51Z","updated_at":"2021-05-24T13:36:51Z","author_association":"CONTRIBUTOR","body":"There are a number of factors that could affect Tablet migration (tablet size, number of tablets, number of tservers, recovery, configuration). Are you using the default configured Load Balancer (see `table.balancer` property) DefaultLoadBalancer? If so, it will attempt to keep an even number of tablets across all tservers. When a tablet gets migrated from one tserver to another, it will get unloaded and then loaded on the new tserver. So if the tablet has a Write Ahead Log (WAL) associated with it, it will do recovery on the WAL. If you are having issues with WALs (based on the previous comments) then this would hold up loading of the tablets with the problematic WALs.\r\n\r\nIf you have resolved the WAL problems, then you might want to look into using a different load balancer. See this blog post about the GroupBalancer: https://accumulo.apache.org/blog/2015/03/20/balancing-groups-of-tablets.html","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847047942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847080143","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-847080143","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":847080143,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzA4MDE0Mw==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T14:27:12Z","updated_at":"2021-05-24T14:27:12Z","author_association":"MEMBER","body":"I would like to be assigned to this issue please.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847080143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847092687","html_url":"https://github.com/apache/accumulo/issues/680#issuecomment-847092687","issue_url":"https://api.github.com/repos/apache/accumulo/issues/680","id":847092687,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzA5MjY4Nw==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T14:47:29Z","updated_at":"2021-05-24T14:47:29Z","author_association":"MEMBER","body":"I created #2116 in response to this ticket. @keith-turner @ctubbsii ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847092687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847277553","html_url":"https://github.com/apache/accumulo/pull/2116#issuecomment-847277553","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2116","id":847277553,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzI3NzU1Mw==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T19:22:48Z","updated_at":"2021-05-24T19:22:48Z","author_association":"MEMBER","body":"@keith-turner, I did my best to include your suggestions in the most recent commit, 9050c89","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847277553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847279406","html_url":"https://github.com/apache/accumulo/issues/1091#issuecomment-847279406","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1091","id":847279406,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzI3OTQwNg==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T19:26:25Z","updated_at":"2021-05-24T19:26:25Z","author_association":"MEMBER","body":"> Wonder if it would be possible to put the and ZipInputStream in the try w/ resources also.\r\n\r\nYea, it looks like they both implement closable/autoclosable so they both will work.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847279406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847307363","html_url":"https://github.com/apache/accumulo/issues/1091#issuecomment-847307363","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1091","id":847307363,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzMwNzM2Mw==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T20:16:58Z","updated_at":"2021-05-24T20:16:58Z","author_association":"MEMBER","body":"@keith-turner, I see you are currently assigned to this ticket. Are you working on this/plan to work on this? If not, I would like to be assigned please.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847307363/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847898788","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-847898788","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":847898788,"node_id":"MDEyOklzc3VlQ29tbWVudDg0Nzg5ODc4OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T14:04:29Z","updated_at":"2021-05-25T14:04:29Z","author_association":"CONTRIBUTOR","body":"> Everything works as expected from my testing. Ran numerous tests with varying parameters (with and without agitation, multi-node cluster, and varying amounts of ingested data).\r\n\r\nNice, did you verify the data after testing?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847898788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847914876","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-847914876","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":847914876,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzkxNDg3Ng==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T14:24:48Z","updated_at":"2021-05-25T14:24:48Z","author_association":"CONTRIBUTOR","body":"> Nice, did you verify the data after testing?\r\n\r\nI have after each test run. No issue with data loss. However, I just re-ran verify and received an interesting error. The job itself completed successfully but then ended up with a compactor error. Server logs below.\r\n\r\n<details>\r\n\r\n```\r\n2021-05-25T10:13:22,937 [compactor.Compactor] ERROR: Unhandled error occurred in Compactor\r\n\r\njava.lang.RuntimeException: org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /accumulo/3737bcb7-377b-4ad9-be42-efede2692e16/coordinators/lock\r\n\tat org.apache.accumulo.core.util.compaction.ExternalCompactionUtil.findCompactionCoordinator(ExternalCompactionUtil.java:86)\r\n\tat org.apache.accumulo.compactor.Compactor.getCoordinatorClient(Compactor.java:501)\r\n\tat org.apache.accumulo.compactor.Compactor$5.execute(Compactor.java:473)\r\n\tat org.apache.accumulo.compactor.Compactor$5.execute(Compactor.java:470)\r\n\tat org.apache.accumulo.server.compaction.RetryableThriftCall.run(RetryableThriftCall.java:107)\r\n\tat org.apache.accumulo.compactor.Compactor.getNextJob(Compactor.java:490)\r\n\tat org.apache.accumulo.compactor.Compactor.run(Compactor.java:663)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /accumulo/3737bcb7-377b-4ad9-be42-efede2692e16/coordinators/lock\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:102)\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:54)\r\n\tat org.apache.zookeeper.ZooKeeper.getChildren(ZooKeeper.java:2746)\r\n\tat org.apache.accumulo.fate.zookeeper.ServiceLock.getLockData(ServiceLock.java:653)\r\n\tat org.apache.accumulo.core.util.compaction.ExternalCompactionUtil.findCompactionCoordinator(ExternalCompactionUtil.java:79)\r\n\t... 7 more\r\n```\r\n\r\n```\r\nERROR: Unable to call shutdownNow\r\njava.lang.NoSuchFieldException: executorService_\r\n        at java.lang.Class.getDeclaredField(Class.java:2411) ~[?:?]\r\n        at org.apache.accumulo.server.rpc.TServerUtils.stopTServer(TServerUtils.java:717) ~[accumulo-server-base-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.compactor.Compactor.run(Compactor.java:793) ~[accumulo-compactor-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at java.lang.Thread.run(Thread.java:829) [?:?]\r\n2021-05-25T10:13:22,939 [compactor.Compactor] INFO : stop requested. exiting ...\r\n2021-05-25T10:13:30,118 [compactor.Compactor] ERROR: Compactor lost lock (reason = LOCK_DELETED), exiting.\r\n```\r\n</details>\r\n\r\nEverything seems to be up in the monitor so I am not quite sure what happened there.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/847914876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848184710","html_url":"https://github.com/apache/accumulo/pull/2117#issuecomment-848184710","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2117","id":848184710,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODE4NDcxMA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T19:02:46Z","updated_at":"2021-05-25T19:02:46Z","author_association":"CONTRIBUTOR","body":"Ran full ITs and saw timeout failures in: CreateInitialSplitsIT, SuspendedTabletsIT","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848184710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848473684","html_url":"https://github.com/apache/accumulo/pull/2119#issuecomment-848473684","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2119","id":848473684,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODQ3MzY4NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T05:38:52Z","updated_at":"2021-05-26T05:38:52Z","author_association":"CONTRIBUTOR","body":"Found this while testing #2096.  I think this may be a problem in 2.0","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848473684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848734309","html_url":"https://github.com/apache/accumulo/pull/2119#issuecomment-848734309","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2119","id":848734309,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODczNDMwOQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T12:38:32Z","updated_at":"2021-05-26T12:38:32Z","author_association":"CONTRIBUTOR","body":"I'm going to merge this so that I can update the external compaction branch from `main`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848734309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848812977","html_url":"https://github.com/apache/accumulo/pull/2117#issuecomment-848812977","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2117","id":848812977,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODgxMjk3Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T14:23:27Z","updated_at":"2021-05-26T14:23:27Z","author_association":"CONTRIBUTOR","body":"> Ran full ITs and saw timeout failures in: CreateInitialSplitsIT, SuspendedTabletsIT\r\n\r\nBoth ITs passed when run locally.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848812977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848822121","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-848822121","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":848822121,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODgyMjEyMQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T14:34:54Z","updated_at":"2021-05-26T14:34:54Z","author_association":"CONTRIBUTOR","body":"There are two approvals on this. I'm planning on merging this early next week.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848822121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848895402","html_url":"https://github.com/apache/accumulo/pull/2117#issuecomment-848895402","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2117","id":848895402,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODg5NTQwMg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T15:57:20Z","updated_at":"2021-05-26T15:57:20Z","author_association":"CONTRIBUTOR","body":"I found a bug with the writeBuffer method while testing in Uno.\r\n<pre>\r\n2021-05-26T11:00:44,630 [tserver.AssignmentHandler] WARN : exception trying to assign tablet +r<< null\r\njava.lang.RuntimeException: Error recovering tablet +r<< from log files\r\n        at org.apache.accumulo.tserver.tablet.Tablet.<init>(Tablet.java:398) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.AssignmentHandler.run(AssignmentHandler.java:160) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at java.lang.Thread.run(Thread.java:829) [?:?]\r\nCaused by: java.io.IOException: java.lang.IllegalStateException: First log entry value is not OPEN\r\n        at org.apache.accumulo.tserver.log.TabletServerLogger.recover(TabletServerLogger.java:539) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.TabletServer.recover(TabletServer.java:1148) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.Tablet.<init>(Tablet.java:357) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        ... 2 more\r\nCaused by: java.lang.IllegalStateException: First log entry value is not OPEN\r\n        at org.apache.accumulo.tserver.log.RecoveryLogsIterator.validateFirstKey(RecoveryLogsIterator.java:151) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.RecoveryLogsIterator.getFiles(RecoveryLogsIterator.java:133) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.RecoveryLogsIterator.<init>(RecoveryLogsIterator.java:71) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.SortedLogRecovery.findMaxTabletId(SortedLogRecovery.java:113) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.SortedLogRecovery.findLogsThatDefineTablet(SortedLogRecovery.java:153) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.SortedLogRecovery.recover(SortedLogRecovery.java:299) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.TabletServerLogger.recover(TabletServerLogger.java:537) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.TabletServer.recover(TabletServer.java:1148) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.Tablet.<init>(Tablet.java:357) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        ... 2 more\r\n</pre>\r\n\r\nThis is because the entries get flushed in the LogSorter based on `tserver.sort.buffer.size` but the validation is still being run for each sorted part. I will have to find a better place to call `validateFirstKey`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848895402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848928809","html_url":"https://github.com/apache/accumulo/issues/2120#issuecomment-848928809","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2120","id":848928809,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODkyODgwOQ==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T16:36:56Z","updated_at":"2021-05-26T16:36:56Z","author_association":"CONTRIBUTOR","body":"I am interested in working on this issue if no one else is. Seems like it would be a good first issue to work on.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/848928809/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849076263","html_url":"https://github.com/apache/accumulo/pull/2117#issuecomment-849076263","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2117","id":849076263,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTA3NjI2Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T19:56:56Z","updated_at":"2021-05-26T19:56:56Z","author_association":"CONTRIBUTOR","body":"Need to rework my rework in 007d581","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849076263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849787045","html_url":"https://github.com/apache/accumulo/issues/2121#issuecomment-849787045","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2121","id":849787045,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTc4NzA0NQ==","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T16:51:18Z","updated_at":"2021-05-27T16:51:18Z","author_association":"MEMBER","body":"@milleruntime Do you get this error every time you run the test? Anything special about your environment or how you are running the test? I have not been able to reproduce locally on my machine.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849787045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849792334","html_url":"https://github.com/apache/accumulo/issues/2121#issuecomment-849792334","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2121","id":849792334,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTc5MjMzNA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T16:59:39Z","updated_at":"2021-05-27T16:59:39Z","author_association":"CONTRIBUTOR","body":"> @milleruntime Do you get this error every time you run the test? Anything special about your environment or how you are running the test? I have not been able to reproduce locally on my machine.\r\n\r\nYes it seems to WARN with the exception every time, whether the test passes or not. I don't know of anything special in my environment. It happens whether I run the test in Intellij individually or on the command line with all the ITs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849792334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849832571","html_url":"https://github.com/apache/accumulo/issues/2121#issuecomment-849832571","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2121","id":849832571,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTgzMjU3MQ==","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T18:05:25Z","updated_at":"2021-05-27T18:05:25Z","author_association":"MEMBER","body":"Oops, I was just not looking at the right logs. I see the error now. This wasn't caused by moving balancers to the SPI but rather by PR #1888 instead. The test is setting the property TABLE_LOAD_BALANCER to HostRegexTableLoadBalancer, which is wrong since HostRegexTableLoadBalancer is a TableLoadBalancer and is intended to be used only with the property MANAGER_TABLET_BALANCER. This didn't change--the class HostRegexTableLoadBalancer never had a constructor with a single TableId parameter. I'll have a PR in a bit to fix. Given that, I'm going to remove the blocker label from this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849832571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849849115","html_url":"https://github.com/apache/accumulo/issues/2121#issuecomment-849849115","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2121","id":849849115,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTg0OTExNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T18:30:10Z","updated_at":"2021-05-27T18:30:10Z","author_association":"CONTRIBUTOR","body":"> Oops, I was just not looking at the right logs. I see the error now. This wasn't caused by moving balancers to the SPI but rather by PR #1888 instead. The test is setting the property TABLE_LOAD_BALANCER to HostRegexTableLoadBalancer, which is wrong since HostRegexTableLoadBalancer is a TableLoadBalancer and is intended to be used only with the property MANAGER_TABLET_BALANCER. This didn't change--the class HostRegexTableLoadBalancer never had a constructor with a single TableId parameter. I'll have a PR in a bit to fix. Given that, I'm going to remove the blocker label from this issue.\r\n\r\nAh ok thanks for looking into this!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849849115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849952173","html_url":"https://github.com/apache/accumulo/pull/2096#issuecomment-849952173","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2096","id":849952173,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTk1MjE3Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T21:24:17Z","updated_at":"2021-05-27T21:48:22Z","author_association":"CONTRIBUTOR","body":"On a test table in Uno (so a single tserver) w/ 2B entries and 128 tablets I was able to run 40 concurrent external compactions in AKS Kubernetes today (had lots of help from @dlmarion  w/ Kubernetes).  I am continuing to poke at this PR, but I think its looking pretty good.  I hope to run test on cluster+Kubernetes soon instead of Uno(single VM)+Kubernetes.\r\n\r\n```\r\nroot@uno> listcompactions\r\n SERVER               | AGE       | TYPE  | REASON | READ  | WROTE | TABLE           | TABLET                                   | INPUT | OUTPUT                              | ITERATORS | ITERATOR OPTIONS\r\n172.20.128.185:9101 (ext) |   26s80ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;9401a;92012                            |     1 |        /2/t-0000cj0/A0002ay3.rf_tmp |        [] | {}\r\n172.20.128.188:9101 (ext) |  23s856ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;ba01;b801                              |     1 |        /2/t-00017pv/A0002ayb.rf_tmp |        [] | {}\r\n172.20.128.41:9101 (ext) |  34s598ms |  FULL |   USER | 3.64M | 3.64M |       testTable | 2;0801b;0602                             |     1 |        /2/t-00004hf/A0002axd.rf_tmp |        [] | {}\r\n172.20.128.53:9101 (ext) |  35s340ms |  FULL |   USER | 3.88M | 3.88M |       testTable | 2;02014<                                 |     1 |        /2/t-00017dz/A0002axb.rf_tmp |        [] | {}\r\n172.20.129.116:9101 (ext) |  23s812ms |  FULL |   USER | 2.40M | 2.40M |       testTable | 2;b801;b601                              |     1 |        /2/t-00004ij/A0002ayc.rf_tmp |        [] | {}\r\n172.20.129.13:9101 (ext) |   22s80ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;b400b;b200b                            |     1 |        /2/t-0000cjc/A0002aye.rf_tmp |        [] | {}\r\n172.20.129.184:9101 (ext) |  25s695ms |  FULL |   USER | 2.79M | 2.79M |       testTable | 2;9801c;9602                             |     1 |        /2/t-00004gy/A0002ay7.rf_tmp |        [] | {}\r\n172.20.129.195:9101 (ext) |  34s670ms |  FULL |   USER | 3.30M | 3.30M |       testTable | 2;0401a;02014                            |     1 |        /2/t-0000cl4/A0002axc.rf_tmp |        [] | {}\r\n172.20.129.80:9101 (ext) |  28s262ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;8c015;8a01e                            |     1 |        /2/t-0000cq8/A0002axv.rf_tmp |        [] | {}\r\n172.20.130.1:9101 (ext) |  24s517ms |  FULL |   USER | 2.51M | 2.51M |       testTable | 2;be00c;bc00e                            |     1 |        /2/t-00017xu/A0002ay9.rf_tmp |        [] | {}\r\n172.20.130.104:9101 (ext) |  23s609ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;b601;b400b                             |     1 |        /2/t-00017s0/A0002ayd.rf_tmp |        [] | {}\r\n172.20.130.113:9101 (ext) |  30s713ms |  FULL |   USER | 3.88M | 3.88M |       testTable | 2;4201;4                                 |     1 |        /2/t-00017kz/A0002axn.rf_tmp |        [] | {}\r\n172.20.130.201:9101 (ext) |  26s766ms |  FULL |   USER | 2.91M | 2.91M |       testTable | 2;9;8e00d                                |     1 |        /2/t-000000d/A0002ay0.rf_tmp |        [] | {}\r\n172.20.130.249:9101 (ext) |  28s350ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;46017;44014                            |     1 |        /2/t-00017xf/A0002axu.rf_tmp |        [] | {}\r\n172.20.131.143:9101 (ext) |  24s460ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;bc00e;ba01                             |     1 |        /2/t-0000cnb/A0002aya.rf_tmp |        [] | {}\r\n172.20.131.150:9101 (ext) |  25s101ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;9a01f;9801c                            |     1 |        /2/t-00017qv/A0002ay8.rf_tmp |        [] | {}\r\n172.20.131.35:9101 (ext) |  26s969ms |  FULL |   USER | 2.77M | 2.77M |       testTable | 2;48016;46017                            |     1 |        /2/t-00004ho/A0002axz.rf_tmp |        [] | {}\r\n172.20.131.82:9101 (ext) |  33s715ms |  FULL |   USER | 3.36M | 3.36M |       testTable | 2;0c01a;0a01d                            |     1 |        /2/t-0000ctq/A0002axg.rf_tmp |        [] | {}\r\n172.20.132.14:9101 (ext) |  25s729ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;4c01;4a018                             |     1 |        /2/t-0000col/A0002ay6.rf_tmp |        [] | {}\r\n172.20.132.141:9101 (ext) |  28s416ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;8a01e;8801d                            |     1 |        /2/t-00017so/A0002axt.rf_tmp |        [] | {}\r\n172.20.132.187:9101 (ext) |  28s737ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;8801d;86021                            |     1 |        /2/t-00004gp/A0002axs.rf_tmp |        [] | {}\r\n172.20.132.226:9101 (ext) |  30s934ms |  FULL |   USER | 4.30M | 4.30M |       testTable | 2;8;7e00d                                |     1 |        /2/t-0000000/A0002axl.rf_tmp |        [] | {}\r\n172.20.132.26:9101 (ext) |  29s994ms |  FULL |   USER | 3.17M | 3.17M |       testTable | 2;22016;2                                |     1 |        /2/t-00017lc/A0002axq.rf_tmp |        [] | {}\r\n172.20.133.113:9101 (ext) |  29s711ms |  FULL |   USER | 3.20M | 3.20M |       testTable | 2;44014;4201                             |     1 |        /2/t-0000clm/A0002axr.rf_tmp |        [] | {}\r\n172.20.133.144:9101 (ext) |  32s707ms |  FULL |   USER | 4.10M | 4.10M |       testTable | 2;1;0e013                                |     1 |        /2/t-0000008/A0002axi.rf_tmp |        [] | {}\r\n172.20.133.182:9101 (ext) |  28s313ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;8e00d;8c015                            |     1 |        /2/t-00017zq/A0002axw.rf_tmp |        [] | {}\r\n172.20.133.255:9101 (ext) |  26s703ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;92012;9                                |     1 |        /2/t-00017kk/A0002ay1.rf_tmp |        [] | {}\r\n172.20.133.55:9101 (ext) |  25s724ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;26024;2401d                            |     1 |        /2/t-00017us/A0002ay5.rf_tmp |        [] | {}\r\n172.20.134.114:9101 (ext) |  26s191ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;4a018;48016                            |     1 |        /2/t-00017wj/A0002ay2.rf_tmp |        [] | {}\r\n172.20.134.139:9101 (ext) |  25s993ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;9602;9401a                             |     1 |        /2/t-00017rl/A0002ay4.rf_tmp |        [] | {}\r\n172.20.134.161:9101 (ext) |  30s202ms |  FULL |   USER | 3.70M | 3.70M |       testTable | 2;86021;84019                            |     1 |        /2/t-00017hh/A0002axp.rf_tmp |        [] | {}\r\n172.20.134.250:9101 (ext) |  30s186ms |  FULL |   USER | 3.19M | 3.19M |       testTable | 2;84019;82013                            |     1 |        /2/t-0000co6/A0002axo.rf_tmp |        [] | {}\r\n172.20.134.61:9101 (ext) |   34s46ms |  FULL |   USER | 4.52M | 4.52M |       testTable | 2;0602;0401a                             |     1 |        /2/t-00017mi/A0002axf.rf_tmp |        [] | {}\r\n172.20.135.166:9101 (ext) |   33s46ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;0e013;0c01a                            |     1 |        /2/t-0001816/A0002axh.rf_tmp |        [] | {}\r\n172.20.135.191:9101 (ext) |  32s423ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;2;1e00e                                |     1 |        /2/t-0000005/A0002axj.rf_tmp |        [] | {}\r\n172.20.135.222:9101 (ext) |  34s165ms |  FULL |   USER | 4.43M | 4.43M |       testTable | 2;0a01d;0801b                            |     1 |        /2/t-00017gs/A0002axe.rf_tmp |        [] | {}\r\n172.20.135.41:9101 (ext) |  26s997ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;2401d;22016                            |     1 |        /2/t-0000cle/A0002axy.rf_tmp |        [] | {}\r\n172.20.136.109:9101 (ext) |  27s177ms |  FULL |   USER | 2.98M | 2.98M |       testTable | 2;1201;1                                 |     1 |        /2/t-00017v7/A0002axx.rf_tmp |        [] | {}\r\n172.20.136.162:9101 (ext) |  31s305ms |  FULL |   USER | 3.07M | 3.07M |       testTable | 2;4;3e00f                                |     1 |        /2/t-0000002/A0002axk.rf_tmp |        [] | {}\r\n172.20.136.52:9101 (ext) |  30s742ms |  FULL |   USER | 3.35M | 3.35M |       testTable | 2;82013;8                                |     1 |        /2/t-00017iu/A0002axm.rf_tmp |        [] | {}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/849952173/reactions","total_count":3,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/850506086","html_url":"https://github.com/apache/accumulo/pull/2123#issuecomment-850506086","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2123","id":850506086,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDUwNjA4Ng==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T15:40:41Z","updated_at":"2021-05-28T15:40:41Z","author_association":"CONTRIBUTOR","body":"Tests are passing locally. I will take a closer look at the code now. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/850506086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852109921","html_url":"https://github.com/apache/accumulo/issues/2030#issuecomment-852109921","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2030","id":852109921,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjEwOTkyMQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T13:08:09Z","updated_at":"2021-06-01T13:08:09Z","author_association":"CONTRIBUTOR","body":"I wonder if [CompactionCheck ](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/CompactableImpl.java#L524) should return `false` if `Tablet.isBeingDeleted()` is `true`. It already returns `false` if the tablet is closed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852109921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852190551","html_url":"https://github.com/apache/accumulo/issues/2030#issuecomment-852190551","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2030","id":852190551,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjE5MDU1MQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T14:52:23Z","updated_at":"2021-06-01T14:52:23Z","author_association":"CONTRIBUTOR","body":"So, that didn't work. Looking at the Manager logs I see a constant stream of:\r\n```\r\n2021-06-01T14:35:54,613 [tableOps.Utils] INFO : namespace +default (55e4a47017a35a48) locked for read operation: DELETE\r\n```\r\nI noticed that this is the success case when the getLock method is successful. I added some logging to the `else` case, when the lock is not successful and the method returns `100`. It appears that the DELETE fate operation cannot get the table lock. The delete call in your test is waiting until the compaction is complete before executing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852190551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852198441","html_url":"https://github.com/apache/accumulo/issues/2030#issuecomment-852198441","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2030","id":852198441,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjE5ODQ0MQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T15:02:05Z","updated_at":"2021-06-01T15:02:05Z","author_association":"CONTRIBUTOR","body":"Here's the snippet from the manager log (with my log changes):\r\n```\r\n2021-06-01T14:47:54,043 [tableOps.Utils] INFO : namespace +default (69c29b96a0cc24bc) locked for read operation: COMPACT\r\n2021-06-01T14:47:54,060 [tableOps.Utils] INFO : table 1 (69c29b96a0cc24bc) locked for read operation: COMPACT\r\n2021-06-01T14:47:54,507 [accumulo.audit] INFO : operation: permitted; user: root; client: 127.0.0.1:59340; action: authenticate;\r\n2021-06-01T14:47:54,516 [accumulo.audit] INFO : operation: permitted; user: root; client: 127.0.0.1:59340; action: authenticate;\r\n2021-06-01T14:47:54,542 [accumulo.audit] INFO : operation: permitted; user: root; client: 127.0.0.1:59340; action: authenticate;\r\n2021-06-01T14:47:54,542 [accumulo.audit] INFO : operation: permitted; user: root; client: 127.0.0.1:59340; action: deleteTable; targetTable: DeleteCancelsMajCIT_test0;\r\n2021-06-01T14:47:54,556 [accumulo.audit] INFO : operation: permitted; user: root; client: 127.0.0.1:59340; action: authenticate;\r\n2021-06-01T14:47:54,557 [tableOps.Utils] INFO : namespace +default (252a9562646ec62e) locked for read operation: DELETE\r\n2021-06-01T14:47:54,561 [tableOps.Utils] INFO : table 1 (252a9562646ec62e) locked by another operation, will retry\r\n```\r\n\r\nIs this the intended design for the DistributedReadWriteLock? Only 1 concurrent READ lock? This seems to deviate from it's parent class, https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReadWriteLock.html\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852198441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852206136","html_url":"https://github.com/apache/accumulo/issues/2030#issuecomment-852206136","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2030","id":852206136,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjIwNjEzNg==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T15:11:58Z","updated_at":"2021-06-01T15:11:58Z","author_association":"CONTRIBUTOR","body":"Nevermind, on further review, the DELETE is trying to get a Write lock, and it can't because the COMPACT operation has a read lock. I should have logged the lock type in the retry message.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852206136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852228663","html_url":"https://github.com/apache/accumulo/issues/2124#issuecomment-852228663","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2124","id":852228663,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjIyODY2Mw==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T15:40:39Z","updated_at":"2021-06-01T15:40:39Z","author_association":"CONTRIBUTOR","body":"I don't believe the Compactor stops working in this case. I believe it will retry for some amount of time and then throw a RetriesExceededException. The Compactor will move onto the next compaction after this. In this case, the Coordinator does not know about the external compaction id for which the Compactor is running. It's most likely the case that the Coordinator was restarted and then it could not communicate with the Compactor when it was restarted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852228663/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852237559","html_url":"https://github.com/apache/accumulo/issues/2124#issuecomment-852237559","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2124","id":852237559,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjIzNzU1OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T15:53:07Z","updated_at":"2021-06-01T15:53:07Z","author_association":"CONTRIBUTOR","body":"> I don't believe the Compactor stops working in this case.\r\n\r\nOk so the problem is less severe than I thought.  Seems like it still worthwhile keeping this issues open because compaction work is lost and it may be worth exploring making this more resilient.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852237559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852247696","html_url":"https://github.com/apache/accumulo/issues/2125#issuecomment-852247696","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2125","id":852247696,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjI0NzY5Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T16:07:00Z","updated_at":"2021-06-01T16:07:00Z","author_association":"CONTRIBUTOR","body":"One possible solution to this problem is when a possible dead compaction is detected to do the following.\r\n\r\n * Remember the possible dead compaction and its first seen and last seen time in a map in the DeadCompactionDetector.\r\n * When last seen - first seen > 10 minutes, then actually mark the compactions as dead.\r\n\r\nSo don't mark a compaction as dead the first time a problems is seen, only do so after multiple times of seeing a problem.  Also the set of possible dead compactions should have anything cleared out that was seen as running or no longer exists.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852247696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852249388","html_url":"https://github.com/apache/accumulo/issues/2124#issuecomment-852249388","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2124","id":852249388,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjI0OTM4OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T16:09:20Z","updated_at":"2021-06-01T16:09:20Z","author_association":"CONTRIBUTOR","body":"Wondering if it would make sense to change status reports from compactor to coordinator to async thrift messages and remove the UnknownCompactionIdException.  However I am not sure if this could lead to inconsistent status within the coordinator.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852249388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852254130","html_url":"https://github.com/apache/accumulo/issues/2125#issuecomment-852254130","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2125","id":852254130,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjI1NDEzMA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T16:16:19Z","updated_at":"2021-06-01T16:16:19Z","author_association":"CONTRIBUTOR","body":"> The code that detects dead compactions reaches out to each compactor to ask what its running\r\n\r\nThis only happens once, on Coordinator startup. https://github.com/apache/accumulo/blob/main/server/compaction-coordinator/src/main/java/org/apache/accumulo/coordinator/CompactionCoordinator.java#L249\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852254130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852285250","html_url":"https://github.com/apache/accumulo/issues/2125#issuecomment-852285250","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2125","id":852285250,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjI4NTI1MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T16:55:57Z","updated_at":"2021-06-01T16:55:57Z","author_association":"CONTRIBUTOR","body":"> This only happens once, on Coordinator startup.\r\n\r\nThat covers a different case where that thrift code is called than what I was thinking about.  The dead compaction detector [runs repeatedly](https://github.com/apache/accumulo/blob/8a636a3ba91f5dae1d8b09b095178889a7d79c1d/server/compaction-coordinator/src/main/java/org/apache/accumulo/coordinator/DeadCompactionDetector.java#L113-L119).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852285250/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852299745","html_url":"https://github.com/apache/accumulo/pull/2126#issuecomment-852299745","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2126","id":852299745,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjI5OTc0NQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T17:17:49Z","updated_at":"2021-06-01T17:17:49Z","author_association":"MEMBER","body":"This may be better handled in a separate PR but, it looks like we could add very similar tests for ConditionalWriterConfig.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852299745/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852405108","html_url":"https://github.com/apache/accumulo/issues/2124#issuecomment-852405108","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2124","id":852405108,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjQwNTEwOA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T19:55:12Z","updated_at":"2021-06-01T19:55:12Z","author_association":"CONTRIBUTOR","body":"I'm thinking that we can just remove the UnknownCompactionIdException. It's thrown in 4 cases, 3 in the Coordinator (`compactionCompleted`, `compactionFailed`, and `updateCompactionStatus`) when the compaction does not exist in the RUNNING list. If the compaction is not in the RUNNING list the first time it's called, then it's likely never going to exist. However, in `compactionCompleted` and `compactionFailed`, the compactionFinalizer is called before the error is thrown. The 4th location is in the Compactor, when the Coordinator is trying to cancel the compaction, I think we should leave that one.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852405108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852438317","html_url":"https://github.com/apache/accumulo/pull/2129#issuecomment-852438317","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2129","id":852438317,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjQzODMxNw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T20:54:05Z","updated_at":"2021-06-01T20:54:05Z","author_association":"MEMBER","body":"One more overall comment for this PR: try to keep the subject line for the commit short, and provide additional details in the \"body\" of the git log. If you merge from the GitHub UI, it will give you an opportunity to rewrite the subject line and body of the commit message before committing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/852438317/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853021146","html_url":"https://github.com/apache/accumulo/issues/2115#issuecomment-853021146","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2115","id":853021146,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzAyMTE0Ng==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T13:19:36Z","updated_at":"2021-06-02T13:19:36Z","author_association":"MEMBER","body":"I created #2131 after looking into this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853021146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853021301","html_url":"https://github.com/apache/accumulo/pull/2126#issuecomment-853021301","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2126","id":853021301,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzAyMTMwMQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T13:19:51Z","updated_at":"2021-06-02T13:19:51Z","author_association":"MEMBER","body":"I created #2131 after looking into this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853021301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853025151","html_url":"https://github.com/apache/accumulo/pull/2126#issuecomment-853025151","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2126","id":853025151,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzAyNTE1MQ==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T13:24:50Z","updated_at":"2021-06-02T13:24:50Z","author_association":"CONTRIBUTOR","body":"Thanks @DomGarguilo ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853025151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853094692","html_url":"https://github.com/apache/accumulo/pull/2122#issuecomment-853094692","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2122","id":853094692,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzA5NDY5Mg==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T14:50:52Z","updated_at":"2021-06-02T14:52:12Z","author_association":"CONTRIBUTOR","body":"In my commit [f16dbf6](https://github.com/apache/accumulo/pull/2122/commits/f16dbf62c9791252254a4432b205fba991dbc34f), I have:\r\n\r\n- Re-added the `@since` tag to the deprecated `@getProperties` function\r\n- Changed the name of the new function to `@getConfiguration`\r\n- Removed the duplicated logic in `@getProperties` and made it call `@getConfiguration` and return with .entrySet()\r\n- Cleaned up 'clunky' code by implementing Map.forEach() or streams\r\n- Made small changes to some variable types that were previously Iterables\r\n\r\nIn [ed2ce01](https://github.com/apache/accumulo/pull/2122/commits/ed2ce0156bf75a280d43f36592be82e1ca52ed6d) I added some parts to the deprecated tags that I had overlooked.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853094692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853312481","html_url":"https://github.com/apache/accumulo/pull/2134#issuecomment-853312481","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2134","id":853312481,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzMxMjQ4MQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:05:58Z","updated_at":"2021-06-02T19:05:58Z","author_association":"CONTRIBUTOR","body":"Looks good.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853312481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853314328","html_url":"https://github.com/apache/accumulo/issues/2137#issuecomment-853314328","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2137","id":853314328,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzMxNDMyOA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:09:04Z","updated_at":"2021-06-02T19:09:04Z","author_association":"CONTRIBUTOR","body":"Looking at these","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853314328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853316198","html_url":"https://github.com/apache/accumulo/issues/2137#issuecomment-853316198","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2137","id":853316198,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzMxNjE5OA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:12:12Z","updated_at":"2021-06-02T19:24:16Z","author_association":"CONTRIBUTOR","body":"I have a fix for `KeywordStartIT`. That one appears to be relatively straightforward.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853316198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853329203","html_url":"https://github.com/apache/accumulo/pull/2117#issuecomment-853329203","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2117","id":853329203,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzMyOTIwMw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:34:04Z","updated_at":"2021-06-02T19:34:04Z","author_association":"CONTRIBUTOR","body":"I successfully tested the recovery locally using Uno with TestIngest of 50000 rows and using two tservers. Ran all the ITs again and `WriteAheadLogEncryptedIT` was the only one failing. I refactored to pass server context in order to get the configuration and it now passes. \r\n\r\nThere may be room for future performance improvements but I think the equivalent functionality of sorting recovery with RFile is ready to merge. This change should take care of #2076 as well but I want to do further testing with encryption since I don't think it works exactly how we want it to yet. I can do that as a follow on task.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853329203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853336523","html_url":"https://github.com/apache/accumulo/issues/2137#issuecomment-853336523","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2137","id":853336523,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzMzNjUyMw==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:46:44Z","updated_at":"2021-06-02T19:46:44Z","author_association":"CONTRIBUTOR","body":"I figured out the issue with CompactionIT, PR incoming","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853336523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853341197","html_url":"https://github.com/apache/accumulo/issues/2137#issuecomment-853341197","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2137","id":853341197,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzM0MTE5Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:54:38Z","updated_at":"2021-06-02T19:54:38Z","author_association":"CONTRIBUTOR","body":"I saw these same failures after I rebased #2117 on main today.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853341197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853439424","html_url":"https://github.com/apache/accumulo/pull/2135#issuecomment-853439424","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2135","id":853439424,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzQzOTQyNA==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T23:07:34Z","updated_at":"2021-06-02T23:07:34Z","author_association":"CONTRIBUTOR","body":"@DomGarguilo thanks for the catch on the comment!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853439424/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853698790","html_url":"https://github.com/apache/accumulo/issues/1884#issuecomment-853698790","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1884","id":853698790,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzY5ODc5MA==","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T08:44:24Z","updated_at":"2021-06-03T08:44:24Z","author_association":"MEMBER","body":"Unfortunately GitHub Actions postponed the addition of Linux ARM64 runner nodes for _later_. Not clear when that could be.\r\n\r\nRecently I've written a blog about how to run GitHub Action jobs on ARM64 at Huawei Cloud: https://martin-grigorov.medium.com/githubactions-build-and-test-on-huaweicloud-arm64-af9d5c97b766.\r\nBut honestly, in my opinion using TravisCI or CircleCI is the easiest! Few other Apache projects recently re-introduced TravisCI for testing on Linux ARM64 and s390x: Parquet, Drill, Tomcat & Wicket.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853698790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853851234","html_url":"https://github.com/apache/accumulo/pull/2128#issuecomment-853851234","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2128","id":853851234,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Mzg1MTIzNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T13:03:07Z","updated_at":"2021-06-03T13:03:07Z","author_association":"MEMBER","body":"One note about the subject line in this PR:\r\n\r\nWhen you merge a PR in GitHub's UI, it appends the PR number in parentheses to the subject line. So, if we see an issue number in parens, it looks like a PR. Putting the issue number there instead is confusing, as it will either result in a subject line that looks like: `Some brief description (#issue) (#pullrequest)`, or if merged manually (or edited), `Some brief description (#issue)` with no reference to the PR number at all (this is what seems to have happened with #2096).\r\n\r\nThe best practice is to include closing keywords to the issue (if one exists) in the body of the git commit (e.g. `This closes #issue`), and let GitHub append the `(#pullrequest)` when merging from the GitHub UI (or doing the equivalent from the command-line, if bypassing the GitHub UI, with `git commit --amend` to update the subject line of the commit to include the PR number in parentheses).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853851234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853864865","html_url":"https://github.com/apache/accumulo/issues/1884#issuecomment-853864865","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1884","id":853864865,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Mzg2NDg2NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T13:22:23Z","updated_at":"2021-06-03T13:24:32Z","author_association":"MEMBER","body":"Using TravisCI or CircleCI requires additional user registration and privileges to manage builds, so I'm not comfortable doing that myself, and would prefer to avoid it. If some other PMC member wanted to do that, I wouldn't be opposed, so long as it didn't increase the burden on the other active PMC/committers to maintain. I'd be opposed to using something like Huawei Cloud, or anything else that requires storing credentials to a third party service in the repo settings, as that's a lot more work to manage, and harder for the PMC to secure and protect as a collective, often requiring interaction with ASF INFRA to maintain and update, and much harder to self-service. Every 3rd party GitHub action, like `huaweicloud/cce-cluster-credentials@v1` would also require INFRA approval, since they have a curated allow-list, for security and project safety.\r\n\r\nAside from security using 3rd-party services, my main concern is the disproportionate work required to maintain a workflow that has marginal value to the Accumulo community. I wouldn't want us to spend more time and effort on maintaining a CI workflow than the value the community gets from having support for those architectures.\r\n\r\nIf there is a small community of ARM64 or s390x users that would benefit from having Accumulo support those, another option is for that community to run CI on their own against the public repo, and report back bugs they find. If that community grows sufficiently to warrant a bigger investment of time/effort from the PMC to maintain CI for those architectures, the interest of that community will be reflected in their ongoing contributions to the project, and we can add support for CI on those later. Currently, given the lack of bugs being reported that are specific to s390x/ARM64, my personal opinion is that there isn't sufficient interest or risk of problems to warrant the effort at this time.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853864865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853917876","html_url":"https://github.com/apache/accumulo/issues/2142#issuecomment-853917876","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2142","id":853917876,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzkxNzg3Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T14:34:22Z","updated_at":"2021-06-03T14:34:22Z","author_association":"CONTRIBUTOR","body":"FYI every property related to compaction (prior to external compactions) appears to have the word `compaction` in the property name.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853917876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853949515","html_url":"https://github.com/apache/accumulo/pull/2133#issuecomment-853949515","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2133","id":853949515,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Mzk0OTUxNQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T15:16:48Z","updated_at":"2021-06-03T15:16:48Z","author_association":"CONTRIBUTOR","body":"I made the requested changes in the latest commit @ctubbsii. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/853949515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854026004","html_url":"https://github.com/apache/accumulo/pull/2140#issuecomment-854026004","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2140","id":854026004,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDAyNjAwNA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T16:52:04Z","updated_at":"2021-06-03T16:52:57Z","author_association":"CONTRIBUTOR","body":"After 58673f826da46db05c487daf75b2ae4dce14d816, should `type':'internal'` be removed from the defaults in Property.java?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854026004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854028811","html_url":"https://github.com/apache/accumulo/pull/2140#issuecomment-854028811","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2140","id":854028811,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDAyODgxMQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T16:56:29Z","updated_at":"2021-06-03T16:56:29Z","author_association":"CONTRIBUTOR","body":"Personally, I like it there as it's explicit that you (as an administrator) are making a decision between internal and external. There is no harm in removing it or leaving it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854028811/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854031447","html_url":"https://github.com/apache/accumulo/pull/2140#issuecomment-854031447","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2140","id":854031447,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDAzMTQ0Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T17:00:40Z","updated_at":"2021-06-03T17:00:40Z","author_association":"CONTRIBUTOR","body":"> Personally, I like it there as it's explicit that you\r\n\r\nYeah that seems good.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854031447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854060993","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-854060993","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":854060993,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDA2MDk5Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T17:46:24Z","updated_at":"2021-06-03T17:46:24Z","author_association":"MEMBER","body":"Rather than create new hosts files, I would like to see the hosts files consolidated into a single accumulo-cluster.conf file which includes the hosts for all the services the accumulo-cluster script manages (there may be an existing ticket for this... I didn't check before writing this). If host configuration were streamlined into a single config file, it would be easier to specify the startup of additional services, perhaps even with separate config for each host.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854060993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854096865","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-854096865","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":854096865,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDA5Njg2NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T18:47:21Z","updated_at":"2021-06-03T20:22:33Z","author_association":"CONTRIBUTOR","body":"> I would like to see the hosts files consolidated into a single accumulo-cluster.conf\r\n\r\nThat sounds interesting.  Any thoughts on the structure and how compactor+queue info might fit into that? For compactors I was thinking of the following possibilities, had not considered a single file.\r\n\r\n1. A dir name compactors with files under it for each queue.  The name of the file would be queue name and the contents of the file would be host to start compactors.\r\n2. A file named compactors where the contents are lines like : `<host>,<queue>`.  This would repeat information alot and seems error prone.\r\n3. A file named compactors where contents has sections.  The section is the queue name and the contents are host.  Like \r\n```\r\n[Q1]\r\nhost1\r\nhost2\r\n\r\n[Q2]\r\nhost3\r\nhost4\r\n```\r\n\r\n(comment edited by @ctubbsii to view format of option 3 better, and to number the options, to make it easier to reference)\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854096865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854102198","html_url":"https://github.com/apache/accumulo/pull/2140#issuecomment-854102198","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2140","id":854102198,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDEwMjE5OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T18:56:36Z","updated_at":"2021-06-03T18:56:36Z","author_association":"MEMBER","body":"> Personally, I like it there as it's explicit that you (as an administrator) are making a decision between internal and external. There is no harm in removing it or leaving it.\r\n\r\nHaving it explicit in the default config is good, as is allowing it to be omitted. However, we should have test coverage of the case where it is omitted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854102198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854139577","html_url":"https://github.com/apache/accumulo/pull/2140#issuecomment-854139577","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2140","id":854139577,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDEzOTU3Nw==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T19:59:31Z","updated_at":"2021-06-03T19:59:31Z","author_association":"CONTRIBUTOR","body":"Regarding test coverage, we have it, it's why CompactionIT was failing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854139577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854148699","html_url":"https://github.com/apache/accumulo/pull/2140#issuecomment-854148699","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2140","id":854148699,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDE0ODY5OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T20:14:24Z","updated_at":"2021-06-03T20:14:24Z","author_association":"MEMBER","body":"> Regarding test coverage, we have it, it's why CompactionIT was failing.\r\n\r\nMy understanding was that the test was failing with the default config, which you changed to be explicit. I didn't see a test if the user overrides the default config with the type set to null.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854148699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854151508","html_url":"https://github.com/apache/accumulo/pull/2140#issuecomment-854151508","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2140","id":854151508,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDE1MTUwOA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T20:19:07Z","updated_at":"2021-06-03T20:19:07Z","author_association":"CONTRIBUTOR","body":"I reverted the explicit addition of the type in the default configuration in 58673f8. It's now added if the type is missing in the latest version of code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854151508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854157351","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-854157351","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":854157351,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDE1NzM1MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T20:29:12Z","updated_at":"2021-06-03T20:29:12Z","author_association":"MEMBER","body":"Of the three, option 3 is closest to what I was thinking. However, if it was done in a single file, it would strongly depend on the format for that file. If it were YAML, it might look something like:\r\n\r\n```yaml\r\nmanagers:\r\n - host1\r\n\r\ngc:\r\n - host1\r\n\r\ntservers:\r\n - host2\r\n - host3\r\n\r\ncompaction:\r\n  coordinator: host4\r\n  queues:\r\n   -\r\n     name: queue1\r\n     workers: [ host5, host6 ]\r\n   -\r\n     name: queue2\r\n     workers:\r\n      - host7\r\n      - host8\r\n      - host9\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854157351/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854161684","html_url":"https://github.com/apache/accumulo/pull/2140#issuecomment-854161684","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2140","id":854161684,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDE2MTY4NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T20:36:49Z","updated_at":"2021-06-03T20:36:49Z","author_association":"MEMBER","body":"> I reverted the explicit addition of the type in the default configuration in [58673f8](https://github.com/apache/accumulo/commit/58673f826da46db05c487daf75b2ae4dce14d816). It's now added if the type is missing in the latest version of code.\r\n\r\nOh, okay. I thought you were going to keep the explicit type, based on the conversation above, and because I saw that the file remained changed after you reverted that, but that is just a whitespace diff and not the original change. Either way, this is good to merge.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854161684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854830155","html_url":"https://github.com/apache/accumulo/pull/2122#issuecomment-854830155","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2122","id":854830155,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDgzMDE1NQ==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-04T15:50:46Z","updated_at":"2021-06-04T15:50:46Z","author_association":"CONTRIBUTOR","body":"In my commit [7d2583e](https://github.com/apache/accumulo/pull/2122/commits/7d2583ee4563f64b75dca7e61349f17187e0cc9f), I have:\r\n\r\n- Changed some places to use Map.copyOf() instead of a Map.forEach()\r\n- Changed lines of code to use the original `getProperties` method to shorten length of code\r\n- Removed the deprecation tags for `getProperties()`\r\n- Made `getProperties()` default in both `TableOperations` and `NamespaceOperations`\r\n- Removed implementing methods of `getProperties()`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854830155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854891919","html_url":"https://github.com/apache/accumulo/pull/2145#issuecomment-854891919","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2145","id":854891919,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDg5MTkxOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-04T17:30:15Z","updated_at":"2021-06-04T17:30:15Z","author_association":"CONTRIBUTOR","body":"The option that was added in 2.0 for the encryption only included the name of the service. You also need a way to pass in other options for it to work. This change just simplifies that by removing the option altogether and reading the config from classpath, similar to other utilities.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/854891919/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]