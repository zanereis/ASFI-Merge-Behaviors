[{"url":"https://api.github.com/repos/apache/storm/issues/comments/101382574","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101382574","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101382574,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTM4MjU3NA==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-12T18:44:27Z","updated_at":"2015-05-12T18:44:27Z","author_association":"NONE","body":"@HeartSaVioR \n\nThanks for taking a look. Well, I was trying to follow his comments. :)\n\nI noticed though, that the line in my `let` binding\n\n``` Clojure\nvalid-node+ports (vals task->node+port)\n```\n\nmaybe should have been\n\n``` Clojure\nvalid-node+ports (vals @task->node+port)\n```\n\nwith the `@`.\n\n`task->node+port` is actually an atom, however, so if we dereference it within the read-lock there, we should have the accurate task assignment before we add anything to the queue to be sent.  I believe this addresses the concern you cited from @nathanmarz.  The other change was to encapsulate the separate TransferDrainer#add, since it does not need to be a separate public method.\n\nSo, @HeartSaVioR, since we have both looked at my branch already, do you want to take my changes into your branch and continue the discussion from there?  It seems like a smaller set of changes to begin with, and maybe it would be easier going forward?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101382574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534737","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534737","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534737,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3Mzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-12T18:44:29Z","updated_at":"2025-01-24T13:29:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101382574\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101382574</a></p>\n\n<p>    @HeartSaVioR </p>\n\n<p>    Thanks for taking a look. Well, I was trying to follow his comments. <img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/smile.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/></p>\n\n<p>    I noticed though, that the line in my `let` binding<br/>\n    ```Clojure<br/>\n    valid-node+ports (vals task->node+port)<br/>\n    ```<br/>\n    maybe should have been<br/>\n    ```Clojure<br/>\n    valid-node+ports (vals @task->node+port)<br/>\n    ```<br/>\n    with the `@`.</p>\n\n<p>    `task->node+port` is actually an atom, however, so if we dereference it within the read-lock there, we should have the accurate task assignment before we add anything to the queue to be sent.  I believe this addresses the concern you cited from @nathanmarz.  The other change was to encapsulate the separate TransferDrainer#add, since it does not need to be a separate public method.</p>\n\n<p>    So, @HeartSaVioR, since we have both looked at my branch already, do you want to take my changes into your branch and continue the discussion from there?  It seems like a smaller set of changes to begin with, and maybe it would be easier going forward?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101387750","html_url":"https://github.com/apache/storm/pull/454#issuecomment-101387750","issue_url":"https://api.github.com/repos/apache/storm/issues/454","id":101387750,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTM4Nzc1MA==","user":{"login":"mjtieman","id":2328777,"node_id":"MDQ6VXNlcjIzMjg3Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/2328777?v=4","gravatar_id":"","url":"https://api.github.com/users/mjtieman","html_url":"https://github.com/mjtieman","followers_url":"https://api.github.com/users/mjtieman/followers","following_url":"https://api.github.com/users/mjtieman/following{/other_user}","gists_url":"https://api.github.com/users/mjtieman/gists{/gist_id}","starred_url":"https://api.github.com/users/mjtieman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjtieman/subscriptions","organizations_url":"https://api.github.com/users/mjtieman/orgs","repos_url":"https://api.github.com/users/mjtieman/repos","events_url":"https://api.github.com/users/mjtieman/events{/privacy}","received_events_url":"https://api.github.com/users/mjtieman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-12T18:57:37Z","updated_at":"2015-05-12T18:57:37Z","author_association":"NONE","body":"Apologies, I have to register as an Apache committer before I can merge these changes. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101387750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612546110","html_url":"https://github.com/apache/storm/issues/4657#issuecomment-2612546110","issue_url":"https://api.github.com/repos/apache/storm/issues/4657","id":2612546110,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDYxMTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-12T21:56:48Z","updated_at":"2025-01-24T13:34:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user knusbaum opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/551\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/551</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-816\" title=\"maven-gpg-plugin does not work with gpg 2.1\" class=\"issue-link\" data-issue-key=\"STORM-816\"><del>STORM-816</del></a> maven-gpg-plugin does not work with gpg 2.1</p>\n\n<p>    GPG 2.1 changed some security things involving password entry, and it looks like our version of the plugin doesn't work with it.</p>\n\n<p>    We should upgrade.</p>\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/knusbaum/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/knusbaum/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-816\" title=\"maven-gpg-plugin does not work with gpg 2.1\" class=\"issue-link\" data-issue-key=\"STORM-816\"><del>STORM-816</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/551.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/551.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #551</p>\n\n<hr />\n<p>commit e823c058742a19e97c7bf71259e94e6f333ec347<br/>\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com><br/>\nDate:   2015-05-12T21:55:08Z</p>\n\n<p>    Updating maven-gpg-plugin version.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612546110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101446038","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101446038","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101446038,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTQ0NjAzOA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-12T22:40:40Z","updated_at":"2015-05-12T22:43:50Z","author_association":"CONTRIBUTOR","body":"@d2r \nFirst of all, I'm sorry I did some mistakes about expression.\nI mean, your approach follows some of Nathan's comment, but not all.\nYour patch can also resolve STORM-737, with dropping some tuples when task->node+port is changed, while we can save these.\n\n@nathanmarz said 861a92e made a regression, so it means, before applying 861a92e (0666c41387fc11c0422b26ab27ebc38c30fe26af) was right.\nAFAIK mk-transfer-fn is looking inside task->node+port while it should be handled from mk-transfer-tuples-handler's read-lock, and that's the point of regression.\nYou can find out I'm trying to revert it when you see changeset of mk-transfer-tuples-handler in that commit.\nCurrent PR takes same logic (yes, same) from old thing but playing with TransferDrainer.\n- PR\n\n```\n(defn mk-transfer-tuples-handler [worker]\n  (let [^DisruptorQueue transfer-queue (:transfer-queue worker)\n        drainer (TransferDrainer.)\n        node+port->socket (:cached-node+port->socket worker)\n        task->node+port (:cached-task->node+port worker)\n        endpoint-socket-lock (:endpoint-socket-lock worker)\n        ]\n    (disruptor/clojure-handler\n      (fn [packets _ batch-end?]\n        (.add drainer packets)\n\n        (when batch-end?\n          (read-locked endpoint-socket-lock\n            (let [node+port->socket @node+port->socket\n                  task->node+port @task->node+port]\n              (.send drainer task->node+port node+port->socket)))\n          (.clear drainer))))))\n```\n- Old (that Nathan said it was right)\n  https://github.com/apache/storm/blob/0666c41387fc11c0422b26ab27ebc38c30fe26af/storm-core/src/clj/backtype/storm/daemon/worker.clj\n\n```\n(defn mk-transfer-tuples-handler [worker]\n  (let [^DisruptorQueue transfer-queue (:transfer-queue worker)\n        drainer (ArrayList.)\n        node+port->socket (:cached-node+port->socket worker)\n        task->node+port (:cached-task->node+port worker)\n        endpoint-socket-lock (:endpoint-socket-lock worker)\n        ]\n    (disruptor/clojure-handler\n      (fn [packets _ batch-end?]\n        (.addAll drainer packets)\n        (when batch-end?\n          (read-locked endpoint-socket-lock\n            (let [node+port->socket @node+port->socket\n                  task->node+port @task->node+port]\n              ;; consider doing some automatic batching here (would need to not be serialized at this point to remove per-tuple overhead)\n              ;; try using multipart messages ... first sort the tuples by the target node (without changing the local ordering)\n\n              (fast-list-iter [[task ser-tuple] drainer]\n                ;; TODO: consider write a batch of tuples here to every target worker  \n                ;; group by node+port, do multipart send              \n                (let [node-port (get task->node+port task)]\n                  (when node-port\n                    (.send ^IConnection (get node+port->socket node-port) task ser-tuple))\n                    ))))\n          (.clear drainer))))))\n```\n\nSo, I'd like you to review current PR, and find out issues, and go together.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101446038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534738","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534738","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534738,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-12T22:40:42Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101446038\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101446038</a></p>\n\n<p>    @d2r <br/>\n    First of all, I'm sorry I did some mistakes about expression.<br/>\n    I mean, your approach follows some of Nathan's comment, but not all.<br/>\n    Your patch can also resolve <a href=\"https://issues.apache.org/jira/browse/STORM-737\" title=\"Workers may try to send to closed connections\" class=\"issue-link\" data-issue-key=\"STORM-737\"><del>STORM-737</del></a>, with dropping some tuples when task->node+port is changed, while we can save these.</p>\n\n<p>    @nathanmarz said 861a92e made a regression, so it means, before applying 861a92e (0666c41387fc11c0422b26ab27ebc38c30fe26af) was right.<br/>\n    AFAIK mk-transfer-fn is looking inside task->node+port while it should be handled from read-lock, and that's the point of regression.<br/>\n    You can find out I'm trying to revert it when you see changeset of mk-transfer-tuples-handler in that commit.<br/>\n    Current PR takes same logic (yes, same) from old thing but playing with TransferDrainer.</p>\n\n<ul>\n\t<li>PR<br/>\n    ```<br/>\n    (defn mk-transfer-tuples-handler <span class=\"error\">&#91;worker&#93;</span><br/>\n      (let [^DisruptorQueue transfer-queue (:transfer-queue worker)<br/>\n    drainer (TransferDrainer.)<br/>\n    node+port->socket (:cached-node+port->socket worker)<br/>\n    task->node+port (:cached-task->node+port worker)<br/>\n    endpoint-socket-lock (:endpoint-socket-lock worker)<br/>\n    ]<br/>\n(disruptor/clojure-handler<br/>\n  (fn <span class=\"error\">&#91;packets _ batch-end?&#93;</span><br/>\n    (.add drainer packets)</li>\n</ul>\n\n\n<p>    (when batch-end?<br/>\n      (read-locked endpoint-socket-lock<br/>\n(let [node+port->socket @node+port->socket<br/>\n      task->node+port @task->node+port]<br/>\n  (.send drainer task->node+port node+port->socket)))<br/>\n      (.clear drainer))))))<br/>\n    ```</p>\n\n<ul>\n\t<li>Old (that Nathan said it was right)<br/>\n    <a href=\"https://github.com/apache/storm/blob/0666c41387fc11c0422b26ab27ebc38c30fe26af/storm-core/src/clj/backtype/storm/daemon/worker.clj\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/0666c41387fc11c0422b26ab27ebc38c30fe26af/storm-core/src/clj/backtype/storm/daemon/worker.clj</a><br/>\n    ```<br/>\n    (defn mk-transfer-tuples-handler <span class=\"error\">&#91;worker&#93;</span><br/>\n      (let [^DisruptorQueue transfer-queue (:transfer-queue worker)<br/>\n    drainer (ArrayList.)<br/>\n    node+port->socket (:cached-node+port->socket worker)<br/>\n    task->node+port (:cached-task->node+port worker)<br/>\n    endpoint-socket-lock (:endpoint-socket-lock worker)<br/>\n    ]<br/>\n(disruptor/clojure-handler<br/>\n  (fn <span class=\"error\">&#91;packets _ batch-end?&#93;</span><br/>\n    (.addAll drainer packets)<br/>\n    (when batch-end?<br/>\n      (read-locked endpoint-socket-lock<br/>\n(let [node+port->socket @node+port->socket<br/>\n      task->node+port @task->node+port]<br/>\n  ;; consider doing some automatic batching here (would need to not be serialized at this point to remove per-tuple overhead)<br/>\n  ;; try using multipart messages ... first sort the tuples by the target node (without changing the local ordering)</li>\n</ul>\n\n\n<p>  (fast-list-iter [<span class=\"error\">&#91;task ser-tuple&#93;</span> drainer]<br/>\n    ;; TODO: consider write a batch of tuples here to every target worker  <br/>\n    ;; group by node+port, do multipart send      <br/>\n    (let <span class=\"error\">&#91;node-port (get task->node+port task)&#93;</span><br/>\n      (when node-port<br/>\n(.send ^IConnection (get node+port->socket node-port) task ser-tuple))<br/>\n))))<br/>\n      (.clear drainer))))))<br/>\n    ```</p>\n\n<p>    So, I'd like you to review current PR, and find out issues, and go together.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101449371","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101449371","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101449371,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTQ0OTM3MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-12T22:48:29Z","updated_at":"2015-05-12T22:48:57Z","author_association":"CONTRIBUTOR","body":"Please note that packets shouldn't have values which can be changed within transfer flow.\ntask->node+port can be changed (I mean node+port for tuple can be changed), but task id for tuple is not.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101449371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534741","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534741","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534741,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-12T22:48:30Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101449371\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101449371</a></p>\n\n<p>    Please note that packets shouldn't have values which can be changed while passing to transfer flow.<br/>\n    task->node+port can be changed (I mean node+port for tuple can be changed), but task id for tuple is not.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545851","html_url":"https://github.com/apache/storm/issues/4655#issuecomment-2612545851","issue_url":"https://api.github.com/repos/apache/storm/issues/4655","id":2612545851,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDU4NTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T00:45:41Z","updated_at":"2025-01-24T13:34:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\">sriharsha</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajeshkuch\" class=\"user-hover\" rel=\"rajeshkuch\">Rajesh Kucharlapati</a> This is expected behavior. If you want to get optimal throughput your partitions and spout parallelism should match. In your case when you have 16 parttioins and 1 spout parallelism all of the topic partitions will be assigned 1 spout to read from and when you increased it to 8 each of the spout instance gets 2 per spout instance. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101470751","html_url":"https://github.com/apache/storm/pull/551#issuecomment-101470751","issue_url":"https://api.github.com/repos/apache/storm/issues/551","id":101470751,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTQ3MDc1MQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T00:48:28Z","updated_at":"2015-05-13T00:48:28Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101470751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612546117","html_url":"https://github.com/apache/storm/issues/4657#issuecomment-2612546117","issue_url":"https://api.github.com/repos/apache/storm/issues/4657","id":2612546117,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDYxMTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T00:48:29Z","updated_at":"2025-01-24T13:34:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/551#issuecomment-101470751\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/551#issuecomment-101470751</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612546117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101475237","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101475237","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101475237,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTQ3NTIzNw==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T01:19:28Z","updated_at":"2015-05-13T01:19:28Z","author_association":"NONE","body":"> @d2r\n> First of all, I'm sorry I did some mistakes about expression.\n\nNo worries.\n\n> So, I'd like you to review current PR, and find out issues, and go together.\n\nOK, sounds good to me. Let me take a look.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101475237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534747","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534747","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534747,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3NDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T01:19:30Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101475237\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101475237</a></p>\n\n<p>    > @d2r<br/>\n    > First of all, I'm sorry I did some mistakes about expression.</p>\n\n<p>    No worries.</p>\n\n<p>    > So, I'd like you to review current PR, and find out issues, and go together.</p>\n\n<p>    OK, sounds good to me. Let me take a look.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534751","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534751","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534751,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3NTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T01:22:30Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30196125\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30196125</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -26,10 +26,10 @@</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();<br/>\n    +  private HashMap<Integer, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {<br/>\n    +  public void add(HashMap<Integer, ArrayList<TaskMessage>> taskTupleSetMap) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    We should remove `add` or make it private, as per <span class=\"error\">&#91;this comment&#93;</span>(<a href=\"https://github.com/apache/storm/pull/349#issuecomment-87767343\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/349#issuecomment-87767343</a>).  There is no need to have separate `add` and `send` methods here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101480982","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101480982","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101480982,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTQ4MDk4Mg==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T01:51:59Z","updated_at":"2015-05-13T01:51:59Z","author_association":"NONE","body":"I see 4 test errors using your branch.  They all appear to be test timeouts.\n- integration-test/test-basic-topology\n- messaging-test/\n  - test-receiver-message-order\n  - test-local-transport\n- netty-integration-test/test-integration\n\nI ran `mvn test` on Linux and OSX and got the same results.  Can you please check?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101480982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534755","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534755","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534755,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3NTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T01:52:00Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101480982\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101480982</a></p>\n\n<p>    I see 4 test errors using your branch.  They all appear to be test timeouts.</p>\n\n<ul>\n\t<li>integration-test/test-basic-topology</li>\n\t<li>messaging-test/</li>\n\t<li>test-receiver-message-order</li>\n\t<li>test-local-transport</li>\n\t<li>netty-integration-test/test-integration</li>\n</ul>\n\n\n<p>    I ran `mvn test` on Linux and OSX and got the same results.  Can you please check?</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534759","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534759","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534759,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T01:53:49Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30197303\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30197303</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -139,12 +139,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []<br/>\n    +    (when (not (.get remoteMap task))<br/>\n    +      (.put remoteMap task (ArrayList.)))<br/>\n    +    (let <span class=\"error\">&#91;remote (.get remoteMap task)&#93;</span><br/>\n   (.add remote (TaskMessage. task (.serialize serializer tuple)))</li>\n\t<li>))))<br/>\n    +    ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    If we use `task` as the key, doesn't that mean we are no longer batching tuples that go to the same `node+port`?  I think we want to do this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534766","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534766","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534766,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T01:54:51Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30197344\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30197344</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -26,10 +26,10 @@</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();<br/>\n    +  private HashMap<Integer, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {<br/>\n    +  public void add(HashMap<Integer, ArrayList<TaskMessage>> taskTupleSetMap) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r <br/>\n    Yes, we don't need this since we're adding tuples and sending it immediately. <br/>\n    I'll make it private and add parameter to send. Thanks!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534770","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534770","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534770,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3NzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T02:10:11Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30197889\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30197889</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -139,12 +139,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []<br/>\n    +    (when (not (.get remoteMap task))<br/>\n    +      (.put remoteMap task (ArrayList.)))<br/>\n    +    (let <span class=\"error\">&#91;remote (.get remoteMap task)&#93;</span><br/>\n   (.add remote (TaskMessage. task (.serialize serializer tuple)))</li>\n\t<li>))))<br/>\n    +    ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r <br/>\n    Yes, TransferDrainer doesn't have to do it.<br/>\n    Btw, it makes me think that we may don't need to play with TransferDrainer since its main role is grouping tuples by node+port.</p>\n\n<p>    Could you confirm that I'm right?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534775","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534775","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534775,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3NzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T02:15:07Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30198050\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30198050</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -139,12 +139,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []<br/>\n    +    (when (not (.get remoteMap task))<br/>\n    +      (.put remoteMap task (ArrayList.)))<br/>\n    +    (let <span class=\"error\">&#91;remote (.get remoteMap task)&#93;</span><br/>\n   (.add remote (TaskMessage. task (.serialize serializer tuple)))</li>\n\t<li>))))<br/>\n    +    ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r <br/>\n    Maybe I misunderstood your comment.<br/>\n    Seems like I grouped tuples by task, not node+port. It should be grouped again from mk-transfer-tuples-handler.<br/>\n    I'll fix it. Maybe TransferDrainer can help this, so please forget about last comment.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545859","html_url":"https://github.com/apache/storm/issues/4655#issuecomment-2612545859","issue_url":"https://api.github.com/repos/apache/storm/issues/4655","id":2612545859,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDU4NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T02:28:56Z","updated_at":"2025-01-24T13:34:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajeshkuch\">rajeshkuch</a>:</i>\n<p>Here is the situation</p>\n\n<p>No of Partitions : 16</p>\n\n<p>Spout parallelism : 1 then performance is 9ms<br/>\nSpout parallelism : 16 then latency is 2 sec.</p>\n\n<p>It should be the other way. If I have parallelism to same as partitions then the performance should be optimal.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545865","html_url":"https://github.com/apache/storm/issues/4655#issuecomment-2612545865","issue_url":"https://api.github.com/repos/apache/storm/issues/4655","id":2612545865,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDU4NjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T02:36:33Z","updated_at":"2025-01-24T13:34:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\">sriharsha</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajeshkuch\" class=\"user-hover\" rel=\"rajeshkuch\">Rajesh Kucharlapati</a> sorry read it the other way round. How is your topology looks like is it only the Kafkaspout in the topology or are there any bolts. Can you also post KafkaSpout config.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545868","html_url":"https://github.com/apache/storm/issues/4655#issuecomment-2612545868","issue_url":"https://api.github.com/repos/apache/storm/issues/4655","id":2612545868,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDU4Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T02:53:17Z","updated_at":"2025-01-24T13:34:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajeshkuch\">rajeshkuch</a>:</i>\n<p>Here is the bolt latency information</p>\n\n<p>bol2\t32\t32\t2123660\t2123660\t0.035\t1.081\t2123620\t1.069\t2123520\t0\t\t\t<br/>\nbolt3\t8\t8\t2120980\t0\t       0.095\t0.906\t2121280\t0.908\t2121280\t0\t\t\t<br/>\nbolt1\t8\t8\t2124180\t2124180\t0.090\t0.957\t2125860\t0.950\t2125840\t0</p>\n\n<p>Kafka spout information</p>\n\n<p>Spouts (All time)<br/>\nkafkaspout\t8\t8\t2125680\t2125680\t2050.919\t2116780\t0\t</p>\n\n\n<p>Its simple topology with total execution less than 3 ms. I am running this topology with 4 supervisors with one worker node each.</p>\n\n<p>There are no specific config info set on kafka spout. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545872","html_url":"https://github.com/apache/storm/issues/4655#issuecomment-2612545872","issue_url":"https://api.github.com/repos/apache/storm/issues/4655","id":2612545872,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDU4NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T03:19:14Z","updated_at":"2025-01-24T13:34:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ncleung\">ncleung</a>:</i>\n<p>How is your data pushed to kafka?  It is plausible that the numbers you see are due to max spout pending.</p>\n\n<p>If you are receiving data in bursts, you would pull them off much faster with 8 spouts than 1.  Then the spout output queues would be relatively large in size, and since the tuple is sitting in the output queue longer, the overall latency is higher.  The burstiness would account for low bolt capacity figures; typically high spout output queue sizes correlate with higher bolt utilization than you're seeing.</p>\n\n<p>Anyways, it seems odd to me to point at a very specific application profile and then come to the conclusion that there is a bug in the spout.  You should run your tests with spout only and do throughput tests.  If you can pull less data off of kafka with 8 spouts than 1, then I would agree that something is odd.  But even that (purely hypothetical situation) would seem to be more likely to sit with the kafka client than with the storm implementation of kafka spout.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534782","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534782","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534782,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3ODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T04:13:48Z","updated_at":"2025-01-24T13:29:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30201415\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30201415</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -26,10 +26,10 @@</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();<br/>\n    +  private HashMap<Integer, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {<br/>\n    +  public void add(HashMap<Integer, ArrayList<TaskMessage>> taskTupleSetMap) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r <br/>\n    Looking it again, it should stores tuples to buffer unless batch-end? is true.<br/>\n    0666c41 stores tuples to ArrayList, and 861a92e just stores tuples to TransferDrainer itself.<br/>\n    So if we changed add() to private or remove add(), we should introduce another buffer, which role may be duplicated to TransferDrainer.<br/>\n    (It may not an issue when batch-end? is always true, but I don't know.)</p>\n\n<p>    Which one do you think is better?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101515533","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101515533","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101515533,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTUxNTUzMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T05:15:18Z","updated_at":"2015-05-13T05:15:18Z","author_association":"CONTRIBUTOR","body":"@d2r I can't reproduce test failures. I'll give it a try again.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101515533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534786","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534786","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534786,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T05:15:20Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101515533\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101515533</a></p>\n\n<p>    @d2r I can't reproduce test failures. I'll give it a try again.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534789","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534789","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534789,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T12:25:34Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30225056\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30225056</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -139,12 +139,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []<br/>\n    +    (when (not (.get remoteMap task))<br/>\n    +      (.put remoteMap task (ArrayList.)))<br/>\n    +    (let <span class=\"error\">&#91;remote (.get remoteMap task)&#93;</span><br/>\n   (.add remote (TaskMessage. task (.serialize serializer tuple)))</li>\n\t<li>))))<br/>\n    +    ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Yeah, maybe that part we do not need to change.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101648482","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101648482","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101648482,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTY0ODQ4Mg==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T12:26:27Z","updated_at":"2015-05-13T12:26:27Z","author_association":"NONE","body":"> @d2r I can't reproduce test failures. I'll give it a try again.\n\nOK, please update your branch, and I will re-run the tests.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101648482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534797","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534797","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534797,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ3OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T12:26:29Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101648482\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101648482</a></p>\n\n<p>    > @d2r I can't reproduce test failures. I'll give it a try again.</p>\n\n<p>    OK, please update your branch, and I will re-run the tests.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101801046","html_url":"https://github.com/apache/storm/pull/525#issuecomment-101801046","issue_url":"https://api.github.com/repos/apache/storm/issues/525","id":101801046,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTgwMTA0Ng==","user":{"login":"et1975","id":623703,"node_id":"MDQ6VXNlcjYyMzcwMw==","avatar_url":"https://avatars.githubusercontent.com/u/623703?v=4","gravatar_id":"","url":"https://api.github.com/users/et1975","html_url":"https://github.com/et1975","followers_url":"https://api.github.com/users/et1975/followers","following_url":"https://api.github.com/users/et1975/following{/other_user}","gists_url":"https://api.github.com/users/et1975/gists{/gist_id}","starred_url":"https://api.github.com/users/et1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/et1975/subscriptions","organizations_url":"https://api.github.com/users/et1975/orgs","repos_url":"https://api.github.com/users/et1975/repos","events_url":"https://api.github.com/users/et1975/events{/privacy}","received_events_url":"https://api.github.com/users/et1975/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T20:12:19Z","updated_at":"2015-05-13T20:12:19Z","author_association":"NONE","body":"+1 for 0.10.0 - need it now! :)\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101801046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612542487","html_url":"https://github.com/apache/storm/issues/4630#issuecomment-2612542487","issue_url":"https://api.github.com/repos/apache/storm/issues/4630","id":2612542487,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDI0ODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T20:12:20Z","updated_at":"2025-01-24T13:33:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user et1975 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/525#issuecomment-101801046\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/525#issuecomment-101801046</a></p>\n\n<p>    +1 for 0.10.0 - need it now! <img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/smile.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612542487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101825293","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101825293","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101825293,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTgyNTI5Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T21:45:09Z","updated_at":"2015-05-13T23:08:38Z","author_association":"CONTRIBUTOR","body":"@d2r \nModified TransferDrainer to re-group messages by destination when send has called.\nI left TransferDrainer.add() cause it plays as buffer, but I'm ready to remove TransferDrainer.add() when we think it's better to have other buffer.\nI've done upmerging, and ran unit tests with no issue.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101825293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534806","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534806","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534806,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4MDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T21:45:11Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101825293\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101825293</a></p>\n\n<p>    @d2r <br/>\n    Modified TransferDrainer to re-group messages by destination when send has called.<br/>\n    I left TransferDrainer.add() cause it plays as buffer, but I'm ready to remove Transfer.add() when we think it's better to have other buffer.<br/>\n    I've done upmerging, and ran unit tests with no issue.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101826046","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101826046","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101826046,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTgyNjA0Ng==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T21:49:21Z","updated_at":"2015-05-13T21:52:56Z","author_association":"CONTRIBUTOR","body":"@clockfly \nI'd like you to have a look since I wish to fix the issue with collaborating your previous optimization.\nThanks in advance!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101826046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534811","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534811","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534811,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4MTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T21:49:23Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101826046\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101826046</a></p>\n\n<p>    @clockfly <br/>\n    I'd like you to have a look since I don't want to destroy your optimization, but just fix the issue.<br/>\n    Thanks in advance!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534817","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534817","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534817,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T22:08:38Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101831525\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101831525</a></p>\n\n<p>    We may be better to revert mk-transfer-fn to 0666c41387fc11c0422b26ab27ebc38c30fe26af as grouping by task can be handled (or doesn't need to be handled) from mk-transfer-tuples-handler.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534823","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534823","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534823,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T22:17:48Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Please ignore this comment. I'll try other approach and talk it later.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/101841901","html_url":"https://github.com/apache/storm/pull/521#issuecomment-101841901","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":101841901,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTg0MTkwMQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T22:58:32Z","updated_at":"2015-05-13T22:59:54Z","author_association":"CONTRIBUTOR","body":"I made another changeset which reverts whole things to 0666c41 (without `try-serialize-local`) but leaves TransferDrainer as buffer and grouper (by host+port).\nhttps://github.com/HeartSaVioR/storm/commit/6ef2f11e9eade772c8ae67a6410d537871739938\n\nIf you think latter is better to move on, I'll post a new PR based on 6ef2f11e9eade772c8ae67a6410d537871739938.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/101841901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534831","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534831","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534831,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4MzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-13T22:58:34Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-101841901\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-101841901</a></p>\n\n<p>    I made another changeset which reverts whole things to 0666c41 (without ```try-serialize-local```) but leaves TransferDrainer as buffer and grouper (by host+port).<br/>\n    <a href=\"https://github.com/HeartSaVioR/storm/commit/6ef2f11e9eade772c8ae67a6410d537871739938\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm/commit/6ef2f11e9eade772c8ae67a6410d537871739938</a></p>\n\n<p>    If we think latter is better to move on, I'll post a new PR based on 6ef2f11e9eade772c8ae67a6410d537871739938.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612531284","html_url":"https://github.com/apache/storm/issues/4551#issuecomment-2612531284","issue_url":"https://api.github.com/repos/apache/storm/issues/4551","id":2612531284,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzEyODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-14T04:27:33Z","updated_at":"2025-01-24T13:27:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user oleg03 opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/553\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/553</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-710\" title=\"bin/storm command list out all the classes in the output for a command\" class=\"issue-link\" data-issue-key=\"STORM-710\"><del>STORM-710</del></a> bin/storm command list out all the classes in the output for a command</p>\n\n<p>    Added -v flag for all bin/storm commands.<br/>\n    Long commands' outputs are removed.<br/>\n    Using -v flag prints traditional long output.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/oleg03/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/oleg03/storm</a> test</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/553.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/553.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #553</p>\n\n<hr />\n<p>commit 963b002cbc57be7292c72bb657a9b5d60f788a04<br/>\nAuthor: oleg03 <oleg.ostashchuk@gmail.com><br/>\nDate:   2015-05-14T04:22:44Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-710\" title=\"bin/storm command list out all the classes in the output for a command\" class=\"issue-link\" data-issue-key=\"STORM-710\"><del>STORM-710</del></a></p>\n\n<p>    Added -v flag for all bin/storm commands.<br/>\n    Long commands' outputs are removed.<br/>\n    Using -v flag prints traditional long output.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612531284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545877","html_url":"https://github.com/apache/storm/issues/4655#issuecomment-2612545877","issue_url":"https://api.github.com/repos/apache/storm/issues/4655","id":2612545877,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDU4Nzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-14T19:49:41Z","updated_at":"2025-01-24T13:34:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajeshkuch\">rajeshkuch</a>:</i>\n<p>I ran the same test with one spout only and here is are the results</p>\n\n<p>Total No of partitions : 8</p>\n\n<p>Test 1:<br/>\nKafka Spout parallelism : 8 <br/>\nLatency : 1.649<br/>\nSpout Pending : 1000</p>\n\n<p>Test2<br/>\nKafka Spout parallelism : 1 <br/>\nLatency : 1.149<br/>\nSpout Pending : 8000</p>\n\n<p>Same test with one spout and one bolt</p>\n\n<p>Test 1:<br/>\nKafka Spout parallelism : 8 <br/>\nLatency : 23 ms<br/>\nSpout Pending : 1000</p>\n\n<p>Test2<br/>\nKafka Spout parallelism : 1 <br/>\nLatency : 1.7 ms<br/>\nSpout Pending : 8000</p>\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612545877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/102474003","html_url":"https://github.com/apache/storm/pull/525#issuecomment-102474003","issue_url":"https://api.github.com/repos/apache/storm/issues/525","id":102474003,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjQ3NDAwMw==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-15T18:06:10Z","updated_at":"2015-05-15T18:06:10Z","author_association":"MEMBER","body":"merged to 0.10.x branch.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/102474003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612542490","html_url":"https://github.com/apache/storm/issues/4630#issuecomment-2612542490","issue_url":"https://api.github.com/repos/apache/storm/issues/4630","id":2612542490,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDI0OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-15T18:06:11Z","updated_at":"2025-01-24T13:33:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/525#issuecomment-102474003\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/525#issuecomment-102474003</a></p>\n\n<p>    merged to 0.10.x branch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612542490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/102503828","html_url":"https://github.com/apache/storm/pull/388#issuecomment-102503828","issue_url":"https://api.github.com/repos/apache/storm/issues/388","id":102503828,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjUwMzgyOA==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-15T19:35:19Z","updated_at":"2015-05-15T19:35:19Z","author_association":"NONE","body":"> @d2r Thanks, and that is another thing - why do we have log link on port number?\n> That does not make any sense at all.The truncated text is where the user expects a error log link on.\n\n@rekhajoshm , sorry, somehow I did not get notified of this post.\n\nThe worker log link on the port number corresponds to the way the worker log link is designed into the Executors table on the Component page.  The two are thus consistent.  But that does not mean it makes more sense than having the link to the worker log somewhere else. You have raised a good point.\n\nIt turns out that this change breaks the red-coloring of errors reported less than 5 minutes in age (since it makes the entire text a blue link), so we need to revert this change for now.\n\nI am -1, since it breaks functionality.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/102503828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612486441","html_url":"https://github.com/apache/storm/issues/4311#issuecomment-2612486441","issue_url":"https://api.github.com/repos/apache/storm/issues/4311","id":2612486441,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0ODY0NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-15T19:35:20Z","updated_at":"2025-01-24T13:04:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/388#issuecomment-102503828\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/388#issuecomment-102503828</a></p>\n\n<p>    > @d2r Thanks, and that is another thing - why do we have log link on port number?<br/>\n    > That does not make any sense at all.The truncated text is where the user expects a error log link on.</p>\n\n<p>    @rekhajoshm , sorry, somehow I did not get notified of this post.</p>\n\n<p>    The worker log link on the port number corresponds to the way the worker log link is designed into the Executors table on the Component page.  The two are thus consistent.  But that does not mean it makes more sense than having the link to the worker log somewhere else. You have raised a good point.</p>\n\n<p>    It turns out that this change breaks the red-coloring of errors reported less than 5 minutes in age (since it makes the entire text a blue link), so we need to revert this change for now.</p>\n\n<p>    I am -1, since it breaks functionality.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612486441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612486448","html_url":"https://github.com/apache/storm/issues/4311#issuecomment-2612486448","issue_url":"https://api.github.com/repos/apache/storm/issues/4311","id":2612486448,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0ODY0NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-15T19:37:42Z","updated_at":"2025-01-24T13:04:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagit\">dagit</a>:</i>\n<p>Had to revert changes with the <a href=\"https://github.com/apache/storm/pull/388\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">pull request</a> as it broke recent-red coloring of the truncated error text.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612486448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612486454","html_url":"https://github.com/apache/storm/issues/4311#issuecomment-2612486454","issue_url":"https://api.github.com/repos/apache/storm/issues/4311","id":2612486454,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0ODY0NTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-15T19:42:09Z","updated_at":"2025-01-24T13:04:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagit\">dagit</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rekhajoshm\" class=\"user-hover\" rel=\"rekhajoshm\">Rekha Joshi</a></p>\n\n<p>What if we did this:<br/>\n1) Remove worker log links from port numbers.<br/>\n2) Add \"Worker Log\" link after the truncated error message on its own line.</p>\n\n<p>This would prevent the redundant link, let the red-coloring still work, and make it clearer how to find the worker log for the error.  What do you think?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612486454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/102558140","html_url":"https://github.com/apache/storm/pull/454#issuecomment-102558140","issue_url":"https://api.github.com/repos/apache/storm/issues/454","id":102558140,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjU1ODE0MA==","user":{"login":"mjtieman","id":2328777,"node_id":"MDQ6VXNlcjIzMjg3Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/2328777?v=4","gravatar_id":"","url":"https://api.github.com/users/mjtieman","html_url":"https://github.com/mjtieman","followers_url":"https://api.github.com/users/mjtieman/followers","following_url":"https://api.github.com/users/mjtieman/following{/other_user}","gists_url":"https://api.github.com/users/mjtieman/gists{/gist_id}","starred_url":"https://api.github.com/users/mjtieman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjtieman/subscriptions","organizations_url":"https://api.github.com/users/mjtieman/orgs","repos_url":"https://api.github.com/users/mjtieman/repos","events_url":"https://api.github.com/users/mjtieman/events{/privacy}","received_events_url":"https://api.github.com/users/mjtieman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-16T01:03:55Z","updated_at":"2015-05-16T01:03:55Z","author_association":"NONE","body":"Again apologies, I have never contributed code to an open source project before. Clearly I did not understand the distinction between a contributor (me) and a committer. Is there a formal way to request a pull request be merged by a committer?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/102558140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/102562254","html_url":"https://github.com/apache/storm/pull/454#issuecomment-102562254","issue_url":"https://api.github.com/repos/apache/storm/issues/454","id":102562254,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjU2MjI1NA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-16T01:49:24Z","updated_at":"2015-05-16T01:49:24Z","author_association":"CONTRIBUTOR","body":"@mjtieman \nNo, you're going the right way.\nYou can refer http://storm.apache.org/documentation/BYLAWS.html to how project works.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/102562254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612486459","html_url":"https://github.com/apache/storm/issues/4311#issuecomment-2612486459","issue_url":"https://api.github.com/repos/apache/storm/issues/4311","id":2612486459,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0ODY0NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-16T14:28:55Z","updated_at":"2025-01-24T13:04:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=longtimer\">longtimer</a>:</i>\n<p>This would work for me as the issue is just knowing where to go to get to the error when you are new to the system.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612486459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534836","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534836","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534836,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4MzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-16T18:20:46Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30463274\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30463274</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -139,12 +139,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []<br/>\n    +    (when (not (.get remoteMap task))<br/>\n    +      (.put remoteMap task (ArrayList.)))<br/>\n    +    (let <span class=\"error\">&#91;remote (.get remoteMap task)&#93;</span><br/>\n   (.add remote (TaskMessage. task (.serialize serializer tuple)))</li>\n\t<li>))))<br/>\n    +    ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    If we leave the code here unchanged, we will not need to re-group by destination later.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534840","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534840","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534840,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4NDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-16T18:22:39Z","updated_at":"2025-01-24T13:29:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30463289\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30463289</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -23,40 +23,62 @@</p>\n\n<p>     import backtype.storm.messaging.IConnection;<br/>\n     import backtype.storm.messaging.TaskMessage;<br/>\n    +import com.google.common.collect.Maps;</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();<br/>\n    +  private HashMap<Integer, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {</li>\n\t<li></li>\n\t<li>ArrayList<ArrayList<TaskMessage>> bundle = bundles.get(key);</li>\n\t<li>if (null == bundle) \n{\n    -bundle = new ArrayList<ArrayList<TaskMessage>>();\n    -bundles.put(key, bundle);\n    -      }</li>\n\t<li></li>\n\t<li>ArrayList tupleSet = workerTupleSetMap.get(key);</li>\n\t<li>if (null != tupleSet && tupleSet.size() > 0) \n{\n    -bundle.add(tupleSet);\n    -      }</li>\n\t<li>}<br/>\n    +  public void add(HashMap<Integer, ArrayList<TaskMessage>> taskTupleSetMap) {<br/>\n    +    for (Integer task : taskTupleSetMap.keySet()) \n{\n    +      addListRefToMap(this.bundles, task, taskTupleSetMap.get(task));\n    +    }\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    This does not need to be public.  It is not necessary to separately add and send.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612546680","html_url":"https://github.com/apache/storm/issues/4661#issuecomment-2612546680","issue_url":"https://api.github.com/repos/apache/storm/issues/4661","id":2612546680,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDY2ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-16T19:12:13Z","updated_at":"2025-01-24T13:35:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user d2r opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/554\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/554</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-820\" title=\"UI Topology & Component Pages have long load times with large, highly-connected Topologies\" class=\"issue-link\" data-issue-key=\"STORM-820\"><del>STORM-820</del></a> Aggregate topo stats on nimbus, not ui</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/d2r/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/d2r/storm</a> storm-820-agg-stats-on-nimbus</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/554.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/554.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #554</p>\n\n<hr />\n<p>commit 3d3c2b7701e351d63b8757155a3e37ec84f497b2<br/>\nAuthor: Derek Dagit <derekd@yahoo-inc.com><br/>\nDate:   2015-05-13T13:35:23Z</p>\n\n<p>    Aggregate topo stats on nimbus, not ui</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612546680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/102667234","html_url":"https://github.com/apache/storm/pull/554#issuecomment-102667234","issue_url":"https://api.github.com/repos/apache/storm/issues/554","id":102667234,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjY2NzIzNA==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-16T19:14:04Z","updated_at":"2015-05-16T19:16:40Z","author_association":"NONE","body":"This pull request requires some more scrutiny because of its size and to make sure it does not break functionality.\n\nGoals for this PR\n- New Nimbus Thrift calls:\n  - getTopologyPageInfo\n  - getComponentPageInfo\n- Nimbus Thrift call getTopologyInfo remains\n- Aggregates metrics on nimbus so that serialized data is much smaller for large, highly-connected topologies\n- Moves ui code to stats namespace\n- Iterates over heartbeats one time.\n- Thrift deserialization code avoids deserializing to symbols, preferring strings, since making a symbol out of a string like \"600\" results in a symbol 600 and not an integer 600.  This can be very confusing to debug, and breaks key comparisons in places.\n- Removes some dead code and does a little refactoring in places.\n\nEDIT to add:\n- Because data is aggregated on nimbus side, visualization is only initialized now when the visualization is activated.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/102667234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612546685","html_url":"https://github.com/apache/storm/issues/4661#issuecomment-2612546685","issue_url":"https://api.github.com/repos/apache/storm/issues/4661","id":2612546685,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDY2ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-16T19:14:05Z","updated_at":"2025-01-24T13:35:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/554#issuecomment-102667234\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/554#issuecomment-102667234</a></p>\n\n<p>    This pull request requires some more scrutiny because of its size and to make sure it does not break functionality.</p>\n\n<p>    Goals for this PR</p>\n\n<ul>\n\t<li>New Nimbus Thrift calls:</li>\n\t<li>getTopologyPageInfo</li>\n\t<li>getComponentPageInfo</li>\n\t<li>Nimbus Thrift call getTopologyInfo remains</li>\n\t<li>Aggregates metrics on nimbus so that serialized data is much smaller for large, highly-connected topologies</li>\n\t<li>Moves ui code to stats namespace</li>\n\t<li>Iterates over heartbeats one time.</li>\n\t<li>Thrift deserialization code avoids deserializing to symbols, preferring strings, since making a symbol out of a string like \"600\" results in a symbol 600 and not an integer 600.  This can be very confusing to debug, and breaks key comparisons in places.</li>\n\t<li>Removes some dead code and does a little refactoring in places.</li>\n</ul>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612546685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534842","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534842","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534842,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-17T03:07:16Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30466949\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30466949</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -139,12 +139,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []<br/>\n    +    (when (not (.get remoteMap task))<br/>\n    +      (.put remoteMap task (ArrayList.)))<br/>\n    +    (let <span class=\"error\">&#91;remote (.get remoteMap task)&#93;</span><br/>\n   (.add remote (TaskMessage. task (.serialize serializer tuple)))</li>\n\t<li>))))<br/>\n    +    ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r <br/>\n    Think about situation like </p>\n\n<ul>\n\t<li>tuples which consist of</li>\n\t<li>3 tuples corresponding to task 1 (worker A) &#8211; (A)</li>\n\t<li>5 tuples corresponding to task 2 (worker A) &#8211; (B)</li>\n\t<li>2 tuples corresponding to task 3 (worker B) &#8211; (C)</li>\n</ul>\n\n\n<p>    We can ensure we send tuples to proper worker since we check task->node+port with read lock.<br/>\n    But if we don't re-group messages by worker, we'll send tuples batched by task, not worker.<br/>\n    It means, though we can send 10 tuples at a moment, we send batched tuples (A), (B) to worker A separately.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534846","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534846","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534846,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4NDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-17T03:09:28Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30466962\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30466962</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -23,40 +23,62 @@</p>\n\n<p>     import backtype.storm.messaging.IConnection;<br/>\n     import backtype.storm.messaging.TaskMessage;<br/>\n    +import com.google.common.collect.Maps;</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();<br/>\n    +  private HashMap<Integer, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {</li>\n\t<li></li>\n\t<li>ArrayList<ArrayList<TaskMessage>> bundle = bundles.get(key);</li>\n\t<li>if (null == bundle) \n{\n    -bundle = new ArrayList<ArrayList<TaskMessage>>();\n    -bundles.put(key, bundle);\n    -      }</li>\n\t<li></li>\n\t<li>ArrayList tupleSet = workerTupleSetMap.get(key);</li>\n\t<li>if (null != tupleSet && tupleSet.size() > 0) \n{\n    -bundle.add(tupleSet);\n    -      }</li>\n\t<li>}<br/>\n    +  public void add(HashMap<Integer, ArrayList<TaskMessage>> taskTupleSetMap) {<br/>\n    +    for (Integer task : taskTupleSetMap.keySet()) \n{\n    +      addListRefToMap(this.bundles, task, taskTupleSetMap.get(task));\n    +    }\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r Please check my previous comment.<br/>\n    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30201415\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30201415</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/102749917","html_url":"https://github.com/apache/storm/pull/521#issuecomment-102749917","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":102749917,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjc0OTkxNw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-17T05:42:35Z","updated_at":"2015-05-17T05:42:35Z","author_association":"CONTRIBUTOR","body":"Nathan's comments for clarifying its real issue completely makes sense.\nBut we should verify what codes we should change while applying.\nIMO it is a critical path for transfer efficiency, so it would be better to have more reviewer for this patch.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/102749917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534850","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534850","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534850,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-17T05:42:37Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-102749917\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-102749917</a></p>\n\n<p>    Nathan's comments for clarifying its real issue completely makes sense.<br/>\n    But we should verify what codes we should change while applying.<br/>\n    IMO it is a critical path for transfer efficiency, so it would be better to have more reviewer for this patch.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534854","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534854","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534854,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4NTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T14:22:15Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30511279\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30511279</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -139,12 +139,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []<br/>\n    +    (when (not (.get remoteMap task))<br/>\n    +      (.put remoteMap task (ArrayList.)))<br/>\n    +    (let <span class=\"error\">&#91;remote (.get remoteMap task)&#93;</span><br/>\n   (.add remote (TaskMessage. task (.serialize serializer tuple)))</li>\n\t<li>))))<br/>\n    +    ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I think we both agree.</p>\n\n<p>    I suggest we do not change L132-137, since it already groups by destination.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534859","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534859","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534859,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T14:42:49Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30513365\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30513365</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -139,12 +139,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []<br/>\n    +    (when (not (.get remoteMap task))<br/>\n    +      (.put remoteMap task (ArrayList.)))<br/>\n    +    (let <span class=\"error\">&#91;remote (.get remoteMap task)&#93;</span><br/>\n   (.add remote (TaskMessage. task (.serialize serializer tuple)))</li>\n\t<li>))))<br/>\n    +    ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r <br/>\n    Accessing task->node+port from these lines is root of this problem since it can be changed during preparing for transfer. So we should change current implementation to not accessing task->node+port.<br/>\n    It should be grouped by destination (node and port) within read lock.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612517302","html_url":"https://github.com/apache/storm/issues/4446#issuecomment-2612517302","issue_url":"https://api.github.com/repos/apache/storm/issues/4446","id":2612517302,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTczMDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T14:49:57Z","updated_at":"2025-01-24T13:20:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phyce\">phyce</a>:</i>\n<p>As far as we can tell, since we upgraded to Storm 0.9.4 we did not reproduce this issue. So maybe it got solved by 0.9.4 as a side effect. Can you guys reproduce once you upgrade to 0.9.4 ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612517302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534864","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534864","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534864,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T16:07:12Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30521681\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30521681</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -139,12 +139,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []<br/>\n    +    (when (not (.get remoteMap task))<br/>\n    +      (.put remoteMap task (ArrayList.)))<br/>\n    +    (let <span class=\"error\">&#91;remote (.get remoteMap task)&#93;</span><br/>\n   (.add remote (TaskMessage. task (.serialize serializer tuple)))</li>\n\t<li>))))<br/>\n    +    ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    > I suggest we do not change L132-137, since it already groups by destination.</p>\n\n<p>    I will follow up again, I think I see what you mean in your other comment.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612547027","html_url":"https://github.com/apache/storm/issues/4662#issuecomment-2612547027","issue_url":"https://api.github.com/repos/apache/storm/issues/4662","id":2612547027,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDcwMjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T17:28:36Z","updated_at":"2025-01-24T13:35:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user Parth-Brahmbhatt opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/556\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/556</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-821\" title=\"storm-jdbc create a connection provider interface to decouple from hikariCP being the only connection pool implementation that can be used.\" class=\"issue-link\" data-issue-key=\"STORM-821\"><del>STORM-821</del></a>: Adding connection provider interface to decouple jdbc conn</p>\n\n<p>    ector from a single connection pooling implementation.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/Parth-Brahmbhatt/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/Parth-Brahmbhatt/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-821\" title=\"storm-jdbc create a connection provider interface to decouple from hikariCP being the only connection pool implementation that can be used.\" class=\"issue-link\" data-issue-key=\"STORM-821\"><del>STORM-821</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/556.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/556.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #556</p>\n\n<hr />\n<p>commit 94e4c2ad471bb5301820b9a36e36d0ba43a12d0f<br/>\nAuthor: Parth Brahmbhatt <brahmbhatt.parth@gmail.com><br/>\nDate:   2015-05-15T23:32:44Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-821\" title=\"storm-jdbc create a connection provider interface to decouple from hikariCP being the only connection pool implementation that can be used.\" class=\"issue-link\" data-issue-key=\"STORM-821\"><del>STORM-821</del></a>: Adding connection provider interface to decouple jdbc connector from a single connection pooling implementation.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612547027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103145088","html_url":"https://github.com/apache/storm/pull/521#issuecomment-103145088","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":103145088,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzE0NTA4OA==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T17:39:54Z","updated_at":"2015-05-18T17:39:54Z","author_association":"NONE","body":"@HeartSaVioR,\n\nI see you are right.  There are two race conditions here:\n1. If we do not check assignments in the read-lock, then we could use an invalid connection. There could be an exception if we lose this race.\n2. If we group by destination node+port when we equeue tuples for sending, we lose the information needed to update the destination node+port when we dequeue for sending, since assignments `task->node+port` can change in the meantime.  If we lose this race, then tuples for which there is a new assignment may be dropped unnecessarily (if we fix 1.) or sent to the wrong worker.\n\n(Formerly, I did not realize 2. was also a regression with 861a92e, so I was looking for a smaller change in this PR.)\n\n> If you think latter is better to move on, I'll post a new PR based on 6ef2f11.\n\nOK, I will take a look at your other branch.\n\n>  IMO it is a critical path for transfer efficiency, so it would be better to have more reviewer for this patch.\n\nI agree. The more, the better.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103145088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534869","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534869","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534869,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T17:39:57Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-103145088\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-103145088</a></p>\n\n<p>    @HeartSaVioR,</p>\n\n<p>    I see you are right.  There are two race conditions here:</p>\n\n<p>    1. If we do not check assignments in the read-lock, then we could use an invalid connection. There could be an exception if we lose this race.</p>\n\n<p>    2. If we group by destination node+port when we equeue tuples for sending, we lose the information needed to update the destination node+port when we dequeue for sending, since assignments `task->node+port` can change in the meantime.  If we lose this race, then tuples for which there is a new assignment may be dropped unnecessarily (if we fix 1.) or sent to the wrong worker.</p>\n\n<p>    (Formerly, I did not realize 2. was also a regression with 861a92e, so I was looking for a smaller change in this PR.)</p>\n\n<p>    > If you think latter is better to move on, I'll post a new PR based on 6ef2f11.</p>\n\n<p>    OK, I will take a look at your other branch.</p>\n\n<p>    >  IMO it is a critical path for transfer efficiency, so it would be better to have more reviewer for this patch.</p>\n\n<p>    I agree. The more, the better.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534874","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534874","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534874,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T19:31:50Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30539591\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30539591</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -23,40 +23,62 @@</p>\n\n<p>     import backtype.storm.messaging.IConnection;<br/>\n     import backtype.storm.messaging.TaskMessage;<br/>\n    +import com.google.common.collect.Maps;</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();<br/>\n    +  private HashMap<Integer, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {</li>\n\t<li></li>\n\t<li>ArrayList<ArrayList<TaskMessage>> bundle = bundles.get(key);</li>\n\t<li>if (null == bundle) \n{\n    -bundle = new ArrayList<ArrayList<TaskMessage>>();\n    -bundles.put(key, bundle);\n    -      }</li>\n\t<li></li>\n\t<li>ArrayList tupleSet = workerTupleSetMap.get(key);</li>\n\t<li>if (null != tupleSet && tupleSet.size() > 0) \n{\n    -bundle.add(tupleSet);\n    -      }</li>\n\t<li>}<br/>\n    +  public void add(HashMap<Integer, ArrayList<TaskMessage>> taskTupleSetMap) \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +    for (Integer task }</span> </div></li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public void send(HashMap<String, IConnection> connections) {</li>\n\t<li>for (String hostPort : bundles.keySet()) {</li>\n\t<li>IConnection connection = connections.get(hostPort);</li>\n\t<li>if (null != connection) {</li>\n\t<li>ArrayList<ArrayList<TaskMessage>> bundle = bundles.get(hostPort);</li>\n\t<li>Iterator<TaskMessage> iter = getBundleIterator(bundle);</li>\n\t<li>if (null != iter && iter.hasNext()) {</li>\n\t<li>connection.send(iter);<br/>\n    +  public void send(HashMap<Integer, String> taskToNode, HashMap<String, IConnection> connections) {<br/>\n    +    HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundleMapByDestination = groupBundleByDestination(taskToNode);<br/>\n    +<br/>\n    +    for (String hostPort : bundleMapByDestination.keySet()) {<br/>\n    +      if (hostPort != null) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Can `hostPort` (the key) be `null` in the map returned by `groupBundleByDestination`?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534878","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534878","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534878,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T19:32:34Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30539645\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30539645</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -23,40 +23,62 @@</p>\n\n<p>     import backtype.storm.messaging.IConnection;<br/>\n     import backtype.storm.messaging.TaskMessage;<br/>\n    +import com.google.common.collect.Maps;</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();<br/>\n    +  private HashMap<Integer, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {</li>\n\t<li></li>\n\t<li>ArrayList<ArrayList<TaskMessage>> bundle = bundles.get(key);</li>\n\t<li>if (null == bundle) \n{\n    -bundle = new ArrayList<ArrayList<TaskMessage>>();\n    -bundles.put(key, bundle);\n    -      }</li>\n\t<li></li>\n\t<li>ArrayList tupleSet = workerTupleSetMap.get(key);</li>\n\t<li>if (null != tupleSet && tupleSet.size() > 0) \n{\n    -bundle.add(tupleSet);\n    -      }</li>\n\t<li>}<br/>\n    +  public void add(HashMap<Integer, ArrayList<TaskMessage>> taskTupleSetMap) \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +    for (Integer task }</span> </div></li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public void send(HashMap<String, IConnection> connections) {</li>\n\t<li>for (String hostPort : bundles.keySet()) {</li>\n\t<li>IConnection connection = connections.get(hostPort);</li>\n\t<li>if (null != connection) {</li>\n\t<li>ArrayList<ArrayList<TaskMessage>> bundle = bundles.get(hostPort);</li>\n\t<li>Iterator<TaskMessage> iter = getBundleIterator(bundle);</li>\n\t<li>if (null != iter && iter.hasNext()) {</li>\n\t<li>connection.send(iter);<br/>\n    +  public void send(HashMap<Integer, String> taskToNode, HashMap<String, IConnection> connections) {<br/>\n    +    HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundleMapByDestination = groupBundleByDestination(taskToNode);<br/>\n    +<br/>\n    +    for (String hostPort : bundleMapByDestination.keySet()) {<br/>\n    +      if (hostPort != null) {<br/>\n    +IConnection connection = connections.get(hostPort);<br/>\n    +if (null != connection) \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +  ArrayList<ArrayList<TaskMessage>> bundle = bundleMapByDestination.get(hostPort);    +  Iterator<TaskMessage> iter = getBundleIterator(bundle);    +  if (null != iter && iter.hasNext()) {\n    +    connection.send(iter);\n    +  }     }</span> </div>\n<p>   }</p></li>\n\t<li>}<br/>\n    +    }<br/>\n       }</li>\n\t<li><p>    +<br/>\n    +  private HashMap<String, ArrayList<ArrayList<TaskMessage>>> groupBundleByDestination(HashMap<Integer, String> taskToNode) {<br/>\n    +    HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundleMap = Maps.newHashMap();<br/>\n    +    for (Integer task : this.bundles.keySet()) {<br/>\n    +      String hostPort = taskToNode.get(task);<br/>\n    +      if (hostPort != null) </p>\n<div class=\"error\"><span class=\"error\">Unknown macro: {    +for (ArrayList<TaskMessage> chunk }</span> </div>\n<p>    +    }<br/>\n    +    return bundleMap;<br/>\n    +  }<br/>\n    +<br/>\n    +  private <T> void addListRefToMap(HashMap<T, ArrayList<ArrayList<TaskMessage>>> bundles,</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    nit: Can we rename `bundles` to something like `bundleMap`, since it is also the name of a member?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534881","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534881","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534881,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4ODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T19:33:19Z","updated_at":"2025-01-24T13:29:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#discussion_r30539714\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#discussion_r30539714</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -129,12 +129,12 @@<br/>\n       (.add local pair) </p>\n\n<p>       ;;Using java objects directly to avoid performance issues in java code</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span></li>\n\t<li>(when (not (.get remoteMap node+port))</li>\n\t<li>(.put remoteMap node+port (ArrayList.)))</li>\n\t<li>(let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +  (let []\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    If we have nothing in the binding form, then we can remove the `let` here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103187844","html_url":"https://github.com/apache/storm/pull/521#issuecomment-103187844","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":103187844,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzE4Nzg0NA==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T19:43:44Z","updated_at":"2015-05-18T19:43:44Z","author_association":"NONE","body":"> I made another changeset which reverts whole things to 0666c41 (without try-serialize-local) but leaves TransferDrainer as buffer and grouper (by host+port).\n> HeartSaVioR@6ef2f11\n> \n> If you think latter is better to move on, I'll post a new PR based on 6ef2f11.\n\nI do prefer the changes on your other branch above those in this pull request because the other branch is cleaner, but it is up to you.  Either way we will want to be careful.\n\nThanks for looking at this.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103187844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534886","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534886","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534886,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T19:43:45Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-103187844\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-103187844</a></p>\n\n<p>    > I made another changeset which reverts whole things to 0666c41 (without try-serialize-local) but leaves TransferDrainer as buffer and grouper (by host+port).<br/>\n    > HeartSaVioR@6ef2f11<br/>\n    > <br/>\n    > If you think latter is better to move on, I'll post a new PR based on 6ef2f11.</p>\n\n<p>    I do prefer the changes on your other branch above those in this pull request because the other branch is cleaner, but it is up to you.  Either way we will want to be careful.</p>\n\n<p>    Thanks for looking at this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534892","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534892","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534892,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T21:12:12Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/557\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/557</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-737\" title=\"Workers may try to send to closed connections\" class=\"issue-link\" data-issue-key=\"STORM-737\"><del>STORM-737</del></a> Check task->node+port with read lock to prevent sending to closed connection</p>\n\n<ul>\n\t<li>we can ensure task->node+port is safe within read lock\n\t<ul>\n\t\t<li>refer write lock inside of mk-refresh-connections</li>\n\t</ul>\n\t</li>\n\t<li>don't group messages from transfer-fn cause we'll match task->node+port later</li>\n\t<li>Let TransferDrainer groups message to node+port by referring task id\n\t<ul>\n\t\t<li>So then we can still enjoy optimization of sending logic</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Actually it's another approach from #521, but this changeset is cleaner so I'd like to move on this PR.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-737\" title=\"Workers may try to send to closed connections\" class=\"issue-link\" data-issue-key=\"STORM-737\"><del>STORM-737</del></a>-2nd-appraoch</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/557.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/557.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #557</p>\n\n<hr />\n<p>commit 6ef2f11e9eade772c8ae67a6410d537871739938<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2015-05-13T22:50:45Z</p>\n\n<p>    While sending tuple, check task->node+port with read lock</p>\n\n<ul>\n\t<li>we can ensure task->node+port is safe within read lock\n\t<ul>\n\t\t<li>refer write lock inside of mk-refresh-connections</li>\n\t</ul>\n\t</li>\n\t<li>don't group messages from transfer-fn cause we'll match task->node+port later</li>\n\t<li>Let TransferDrainer groups message to node+port by referring task id\n\t<ul>\n\t\t<li>So then we can still enjoy optimization of sending logic</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103213278","html_url":"https://github.com/apache/storm/pull/521#issuecomment-103213278","issue_url":"https://api.github.com/repos/apache/storm/issues/521","id":103213278,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzIxMzI3OA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T21:14:45Z","updated_at":"2015-05-18T21:15:27Z","author_association":"CONTRIBUTOR","body":"@d2r Thanks for reviewing!\nI'd like to get 6ef2f11 to pulled in, so I'm closing this PR unless we agree #521 is better than #557, then we can reopen this PR and continue applying your comments. :)\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103213278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534896","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534896","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534896,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4OTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T21:14:46Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521#issuecomment-103213278\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521#issuecomment-103213278</a></p>\n\n<p>    @d2r Thanks for reviewing!<br/>\n    I'd like to get 6ef2f11 to pulled in, so I'm closing this PR unless we agree #521 is better than #557.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534898","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534898","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534898,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ4OTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T21:14:46Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/521\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/521</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534903","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534903","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534903,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ5MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T21:21:48Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/557#discussion_r30548714\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/557#discussion_r30548714</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -26,88 +26,47 @@</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n\t<li></li>\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {</li>\n\t<li></li>\n\t<li>ArrayList<ArrayList<TaskMessage>> bundle = bundles.get(key);</li>\n\t<li>if (null == bundle) \n{\n    -bundle = new ArrayList<ArrayList<TaskMessage>>();\n    -bundles.put(key, bundle);\n    -      }</li>\n\t<li></li>\n\t<li>ArrayList tupleSet = workerTupleSetMap.get(key);</li>\n\t<li>if (null != tupleSet && tupleSet.size() > 0) \n{\n    -bundle.add(tupleSet);\n    -      }</li>\n\t<li>}<br/>\n    +  private ArrayList<TaskMessage> buffer = new ArrayList<TaskMessage>();<br/>\n    +<br/>\n    +  public void addAll(ArrayList<TaskMessage> tuples) {<br/>\n    +    buffer.addAll(tuples);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I know you mentioned this in a comment on the former pull request, but since this is just a list do you want to remove `buffer`, `addAll()`, and `clear()` from this class and instead pass an ArrayList to the `send` method?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534910","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534910","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534910,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ5MTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T21:25:18Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/557#discussion_r30549032\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/557#discussion_r30549032</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -26,88 +26,47 @@</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n\t<li></li>\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {</li>\n\t<li></li>\n\t<li>ArrayList<ArrayList<TaskMessage>> bundle = bundles.get(key);</li>\n\t<li>if (null == bundle) \n{\n    -bundle = new ArrayList<ArrayList<TaskMessage>>();\n    -bundles.put(key, bundle);\n    -      }</li>\n\t<li></li>\n\t<li>ArrayList tupleSet = workerTupleSetMap.get(key);</li>\n\t<li>if (null != tupleSet && tupleSet.size() > 0) \n{\n    -bundle.add(tupleSet);\n    -      }</li>\n\t<li>}<br/>\n    +  private ArrayList<TaskMessage> buffer = new ArrayList<TaskMessage>();<br/>\n    +<br/>\n    +  public void addAll(ArrayList<TaskMessage> tuples) {<br/>\n    +    buffer.addAll(tuples);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r <br/>\n    Anything is fine with me. <br/>\n    We may introduce new buffer to outer side, but if it feels clearer I'll be happy to do it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534913","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534913","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534913,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ5MTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T21:32:15Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/557#discussion_r30549645\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/557#discussion_r30549645</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/TransferDrainer.java &#8212;<br/>\n    @@ -26,88 +26,47 @@</p>\n\n<p>     public class TransferDrainer {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private HashMap<String, ArrayList<ArrayList<TaskMessage>>> bundles = new HashMap();</li>\n\t<li></li>\n\t<li>public void add(HashMap<String, ArrayList<TaskMessage>> workerTupleSetMap) {</li>\n\t<li>for (String key : workerTupleSetMap.keySet()) {</li>\n\t<li></li>\n\t<li>ArrayList<ArrayList<TaskMessage>> bundle = bundles.get(key);</li>\n\t<li>if (null == bundle) \n{\n    -bundle = new ArrayList<ArrayList<TaskMessage>>();\n    -bundles.put(key, bundle);\n    -      }</li>\n\t<li></li>\n\t<li>ArrayList tupleSet = workerTupleSetMap.get(key);</li>\n\t<li>if (null != tupleSet && tupleSet.size() > 0) \n{\n    -bundle.add(tupleSet);\n    -      }</li>\n\t<li>}<br/>\n    +  private ArrayList<TaskMessage> buffer = new ArrayList<TaskMessage>();<br/>\n    +<br/>\n    +  public void addAll(ArrayList<TaskMessage> tuples) {<br/>\n    +    buffer.addAll(tuples);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Yeah, I liked your suggestion of having the new buffer.  Before TransferDrainer was added, the buffer was just an ArrayList anyway.  I do not think it makes sense to have an ArrayList \"inside\" the TransferDrainer, because then we are implementing wrapper methods for `addAll` and `clear` that do not add value.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103227689","html_url":"https://github.com/apache/storm/pull/556#issuecomment-103227689","issue_url":"https://api.github.com/repos/apache/storm/issues/556","id":103227689,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzIyNzY4OQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T22:05:49Z","updated_at":"2015-05-18T22:05:49Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103227689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612547034","html_url":"https://github.com/apache/storm/issues/4662#issuecomment-2612547034","issue_url":"https://api.github.com/repos/apache/storm/issues/4662","id":2612547034,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NDcwMzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T22:05:51Z","updated_at":"2025-01-24T13:35:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/556#issuecomment-103227689\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/556#issuecomment-103227689</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612547034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103230182","html_url":"https://github.com/apache/storm/pull/557#issuecomment-103230182","issue_url":"https://api.github.com/repos/apache/storm/issues/557","id":103230182,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzIzMDE4Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T22:15:28Z","updated_at":"2015-05-18T22:15:28Z","author_association":"CONTRIBUTOR","body":"@d2r Changed to have a buffer outer side of TransferDrainer.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103230182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534922","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534922","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534922,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ5MjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-18T22:15:31Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/557#issuecomment-103230182\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/557#issuecomment-103230182</a></p>\n\n<p>    @d2r Changed to have a buffer outer side of TransferDrainer.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612510917","html_url":"https://github.com/apache/storm/issues/4400#issuecomment-2612510917","issue_url":"https://api.github.com/repos/apache/storm/issues/4400","id":2612510917,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTA5MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T01:36:54Z","updated_at":"2025-01-24T13:17:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rkellogg\">rkellogg</a>:</i>\n<p>Adjusted Fix Version from 0.10.0 to 0.94</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612510917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612510922","html_url":"https://github.com/apache/storm/issues/4400#issuecomment-2612510922","issue_url":"https://api.github.com/repos/apache/storm/issues/4400","id":2612510922,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTA5MjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T01:38:30Z","updated_at":"2025-01-24T13:17:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rkellogg\">rkellogg</a>:</i>\n<p>Confirmed updated port number</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612510922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103352452","html_url":"https://github.com/apache/storm/pull/546#issuecomment-103352452","issue_url":"https://api.github.com/repos/apache/storm/issues/546","id":103352452,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzM1MjQ1Mg==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T06:12:16Z","updated_at":"2015-05-19T06:12:16Z","author_association":"CONTRIBUTOR","body":"+1 looks good to me. Ran examples on local mode and wordcount on storm cluster.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103352452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612511313","html_url":"https://github.com/apache/storm/issues/4402#issuecomment-2612511313","issue_url":"https://api.github.com/repos/apache/storm/issues/4402","id":2612511313,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTEzMTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T06:12:19Z","updated_at":"2025-01-24T13:17:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/546#issuecomment-103352452\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/546#issuecomment-103352452</a></p>\n\n<p>    +1 looks good to me. Ran examples on local mode and wordcount on storm cluster.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612511313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103519540","html_url":"https://github.com/apache/storm/pull/488#issuecomment-103519540","issue_url":"https://api.github.com/repos/apache/storm/issues/488","id":103519540,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzUxOTU0MA==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T14:22:54Z","updated_at":"2015-05-19T14:22:54Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103519540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537013","html_url":"https://github.com/apache/storm/issues/4593#issuecomment-2612537013","issue_url":"https://api.github.com/repos/apache/storm/issues/4593","id":2612537013,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzcwMTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T14:22:56Z","updated_at":"2025-01-24T13:30:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/488#issuecomment-103519540\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/488#issuecomment-103519540</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103575069","html_url":"https://github.com/apache/storm/pull/557#issuecomment-103575069","issue_url":"https://api.github.com/repos/apache/storm/issues/557","id":103575069,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzU3NTA2OQ==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T16:19:53Z","updated_at":"2015-05-19T16:19:53Z","author_association":"NONE","body":"FYI: unit tests passed for me.\nI plan to take a look at performance using [storm-perf-test](https://github.com/yahoo/storm-perf-test)\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103575069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534927","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534927","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534927,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ5Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T16:19:54Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/557#issuecomment-103575069\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/557#issuecomment-103575069</a></p>\n\n<p>    FYI: unit tests passed for me.<br/>\n    I plan to take a look at performance using <span class=\"error\">&#91;storm-perf-test&#93;</span>(<a href=\"https://github.com/yahoo/storm-perf-test\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/yahoo/storm-perf-test</a>)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612559090","html_url":"https://github.com/apache/storm/issues/4667#issuecomment-2612559090","issue_url":"https://api.github.com/repos/apache/storm/issues/4667","id":2612559090,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NTkwOTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T17:49:55Z","updated_at":"2025-01-24T13:41:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=parth.brahmbhatt\">parth.brahmbhatt</a>:</i>\n<p>I think if you hav AutoHDFS configured you do not need to specify keytabs because of this condition <a href=\"https://github.com/apache/storm/blob/master/external/storm-hdfs/src/main/java/org/apache/storm/hdfs/common/security/HdfsSecurityUtil.java#L44\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/external/storm-hdfs/src/main/java/org/apache/storm/hdfs/common/security/HdfsSecurityUtil.java#L44</a></p>\n\n<p>I never had a chance to test AutoTGT but if we can confirm it works as expected this jira is still valid.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612559090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612559095","html_url":"https://github.com/apache/storm/issues/4667#issuecomment-2612559095","issue_url":"https://api.github.com/repos/apache/storm/issues/4667","id":2612559095,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NTkwOTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T20:14:16Z","updated_at":"2025-01-24T13:41:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Sorry I cherry-picked some code and missed the change that added in AutoHDFS support.  Still needs AutoTGT support though.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612559095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612559097","html_url":"https://github.com/apache/storm/issues/4667#issuecomment-2612559097","issue_url":"https://api.github.com/repos/apache/storm/issues/4667","id":2612559097,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NTkwOTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T20:43:51Z","updated_at":"2025-01-24T13:41:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user revans2 opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/558\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/558</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-827\" title=\"storm-hdfs requires you to ship a keytab to access secure HDFS\" class=\"issue-link\" data-issue-key=\"STORM-827\"><del>STORM-827</del></a>: Allow AutoTGT to work with storm-hdfs too.</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/revans2/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/revans2/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-827\" title=\"storm-hdfs requires you to ship a keytab to access secure HDFS\" class=\"issue-link\" data-issue-key=\"STORM-827\"><del>STORM-827</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/558.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/558.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #558</p>\n\n<hr />\n<p>commit 33d7747e0f0df86f5d1c932f8e3e82279de9a23d<br/>\nAuthor: Robert (Bobby) Evans <evans@yahoo-inc.com><br/>\nDate:   2015-05-19T20:42:34Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-827\" title=\"storm-hdfs requires you to ship a keytab to access secure HDFS\" class=\"issue-link\" data-issue-key=\"STORM-827\"><del>STORM-827</del></a>: Allow AutoTGT to work with storm-hdfs too.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612559097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103664043","html_url":"https://github.com/apache/storm/pull/558#issuecomment-103664043","issue_url":"https://api.github.com/repos/apache/storm/issues/558","id":103664043,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzY2NDA0Mw==","user":{"login":"Parth-Brahmbhatt","id":6914358,"node_id":"MDQ6VXNlcjY5MTQzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6914358?v=4","gravatar_id":"","url":"https://api.github.com/users/Parth-Brahmbhatt","html_url":"https://github.com/Parth-Brahmbhatt","followers_url":"https://api.github.com/users/Parth-Brahmbhatt/followers","following_url":"https://api.github.com/users/Parth-Brahmbhatt/following{/other_user}","gists_url":"https://api.github.com/users/Parth-Brahmbhatt/gists{/gist_id}","starred_url":"https://api.github.com/users/Parth-Brahmbhatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Parth-Brahmbhatt/subscriptions","organizations_url":"https://api.github.com/users/Parth-Brahmbhatt/orgs","repos_url":"https://api.github.com/users/Parth-Brahmbhatt/repos","events_url":"https://api.github.com/users/Parth-Brahmbhatt/events{/privacy}","received_events_url":"https://api.github.com/users/Parth-Brahmbhatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T20:49:44Z","updated_at":"2015-05-19T20:49:44Z","author_association":"CONTRIBUTOR","body":"+1. I do not have a secure hdfs setup right now so if you can confirm that you were able to test this with AutoTGT that would be great.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103664043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612559100","html_url":"https://github.com/apache/storm/issues/4667#issuecomment-2612559100","issue_url":"https://api.github.com/repos/apache/storm/issues/4667","id":2612559100,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NTkxMDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T20:49:46Z","updated_at":"2025-01-24T13:41:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/558#issuecomment-103664043\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/558#issuecomment-103664043</a></p>\n\n<p>    +1. I do not have a secure hdfs setup right now so if you can confirm that you were able to test this with AutoTGT that would be great.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612559100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103668907","html_url":"https://github.com/apache/storm/pull/557#issuecomment-103668907","issue_url":"https://api.github.com/repos/apache/storm/issues/557","id":103668907,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzY2ODkwNw==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T21:14:23Z","updated_at":"2015-05-19T21:14:23Z","author_association":"MEMBER","body":"So far I think I'm seeing a performance regression in terms of throughput, but I want to let all the test cases run to be sure. I will have more information tomorrow.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103668907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534929","html_url":"https://github.com/apache/storm/issues/4578#issuecomment-2612534929","issue_url":"https://api.github.com/repos/apache/storm/issues/4578","id":2612534929,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQ5Mjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-19T21:14:24Z","updated_at":"2025-01-24T13:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/557#issuecomment-103668907\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/557#issuecomment-103668907</a></p>\n\n<p>    So far I think I'm seeing a performance regression in terms of throughput, but I want to let all the test cases run to be sure. I will have more information tomorrow.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534089","html_url":"https://github.com/apache/storm/issues/4573#issuecomment-2612534089","issue_url":"https://api.github.com/repos/apache/storm/issues/4573","id":2612534089,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MzQwODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-20T02:36:07Z","updated_at":"2025-01-24T13:29:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhuoliu\">zhuoliu</a>:</i>\n<p>This issue is interesting to me. <sup>-</sup> <br/>\nIs there anyone else now working on it?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612534089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/103777141","html_url":"https://github.com/apache/storm/pull/557#issuecomment-103777141","issue_url":"https://api.github.com/repos/apache/storm/issues/557","id":103777141,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzc3NzE0MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-20T06:21:05Z","updated_at":"2015-05-20T06:21:05Z","author_association":"CONTRIBUTOR","body":"I'm also seeing a performance regression. IMO resolving issue could introduce performance drop slightly, but shouldn't too much.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/103777141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]