[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864758608","html_url":"https://github.com/apache/iceberg/pull/2711#issuecomment-864758608","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2711","id":864758608,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDc1ODYwOA==","user":{"login":"uncleGen","id":7402327,"node_id":"MDQ6VXNlcjc0MDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/7402327?v=4","gravatar_id":"","url":"https://api.github.com/users/uncleGen","html_url":"https://github.com/uncleGen","followers_url":"https://api.github.com/users/uncleGen/followers","following_url":"https://api.github.com/users/uncleGen/following{/other_user}","gists_url":"https://api.github.com/users/uncleGen/gists{/gist_id}","starred_url":"https://api.github.com/users/uncleGen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uncleGen/subscriptions","organizations_url":"https://api.github.com/users/uncleGen/orgs","repos_url":"https://api.github.com/users/uncleGen/repos","events_url":"https://api.github.com/users/uncleGen/events{/privacy}","received_events_url":"https://api.github.com/users/uncleGen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T06:15:38Z","updated_at":"2021-06-21T09:48:34Z","author_association":"CONTRIBUTOR","body":"ut failure pending on #2717","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864758608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864914887","html_url":"https://github.com/apache/iceberg/issues/2607#issuecomment-864914887","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2607","id":864914887,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDkxNDg4Nw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T10:16:35Z","updated_at":"2021-06-21T10:16:35Z","author_association":"CONTRIBUTOR","body":"@rdblue: The specific examples above are for HiveConf configuration values and they have nothing to do with `hadoop` from the user point of view. Also there are plenty of other configuration values which might be good to set for a catalogs, so I think it would be good to find a general solution. Also we try to keep the same syntax for spark/hive/impala so the users could move seamlessly between the systems.\r\n\r\nI think the best solution would be to have a general `override.*` prefix for all of the catalog configurations.\r\n\r\nWhat do you think?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864914887/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864935319","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-864935319","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":864935319,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDkzNTMxOQ==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T10:51:01Z","updated_at":"2021-06-21T10:51:01Z","author_association":"COLLABORATOR","body":"I haven't reviewed the code yet, but the syntax seems to differ from Spark SQL and the new syntax we've recently introduced in upstream Hive.\r\nHere: `bucket(id, 16)`\r\nSpark SQL/Upstream Hive/Impala: `bucket(16, id)` (https://iceberg.apache.org/spark/#create-table)\r\nCan we synchronize the syntax in the his PR as well to follow the same pattern?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864935319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864952792","html_url":"https://github.com/apache/iceberg/issues/2686#issuecomment-864952792","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2686","id":864952792,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDk1Mjc5Mg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T11:19:00Z","updated_at":"2021-06-21T11:19:00Z","author_association":"CONTRIBUTOR","body":"Thanks for the info @aimenglin  and @jhsenjaliya! Hope this will help the next users facing the issue.\r\n\r\nI will close this issue as we have a solution.\r\n\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864952792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864959110","html_url":"https://github.com/apache/iceberg/pull/2691#issuecomment-864959110","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2691","id":864959110,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDk1OTExMA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T11:29:30Z","updated_at":"2021-06-21T11:29:30Z","author_association":"CONTRIBUTOR","body":"Since every test passed and got +1 from @rdblue, merged the change.\r\n\r\nThanks for the fix @vinson0526 and @rdblue, @marton-bod for the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864959110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864968453","html_url":"https://github.com/apache/iceberg/pull/2711#issuecomment-864968453","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2711","id":864968453,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDk2ODQ1Mw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T11:46:25Z","updated_at":"2021-06-21T11:46:25Z","author_association":"CONTRIBUTOR","body":"@uncleGen: Which version of Hive, Iceberg are you using?\r\nWe have not tested on Hive on Spark, but have seen similar problem in Hive on Tez, where the schema projection properties were not propagated. \r\n\r\nYou can check #2171, #2601 for more details. Hive on Tez issue should be fixed by TEZ-4248.\r\n\r\nCC: @marton-bod\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864968453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864976080","html_url":"https://github.com/apache/iceberg/issues/2687#issuecomment-864976080","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2687","id":864976080,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDk3NjA4MA==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T12:00:53Z","updated_at":"2021-06-21T12:00:53Z","author_association":"COLLABORATOR","body":"I'm closing this issue. Thanks for reaching out. Feel free to post questions though, if any.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864976080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864977719","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-864977719","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":864977719,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDk3NzcxOQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T12:03:16Z","updated_at":"2021-06-21T12:03:16Z","author_association":"CONTRIBUTOR","body":"@jackye1995: How are we handling these temporary workarounds in Iceberg? Where do we notify the users that this might not be supported in newer versions?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864977719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864995427","html_url":"https://github.com/apache/iceberg/pull/2711#issuecomment-864995427","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2711","id":864995427,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDk5NTQyNw==","user":{"login":"uncleGen","id":7402327,"node_id":"MDQ6VXNlcjc0MDIzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/7402327?v=4","gravatar_id":"","url":"https://api.github.com/users/uncleGen","html_url":"https://github.com/uncleGen","followers_url":"https://api.github.com/users/uncleGen/followers","following_url":"https://api.github.com/users/uncleGen/following{/other_user}","gists_url":"https://api.github.com/users/uncleGen/gists{/gist_id}","starred_url":"https://api.github.com/users/uncleGen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uncleGen/subscriptions","organizations_url":"https://api.github.com/users/uncleGen/orgs","repos_url":"https://api.github.com/users/uncleGen/repos","events_url":"https://api.github.com/users/uncleGen/events{/privacy}","received_events_url":"https://api.github.com/users/uncleGen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T12:31:38Z","updated_at":"2021-06-21T13:48:42Z","author_association":"CONTRIBUTOR","body":"@pvary I find and test this bug upon Iceberg master branch and Tez-0.9.2, so it should contain #2171.  I will check `TEZ-4248` whether can fix this problem or not. Besides, this bug is found both on Hive on Tez and Hive on Spark. By the way, should we concern fixing this bug when using tez-0.9.2 or lower if this commit make sense to you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/864995427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865084920","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-865084920","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":865084920,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTA4NDkyMA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T14:36:48Z","updated_at":"2021-06-21T14:36:48Z","author_association":"MEMBER","body":"@sshkvar Sorry i was on vacation, feel free to just make a pull request against OSS Iceberg\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865084920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865104265","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-865104265","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":865104265,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTEwNDI2NQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T14:59:55Z","updated_at":"2021-06-21T14:59:55Z","author_association":"MEMBER","body":"Added review on other Pull request, Ping me when there is a new copy against Apache/Iceberg @sshkvar ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865104265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865180452","html_url":"https://github.com/apache/iceberg/issues/1468#issuecomment-865180452","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1468","id":865180452,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTE4MDQ1Mg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T16:34:29Z","updated_at":"2021-06-21T16:34:29Z","author_association":"CONTRIBUTOR","body":"For anyone new to this issue, I think we have summarized all information in https://iceberg.apache.org/aws/, and we can close this issue. @Lindayangyy ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865180452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865237285","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-865237285","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":865237285,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTIzNzI4NQ==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T18:04:43Z","updated_at":"2021-06-21T18:04:43Z","author_association":"CONTRIBUTOR","body":"> @jackye1995: How are we handling these temporary workarounds in Iceberg? Where do we notify the users that this might not be supported in newer versions?\r\n> \r\n> Thanks,\r\n> Peter\r\n\r\nI wonder on Hive side, which Hive versions will https://github.com/apache/hive/pull/2333 be merged into? If it's only going to be merged in the latest version (Hive 3.0/4.0?) is it possible to permanently support the syntax raised in this PR in older Hive versions, and in latest versions we reject this table property and only accept them in the proper `partitioned by` format? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865237285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865289346","html_url":"https://github.com/apache/iceberg/pull/2719#issuecomment-865289346","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2719","id":865289346,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTI4OTM0Ng==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T19:30:06Z","updated_at":"2021-06-21T19:30:06Z","author_association":"CONTRIBUTOR","body":"This was working last Friday, but now when I try it in my repo, it seems to be updating the ignored folder but not removing it from search\r\n\r\nI'll keep looking but when it did work it greatly decreased indexing time when switching branches. One can manually comment out the folder but having it automatic would be nice.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865289346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865310643","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-865310643","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":865310643,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTMxMDY0Mw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T20:08:02Z","updated_at":"2021-06-21T20:08:02Z","author_association":"CONTRIBUTOR","body":"> I haven't reviewed the code yet, but the syntax seems to differ from Spark SQL and the new syntax we've recently introduced in upstream Hive\r\n\r\nwill fix, thanks for noticing this!\r\n\r\n> How are we handling these temporary workarounds in Iceberg\r\n\r\nGood question, I am considering adding a warning log with a reference to the latest syntax and hive version. Any other thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865310643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865317271","html_url":"https://github.com/apache/iceberg/pull/2608#issuecomment-865317271","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2608","id":865317271,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTMxNzI3MQ==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T20:18:02Z","updated_at":"2021-06-21T21:12:52Z","author_association":"COLLABORATOR","body":"As per the discussion that it deserves to be its own action rather than part of RewriteManifests, completely rewrote RepairManifests to be a separate spark action (BaseRepairManifestsSparkAction), and removed the base logic between it and BaseRewriteManifestAction to base class: BaseManifestSparkAction.\r\n\r\nSummary, it distributes the repair, first grouping all entries by ManifestFile, calculating what needs to be repaired for each entry by reading various aspects of the dataFile pointed to by the entry, and writing all the entries back out if any needed repair (the manifest file still retains same number of entries).\r\n\r\nNot all logic can be shared.  In Repair path, the specId is queried from the original manifest-file , and kept around to write the repaired manifest file (vs passed in).\r\n\r\nThere is also a problem I noticed, the returned ManifestFiles of RewriteManifests action is wrong if \"snapshotIdInheritanceEnabled\" is false (as this path rewrites the manifest-file to a final location).  So fixed the method while extracting it from BaseRewriteManifestsSparkAction to the new base.  (A subsequent change can fix this issue and add a test in RewriteManifests).\r\n\r\n@rdblue @aokolnychyi @flyrain @RussellSpitzer  if you guys have time  for another look","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865317271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865340811","html_url":"https://github.com/apache/iceberg/pull/2712#issuecomment-865340811","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2712","id":865340811,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTM0MDgxMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T21:01:31Z","updated_at":"2021-06-21T21:01:31Z","author_association":"CONTRIBUTOR","body":"The changes look good to me, but I'm curious why some of the suppressions are still needed after changing to use `CharSequenceSet` instead of `Set<CharSequence>`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865340811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865346058","html_url":"https://github.com/apache/iceberg/pull/2713#issuecomment-865346058","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2713","id":865346058,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTM0NjA1OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T21:09:57Z","updated_at":"2021-06-21T21:09:57Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865346058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865355043","html_url":"https://github.com/apache/iceberg/pull/2358#issuecomment-865355043","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2358","id":865355043,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTM1NTA0Mw==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T21:24:09Z","updated_at":"2021-06-21T21:24:09Z","author_association":"COLLABORATOR","body":"Hi @rdblue , if you have time to see if the last change is clearer (appending \"partition.\" to the table's partition spec to match the filter).  Also @RussellSpitzer  if you had time to also take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865355043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865367950","html_url":"https://github.com/apache/iceberg/pull/1870#issuecomment-865367950","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1870","id":865367950,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTM2Nzk1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T21:50:08Z","updated_at":"2021-06-21T21:50:08Z","author_association":"CONTRIBUTOR","body":"Thanks, @ismailsimsek for working on this! I just merged it.\r\n\r\nAnd thanks to @jackye1995, @kbendick, and @massdosage for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865367950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865375054","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-865375054","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":865375054,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTM3NTA1NA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T22:05:08Z","updated_at":"2021-06-21T22:05:08Z","author_association":"CONTRIBUTOR","body":"> I wonder on Hive side, which Hive versions will [apache/hive#2333](https://github.com/apache/hive/pull/2333) be merged into? If it's only going to be merged in the latest version (Hive 3.0/4.0?) is it possible to permanently support the syntax raised in this PR in older Hive versions, and in latest versions we reject this table property and only accept them in the proper `partitioned by` format?\r\n\r\nIn Hive we usually try to keep the feature set stable for old releases and add new features only into the new releases. So my first answer is that Hive 4.0 and onwards will include [https://issues.apache.org/jira/browse/HIVE-25179](HIVE-25179)/[apache/hive#2333](https://github.com/apache/hive/pull/2333), but none of the 2.x, 3.x will get it.\r\n\r\nMy main concern is that we create a feature which become widely used and then we can not remove it for the `standard` solution later. Having a warning message would definitely help, so the users will be notified that this is only a temporary solution  ðŸ˜„\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865375054/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865400734","html_url":"https://github.com/apache/iceberg/pull/2358#issuecomment-865400734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2358","id":865400734,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQwMDczNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T23:05:45Z","updated_at":"2021-06-21T23:05:45Z","author_association":"CONTRIBUTOR","body":"@szehon-ho, I opened PR https://github.com/szehon-ho/iceberg/pull/1 with a few minor updates. That implements a couple fixes to the approach you use here and the tests are passing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865400734/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865496638","html_url":"https://github.com/apache/iceberg/pull/2512#issuecomment-865496638","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2512","id":865496638,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQ5NjYzOA==","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T03:18:07Z","updated_at":"2021-06-22T03:18:07Z","author_association":"CONTRIBUTOR","body":"I rebased on master and resolved the conflicts. CI is green.\r\n@RussellSpitzer @rdblue can you help move this forward?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865496638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865502777","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-865502777","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":865502777,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTUwMjc3Nw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T03:37:42Z","updated_at":"2021-06-22T03:37:42Z","author_association":"CONTRIBUTOR","body":"@pvary warning added, and @marton-bod arg order fixed, it should be ready for anther review.\r\n\r\n@yyanyy I thought about the exceptions, and I decided to\r\n1. removed the column checks in 1 arg and 2 arg transforms\r\n2. use illegal argument exception for all exceptions thrown in the parser, so they all throw a single type of exception\r\n3. keep the column name check for the last identity transform case just to provide a more informative message","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865502777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865507113","html_url":"https://github.com/apache/iceberg/pull/2358#issuecomment-865507113","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2358","id":865507113,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTUwNzExMw==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T03:53:16Z","updated_at":"2021-06-22T03:53:16Z","author_association":"COLLABORATOR","body":"@rdblue thanks a lot for spending time on this and the guidance, it is definitely a bit hard to wrap my head around the interaction between the pruning, Projection, and Partition transform.  \r\n\r\nI went over your suggested changes and it looks good.  So to recap for my benefit, the key is having the PartitionSpec used in the Partition Filter actually be a transform that removes 'partition.' , allowing us to use it in Pruning with the underlying table's prefix-less PartitionSpec (instead of adding the 'partition' prefix to that as I was trying to do).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865507113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865616632","html_url":"https://github.com/apache/iceberg/pull/2658#issuecomment-865616632","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2658","id":865616632,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTYxNjYzMg==","user":{"login":"anuragmantri","id":13743212,"node_id":"MDQ6VXNlcjEzNzQzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/13743212?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragmantri","html_url":"https://github.com/anuragmantri","followers_url":"https://api.github.com/users/anuragmantri/followers","following_url":"https://api.github.com/users/anuragmantri/following{/other_user}","gists_url":"https://api.github.com/users/anuragmantri/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragmantri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragmantri/subscriptions","organizations_url":"https://api.github.com/users/anuragmantri/orgs","repos_url":"https://api.github.com/users/anuragmantri/repos","events_url":"https://api.github.com/users/anuragmantri/events{/privacy}","received_events_url":"https://api.github.com/users/anuragmantri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T05:49:45Z","updated_at":"2021-06-22T05:49:45Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @pvary :)\r\n\r\n> Would it be possible to hide the whole stuff inside a LocationProvider? It could be a base implementation for all of the LocationProviders, and would be a natural place in my opinion. We can avoid changing the public APIs if we provide a default implementation.\r\n\r\n- In this change, we only want to replace the references of paths in the content of `metadata` files. We do not wish to change where data/metadata is actually written. My understanding of `LocationProviders` is that they are used to get locations to write the data files and hence for this change, we don't want to change any LocationProvider implementation. \r\n\r\n> If there is any way to split this PR to smaller, more reviewer friendly ones that would be a big help for us, reviewers.\r\n\r\n- I tried to keep this change small initially. Specifically, in this PR, I tried to just introduce the new property and modify the read and write paths to use table property to do the necessary changes. Property is turned off my default. Yet, this turned out to be huge :) There will be several follow-up PRs such has handling metadata tables and writing unit tests. I will be happy to split this further if you think we can logically do so. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865616632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865648354","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-865648354","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":865648354,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY0ODM1NA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T06:53:57Z","updated_at":"2021-06-22T06:53:57Z","author_association":"CONTRIBUTOR","body":"restart flaky tests","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865648354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865666167","html_url":"https://github.com/apache/iceberg/pull/1870#issuecomment-865666167","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1870","id":865666167,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY2NjE2Nw==","user":{"login":"ismailsimsek","id":6005685,"node_id":"MDQ6VXNlcjYwMDU2ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6005685?v=4","gravatar_id":"","url":"https://api.github.com/users/ismailsimsek","html_url":"https://github.com/ismailsimsek","followers_url":"https://api.github.com/users/ismailsimsek/followers","following_url":"https://api.github.com/users/ismailsimsek/following{/other_user}","gists_url":"https://api.github.com/users/ismailsimsek/gists{/gist_id}","starred_url":"https://api.github.com/users/ismailsimsek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ismailsimsek/subscriptions","organizations_url":"https://api.github.com/users/ismailsimsek/orgs","repos_url":"https://api.github.com/users/ismailsimsek/repos","events_url":"https://api.github.com/users/ismailsimsek/events{/privacy}","received_events_url":"https://api.github.com/users/ismailsimsek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T07:22:35Z","updated_at":"2021-06-22T07:22:35Z","author_association":"CONTRIBUTOR","body":"Thanks all for the reviews","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865666167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865685894","html_url":"https://github.com/apache/iceberg/issues/1488#issuecomment-865685894","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1488","id":865685894,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY4NTg5NA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T07:53:12Z","updated_at":"2021-06-22T07:53:12Z","author_association":"COLLABORATOR","body":"It doesn't happen recently. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865685894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865699352","html_url":"https://github.com/apache/iceberg/pull/2560#issuecomment-865699352","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2560","id":865699352,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY5OTM1Mg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T08:12:43Z","updated_at":"2021-06-22T08:12:43Z","author_association":"CONTRIBUTOR","body":"@rdblue sorry I was stuck with some internal work and did not get time to update this. the latest code addressed most of the comments.\r\n\r\nI have been thinking about the syntax over the last few days, I think I was very biased with the Hive DDL syntax, but as you pointed out, if we prefer the other way, it might be better to instead use a syntax like:\r\n\r\n```sql\r\nALTER TABLE table WRITE IDENTIFIED BY first_name,last_name;\r\n```\r\n\r\nAnd we don't support any other syntax like add and drop.\r\n\r\nThis avoids the confusion and it should be clear that we are replacing all the identifier fields. It is closer to the existing syntax of sort order, plus it does not need parentheses. What do you think?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865699352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865754476","html_url":"https://github.com/apache/iceberg/pull/2688#issuecomment-865754476","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2688","id":865754476,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTc1NDQ3Ng==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T08:48:55Z","updated_at":"2021-06-22T08:48:55Z","author_association":"CONTRIBUTOR","body":"@danielcweeks thank you, updated!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865754476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865955604","html_url":"https://github.com/apache/iceberg/pull/2629#issuecomment-865955604","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2629","id":865955604,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTk1NTYwNA==","user":{"login":"mbalassi","id":5990983,"node_id":"MDQ6VXNlcjU5OTA5ODM=","avatar_url":"https://avatars.githubusercontent.com/u/5990983?v=4","gravatar_id":"","url":"https://api.github.com/users/mbalassi","html_url":"https://github.com/mbalassi","followers_url":"https://api.github.com/users/mbalassi/followers","following_url":"https://api.github.com/users/mbalassi/following{/other_user}","gists_url":"https://api.github.com/users/mbalassi/gists{/gist_id}","starred_url":"https://api.github.com/users/mbalassi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbalassi/subscriptions","organizations_url":"https://api.github.com/users/mbalassi/orgs","repos_url":"https://api.github.com/users/mbalassi/repos","events_url":"https://api.github.com/users/mbalassi/events{/privacy}","received_events_url":"https://api.github.com/users/mbalassi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T12:51:40Z","updated_at":"2021-06-22T12:51:40Z","author_association":"NONE","body":"Are these changes backwards compatible with Flink 1.12 too or does it strictly require 1.13?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/865955604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866107409","html_url":"https://github.com/apache/iceberg/pull/2617#issuecomment-866107409","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2617","id":866107409,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjEwNzQwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T15:50:17Z","updated_at":"2021-06-22T15:50:17Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks @kbendick for fixing this. And thanks to @RussellSpitzer for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866107409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866107571","html_url":"https://github.com/apache/iceberg/pull/2617#issuecomment-866107571","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2617","id":866107571,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjEwNzU3MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T15:50:27Z","updated_at":"2021-06-22T15:50:27Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks @kbendick for fixing this. And thanks to @RussellSpitzer for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866107571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866151789","html_url":"https://github.com/apache/iceberg/pull/2712#issuecomment-866151789","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2712","id":866151789,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjE1MTc4OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T16:42:34Z","updated_at":"2021-06-22T16:42:34Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866151789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866194097","html_url":"https://github.com/apache/iceberg/pull/2658#issuecomment-866194097","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2658","id":866194097,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjE5NDA5Nw==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T17:40:59Z","updated_at":"2021-06-22T17:41:12Z","author_association":"CONTRIBUTOR","body":"Hi @aokolnychyi, @rdblue, can you take a look at this PR? Data replication is a pretty common request for any serious Iceberg user. Let's see how can we move forward with https://github.com/apache/iceberg/issues/1617. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866194097/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866268404","html_url":"https://github.com/apache/iceberg/pull/2678#issuecomment-866268404","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2678","id":866268404,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI2ODQwNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T19:24:03Z","updated_at":"2021-06-22T19:24:03Z","author_association":"CONTRIBUTOR","body":"@jackye1995, I left a couple of comments. The main blocker is that this widens the check for `HadoopFileIO` and I don't think that is correct. We can change it later if we want to change how locality works.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866268404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866275467","html_url":"https://github.com/apache/iceberg/pull/2560#issuecomment-866275467","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2560","id":866275467,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI3NTQ2Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T19:34:39Z","updated_at":"2021-06-22T19:34:39Z","author_association":"CONTRIBUTOR","body":"@jackye1995, sorry, I didn't read your last comment before looking at the updates. I approved and merged this.\r\n\r\nI like your idea to change this to `WRITE IDENTIFIED BY`. I'd like to hear what @aokolnychyi thinks about it. I'm happy with the current syntax as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866275467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866282812","html_url":"https://github.com/apache/iceberg/pull/2358#issuecomment-866282812","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2358","id":866282812,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI4MjgxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T19:45:59Z","updated_at":"2021-06-22T19:45:59Z","author_association":"CONTRIBUTOR","body":"> So to recap for my benefit, the key is having the PartitionSpec used in the Partition Filter actually be a transform that removes 'partition.' , allowing us to use it in Pruning with the underlying table's prefix-less PartitionSpec (instead of adding the 'partition' prefix to that as I was trying to do).\r\n\r\nYeah, instead of your original idea to create a projection that rewrites how we want, we're creating a partition spec so that the existing projections will make the changes: rewriting the field names and removing non-partition fields. Then we can pass the predicate directly to `ManifestGroup`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866282812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866283555","html_url":"https://github.com/apache/iceberg/pull/2560#issuecomment-866283555","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2560","id":866283555,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI4MzU1NQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T19:47:13Z","updated_at":"2021-06-22T19:47:13Z","author_association":"CONTRIBUTOR","body":"Okay let me create an issue to discuss that","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866283555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866286830","html_url":"https://github.com/apache/iceberg/issues/2724#issuecomment-866286830","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2724","id":866286830,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI4NjgzMA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T19:52:48Z","updated_at":"2021-06-22T19:52:48Z","author_association":"CONTRIBUTOR","body":"Also @yyanyy @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866286830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866298066","html_url":"https://github.com/apache/iceberg/pull/2721#issuecomment-866298066","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2721","id":866298066,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI5ODA2Ng==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T20:08:43Z","updated_at":"2021-06-22T20:08:43Z","author_association":"CONTRIBUTOR","body":"Thank you for making the change! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866298066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866303572","html_url":"https://github.com/apache/iceberg/pull/2358#issuecomment-866303572","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2358","id":866303572,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjMwMzU3Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T20:16:56Z","updated_at":"2021-06-22T20:16:56Z","author_association":"CONTRIBUTOR","body":"Thanks, @szehon-ho! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866303572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866353447","html_url":"https://github.com/apache/iceberg/pull/2358#issuecomment-866353447","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2358","id":866353447,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjM1MzQ0Nw==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T21:40:40Z","updated_at":"2021-06-22T21:40:40Z","author_association":"COLLABORATOR","body":"Thanks again @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866353447/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866356064","html_url":"https://github.com/apache/iceberg/pull/2678#issuecomment-866356064","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2678","id":866356064,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjM1NjA2NA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T21:42:35Z","updated_at":"2021-06-22T21:42:35Z","author_association":"CONTRIBUTOR","body":"@rdblue okay I understand the concern, let's address the locality read in another PR, I have reverted the change there.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866356064/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866387858","html_url":"https://github.com/apache/iceberg/issues/2700#issuecomment-866387858","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2700","id":866387858,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjM4Nzg1OA==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T22:50:52Z","updated_at":"2021-06-22T22:50:52Z","author_association":"CONTRIBUTOR","body":"I believe the second page needs to be updated. cc @rdblue @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866387858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866406346","html_url":"https://github.com/apache/iceberg/pull/2639#issuecomment-866406346","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2639","id":866406346,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQwNjM0Ng==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T23:37:16Z","updated_at":"2021-06-22T23:37:16Z","author_association":"CONTRIBUTOR","body":"Hi @ggershinsky , can you rebase this PR to have #2441? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866406346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866425829","html_url":"https://github.com/apache/iceberg/pull/2678#issuecomment-866425829","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2678","id":866425829,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQyNTgyOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T00:26:00Z","updated_at":"2021-06-23T00:26:00Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995! I merged this. And thanks to @kbendick for also reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866425829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866427375","html_url":"https://github.com/apache/iceberg/pull/2622#issuecomment-866427375","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2622","id":866427375,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQyNzM3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T00:28:16Z","updated_at":"2021-06-23T00:28:16Z","author_association":"CONTRIBUTOR","body":"The updated version looks great!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866427375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866429994","html_url":"https://github.com/apache/iceberg/pull/2722#issuecomment-866429994","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2722","id":866429994,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQyOTk5NA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T00:34:12Z","updated_at":"2021-06-23T00:34:12Z","author_association":"CONTRIBUTOR","body":"Hi @hankfanchiu, thank you for your contribution.\r\n\r\nDo you know if this will be supported by older versions of HMS?\r\n\r\nThat's a vague statement, but if you know when this feature was added (if not always supported) to HMS, that would be good to add here. I'm not sure how far back in terms of supporting HMS versions we go but probably farther than developers would like. ðŸ˜‰ ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866429994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866470330","html_url":"https://github.com/apache/iceberg/issues/2700#issuecomment-866470330","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2700","id":866470330,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQ3MDMzMA==","user":{"login":"zorrofox","id":1528417,"node_id":"MDQ6VXNlcjE1Mjg0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1528417?v=4","gravatar_id":"","url":"https://api.github.com/users/zorrofox","html_url":"https://github.com/zorrofox","followers_url":"https://api.github.com/users/zorrofox/followers","following_url":"https://api.github.com/users/zorrofox/following{/other_user}","gists_url":"https://api.github.com/users/zorrofox/gists{/gist_id}","starred_url":"https://api.github.com/users/zorrofox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zorrofox/subscriptions","organizations_url":"https://api.github.com/users/zorrofox/orgs","repos_url":"https://api.github.com/users/zorrofox/repos","events_url":"https://api.github.com/users/zorrofox/events{/privacy}","received_events_url":"https://api.github.com/users/zorrofox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T02:21:17Z","updated_at":"2021-06-23T02:21:17Z","author_association":"NONE","body":"@flyrain You are right, I have successfully run the Catalog in Spark 2.4.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866470330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866472284","html_url":"https://github.com/apache/iceberg/issues/1698#issuecomment-866472284","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1698","id":866472284,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQ3MjI4NA==","user":{"login":"coolderli","id":38486782,"node_id":"MDQ6VXNlcjM4NDg2Nzgy","avatar_url":"https://avatars.githubusercontent.com/u/38486782?v=4","gravatar_id":"","url":"https://api.github.com/users/coolderli","html_url":"https://github.com/coolderli","followers_url":"https://api.github.com/users/coolderli/followers","following_url":"https://api.github.com/users/coolderli/following{/other_user}","gists_url":"https://api.github.com/users/coolderli/gists{/gist_id}","starred_url":"https://api.github.com/users/coolderli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coolderli/subscriptions","organizations_url":"https://api.github.com/users/coolderli/orgs","repos_url":"https://api.github.com/users/coolderli/repos","events_url":"https://api.github.com/users/coolderli/events{/privacy}","received_events_url":"https://api.github.com/users/coolderli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T02:26:40Z","updated_at":"2021-06-23T02:26:40Z","author_association":"CONTRIBUTOR","body":"@stevenzwu @openinx Is there a patch to fix this problem ï¼Ÿ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866472284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866473189","html_url":"https://github.com/apache/iceberg/pull/2666#issuecomment-866473189","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2666","id":866473189,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQ3MzE4OQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T02:29:14Z","updated_at":"2021-06-23T02:29:14Z","author_association":"MEMBER","body":"@rdblue , @stevenzwu   do you have another other concerns for this PR ?  I think this is a very important issue for flink users because it's more in line with the usage habits of flink users.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866473189/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866486058","html_url":"https://github.com/apache/iceberg/issues/2632#issuecomment-866486058","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2632","id":866486058,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQ4NjA1OA==","user":{"login":"coolderli","id":38486782,"node_id":"MDQ6VXNlcjM4NDg2Nzgy","avatar_url":"https://avatars.githubusercontent.com/u/38486782?v=4","gravatar_id":"","url":"https://api.github.com/users/coolderli","html_url":"https://github.com/coolderli","followers_url":"https://api.github.com/users/coolderli/followers","following_url":"https://api.github.com/users/coolderli/following{/other_user}","gists_url":"https://api.github.com/users/coolderli/gists{/gist_id}","starred_url":"https://api.github.com/users/coolderli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coolderli/subscriptions","organizations_url":"https://api.github.com/users/coolderli/orgs","repos_url":"https://api.github.com/users/coolderli/repos","events_url":"https://api.github.com/users/coolderli/events{/privacy}","received_events_url":"https://api.github.com/users/coolderli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T03:06:28Z","updated_at":"2021-06-23T03:06:28Z","author_association":"CONTRIBUTOR","body":"`set execution.checkpointing.tolerable-failed-checkpoints=0;` works. \r\nMaybe this should be fixed later.  @openinx ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866486058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866503004","html_url":"https://github.com/apache/iceberg/pull/2722#issuecomment-866503004","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2722","id":866503004,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjUwMzAwNA==","user":{"login":"hankfanchiu","id":13294681,"node_id":"MDQ6VXNlcjEzMjk0Njgx","avatar_url":"https://avatars.githubusercontent.com/u/13294681?v=4","gravatar_id":"","url":"https://api.github.com/users/hankfanchiu","html_url":"https://github.com/hankfanchiu","followers_url":"https://api.github.com/users/hankfanchiu/followers","following_url":"https://api.github.com/users/hankfanchiu/following{/other_user}","gists_url":"https://api.github.com/users/hankfanchiu/gists{/gist_id}","starred_url":"https://api.github.com/users/hankfanchiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankfanchiu/subscriptions","organizations_url":"https://api.github.com/users/hankfanchiu/orgs","repos_url":"https://api.github.com/users/hankfanchiu/repos","events_url":"https://api.github.com/users/hankfanchiu/events{/privacy}","received_events_url":"https://api.github.com/users/hankfanchiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T03:58:52Z","updated_at":"2021-06-23T04:07:05Z","author_association":"NONE","body":"> Do you know if this will be supported by older versions of HMS?\r\n\r\nYup, the `HiveMetaStoreClient#listTableNamesByFilter` API having the support for filtering by table parameters (via `hive_filter_field_params__`) was introduced in 0.8.0. See apache/hive@8d143c6c5b43e4cc3afa5985bd31903f31252d7f ([HIVE-2226](https://issues.apache.org/jira/browse/HIVE-2226)).\r\n\r\n> if you know when this feature was added (if not always supported) to HMS, that would be good to add here. I'm not sure how far back in terms of supporting HMS versions we go but probably farther than developers would like.\r\n\r\nThanks for pointing this out! I've updated the PR description.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866503004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866648578","html_url":"https://github.com/apache/iceberg/pull/2722#issuecomment-866648578","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2722","id":866648578,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjY0ODU3OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T08:42:08Z","updated_at":"2021-06-23T08:42:08Z","author_association":"CONTRIBUTOR","body":"@hankfanchiu: Thanks for the patch!\r\nCould you please check the failures in the CI? I think you could reproduce them locally by running\r\n```\r\n./gradlew build -x test\r\n```\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866648578/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866738636","html_url":"https://github.com/apache/iceberg/pull/2639#issuecomment-866738636","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2639","id":866738636,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjczODYzNg==","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T10:57:43Z","updated_at":"2021-06-23T10:57:43Z","author_association":"CONTRIBUTOR","body":"Hi @flyrain, will do, thanks for the notice. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866738636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866824091","html_url":"https://github.com/apache/iceberg/pull/2512#issuecomment-866824091","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2512","id":866824091,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjgyNDA5MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T13:13:16Z","updated_at":"2021-06-23T13:13:16Z","author_association":"MEMBER","body":"@wypoon Sorry i was on vacation for a few weeks, i'll check this out soon. I think you addressed everything I was worried about. @rdblue should take a look too but I think it would be good if we had a compatible artifact for folks to start trying out at least.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866824091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866829774","html_url":"https://github.com/apache/iceberg/pull/2512#issuecomment-866829774","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2512","id":866829774,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjgyOTc3NA==","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T13:20:02Z","updated_at":"2021-06-23T15:02:50Z","author_association":"MEMBER","body":"Thanks for the great works! I have deployed iceberg master code with this patch with Spark 3.1.2 on yarn cluster (cdh-6.3.1), and everything goes well until now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866829774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866903064","html_url":"https://github.com/apache/iceberg/pull/2512#issuecomment-866903064","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2512","id":866903064,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjkwMzA2NA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T14:47:16Z","updated_at":"2021-06-23T14:47:23Z","author_association":"MEMBER","body":"I'll do some quick tests myself but I'm good to go with this, I have one tiny additional suggestion that we put 3.0.1 and 3.1.1 in constants so we can change around versions a bit easier. Just have a Spark30Version and Spark31Version constant?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866903064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866907582","html_url":"https://github.com/apache/iceberg/issues/2725#issuecomment-866907582","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2725","id":866907582,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjkwNzU4Mg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T14:52:37Z","updated_at":"2021-06-23T14:52:37Z","author_association":"CONTRIBUTOR","body":"Maybe this is the `table.updateProperties()`.\r\n\r\nCould you please try to set this property when the table is created?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866907582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866960117","html_url":"https://github.com/apache/iceberg/pull/2591#issuecomment-866960117","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2591","id":866960117,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njk2MDExNw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T15:53:51Z","updated_at":"2021-06-23T15:53:51Z","author_association":"MEMBER","body":"Note; I have a followup for this to allow RewriteDataFiles to update partitioning of old data files, currently this only works when the partition spec has not changed between old data files and the current status","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866960117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866960504","html_url":"https://github.com/apache/iceberg/pull/2591#issuecomment-866960504","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2591","id":866960504,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njk2MDUwNA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T15:54:21Z","updated_at":"2021-06-23T15:54:21Z","author_association":"MEMBER","body":"@aokolnychyi I'm in favor of merging early and often :) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866960504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866972975","html_url":"https://github.com/apache/iceberg/pull/2512#issuecomment-866972975","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2512","id":866972975,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njk3Mjk3NQ==","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T16:10:05Z","updated_at":"2021-06-23T16:10:05Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer thanks for looking at this again. I have just updated the PR with your suggestion to put the Spark 3.0 and 3.1 versions in constants. I also adopted a change suggested by @pan3793 in his review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866972975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866996230","html_url":"https://github.com/apache/iceberg/pull/2666#issuecomment-866996230","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2666","id":866996230,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njk5NjIzMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T16:43:20Z","updated_at":"2021-06-23T16:43:20Z","author_association":"CONTRIBUTOR","body":"@openinx, sorry for the delay. I'll make some time to review this.\r\n\r\nI also know that while I was out there were a few PRs that I wasn't able to help move along. If you have a list of PRs that are important for you to get in, please send them to me and I'll make time to get them reviewed as I can. Thank you for being patient with me!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866996230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866997351","html_url":"https://github.com/apache/iceberg/issues/2700#issuecomment-866997351","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2700","id":866997351,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njk5NzM1MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T16:45:01Z","updated_at":"2021-06-23T16:45:01Z","author_association":"CONTRIBUTOR","body":"I think the second page is the old `spark.md` that was refactored into several pages in the current layout. I thought that references to that page were mostly gone, but I left it so that we didn't have broken links (at least until we could provide JS-based redirects). Since it is causing confusion, I think we should just remove the page.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/866997351/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867132431","html_url":"https://github.com/apache/iceberg/issues/2723#issuecomment-867132431","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2723","id":867132431,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzEzMjQzMQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T20:22:52Z","updated_at":"2021-06-23T20:22:52Z","author_association":"CONTRIBUTOR","body":"Adding responses from mailing list:\r\n\r\n@flyrain \r\nFor 3, it may not be worth adding extra complexity by introducing a \"change set\", unless we get solid data that shows writing a \"change set\" is faster than a complete rewrite. \r\n\r\n@jackye1995 \r\nI think the summary looks mostly correct, where we already can do \"low latency\" append and delete by primary key, or delete with any predicate that resolves to finitely many equality constraints without the need to scan all rows.\r\n\r\nSecondary index would be useful for scan, which is subsequently used by the generation of delete files for complex delete predicates. This is still in design, we should probably push progress in this domain a bit more because I haven't heard any update since a few months ago:\r\n- https://docs.google.com/document/d/1E1ofBQoKRnX04bWT3utgyHQGaHZoelgXosk_UNsTUuQ\r\n- https://docs.google.com/document/d/11o3T7XQVITY_5F9Vbri9lF9oJjDZKjHIso7K8tEaFfY\r\n\r\nFor metadata, I agree with Yufei that a change set approach sounds like quite a lot of extra complexity just to keep the commit phase a little bit faster. I understand that your single commit time is in the end bounded by the time you rewrite that file, but this almost sounds like we want to do merge-on-read even for metadata, which would be cool but likely an overkill for most users. In my mind, the metadata layer should be managed by the admin constantly, and it is much simpler to just periodically optimize the number of manifests in order to control the size of the manifest list file during each commit, which would also benefit scan planning performance at the same time. I am curious about your \"low latency\" requirement, do you have any actual numbers you need to hit, if you could share them here?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867132431/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867133182","html_url":"https://github.com/apache/iceberg/issues/2723#issuecomment-867133182","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2723","id":867133182,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzEzMzE4Mg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T20:24:08Z","updated_at":"2021-06-23T20:24:08Z","author_association":"CONTRIBUTOR","body":"Adding responses from Slack:\r\n\r\n@SreeramGarlapati \r\nin our streaming write tests - we are seeing that metadata.json file grows to 3mb - with in couple of hours of streaming writes (at 100 events per sec rate). At this point - each write is taking several seconds\r\n\r\n@jackye1995 \r\nI think I replied in the dev mailing list about this, please let me know if that is missing anything. For streaming, my understanding is that Icebergâ€™s expected streaming commit rate is at one per few seconds, 100 events per second sounds like too much for it usage. But maybe I am just underestimating its potential. Plus if you commit more often, you should also expire old snapshots more often, especially in the streaming use case.\r\n\r\n@SreeramGarlapati \r\nOne concern with - expiring snapshots more often is that - we will lose the ability to stream incrementally (like we do here). We want to be able to stream incrementally thru the snapshots - atleast for ~1 day.\r\n\r\n& to your suggestion on commit rate - the commit rate we were using is 1 commit a sec (and as the time progresses - as each commit is taking a bit longer - 1 commit after multiple seconds) - just that - it has several events in them - which could span across couple of partitions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867133182/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867153475","html_url":"https://github.com/apache/iceberg/pull/2719#issuecomment-867153475","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2719","id":867153475,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzE1MzQ3NQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T20:58:23Z","updated_at":"2021-06-23T20:58:23Z","author_association":"CONTRIBUTOR","body":"This might be too much to ask in this PR, so I am fine if we merge this approach first. But I think the correct approach to take is to add a new gradle task that builds the javadoc of each released version and move it to the javadoc folder, and let the website release task call this new task, so that the javadoc only exists in the website release branch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867153475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867172578","html_url":"https://github.com/apache/iceberg/pull/2727#issuecomment-867172578","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2727","id":867172578,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzE3MjU3OA==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T21:29:59Z","updated_at":"2021-06-23T21:29:59Z","author_association":"CONTRIBUTOR","body":"cc @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867172578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867177322","html_url":"https://github.com/apache/iceberg/issues/2724#issuecomment-867177322","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2724","id":867177322,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzE3NzMyMg==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T21:34:43Z","updated_at":"2021-06-23T21:34:43Z","author_association":"CONTRIBUTOR","body":"Sorry I didn't follow the rest of the discussion in the PR/it's been a while since I looked last time, I thought UNSET/DROP removes all identifier fields from the table. Now it seems that we can selectively drop some fields but not the others. Is this the case? I'm not sure if I like the idea of dropping some but not all fields since the user has to know what the original list was. \r\n\r\nI think `WRITE IDENTIFIED BY col1,col2;` looks good for setting and replacing identifier fields, but I wonder what the command should be if we want to drop everything. Do we plan to make it `ALTER TABLE table WRITE IDENTIFIED BY;`? Would this look a bit odd as if the command hasn't finished, and potentially error prone if someone accidentally press `;` and enter when they are still coming up with the list? `UNSET`/`DROP` requires a completely different keyword which may reduce this risk. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867177322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867231371","html_url":"https://github.com/apache/iceberg/issues/2725#issuecomment-867231371","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2725","id":867231371,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzIzMTM3MQ==","user":{"login":"jhsenjaliya","id":5017402,"node_id":"MDQ6VXNlcjUwMTc0MDI=","avatar_url":"https://avatars.githubusercontent.com/u/5017402?v=4","gravatar_id":"","url":"https://api.github.com/users/jhsenjaliya","html_url":"https://github.com/jhsenjaliya","followers_url":"https://api.github.com/users/jhsenjaliya/followers","following_url":"https://api.github.com/users/jhsenjaliya/following{/other_user}","gists_url":"https://api.github.com/users/jhsenjaliya/gists{/gist_id}","starred_url":"https://api.github.com/users/jhsenjaliya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhsenjaliya/subscriptions","organizations_url":"https://api.github.com/users/jhsenjaliya/orgs","repos_url":"https://api.github.com/users/jhsenjaliya/repos","events_url":"https://api.github.com/users/jhsenjaliya/events{/privacy}","received_events_url":"https://api.github.com/users/jhsenjaliya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T23:54:27Z","updated_at":"2021-06-24T00:05:57Z","author_association":"NONE","body":"Yes, I actually tried that as well, as following and it created table without columns ( but with right serde, table prop etc...)\r\n```\r\nval table_props = new java.util.HashMap[String,String] { put(\"engine.hive.enabled\",\"true\") }\r\nval table=catalog.createTable(name, df1_schema, partition_spec, null, table_props );\r\n```\r\n\r\nI also noticed that the on Spark 3.1.1 the table created has serde is LazySimpleSerDe whereas on spark 3.0.2 the serde is HiveIcebergSerDe so it looks like the problem with #2460 , the way the compatibility for spark 3.1.1 is added, which is not in merged yet.\r\n\r\n\r\nupdate: \r\nI found that columns are not shown with `show create table <table_name>` but i can see it with `describe extended <table_name>` ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867231371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867232292","html_url":"https://github.com/apache/iceberg/pull/2460#issuecomment-867232292","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2460","id":867232292,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzIzMjI5Mg==","user":{"login":"jhsenjaliya","id":5017402,"node_id":"MDQ6VXNlcjUwMTc0MDI=","avatar_url":"https://avatars.githubusercontent.com/u/5017402?v=4","gravatar_id":"","url":"https://api.github.com/users/jhsenjaliya","html_url":"https://github.com/jhsenjaliya","followers_url":"https://api.github.com/users/jhsenjaliya/followers","following_url":"https://api.github.com/users/jhsenjaliya/following{/other_user}","gists_url":"https://api.github.com/users/jhsenjaliya/gists{/gist_id}","starred_url":"https://api.github.com/users/jhsenjaliya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhsenjaliya/subscriptions","organizations_url":"https://api.github.com/users/jhsenjaliya/orgs","repos_url":"https://api.github.com/users/jhsenjaliya/repos","events_url":"https://api.github.com/users/jhsenjaliya/events{/privacy}","received_events_url":"https://api.github.com/users/jhsenjaliya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T23:57:38Z","updated_at":"2021-06-23T23:57:38Z","author_association":"NONE","body":"@coolderli, @RussellSpitzer, I took this patch and tested on spark 3.1.1 ( on dataproc v2.0 ) and found some issues ( #2725 ), not sure if its completely related, but would be nice to get it checked with this PR. hope it helps. Thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867232292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867247388","html_url":"https://github.com/apache/iceberg/issues/1804#issuecomment-867247388","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1804","id":867247388,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzI0NzM4OA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T00:40:23Z","updated_at":"2021-06-24T00:40:23Z","author_association":"MEMBER","body":"Here is a link to get added so I don't have to add everyone manually :) Please let me know if it doesn't work\r\n\r\nhttps://s.apache.org/slack-invite","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867247388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867259485","html_url":"https://github.com/apache/iceberg/pull/2729#issuecomment-867259485","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2729","id":867259485,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzI1OTQ4NQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T01:16:24Z","updated_at":"2021-06-24T01:17:21Z","author_association":"CONTRIBUTOR","body":"Is there any possibility that this would remove whitespace where it is intended?\r\n\r\nSuch as maybe specific formatting in table properties that are used internally, or specific formatting in table comments? I'm not sure how often people are using comments with specific formatting or tags with multiple meaningful whitespaces in a row in them, but throwing that out there for discussion.\r\n\r\nEDIT: I see now that you're not rewriting the query, just for the purposes of checking if it's an iceberg query.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867259485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867265389","html_url":"https://github.com/apache/iceberg/pull/2729#issuecomment-867265389","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2729","id":867265389,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzI2NTM4OQ==","user":{"login":"jfz","id":1302547,"node_id":"MDQ6VXNlcjEzMDI1NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1302547?v=4","gravatar_id":"","url":"https://api.github.com/users/jfz","html_url":"https://github.com/jfz","followers_url":"https://api.github.com/users/jfz/followers","following_url":"https://api.github.com/users/jfz/following{/other_user}","gists_url":"https://api.github.com/users/jfz/gists{/gist_id}","starred_url":"https://api.github.com/users/jfz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfz/subscriptions","organizations_url":"https://api.github.com/users/jfz/orgs","repos_url":"https://api.github.com/users/jfz/repos","events_url":"https://api.github.com/users/jfz/events{/privacy}","received_events_url":"https://api.github.com/users/jfz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T01:34:45Z","updated_at":"2021-06-24T01:34:45Z","author_association":"CONTRIBUTOR","body":"> Is there any possibility that this would remove whitespace where it is intended?\r\n> \r\n> Such as maybe specific formatting in table properties that are used internally, or specific formatting in table comments? I'm not sure how often people are using comments with specific formatting or tags with multiple meaningful whitespaces in a row in them, but throwing that out there for discussion.\r\n> \r\n> EDIT: I see now that you're not rewriting the query, just for the purposes of checking if it's an iceberg query.\r\n\r\nIt doesn't rewrite the original query, I rephrased it from \"parsing\" to \"recognition\" to make it more clear.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867265389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867278938","html_url":"https://github.com/apache/iceberg/issues/2504#issuecomment-867278938","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2504","id":867278938,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzI3ODkzOA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T02:12:57Z","updated_at":"2021-06-24T02:12:57Z","author_association":"MEMBER","body":"@ayush-san  I think you may want to try this PR so that we could get ride of OOM when ingest the whole snapshots from the upstream mysql databases: https://github.com/apache/iceberg/pull/2680","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867278938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867292964","html_url":"https://github.com/apache/iceberg/issues/2730#issuecomment-867292964","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2730","id":867292964,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzI5Mjk2NA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T02:48:17Z","updated_at":"2021-06-24T02:48:17Z","author_association":"MEMBER","body":"There's a similar issue from the apache flink user mail list: http://apache-flink.147419.n8.nabble.com/Iceberg-Upsert-Iceberg-Kafka-td11912.html#a11929","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867292964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867293258","html_url":"https://github.com/apache/iceberg/issues/2730#issuecomment-867293258","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2730","id":867293258,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzI5MzI1OA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T02:49:15Z","updated_at":"2021-06-24T02:49:15Z","author_association":"MEMBER","body":"The similar issue from apache iceberg issues: https://github.com/apache/iceberg/issues/2627","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867293258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867363019","html_url":"https://github.com/apache/iceberg/pull/2722#issuecomment-867363019","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2722","id":867363019,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzM2MzAxOQ==","user":{"login":"hankfanchiu","id":13294681,"node_id":"MDQ6VXNlcjEzMjk0Njgx","avatar_url":"https://avatars.githubusercontent.com/u/13294681?v=4","gravatar_id":"","url":"https://api.github.com/users/hankfanchiu","html_url":"https://github.com/hankfanchiu","followers_url":"https://api.github.com/users/hankfanchiu/followers","following_url":"https://api.github.com/users/hankfanchiu/following{/other_user}","gists_url":"https://api.github.com/users/hankfanchiu/gists{/gist_id}","starred_url":"https://api.github.com/users/hankfanchiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankfanchiu/subscriptions","organizations_url":"https://api.github.com/users/hankfanchiu/orgs","repos_url":"https://api.github.com/users/hankfanchiu/repos","events_url":"https://api.github.com/users/hankfanchiu/events{/privacy}","received_events_url":"https://api.github.com/users/hankfanchiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T06:08:47Z","updated_at":"2021-06-24T06:29:38Z","author_association":"NONE","body":"The `HiveTableTest > testListTables` and `TestFlinkCatalogDatabase > testDefaultDatabase` test cases both failed with the following snippet:\r\n\r\n```\r\nCaused by:\r\nMetaException(message:Exception thrown when executing query : SELECT A0.TBL_NAME FROM TBLS A0 LEFT OUTER JOIN DBS B0 ON A0.DB_ID = B0.DB_ID INNER JOIN TABLE_PARAMS C0 ON A0.TBL_ID = C0.TBL_ID WHERE C0.PARAM_KEY = 'table_type' AND B0.\"NAME\" = ? AND C0.PARAM_VALUE = ?)\r\n    at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$get_table_names_by_filter_result$get_table_names_by_filter_resultStandardScheme.read(ThriftHiveMetastore.java:57499)\r\n    at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$get_table_names_by_filter_result$get_table_names_by_filter_resultStandardScheme.read(ThriftHiveMetastore.java:57467)\r\n...\r\n```\r\n\r\n(ex: https://github.com/apache/iceberg/pull/2722/checks?check_run_id=2897257275#step:6:309)\r\n\r\nFrom `build/testlogs/iceberg-hive-metastore.log` ([test logs](https://github.com/apache/iceberg/suites/3068491470/artifacts/69902232)):\r\n\r\n```\r\nStdErr [pool-36-thread-2] INFO org.apache.hadoop.hive.metastore.HiveMetaStore - 11: source:127.0.0.1 get_table_names_by_filter: db = hivedb, filter = hive_filter_field_params__table_type = \"ICEBERG\"\r\nStdErr [pool-36-thread-2] INFO org.apache.hadoop.hive.metastore.HiveMetaStore.audit - ugi=runner\tip=127.0.0.1\tcmd=source:127.0.0.1 get_table_names_by_filter: db = hivedb, filter = hive_filter_field_params__table_type = \"ICEBERG\"\t\r\nStdErr [pool-36-thread-2] ERROR org.apache.hadoop.hive.metastore.RetryingHMSHandler - Retrying HMSHandler after 2000 ms (attempt 2 of 10) with error: javax.jdo.JDOException: Exception thrown when executing query : SELECT A0.TBL_NAME FROM TBLS A0 LEFT OUTER JOIN DBS B0 ON A0.DB_ID = B0.DB_ID INNER JOIN TABLE_PARAMS C0 ON A0.TBL_ID = C0.TBL_ID WHERE C0.PARAM_KEY = 'table_type' AND B0.\"NAME\" = ? AND C0.PARAM_VALUE = ?\r\nStdErr \tat org.datanucleus.api.jdo.NucleusJDOHelper.getJDOExceptionForNucleusException(NucleusJDOHelper.java:677)\r\nStdErr \tat org.datanucleus.api.jdo.JDOQuery.executeInternal(JDOQuery.java:391)\r\nStdErr \tat org.datanucleus.api.jdo.JDOQuery.executeWithMap(JDOQuery.java:279)\r\nStdErr \tat org.apache.hadoop.hive.metastore.ObjectStore.listTableNamesByFilter(ObjectStore.java:3374)\r\nStdErr \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nStdErr \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nStdErr \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nStdErr \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nStdErr \tat org.apache.hadoop.hive.metastore.RawStoreProxy.invoke(RawStoreProxy.java:101)\r\nStdErr \tat com.sun.proxy.$Proxy14.listTableNamesByFilter(Unknown Source)\r\nStdErr \tat org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.get_table_names_by_filter(HiveMetaStore.java:2167)\r\nStdErr \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nStdErr \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nStdErr \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nStdErr \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nStdErr \tat org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:148)\r\nStdErr \tat org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:107)\r\nStdErr \tat com.sun.proxy.$Proxy20.get_table_names_by_filter(Unknown Source)\r\nStdErr \tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Processor$get_table_names_by_filter.getResult(ThriftHiveMetastore.java:11577)\r\nStdErr \tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Processor$get_table_names_by_filter.getResult(ThriftHiveMetastore.java:11561)\r\nStdErr \tat org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)\r\nStdErr \tat org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)\r\nStdErr \tat org.apache.hadoop.hive.metastore.TSetIpAddressProcessor.process(TSetIpAddressProcessor.java:48)\r\nStdErr \tat org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:286)\r\nStdErr \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nStdErr \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nStdErr \tat java.base/java.lang.Thread.run(Thread.java:829)\r\nStdErr NestedThrowablesStackTrace:\r\nStdErr java.sql.SQLSyntaxErrorException: Comparisons between 'CLOB (UCS_BASIC)' and 'CLOB (UCS_BASIC)' are not supported. Types must be comparable. String types must also have matching collation. If collation does not match, a possible solution is to cast operands to force them to the default collation (e.g. SELECT tablename FROM sys.systables WHERE CAST(tablename AS VARCHAR(128)) = 'T1')\r\n```\r\n\r\nThese failures are due to a currently unresolved bug: [HIVE-21614](https://issues.apache.org/jira/browse/HIVE-21614).\r\n\r\nSpecifically, the comparison against the `TABLE_PARAMS.PARAM_VALUE` column -- a `CLOB` type -- is not supported by the Derby database used in tests.\r\n\r\nLike what was done in https://issues.apache.org/jira/browse/HIVE-12274?focusedCommentId=15931690&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-15931690, perhaps we could replace the `=` operator with the `LIKE` operator, i.e.:\r\n\r\n```diff\r\n- String filter = String.format(\"%s%s = \\\"%s\\\"\",\r\n+ String filter = String.format(\"%s%s LIKE \\\"%s\\\"\",\r\n      hive_metastoreConstants.HIVE_FILTER_FIELD_PARAMS,\r\n      BaseMetastoreTableOperations.TABLE_TYPE_PROP,\r\n      BaseMetastoreTableOperations.ICEBERG_TABLE_TYPE_VALUE.toUpperCase(Locale.ENGLISH));\r\n```\r\n\r\nDoesn't seem ideal, though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867363019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867420525","html_url":"https://github.com/apache/iceberg/pull/2722#issuecomment-867420525","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2722","id":867420525,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzQyMDUyNQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T07:50:17Z","updated_at":"2021-06-24T07:50:17Z","author_association":"CONTRIBUTOR","body":"@hankfanchiu: Would you mind fixing this in Hive code, and backport it to branch-2, branch-2.3 there? I think it would be a good to fix this, but we can not do it in Iceberg code alone.\r\n\r\nYou could count on my review in Hive as well. ðŸ˜„ \r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867420525/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867438599","html_url":"https://github.com/apache/iceberg/issues/2723#issuecomment-867438599","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2723","id":867438599,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzQzODU5OQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T08:17:07Z","updated_at":"2021-06-24T08:17:07Z","author_association":"CONTRIBUTOR","body":"I am really interested everyone's thoughts on this.\r\nMy main concern with Iceberg is that we have an inherent bottleneck for writes, and as it is mentioned before it contains 2 steps:\r\n1. Write the snapshot json - the size increases with every commit\r\n2. Commit the write using the catalog\r\n\r\nEven though the we can write the snapshot json-s concurrently, if there are concurrent writes we still have to throw away and rewrite the snapshot json for the 2nd commit, so basically the commit is bottlenecked by the 2 steps above.\r\n\r\nI like Iceberg a lot, but based on this Hive ACID tables are still superior in use-cases where there are multiple concurrent writes. Having the option to use \"change set approach\" might alleviate this bottleneck.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867438599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867636720","html_url":"https://github.com/apache/iceberg/pull/2666#issuecomment-867636720","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2666","id":867636720,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzYzNjcyMA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T13:27:56Z","updated_at":"2021-06-24T13:27:56Z","author_association":"MEMBER","body":"> @openinx, sorry for the delay. I'll make some time to review this.\r\n> \r\n> I also know that while I was out there were a few PRs that I wasn't able to help move along. If you have a list of PRs that are important for you to get in, please send them to me and I'll make time to get them reviewed as I can. Thank you for being patient with me!\r\n\r\n@rdblue , thanks for your time.  All the PRs that were published by me are here : https://github.com/apache/iceberg/pulls/openinx .   There are three parts : \r\n\r\n1.   The first part is about improvement for iceberg+flink module,  I think this PR is the highest priority.   Others are related to flink CDC write path, let's discuss them in the second parts.\r\n\r\n2.  Write & analysis the change log events in format v2 iceberg table.   After #2410,  we could ingest change log events into apache iceberg by pure flink SQL now.  But we still have other important issues that need to be addressed: \r\na.   How to ensure the stability of streaming jobs ?  Currently, the most important PR is : https://github.com/apache/iceberg/pull/2680 .  There are some other problems. For example, random change log events may cause a large number of parquet writers to be opened in a checkpoint, and eventually cause OOM of the job.  I will open a specific issue for that.\r\nb.  How to implement the compaction action for v2.   As we know we are implementing the minor compaction (I mean translate the equality deletes to pos-deletes ? ) , but I think we may could get this [major compaction](https://github.com/apache/iceberg/pull/2303) merged first (Of course , the current patch still has few concerns that need to be addressed,  I will do) . I also had a temporary fix for https://github.com/apache/iceberg/issues/2308, and will publish it to the apache repo for reviewing.  \r\n\r\n3.   Aliyun OSS + DLF integration work.  I had an opened PR for [aliyun OSS](https://github.com/apache/iceberg/pull/2230) and an pending PR for[ aliyun DLF integration](https://github.com/openinx/incubator-iceberg/pull/5) (now it's in my personal repo) .  Let's put these PRs aside for now, and I will try to split these PRs appropriately so that we can better review them in the future.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867636720/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867721540","html_url":"https://github.com/apache/iceberg/pull/2512#issuecomment-867721540","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2512","id":867721540,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzcyMTU0MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T15:14:31Z","updated_at":"2021-06-24T15:14:31Z","author_association":"MEMBER","body":"Ok I think everything is good to go here! Thank you so much @wypoon for dealing with all of my comments :) This is going to be a huge benefit to the Iceberg community!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867721540/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867723847","html_url":"https://github.com/apache/iceberg/pull/2512#issuecomment-867723847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2512","id":867723847,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzcyMzg0Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T15:17:27Z","updated_at":"2021-06-24T15:17:27Z","author_association":"MEMBER","body":"Thanks to @rdblue and @pan3793 For reviewing as well!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867723847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867758694","html_url":"https://github.com/apache/iceberg/issues/2734#issuecomment-867758694","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2734","id":867758694,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzc1ODY5NA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T15:58:23Z","updated_at":"2021-06-24T15:58:23Z","author_association":"MEMBER","body":"This is an error with partitioning, and is fixed with\n\nhttps://github.com/apache/iceberg/pull/2584\n\nOn Thu, Jun 24, 2021 at 10:54 AM Ayush Chauhan ***@***.***>\nwrote:\n\n> Hi,\n>\n> While running MERGE INTO, I am getting the following exception\n>\n> java.lang.IllegalArgumentException: Can't zip RDDs with unequal numbers of partitions: List(1, 0)\n>   at org.apache.spark.rdd.ZippedPartitionsBaseRDD.getPartitions(ZippedPartitionsRDD.scala:58)\n>   at org.apache.spark.rdd.RDD.$anonfun$partitions$2(RDD.scala:276)\n>   at scala.Option.getOrElse(Option.scala:189)\n>   at org.apache.spark.rdd.RDD.partitions(RDD.scala:272)\n>   at org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:49)\n>   at org.apache.spark.rdd.RDD.$anonfun$partitions$2(RDD.scala:276)\n>   at scala.Option.getOrElse(Option.scala:189)\n>   at org.apache.spark.rdd.RDD.partitions(RDD.scala:272)\n>   at org.apache.spark.sql.execution.datasources.v2.V2TableWriteExec.writeWithV2(WriteToDataSourceV2Exec.scala:366)\n>   at org.apache.spark.sql.execution.datasources.v2.V2TableWriteExec.writeWithV2$(WriteToDataSourceV2Exec.scala:361)\n>   at org.apache.spark.sql.execution.datasources.v2.ReplaceDataExec.writeWithV2(ReplaceDataExec.scala:26)\n>   at org.apache.spark.sql.execution.datasources.v2.ReplaceDataExec.run(ReplaceDataExec.scala:31)\n>   at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result$lzycompute(V2CommandExec.scala:39)\n>   at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result(V2CommandExec.scala:39)\n>   at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.executeCollect(V2CommandExec.scala:45)\n>   at org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:230)\n>   at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3667)\n>   at org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:104)\n>   at org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:227)\n>   at org.apache.spark.sql.execution.SQLExecution$.executeQuery$1(SQLExecution.scala:107)\n>   at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:132)\n>   at org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:104)\n>   at org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:227)\n>   at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:132)\n>   at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:248)\n>   at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:131)\n>   at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\n>   at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:68)\n>   at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3665)\n>   at org.apache.spark.sql.Dataset.<init>(Dataset.scala:230)\n>   at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:101)\n>   at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\n>   at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:98)\n>   at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:607)\n>   at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\n>   at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:602)\n>\n> My query\n>\n> MERGE INTO db_name.target_iceberg_table target\n> USING (SOME QUERY ON ICEBERG TABLE) temp\n> ON t.Id = s.Id WHEN MATCHED THEN\n> UPDATE SET .....\n> WHEN NOT MATCHED THEN INSERT *\n>\n> Both source and target tables are iceberg tables, temp table has increment\n> data between two runs. I am running this for iceberg 0.11.0 version\n>\n> My spark conf\n>\n> --conf spark.sql.orc.impl=native\n> --conf spark.sql.orc.enableVectorizedReader=true\n> --conf spark.sql.hive.convertMetastoreOrc=true\n> --conf spark.shuffle.blockTransferService='nio'\n> --conf spark.executor.defaultJavaOptions='-XX:+UseG1GC'\n> --conf spark.hadoop.orc.overwrite.output.file=true\n> --conf spark.driver.defaultJavaOptions='-XX:+UseG1GC'\n> --conf spark.yarn.maxAppAttempts=1\n> --conf spark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\n> --conf spark.sql.catalog.spark_catalog=org.apache.iceberg.spark.SparkSessionCatalog\n> --conf spark.sql.catalog.spark_catalog.type=hive\n> --conf spark.sql.catalog.spark_catalog.uri=thrift://METASTORE:9083\n> --conf spark.sql.catalog.hive=org.apache.iceberg.spark.SparkCatalog\n> --conf spark.sql.catalog.hive.type=hive\n> --conf spark.sql.catalog.hive.uri=thrift://METASTORE:9083\n> --conf spark.sql.broadcastTimeout=1500\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/2734>, or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YOL75PENIDLRVXEVYLTUNILFANCNFSM47IFPP4A>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867758694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867759215","html_url":"https://github.com/apache/iceberg/issues/2734#issuecomment-867759215","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2734","id":867759215,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzc1OTIxNQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T15:59:10Z","updated_at":"2021-06-24T15:59:10Z","author_association":"MEMBER","body":"See also https://github.com/apache/iceberg/issues/2533","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867759215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867788788","html_url":"https://github.com/apache/iceberg/pull/2512#issuecomment-867788788","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2512","id":867788788,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzc4ODc4OA==","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T16:36:59Z","updated_at":"2021-06-24T16:36:59Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, @rdblue and @pan3793, thanks for your reviews. @RussellSpitzer especially, thanks for your help and getting this in!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867788788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867839966","html_url":"https://github.com/apache/iceberg/issues/2735#issuecomment-867839966","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2735","id":867839966,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzgzOTk2Ng==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T17:56:27Z","updated_at":"2021-06-24T17:56:27Z","author_association":"COLLABORATOR","body":"@RussellSpitzer  any thoughts on this, and if it would be a good addition?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867839966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867840947","html_url":"https://github.com/apache/iceberg/issues/2735#issuecomment-867840947","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2735","id":867840947,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzg0MDk0Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T17:57:43Z","updated_at":"2021-06-24T17:58:10Z","author_association":"MEMBER","body":"I think that's fine to add, Iceberg really is not setup to handle multiple references to the same file anyway. I'd be fine if we just broke if you try to add a file that is already part of the table. :+1:\r\nIf you wanted to be more special I think an option to \"ignoreDuplicates\" would be good but should default to false and throw an error unless the user explicitly asks to ignoreDupes","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867840947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867842239","html_url":"https://github.com/apache/iceberg/issues/2735#issuecomment-867842239","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2735","id":867842239,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzg0MjIzOQ==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T17:59:51Z","updated_at":"2021-06-24T17:59:51Z","author_association":"COLLABORATOR","body":"@RussellSpitzer makes sense, thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/867842239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868013996","html_url":"https://github.com/apache/iceberg/pull/2464#issuecomment-868013996","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2464","id":868013996,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODAxMzk5Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T22:59:06Z","updated_at":"2021-06-24T22:59:06Z","author_association":"CONTRIBUTOR","body":"I made a few comments, but I don't think there are any issues with this that need to be fixed so I merged it. Thanks @yyanyy!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868013996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868017383","html_url":"https://github.com/apache/iceberg/pull/2732#issuecomment-868017383","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2732","id":868017383,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODAxNzM4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T23:07:28Z","updated_at":"2021-06-24T23:07:28Z","author_association":"CONTRIBUTOR","body":"@nastra is your intent to enforce these style rules in CI as well? I think we want to consider whether it is worth making these changes because these will cause commit conflicts when cherry-picking commits before or after this is done. One reason to go ahead and do that is if we intend to enforce the style in CI and conform to it in all cases. I think that is also something we should do if we intend to make these changes. Better style enforcement seems like a good thing in general, as long as we aren't just periodically \"fixing\" without enforcement.\r\n\r\nFYI @cwsteinbach.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868017383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868018053","html_url":"https://github.com/apache/iceberg/pull/2729#issuecomment-868018053","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2729","id":868018053,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODAxODA1Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T23:08:58Z","updated_at":"2021-06-24T23:08:58Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, can you take a look at this? I thought multiple spaces were allowed by the parser. Is this something we can configure in Antlr instead of in pre-processing?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868018053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868037818","html_url":"https://github.com/apache/iceberg/pull/2660#issuecomment-868037818","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2660","id":868037818,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODAzNzgxOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T23:36:07Z","updated_at":"2021-06-24T23:36:07Z","author_association":"CONTRIBUTOR","body":"@SreeramGarlapati, this looks great. My only concern is that `startSpark`/`stopSpark` duplicates the code in `SparkTestBase`. I think we should configure the Spark session just once.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868037818/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868099048","html_url":"https://github.com/apache/iceberg/pull/2729#issuecomment-868099048","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2729","id":868099048,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODA5OTA0OA==","user":{"login":"jfz","id":1302547,"node_id":"MDQ6VXNlcjEzMDI1NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1302547?v=4","gravatar_id":"","url":"https://api.github.com/users/jfz","html_url":"https://github.com/jfz","followers_url":"https://api.github.com/users/jfz/followers","following_url":"https://api.github.com/users/jfz/following{/other_user}","gists_url":"https://api.github.com/users/jfz/gists{/gist_id}","starred_url":"https://api.github.com/users/jfz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfz/subscriptions","organizations_url":"https://api.github.com/users/jfz/orgs","repos_url":"https://api.github.com/users/jfz/repos","events_url":"https://api.github.com/users/jfz/events{/privacy}","received_events_url":"https://api.github.com/users/jfz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T00:43:38Z","updated_at":"2021-06-25T00:43:38Z","author_association":"CONTRIBUTOR","body":"> @RussellSpitzer, can you take a look at this? I thought multiple spaces were allowed by the parser. Is this something we can configure in Antlr instead of in pre-processing?\r\n\r\n@rdblue this is only the check for deciding whether or not iceberg parser should be used; the actual iceberg antlr parser does handle white spaces properly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868099048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868126185","html_url":"https://github.com/apache/iceberg/pull/2736#issuecomment-868126185","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2736","id":868126185,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODEyNjE4NQ==","user":{"login":"karuppayya","id":5082742,"node_id":"MDQ6VXNlcjUwODI3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5082742?v=4","gravatar_id":"","url":"https://api.github.com/users/karuppayya","html_url":"https://github.com/karuppayya","followers_url":"https://api.github.com/users/karuppayya/followers","following_url":"https://api.github.com/users/karuppayya/following{/other_user}","gists_url":"https://api.github.com/users/karuppayya/gists{/gist_id}","starred_url":"https://api.github.com/users/karuppayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karuppayya/subscriptions","organizations_url":"https://api.github.com/users/karuppayya/orgs","repos_url":"https://api.github.com/users/karuppayya/repos","events_url":"https://api.github.com/users/karuppayya/events{/privacy}","received_events_url":"https://api.github.com/users/karuppayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T01:43:00Z","updated_at":"2021-06-25T01:43:00Z","author_association":"CONTRIBUTOR","body":"cc: @RussellSpitzer @aokolnychyi @flyrain @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868126185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868259385","html_url":"https://github.com/apache/iceberg/pull/2732#issuecomment-868259385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2732","id":868259385,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODI1OTM4NQ==","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T06:31:00Z","updated_at":"2021-06-25T06:31:00Z","author_association":"CONTRIBUTOR","body":"Personally I would prefer enforcing style rules, otherwise you'll always have the problem that the code in the repo isn't formatted as defined by the formatting rules and people trying to contribute will format their cause (using keyboard shortcuts due to muscle memory as in my case) and cause more whitespace changes than they intend to do. \r\n\r\nThe problem however with e.g. `checkstyle:check` is that it tells you when the format isn't what it expects it to be, but you still have to apply formatting manually.\r\n \r\nOn the nessie project we're usign [spotless](https://github.com/diffplug/spotless) which allows to `check` but also has `apply`, which just auto-formats the code (see also https://github.com/diffplug/spotless/tree/main/plugin-maven) according to the style guide.\r\n\r\nOne of the problems that we were facing is that you'd like to have Eclipse / IntelliJ / cmd line apply the exact same code style and that seems to be the easiest with google-java-format which isn't everybody's favorite, but produces consistent formatting results.\r\n\r\nPersonally I stopped caring about the differences of different style rules. All I care about is that those can be enforced and easily applied via cmd line + IDE. Other programming languages (Go for example) solved this in the language and saved a huge amount of discussion hours among devs :)\r\n\r\nIf there's an interest in using `spotless` in Iceberg, then I would be willing to provide a PR.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868259385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868307715","html_url":"https://github.com/apache/iceberg/pull/1648#issuecomment-868307715","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1648","id":868307715,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODMwNzcxNQ==","user":{"login":"davseitsev","id":1793410,"node_id":"MDQ6VXNlcjE3OTM0MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1793410?v=4","gravatar_id":"","url":"https://api.github.com/users/davseitsev","html_url":"https://github.com/davseitsev","followers_url":"https://api.github.com/users/davseitsev/followers","following_url":"https://api.github.com/users/davseitsev/following{/other_user}","gists_url":"https://api.github.com/users/davseitsev/gists{/gist_id}","starred_url":"https://api.github.com/users/davseitsev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davseitsev/subscriptions","organizations_url":"https://api.github.com/users/davseitsev/orgs","repos_url":"https://api.github.com/users/davseitsev/repos","events_url":"https://api.github.com/users/davseitsev/events{/privacy}","received_events_url":"https://api.github.com/users/davseitsev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T08:07:40Z","updated_at":"2021-06-25T08:07:40Z","author_association":"NONE","body":"Is there any workaround for this issue? Are you going to release 0.11.2 with this fix?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868307715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868349637","html_url":"https://github.com/apache/iceberg/issues/2738#issuecomment-868349637","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2738","id":868349637,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODM0OTYzNw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T09:04:27Z","updated_at":"2021-06-25T09:04:56Z","author_association":"MEMBER","body":"I had a test in spark3: \r\n\r\n```sql\r\nCREATE TABLE loc(\r\n    id       LONG NOT NULL,\r\n    location STRUCT<lat:DOUBLE NOT NULL, long:DOUBLE NOT NULL>\r\n);\r\n\r\nINSERT INTO loc VALUES (1, null);\r\n\r\nSELECT * FROM loc;\r\n1\tNULL\r\nTime taken: 0.374 seconds, Fetched 1 row(s)\r\n\r\nSELECT location.lat FROM loc;\r\nNULL\r\nTime taken: 0.22 seconds, Fetched 1 row(s)\r\n```\r\n\r\nSo it will get a `NULL` value when projecting the required `location.lat` from optional `location` struct.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/868349637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]