[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877466133","html_url":"https://github.com/apache/iceberg/pull/2746#issuecomment-877466133","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2746","id":877466133,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzQ2NjEzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T21:28:45Z","updated_at":"2021-07-09T21:28:45Z","author_association":"CONTRIBUTOR","body":"I'm fine either way. Whatever you'd like to do.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877466133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877470369","html_url":"https://github.com/apache/iceberg/pull/2752#issuecomment-877470369","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2752","id":877470369,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzQ3MDM2OQ==","user":{"login":"daksha121","id":3859303,"node_id":"MDQ6VXNlcjM4NTkzMDM=","avatar_url":"https://avatars.githubusercontent.com/u/3859303?v=4","gravatar_id":"","url":"https://api.github.com/users/daksha121","html_url":"https://github.com/daksha121","followers_url":"https://api.github.com/users/daksha121/followers","following_url":"https://api.github.com/users/daksha121/following{/other_user}","gists_url":"https://api.github.com/users/daksha121/gists{/gist_id}","starred_url":"https://api.github.com/users/daksha121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daksha121/subscriptions","organizations_url":"https://api.github.com/users/daksha121/orgs","repos_url":"https://api.github.com/users/daksha121/repos","events_url":"https://api.github.com/users/daksha121/events{/privacy}","received_events_url":"https://api.github.com/users/daksha121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T21:39:33Z","updated_at":"2021-07-09T21:39:33Z","author_association":"CONTRIBUTOR","body":"> We try not to use namespaces in the read options to keep them simple. This one is a bit odd because `ignore-deletes` could be misinterpreted easily -- we don't want anyone to think they can read a table without applying delete files, for example. So I want to make it clear that this is streaming and that this not delete files. The best I'm coming up with is `skip-delete-snapshots`, which is clear that it is referring to snapshot operations. I don't think it would be misinterpreted if it were used in a batch context since it wouldn't make sense to run a select that doesn't do anything if the latest snapshot is a delete.\r\n\r\nThanks @rdblue, that makes sense. Can you help understand why we wouldn't want to put the word streaming in like `streaming-skip-deletes`? We could perhaps eliminate the risk of misinterpretation. Maybe I'm missing something here","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877470369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877628113","html_url":"https://github.com/apache/iceberg/pull/2754#issuecomment-877628113","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2754","id":877628113,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzYyODExMw==","user":{"login":"jshmchenxi","id":11854435,"node_id":"MDQ6VXNlcjExODU0NDM1","avatar_url":"https://avatars.githubusercontent.com/u/11854435?v=4","gravatar_id":"","url":"https://api.github.com/users/jshmchenxi","html_url":"https://github.com/jshmchenxi","followers_url":"https://api.github.com/users/jshmchenxi/followers","following_url":"https://api.github.com/users/jshmchenxi/following{/other_user}","gists_url":"https://api.github.com/users/jshmchenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/jshmchenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jshmchenxi/subscriptions","organizations_url":"https://api.github.com/users/jshmchenxi/orgs","repos_url":"https://api.github.com/users/jshmchenxi/repos","events_url":"https://api.github.com/users/jshmchenxi/events{/privacy}","received_events_url":"https://api.github.com/users/jshmchenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-10T12:10:46Z","updated_at":"2021-07-10T12:10:46Z","author_association":"CONTRIBUTOR","body":"Yes, the ugi remains to be the one when the thread was first accessed in the global thread pool. @zuston ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877628113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877658957","html_url":"https://github.com/apache/iceberg/pull/2800#issuecomment-877658957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2800","id":877658957,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzY1ODk1Nw==","user":{"login":"southernriver","id":20614350,"node_id":"MDQ6VXNlcjIwNjE0MzUw","avatar_url":"https://avatars.githubusercontent.com/u/20614350?v=4","gravatar_id":"","url":"https://api.github.com/users/southernriver","html_url":"https://github.com/southernriver","followers_url":"https://api.github.com/users/southernriver/followers","following_url":"https://api.github.com/users/southernriver/following{/other_user}","gists_url":"https://api.github.com/users/southernriver/gists{/gist_id}","starred_url":"https://api.github.com/users/southernriver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/southernriver/subscriptions","organizations_url":"https://api.github.com/users/southernriver/orgs","repos_url":"https://api.github.com/users/southernriver/repos","events_url":"https://api.github.com/users/southernriver/events{/privacy}","received_events_url":"https://api.github.com/users/southernriver/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-10T15:49:41Z","updated_at":"2021-07-10T15:49:41Z","author_association":"CONTRIBUTOR","body":"Oops, I have also fix this a few days ago, and  create  another PR  [#2803](https://github.com/apache/iceberg/pull/2803) just a moment ago.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877658957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877667514","html_url":"https://github.com/apache/iceberg/pull/2803#issuecomment-877667514","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2803","id":877667514,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzY2NzUxNA==","user":{"login":"southernriver","id":20614350,"node_id":"MDQ6VXNlcjIwNjE0MzUw","avatar_url":"https://avatars.githubusercontent.com/u/20614350?v=4","gravatar_id":"","url":"https://api.github.com/users/southernriver","html_url":"https://github.com/southernriver","followers_url":"https://api.github.com/users/southernriver/followers","following_url":"https://api.github.com/users/southernriver/following{/other_user}","gists_url":"https://api.github.com/users/southernriver/gists{/gist_id}","starred_url":"https://api.github.com/users/southernriver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/southernriver/subscriptions","organizations_url":"https://api.github.com/users/southernriver/orgs","repos_url":"https://api.github.com/users/southernriver/repos","events_url":"https://api.github.com/users/southernriver/events{/privacy}","received_events_url":"https://api.github.com/users/southernriver/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-10T16:49:23Z","updated_at":"2021-07-10T16:49:23Z","author_association":"CONTRIBUTOR","body":"cc @StefanXiepj  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877667514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877715062","html_url":"https://github.com/apache/iceberg/pull/2752#issuecomment-877715062","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2752","id":877715062,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzcxNTA2Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-10T23:06:50Z","updated_at":"2021-07-10T23:06:50Z","author_association":"CONTRIBUTOR","body":"I'd be fine adding `streaming-`. I was just trying to keep it as small as possible. We definitely need `-snapshots` because it should be clear that this doesn't affect row-level deletes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877715062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877734510","html_url":"https://github.com/apache/iceberg/pull/2803#issuecomment-877734510","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2803","id":877734510,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzczNDUxMA==","user":{"login":"jshmchenxi","id":11854435,"node_id":"MDQ6VXNlcjExODU0NDM1","avatar_url":"https://avatars.githubusercontent.com/u/11854435?v=4","gravatar_id":"","url":"https://api.github.com/users/jshmchenxi","html_url":"https://github.com/jshmchenxi","followers_url":"https://api.github.com/users/jshmchenxi/followers","following_url":"https://api.github.com/users/jshmchenxi/following{/other_user}","gists_url":"https://api.github.com/users/jshmchenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/jshmchenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jshmchenxi/subscriptions","organizations_url":"https://api.github.com/users/jshmchenxi/orgs","repos_url":"https://api.github.com/users/jshmchenxi/repos","events_url":"https://api.github.com/users/jshmchenxi/events{/privacy}","received_events_url":"https://api.github.com/users/jshmchenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-11T03:15:33Z","updated_at":"2021-07-11T03:15:33Z","author_association":"CONTRIBUTOR","body":"@southernriver Hi, you can refer to the comments in #2577 if you are interested, like using `org.apache.iceberg.util.ThreadPools` instead of creating a thread pool from scratch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877734510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877736543","html_url":"https://github.com/apache/iceberg/pull/2803#issuecomment-877736543","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2803","id":877736543,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzczNjU0Mw==","user":{"login":"southernriver","id":20614350,"node_id":"MDQ6VXNlcjIwNjE0MzUw","avatar_url":"https://avatars.githubusercontent.com/u/20614350?v=4","gravatar_id":"","url":"https://api.github.com/users/southernriver","html_url":"https://github.com/southernriver","followers_url":"https://api.github.com/users/southernriver/followers","following_url":"https://api.github.com/users/southernriver/following{/other_user}","gists_url":"https://api.github.com/users/southernriver/gists{/gist_id}","starred_url":"https://api.github.com/users/southernriver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/southernriver/subscriptions","organizations_url":"https://api.github.com/users/southernriver/orgs","repos_url":"https://api.github.com/users/southernriver/repos","events_url":"https://api.github.com/users/southernriver/events{/privacy}","received_events_url":"https://api.github.com/users/southernriver/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-11T03:48:27Z","updated_at":"2021-07-11T03:48:27Z","author_association":"CONTRIBUTOR","body":"> @southernriver Hi, you can refer to the comments in #2577 if you are interested, like using `org.apache.iceberg.util.ThreadPools` instead of creating a thread pool from scratch.\r\n\r\nGet it, I'm new to iceberg, thank you .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877736543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877803297","html_url":"https://github.com/apache/iceberg/pull/2782#issuecomment-877803297","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2782","id":877803297,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzgwMzI5Nw==","user":{"login":"ayushchauhan0811","id":10010065,"node_id":"MDQ6VXNlcjEwMDEwMDY1","avatar_url":"https://avatars.githubusercontent.com/u/10010065?v=4","gravatar_id":"","url":"https://api.github.com/users/ayushchauhan0811","html_url":"https://github.com/ayushchauhan0811","followers_url":"https://api.github.com/users/ayushchauhan0811/followers","following_url":"https://api.github.com/users/ayushchauhan0811/following{/other_user}","gists_url":"https://api.github.com/users/ayushchauhan0811/gists{/gist_id}","starred_url":"https://api.github.com/users/ayushchauhan0811/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ayushchauhan0811/subscriptions","organizations_url":"https://api.github.com/users/ayushchauhan0811/orgs","repos_url":"https://api.github.com/users/ayushchauhan0811/repos","events_url":"https://api.github.com/users/ayushchauhan0811/events{/privacy}","received_events_url":"https://api.github.com/users/ayushchauhan0811/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-11T13:49:33Z","updated_at":"2021-07-11T13:49:33Z","author_association":"NONE","body":"@RussellSpitzer As suspected, my changes are giving a temp view of the table from one snapshot id to another, which isn't the correct one in the case of compaction/merge jobs. \r\n\r\nI think when we think of incremental scan b/w two snapshots, this is working fine - An incomplete view of the table. We can give users the option to configure which operations they want to include in the scan.\r\n\r\n<img width=\"937\" alt=\"snapshot\" src=\"https://user-images.githubusercontent.com/10010065/125197685-5bdd8b80-e27c-11eb-9329-aecfbb5997a6.png\">\r\n\r\n<img width=\"1259\" alt=\"count\" src=\"https://user-images.githubusercontent.com/10010065/125197682-584a0480-e27c-11eb-9af0-54736b56e0f4.png\">\r\n\r\n<img width=\"1440\" alt=\"snapshot summary\" src=\"https://user-images.githubusercontent.com/10010065/125197676-52542380-e27c-11eb-88b7-ccb68b1b48e3.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877803297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877806701","html_url":"https://github.com/apache/iceberg/pull/1421#issuecomment-877806701","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1421","id":877806701,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzgwNjcwMQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-11T14:11:17Z","updated_at":"2021-07-11T14:11:17Z","author_association":"CONTRIBUTOR","body":"Hey @RussellSpitzer and @aokolnychyi what was the status of this PR? We could use some of the changes here to core/api for our planning. Is this close to merging once conflicts are fixed?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877806701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877808285","html_url":"https://github.com/apache/iceberg/issues/2264#issuecomment-877808285","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2264","id":877808285,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzgwODI4NQ==","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-11T14:20:33Z","updated_at":"2021-07-11T14:21:58Z","author_association":"CONTRIBUTOR","body":"Recently, I try use event time on flink streaming read. I remove the validation of watermark on `FlinkCatalog`,  and I found the watermark can work correctly. I think the watermark is the ability of flink, not the iceberg. So I want to figure out what should we need to support to iceberg for use watermark on flink streaming read. @zhangjun0x01 @openinx @cwsteinbach ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877808285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877875490","html_url":"https://github.com/apache/iceberg/issues/2741#issuecomment-877875490","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2741","id":877875490,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Nzg3NTQ5MA==","user":{"login":"jhsenjaliya","id":5017402,"node_id":"MDQ6VXNlcjUwMTc0MDI=","avatar_url":"https://avatars.githubusercontent.com/u/5017402?v=4","gravatar_id":"","url":"https://api.github.com/users/jhsenjaliya","html_url":"https://github.com/jhsenjaliya","followers_url":"https://api.github.com/users/jhsenjaliya/followers","following_url":"https://api.github.com/users/jhsenjaliya/following{/other_user}","gists_url":"https://api.github.com/users/jhsenjaliya/gists{/gist_id}","starred_url":"https://api.github.com/users/jhsenjaliya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhsenjaliya/subscriptions","organizations_url":"https://api.github.com/users/jhsenjaliya/orgs","repos_url":"https://api.github.com/users/jhsenjaliya/repos","events_url":"https://api.github.com/users/jhsenjaliya/events{/privacy}","received_events_url":"https://api.github.com/users/jhsenjaliya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-11T23:12:26Z","updated_at":"2021-07-12T19:58:28Z","author_association":"NONE","body":"yes. Opened: #2804 but there is an isuse using the `iMetastoeClient` interface. \r\nBasically, the `RetryingMetaStoreClient` does not give direct `HiveMetastoreClient` object, instead it gives `com.sun.proxy.Proxy68` which the current implementation of  `CachedClientPool.run()` can not invoke due to the required type for function parameter would be `HiveMetastoreClient` but at runtime its `Proxy` object. So not sure how this can be handled. \r\n\r\nAlso I am seeing the `CachedClientPool.run()` already takes cares of reconnect ( refer: `HiveClientPool.reconnect()` ) so connection failure is handled there.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877875490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877876500","html_url":"https://github.com/apache/iceberg/pull/1421#issuecomment-877876500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1421","id":877876500,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Nzg3NjUwMA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-11T23:18:26Z","updated_at":"2021-07-11T23:18:26Z","author_association":"MEMBER","body":"I have to do some major updates so that it works with deletes. I plan on getting back to this soon but if you let me know what you want extracted maybe we can do some smaller prs real fast?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877876500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877882957","html_url":"https://github.com/apache/iceberg/pull/2591#issuecomment-877882957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2591","id":877882957,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Nzg4Mjk1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T00:02:25Z","updated_at":"2021-07-12T00:02:25Z","author_association":"CONTRIBUTOR","body":"Thanks, @RussellSpitzer! I merged this. And thanks to everyone that helped review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877882957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877887232","html_url":"https://github.com/apache/iceberg/pull/2805#issuecomment-877887232","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2805","id":877887232,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Nzg4NzIzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T00:21:59Z","updated_at":"2021-07-12T00:21:59Z","author_association":"CONTRIBUTOR","body":"@jackye1995, you may want to take a look at this as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877887232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877890779","html_url":"https://github.com/apache/iceberg/issues/1029#issuecomment-877890779","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1029","id":877890779,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Nzg5MDc3OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T00:36:51Z","updated_at":"2021-07-12T00:36:51Z","author_association":"CONTRIBUTOR","body":"This is done. #2654 updated the spec and @yyanyy implemented the changes in the reference implementation in #2096 and #2275. There are still a couple more things to do for #1508, but the spec and tracking portion are done.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877890779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877893400","html_url":"https://github.com/apache/iceberg/pull/2781#issuecomment-877893400","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2781","id":877893400,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Nzg5MzQwMA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T00:47:57Z","updated_at":"2021-07-12T00:47:57Z","author_association":"CONTRIBUTOR","body":"cc @rdblue if you wouldn’t mind considering this for merging. An ORC PMC has signed off on it (and we’ve both tested it during the ORC 1.6.9 release process).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877893400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877896139","html_url":"https://github.com/apache/iceberg/pull/2803#issuecomment-877896139","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2803","id":877896139,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Nzg5NjEzOQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T00:58:06Z","updated_at":"2021-07-12T01:34:10Z","author_association":"CONTRIBUTOR","body":"Thank you for your submission @southernriver! \r\n\r\nThis seems like a somewhat large behavior change. Can you open a GitHub issue to track this / for general discussion? Or possibly this has been discussed on the mailing list (in which case possibly you can open an issue and link to the dev list discussion)? Also, an example query / situation you encounter this in could be added there and that would help greatly. I might be thinking of something else, but I thought that at a certain point, planning is distributed once a certain heuristic is passed.\r\n\r\nOne thing I'd like to see discussed is the abilitu to opt-into this behavior. I'd be more comfortaenwitj this change if we could (at least initially) allow users to opt into or out of using the thread pool to do the planning. I imagine there are scenarios in which it's a detriment. An issue (and then either the dev list or that issue) would be a much better place to discuss that in my opinion.\r\n\r\nI’m not necessarily adverse to this change, but I do think having an issue to track a relatively large change in functionality (single threaded to multithreaded) would be nice as this is a pretty large change in behavior with no way to really opt out (or any documentation on the new table property).\r\n\r\nAlso, if you could more completely describe what the query is that you're encountering these times and what your dataset looks like (ideally in the issue), that would be great. It's possible that with so many files, OPTIMIZE and other table maintenance tasks need to be fun.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877896139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877908540","html_url":"https://github.com/apache/iceberg/issues/2798#issuecomment-877908540","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2798","id":877908540,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzkwODU0MA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T01:39:55Z","updated_at":"2021-07-13T00:06:44Z","author_association":"CONTRIBUTOR","body":"By support, do you mean storing the data in these formats?\r\n\r\nI can't speak for the direction of the project as a whole, but I would think that would not be the case. Iceberg is really designed to take advantage of tabular data and the storage formats that benefit from having schema to be able to reduce the amount of data that is read for a query. I'm not sure that would be something that could be accomplished with json data storage.\r\n\r\nCould you describe your specific use case case (or one of them) in more detail? There might be a solution or pattern in practice that you could benefit from.\r\n\r\nIf you're looking for a simple one off column, you can always have a string column for a json blob as an example.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877908540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877922114","html_url":"https://github.com/apache/iceberg/pull/2800#issuecomment-877922114","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2800","id":877922114,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzkyMjExNA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T02:23:11Z","updated_at":"2021-07-12T02:23:11Z","author_association":"MEMBER","body":"Thanks for @jshmchenxi for the optimize work for spark on HDFS ( I just notice this and #2577,  it's impressive).\r\n\r\nDo we also need to parallelize the [SparkMicroBatchStream#planInputPartitions](https://github.com/apache/iceberg/blob/a100d2d5a06153674cdf97940039f3df68b5f9b8/spark3/src/main/java/org/apache/iceberg/spark/source/SparkMicroBatchStream.java#L140) in this PR ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/877922114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878030626","html_url":"https://github.com/apache/iceberg/issues/2808#issuecomment-878030626","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2808","id":878030626,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODAzMDYyNg==","user":{"login":"coolderli","id":38486782,"node_id":"MDQ6VXNlcjM4NDg2Nzgy","avatar_url":"https://avatars.githubusercontent.com/u/38486782?v=4","gravatar_id":"","url":"https://api.github.com/users/coolderli","html_url":"https://github.com/coolderli","followers_url":"https://api.github.com/users/coolderli/followers","following_url":"https://api.github.com/users/coolderli/following{/other_user}","gists_url":"https://api.github.com/users/coolderli/gists{/gist_id}","starred_url":"https://api.github.com/users/coolderli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coolderli/subscriptions","organizations_url":"https://api.github.com/users/coolderli/orgs","repos_url":"https://api.github.com/users/coolderli/repos","events_url":"https://api.github.com/users/coolderli/events{/privacy}","received_events_url":"https://api.github.com/users/coolderli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T07:11:10Z","updated_at":"2021-07-12T07:11:10Z","author_association":"CONTRIBUTOR","body":"@openinx Can you please help take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878030626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878037179","html_url":"https://github.com/apache/iceberg/pull/2800#issuecomment-878037179","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2800","id":878037179,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODAzNzE3OQ==","user":{"login":"jshmchenxi","id":11854435,"node_id":"MDQ6VXNlcjExODU0NDM1","avatar_url":"https://avatars.githubusercontent.com/u/11854435?v=4","gravatar_id":"","url":"https://api.github.com/users/jshmchenxi","html_url":"https://github.com/jshmchenxi","followers_url":"https://api.github.com/users/jshmchenxi/followers","following_url":"https://api.github.com/users/jshmchenxi/following{/other_user}","gists_url":"https://api.github.com/users/jshmchenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/jshmchenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jshmchenxi/subscriptions","organizations_url":"https://api.github.com/users/jshmchenxi/orgs","repos_url":"https://api.github.com/users/jshmchenxi/repos","events_url":"https://api.github.com/users/jshmchenxi/events{/privacy}","received_events_url":"https://api.github.com/users/jshmchenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T07:21:59Z","updated_at":"2021-07-12T07:21:59Z","author_association":"CONTRIBUTOR","body":"@openinx Thanks for reminding, I've added parallelization to SparkMicroBatchStream#planInputPartitions in this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878037179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878084196","html_url":"https://github.com/apache/iceberg/pull/1421#issuecomment-878084196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1421","id":878084196,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODA4NDE5Ng==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T08:33:27Z","updated_at":"2021-07-12T08:33:27Z","author_association":"CONTRIBUTOR","body":"> I have to do some major updates so that it works with deletes. I plan on getting back to this soon but if you let me know what you want extracted maybe we can do some smaller prs real fast?\r\n\r\nI really only need the visibility modifications and the util classes in `core` and `api`. We will likely follow a similar strategy to how you are doing it in Spark but those changes aren't needed for us.\r\n\r\nI suspect our first iteration isn't focused on V2 delete files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878084196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878095874","html_url":"https://github.com/apache/iceberg/pull/1421#issuecomment-878095874","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1421","id":878095874,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODA5NTg3NA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T08:52:27Z","updated_at":"2021-07-12T08:52:27Z","author_association":"CONTRIBUTOR","body":"Forgot to add  the most important part: Shout if I can help! \r\n\r\ncc @vvellanki @pravindra @snazy and @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878095874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878173789","html_url":"https://github.com/apache/iceberg/pull/2746#issuecomment-878173789","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2746","id":878173789,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODE3Mzc4OQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T10:45:49Z","updated_at":"2021-07-12T10:45:49Z","author_association":"CONTRIBUTOR","body":"note - rebasing to keep each atomic class refactor as a separate (revertible) commit","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878173789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878176765","html_url":"https://github.com/apache/iceberg/pull/2757#issuecomment-878176765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2757","id":878176765,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODE3Njc2NQ==","user":{"login":"sshkvar","id":3986221,"node_id":"MDQ6VXNlcjM5ODYyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3986221?v=4","gravatar_id":"","url":"https://api.github.com/users/sshkvar","html_url":"https://github.com/sshkvar","followers_url":"https://api.github.com/users/sshkvar/followers","following_url":"https://api.github.com/users/sshkvar/following{/other_user}","gists_url":"https://api.github.com/users/sshkvar/gists{/gist_id}","starred_url":"https://api.github.com/users/sshkvar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sshkvar/subscriptions","organizations_url":"https://api.github.com/users/sshkvar/orgs","repos_url":"https://api.github.com/users/sshkvar/repos","events_url":"https://api.github.com/users/sshkvar/events{/privacy}","received_events_url":"https://api.github.com/users/sshkvar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T10:50:45Z","updated_at":"2021-07-12T10:50:45Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer I have pushed code changes for requested clean up nits","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878176765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878223980","html_url":"https://github.com/apache/iceberg/issues/2751#issuecomment-878223980","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2751","id":878223980,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODIyMzk4MA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T12:06:40Z","updated_at":"2021-07-12T12:06:40Z","author_association":"CONTRIBUTOR","body":"@hankfanchiu: Have you find any problem with setting it differently?\r\n\r\nThe Iceberg code currently uses this method to check if the table is an iceberg table or not:\r\nhttps://github.com/apache/iceberg/blob/d5443e3a34a4288441a015ab616d965557d78202/hive-metastore/src/main/java/org/apache/iceberg/hive/HiveTableOperations.java#L506-L510\r\n\r\nThis should not be case sensitive.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878223980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878245863","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-878245863","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":878245863,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODI0NTg2Mw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T12:40:05Z","updated_at":"2021-07-12T12:40:05Z","author_association":"CONTRIBUTOR","body":"> @pvary, we can explore that, but it is fairly easy to write a new metadata file and use that for a table. At least that's a small operation, compared to rewriting all metadata and position delete files.\r\n\r\n@rdblue: I am not sure that I understand what are you proposing here. I might be mistaken, but AFAIK we store the locations of the files in the `snapshot` file, in the `manifest` files and also in v2  the `position delete` files as well. If we want to create a usable full copy of the table then currently we need to do the following:\r\n- Copy the data files\r\n- Recreate or parse and replace the path in all of the files mentioned above (`snapshot`, `manifest` files and `position delete` files)\r\n\r\nIs there an easier way to create a full working replica of an Iceberg table where we do not use any files/data from the original table and the 2 tables (original and the new) can live independently after the creation of the replica?\r\n\r\n> My main point is that we need to have a well-documented plan for tracking the table location.\r\n\r\nTotally agree with this 👍 \r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878245863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878247091","html_url":"https://github.com/apache/iceberg/pull/2757#issuecomment-878247091","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2757","id":878247091,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODI0NzA5MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T12:41:58Z","updated_at":"2021-07-12T12:41:58Z","author_association":"MEMBER","body":"Tests running now!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878247091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878256130","html_url":"https://github.com/apache/iceberg/pull/2757#issuecomment-878256130","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2757","id":878256130,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODI1NjEzMA==","user":{"login":"sshkvar","id":3986221,"node_id":"MDQ6VXNlcjM5ODYyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3986221?v=4","gravatar_id":"","url":"https://api.github.com/users/sshkvar","html_url":"https://github.com/sshkvar","followers_url":"https://api.github.com/users/sshkvar/followers","following_url":"https://api.github.com/users/sshkvar/following{/other_user}","gists_url":"https://api.github.com/users/sshkvar/gists{/gist_id}","starred_url":"https://api.github.com/users/sshkvar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sshkvar/subscriptions","organizations_url":"https://api.github.com/users/sshkvar/orgs","repos_url":"https://api.github.com/users/sshkvar/repos","events_url":"https://api.github.com/users/sshkvar/events{/privacy}","received_events_url":"https://api.github.com/users/sshkvar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T12:56:17Z","updated_at":"2021-07-12T12:56:17Z","author_association":"CONTRIBUTOR","body":"> Tests running now!\r\n\r\nAdded fix for `Extra separation in import group before 'java.io.File' [ImportOrder]`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878256130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878268524","html_url":"https://github.com/apache/iceberg/pull/2757#issuecomment-878268524","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2757","id":878268524,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODI2ODUyNA==","user":{"login":"sshkvar","id":3986221,"node_id":"MDQ6VXNlcjM5ODYyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3986221?v=4","gravatar_id":"","url":"https://api.github.com/users/sshkvar","html_url":"https://github.com/sshkvar","followers_url":"https://api.github.com/users/sshkvar/followers","following_url":"https://api.github.com/users/sshkvar/following{/other_user}","gists_url":"https://api.github.com/users/sshkvar/gists{/gist_id}","starred_url":"https://api.github.com/users/sshkvar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sshkvar/subscriptions","organizations_url":"https://api.github.com/users/sshkvar/orgs","repos_url":"https://api.github.com/users/sshkvar/repos","events_url":"https://api.github.com/users/sshkvar/events{/privacy}","received_events_url":"https://api.github.com/users/sshkvar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T13:13:34Z","updated_at":"2021-07-12T13:13:34Z","author_association":"CONTRIBUTOR","body":"added additional formatting fix for `'lambda arguments' has incorrect indentation level 12, expected level should be one of the following: 6, 8. `\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878268524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878355283","html_url":"https://github.com/apache/iceberg/pull/2757#issuecomment-878355283","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2757","id":878355283,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODM1NTI4Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T15:05:17Z","updated_at":"2021-07-12T15:05:17Z","author_association":"MEMBER","body":"@sshkvar for future reference you can use ```g build -x test  -x integrationTest -x testSpark31``` to run the checkstyle and other static analysis tests","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878355283/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878404602","html_url":"https://github.com/apache/iceberg/pull/2752#issuecomment-878404602","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2752","id":878404602,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODQwNDYwMg==","user":{"login":"daksha121","id":3859303,"node_id":"MDQ6VXNlcjM4NTkzMDM=","avatar_url":"https://avatars.githubusercontent.com/u/3859303?v=4","gravatar_id":"","url":"https://api.github.com/users/daksha121","html_url":"https://github.com/daksha121","followers_url":"https://api.github.com/users/daksha121/followers","following_url":"https://api.github.com/users/daksha121/following{/other_user}","gists_url":"https://api.github.com/users/daksha121/gists{/gist_id}","starred_url":"https://api.github.com/users/daksha121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daksha121/subscriptions","organizations_url":"https://api.github.com/users/daksha121/orgs","repos_url":"https://api.github.com/users/daksha121/repos","events_url":"https://api.github.com/users/daksha121/events{/privacy}","received_events_url":"https://api.github.com/users/daksha121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T16:06:52Z","updated_at":"2021-07-12T16:06:52Z","author_association":"CONTRIBUTOR","body":"> I'd be fine adding `streaming-`. I was just trying to keep it as small as possible. We definitely need `-snapshots` because it should be clear that this doesn't affect row-level deletes.\r\n\r\nThanks @rdblue. Renamed the option to `streaming-skip-delete-snapshots`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878404602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878426784","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-878426784","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":878426784,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODQyNjc4NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T16:38:25Z","updated_at":"2021-07-12T16:38:25Z","author_association":"CONTRIBUTOR","body":"@pvary, I'm talking only about the metadata.json files. I agree that using relative paths for manifest lists, manifests, and data files is a good idea. But we keep the table location in the root metadata file and so it is difficult to make its location relative.\r\n\r\nI think we could do this for Hadoop tables by ignoring the location in metadata.json because it must match the table location. But Hadoop tables are mostly for testing and I don't recommend using them in practice. The bigger issue is how to track the table location for Hive or other metastore tables. In that case, I don't think it is unreasonable to use `updateLocation` to change the location of the table, but it is definitely inconvenient.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878426784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878457209","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-878457209","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":878457209,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODQ1NzIwOQ==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T17:24:13Z","updated_at":"2021-07-12T17:24:13Z","author_association":"CONTRIBUTOR","body":"> Is there an easier way to create a full working replica of an Iceberg table where we do not use any files/data from the original table and the 2 tables (original and the new) can live independently after the creation of the replica? \r\n\r\n@pvary , ideally, table replication doesn't involve data file rewrite and metadata(manifest-list, manifest, metadata.json) rewrite. The process would be as simple as that user copys all files needed, then changes the target table properties to get the new status. It isn't the case in reality though.\r\n\r\nIn this issue thread, we were talking about two ways to replicate a table. 1. relative path 2. rebuild the metadata files. Neither of them require data file rewrite. However, the relative-path approach requires the minimal metadata file rewrite, probably only metadata.json per our discussion. But metadata-rebuild approach involves rewrite of all three type of metadata files. They are metadata.json, manifest-list, and manifest. Every type of file stores table information cannot be recreated only by looking at the data files. For example, the partition spec in metadata.json and its id in manifest file, and the snapshot relative metadata. \r\n\r\nTo your question, both source and target tables should be able to live independently after the replication. That's relative easy to archive. The hard part is to enable incremental sync-up between them and bidirectional replication, which are quite common DR(Disaster recovery) use cases.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878457209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878457411","html_url":"https://github.com/apache/iceberg/pull/2800#issuecomment-878457411","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2800","id":878457411,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODQ1NzQxMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T17:24:34Z","updated_at":"2021-07-12T17:24:34Z","author_association":"CONTRIBUTOR","body":"Thanks, @jshmchenxi! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878457411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878481134","html_url":"https://github.com/apache/iceberg/issues/2796#issuecomment-878481134","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2796","id":878481134,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODQ4MTEzNA==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T18:02:22Z","updated_at":"2021-07-12T18:02:22Z","author_association":"NONE","body":"@jackye1995 any ideas?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878481134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878507325","html_url":"https://github.com/apache/iceberg/pull/2752#issuecomment-878507325","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2752","id":878507325,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODUwNzMyNQ==","user":{"login":"SreeramGarlapati","id":11813428,"node_id":"MDQ6VXNlcjExODEzNDI4","avatar_url":"https://avatars.githubusercontent.com/u/11813428?v=4","gravatar_id":"","url":"https://api.github.com/users/SreeramGarlapati","html_url":"https://github.com/SreeramGarlapati","followers_url":"https://api.github.com/users/SreeramGarlapati/followers","following_url":"https://api.github.com/users/SreeramGarlapati/following{/other_user}","gists_url":"https://api.github.com/users/SreeramGarlapati/gists{/gist_id}","starred_url":"https://api.github.com/users/SreeramGarlapati/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SreeramGarlapati/subscriptions","organizations_url":"https://api.github.com/users/SreeramGarlapati/orgs","repos_url":"https://api.github.com/users/SreeramGarlapati/repos","events_url":"https://api.github.com/users/SreeramGarlapati/events{/privacy}","received_events_url":"https://api.github.com/users/SreeramGarlapati/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T18:42:25Z","updated_at":"2021-07-12T18:42:25Z","author_association":"COLLABORATOR","body":"@rdblue - pl. drop me as a contributor for this work. @daksha121 - was nice enough to mention me as one. I was trying to pay back her help in work: #2660. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878507325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878526367","html_url":"https://github.com/apache/iceberg/pull/2810#issuecomment-878526367","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2810","id":878526367,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODUyNjM2Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T19:11:53Z","updated_at":"2021-07-12T19:11:53Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer @flyrain @karuppayya @rdblue, I took a look at the current state of our new actions and I think it would make sense to switch from `RemoveXXX` to `DeleteXXX` in names.\r\n\r\nLet me know what you think.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878526367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878553759","html_url":"https://github.com/apache/iceberg/issues/2796#issuecomment-878553759","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2796","id":878553759,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODU1Mzc1OQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T19:59:00Z","updated_at":"2021-07-12T19:59:00Z","author_association":"CONTRIBUTOR","body":"Let me try to reproduce, and will reply back when I get some results. Feel free to add more details if you have some steps that can consistently reproduce this, thank you! @lykwan ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878553759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878568617","html_url":"https://github.com/apache/iceberg/pull/2811#issuecomment-878568617","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2811","id":878568617,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODU2ODYxNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T20:21:08Z","updated_at":"2021-07-12T20:21:08Z","author_association":"CONTRIBUTOR","body":"@kbendick @karuppayya @RussellSpitzer @rdblue @flyrain, could you review, please?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878568617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878585949","html_url":"https://github.com/apache/iceberg/issues/2235#issuecomment-878585949","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2235","id":878585949,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODU4NTk0OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T20:50:44Z","updated_at":"2021-07-12T20:50:44Z","author_association":"CONTRIBUTOR","body":"I disagree that there isn't a reason other than they aren't exposed. Originally, these weren't even options because the validation checks that the write is correct. Disabling the nullability check was added for cases where users wanted runtime failures because it was too hard to fix the schema that was being written. Disabling the order check was added because the Spark 2.4 planner wouldn't reorder columns automatically and users wanted to guarantee that the columns were correct without reordering.\r\n\r\nIn both cases, users wanted to disable checks because they had more information than Iceberg did. For example, that a table contained no null values even though a field was optional.\r\n\r\nIf someone wants to expose these, we should carefully consider the use case around it because not exposing these as options is the sensible default.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878585949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878586956","html_url":"https://github.com/apache/iceberg/pull/2811#issuecomment-878586956","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2811","id":878586956,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODU4Njk1Ng==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T20:52:31Z","updated_at":"2021-07-12T20:52:31Z","author_association":"CONTRIBUTOR","body":"+1 for the PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878586956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878594550","html_url":"https://github.com/apache/iceberg/pull/2812#issuecomment-878594550","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2812","id":878594550,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODU5NDU1MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T21:05:15Z","updated_at":"2021-07-12T21:05:15Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, could you review this one?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878594550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878604565","html_url":"https://github.com/apache/iceberg/pull/2811#issuecomment-878604565","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2811","id":878604565,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODYwNDU2NQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T21:20:44Z","updated_at":"2021-07-12T21:20:44Z","author_association":"CONTRIBUTOR","body":"This failed as we need to get #2810 first.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878604565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878635500","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-878635500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":878635500,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODYzNTUwMA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T22:18:51Z","updated_at":"2021-07-12T22:18:51Z","author_association":"CONTRIBUTOR","body":"@pvary Hi Peter, I left this PR not touched just to get your feedback before I publish the newer version. The current idea is that I can implement this char-by-char parser and directly allow inputs in the format like `bucket(16, id) AS shard, category`, which will be exactly the same with the Spark SQL input format. Please let me know if you are okay with this approach, if so I will post the updated version.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878635500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878641339","html_url":"https://github.com/apache/iceberg/pull/2810#issuecomment-878641339","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2810","id":878641339,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODY0MTMzOQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T22:32:18Z","updated_at":"2021-07-12T22:32:18Z","author_association":"MEMBER","body":"My only worry here is we have two senses of delete in the API. Logical deletes and physical deletes, before the names were distinct since \"delete\" apis only did logical deletes while \"remove\" apis actually removed files from your file system. I also only worry about this on about a 2 out of 10 worry scale so i'm +1 on moving forward if @aokolnychyi feels strongly about it :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878641339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878671554","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-878671554","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":878671554,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODY3MTU1NA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T23:48:35Z","updated_at":"2021-07-12T23:53:18Z","author_association":"CONTRIBUTOR","body":"One suggestion: You might consider making the top level folder `dell`, similarly to our package `aws`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878671554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878681918","html_url":"https://github.com/apache/iceberg/pull/2810#issuecomment-878681918","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2810","id":878681918,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODY4MTkxOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T00:17:45Z","updated_at":"2021-07-13T00:17:45Z","author_association":"CONTRIBUTOR","body":"I'm okay with either remove or delete.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878681918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878682001","html_url":"https://github.com/apache/iceberg/pull/2752#issuecomment-878682001","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2752","id":878682001,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODY4MjAwMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T00:17:59Z","updated_at":"2021-07-13T00:17:59Z","author_association":"CONTRIBUTOR","body":"Thanks, @daksha121! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878682001/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878685881","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-878685881","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":878685881,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODY4NTg4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T00:28:13Z","updated_at":"2021-07-13T00:28:13Z","author_association":"CONTRIBUTOR","body":"@wang-x-xia, thanks for working on this. I'm glad to see proposed support for EMC!\r\n\r\nI think the first thing to do is to get this into more manageable chunks to review and commit. Is it possible to divide this into a FileIO implementation PR and then a Catalog and TableOperations PR? It would also be really helpful to add a bit more about what you're proposing to the description. For example: How does the catalog work? What is the atomic operation you're using?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878685881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878701949","html_url":"https://github.com/apache/iceberg/pull/2666#issuecomment-878701949","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2666","id":878701949,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODcwMTk0OQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T01:14:51Z","updated_at":"2021-07-13T01:14:51Z","author_association":"MEMBER","body":"Ping @rdblue , How is your feeling about this PR now ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878701949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878725910","html_url":"https://github.com/apache/iceberg/pull/2810#issuecomment-878725910","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2810","id":878725910,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODcyNTkxMA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T02:18:17Z","updated_at":"2021-07-13T02:19:58Z","author_association":"CONTRIBUTOR","body":"My primary motivation is the inconsistency we have in the code right now.\r\n\r\nIn three actions (including `RemoveOrphanFiles`), we have `deleteWith` and `executeDeleteWith` methods that configure how to do the actual removal. We also use `deletedXXXCounts` in `ExpireSnapshots` to report the number of potentially physically removed files.\r\n\r\nKaruppayya's original implementation called the action `DeleteReachableFiles` and I asked to change that to use `remove` but I've changed my opinion after looking at the code a little bit more.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878725910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878729361","html_url":"https://github.com/apache/iceberg/pull/2812#issuecomment-878729361","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2812","id":878729361,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODcyOTM2MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T02:29:07Z","updated_at":"2021-07-13T02:29:07Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878729361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878758952","html_url":"https://github.com/apache/iceberg/issues/2809#issuecomment-878758952","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2809","id":878758952,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODc1ODk1Mg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T04:01:25Z","updated_at":"2021-07-13T04:01:25Z","author_association":"CONTRIBUTOR","body":"Yeah EMR 6.3 is using Spark 3.1, so this is expected, and the PR you linked can fix it. I suppose we need to wait until the next 0.12.0 release for this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878758952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878798924","html_url":"https://github.com/apache/iceberg/pull/2811#issuecomment-878798924","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2811","id":878798924,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODc5ODkyNA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T05:50:07Z","updated_at":"2021-07-13T05:50:07Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick @rdblue @flyrain @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878798924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878800783","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-878800783","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":878800783,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODgwMDc4Mw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T05:54:59Z","updated_at":"2021-07-13T05:54:59Z","author_association":"CONTRIBUTOR","body":"Thanks for the detailed answer @flyrain! This really helps to have a clear understanding of the tasks at hand. \r\n\r\nI would like to share my thoughts about 2 points:\r\n\r\n> The hard part is to enable incremental sync-up between them and bidirectional replication, which are quite common DR(Disaster recovery) use cases.\r\n\r\nI think that if we chose the relative path approach then replication becomes quite straightforward, since we do not have to handle the mix of different paths (source absolute path for the new metadata files, destination absolute path for the old metadata files). We just need to copy the metadata files for one directional replication. The bidirectional replication is a different kettle of fish because of the commit resolution complexity, but I think it is also easier since we do not have to care about manifests and manifest-lists\r\n\r\n> However, the relative-path approach requires the minimal metadata file rewrite, probably only metadata.json per our discussion.\r\n\r\nWhat do we want to change in the json? Is it only the path of the table, or we have to rewrite something else as well? Could we use something like the LocationProvider (which generates new datafile locations) to make the path resolution pluggable and store only the config in the table? \r\n\r\nThanks, Peter \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878800783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878801492","html_url":"https://github.com/apache/iceberg/issues/905#issuecomment-878801492","issue_url":"https://api.github.com/repos/apache/iceberg/issues/905","id":878801492,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODgwMTQ5Mg==","user":{"login":"leo-lao","id":20881696,"node_id":"MDQ6VXNlcjIwODgxNjk2","avatar_url":"https://avatars.githubusercontent.com/u/20881696?v=4","gravatar_id":"","url":"https://api.github.com/users/leo-lao","html_url":"https://github.com/leo-lao","followers_url":"https://api.github.com/users/leo-lao/followers","following_url":"https://api.github.com/users/leo-lao/following{/other_user}","gists_url":"https://api.github.com/users/leo-lao/gists{/gist_id}","starred_url":"https://api.github.com/users/leo-lao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leo-lao/subscriptions","organizations_url":"https://api.github.com/users/leo-lao/orgs","repos_url":"https://api.github.com/users/leo-lao/repos","events_url":"https://api.github.com/users/leo-lao/events{/privacy}","received_events_url":"https://api.github.com/users/leo-lao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T05:56:45Z","updated_at":"2021-07-13T05:56:45Z","author_association":"NONE","body":"I wonder why this issue is still open after one year? \r\ncan I pick this up and try my first contribution here?\r\n@aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878801492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878821021","html_url":"https://github.com/apache/iceberg/issues/2809#issuecomment-878821021","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2809","id":878821021,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODgyMTAyMQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T06:39:38Z","updated_at":"2021-07-13T06:39:38Z","author_association":"MEMBER","body":"Yes, once we've released the apache iceberg 0.12.0,  the aws EMR 6.3 will also need to upgrade the apache iceberg version from 0.11.1 to 0.12.0.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878821021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878856794","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-878856794","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":878856794,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODg1Njc5NA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T07:43:46Z","updated_at":"2021-07-13T07:43:46Z","author_association":"CONTRIBUTOR","body":"Just trying to catch up with the thread, and reread the design doc. \r\n\r\nFor the design doc, I think we should not make `HiveTable` a separated case to discuss, all tables that are retrieved through a `Catalog` implementation should operate the same if we introduce relative path, we should not try to break the abstraction layer and treat Hive tables separately.\r\n\r\nTo have a brief summary (and also potentially answer Peter's question), from my understanding we are leading towards a solution that following items to keep track of the true table roots, and should be absolute, while all other paths can be relative:\r\n1. `location`\r\n2. `write.metadata.path`\r\n3. `write.folder-storage.path`\r\n4. `write.object-storage.path`\r\n\r\nThen these 4 properties are used to get 2 absolute root paths:\r\n1. root path to write data: the `LocationProvider` would read some fields in this list to determine the base root path, and generate absolute paths to write data files. \r\n2. root path to write metadata: similarly, the `TableOperations.metadataFileLocation` reads some fields above to determine the base root path, and generate paths for metadata files.\r\n\r\nThese probably should be exposed as new methods to make sure the same location derivation logic is used everywhere.\r\n\r\nOnce the content of a file is written, the paths are written to one metadata layer above with/without absolute path based on a flag proposed in the design doc, and the writer of this path needs to know what are the true root paths used in the 2 places above. On the read side, the absolute path is created based on the 2 absolute root paths. Those operations are done inside each specific IO method by passing the relative/absolute path, the correct absolute root path, and the boolean flag, to make sure operations are transparent above the IO level.\r\n\r\nAll updates to the 4 locations on the top can be done in a UpdateProperties + UpdateLocation transaction, and when the metadata path is updated, the `metadata_location` in catalog will be automatically updated with the new file root path to write and then read the latest metadata json file that is now in anther root path. Therefore, we need to make sure that when this value is updated, the metadata json file writer uses the value in the update instead of the existing value. This should be able to switch a reader of Iceberg table from one replica to another explicitly, or implement try-and-error logic to switch to the replica after certain retries. I am not sure if there is a use case such as choosing a random replica to read file, but I think that should be solved by directly registering all replicas as different tables and round-robin on the reader side.\r\n\r\nI think if we go with this route then it sounds good to me, and we can try to hash out some more details in PRs. Please let me know if this summary is accurate, or if I have any misunderstanding.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878856794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878955327","html_url":"https://github.com/apache/iceberg/pull/2780#issuecomment-878955327","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2780","id":878955327,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODk1NTMyNw==","user":{"login":"nvitucci","id":1252064,"node_id":"MDQ6VXNlcjEyNTIwNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1252064?v=4","gravatar_id":"","url":"https://api.github.com/users/nvitucci","html_url":"https://github.com/nvitucci","followers_url":"https://api.github.com/users/nvitucci/followers","following_url":"https://api.github.com/users/nvitucci/following{/other_user}","gists_url":"https://api.github.com/users/nvitucci/gists{/gist_id}","starred_url":"https://api.github.com/users/nvitucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nvitucci/subscriptions","organizations_url":"https://api.github.com/users/nvitucci/orgs","repos_url":"https://api.github.com/users/nvitucci/repos","events_url":"https://api.github.com/users/nvitucci/events{/privacy}","received_events_url":"https://api.github.com/users/nvitucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T10:05:21Z","updated_at":"2021-07-13T10:05:21Z","author_association":"NONE","body":"> @nvitucci, I'm not aware of a way for Spark to request extended information from a source. You could implement that in Spark so that it shows a summary of the planning results?\r\n\r\nDo you mean as a Spark component out of Iceberg?\r\n\r\n> Also, @puneetzaroo is looking into extended our event notifications to include more information about a scan, like the number of manifest files read, number of file splits, number of data files, number of delete files, etc. Maybe that would help you here because you could register a listener, get more detailed information, and do something with it.\r\n\r\nThis sounds interesting. Where can I get some more information on this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878955327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878961343","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-878961343","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":878961343,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODk2MTM0Mw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T10:13:28Z","updated_at":"2021-07-13T10:13:28Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995 for highlighting the properties which we need to handle!\r\n\r\nI have not know about the `write.object-storage.path` before. Do I understand correctly that this is a `LocationProvider` specific parameter for `ObjectStoreLocationProvider` which is more or less the same than the `write.object-storage.path` for the `DefaultLocationProvider`? If so it highlights how tricky could it be if we want to make sure that every `LocationProvider` specific parameter is handled correctly when we are updating the locations in the metadata json. Maybe we should delegate this path generation to the `LocationProvider` altogether, or something similar.\r\n\r\n> All updates to the 4 locations on the top can be done in a UpdateProperties + UpdateLocation transaction\r\n\r\nThe process you have described above sounds useful to me if we have a place where both of the replicas are accessible, like a central node where we can initiate the copy of the data and then call UpdateProperties + UpdateLocation, so the replica could have it's own metadata json which holds the correct info.\r\n\r\nIn our cases for the on-prem to cloud migration it is possible that the file copy is done by a different method and then we need to read and update the metadata json file, in which the locations are not accessible. So it would be good if we can run UpdateProperties + UpdateLocation on an \"invalid\" table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878961343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878974923","html_url":"https://github.com/apache/iceberg/pull/2701#issuecomment-878974923","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2701","id":878974923,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODk3NDkyMw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T10:33:49Z","updated_at":"2021-07-13T10:34:36Z","author_association":"CONTRIBUTOR","body":"Hi @jackye1995!\r\n\r\nI am honestly not sure how much effort do we want to put into this change and where do we stop.\r\n\r\nThis might be interesting from [here](https://cwiki.apache.org/confluence/display/hive/languagemanual+ddl):\r\n> Any column name that is specified within backticks (`) is treated literally. Within a backtick string, use double backticks (``) to represent a backtick character. Backtick quotation also enables the use of reserved keywords for table and column identifiers.\r\n\r\nSince this is intended as a temporary solution I think we should keep it as simple as possible and we should clearly state what is supported, and what is not. Really depends on the intended use-case for you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/878974923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879017501","html_url":"https://github.com/apache/iceberg/pull/2588#issuecomment-879017501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2588","id":879017501,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTAxNzUwMQ==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T11:44:45Z","updated_at":"2021-07-13T11:44:45Z","author_association":"MEMBER","body":"Tests pass locally w/ Java 11 + Java 8 against latest in-dev Nessie.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879017501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879055604","html_url":"https://github.com/apache/iceberg/pull/2757#issuecomment-879055604","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2757","id":879055604,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTA1NTYwNA==","user":{"login":"sshkvar","id":3986221,"node_id":"MDQ6VXNlcjM5ODYyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3986221?v=4","gravatar_id":"","url":"https://api.github.com/users/sshkvar","html_url":"https://github.com/sshkvar","followers_url":"https://api.github.com/users/sshkvar/followers","following_url":"https://api.github.com/users/sshkvar/following{/other_user}","gists_url":"https://api.github.com/users/sshkvar/gists{/gist_id}","starred_url":"https://api.github.com/users/sshkvar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sshkvar/subscriptions","organizations_url":"https://api.github.com/users/sshkvar/orgs","repos_url":"https://api.github.com/users/sshkvar/repos","events_url":"https://api.github.com/users/sshkvar/events{/privacy}","received_events_url":"https://api.github.com/users/sshkvar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T12:45:11Z","updated_at":"2021-07-13T12:45:11Z","author_association":"CONTRIBUTOR","body":"> @sshkvar for future reference you can use `g build -x test -x integrationTest -x testSpark31` to run the checkstyle and other static analysis tests\r\n\r\nok, thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879055604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879097764","html_url":"https://github.com/apache/iceberg/pull/2817#issuecomment-879097764","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2817","id":879097764,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTA5Nzc2NA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T13:40:14Z","updated_at":"2021-07-13T13:40:14Z","author_association":"CONTRIBUTOR","body":"Thanks @nastra !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879097764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879161879","html_url":"https://github.com/apache/iceberg/pull/2777#issuecomment-879161879","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2777","id":879161879,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTE2MTg3OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T14:58:18Z","updated_at":"2021-07-13T14:58:18Z","author_association":"MEMBER","body":"Thanks @szehon-ho !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879161879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879193232","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-879193232","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":879193232,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTE5MzIzMg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T15:36:11Z","updated_at":"2021-07-13T15:36:11Z","author_association":"CONTRIBUTOR","body":"> If so it highlights how tricky could it be if we want to make sure that every LocationProvider specific parameter is handled correctly when we are updating the locations in the metadata json\r\n\r\nYes, that is why I was proposing if we decide to go with relative path, `LocationProvider` should expose a method that describes the true file path root it is using, maybe something like `LocationProvider.root()`, and any plugin implementation can override this method if necessary. But `LocationProvider` only governs the path for data files, and metadata file paths are governed by `TableOperations.metadataFileLocation(String fileName), so we should also have a new method like `TableOperations.metadataRoot()` to describe the true root. Those 2 roots should be sufficient for any reader and writer to use if they stick with the Iceberg core IO library.\r\n\r\nOn Trino side it's quite more complicated because some paths are hard coded and directly generated based on Hive conventions, but I think that is an issue to fix on Trino side: https://github.com/trinodb/trino/blob/master/plugin/trino-iceberg/src/main/java/io/trino/plugin/iceberg/IcebergPageSink.java#L303-L308\r\n\r\nBut just keep in mind that there is always a risk for a compute engine to not stick with those things, and it will be hard to enforce.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879193232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879209798","html_url":"https://github.com/apache/iceberg/pull/1648#issuecomment-879209798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1648","id":879209798,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTIwOTc5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T15:59:34Z","updated_at":"2021-07-13T15:59:34Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks for updating this, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879209798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879251100","html_url":"https://github.com/apache/iceberg/pull/2803#issuecomment-879251100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2803","id":879251100,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTI1MTEwMA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T17:00:09Z","updated_at":"2021-07-13T17:05:44Z","author_association":"CONTRIBUTOR","body":"@southernriver I was mistaken about the existence of distributed job planning (and hence my initial concern about how necessary this PR was).\r\n\r\nI thought that there was distributed job planning already, but the PR is still open: https://github.com/apache/iceberg/pull/1421\r\n\r\nI do know that this is being reprioritized again, but I'm not sure of any official timeline on that. Wanted to let you know. 🙂 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879251100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879315816","html_url":"https://github.com/apache/iceberg/pull/2591#issuecomment-879315816","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2591","id":879315816,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTMxNTgxNg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T18:43:25Z","updated_at":"2021-07-13T18:43:25Z","author_association":"MEMBER","body":"Thanks everyone!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879315816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879324993","html_url":"https://github.com/apache/iceberg/pull/2609#issuecomment-879324993","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2609","id":879324993,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTMyNDk5Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T18:58:58Z","updated_at":"2021-07-13T18:58:58Z","author_association":"MEMBER","body":"@aokolnychyi  Just updated this, I think this is the next step towards getting our Sort Implementation in as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879324993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879339518","html_url":"https://github.com/apache/iceberg/pull/2819#issuecomment-879339518","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2819","id":879339518,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTMzOTUxOA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T19:21:33Z","updated_at":"2021-07-13T19:21:33Z","author_association":"MEMBER","body":"@rdblue + @aokolnychyi Like we discussed previously","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879339518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879376889","html_url":"https://github.com/apache/iceberg/pull/2820#issuecomment-879376889","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2820","id":879376889,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTM3Njg4OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T20:22:57Z","updated_at":"2021-07-13T20:22:57Z","author_association":"MEMBER","body":"@aokolnychyi + @rdblue I would like to have access to these Utilities for doing some work with the Sort Rewrite Action. If anyone has another Idea on how to get access to this functionality I would be glad to hear it. Ideally I would like to keep Scala and this code out of the Spark3 module, but I can't have an Action use code from within the Extensions module.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879376889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879465155","html_url":"https://github.com/apache/iceberg/pull/1508#issuecomment-879465155","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1508","id":879465155,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTQ2NTE1NQ==","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T23:13:15Z","updated_at":"2021-07-13T23:13:15Z","author_association":"CONTRIBUTOR","body":"@yyanyy I have updated this since #2275 was merged. Can you please review it?\r\nIn `BaseTable#schemaForSnapshot`, we look up the schema by `schema-id` from the `schemas` list. If it is not found, we go through the previous metadata files until we find one whose current snapshot id is the snapshot id and get the schema from there.\r\nThe rest of the PR basically supports using the schema for the snapshot when reading an Iceberg table from Spark. I am not qualified to make the changes for other engines (I don't believe Hive supports time travel yet), so that can be done by others in separate PRs.\r\n@rdblue, @RussellSpitzer, @aokolnychyi , can any of you help review this too? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879465155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879620722","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-879620722","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":879620722,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTYyMDcyMg==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T06:11:08Z","updated_at":"2021-07-14T06:11:08Z","author_association":"CONTRIBUTOR","body":"@pvary, yes, the relative path approach looks more elegant than the metadata rebuild one. As I mentioned, it is close to the ideal case, which doesn't rewrite the metadata files.\r\n> What do we want to change in the json? Is it only the path of the table, or we have to rewrite something else as well? Could we use something like the LocationProvider (which generates new datafile locations) to make the path resolution pluggable and store only the config in the table?\r\n\r\nNeed to change the location in metadata.json, or a combination of three table properties mentioned by @rdblue and @jackye1995. \r\n\r\nThanks @jackye1995 's proposal. It makes sense to have a centralized place to get the root for data and metadata since there are multiple ways to specify their locations. We can also hide the logic of how to prioritize them. cc @anuragmantri. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879620722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879737391","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-879737391","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":879737391,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTczNzM5MQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T09:21:03Z","updated_at":"2021-07-14T09:21:03Z","author_association":"CONTRIBUTOR","body":"Why just get the root for the data/metadata from the LocationProvider?\r\n\r\nWhy not expose these methods instead:\r\n```\r\n// initialize the provider with the root paths and the `useRelativePath` config,\r\n// or have different implementations like:\r\n// - AbsoluteLocationProvider,\r\n// - RelativeLocationProvider?\r\nLocationProvider(Properties tableProperties);\r\n\r\n// generate the absolute path for the metadata files\r\nPath metaDataLocation(String file);\r\n// generate the absolute path for the metadata files\r\nPath dataLocation(String file);\r\n\r\n// generate the value we put into the avro files - absolute or relative path\r\nString metaDataKey(Path metadataFile);\r\n// generate the value we put into the avro files - absolute or relative path\r\nString dataKey(Path metadataFile);\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879737391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879740682","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-879740682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":879740682,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTc0MDY4Mg==","user":{"login":"wang-x-xia","id":83057695,"node_id":"MDQ6VXNlcjgzMDU3Njk1","avatar_url":"https://avatars.githubusercontent.com/u/83057695?v=4","gravatar_id":"","url":"https://api.github.com/users/wang-x-xia","html_url":"https://github.com/wang-x-xia","followers_url":"https://api.github.com/users/wang-x-xia/followers","following_url":"https://api.github.com/users/wang-x-xia/following{/other_user}","gists_url":"https://api.github.com/users/wang-x-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/wang-x-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wang-x-xia/subscriptions","organizations_url":"https://api.github.com/users/wang-x-xia/orgs","repos_url":"https://api.github.com/users/wang-x-xia/repos","events_url":"https://api.github.com/users/wang-x-xia/events{/privacy}","received_events_url":"https://api.github.com/users/wang-x-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T09:26:11Z","updated_at":"2021-07-14T09:26:11Z","author_association":"CONTRIBUTOR","body":"@kbendick \r\n\r\nThe package and module name has changed.\r\n\r\n@rdblue \r\n\r\nWe want to give a whole solution of catalog. It's hard to separate parts of impls into different PRs. I think I can give you more knowledge about this catalog. I'm preparing something about it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879740682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879881409","html_url":"https://github.com/apache/iceberg/issues/2822#issuecomment-879881409","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2822","id":879881409,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTg4MTQwOQ==","user":{"login":"lsyldliu","id":17698589,"node_id":"MDQ6VXNlcjE3Njk4NTg5","avatar_url":"https://avatars.githubusercontent.com/u/17698589?v=4","gravatar_id":"","url":"https://api.github.com/users/lsyldliu","html_url":"https://github.com/lsyldliu","followers_url":"https://api.github.com/users/lsyldliu/followers","following_url":"https://api.github.com/users/lsyldliu/following{/other_user}","gists_url":"https://api.github.com/users/lsyldliu/gists{/gist_id}","starred_url":"https://api.github.com/users/lsyldliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lsyldliu/subscriptions","organizations_url":"https://api.github.com/users/lsyldliu/orgs","repos_url":"https://api.github.com/users/lsyldliu/repos","events_url":"https://api.github.com/users/lsyldliu/events{/privacy}","received_events_url":"https://api.github.com/users/lsyldliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T13:14:24Z","updated_at":"2021-07-14T13:16:39Z","author_association":"NONE","body":"Try add a back quoted identifier in `hive_catalog` `default` `sample`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879881409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879902726","html_url":"https://github.com/apache/iceberg/issues/2821#issuecomment-879902726","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2821","id":879902726,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTkwMjcyNg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T13:41:41Z","updated_at":"2021-07-14T13:41:41Z","author_association":"MEMBER","body":"Expire snapshots action uses remove snapshots under the hood to actually do the snapshot expiration so I think this should work right now","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879902726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879952112","html_url":"https://github.com/apache/iceberg/pull/2756#issuecomment-879952112","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2756","id":879952112,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTk1MjExMg==","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T14:41:12Z","updated_at":"2021-07-14T14:41:12Z","author_association":"CONTRIBUTOR","body":"@rdblue would you like to have another look at this? I believe @rymurr also reviewed parts of this already.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/879952112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880025863","html_url":"https://github.com/apache/iceberg/pull/2756#issuecomment-880025863","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2756","id":880025863,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDAyNTg2Mw==","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T16:13:30Z","updated_at":"2021-07-14T16:13:30Z","author_association":"CONTRIBUTOR","body":"CI fails for unrelated reasons but I can't restart it","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880025863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880068307","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-880068307","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":880068307,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDA2ODMwNw==","user":{"login":"anuragmantri","id":13743212,"node_id":"MDQ6VXNlcjEzNzQzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/13743212?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragmantri","html_url":"https://github.com/anuragmantri","followers_url":"https://api.github.com/users/anuragmantri/followers","following_url":"https://api.github.com/users/anuragmantri/following{/other_user}","gists_url":"https://api.github.com/users/anuragmantri/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragmantri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragmantri/subscriptions","organizations_url":"https://api.github.com/users/anuragmantri/orgs","repos_url":"https://api.github.com/users/anuragmantri/repos","events_url":"https://api.github.com/users/anuragmantri/events{/privacy}","received_events_url":"https://api.github.com/users/anuragmantri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T17:15:51Z","updated_at":"2021-07-14T17:34:58Z","author_association":"CONTRIBUTOR","body":"Catching up on the comments from past couple of days. Thanks everyone for providing inputs.\r\n\r\n@flyrain - Although it will increase the scope of this design to include bi-directional replication, we should consider covering that here. \r\n\r\nOverall, I agree with @jackye1995's proposal. Thanks for the detailed explanation. \r\n\r\n> Then these 4 properties are used to get 2 absolute root paths:\r\n> \r\n> root path to write data: the LocationProvider would read some fields in this list to determine the base root path, and generate absolute paths to write data files.\r\n> root path to write metadata: similarly, the TableOperations.metadataFileLocation reads some fields above to determine the base root path, and generate paths for metadata files.\r\n\r\nIn the initial design doc, my thinking was the writes mentioned above need to change at all. However, reading the comments from @pvary above, we may indeed  have to store a `root` location somewhere for cases where we want to read inaccessible paths. Whether we want to have explicit method to set this root before accessing a table or have a mechanism for replicated tables to register themselves as replicas and then use a retry logic can be discussed.\r\n\r\nMy takeaways from this are:\r\n\r\n1. Metadata writers need to know\r\n   a) Relative path boolean \r\n   b) True root of the table\r\n   c) Metadata path if set\r\n   Additionally, they will also convert paths to relative in metadata files.\r\n   \r\n2. Data writers need to know\r\n   a) Data path if set\r\n   b) True root of the table \r\n   \r\nAn update transaction will change all the above except relative path boolean. Please correct me if my understanding is incorrect.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880068307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880080917","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-880080917","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":880080917,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDA4MDkxNw==","user":{"login":"anuragmantri","id":13743212,"node_id":"MDQ6VXNlcjEzNzQzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/13743212?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragmantri","html_url":"https://github.com/anuragmantri","followers_url":"https://api.github.com/users/anuragmantri/followers","following_url":"https://api.github.com/users/anuragmantri/following{/other_user}","gists_url":"https://api.github.com/users/anuragmantri/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragmantri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragmantri/subscriptions","organizations_url":"https://api.github.com/users/anuragmantri/orgs","repos_url":"https://api.github.com/users/anuragmantri/repos","events_url":"https://api.github.com/users/anuragmantri/events{/privacy}","received_events_url":"https://api.github.com/users/anuragmantri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T17:35:07Z","updated_at":"2021-07-14T17:35:07Z","author_association":"CONTRIBUTOR","body":"> Why not expose these methods instead:\r\n> \r\n> // initialize the provider with the root paths and the `useRelativePath` config,\r\n> // or have different implementations like:\r\n> // - AbsoluteLocationProvider,\r\n> // - RelativeLocationProvider?\r\n> LocationProvider(Properties tableProperties);\r\n> \r\n> // generate the absolute path for the metadata files\r\n> Path metaDataLocation(String file);\r\n> // generate the absolute path for the metadata files\r\n> Path dataLocation(String file);\r\n> \r\n> // generate the value we put into the avro files - absolute or relative path\r\n> String metaDataKey(Path metadataFile);\r\n> // generate the value we put into the avro files - absolute or relative path\r\n> String dataKey(Path metadataFile);\r\n\r\n@pvary - This may make the code change larger. Other than that, I don't see why this cannot be done unless I'm missing something.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880080917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880099853","html_url":"https://github.com/apache/iceberg/pull/2757#issuecomment-880099853","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2757","id":880099853,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDA5OTg1Mw==","user":{"login":"sshkvar","id":3986221,"node_id":"MDQ6VXNlcjM5ODYyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3986221?v=4","gravatar_id":"","url":"https://api.github.com/users/sshkvar","html_url":"https://github.com/sshkvar","followers_url":"https://api.github.com/users/sshkvar/followers","following_url":"https://api.github.com/users/sshkvar/following{/other_user}","gists_url":"https://api.github.com/users/sshkvar/gists{/gist_id}","starred_url":"https://api.github.com/users/sshkvar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sshkvar/subscriptions","organizations_url":"https://api.github.com/users/sshkvar/orgs","repos_url":"https://api.github.com/users/sshkvar/repos","events_url":"https://api.github.com/users/sshkvar/events{/privacy}","received_events_url":"https://api.github.com/users/sshkvar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T18:03:47Z","updated_at":"2021-07-14T18:03:47Z","author_association":"CONTRIBUTOR","body":"Check failed\r\n```\r\norg.apache.iceberg.actions.TestDeleteReachableFilesAction24 > dataFilesCleanupWithParallelTasks FAILED\r\n    java.lang.AssertionError: FILE_A should be deleted\r\n```\r\nLocally this test passed successfully. @RussellSpitzer Can we try to rerun this step? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880099853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880106984","html_url":"https://github.com/apache/iceberg/pull/2757#issuecomment-880106984","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2757","id":880106984,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDEwNjk4NA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T18:14:35Z","updated_at":"2021-07-14T18:14:35Z","author_association":"MEMBER","body":"I can trigger a re-run, just pinged @karuppayya to take a look","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880106984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880251210","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-880251210","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":880251210,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDI1MTIxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T22:28:07Z","updated_at":"2021-07-14T22:28:07Z","author_association":"CONTRIBUTOR","body":"@wang-x-xia, it's really hard to review PRs that are larger than necessary. If you want to get this in more quickly, I suggest making it easier to review by dividing it up into reasonable sized PRs. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880251210/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880328013","html_url":"https://github.com/apache/iceberg/issues/2533#issuecomment-880328013","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2533","id":880328013,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDMyODAxMw==","user":{"login":"KarlManong","id":2627662,"node_id":"MDQ6VXNlcjI2Mjc2NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2627662?v=4","gravatar_id":"","url":"https://api.github.com/users/KarlManong","html_url":"https://github.com/KarlManong","followers_url":"https://api.github.com/users/KarlManong/followers","following_url":"https://api.github.com/users/KarlManong/following{/other_user}","gists_url":"https://api.github.com/users/KarlManong/gists{/gist_id}","starred_url":"https://api.github.com/users/KarlManong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KarlManong/subscriptions","organizations_url":"https://api.github.com/users/KarlManong/orgs","repos_url":"https://api.github.com/users/KarlManong/repos","events_url":"https://api.github.com/users/KarlManong/events{/privacy}","received_events_url":"https://api.github.com/users/KarlManong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T01:55:36Z","updated_at":"2021-07-15T01:55:36Z","author_association":"CONTRIBUTOR","body":"> I think I've found the problem，Thank you very much for your follow-up!! @RussellSpitzer @aokolnychyi @Reo-LEI\r\n\r\n@221770490011111 hello, I got the same exception. Where is the key to solving this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880328013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880330140","html_url":"https://github.com/apache/iceberg/issues/2533#issuecomment-880330140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2533","id":880330140,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDMzMDE0MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T02:01:42Z","updated_at":"2021-07-15T02:01:42Z","author_association":"MEMBER","body":"@KarlManong You can build Iceberg from master, or wait for the 0.12 release. The fix is in tree but not yet in a released version","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880330140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880338245","html_url":"https://github.com/apache/iceberg/issues/2821#issuecomment-880338245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2821","id":880338245,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDMzODI0NQ==","user":{"login":"jinchengchenghh","id":79615558,"node_id":"MDQ6VXNlcjc5NjE1NTU4","avatar_url":"https://avatars.githubusercontent.com/u/79615558?v=4","gravatar_id":"","url":"https://api.github.com/users/jinchengchenghh","html_url":"https://github.com/jinchengchenghh","followers_url":"https://api.github.com/users/jinchengchenghh/followers","following_url":"https://api.github.com/users/jinchengchenghh/following{/other_user}","gists_url":"https://api.github.com/users/jinchengchenghh/gists{/gist_id}","starred_url":"https://api.github.com/users/jinchengchenghh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinchengchenghh/subscriptions","organizations_url":"https://api.github.com/users/jinchengchenghh/orgs","repos_url":"https://api.github.com/users/jinchengchenghh/repos","events_url":"https://api.github.com/users/jinchengchenghh/events{/privacy}","received_events_url":"https://api.github.com/users/jinchengchenghh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T02:22:21Z","updated_at":"2021-07-15T02:22:21Z","author_association":"NONE","body":"Thanks you for your reply. I misunderstand, it has worked now","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880338245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880343939","html_url":"https://github.com/apache/iceberg/pull/2824#issuecomment-880343939","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2824","id":880343939,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDM0MzkzOQ==","user":{"login":"haormj","id":18750674,"node_id":"MDQ6VXNlcjE4NzUwNjc0","avatar_url":"https://avatars.githubusercontent.com/u/18750674?v=4","gravatar_id":"","url":"https://api.github.com/users/haormj","html_url":"https://github.com/haormj","followers_url":"https://api.github.com/users/haormj/followers","following_url":"https://api.github.com/users/haormj/following{/other_user}","gists_url":"https://api.github.com/users/haormj/gists{/gist_id}","starred_url":"https://api.github.com/users/haormj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haormj/subscriptions","organizations_url":"https://api.github.com/users/haormj/orgs","repos_url":"https://api.github.com/users/haormj/repos","events_url":"https://api.github.com/users/haormj/events{/privacy}","received_events_url":"https://api.github.com/users/haormj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T02:38:27Z","updated_at":"2021-07-15T02:38:27Z","author_association":"CONTRIBUTOR","body":"@openinx can you review it if you have time","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880343939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880356853","html_url":"https://github.com/apache/iceberg/issues/2533#issuecomment-880356853","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2533","id":880356853,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDM1Njg1Mw==","user":{"login":"KarlManong","id":2627662,"node_id":"MDQ6VXNlcjI2Mjc2NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2627662?v=4","gravatar_id":"","url":"https://api.github.com/users/KarlManong","html_url":"https://github.com/KarlManong","followers_url":"https://api.github.com/users/KarlManong/followers","following_url":"https://api.github.com/users/KarlManong/following{/other_user}","gists_url":"https://api.github.com/users/KarlManong/gists{/gist_id}","starred_url":"https://api.github.com/users/KarlManong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KarlManong/subscriptions","organizations_url":"https://api.github.com/users/KarlManong/orgs","repos_url":"https://api.github.com/users/KarlManong/repos","events_url":"https://api.github.com/users/KarlManong/events{/privacy}","received_events_url":"https://api.github.com/users/KarlManong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T03:07:45Z","updated_at":"2021-07-15T03:07:45Z","author_association":"CONTRIBUTOR","body":"> @KarlManong You can build Iceberg from master, or wait for the 0.12 release. The fix is in tree but not yet in a released version\r\n\r\n@RussellSpitzer I was running on https://github.com/apache/iceberg/commit/b3fb81a19e9632608b2bd4cdede4bbfcbd26bc8e, but still got this exception. Am I missing something?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880356853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880368929","html_url":"https://github.com/apache/iceberg/issues/2533#issuecomment-880368929","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2533","id":880368929,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDM2ODkyOQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T03:45:12Z","updated_at":"2021-07-15T03:45:12Z","author_association":"MEMBER","body":"How were you running on that build? My first guess would be that that version wasn't actually present at runtime","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880368929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880407046","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-880407046","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":880407046,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDQwNzA0Ng==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T05:28:35Z","updated_at":"2021-07-15T05:29:24Z","author_association":"CONTRIBUTOR","body":"> @rdblue\r\n> \r\n> We want to give a whole solution of catalog. It's hard to separate parts of impls into different PRs. I think I can give you more knowledge about this catalog. I'm preparing something about it.\r\n\r\nI agree with Ryan that it’s very hard to review PRs that are so large in scope.\r\n\r\nSometimes, I’ve seen people have one main PR / mother PR, kept as a reference (which is updated as other PRs are reviewed). And then smaller PRs of some components (like the ones Ryan mentioned) are broken out for review, with possibly a reference to the whole PR for people to see the desired end picture (marking it as a draft or [DO NOT MERGE] etc).\r\n\r\nThis way, contributors can review PRs that are more manageable in size, but the overview can still be provided if it really is that important. Just be sure to update the reference / mother PR based on updates you make to the others.\r\n\r\nIdeally, parts are well enough contained to be reviewable on their own. But I do agree with Ryan, that if you want to get this in more quickly, it would be most advisable to break it up into more manageable chunks (along the API lines he mentioned would be a good place to start). 🙂\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880407046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880426073","html_url":"https://github.com/apache/iceberg/issues/2533#issuecomment-880426073","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2533","id":880426073,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDQyNjA3Mw==","user":{"login":"KarlManong","id":2627662,"node_id":"MDQ6VXNlcjI2Mjc2NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2627662?v=4","gravatar_id":"","url":"https://api.github.com/users/KarlManong","html_url":"https://github.com/KarlManong","followers_url":"https://api.github.com/users/KarlManong/followers","following_url":"https://api.github.com/users/KarlManong/following{/other_user}","gists_url":"https://api.github.com/users/KarlManong/gists{/gist_id}","starred_url":"https://api.github.com/users/KarlManong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KarlManong/subscriptions","organizations_url":"https://api.github.com/users/KarlManong/orgs","repos_url":"https://api.github.com/users/KarlManong/repos","events_url":"https://api.github.com/users/KarlManong/events{/privacy}","received_events_url":"https://api.github.com/users/KarlManong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T06:13:44Z","updated_at":"2021-07-15T06:26:28Z","author_association":"CONTRIBUTOR","body":"> How were you running on that build? My first guess would be that that version wasn't actually present at runtime\r\n\r\n@RussellSpitzer I rebuilt a table with exactly the same statement(using Trino), and everything worked well. The only difference is that the old table has some data.\r\n\r\nThe failed logs: \r\n[s-bigdata-402-5918f407-84557c7aa8cf66dc-driver-spark-kubernetes-driver-log.txt](https://github.com/apache/iceberg/files/6820810/s-bigdata-402-5918f407-84557c7aa8cf66dc-driver-spark-kubernetes-driver-log.txt)\r\n\r\nThe succeed logs:\r\n[s-bigdata-402-21809172-57074b7aa8d5269c-driver-spark-kubernetes-driver-log.txt](https://github.com/apache/iceberg/files/6820831/s-bigdata-402-21809172-57074b7aa8d5269c-driver-spark-kubernetes-driver-log.txt)\r\n\r\n\r\nThe sql: \r\n[create table.txt](https://github.com/apache/iceberg/files/6820816/create.table.txt)\r\n[merge.txt](https://github.com/apache/iceberg/files/6820817/merge.txt)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880426073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880448282","html_url":"https://github.com/apache/iceberg/issues/2825#issuecomment-880448282","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2825","id":880448282,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDQ0ODI4Mg==","user":{"login":"haormj","id":18750674,"node_id":"MDQ6VXNlcjE4NzUwNjc0","avatar_url":"https://avatars.githubusercontent.com/u/18750674?v=4","gravatar_id":"","url":"https://api.github.com/users/haormj","html_url":"https://github.com/haormj","followers_url":"https://api.github.com/users/haormj/followers","following_url":"https://api.github.com/users/haormj/following{/other_user}","gists_url":"https://api.github.com/users/haormj/gists{/gist_id}","starred_url":"https://api.github.com/users/haormj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haormj/subscriptions","organizations_url":"https://api.github.com/users/haormj/orgs","repos_url":"https://api.github.com/users/haormj/repos","events_url":"https://api.github.com/users/haormj/events{/privacy}","received_events_url":"https://api.github.com/users/haormj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T06:59:48Z","updated_at":"2021-07-15T06:59:48Z","author_association":"CONTRIBUTOR","body":"@ismailsimsek @openinx how should we fix it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880448282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880466025","html_url":"https://github.com/apache/iceberg/issues/2533#issuecomment-880466025","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2533","id":880466025,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDQ2NjAyNQ==","user":{"login":"KarlManong","id":2627662,"node_id":"MDQ6VXNlcjI2Mjc2NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2627662?v=4","gravatar_id":"","url":"https://api.github.com/users/KarlManong","html_url":"https://github.com/KarlManong","followers_url":"https://api.github.com/users/KarlManong/followers","following_url":"https://api.github.com/users/KarlManong/following{/other_user}","gists_url":"https://api.github.com/users/KarlManong/gists{/gist_id}","starred_url":"https://api.github.com/users/KarlManong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KarlManong/subscriptions","organizations_url":"https://api.github.com/users/KarlManong/orgs","repos_url":"https://api.github.com/users/KarlManong/repos","events_url":"https://api.github.com/users/KarlManong/events{/privacy}","received_events_url":"https://api.github.com/users/KarlManong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T07:31:49Z","updated_at":"2021-07-15T07:31:49Z","author_association":"CONTRIBUTOR","body":"> > How were you running on that build? My first guess would be that that version wasn't actually present at runtime\r\n> \r\n> @RussellSpitzer I rebuilt a table with exactly the same statement(using Trino), and everything worked well. The only difference is that the old table has some data.\r\n> \r\n> The failed logs:\r\n> [s-bigdata-402-5918f407-84557c7aa8cf66dc-driver-spark-kubernetes-driver-log.txt](https://github.com/apache/iceberg/files/6820810/s-bigdata-402-5918f407-84557c7aa8cf66dc-driver-spark-kubernetes-driver-log.txt)\r\n> \r\n> The succeed logs:\r\n> [s-bigdata-402-21809172-57074b7aa8d5269c-driver-spark-kubernetes-driver-log.txt](https://github.com/apache/iceberg/files/6820831/s-bigdata-402-21809172-57074b7aa8d5269c-driver-spark-kubernetes-driver-log.txt)\r\n> \r\n> The sql:\r\n> [create table.txt](https://github.com/apache/iceberg/files/6820816/create.table.txt)\r\n> [merge.txt](https://github.com/apache/iceberg/files/6820817/merge.txt)\r\n\r\nI run the exception sql on spark-thriftserver, and it worked. May be the old application has some problem.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880466025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880482774","html_url":"https://github.com/apache/iceberg/issues/2825#issuecomment-880482774","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2825","id":880482774,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDQ4Mjc3NA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T07:59:29Z","updated_at":"2021-07-15T07:59:29Z","author_association":"CONTRIBUTOR","body":"If you look at the original PR for the JDBC catalog, there might be a reference in there as to why createNamespace is not explicitly supported.\r\n\r\nI think that namespaces are implicit, and the namespace is created by simply adding a table with a / in it (if you look at the code for dropNamespace or listNamespace, you’ll see what I mean).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880482774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880484067","html_url":"https://github.com/apache/iceberg/issues/2825#issuecomment-880484067","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2825","id":880484067,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDQ4NDA2Nw==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T08:01:24Z","updated_at":"2021-07-15T08:01:24Z","author_association":"CONTRIBUTOR","body":"What query are you running that’s generating this exception?\r\n\r\nLooking at your stack trace, it says the namespace is “default”. Usually, I thought that didn’t need to be created (but I might be thinking of Spark).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880484067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880515255","html_url":"https://github.com/apache/iceberg/issues/2825#issuecomment-880515255","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2825","id":880515255,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDUxNTI1NQ==","user":{"login":"haormj","id":18750674,"node_id":"MDQ6VXNlcjE4NzUwNjc0","avatar_url":"https://avatars.githubusercontent.com/u/18750674?v=4","gravatar_id":"","url":"https://api.github.com/users/haormj","html_url":"https://github.com/haormj","followers_url":"https://api.github.com/users/haormj/followers","following_url":"https://api.github.com/users/haormj/following{/other_user}","gists_url":"https://api.github.com/users/haormj/gists{/gist_id}","starred_url":"https://api.github.com/users/haormj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haormj/subscriptions","organizations_url":"https://api.github.com/users/haormj/orgs","repos_url":"https://api.github.com/users/haormj/repos","events_url":"https://api.github.com/users/haormj/events{/privacy}","received_events_url":"https://api.github.com/users/haormj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T08:46:11Z","updated_at":"2021-07-15T08:47:03Z","author_association":"CONTRIBUTOR","body":"@kbendick thinks for your reply\r\n\r\nI use flink SQL client to query data from jdbc catalog, When I open SQL client with jdbc catalog, it will automate create default namespace","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/880515255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]