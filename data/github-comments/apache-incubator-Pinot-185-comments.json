[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1565782702","html_url":"https://github.com/apache/pinot/pull/10771#issuecomment-1565782702","issue_url":"https://api.github.com/repos/apache/pinot/issues/10771","id":1565782702,"node_id":"IC_kwDOATCU_c5dU_Ku","user":{"login":"soumitra-st","id":127247229,"node_id":"U_kgDOB5WjfQ","avatar_url":"https://avatars.githubusercontent.com/u/127247229?v=4","gravatar_id":"","url":"https://api.github.com/users/soumitra-st","html_url":"https://github.com/soumitra-st","followers_url":"https://api.github.com/users/soumitra-st/followers","following_url":"https://api.github.com/users/soumitra-st/following{/other_user}","gists_url":"https://api.github.com/users/soumitra-st/gists{/gist_id}","starred_url":"https://api.github.com/users/soumitra-st/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/soumitra-st/subscriptions","organizations_url":"https://api.github.com/users/soumitra-st/orgs","repos_url":"https://api.github.com/users/soumitra-st/repos","events_url":"https://api.github.com/users/soumitra-st/events{/privacy}","received_events_url":"https://api.github.com/users/soumitra-st/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-28T01:26:28Z","updated_at":"2023-05-28T01:26:28Z","author_association":"CONTRIBUTOR","body":"Removed the deprecated property enable.case.insensitive.pql.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1565782702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1565937592","html_url":"https://github.com/apache/pinot/pull/10813#issuecomment-1565937592","issue_url":"https://api.github.com/repos/apache/pinot/issues/10813","id":1565937592,"node_id":"IC_kwDOATCU_c5dVk-4","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-28T06:43:04Z","updated_at":"2023-06-13T18:21:49Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10813](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (b10b9dc) into [master](https://app.codecov.io/gh/apache/pinot/commit/86b3b3e1c5bad5092f357358888ff28903ab05df?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (86b3b3e) will **decrease** coverage by `0.01%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@            Coverage Diff             @@\n##           master   #10813      +/-   ##\n==========================================\n- Coverage    0.11%    0.11%   -0.01%     \n==========================================\n  Files        2186     2186              \n  Lines      117493   117512      +19     \n  Branches    17762    17763       +1     \n==========================================\n  Hits          137      137              \n- Misses     117336   117355      +19     \n  Partials       20       20              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1temurin11 | `0.00% <0.00%> (ø)` | |\n| integration1temurin17 | `0.00% <0.00%> (ø)` | |\n| integration1temurin20 | `0.00% <0.00%> (ø)` | |\n| integration2temurin11 | `0.00% <0.00%> (ø)` | |\n| integration2temurin17 | `0.00% <0.00%> (ø)` | |\n| integration2temurin20 | `?` | |\n| unittests1temurin11 | `0.00% <0.00%> (ø)` | |\n| unittests1temurin17 | `?` | |\n| unittests1temurin20 | `0.00% <0.00%> (ø)` | |\n| unittests2temurin11 | `0.11% <0.00%> (-0.01%)` | :arrow_down: |\n| unittests2temurin17 | `0.11% <0.00%> (-0.01%)` | :arrow_down: |\n| unittests2temurin20 | `0.11% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/pinot/query/planner/PlanFragment.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9QbGFuRnJhZ21lbnQuamF2YQ==) | `0.00% <ø> (ø)` | |\n| [...uery/planner/logical/PinotLogicalQueryPlanner.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1Bpbm90TG9naWNhbFF1ZXJ5UGxhbm5lci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...he/pinot/query/planner/logical/PlanFragmenter.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1BsYW5GcmFnbWVudGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../query/planner/logical/RelToPlanNodeConverter.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1JlbFRvUGxhbk5vZGVDb252ZXJ0ZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...t/query/planner/logical/ShuffleRewriteVisitor.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1NodWZmbGVSZXdyaXRlVmlzaXRvci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...pinot/query/planner/logical/SubPlanFragmenter.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1N1YlBsYW5GcmFnbWVudGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...hysical/colocated/GreedyShuffleRewriteVisitor.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9waHlzaWNhbC9jb2xvY2F0ZWQvR3JlZWR5U2h1ZmZsZVJld3JpdGVWaXNpdG9yLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...che/pinot/query/planner/plannode/ExchangeNode.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9wbGFubm9kZS9FeGNoYW5nZU5vZGUuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...not/query/planner/plannode/MailboxReceiveNode.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9wbGFubm9kZS9NYWlsYm94UmVjZWl2ZU5vZGUuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [.../pinot/query/planner/plannode/MailboxSendNode.java](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9wbGFubm9kZS9NYWlsYm94U2VuZE5vZGUuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| ... and [3 more](https://app.codecov.io/gh/apache/pinot/pull/10813?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | |\n\n... and [1 file with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10813/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1565937592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1567325042","html_url":"https://github.com/apache/pinot/pull/10814#issuecomment-1567325042","issue_url":"https://api.github.com/repos/apache/pinot/issues/10814","id":1567325042,"node_id":"IC_kwDOATCU_c5da3ty","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-29T16:23:01Z","updated_at":"2023-06-13T18:25:13Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10814?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10814](https://app.codecov.io/gh/apache/pinot/pull/10814?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (7fc40ce) into [master](https://app.codecov.io/gh/apache/pinot/commit/207036950ad5fc13725ee464a2d0a09f26776638?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (2070369) will **not change** coverage.\n> The diff coverage is `0.00%`.\n\n```diff\n@@           Coverage Diff           @@\n##           master   #10814   +/-   ##\n=======================================\n  Coverage    0.11%    0.11%           \n=======================================\n  Files        2186     2186           \n  Lines      117493   117493           \n  Branches    17762    17762           \n=======================================\n  Hits          137      137           \n  Misses     117336   117336           \n  Partials       20       20           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1temurin11 | `0.00% <0.00%> (ø)` | |\n| integration1temurin20 | `0.00% <0.00%> (ø)` | |\n| integration2temurin17 | `0.00% <0.00%> (ø)` | |\n| integration2temurin20 | `0.00% <0.00%> (?)` | |\n| unittests1temurin11 | `?` | |\n| unittests1temurin17 | `0.00% <0.00%> (?)` | |\n| unittests1temurin20 | `0.00% <0.00%> (?)` | |\n| unittests2temurin11 | `?` | |\n| unittests2temurin17 | `0.11% <0.00%> (?)` | |\n| unittests2temurin20 | `0.11% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10814?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [.../query/planner/logical/RelToPlanNodeConverter.java](https://app.codecov.io/gh/apache/pinot/pull/10814?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1JlbFRvUGxhbk5vZGVDb252ZXJ0ZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [.../java/org/apache/pinot/query/type/TypeFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10814?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvdHlwZS9UeXBlRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (ø)` | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1567325042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1567347916","html_url":"https://github.com/apache/pinot/issues/10243#issuecomment-1567347916","issue_url":"https://api.github.com/repos/apache/pinot/issues/10243","id":1567347916,"node_id":"IC_kwDOATCU_c5da9TM","user":{"login":"wirybeaver","id":19251177,"node_id":"MDQ6VXNlcjE5MjUxMTc3","avatar_url":"https://avatars.githubusercontent.com/u/19251177?v=4","gravatar_id":"","url":"https://api.github.com/users/wirybeaver","html_url":"https://github.com/wirybeaver","followers_url":"https://api.github.com/users/wirybeaver/followers","following_url":"https://api.github.com/users/wirybeaver/following{/other_user}","gists_url":"https://api.github.com/users/wirybeaver/gists{/gist_id}","starred_url":"https://api.github.com/users/wirybeaver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wirybeaver/subscriptions","organizations_url":"https://api.github.com/users/wirybeaver/orgs","repos_url":"https://api.github.com/users/wirybeaver/repos","events_url":"https://api.github.com/users/wirybeaver/events{/privacy}","received_events_url":"https://api.github.com/users/wirybeaver/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-29T16:58:38Z","updated_at":"2023-05-29T16:58:38Z","author_association":"CONTRIBUTOR","body":"Already talk with Ankit and attempted to solve this issue to mitigate the shortage of HDFS quota.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1567347916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1567973157","html_url":"https://github.com/apache/pinot/issues/10753#issuecomment-1567973157","issue_url":"https://api.github.com/repos/apache/pinot/issues/10753","id":1567973157,"node_id":"IC_kwDOATCU_c5ddV8l","user":{"login":"JasonLeeWeiHern","id":42372667,"node_id":"MDQ6VXNlcjQyMzcyNjY3","avatar_url":"https://avatars.githubusercontent.com/u/42372667?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonLeeWeiHern","html_url":"https://github.com/JasonLeeWeiHern","followers_url":"https://api.github.com/users/JasonLeeWeiHern/followers","following_url":"https://api.github.com/users/JasonLeeWeiHern/following{/other_user}","gists_url":"https://api.github.com/users/JasonLeeWeiHern/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonLeeWeiHern/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonLeeWeiHern/subscriptions","organizations_url":"https://api.github.com/users/JasonLeeWeiHern/orgs","repos_url":"https://api.github.com/users/JasonLeeWeiHern/repos","events_url":"https://api.github.com/users/JasonLeeWeiHern/events{/privacy}","received_events_url":"https://api.github.com/users/JasonLeeWeiHern/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-30T08:13:35Z","updated_at":"2023-05-30T08:13:35Z","author_association":"NONE","body":"Error message: There are 580 invalid segment/s. This usually means that they were created with an older schema. Please reload the table in order to refresh these segments to the new schema.\r\n\r\nWrong query: \r\nSELECT LOOKUP('table1', 'areaName', 'cityId', cityID, 'geohash', geohash) AS areaName FROM table2 limit 10 \r\nCorrect query:\r\nSELECT LOOKUP('table1', 'areaName', 'cityId', cityID, 'geohash', geohash6) AS areaName FROM table2 limit 10 \r\n\r\nThe column geohash in table 2 should be labelled as geohash6. With this incorrect column name, it throws the above error message.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1567973157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569126442","html_url":"https://github.com/apache/pinot/pull/10817#issuecomment-1569126442","issue_url":"https://api.github.com/repos/apache/pinot/issues/10817","id":1569126442,"node_id":"IC_kwDOATCU_c5dhvgq","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-30T21:27:23Z","updated_at":"2023-05-30T21:27:23Z","author_association":"CONTRIBUTOR","body":"cc @nizarhejazi We are changing the default NULL ordering to be SQL standard (treat NULL as the largest value if not explicitly set)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569126442/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569218864","html_url":"https://github.com/apache/pinot/pull/10817#issuecomment-1569218864","issue_url":"https://api.github.com/repos/apache/pinot/issues/10817","id":1569218864,"node_id":"IC_kwDOATCU_c5diGEw","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-30T22:35:54Z","updated_at":"2023-05-30T22:40:05Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10817?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10817](https://app.codecov.io/gh/apache/pinot/pull/10817?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (49f2f19) into [master](https://app.codecov.io/gh/apache/pinot/commit/c48f4b3771f62e6a6fdd32376baf6b4c8701b0d8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (c48f4b3) will **increase** coverage by `4.49%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10817      +/-   ##\n============================================\n+ Coverage     64.33%   68.82%   +4.49%     \n- Complexity     6505     6527      +22     \n============================================\n  Files          2110     2164      +54     \n  Lines        113914   116408    +2494     \n  Branches      17310    17609     +299     \n============================================\n+ Hits          73284    80118    +6834     \n+ Misses        35361    30684    -4677     \n- Partials       5269     5606     +337     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration2 | `23.51% <50.00%> (?)` | |\n| unittests1 | `67.68% <100.00%> (-0.01%)` | :arrow_down: |\n| unittests2 | `13.64% <0.00%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...not/core/query/utils/OrderByComparatorFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9PcmRlckJ5Q29tcGFyYXRvckZhY3RvcnkuamF2YQ==) | `91.89% <100.00%> (+0.46%)` | :arrow_up: |\n\n... and [386 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10817/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569218864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569328134","html_url":"https://github.com/apache/pinot/pull/10818#issuecomment-1569328134","issue_url":"https://api.github.com/repos/apache/pinot/issues/10818","id":1569328134,"node_id":"IC_kwDOATCU_c5digwG","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T00:43:45Z","updated_at":"2023-05-31T01:20:55Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10818?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10818](https://app.codecov.io/gh/apache/pinot/pull/10818?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (c01680f) into [master](https://app.codecov.io/gh/apache/pinot/commit/d8b78c3fb7d1138edf55a2b60bfd417b1794644f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (d8b78c3) will **decrease** coverage by `1.24%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10818      +/-   ##\n============================================\n- Coverage     70.17%   68.93%   -1.24%     \n  Complexity     6529     6529              \n============================================\n  Files          2164     2164              \n  Lines        116408   116410       +2     \n  Branches      17609    17609              \n============================================\n- Hits          81686    80253    -1433     \n- Misses        29023    30533    +1510     \n+ Partials       5699     5624      -75     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `23.83% <0.00%> (+0.24%)` | :arrow_up: |\n| unittests1 | `67.72% <100.00%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.64% <0.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10818?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...not/core/query/utils/OrderByComparatorFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10818?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9PcmRlckJ5Q29tcGFyYXRvckZhY3RvcnkuamF2YQ==) | `92.30% <100.00%> (+0.41%)` | :arrow_up: |\n\n... and [152 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10818/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569328134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569333682","html_url":"https://github.com/apache/pinot/pull/10819#issuecomment-1569333682","issue_url":"https://api.github.com/repos/apache/pinot/issues/10819","id":1569333682,"node_id":"IC_kwDOATCU_c5diiGy","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T00:51:29Z","updated_at":"2023-05-31T23:33:00Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10819](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (a865807) into [master](https://app.codecov.io/gh/apache/pinot/commit/ab4e8fac84d07ab80dedb597f194f4ff9f2d1f0f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (ab4e8fa) will **decrease** coverage by `4.11%`.\n> The diff coverage is `75.32%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10819      +/-   ##\n============================================\n- Coverage     68.41%   64.30%   -4.11%     \n+ Complexity     6518     6500      -18     \n============================================\n  Files          2164     2110      -54     \n  Lines        116410   113948    -2462     \n  Branches      17609    17321     -288     \n============================================\n- Hits          79637    73275    -6362     \n- Misses        31136    35399    +4263     \n+ Partials       5637     5274     -363     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| unittests1 | `67.68% <75.32%> (-0.01%)` | :arrow_down: |\n| unittests2 | `13.63% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [.../apache/pinot/common/datablock/DataBlockUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YWJsb2NrL0RhdGFCbG9ja1V0aWxzLmphdmE=) | `90.67% <0.00%> (ø)` | |\n| [...pinot/query/parser/CalciteRexExpressionParser.java](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGFyc2VyL0NhbGNpdGVSZXhFeHByZXNzaW9uUGFyc2VyLmphdmE=) | `70.94% <66.66%> (-4.06%)` | :arrow_down: |\n| [.../apache/pinot/query/planner/plannode/SortNode.java](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9wbGFubm9kZS9Tb3J0Tm9kZS5qYXZh) | `85.18% <73.33%> (+0.18%)` | :arrow_up: |\n| [...not/query/planner/plannode/MailboxReceiveNode.java](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9wbGFubm9kZS9NYWlsYm94UmVjZWl2ZU5vZGUuamF2YQ==) | `80.00% <76.92%> (-2.36%)` | :arrow_down: |\n| [...t/query/runtime/plan/ServerRequestPlanVisitor.java](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL1NlcnZlclJlcXVlc3RQbGFuVmlzaXRvci5qYXZh) | `84.61% <80.00%> (-0.14%)` | :arrow_down: |\n| [.../pinot/query/runtime/operator/utils/SortUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci91dGlscy9Tb3J0VXRpbHMuamF2YQ==) | `93.54% <83.33%> (+26.88%)` | :arrow_up: |\n| [...che/pinot/query/runtime/operator/SortOperator.java](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9Tb3J0T3BlcmF0b3IuamF2YQ==) | `93.84% <100.00%> (ø)` | |\n| [...runtime/operator/SortedMailboxReceiveOperator.java](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9Tb3J0ZWRNYWlsYm94UmVjZWl2ZU9wZXJhdG9yLmphdmE=) | `87.80% <100.00%> (+0.30%)` | :arrow_up: |\n| [.../pinot/query/runtime/plan/PhysicalPlanVisitor.java](https://app.codecov.io/gh/apache/pinot/pull/10819?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL1BoeXNpY2FsUGxhblZpc2l0b3IuamF2YQ==) | `93.33% <100.00%> (+0.11%)` | :arrow_up: |\n\n... and [370 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10819/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569333682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569422018","html_url":"https://github.com/apache/pinot/pull/10814#issuecomment-1569422018","issue_url":"https://api.github.com/repos/apache/pinot/issues/10814","id":1569422018,"node_id":"IC_kwDOATCU_c5di3rC","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T02:54:31Z","updated_at":"2023-05-31T02:54:31Z","author_association":"CONTRIBUTOR","body":"> I feel this is not the right fix. The problem is that we always fill the value based on the value type of the LHS. Instead, we should use the common super type of LHS and RHS to perform the comparison. E.g. For INT - LONG comparison, we should read LONG values instead of INT regardless of which side has INT type.\r\n\r\nThanks for the reference.\r\n\r\nI tried to debug the int-long comparison query and found that from calcite, we are getting cast of `Int` to `Bigint` even though the `Int` column is in LHS. \r\n<img width=\"1584\" alt=\"Screen Shot 2023-05-30 at 10 43 59 PM\" src=\"https://github.com/apache/pinot/assets/1076944/f5376f04-d910-4258-bf69-b27444b54b94\">\r\n\r\n\r\nThis is not the case with float-double comparison. \r\nI wonder if it is happening by itself from the calcite site or if we have some logic to control the behaviour of calcite? Any pointers?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569422018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569481523","html_url":"https://github.com/apache/pinot/pull/10821#issuecomment-1569481523","issue_url":"https://api.github.com/repos/apache/pinot/issues/10821","id":1569481523,"node_id":"IC_kwDOATCU_c5djGMz","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T04:33:15Z","updated_at":"2023-05-31T04:33:15Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/pinot/issues/10820","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569481523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569507693","html_url":"https://github.com/apache/pinot/pull/10821#issuecomment-1569507693","issue_url":"https://api.github.com/repos/apache/pinot/issues/10821","id":1569507693,"node_id":"IC_kwDOATCU_c5djMlt","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T05:11:15Z","updated_at":"2023-05-31T05:26:23Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10821?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10821](https://app.codecov.io/gh/apache/pinot/pull/10821?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (cda2b02) into [master](https://app.codecov.io/gh/apache/pinot/commit/d8b78c3fb7d1138edf55a2b60bfd417b1794644f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (d8b78c3) will **decrease** coverage by `5.86%`.\n> The diff coverage is `80.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10821      +/-   ##\n============================================\n- Coverage     70.17%   64.31%   -5.86%     \n+ Complexity     6529     6505      -24     \n============================================\n  Files          2164     2110      -54     \n  Lines        116408   113920    -2488     \n  Branches      17609    17311     -298     \n============================================\n- Hits          81686    73266    -8420     \n- Misses        29023    35392    +6369     \n+ Partials       5699     5262     -437     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `67.69% <0.00%> (-0.04%)` | :arrow_down: |\n| unittests2 | `13.64% <80.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10821?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [.../org/apache/pinot/core/minion/PinotTaskConfig.java](https://app.codecov.io/gh/apache/pinot/pull/10821?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9taW5pb24vUGlub3RUYXNrQ29uZmlnLmphdmE=) | `0.00% <0.00%> (-56.53%)` | :arrow_down: |\n| [.../pinot/minion/taskfactory/TaskFactoryRegistry.java](https://app.codecov.io/gh/apache/pinot/pull/10821?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vdGFza2ZhY3RvcnkvVGFza0ZhY3RvcnlSZWdpc3RyeS5qYXZh) | `0.00% <0.00%> (-74.23%)` | :arrow_down: |\n| [...ion/tasks/mergerollup/MergeRollupTaskExecutor.java](https://app.codecov.io/gh/apache/pinot/pull/10821?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvbWVyZ2Vyb2xsdXAvTWVyZ2VSb2xsdXBUYXNrRXhlY3V0b3IuamF2YQ==) | `90.56% <100.00%> (-9.44%)` | :arrow_down: |\n| [...egments/RealtimeToOfflineSegmentsTaskExecutor.java](https://app.codecov.io/gh/apache/pinot/pull/10821?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvcmVhbHRpbWV0b29mZmxpbmVzZWdtZW50cy9SZWFsdGltZVRvT2ZmbGluZVNlZ21lbnRzVGFza0V4ZWN1dG9yLmphdmE=) | `71.42% <100.00%> (-23.24%)` | :arrow_down: |\n\n... and [441 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10821/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1569507693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570560061","html_url":"https://github.com/apache/pinot/issues/10825#issuecomment-1570560061","issue_url":"https://api.github.com/repos/apache/pinot/issues/10825","id":1570560061,"node_id":"IC_kwDOATCU_c5dnNg9","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T16:37:13Z","updated_at":"2023-05-31T16:37:13Z","author_association":"CONTRIBUTOR","body":"list of features missing might not be exhausted. we can add more items as we finish step 1 to gather unsupported queries/patterns","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570560061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570659681","html_url":"https://github.com/apache/pinot/pull/10819#issuecomment-1570659681","issue_url":"https://api.github.com/repos/apache/pinot/issues/10819","id":1570659681,"node_id":"IC_kwDOATCU_c5dnl1h","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T17:50:39Z","updated_at":"2023-05-31T17:50:39Z","author_association":"CONTRIBUTOR","body":"Window functions also have this concept of order direction and order null direction. Do you plan to also add support for this for Window functions?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570659681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570661768","html_url":"https://github.com/apache/pinot/issues/10717#issuecomment-1570661768","issue_url":"https://api.github.com/repos/apache/pinot/issues/10717","id":1570661768,"node_id":"IC_kwDOATCU_c5dnmWI","user":{"login":"thatran","id":8041498,"node_id":"MDQ6VXNlcjgwNDE0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/8041498?v=4","gravatar_id":"","url":"https://api.github.com/users/thatran","html_url":"https://github.com/thatran","followers_url":"https://api.github.com/users/thatran/followers","following_url":"https://api.github.com/users/thatran/following{/other_user}","gists_url":"https://api.github.com/users/thatran/gists{/gist_id}","starred_url":"https://api.github.com/users/thatran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thatran/subscriptions","organizations_url":"https://api.github.com/users/thatran/orgs","repos_url":"https://api.github.com/users/thatran/repos","events_url":"https://api.github.com/users/thatran/events{/privacy}","received_events_url":"https://api.github.com/users/thatran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T17:52:04Z","updated_at":"2023-05-31T17:52:04Z","author_association":"NONE","body":"i think it's my mistake, i cannot reproduce this in OSS pinot, only in ST pinot, so i will close this issue and open an ST jira","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570661768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570703937","html_url":"https://github.com/apache/pinot/issues/8837#issuecomment-1570703937","issue_url":"https://api.github.com/repos/apache/pinot/issues/8837","id":1570703937,"node_id":"IC_kwDOATCU_c5dnwpB","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T18:21:15Z","updated_at":"2023-05-31T18:28:35Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang @gortiz Is this issue resolved now? It is still OPEN. Is there a walk around? I saw a PR here: https://github.com/apache/pinot/pull/8979\r\n\r\nWe also experienced slow query perf for this type of queries.\r\n\r\n```\r\nSELECT *\r\nFROM table\r\nWHERE filter\r\nORDER BY sorted_col DESC\r\nLIMIT 10;\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570703937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570819446","html_url":"https://github.com/apache/pinot/issues/8837#issuecomment-1570819446","issue_url":"https://api.github.com/repos/apache/pinot/issues/8837","id":1570819446,"node_id":"IC_kwDOATCU_c5doM12","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T19:29:52Z","updated_at":"2023-05-31T19:29:52Z","author_association":"CONTRIBUTOR","body":"No, it is not optimized. We had a partial implementation, but decided to postpone it until we have reversed cursors.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570819446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570933700","html_url":"https://github.com/apache/pinot/issues/8837#issuecomment-1570933700","issue_url":"https://api.github.com/repos/apache/pinot/issues/8837","id":1570933700,"node_id":"IC_kwDOATCU_c5doovE","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T20:50:13Z","updated_at":"2023-05-31T20:50:13Z","author_association":"CONTRIBUTOR","body":"Thanks. Is there a plan to add reversed cursor? \r\n\r\nBTW, The PR #8979 is titled \"optimize order by sorted ASC, unsorted and order by DESC cases\". Does it mean there is still no optimization over **_ORDER BY sorted_col DSC_** cases?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1570933700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571004572","html_url":"https://github.com/apache/pinot/pull/10771#issuecomment-1571004572","issue_url":"https://api.github.com/repos/apache/pinot/issues/10771","id":1571004572,"node_id":"IC_kwDOATCU_c5do6Cc","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T21:44:19Z","updated_at":"2023-05-31T21:44:19Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Any other open concerns here?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571004572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571050105","html_url":"https://github.com/apache/pinot/pull/10826#issuecomment-1571050105","issue_url":"https://api.github.com/repos/apache/pinot/issues/10826","id":1571050105,"node_id":"IC_kwDOATCU_c5dpFJ5","user":{"login":"deemoliu","id":15416419,"node_id":"MDQ6VXNlcjE1NDE2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/15416419?v=4","gravatar_id":"","url":"https://api.github.com/users/deemoliu","html_url":"https://github.com/deemoliu","followers_url":"https://api.github.com/users/deemoliu/followers","following_url":"https://api.github.com/users/deemoliu/following{/other_user}","gists_url":"https://api.github.com/users/deemoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/deemoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deemoliu/subscriptions","organizations_url":"https://api.github.com/users/deemoliu/orgs","repos_url":"https://api.github.com/users/deemoliu/repos","events_url":"https://api.github.com/users/deemoliu/events{/privacy}","received_events_url":"https://api.github.com/users/deemoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T22:33:38Z","updated_at":"2023-05-31T22:33:38Z","author_association":"CONTRIBUTOR","body":"cc: @chenboat @Jackie-Jiang @yupeng9 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571050105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571057097","html_url":"https://github.com/apache/pinot/pull/10819#issuecomment-1571057097","issue_url":"https://api.github.com/repos/apache/pinot/issues/10819","id":1571057097,"node_id":"IC_kwDOATCU_c5dpG3J","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T22:39:46Z","updated_at":"2023-05-31T22:39:46Z","author_association":"CONTRIBUTOR","body":"> Window functions also have this concept of order direction and order null direction. Do you plan to also add support for this for Window functions?\r\n\r\n@somandal Good point! I'm not familiar with the window function implementation. Can you help add this support to the window function?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571057097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571078128","html_url":"https://github.com/apache/pinot/pull/10819#issuecomment-1571078128","issue_url":"https://api.github.com/repos/apache/pinot/issues/10819","id":1571078128,"node_id":"IC_kwDOATCU_c5dpL_w","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T23:05:47Z","updated_at":"2023-05-31T23:05:47Z","author_association":"CONTRIBUTOR","body":"> > Window functions also have this concept of order direction and order null direction. Do you plan to also add support for this for Window functions?\r\n> \r\n> @somandal Good point! I'm not familiar with the window function implementation. Can you help add this support to the window function?\r\n\r\nYeah sure, I can take this up","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571078128/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571087416","html_url":"https://github.com/apache/pinot/pull/10721#issuecomment-1571087416","issue_url":"https://api.github.com/repos/apache/pinot/issues/10721","id":1571087416,"node_id":"IC_kwDOATCU_c5dpOQ4","user":{"login":"timsants","id":3085767,"node_id":"MDQ6VXNlcjMwODU3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3085767?v=4","gravatar_id":"","url":"https://api.github.com/users/timsants","html_url":"https://github.com/timsants","followers_url":"https://api.github.com/users/timsants/followers","following_url":"https://api.github.com/users/timsants/following{/other_user}","gists_url":"https://api.github.com/users/timsants/gists{/gist_id}","starred_url":"https://api.github.com/users/timsants/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timsants/subscriptions","organizations_url":"https://api.github.com/users/timsants/orgs","repos_url":"https://api.github.com/users/timsants/repos","events_url":"https://api.github.com/users/timsants/events{/privacy}","received_events_url":"https://api.github.com/users/timsants/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-31T23:19:31Z","updated_at":"2023-05-31T23:19:31Z","author_association":"CONTRIBUTOR","body":"> Thank you for quickly addressing this!\r\n> \r\n> Can you add the testing case where the format works in joda while it's not working in java to cover this case?\r\n\r\nWill do. Also I checked out the other references and it doesn't seem like they will be impacted by this case since they are formatting a constant string.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571087416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571153555","html_url":"https://github.com/apache/pinot/pull/10826#issuecomment-1571153555","issue_url":"https://api.github.com/repos/apache/pinot/issues/10826","id":1571153555,"node_id":"IC_kwDOATCU_c5dpeaT","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T00:52:39Z","updated_at":"2023-06-12T23:02:32Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10826?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10826](https://app.codecov.io/gh/apache/pinot/pull/10826?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (18f03c7) into [master](https://app.codecov.io/gh/apache/pinot/commit/6a7a0668cdd47f0ae0c9b5af218dd2d2b6f1994e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (6a7a066) will **decrease** coverage by `70.09%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10826       +/-   ##\n=============================================\n- Coverage     70.20%    0.11%   -70.09%     \n=============================================\n  Files          2170     2186       +16     \n  Lines        116688   117524      +836     \n  Branches      17661    17774      +113     \n=============================================\n- Hits          81919      137    -81782     \n- Misses        29052   117367    +88315     \n+ Partials       5717       20     -5697     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration1temurin11 | `0.00% <0.00%> (?)` | |\n| integration1temurin17 | `0.00% <0.00%> (?)` | |\n| integration1temurin20 | `0.00% <0.00%> (?)` | |\n| integration2 | `?` | |\n| integration2temurin11 | `0.00% <0.00%> (?)` | |\n| unittests1 | `?` | |\n| unittests1temurin11 | `0.00% <0.00%> (?)` | |\n| unittests1temurin17 | `0.00% <0.00%> (?)` | |\n| unittests1temurin20 | `0.00% <0.00%> (?)` | |\n| unittests2 | `?` | |\n| unittests2temurin11 | `0.11% <0.00%> (?)` | |\n| unittests2temurin17 | `0.11% <0.00%> (?)` | |\n| unittests2temurin20 | `0.11% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...manager/realtime/LLRealtimeSegmentDataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvTExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `0.00% <0.00%> (-71.73%)` | :arrow_down: |\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `0.00% <ø> (-67.97%)` | :arrow_down: |\n| [...cal/upsert/BasePartitionUpsertMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQmFzZVBhcnRpdGlvblVwc2VydE1ldGFkYXRhTWFuYWdlci5qYXZh) | `0.00% <ø> (-50.00%)` | :arrow_down: |\n\n... and [1955 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10826/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571153555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571177519","html_url":"https://github.com/apache/pinot/issues/10824#issuecomment-1571177519","issue_url":"https://api.github.com/repos/apache/pinot/issues/10824","id":1571177519,"node_id":"IC_kwDOATCU_c5dpkQv","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T01:15:40Z","updated_at":"2023-06-01T01:15:40Z","author_association":"CONTRIBUTOR","body":"@shenyu0127 Can you please take a look?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571177519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571183813","html_url":"https://github.com/apache/pinot/pull/10528#issuecomment-1571183813","issue_url":"https://api.github.com/repos/apache/pinot/issues/10528","id":1571183813,"node_id":"IC_kwDOATCU_c5dplzF","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T01:21:58Z","updated_at":"2023-06-01T01:21:58Z","author_association":"CONTRIBUTOR","body":"This question is not answered yet: With Java ByteBuffer and LBuffer, when the buffer is not explicitly closed, GC will eventually release the memory. Will the new unsafe buffer be released by GC if not explicitly closed?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571183813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571202263","html_url":"https://github.com/apache/pinot/pull/10827#issuecomment-1571202263","issue_url":"https://api.github.com/repos/apache/pinot/issues/10827","id":1571202263,"node_id":"IC_kwDOATCU_c5dpqTX","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T01:47:12Z","updated_at":"2023-06-01T20:52:33Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10827?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10827](https://app.codecov.io/gh/apache/pinot/pull/10827?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (de55ba6) into [master](https://app.codecov.io/gh/apache/pinot/commit/ab4e8fac84d07ab80dedb597f194f4ff9f2d1f0f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (ab4e8fa) will **increase** coverage by `1.82%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10827      +/-   ##\n============================================\n+ Coverage     68.41%   70.23%   +1.82%     \n- Complexity     6518     6586      +68     \n============================================\n  Files          2164     2170       +6     \n  Lines        116410   116650     +240     \n  Branches      17609    17654      +45     \n============================================\n+ Hits          79637    81926    +2289     \n+ Misses        31136    29020    -2116     \n- Partials       5637     5704      +67     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.03% <61.53%> (-0.02%)` | :arrow_down: |\n| integration2 | `23.87% <92.30%> (?)` | |\n| unittests1 | `67.74% <100.00%> (+0.05%)` | :arrow_up: |\n| unittests2 | `13.61% <0.00%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10827?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/pinot/sql/parsers/CalciteSqlParser.java](https://app.codecov.io/gh/apache/pinot/pull/10827?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsUGFyc2VyLmphdmE=) | `85.03% <100.00%> (+0.11%)` | :arrow_up: |\n| [...uest/context/utils/QueryContextConverterUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10827?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvdXRpbHMvUXVlcnlDb250ZXh0Q29udmVydGVyVXRpbHMuamF2YQ==) | `97.75% <100.00%> (-0.10%)` | :arrow_down: |\n\n... and [202 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10827/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571202263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571264325","html_url":"https://github.com/apache/pinot/issues/10824#issuecomment-1571264325","issue_url":"https://api.github.com/repos/apache/pinot/issues/10824","id":1571264325,"node_id":"IC_kwDOATCU_c5dp5dF","user":{"login":"shenyu0127","id":6668780,"node_id":"MDQ6VXNlcjY2Njg3ODA=","avatar_url":"https://avatars.githubusercontent.com/u/6668780?v=4","gravatar_id":"","url":"https://api.github.com/users/shenyu0127","html_url":"https://github.com/shenyu0127","followers_url":"https://api.github.com/users/shenyu0127/followers","following_url":"https://api.github.com/users/shenyu0127/following{/other_user}","gists_url":"https://api.github.com/users/shenyu0127/gists{/gist_id}","starred_url":"https://api.github.com/users/shenyu0127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenyu0127/subscriptions","organizations_url":"https://api.github.com/users/shenyu0127/orgs","repos_url":"https://api.github.com/users/shenyu0127/repos","events_url":"https://api.github.com/users/shenyu0127/events{/privacy}","received_events_url":"https://api.github.com/users/shenyu0127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T03:11:57Z","updated_at":"2023-06-01T03:11:57Z","author_association":"CONTRIBUTOR","body":"If you run a Pinot that is built on HEAD, you will not get this error.\r\n\r\nDetails:\r\n- You were running a Pinot that is a few months old. (The line 601 of `Literal.java` is `Objects.requireNonNull` means it is before https://github.com/apache/pinot/pull/10217).\r\n- I tested your query using a Pinot built on HEAD and it worked. You may need to add `OPTION(enableNullHandling=true)` in the query.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571264325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571552536","html_url":"https://github.com/apache/pinot/pull/10528#issuecomment-1571552536","issue_url":"https://api.github.com/repos/apache/pinot/issues/10528","id":1571552536,"node_id":"IC_kwDOATCU_c5dq_0Y","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T07:59:52Z","updated_at":"2023-06-01T11:22:35Z","author_association":"CONTRIBUTOR","body":"> This question is not answered yet: With Java ByteBuffer and LBuffer, when the buffer is not explicitly closed, GC will eventually release the memory. Will the new unsafe buffer be released by GC if not explicitly closed?\r\n\r\nNo, they won't be closed if we leak them. We can add a `finalize` just in case we have that kind of leaks.\r\n\r\nPS: Added finalize to both PinotDataBuffer (so LArray will also be affected) and the two Memory implementations\r\n\r\nPS2: The finalize code is breaking the tests because in some cases the original buffer is finalized before some view is closed. I'm going to invest some extra time trying to fix the problem\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571552536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571593283","html_url":"https://github.com/apache/pinot/issues/8837#issuecomment-1571593283","issue_url":"https://api.github.com/repos/apache/pinot/issues/8837","id":1571593283,"node_id":"IC_kwDOATCU_c5drJxD","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T08:27:55Z","updated_at":"2023-06-01T08:28:59Z","author_association":"CONTRIBUTOR","body":"That is the PR that originally had a partial implementation that optimized the order by desc, but we decided to drop these changes and only optimize the order by asc case because we weren't sure about the correctness of the order by desc optimization.\r\n\r\n> Does it mean there is still no optimization over ORDER BY sorted_col DSC cases?\r\n\r\nAs said in my previous comment, order by desc is not optimized yet.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1571593283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572200315","html_url":"https://github.com/apache/pinot/pull/10528#issuecomment-1572200315","issue_url":"https://api.github.com/repos/apache/pinot/issues/10528","id":1572200315,"node_id":"IC_kwDOATCU_c5dtd97","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T14:48:51Z","updated_at":"2023-06-01T14:59:38Z","author_association":"CONTRIBUTOR","body":"I've decided to remove the `finalize` from `PinotDataBuffer` because it doesn't seem trivial to keep track on whether we actually need to release the memory or not, given that we may have other views that actually use the resource. \r\n\r\nWe have to remember that the release-when-gc is just a protection we have against some leak in the code. We should always close the buffers explicitly in order to make sure we use the smallest possible amount of memory. In case we forget to close a buffer:\r\n- The ones backed by ByteBuffers should be eventually collected by the GC, but it is not guaranteed. It is not uncommon to have situations when these are never collected, specially when the bytebuffer reference is in the old generation.\r\n- With LArray, unless the library has its own protection, they will be leaked for the whole JVM lifetime.\r\n- With Unsafe, each buffer has a reference to a Memory object. These Memory objects override finalize, we should have the same protection than with ByteBuffers.\r\n\r\nWe have to remember that `finalize` is marker as deprecated to be removed in the JVM and it is not guaranteed that this method is going to be called. The alternative is to use [java.lang.ref.Cleaner](https://docs.oracle.com/javase/9/docs/api/java/lang/ref/Cleaner.html), but it was introduced in Java 9. Therefore we cannot use that in `segment-spi` because that code needs to be compiled with Java 8 in order to generate the presto connector","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572200315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572223388","html_url":"https://github.com/apache/pinot/pull/10812#issuecomment-1572223388","issue_url":"https://api.github.com/repos/apache/pinot/issues/10812","id":1572223388,"node_id":"IC_kwDOATCU_c5dtjmc","user":{"login":"eaugene","id":26409058,"node_id":"MDQ6VXNlcjI2NDA5MDU4","avatar_url":"https://avatars.githubusercontent.com/u/26409058?v=4","gravatar_id":"","url":"https://api.github.com/users/eaugene","html_url":"https://github.com/eaugene","followers_url":"https://api.github.com/users/eaugene/followers","following_url":"https://api.github.com/users/eaugene/following{/other_user}","gists_url":"https://api.github.com/users/eaugene/gists{/gist_id}","starred_url":"https://api.github.com/users/eaugene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaugene/subscriptions","organizations_url":"https://api.github.com/users/eaugene/orgs","repos_url":"https://api.github.com/users/eaugene/repos","events_url":"https://api.github.com/users/eaugene/events{/privacy}","received_events_url":"https://api.github.com/users/eaugene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T15:01:15Z","updated_at":"2023-06-01T15:01:15Z","author_association":"CONTRIBUTOR","body":"> Not required in the PR, but I feel, enhancing the api to also report the compressed size in deepstore would be quite useful.\r\n\r\nSure @mayankshriv  . Yes , this would be useful.  Created a issue for this https://github.com/apache/pinot/issues/10828 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572223388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572787445","html_url":"https://github.com/apache/pinot/pull/10814#issuecomment-1572787445","issue_url":"https://api.github.com/repos/apache/pinot/issues/10814","id":1572787445,"node_id":"IC_kwDOATCU_c5dvtT1","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T21:08:57Z","updated_at":"2023-06-01T21:08:57Z","author_association":"CONTRIBUTOR","body":"cc @walterddr ^^","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572787445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572801823","html_url":"https://github.com/apache/pinot/issues/10753#issuecomment-1572801823","issue_url":"https://api.github.com/repos/apache/pinot/issues/10753","id":1572801823,"node_id":"IC_kwDOATCU_c5dvw0f","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T21:20:50Z","updated_at":"2023-06-01T21:20:50Z","author_association":"CONTRIBUTOR","body":"This warning is appended because these segments do not contain the column asked, thus being pruned before query execution. `QueryExecutionError` is reported when an error occurred during query execution.\r\nIdeally we should also report invalid segments when the column name is incorrect on a dimension table, but since dimension table is maintained differently (we maintain the whole table on heap), segment pruning step is not happening for dimension table.\r\nI can see the error message is slightly confusing because a common case when query contains a column that doesn't exist in the segment is when user just added a column into the schema but forgot to reload the table.\r\n\r\nAre you running the latest Pinot version? I think the latest version should throw exception on the broker side if a column doesn't exist in the table schema","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572801823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572809481","html_url":"https://github.com/apache/pinot/issues/10816#issuecomment-1572809481","issue_url":"https://api.github.com/repos/apache/pinot/issues/10816","id":1572809481,"node_id":"IC_kwDOATCU_c5dvysJ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-01T21:27:26Z","updated_at":"2023-06-01T21:27:26Z","author_association":"CONTRIBUTOR","body":"The first metadata is returned from the server local metadata; the second metadata is returned from the ZK.\r\nThe creation time for the server local metadata is when the segment is created (consuming segment being committed and sealed), while the creation time for the ZK metadata is when the consuming segment being created. That is the reason why you see about 1 day difference between these 2 timestamps","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572809481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572946323","html_url":"https://github.com/apache/pinot/pull/10756#issuecomment-1572946323","issue_url":"https://api.github.com/repos/apache/pinot/issues/10756","id":1572946323,"node_id":"IC_kwDOATCU_c5dwUGT","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T00:11:17Z","updated_at":"2023-06-02T00:11:17Z","author_association":"CONTRIBUTOR","body":"this can be closed as covered by https://github.com/apache/pinot/pull/10791","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572946323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572966576","html_url":"https://github.com/apache/pinot/pull/10830#issuecomment-1572966576","issue_url":"https://api.github.com/repos/apache/pinot/issues/10830","id":1572966576,"node_id":"IC_kwDOATCU_c5dwZCw","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T00:45:50Z","updated_at":"2023-06-05T22:11:07Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10830?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10830](https://app.codecov.io/gh/apache/pinot/pull/10830?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (70da581) into [master](https://app.codecov.io/gh/apache/pinot/commit/84688577e40ef34dcb2aadf558ec759ca80466da?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (8468857) will **decrease** coverage by `56.62%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10830       +/-   ##\n=============================================\n- Coverage     70.23%   13.61%   -56.62%     \n+ Complexity     6585      439     -6146     \n=============================================\n  Files          2170     2117       -53     \n  Lines        116665   114225     -2440     \n  Branches      17656    17364      -292     \n=============================================\n- Hits          81942    15556    -66386     \n- Misses        29014    97398    +68384     \n+ Partials       5709     1271     -4438     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.61% <0.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10830?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [.../core/segment/processing/mapper/SegmentMapper.java](https://app.codecov.io/gh/apache/pinot/pull/10830?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvbWFwcGVyL1NlZ21lbnRNYXBwZXIuamF2YQ==) | `0.00% <0.00%> (-89.07%)` | :arrow_down: |\n| [...lugin/inputformat/parquet/ParquetRecordReader.java](https://app.codecov.io/gh/apache/pinot/pull/10830?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1pbnB1dC1mb3JtYXQvcGlub3QtcGFycXVldC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL2lucHV0Zm9ybWF0L3BhcnF1ZXQvUGFycXVldFJlY29yZFJlYWRlci5qYXZh) | `86.95% <ø> (ø)` | |\n| [...t/creator/impl/SegmentIndexCreationDriverImpl.java](https://app.codecov.io/gh/apache/pinot/pull/10830?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50SW5kZXhDcmVhdGlvbkRyaXZlckltcGwuamF2YQ==) | `0.00% <0.00%> (-79.56%)` | :arrow_down: |\n| [...pache/pinot/spi/data/readers/LazyRecordReader.java](https://app.codecov.io/gh/apache/pinot/pull/10830?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9yZWFkZXJzL0xhenlSZWNvcmRSZWFkZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...he/pinot/spi/data/readers/RecordReaderFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10830?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9yZWFkZXJzL1JlY29yZFJlYWRlckZhY3RvcnkuamF2YQ==) | `0.00% <0.00%> (-57.50%)` | :arrow_down: |\n\n... and [1713 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10830/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1572966576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573008954","html_url":"https://github.com/apache/pinot/pull/10831#issuecomment-1573008954","issue_url":"https://api.github.com/repos/apache/pinot/issues/10831","id":1573008954,"node_id":"IC_kwDOATCU_c5dwjY6","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T01:39:55Z","updated_at":"2023-06-02T01:39:55Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10831?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10831](https://app.codecov.io/gh/apache/pinot/pull/10831?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (451a50a) into [master](https://app.codecov.io/gh/apache/pinot/commit/6dbd9e23fef8d326fa2f2467ae8a10e2b3fdb428?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (6dbd9e2) will **decrease** coverage by `10.53%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10831       +/-   ##\n=============================================\n- Coverage     34.25%   23.72%   -10.53%     \n+ Complexity      462       58      -404     \n=============================================\n  Files          2170     2154       -16     \n  Lines        116650   116218      -432     \n  Branches      17654    17597       -57     \n=============================================\n- Hits          39959    27577    -12382     \n- Misses        73201    85791    +12590     \n+ Partials       3490     2850      -640     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `23.72% <0.00%> (+0.14%)` | :arrow_up: |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10831?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...ot/core/operator/blocks/InstanceResponseBlock.java](https://app.codecov.io/gh/apache/pinot/pull/10831?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9ibG9ja3MvSW5zdGFuY2VSZXNwb25zZUJsb2NrLmphdmE=) | `67.34% <ø> (-4.09%)` | :arrow_down: |\n| [...e/operator/LeafStageTransferableBlockOperator.java](https://app.codecov.io/gh/apache/pinot/pull/10831?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9MZWFmU3RhZ2VUcmFuc2ZlcmFibGVCbG9ja09wZXJhdG9yLmphdmE=) | `0.00% <0.00%> (ø)` | |\n\n... and [474 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10831/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573008954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573065703","html_url":"https://github.com/apache/pinot/pull/10814#issuecomment-1573065703","issue_url":"https://api.github.com/repos/apache/pinot/issues/10814","id":1573065703,"node_id":"IC_kwDOATCU_c5dwxPn","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T02:55:59Z","updated_at":"2023-06-02T02:55:59Z","author_association":"CONTRIBUTOR","body":"Thanks for the help @Jackie-Jiang for the right pointers.\r\nI figured out how we can handle the `CAST` function addition based on the data type precision","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573065703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573182830","html_url":"https://github.com/apache/pinot/issues/10816#issuecomment-1573182830","issue_url":"https://api.github.com/repos/apache/pinot/issues/10816","id":1573182830,"node_id":"IC_kwDOATCU_c5dxN1u","user":{"login":"eaugene","id":26409058,"node_id":"MDQ6VXNlcjI2NDA5MDU4","avatar_url":"https://avatars.githubusercontent.com/u/26409058?v=4","gravatar_id":"","url":"https://api.github.com/users/eaugene","html_url":"https://github.com/eaugene","followers_url":"https://api.github.com/users/eaugene/followers","following_url":"https://api.github.com/users/eaugene/following{/other_user}","gists_url":"https://api.github.com/users/eaugene/gists{/gist_id}","starred_url":"https://api.github.com/users/eaugene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaugene/subscriptions","organizations_url":"https://api.github.com/users/eaugene/orgs","repos_url":"https://api.github.com/users/eaugene/repos","events_url":"https://api.github.com/users/eaugene/events{/privacy}","received_events_url":"https://api.github.com/users/eaugene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T05:41:29Z","updated_at":"2023-06-02T05:41:29Z","author_association":"CONTRIBUTOR","body":"Thanks @Jackie-Jiang  for the clarification. Should we enhance the first API to have a different naming convention for this property, say \"segmentCommitedTime\" to make it more explicit, as it kind of confuses ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573182830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573483417","html_url":"https://github.com/apache/pinot/pull/10326#issuecomment-1573483417","issue_url":"https://api.github.com/repos/apache/pinot/issues/10326","id":1573483417,"node_id":"IC_kwDOATCU_c5dyXOZ","user":{"login":"tsegismont","id":1500598,"node_id":"MDQ6VXNlcjE1MDA1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1500598?v=4","gravatar_id":"","url":"https://api.github.com/users/tsegismont","html_url":"https://github.com/tsegismont","followers_url":"https://api.github.com/users/tsegismont/followers","following_url":"https://api.github.com/users/tsegismont/following{/other_user}","gists_url":"https://api.github.com/users/tsegismont/gists{/gist_id}","starred_url":"https://api.github.com/users/tsegismont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsegismont/subscriptions","organizations_url":"https://api.github.com/users/tsegismont/orgs","repos_url":"https://api.github.com/users/tsegismont/repos","events_url":"https://api.github.com/users/tsegismont/events{/privacy}","received_events_url":"https://api.github.com/users/tsegismont/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T10:07:18Z","updated_at":"2023-06-02T10:07:18Z","author_association":"NONE","body":"Hi, this is Thomas, member of the [Vert.x project](https://vertx.io/) team. I am mentoring @lucifer4j as GSoC student, working on a Pinot Client adapter for Vert.x.\r\n\r\nThis PR is interesting to us because we could get rid of the `Future.get()` blocking calls.\r\n\r\nAny idea when the PR will be merged?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573483417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573573990","html_url":"https://github.com/apache/pinot/issues/10833#issuecomment-1573573990","issue_url":"https://api.github.com/repos/apache/pinot/issues/10833","id":1573573990,"node_id":"IC_kwDOATCU_c5dytVm","user":{"login":"eaugene","id":26409058,"node_id":"MDQ6VXNlcjI2NDA5MDU4","avatar_url":"https://avatars.githubusercontent.com/u/26409058?v=4","gravatar_id":"","url":"https://api.github.com/users/eaugene","html_url":"https://github.com/eaugene","followers_url":"https://api.github.com/users/eaugene/followers","following_url":"https://api.github.com/users/eaugene/following{/other_user}","gists_url":"https://api.github.com/users/eaugene/gists{/gist_id}","starred_url":"https://api.github.com/users/eaugene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaugene/subscriptions","organizations_url":"https://api.github.com/users/eaugene/orgs","repos_url":"https://api.github.com/users/eaugene/repos","events_url":"https://api.github.com/users/eaugene/events{/privacy}","received_events_url":"https://api.github.com/users/eaugene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T11:20:39Z","updated_at":"2023-06-02T11:20:39Z","author_association":"CONTRIBUTOR","body":"Thanks @mneedham for putting it here. \r\nRelated discussion: https://apache-pinot.slack.com/archives/C01H1S9J5BJ/p1685437705110729","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573573990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573590631","html_url":"https://github.com/apache/pinot/pull/9416#issuecomment-1573590631","issue_url":"https://api.github.com/repos/apache/pinot/issues/9416","id":1573590631,"node_id":"IC_kwDOATCU_c5dyxZn","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T11:34:21Z","updated_at":"2023-06-02T11:34:21Z","author_association":"CONTRIBUTOR","body":"Update on the issue:\r\n\r\nMetrics created using Dropwizard and Yammer are very close, but not exactly the same. By running using the new CompoundPinotMetricsFactory as factory, we can produce both metrics.\r\nAfter that, I used [jxmterm](https://cwiki.apache.org/confluence/display/KAFKA/jmxterm+quickstart) to read the JMX metrics exported by Yammer and Dropwizard.\r\n\r\nThe first difference is the id of the beans created. JMX metrics have several coordinates. Some of them are standard (like domain, name) and some other are not. Specifically, our usage of Yammer and Dropwizard uses these three coordinates:\r\n- domain:\r\n  - Yammer: we set the value to `\"org.apache.pinot.common.metrics\"` (note> we include the double quotes).\r\n  - Dropwizard: the domain can be changed with `pinot.metrics.dropwizard.domain`. By default it is `metrics`. There is a Javadoc saying that we use that because it was the default in Pinot < 11. I've changed the default to `org.apache.pinot.common.metrics` (without double quotes) to make it closer to Yammer and more difficult to collide with other metrics running in the same system.\r\n- name:\r\n  - Yammer: we wrap the names between double quotes. For example, metric `pinot.server.meetupRsvp_REALTIME.numSegmentsPrunedInvalid` is reported as `\"pinot.server.meetupRsvp_REALTIME.numSegmentsPrunedInvalid\"` by Yammer\r\n  - Dropwizard: we reported the names without double quotes. For example, metric `pinot.server.meetupRsvp_REALTIME.numSegmentsPrunedInvalid` is reported as `pinot.server.meetupRsvp_REALTIME.numSegmentsPrunedInvalid` by Dropwizard.\r\n- type:\r\n   - Yammer: We set as type either `ControllerMetrics`, `BrokerMetrics`, `MinionMetrics`, `ServerMetrics` or `ValidationMetrics`.\r\n   - Dropwizard: The type is set by Dropwizard, using values like `gauge`, `meters`. It may be possible to change that, but doesn't seem trivial.\r\n\r\nAs the last part, we configure the prometheus exporter to map JMX metrics to prometheus. In files like `docker/images/pinot/etc/jmx_prometheus_javaagent/configs/broker.yml` (and server.yml, controller.yml, etc) we configure rules that do that mapping. For example:\r\n\r\n```yaml\r\n- pattern: \"\\\"org.apache.pinot.common.metrics\\\"<type=\\\"BrokerMetrics\\\", name=\\\"pinot.broker.([^\\\\.]*?)\\\\.totalServerResponseSize\\\"><>(\\\\w+)\"\r\n  name: \"pinot_broker_totalServerResponseSize_$2\"\r\n  cache: true\r\n  labels:\r\n    table: \"$1\"\r\n```\r\n\r\nwhich follows the path: `${domain}<type=${type}, name=${name}`\r\n\r\nIn order to be able to read Prometheus metrics, we should change the pattern to something like:\r\n```yaml\r\n- pattern: \"\\\"?org.apache.pinot.common.metrics\\\"?<type=\\\\w, name=\\\"pinot.broker.([^\\\\.]*?)\\\\.totalServerResponseSize\\\"><>(\\\\w+)\"\r\n```\r\n\r\nProbably we could even skip the type and generate something like:\r\n```yaml\r\n- pattern: \"\\\"?org.apache.pinot.common.metrics\\\"?<name=\\\"pinot.broker.([^\\\\.]*?)\\\\.totalServerResponseSize\\\"><>(\\\\w+)\"\r\n```\r\n\r\nThis changes should not be done when using `CompoundPinotMetricsFactory`, given that it would catch metrics twice (once the one generated by Yammer and once the one generated by Dropwizard)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573590631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573652183","html_url":"https://github.com/apache/pinot/pull/9416#issuecomment-1573652183","issue_url":"https://api.github.com/repos/apache/pinot/issues/9416","id":1573652183,"node_id":"IC_kwDOATCU_c5dzAbX","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T12:24:02Z","updated_at":"2024-10-23T11:02:46Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/9416?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `0%` with `193 lines` in your changes missing coverage. Please review.\n> Project coverage is 63.64%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`6022e80`)](https://app.codecov.io/gh/apache/pinot/commit/6022e808895680d4a9313ece0a31e1555922fc6c?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 1223 commits behind head on master.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/pinot/pull/9416?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [.../metrics/compound/CompoundPinotMetricsFactory.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-compound-metrics%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fcompound%2FCompoundPinotMetricsFactory.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWNvbXBvdW5kLW1ldHJpY3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2NvbXBvdW5kL0NvbXBvdW5kUGlub3RNZXRyaWNzRmFjdG9yeS5qYXZh) | 0.00% | [66 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../metrics/compound/CompoundPinotMetricRegistry.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-compound-metrics%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fcompound%2FCompoundPinotMetricRegistry.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWNvbXBvdW5kLW1ldHJpY3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2NvbXBvdW5kL0NvbXBvdW5kUGlub3RNZXRyaWNSZWdpc3RyeS5qYXZh) | 0.00% | [47 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ot/plugin/metrics/compound/CompoundPinotMeter.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-compound-metrics%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fcompound%2FCompoundPinotMeter.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWNvbXBvdW5kLW1ldHJpY3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2NvbXBvdW5kL0NvbXBvdW5kUGlub3RNZXRlci5qYXZh) | 0.00% | [18 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ot/plugin/metrics/compound/CompoundPinotTimer.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-compound-metrics%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fcompound%2FCompoundPinotTimer.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWNvbXBvdW5kLW1ldHJpY3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2NvbXBvdW5kL0NvbXBvdW5kUGlub3RUaW1lci5qYXZh) | 0.00% | [15 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ugin/metrics/compound/CompoundPinotMetricName.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-compound-metrics%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fcompound%2FCompoundPinotMetricName.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWNvbXBvdW5kLW1ldHJpY3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2NvbXBvdW5kL0NvbXBvdW5kUGlub3RNZXRyaWNOYW1lLmphdmE=) | 0.00% | [13 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ot/plugin/metrics/compound/CompoundPinotGauge.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-compound-metrics%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fcompound%2FCompoundPinotGauge.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWNvbXBvdW5kLW1ldHJpY3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2NvbXBvdW5kL0NvbXBvdW5kUGlub3RHYXVnZS5qYXZh) | 0.00% | [8 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../metrics/compound/AbstractCompoundPinotMetric.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-compound-metrics%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fcompound%2FAbstractCompoundPinotMetric.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWNvbXBvdW5kLW1ldHJpY3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2NvbXBvdW5kL0Fic3RyYWN0Q29tcG91bmRQaW5vdE1ldHJpYy5qYXZh) | 0.00% | [7 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...gin/metrics/compound/CompoundPinotJmxReporter.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-compound-metrics%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fcompound%2FCompoundPinotJmxReporter.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWNvbXBvdW5kLW1ldHJpY3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2NvbXBvdW5kL0NvbXBvdW5kUGlub3RKbXhSZXBvcnRlci5qYXZh) | 0.00% | [7 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ugin/metrics/dropwizard/DropwizardJmxReporter.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-dropwizard%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fdropwizard%2FDropwizardJmxReporter.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWRyb3B3aXphcmQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2Ryb3B3aXphcmQvRHJvcHdpemFyZEpteFJlcG9ydGVyLmphdmE=) | 0.00% | [4 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../plugin/metrics/compound/CompoundPinotCounter.java](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-metrics%2Fpinot-compound-metrics%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fmetrics%2Fcompound%2FCompoundPinotCounter.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LWNvbXBvdW5kLW1ldHJpY3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9tZXRyaWNzL2NvbXBvdW5kL0NvbXBvdW5kUGlub3RDb3VudGVyLmphdmE=) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| ... and [2 more](https://app.codecov.io/gh/apache/pinot/pull/9416?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9416      +/-   ##\n============================================\n+ Coverage     61.75%   63.64%   +1.89%     \n- Complexity      207     1555    +1348     \n============================================\n  Files          2436     2652     +216     \n  Lines        133233   145485   +12252     \n  Branches      20636    22218    +1582     \n============================================\n+ Hits          82274    92595   +10321     \n- Misses        44911    46059    +1148     \n- Partials       6048     6831     +783     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `100.00% <ø> (+99.99%)` | :arrow_up: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `100.00% <ø> (+99.99%)` | :arrow_up: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `100.00% <ø> (+99.99%)` | :arrow_up: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.59% <0.00%> (+1.88%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.53% <0.00%> (+1.91%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.62% <0.00%> (+1.87%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.51% <0.00%> (+35.78%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.64% <0.00%> (+1.89%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.64% <0.00%> (+1.89%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `55.35% <ø> (+8.46%)` | :arrow_up: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/9416/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `34.31% <0.00%> (+6.58%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/9416?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573652183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573902723","html_url":"https://github.com/apache/pinot/pull/10814#issuecomment-1573902723","issue_url":"https://api.github.com/repos/apache/pinot/issues/10814","id":1573902723,"node_id":"IC_kwDOATCU_c5dz9mD","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T15:16:24Z","updated_at":"2023-06-02T15:16:24Z","author_association":"CONTRIBUTOR","body":"according to `TypeCoercion` logic it should automatically hoist both INT-LONG and FLOAT-DOUBLE in Calcite. \r\nit is also possible the cast is there for null vs. non-null which also will trigger a type coercion logic. \r\n\r\nI will take a look and see what's the appropriate overwrite for this one. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573902723/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573927172","html_url":"https://github.com/apache/pinot/pull/10814#issuecomment-1573927172","issue_url":"https://api.github.com/repos/apache/pinot/issues/10814","id":1573927172,"node_id":"IC_kwDOATCU_c5d0DkE","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T15:27:17Z","updated_at":"2023-06-02T15:29:34Z","author_association":"CONTRIBUTOR","body":"> according to `TypeCoercion` logic it should automatically hoist both INT-LONG and FLOAT-DOUBLE in Calcite. it is also possible the cast is there for null vs. non-null which also will trigger a type coercion logic.\r\n> \r\n> I will take a look and see what's the appropriate overwrite for this one.\r\n\r\nI found that the CAST transformation will happen based on the evaluation of this [function](https://github.com/apache/calcite/blob/main/core/src/main/java/org/apache/calcite/rel/type/RelDataTypeSystemImpl.java#L62). The `CAST` transformation applies to the data type with lower precision. In the case of INT-LONG, Integer has lower precision(10) vs BigInt(19). However, In the case of FLOAT-DOUBLE, both have the same precision value and hence CAST applies to the RHS. I override the method in my latest commit by assigning `DOUBLE` more precision value than `FLOAT` to get the correct results.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573927172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573950275","html_url":"https://github.com/apache/pinot/pull/10814#issuecomment-1573950275","issue_url":"https://api.github.com/repos/apache/pinot/issues/10814","id":1573950275,"node_id":"IC_kwDOATCU_c5d0JND","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T15:46:24Z","updated_at":"2023-06-02T15:47:29Z","author_association":"CONTRIBUTOR","body":"> I found that the CAST transformation will happen based on the evaluation of this [function](https://github.com/apache/calcite/blob/main/core/src/main/java/org/apache/calcite/rel/type/RelDataTypeSystemImpl.java#L62). The `CAST` transformation applies to the data type with lower precision. In the case of INT-LONG, Integer has lower precision(10) vs BigInt(19). However, In the case of FLOAT-DOUBLE, both have the same precision value and hence CAST applies to the RHS. I override the method in my latest commit by assigning `DOUBLE` more precision value than `FLOAT` to get the correct results.\r\n\r\nhmm. this seems incorrect. \r\n\r\n1. according to `RelDataTypeFactoryImpl`\r\n```\r\n    case FLOAT:\r\n      return createSqlType(SqlTypeName.DECIMAL, 14, 7);\r\n    case DOUBLE:\r\n      // the default max precision is 19, so this is actually DECIMAL(19, 15)\r\n      // but derived system can override the max precision/scale.\r\n      return createSqlType(SqlTypeName.DECIMAL, 30, 15);\r\n```\r\nI think there are some discrepancy when we overwrite TypeSystem vs TypeFactory\r\n\r\n2. even if the precision is the same, not considering scale as a cast reason is still incorrect IMO","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573950275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573990610","html_url":"https://github.com/apache/pinot/pull/10814#issuecomment-1573990610","issue_url":"https://api.github.com/repos/apache/pinot/issues/10814","id":1573990610,"node_id":"IC_kwDOATCU_c5d0TDS","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T16:14:50Z","updated_at":"2023-06-02T16:14:50Z","author_association":"CONTRIBUTOR","body":"> > I found that the CAST transformation will happen based on the evaluation of this [function](https://github.com/apache/calcite/blob/main/core/src/main/java/org/apache/calcite/rel/type/RelDataTypeSystemImpl.java#L62). The `CAST` transformation applies to the data type with lower precision. In the case of INT-LONG, Integer has lower precision(10) vs BigInt(19). However, In the case of FLOAT-DOUBLE, both have the same precision value and hence CAST applies to the RHS. I override the method in my latest commit by assigning `DOUBLE` more precision value than `FLOAT` to get the correct results.\r\n> \r\n> hmm. this seems incorrect.\r\n> \r\n> 1. according to `RelDataTypeFactoryImpl`\r\n> \r\n> ```\r\n>     case FLOAT:\r\n>       return createSqlType(SqlTypeName.DECIMAL, 14, 7);\r\n>     case DOUBLE:\r\n>       // the default max precision is 19, so this is actually DECIMAL(19, 15)\r\n>       // but derived system can override the max precision/scale.\r\n>       return createSqlType(SqlTypeName.DECIMAL, 30, 15);\r\n> ```\r\n> \r\n> I think there are some discrepancy when we overwrite TypeSystem vs TypeFactory\r\n> \r\n> 2. even if the precision is the same, not considering scale as a cast reason is still incorrect IMO\r\n\r\nLet me look into it. Thanks for the pointers.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1573990610/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574149397","html_url":"https://github.com/apache/pinot/pull/10836#issuecomment-1574149397","issue_url":"https://api.github.com/repos/apache/pinot/issues/10836","id":1574149397,"node_id":"IC_kwDOATCU_c5d050V","user":{"login":"deemoliu","id":15416419,"node_id":"MDQ6VXNlcjE1NDE2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/15416419?v=4","gravatar_id":"","url":"https://api.github.com/users/deemoliu","html_url":"https://github.com/deemoliu","followers_url":"https://api.github.com/users/deemoliu/followers","following_url":"https://api.github.com/users/deemoliu/following{/other_user}","gists_url":"https://api.github.com/users/deemoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/deemoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deemoliu/subscriptions","organizations_url":"https://api.github.com/users/deemoliu/orgs","repos_url":"https://api.github.com/users/deemoliu/repos","events_url":"https://api.github.com/users/deemoliu/events{/privacy}","received_events_url":"https://api.github.com/users/deemoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T18:30:24Z","updated_at":"2023-06-02T18:30:24Z","author_association":"CONTRIBUTOR","body":"cc: @KKcorps @Jackie-Jiang @chenboat ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574149397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574163245","html_url":"https://github.com/apache/pinot/pull/10834#issuecomment-1574163245","issue_url":"https://api.github.com/repos/apache/pinot/issues/10834","id":1574163245,"node_id":"IC_kwDOATCU_c5d09Mt","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T18:43:28Z","updated_at":"2023-06-02T18:43:28Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10834?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10834](https://app.codecov.io/gh/apache/pinot/pull/10834?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (9834957) into [master](https://app.codecov.io/gh/apache/pinot/commit/84688577e40ef34dcb2aadf558ec759ca80466da?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (8468857) will **decrease** coverage by `56.62%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10834       +/-   ##\n=============================================\n- Coverage     70.23%   13.62%   -56.62%     \n+ Complexity     6585      439     -6146     \n=============================================\n  Files          2170     2116       -54     \n  Lines        116665   114173     -2492     \n  Branches      17656    17358      -298     \n=============================================\n- Hits          81942    15553    -66389     \n- Misses        29014    97352    +68338     \n+ Partials       5709     1268     -4441     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.62% <ø> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10834?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...ry/runtime/plan/server/ServerPlanRequestUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10834?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL3NlcnZlci9TZXJ2ZXJQbGFuUmVxdWVzdFV0aWxzLmphdmE=) | `0.00% <ø> (-77.45%)` | :arrow_down: |\n\n... and [1713 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10834/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574163245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574211294","html_url":"https://github.com/apache/pinot/pull/10836#issuecomment-1574211294","issue_url":"https://api.github.com/repos/apache/pinot/issues/10836","id":1574211294,"node_id":"IC_kwDOATCU_c5d1I7e","user":{"login":"deemoliu","id":15416419,"node_id":"MDQ6VXNlcjE1NDE2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/15416419?v=4","gravatar_id":"","url":"https://api.github.com/users/deemoliu","html_url":"https://github.com/deemoliu","followers_url":"https://api.github.com/users/deemoliu/followers","following_url":"https://api.github.com/users/deemoliu/following{/other_user}","gists_url":"https://api.github.com/users/deemoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/deemoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deemoliu/subscriptions","organizations_url":"https://api.github.com/users/deemoliu/orgs","repos_url":"https://api.github.com/users/deemoliu/repos","events_url":"https://api.github.com/users/deemoliu/events{/privacy}","received_events_url":"https://api.github.com/users/deemoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T19:25:19Z","updated_at":"2023-06-02T19:25:19Z","author_association":"CONTRIBUTOR","body":"> lgtm! Thanks for refactoring the code.\r\n\r\nthanks @navina for review!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574211294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574220814","html_url":"https://github.com/apache/pinot/pull/10836#issuecomment-1574220814","issue_url":"https://api.github.com/repos/apache/pinot/issues/10836","id":1574220814,"node_id":"IC_kwDOATCU_c5d1LQO","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T19:35:38Z","updated_at":"2023-06-02T23:50:23Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10836?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10836](https://app.codecov.io/gh/apache/pinot/pull/10836?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (79f27a9) into [master](https://app.codecov.io/gh/apache/pinot/commit/84688577e40ef34dcb2aadf558ec759ca80466da?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (8468857) will **decrease** coverage by `43.03%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10836       +/-   ##\n=============================================\n- Coverage     70.23%   27.21%   -43.03%     \n+ Complexity     6585       58     -6527     \n=============================================\n  Files          2170     2154       -16     \n  Lines        116665   116255      -410     \n  Branches      17656    17606       -50     \n=============================================\n- Hits          81942    31637    -50305     \n- Misses        29014    81477    +52463     \n+ Partials       5709     3141     -2568     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.01% <0.00%> (-0.01%)` | :arrow_down: |\n| integration2 | `23.64% <0.00%> (+0.04%)` | :arrow_up: |\n| unittests1 | `?` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10836?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...cal/upsert/BasePartitionUpsertMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10836?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQmFzZVBhcnRpdGlvblVwc2VydE1ldGFkYXRhTWFuYWdlci5qYXZh) | `0.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...t/local/upsert/BaseTableUpsertMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10836?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQmFzZVRhYmxlVXBzZXJ0TWV0YWRhdGFNYW5hZ2VyLmphdmE=) | `0.00% <0.00%> (-78.95%)` | :arrow_down: |\n| [...t/ConcurrentMapPartitionUpsertMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10836?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQ29uY3VycmVudE1hcFBhcnRpdGlvblVwc2VydE1ldGFkYXRhTWFuYWdlci5qYXZh) | `0.00% <0.00%> (-80.96%)` | :arrow_down: |\n| [...psert/ConcurrentMapTableUpsertMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10836?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQ29uY3VycmVudE1hcFRhYmxlVXBzZXJ0TWV0YWRhdGFNYW5hZ2VyLmphdmE=) | `0.00% <0.00%> (-33.34%)` | :arrow_down: |\n\n... and [1526 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10836/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574220814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574223212","html_url":"https://github.com/apache/pinot/pull/10758#issuecomment-1574223212","issue_url":"https://api.github.com/repos/apache/pinot/issues/10758","id":1574223212,"node_id":"IC_kwDOATCU_c5d1L1s","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T19:38:11Z","updated_at":"2023-06-29T01:57:22Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10758?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10758](https://app.codecov.io/gh/apache/pinot/pull/10758?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (cd03c63) into [master](https://app.codecov.io/gh/apache/pinot/commit/0420414fc2a5408dc7aa32fdb9d359763fc3cb34?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (0420414) will **decrease** coverage by `0.01%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@            Coverage Diff             @@\n##           master   #10758      +/-   ##\n==========================================\n- Coverage    0.11%    0.11%   -0.01%     \n==========================================\n  Files        2186     2191       +5     \n  Lines      117493   118022     +529     \n  Branches    17762    17869     +107     \n==========================================\n  Hits          137      137              \n- Misses     117336   117865     +529     \n  Partials       20       20              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1temurin11 | `0.00% <0.00%> (ø)` | |\n| integration1temurin17 | `0.00% <0.00%> (ø)` | |\n| integration1temurin20 | `0.00% <0.00%> (ø)` | |\n| integration2temurin11 | `0.00% <0.00%> (?)` | |\n| integration2temurin17 | `0.00% <0.00%> (?)` | |\n| integration2temurin20 | `0.00% <0.00%> (ø)` | |\n| unittests1temurin11 | `0.00% <0.00%> (ø)` | |\n| unittests1temurin17 | `0.00% <0.00%> (ø)` | |\n| unittests1temurin20 | `0.00% <0.00%> (ø)` | |\n| unittests2temurin11 | `?` | |\n| unittests2temurin17 | `0.11% <0.00%> (-0.01%)` | :arrow_down: |\n| unittests2temurin20 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10758?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...ler/api/resources/PinotSegmentRestletResource.java](https://app.codecov.io/gh/apache/pinot/pull/10758?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFJlc3RsZXRSZXNvdXJjZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...spi/utils/builder/ControllerRequestURLBuilder.java](https://app.codecov.io/gh/apache/pinot/pull/10758?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvYnVpbGRlci9Db250cm9sbGVyUmVxdWVzdFVSTEJ1aWxkZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n\n... and [117 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10758/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574223212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574280639","html_url":"https://github.com/apache/pinot/pull/10837#issuecomment-1574280639","issue_url":"https://api.github.com/repos/apache/pinot/issues/10837","id":1574280639,"node_id":"IC_kwDOATCU_c5d1Z2_","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T20:29:32Z","updated_at":"2023-06-07T02:07:00Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10837?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10837](https://app.codecov.io/gh/apache/pinot/pull/10837?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (2bc6f81) into [master](https://app.codecov.io/gh/apache/pinot/commit/3b2e31cfad6d327ca41021e091812f0f7e17e453?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (3b2e31c) will **increase** coverage by `34.33%`.\n> The diff coverage is `90.90%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10837       +/-   ##\n=============================================\n+ Coverage     34.52%   68.85%   +34.33%     \n- Complexity      462     6584     +6122     \n=============================================\n  Files          2174     2174               \n  Lines        116848   116845        -3     \n  Branches      17692    17695        +3     \n=============================================\n+ Hits          40339    80458    +40119     \n+ Misses        72991    30751    -42240     \n- Partials       3518     5636     +2118     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `23.70% <18.18%> (-0.06%)` | :arrow_down: |\n| unittests1 | `67.73% <88.88%> (?)` | |\n| unittests2 | `13.68% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...va/org/apache/pinot/controller/ControllerConf.java](https://app.codecov.io/gh/apache/pinot/pull/10837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyQ29uZi5qYXZh) | `58.74% <ø> (-0.70%)` | :arrow_down: |\n| [...che/pinot/common/utils/config/TierConfigUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvY29uZmlnL1RpZXJDb25maWdVdGlscy5qYXZh) | `61.90% <71.42%> (+58.77%)` | :arrow_up: |\n| [.../pinot/core/data/manager/BaseTableDataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvQmFzZVRhYmxlRGF0YU1hbmFnZXIuamF2YQ==) | `74.27% <100.00%> (+15.79%)` | :arrow_up: |\n| [.../local/loader/TierBasedSegmentDirectoryLoader.java](https://app.codecov.io/gh/apache/pinot/pull/10837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9sb2FkZXIvVGllckJhc2VkU2VnbWVudERpcmVjdG9yeUxvYWRlci5qYXZh) | `82.65% <100.00%> (+82.65%)` | :arrow_up: |\n| [...server/starter/helix/HelixInstanceDataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeEluc3RhbmNlRGF0YU1hbmFnZXIuamF2YQ==) | `70.34% <100.00%> (-3.33%)` | :arrow_down: |\n\n... and [1346 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10837/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574280639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574350178","html_url":"https://github.com/apache/pinot/issues/10822#issuecomment-1574350178","issue_url":"https://api.github.com/repos/apache/pinot/issues/10822","id":1574350178,"node_id":"IC_kwDOATCU_c5d1q1i","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T21:45:05Z","updated_at":"2023-06-02T21:45:05Z","author_association":"CONTRIBUTOR","body":"@yeahCaesar This is a good question to be asked in the slack channel under #troubleshooting","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574350178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574365874","html_url":"https://github.com/apache/pinot/issues/8837#issuecomment-1574365874","issue_url":"https://api.github.com/repos/apache/pinot/issues/8837","id":1574365874,"node_id":"IC_kwDOATCU_c5d1uqy","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T22:05:02Z","updated_at":"2023-06-02T22:05:02Z","author_association":"CONTRIBUTOR","body":"@gortiz We did optimize order by desc right? It is not as optimized as asc because we still need to scan all the values, but within each block, we don't put values into heap any more, so the algorithm is O(n) instead of O(nlogk) where k is the limit","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574365874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574379263","html_url":"https://github.com/apache/pinot/issues/10833#issuecomment-1574379263","issue_url":"https://api.github.com/repos/apache/pinot/issues/10833","id":1574379263,"node_id":"IC_kwDOATCU_c5d1x7_","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T22:19:43Z","updated_at":"2023-06-02T22:19:43Z","author_association":"CONTRIBUTOR","body":"Similar to segment reload, we should introduce the table reload operation, which re-create the `TableDataManager` and replace the existing one atomically","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574379263/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574383820","html_url":"https://github.com/apache/pinot/issues/10832#issuecomment-1574383820","issue_url":"https://api.github.com/repos/apache/pinot/issues/10832","id":1574383820,"node_id":"IC_kwDOATCU_c5d1zDM","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T22:24:35Z","updated_at":"2023-06-02T22:24:35Z","author_association":"CONTRIBUTOR","body":"All query options are case sensitive now, and pinot doesn't throw error when it cannot recognize an option. One solution would be to canonicalize the option keys, and check if the key is within an allowed key list. The problem with this approach is that it makes it hard to extend the option keys because user might want to put some options not understood by pinot, but used in their custom code plugged in","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574383820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574388213","html_url":"https://github.com/apache/pinot/issues/10816#issuecomment-1574388213","issue_url":"https://api.github.com/repos/apache/pinot/issues/10816","id":1574388213,"node_id":"IC_kwDOATCU_c5d10H1","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T22:30:01Z","updated_at":"2023-06-02T22:30:01Z","author_association":"CONTRIBUTOR","body":"The creation time within the segment metadata (stored in the segment file) is the time when the segment is created. The creation time within the ZK metadata is the same as segment metadata for pushed segment, but different for consuming segment. We can consider always making the ZK metadata the same as segment metadata, or add a `segment.realtime.creation.time` to differentiate with the physical segment creation time","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574388213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574399041","html_url":"https://github.com/apache/pinot/pull/10836#issuecomment-1574399041","issue_url":"https://api.github.com/repos/apache/pinot/issues/10836","id":1574399041,"node_id":"IC_kwDOATCU_c5d12xB","user":{"login":"deemoliu","id":15416419,"node_id":"MDQ6VXNlcjE1NDE2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/15416419?v=4","gravatar_id":"","url":"https://api.github.com/users/deemoliu","html_url":"https://github.com/deemoliu","followers_url":"https://api.github.com/users/deemoliu/followers","following_url":"https://api.github.com/users/deemoliu/following{/other_user}","gists_url":"https://api.github.com/users/deemoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/deemoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deemoliu/subscriptions","organizations_url":"https://api.github.com/users/deemoliu/orgs","repos_url":"https://api.github.com/users/deemoliu/repos","events_url":"https://api.github.com/users/deemoliu/events{/privacy}","received_events_url":"https://api.github.com/users/deemoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T22:39:58Z","updated_at":"2023-06-02T22:39:58Z","author_association":"CONTRIBUTOR","body":"> I don't think we want to make this change. The constructor for the `TableUpsertMetadataManager` takes the `UpsertConfig` from `TableConfig`, and process the value if needed (e.g. use time column as comparison column if not configured). We don't want to repeat the same steps in `PartitionUpsertMetadataManager`, so we directly pass the value\r\n\r\n@Jackie-Jiang Can I assign the `comparisonColumns` value to upsertConfig and pass it to PartitionUpsertMetadataManager? then we don't need to repeat the same steps in partitionlevel upsert metadata managers.\r\n\r\nThe purpose of the change is to address a comment from @KKcorps. https://github.com/apache/pinot/pull/10047#discussion_r1189404582 \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574399041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574401359","html_url":"https://github.com/apache/pinot/pull/10836#issuecomment-1574401359","issue_url":"https://api.github.com/repos/apache/pinot/issues/10836","id":1574401359,"node_id":"IC_kwDOATCU_c5d13VP","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T22:43:26Z","updated_at":"2023-06-02T22:43:26Z","author_association":"CONTRIBUTOR","body":"> @Jackie-Jiang Can I assign the `comparisonColumns` value to upsertConfig and pass it to PartitionUpsertMetadataManager? then we don't need to repeat the same steps in partitionlevel upsert metadata managers.\r\n> \r\n> The purpose of the change is to address a comment from @KKcorps. [#10047 (comment)](https://github.com/apache/pinot/pull/10047#discussion_r1189404582)\r\n\r\nThat can fix the issue, but also means it is harder to manage (next person might make the same mistake). I'd suggest keeping the constructor as is without overriding the config. @KKcorps wdyt?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574401359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574455771","html_url":"https://github.com/apache/pinot/pull/10836#issuecomment-1574455771","issue_url":"https://api.github.com/repos/apache/pinot/issues/10836","id":1574455771,"node_id":"IC_kwDOATCU_c5d2Enb","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-03T00:03:03Z","updated_at":"2023-06-03T00:03:03Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Is an instance of `UpsertConfig` meant to be mutable after its creation? Meaning once the upsert config object is instantiated, it seems acceptable to override a member variable with the setters. \r\n\r\nI don't think this is a good practice, in general, as a config should be immutable once created. It might be convenient for testing purposes. Can we follow a builder pattern with `UpsertConfig` if it makes sense? Or at least, disallow setters on config objects? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574455771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574523914","html_url":"https://github.com/apache/pinot/pull/10814#issuecomment-1574523914","issue_url":"https://api.github.com/repos/apache/pinot/issues/10814","id":1574523914,"node_id":"IC_kwDOATCU_c5d2VQK","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-03T01:17:32Z","updated_at":"2023-06-04T17:51:28Z","author_association":"CONTRIBUTOR","body":"I did some analysis, and here are a couple of points.\r\n\r\n- when we create a numeric `RelDataType` by invoking the function [toRelDataType](https://github.com/apache/pinot/blob/master/pinot-query-planner/src/main/java/org/apache/pinot/query/type/TypeFactory.java#L54), none of them has precision or scale value. The reason being we always get a `False` value from the method [allowsPrec()](https://github.com/apache/calcite/blob/main/core/src/main/java/org/apache/calcite/sql/type/SqlTypeFactoryImpl.java#L51)\r\n- when we invoke the [getPrecision()](https://github.com/apache/calcite/blob/main/core/src/main/java/org/apache/calcite/sql/type/BasicSqlType.java#L149) method for the Numeric data type, it returns the value based on ```typeSystem.getDefaultPrecision(typeName)```.\r\n- I am not able to find any relationship between the method [decimalOf2()](https://github.com/apache/calcite/blob/main/core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactoryImpl.java#L586) in the `createSqlType` call stack.\r\n\r\nWith the above-mentioned points, i see we have ~~two~~ one options\r\n- Override the `getDefaultPrecision` in `TypeSystem` with something like that\r\n   ```\r\n       @Override public int getDefaultPrecision(SqlTypeName typeName) {\r\n           switch (typeName) {\r\n                 case DOUBLE:\r\n                  return 16;\r\n                 default:\r\n                      return super.getDefaultPrecision(typeName)\r\n           }\r\n        }\r\n   ```\r\n~~- Invoking `decimalOf2()` in [toRelDataType()](https://github.com/apache/pinot/blob/master/pinot-query-planner/src/main/java/org/apache/pinot/query/type/TypeFactory.java#L54) for Numeric data type to set the precision and scale values.~~ we can not, it's a private method.\r\n\r\n`TypeCoercion` logic, I have to dig more.\r\n\r\n @walterddr please suggest here. Thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574523914/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574533773","html_url":"https://github.com/apache/pinot/pull/10839#issuecomment-1574533773","issue_url":"https://api.github.com/repos/apache/pinot/issues/10839","id":1574533773,"node_id":"IC_kwDOATCU_c5d2XqN","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-03T01:29:01Z","updated_at":"2023-06-06T05:35:11Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10839?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10839](https://app.codecov.io/gh/apache/pinot/pull/10839?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (76a4bfa) into [master](https://app.codecov.io/gh/apache/pinot/commit/da6944882da5c30b1f790b21d1e247a8466da67b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (da69448) will **decrease** coverage by `34.03%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10839       +/-   ##\n=============================================\n- Coverage     68.42%   34.39%   -34.03%     \n+ Complexity     6573      462     -6111     \n=============================================\n  Files          2170     2174        +4     \n  Lines        116688   116835      +147     \n  Branches      17661    17689       +28     \n=============================================\n- Hits          79846    40190    -39656     \n- Misses        31196    73141    +41945     \n+ Partials       5646     3504     -2142     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `23.86% <50.00%> (-0.10%)` | :arrow_down: |\n| integration2 | `23.69% <100.00%> (?)` | |\n| unittests1 | `?` | |\n| unittests2 | `13.68% <0.00%> (+0.06%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10839?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...pache/pinot/core/query/distinct/DistinctTable.java](https://app.codecov.io/gh/apache/pinot/pull/10839?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9kaXN0aW5jdC9EaXN0aW5jdFRhYmxlLmphdmE=) | `50.52% <100.00%> (-27.91%)` | :arrow_down: |\n\n... and [1363 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10839/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574533773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574591699","html_url":"https://github.com/apache/pinot/issues/10824#issuecomment-1574591699","issue_url":"https://api.github.com/repos/apache/pinot/issues/10824","id":1574591699,"node_id":"IC_kwDOATCU_c5d2lzT","user":{"login":"monicaluodialpad","id":74613115,"node_id":"MDQ6VXNlcjc0NjEzMTE1","avatar_url":"https://avatars.githubusercontent.com/u/74613115?v=4","gravatar_id":"","url":"https://api.github.com/users/monicaluodialpad","html_url":"https://github.com/monicaluodialpad","followers_url":"https://api.github.com/users/monicaluodialpad/followers","following_url":"https://api.github.com/users/monicaluodialpad/following{/other_user}","gists_url":"https://api.github.com/users/monicaluodialpad/gists{/gist_id}","starred_url":"https://api.github.com/users/monicaluodialpad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monicaluodialpad/subscriptions","organizations_url":"https://api.github.com/users/monicaluodialpad/orgs","repos_url":"https://api.github.com/users/monicaluodialpad/repos","events_url":"https://api.github.com/users/monicaluodialpad/events{/privacy}","received_events_url":"https://api.github.com/users/monicaluodialpad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-03T03:00:39Z","updated_at":"2023-06-03T03:21:58Z","author_association":"NONE","body":"@shenyu0127 Thank you for your reply\r\n\r\n--------\r\nQ1: May I ask the full query example with `OPTION(enableNullHandling=true)`? We have turned it on in table configuration like example in [handle null values](https://dev.startree.ai/docs/pinot/recipes/handle-null-values#pinot-schema-and-table) . Is it good enough?\r\n and looks like the [OPTION keyword is deprecated](https://docs.pinot.apache.org/users/user-guide-query/query-options). so I tried :  \r\n```\r\nSET enableNullHandling=true\r\nSELECT CASE WHEN \"some_field\" IS NOT NULL THEN \"some_field\" ELSE NULL END AS \"some_alias\"\r\nFROM \"some_table\"\r\n```\r\nBut I got error\r\n```\r\nProcessingException(errorCode:450, message:InternalError:\r\norg.apache.pinot.sql.parsers.SqlCompilationException: Caught exception while parsing query: SET enableNullHandling = true\r\n```\r\n------\r\n\r\nQ2: Is the latest version of pinot v0.12.1 ? Unfortunately I still get the error with or without OPTION / SET keyword","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574591699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574625387","html_url":"https://github.com/apache/pinot/issues/10824#issuecomment-1574625387","issue_url":"https://api.github.com/repos/apache/pinot/issues/10824","id":1574625387,"node_id":"IC_kwDOATCU_c5d2uBr","user":{"login":"shenyu0127","id":6668780,"node_id":"MDQ6VXNlcjY2Njg3ODA=","avatar_url":"https://avatars.githubusercontent.com/u/6668780?v=4","gravatar_id":"","url":"https://api.github.com/users/shenyu0127","html_url":"https://github.com/shenyu0127","followers_url":"https://api.github.com/users/shenyu0127/followers","following_url":"https://api.github.com/users/shenyu0127/following{/other_user}","gists_url":"https://api.github.com/users/shenyu0127/gists{/gist_id}","starred_url":"https://api.github.com/users/shenyu0127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenyu0127/subscriptions","organizations_url":"https://api.github.com/users/shenyu0127/orgs","repos_url":"https://api.github.com/users/shenyu0127/repos","events_url":"https://api.github.com/users/shenyu0127/events{/privacy}","received_events_url":"https://api.github.com/users/shenyu0127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-03T04:01:59Z","updated_at":"2023-06-03T04:01:59Z","author_association":"CONTRIBUTOR","body":"- If you put a `;` after your `SET` statement, your query will be parsed correctly.\r\n- Your query will not work in v0.12.1.\r\n   - The `IS NOT NULL` feature is added in https://github.com/apache/pinot/pull/10594, which is not included in v0.12.1. \r\n   - If you build a Pinot from source on HEAD (https://docs.pinot.apache.org/basics/getting-started/running-pinot-locally), your query will work. Or you can wait for the next Pinot release to include this feature.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1574625387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575080284","html_url":"https://github.com/apache/pinot/issues/10838#issuecomment-1575080284","issue_url":"https://api.github.com/repos/apache/pinot/issues/10838","id":1575080284,"node_id":"IC_kwDOATCU_c5d4dFc","user":{"login":"egalpin","id":7582748,"node_id":"MDQ6VXNlcjc1ODI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/7582748?v=4","gravatar_id":"","url":"https://api.github.com/users/egalpin","html_url":"https://github.com/egalpin","followers_url":"https://api.github.com/users/egalpin/followers","following_url":"https://api.github.com/users/egalpin/following{/other_user}","gists_url":"https://api.github.com/users/egalpin/gists{/gist_id}","starred_url":"https://api.github.com/users/egalpin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egalpin/subscriptions","organizations_url":"https://api.github.com/users/egalpin/orgs","repos_url":"https://api.github.com/users/egalpin/repos","events_url":"https://api.github.com/users/egalpin/events{/privacy}","received_events_url":"https://api.github.com/users/egalpin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-03T17:19:18Z","updated_at":"2023-06-03T17:19:18Z","author_association":"MEMBER","body":"This actually just requires that there be `MV` variants of the transforms.  I'll open a PR next week to add a few that I'm interested in.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575080284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575119639","html_url":"https://github.com/apache/pinot/pull/10812#issuecomment-1575119639","issue_url":"https://api.github.com/repos/apache/pinot/issues/10812","id":1575119639,"node_id":"IC_kwDOATCU_c5d4msX","user":{"login":"shenyu0127","id":6668780,"node_id":"MDQ6VXNlcjY2Njg3ODA=","avatar_url":"https://avatars.githubusercontent.com/u/6668780?v=4","gravatar_id":"","url":"https://api.github.com/users/shenyu0127","html_url":"https://github.com/shenyu0127","followers_url":"https://api.github.com/users/shenyu0127/followers","following_url":"https://api.github.com/users/shenyu0127/following{/other_user}","gists_url":"https://api.github.com/users/shenyu0127/gists{/gist_id}","starred_url":"https://api.github.com/users/shenyu0127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenyu0127/subscriptions","organizations_url":"https://api.github.com/users/shenyu0127/orgs","repos_url":"https://api.github.com/users/shenyu0127/repos","events_url":"https://api.github.com/users/shenyu0127/events{/privacy}","received_events_url":"https://api.github.com/users/shenyu0127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-03T18:38:52Z","updated_at":"2023-06-03T18:38:52Z","author_association":"CONTRIBUTOR","body":"This PR breaks the `PinotTaskManagerStatelessTest`.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575119639/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575204713","html_url":"https://github.com/apache/pinot/pull/10840#issuecomment-1575204713","issue_url":"https://api.github.com/repos/apache/pinot/issues/10840","id":1575204713,"node_id":"IC_kwDOATCU_c5d47dp","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-03T21:29:48Z","updated_at":"2023-06-03T23:57:46Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10840?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10840](https://app.codecov.io/gh/apache/pinot/pull/10840?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (f5e79ad) into [master](https://app.codecov.io/gh/apache/pinot/commit/87379fc6411a928b18d5ee8f6ec4a07f5cd0f8d3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (87379fc) will **increase** coverage by `43.18%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10840       +/-   ##\n=============================================\n+ Coverage     27.09%   70.27%   +43.18%     \n- Complexity       58     6584     +6526     \n=============================================\n  Files          2154     2170       +16     \n  Lines        116255   116688      +433     \n  Branches      17606    17661       +55     \n=============================================\n+ Hits          31495    82005    +50510     \n+ Misses        81619    28968    -52651     \n- Partials       3141     5715     +2574     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.08% <ø> (+0.26%)` | :arrow_up: |\n| integration2 | `23.90% <ø> (+0.16%)` | :arrow_up: |\n| unittests1 | `67.73% <ø> (?)` | |\n| unittests2 | `13.61% <ø> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 1538 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10840/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575204713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575255538","html_url":"https://github.com/apache/pinot/pull/10841#issuecomment-1575255538","issue_url":"https://api.github.com/repos/apache/pinot/issues/10841","id":1575255538,"node_id":"IC_kwDOATCU_c5d5H3y","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-03T23:13:27Z","updated_at":"2023-06-07T03:48:52Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10841?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10841](https://app.codecov.io/gh/apache/pinot/pull/10841?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (9440ffb) into [master](https://app.codecov.io/gh/apache/pinot/commit/6dbd9e23fef8d326fa2f2467ae8a10e2b3fdb428?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (6dbd9e2) will **increase** coverage by `35.82%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10841       +/-   ##\n=============================================\n+ Coverage     34.25%   70.07%   +35.82%     \n- Complexity      462     6584     +6122     \n=============================================\n  Files          2170     2174        +4     \n  Lines        116650   117100      +450     \n  Branches      17654    17755      +101     \n=============================================\n+ Hits          39959    82060    +42101     \n+ Misses        73201    29316    -43885     \n- Partials       3490     5724     +2234     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `23.77% <0.00%> (-0.14%)` | :arrow_down: |\n| integration2 | `23.79% <0.00%> (+0.21%)` | :arrow_up: |\n| unittests1 | `67.53% <0.00%> (?)` | |\n| unittests2 | `13.65% <0.00%> (+0.03%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10841?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...inot/common/function/scalar/DateTimeFunctions.java](https://app.codecov.io/gh/apache/pinot/pull/10841?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vc2NhbGFyL0RhdGVUaW1lRnVuY3Rpb25zLmphdmE=) | `21.67% <0.00%> (+8.99%)` | :arrow_up: |\n\n... and [1275 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10841/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575255538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575484950","html_url":"https://github.com/apache/pinot/pull/10840#issuecomment-1575484950","issue_url":"https://api.github.com/repos/apache/pinot/issues/10840","id":1575484950,"node_id":"IC_kwDOATCU_c5d5_4W","user":{"login":"eaugene","id":26409058,"node_id":"MDQ6VXNlcjI2NDA5MDU4","avatar_url":"https://avatars.githubusercontent.com/u/26409058?v=4","gravatar_id":"","url":"https://api.github.com/users/eaugene","html_url":"https://github.com/eaugene","followers_url":"https://api.github.com/users/eaugene/followers","following_url":"https://api.github.com/users/eaugene/following{/other_user}","gists_url":"https://api.github.com/users/eaugene/gists{/gist_id}","starred_url":"https://api.github.com/users/eaugene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaugene/subscriptions","organizations_url":"https://api.github.com/users/eaugene/orgs","repos_url":"https://api.github.com/users/eaugene/repos","events_url":"https://api.github.com/users/eaugene/events{/privacy}","received_events_url":"https://api.github.com/users/eaugene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-04T09:21:07Z","updated_at":"2023-06-04T09:21:07Z","author_association":"CONTRIBUTOR","body":"Thanks @shenyu0127  for the fix ! ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575484950/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575985014","html_url":"https://github.com/apache/pinot/issues/10822#issuecomment-1575985014","issue_url":"https://api.github.com/repos/apache/pinot/issues/10822","id":1575985014,"node_id":"IC_kwDOATCU_c5d7592","user":{"login":"yeahCaesar","id":19277364,"node_id":"MDQ6VXNlcjE5Mjc3MzY0","avatar_url":"https://avatars.githubusercontent.com/u/19277364?v=4","gravatar_id":"","url":"https://api.github.com/users/yeahCaesar","html_url":"https://github.com/yeahCaesar","followers_url":"https://api.github.com/users/yeahCaesar/followers","following_url":"https://api.github.com/users/yeahCaesar/following{/other_user}","gists_url":"https://api.github.com/users/yeahCaesar/gists{/gist_id}","starred_url":"https://api.github.com/users/yeahCaesar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yeahCaesar/subscriptions","organizations_url":"https://api.github.com/users/yeahCaesar/orgs","repos_url":"https://api.github.com/users/yeahCaesar/repos","events_url":"https://api.github.com/users/yeahCaesar/events{/privacy}","received_events_url":"https://api.github.com/users/yeahCaesar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T03:27:46Z","updated_at":"2023-06-05T03:27:46Z","author_association":"NONE","body":"> @yeahCaesar This is a good question to be asked in the slack channel under #troubleshooting\r\n\r\nok，thanks for replying me","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1575985014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1576092842","html_url":"https://github.com/apache/pinot/issues/10832#issuecomment-1576092842","issue_url":"https://api.github.com/repos/apache/pinot/issues/10832","id":1576092842,"node_id":"IC_kwDOATCU_c5d8USq","user":{"login":"eaugene","id":26409058,"node_id":"MDQ6VXNlcjI2NDA5MDU4","avatar_url":"https://avatars.githubusercontent.com/u/26409058?v=4","gravatar_id":"","url":"https://api.github.com/users/eaugene","html_url":"https://github.com/eaugene","followers_url":"https://api.github.com/users/eaugene/followers","following_url":"https://api.github.com/users/eaugene/following{/other_user}","gists_url":"https://api.github.com/users/eaugene/gists{/gist_id}","starred_url":"https://api.github.com/users/eaugene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaugene/subscriptions","organizations_url":"https://api.github.com/users/eaugene/orgs","repos_url":"https://api.github.com/users/eaugene/repos","events_url":"https://api.github.com/users/eaugene/events{/privacy}","received_events_url":"https://api.github.com/users/eaugene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T06:01:00Z","updated_at":"2023-06-05T06:02:10Z","author_association":"CONTRIBUTOR","body":"Got it @Jackie-Jiang  . But on the flip side , can we make query options case insensitive? \r\n\r\nAlso if an unsupported query options come to Pinot, can we include that in warning message passed along with query response?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1576092842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1576101176","html_url":"https://github.com/apache/pinot/issues/10816#issuecomment-1576101176","issue_url":"https://api.github.com/repos/apache/pinot/issues/10816","id":1576101176,"node_id":"IC_kwDOATCU_c5d8WU4","user":{"login":"eaugene","id":26409058,"node_id":"MDQ6VXNlcjI2NDA5MDU4","avatar_url":"https://avatars.githubusercontent.com/u/26409058?v=4","gravatar_id":"","url":"https://api.github.com/users/eaugene","html_url":"https://github.com/eaugene","followers_url":"https://api.github.com/users/eaugene/followers","following_url":"https://api.github.com/users/eaugene/following{/other_user}","gists_url":"https://api.github.com/users/eaugene/gists{/gist_id}","starred_url":"https://api.github.com/users/eaugene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaugene/subscriptions","organizations_url":"https://api.github.com/users/eaugene/orgs","repos_url":"https://api.github.com/users/eaugene/repos","events_url":"https://api.github.com/users/eaugene/events{/privacy}","received_events_url":"https://api.github.com/users/eaugene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T06:07:20Z","updated_at":"2023-06-05T06:07:20Z","author_association":"CONTRIBUTOR","body":"> add a segment.realtime.creation.time to differentiate with the physical segment creation time\r\n\r\nThanks. This is more effective. I'll work on this change. Please assign this to me ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1576101176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1576196265","html_url":"https://github.com/apache/pinot/pull/10842#issuecomment-1576196265","issue_url":"https://api.github.com/repos/apache/pinot/issues/10842","id":1576196265,"node_id":"IC_kwDOATCU_c5d8tip","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T07:20:41Z","updated_at":"2023-06-05T20:58:26Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10842?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10842](https://app.codecov.io/gh/apache/pinot/pull/10842?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (700509e) into [master](https://app.codecov.io/gh/apache/pinot/commit/dc35068da1c253222de76027d8ca2c9458814dfd?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (dc35068) will **increase** coverage by `36.91%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10842       +/-   ##\n=============================================\n+ Coverage     27.45%   64.36%   +36.91%     \n- Complexity       58     6562     +6504     \n=============================================\n  Files          2154     2116       -38     \n  Lines        116255   114200     -2055     \n  Branches      17606    17363      -243     \n=============================================\n+ Hits          31919    73509    +41590     \n+ Misses        81175    35413    -45762     \n- Partials       3161     5278     +2117     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `67.74% <100.00%> (?)` | |\n| unittests2 | `13.63% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10842?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...ment/index/readers/text/NativeTextIndexReader.java](https://app.codecov.io/gh/apache/pinot/pull/10842?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L3JlYWRlcnMvdGV4dC9OYXRpdmVUZXh0SW5kZXhSZWFkZXIuamF2YQ==) | `70.45% <100.00%> (+70.45%)` | :arrow_up: |\n\n... and [1780 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10842/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1576196265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577100598","html_url":"https://github.com/apache/pinot/issues/10829#issuecomment-1577100598","issue_url":"https://api.github.com/repos/apache/pinot/issues/10829","id":1577100598,"node_id":"IC_kwDOATCU_c5eAKU2","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T16:20:11Z","updated_at":"2023-06-05T16:20:11Z","author_association":"CONTRIBUTOR","body":"was able to consistently reproduce with high concurrency on cluster. looking into why","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577100598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577221027","html_url":"https://github.com/apache/pinot/issues/8837#issuecomment-1577221027","issue_url":"https://api.github.com/repos/apache/pinot/issues/8837","id":1577221027,"node_id":"IC_kwDOATCU_c5eAnuj","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T17:49:42Z","updated_at":"2023-06-05T17:49:42Z","author_association":"CONTRIBUTOR","body":"You are right Jackie, as usual!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577221027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577280103","html_url":"https://github.com/apache/pinot/pull/10836#issuecomment-1577280103","issue_url":"https://api.github.com/repos/apache/pinot/issues/10836","id":1577280103,"node_id":"IC_kwDOATCU_c5eA2Jn","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T18:36:48Z","updated_at":"2023-06-05T18:36:48Z","author_association":"CONTRIBUTOR","body":"> @Jackie-Jiang Is an instance of `UpsertConfig` meant to be mutable after its creation? Meaning once the upsert config object is instantiated, it seems acceptable to override a member variable with the setters.\r\n> \r\n> I don't think this is a good practice, in general, as a config should be immutable once created. It might be convenient for testing purposes. Can we follow a builder pattern with `UpsertConfig` if it makes sense? Or at least, disallow setters on config objects?\r\n\r\nThat is basically the point I'm trying to make. We should not modify the config read from the ZK because that can cause confusion, and certain dependency on how the code is executed. The current code doesn't modify the config but the new code does, thus I'm suggesting not making this change.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577280103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577287630","html_url":"https://github.com/apache/pinot/issues/10823#issuecomment-1577287630","issue_url":"https://api.github.com/repos/apache/pinot/issues/10823","id":1577287630,"node_id":"IC_kwDOATCU_c5eA3_O","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T18:43:50Z","updated_at":"2023-06-05T18:43:50Z","author_association":"CONTRIBUTOR","body":"Attached a failed run: https://github.com/apache/pinot/actions/runs/5126437043/jobs/9220922056","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577287630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577289138","html_url":"https://github.com/apache/pinot/issues/6083#issuecomment-1577289138","issue_url":"https://api.github.com/repos/apache/pinot/issues/6083","id":1577289138,"node_id":"IC_kwDOATCU_c5eA4Wy","user":{"login":"monicaluodialpad","id":74613115,"node_id":"MDQ6VXNlcjc0NjEzMTE1","avatar_url":"https://avatars.githubusercontent.com/u/74613115?v=4","gravatar_id":"","url":"https://api.github.com/users/monicaluodialpad","html_url":"https://github.com/monicaluodialpad","followers_url":"https://api.github.com/users/monicaluodialpad/followers","following_url":"https://api.github.com/users/monicaluodialpad/following{/other_user}","gists_url":"https://api.github.com/users/monicaluodialpad/gists{/gist_id}","starred_url":"https://api.github.com/users/monicaluodialpad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monicaluodialpad/subscriptions","organizations_url":"https://api.github.com/users/monicaluodialpad/orgs","repos_url":"https://api.github.com/users/monicaluodialpad/repos","events_url":"https://api.github.com/users/monicaluodialpad/events{/privacy}","received_events_url":"https://api.github.com/users/monicaluodialpad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T18:44:39Z","updated_at":"2023-06-05T18:49:00Z","author_association":"NONE","body":"Do we have support on `element_at` already? Is this for returning the item at specific index?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577289138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577296391","html_url":"https://github.com/apache/pinot/issues/10823#issuecomment-1577296391","issue_url":"https://api.github.com/repos/apache/pinot/issues/10823","id":1577296391,"node_id":"IC_kwDOATCU_c5eA6IH","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T18:51:18Z","updated_at":"2023-06-05T18:51:18Z","author_association":"CONTRIBUTOR","body":"Trying to understand why shut down is not blocking. In `QueryServer`, when `shutDown()` is called, `_channel` is closed and `sync()` is called which should block it until `_channel` is closed. After `_channel` is closed, broker shouldn't be able to talk to the server. Could this be a bug in `Netty` which causes the channel to be left unclosed even after `sync()` is called?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577296391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577304592","html_url":"https://github.com/apache/pinot/pull/10835#issuecomment-1577304592","issue_url":"https://api.github.com/repos/apache/pinot/issues/10835","id":1577304592,"node_id":"IC_kwDOATCU_c5eA8IQ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T18:57:52Z","updated_at":"2023-06-06T15:49:40Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10835?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10835](https://app.codecov.io/gh/apache/pinot/pull/10835?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (09fbc6c) into [master](https://app.codecov.io/gh/apache/pinot/commit/6a7a0668cdd47f0ae0c9b5af218dd2d2b6f1994e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (6a7a066) will **decrease** coverage by `56.59%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10835       +/-   ##\n=============================================\n- Coverage     70.20%   13.61%   -56.59%     \n+ Complexity     6585      439     -6146     \n=============================================\n  Files          2170     2116       -54     \n  Lines        116688   114196     -2492     \n  Branches      17661    17363      -298     \n=============================================\n- Hits          81919    15549    -66370     \n- Misses        29052    97375    +68323     \n+ Partials       5717     1272     -4445     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.61% <ø> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 1716 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10835/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577304592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577305180","html_url":"https://github.com/apache/pinot/pull/9416#issuecomment-1577305180","issue_url":"https://api.github.com/repos/apache/pinot/issues/9416","id":1577305180,"node_id":"IC_kwDOATCU_c5eA8Rc","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T18:58:20Z","updated_at":"2023-06-05T18:58:20Z","author_association":"CONTRIBUTOR","body":"Very promising work! @jackjlli Can you help review this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577305180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577372202","html_url":"https://github.com/apache/pinot/pull/10846#issuecomment-1577372202","issue_url":"https://api.github.com/repos/apache/pinot/issues/10846","id":1577372202,"node_id":"IC_kwDOATCU_c5eBMoq","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T19:42:26Z","updated_at":"2023-07-04T19:43:31Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10846](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (58c5e34) into [master](https://app.codecov.io/gh/apache/pinot/commit/a6ee2773a28b2339ac1a4fc80fba978ae69dbbde?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (a6ee277) will **decrease** coverage by `0.01%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@            Coverage Diff             @@\n##           master   #10846      +/-   ##\n==========================================\n- Coverage    0.11%    0.11%   -0.01%     \n==========================================\n  Files        2197     2198       +1     \n  Lines      118596   118674      +78     \n  Branches    17980    17992      +12     \n==========================================\n  Hits          137      137              \n- Misses     118439   118517      +78     \n  Partials       20       20              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1temurin11 | `0.00% <0.00%> (ø)` | |\n| integration1temurin17 | `0.00% <0.00%> (ø)` | |\n| integration1temurin20 | `0.00% <0.00%> (ø)` | |\n| integration2temurin11 | `0.00% <0.00%> (ø)` | |\n| integration2temurin17 | `0.00% <0.00%> (ø)` | |\n| integration2temurin20 | `0.00% <0.00%> (ø)` | |\n| unittests1temurin11 | `0.00% <0.00%> (ø)` | |\n| unittests1temurin17 | `0.00% <0.00%> (ø)` | |\n| unittests1temurin20 | `0.00% <0.00%> (ø)` | |\n| unittests2temurin11 | `0.11% <0.00%> (-0.01%)` | :arrow_down: |\n| unittests2temurin17 | `0.11% <0.00%> (-0.01%)` | :arrow_down: |\n| unittests2temurin20 | `0.11% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...gregation/function/AggregationFunctionFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...query/reduce/function/InternalReduceFunctions.java](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvZnVuY3Rpb24vSW50ZXJuYWxSZWR1Y2VGdW5jdGlvbnMuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...uery/planner/physical/DispatchablePlanVisitor.java](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9waHlzaWNhbC9EaXNwYXRjaGFibGVQbGFuVmlzaXRvci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...he/pinot/query/planner/plannode/AggregateNode.java](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9wbGFubm9kZS9BZ2dyZWdhdGVOb2RlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...inot/query/runtime/operator/AggregateOperator.java](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9BZ2dyZWdhdGVPcGVyYXRvci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...untime/operator/MultistageAggregationExecutor.java](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NdWx0aXN0YWdlQWdncmVnYXRpb25FeGVjdXRvci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ry/runtime/operator/MultistageGroupByExecutor.java](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NdWx0aXN0YWdlR3JvdXBCeUV4ZWN1dG9yLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../pinot/query/runtime/plan/PhysicalPlanVisitor.java](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL1BoeXNpY2FsUGxhblZpc2l0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...che/pinot/segment/spi/AggregationFunctionType.java](https://app.codecov.io/gh/apache/pinot/pull/10846?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL0FnZ3JlZ2F0aW9uRnVuY3Rpb25UeXBlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n\n... and [5 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10846/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577372202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577421662","html_url":"https://github.com/apache/pinot/pull/10846#issuecomment-1577421662","issue_url":"https://api.github.com/repos/apache/pinot/issues/10846","id":1577421662,"node_id":"IC_kwDOATCU_c5eBYte","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T20:20:52Z","updated_at":"2023-06-05T20:20:52Z","author_association":"CONTRIBUTOR","body":"Just a note: the test failures are currently expected as the changes need to be integrated with the runtime code","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577421662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577498589","html_url":"https://github.com/apache/pinot/pull/9416#issuecomment-1577498589","issue_url":"https://api.github.com/repos/apache/pinot/issues/9416","id":1577498589,"node_id":"IC_kwDOATCU_c5eBrfd","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T21:24:36Z","updated_at":"2023-06-05T21:24:36Z","author_association":"CONTRIBUTOR","body":"If we use Compound metrics registry, would the prometheus storage double?\r\nAnd in the end where you give example of what we can set in pattern with Dropwizard, what should we set to catch separately, if we are using Compound?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577498589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577579268","html_url":"https://github.com/apache/pinot/pull/10847#issuecomment-1577579268","issue_url":"https://api.github.com/repos/apache/pinot/issues/10847","id":1577579268,"node_id":"IC_kwDOATCU_c5eB_ME","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T22:44:59Z","updated_at":"2023-06-07T01:40:02Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10847?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10847](https://app.codecov.io/gh/apache/pinot/pull/10847?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (dc0d987) into [master](https://app.codecov.io/gh/apache/pinot/commit/3b2e31cfad6d327ca41021e091812f0f7e17e453?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (3b2e31c) will **increase** coverage by `35.71%`.\n> The diff coverage is `56.52%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10847       +/-   ##\n=============================================\n+ Coverage     34.52%   70.23%   +35.71%     \n- Complexity      462     6584     +6122     \n=============================================\n  Files          2174     2174               \n  Lines        116848   116873       +25     \n  Branches      17692    17697        +5     \n=============================================\n+ Hits          40339    82088    +41749     \n+ Misses        72991    29049    -43942     \n- Partials       3518     5736     +2218     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `23.92% <39.13%> (-0.05%)` | :arrow_down: |\n| integration2 | `23.74% <28.26%> (-0.03%)` | :arrow_down: |\n| unittests1 | `67.72% <56.52%> (?)` | |\n| unittests2 | `13.69% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10847?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [.../core/segment/processing/mapper/SegmentMapper.java](https://app.codecov.io/gh/apache/pinot/pull/10847?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvbWFwcGVyL1NlZ21lbnRNYXBwZXIuamF2YQ==) | `82.85% <16.66%> (-6.21%)` | :arrow_down: |\n| [.../core/segment/processing/reducer/DedupReducer.java](https://app.codecov.io/gh/apache/pinot/pull/10847?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvcmVkdWNlci9EZWR1cFJlZHVjZXIuamF2YQ==) | `90.47% <55.55%> (+90.47%)` | :arrow_up: |\n| [...core/segment/processing/reducer/RollupReducer.java](https://app.codecov.io/gh/apache/pinot/pull/10847?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvcmVkdWNlci9Sb2xsdXBSZWR1Y2VyLmphdmE=) | `95.40% <55.55%> (+21.01%)` | :arrow_up: |\n| [...rocessing/framework/SegmentProcessorFramework.java](https://app.codecov.io/gh/apache/pinot/pull/10847?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvZnJhbWV3b3JrL1NlZ21lbnRQcm9jZXNzb3JGcmFtZXdvcmsuamF2YQ==) | `90.58% <68.18%> (-0.21%)` | :arrow_down: |\n\n... and [1264 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10847/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577579268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577581308","html_url":"https://github.com/apache/pinot/pull/10841#issuecomment-1577581308","issue_url":"https://api.github.com/repos/apache/pinot/issues/10841","id":1577581308,"node_id":"IC_kwDOATCU_c5eB_r8","user":{"login":"egalpin","id":7582748,"node_id":"MDQ6VXNlcjc1ODI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/7582748?v=4","gravatar_id":"","url":"https://api.github.com/users/egalpin","html_url":"https://github.com/egalpin","followers_url":"https://api.github.com/users/egalpin/followers","following_url":"https://api.github.com/users/egalpin/following{/other_user}","gists_url":"https://api.github.com/users/egalpin/gists{/gist_id}","starred_url":"https://api.github.com/users/egalpin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egalpin/subscriptions","organizations_url":"https://api.github.com/users/egalpin/orgs","repos_url":"https://api.github.com/users/egalpin/repos","events_url":"https://api.github.com/users/egalpin/events{/privacy}","received_events_url":"https://api.github.com/users/egalpin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T22:48:02Z","updated_at":"2023-06-05T22:48:02Z","author_association":"MEMBER","body":"@Jackie-Jiang should there be extra tests added given that these functions all call previously tested functions in a loop? I suppose I know that the answer is yes, but I'm trying to be lazy haha.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577581308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577689769","html_url":"https://github.com/apache/pinot/pull/9416#issuecomment-1577689769","issue_url":"https://api.github.com/repos/apache/pinot/issues/9416","id":1577689769,"node_id":"IC_kwDOATCU_c5eCaKp","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T23:38:16Z","updated_at":"2023-06-05T23:38:16Z","author_association":"CONTRIBUTOR","body":"> If we use Compound metrics registry, would the prometheus storage double?\r\n\r\nThat depends on our Prometheus config. We could configure Prometheus to store one set of the metrics or both. In the latter case the storage would be doubled.\r\n\r\n> And in the end where you give example of what we can set in pattern with Dropwizard, what should we set to catch separately, if we are using Compound?\r\n\r\nI think we should not use Compound in actual deployments. It may be useful to use that in a integration test in order to verify that both metric registries are actually returning compatible information and that we can create the same Prometheus metrics from one or the other.\r\n\r\nIn case we want to actually use Compound and we want to register both metrics in Prometheus, we would need to have two rules per metric. One can be the same we have right now (which is going to read from Yammer) and then we can add another like:\r\n```\r\n- pattern: \"org.apache.pinot.common.metrics<name=\\\"pinot.broker.([^\\\\.]*?)\\\\.totalServerResponseSize\\\"><>(\\\\w+)\"\r\n```\r\n\r\nThe latter will only match with Dropwizard because the domain does not start with `\\\"`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577689769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577693842","html_url":"https://github.com/apache/pinot/pull/10851#issuecomment-1577693842","issue_url":"https://api.github.com/repos/apache/pinot/issues/10851","id":1577693842,"node_id":"IC_kwDOATCU_c5eCbKS","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T23:45:14Z","updated_at":"2023-06-05T23:45:14Z","author_association":"CONTRIBUTOR","body":"It would be nice to add a test that verifies that the specified logic is fulfilled by the implementation, but I'm not sure about how to do that. Maybe we can create a segment with the index stored and then mock `SegmentDirectory.Reader.hasIndex` to return false?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577693842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577694878","html_url":"https://github.com/apache/pinot/pull/10715#issuecomment-1577694878","issue_url":"https://api.github.com/repos/apache/pinot/issues/10715","id":1577694878,"node_id":"IC_kwDOATCU_c5eCbae","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T23:47:10Z","updated_at":"2023-06-05T23:47:10Z","author_association":"CONTRIBUTOR","body":"#10851 should be the correct way to fix this problem","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577694878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577719495","html_url":"https://github.com/apache/pinot/issues/10829#issuecomment-1577719495","issue_url":"https://api.github.com/repos/apache/pinot/issues/10829","id":1577719495,"node_id":"IC_kwDOATCU_c5eChbH","user":{"login":"ege-st","id":134291879,"node_id":"U_kgDOCAEhpw","avatar_url":"https://avatars.githubusercontent.com/u/134291879?v=4","gravatar_id":"","url":"https://api.github.com/users/ege-st","html_url":"https://github.com/ege-st","followers_url":"https://api.github.com/users/ege-st/followers","following_url":"https://api.github.com/users/ege-st/following{/other_user}","gists_url":"https://api.github.com/users/ege-st/gists{/gist_id}","starred_url":"https://api.github.com/users/ege-st/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ege-st/subscriptions","organizations_url":"https://api.github.com/users/ege-st/orgs","repos_url":"https://api.github.com/users/ege-st/repos","events_url":"https://api.github.com/users/ege-st/events{/privacy}","received_events_url":"https://api.github.com/users/ege-st/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T00:17:56Z","updated_at":"2023-06-06T00:17:56Z","author_association":"CONTRIBUTOR","body":"This bug is also affecting the tests on this PR: https://github.com/apache/pinot/actions/runs/5180339556/jobs/9338571616?pr=10835","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577719495/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577722022","html_url":"https://github.com/apache/pinot/pull/10852#issuecomment-1577722022","issue_url":"https://api.github.com/repos/apache/pinot/issues/10852","id":1577722022,"node_id":"IC_kwDOATCU_c5eCiCm","user":{"login":"klsince","id":61892277,"node_id":"MDQ6VXNlcjYxODkyMjc3","avatar_url":"https://avatars.githubusercontent.com/u/61892277?v=4","gravatar_id":"","url":"https://api.github.com/users/klsince","html_url":"https://github.com/klsince","followers_url":"https://api.github.com/users/klsince/followers","following_url":"https://api.github.com/users/klsince/following{/other_user}","gists_url":"https://api.github.com/users/klsince/gists{/gist_id}","starred_url":"https://api.github.com/users/klsince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klsince/subscriptions","organizations_url":"https://api.github.com/users/klsince/orgs","repos_url":"https://api.github.com/users/klsince/repos","events_url":"https://api.github.com/users/klsince/events{/privacy}","received_events_url":"https://api.github.com/users/klsince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T00:21:42Z","updated_at":"2023-06-06T00:21:42Z","author_association":"CONTRIBUTOR","body":"Thanks @Jackie-Jiang for the tips on validating this. \r\n```\r\npublic static void main(String[] args) {\r\n    MutableRoaringBitmap bitmap = new MutableRoaringBitmap();\r\n    for (int i = 0; i < 18000000; i++) {\r\n      bitmap.add(i);\r\n    }\r\n    System.out.println(bitmap.serializedSizeInBytes());\r\n    bitmap.runOptimize();\r\n    System.out.println(bitmap.serializedSizeInBytes());\r\n\r\n    RoaringBitmapWriter<RoaringBitmap> bitmapWriter = RoaringBitmapWriter.writer().get();\r\n    for (int i = 0; i < 18000000; i++) {\r\n      bitmapWriter.add(i);\r\n    }\r\n    System.out.println(bitmapWriter.get().serializedSizeInBytes());\r\n  }\r\n\r\n2255008\r\n3889\r\n3889\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577722022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577722468","html_url":"https://github.com/apache/pinot/pull/10851#issuecomment-1577722468","issue_url":"https://api.github.com/repos/apache/pinot/issues/10851","id":1577722468,"node_id":"IC_kwDOATCU_c5eCiJk","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T00:22:30Z","updated_at":"2023-06-06T20:39:21Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10851?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10851](https://app.codecov.io/gh/apache/pinot/pull/10851?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (10c06f3) into [master](https://app.codecov.io/gh/apache/pinot/commit/3b2e31cfad6d327ca41021e091812f0f7e17e453?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (3b2e31c) will **increase** coverage by `38.71%`.\n> The diff coverage is `60.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10851       +/-   ##\n=============================================\n+ Coverage     31.52%   70.24%   +38.71%     \n- Complexity      453     6586     +6133     \n=============================================\n  Files          2174     2174               \n  Lines        116848   116843        -5     \n  Branches      17692    17690        -2     \n=============================================\n+ Hits          36842    82077    +45235     \n+ Misses        76665    29041    -47624     \n- Partials       3341     5725     +2384     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.11% <0.00%> (+0.13%)` | :arrow_up: |\n| integration2 | `23.69% <0.00%> (?)` | |\n| unittests1 | `67.74% <60.00%> (?)` | |\n| unittests2 | `13.69% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10851?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...ocal/segment/index/inverted/InvertedIndexType.java](https://app.codecov.io/gh/apache/pinot/pull/10851?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2ludmVydGVkL0ludmVydGVkSW5kZXhUeXBlLmphdmE=) | `66.66% <0.00%> (+66.66%)` | :arrow_up: |\n| [...al/segment/index/nullvalue/NullValueIndexType.java](https://app.codecov.io/gh/apache/pinot/pull/10851?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L251bGx2YWx1ZS9OdWxsVmFsdWVJbmRleFR5cGUuamF2YQ==) | `82.60% <ø> (+82.60%)` | :arrow_up: |\n| [...egment/local/segment/index/text/TextIndexType.java](https://app.codecov.io/gh/apache/pinot/pull/10851?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L3RleHQvVGV4dEluZGV4VHlwZS5qYXZh) | `76.92% <ø> (+76.92%)` | :arrow_up: |\n| [...he/pinot/segment/spi/index/IndexReaderFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10851?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L0luZGV4UmVhZGVyRmFjdG9yeS5qYXZh) | `44.44% <50.00%> (+44.44%)` | :arrow_up: |\n| [...ent/index/column/PhysicalColumnIndexContainer.java](https://app.codecov.io/gh/apache/pinot/pull/10851?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2NvbHVtbi9QaHlzaWNhbENvbHVtbkluZGV4Q29udGFpbmVyLmphdmE=) | `87.50% <100.00%> (+87.50%)` | :arrow_up: |\n\n... and [1372 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10851/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577722468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577743478","html_url":"https://github.com/apache/pinot/pull/10852#issuecomment-1577743478","issue_url":"https://api.github.com/repos/apache/pinot/issues/10852","id":1577743478,"node_id":"IC_kwDOATCU_c5eCnR2","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T01:00:46Z","updated_at":"2023-06-07T01:40:41Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10852?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10852](https://app.codecov.io/gh/apache/pinot/pull/10852?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (643f317) into [master](https://app.codecov.io/gh/apache/pinot/commit/3b2e31cfad6d327ca41021e091812f0f7e17e453?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (3b2e31c) will **increase** coverage by `35.69%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10852       +/-   ##\n=============================================\n+ Coverage     34.52%   70.22%   +35.69%     \n- Complexity      462     6581     +6119     \n=============================================\n  Files          2174     2174               \n  Lines        116848   116849        +1     \n  Branches      17692    17693        +1     \n=============================================\n+ Hits          40339    82053    +41714     \n+ Misses        72991    29060    -43931     \n- Partials       3518     5736     +2218     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `23.88% <0.00%> (-0.10%)` | :arrow_down: |\n| integration2 | `23.79% <0.00%> (+0.02%)` | :arrow_up: |\n| unittests1 | `67.71% <100.00%> (?)` | |\n| unittests2 | `13.69% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10852?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...creator/impl/nullvalue/NullValueVectorCreator.java](https://app.codecov.io/gh/apache/pinot/pull/10852?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2NyZWF0b3IvaW1wbC9udWxsdmFsdWUvTnVsbFZhbHVlVmVjdG9yQ3JlYXRvci5qYXZh) | `86.66% <100.00%> (+86.66%)` | :arrow_up: |\n\n... and [1257 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10852/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577743478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577745662","html_url":"https://github.com/apache/pinot/issues/10853#issuecomment-1577745662","issue_url":"https://api.github.com/repos/apache/pinot/issues/10853","id":1577745662,"node_id":"IC_kwDOATCU_c5eCnz-","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T01:03:37Z","updated_at":"2023-06-06T01:03:37Z","author_association":"CONTRIBUTOR","body":"Can you elaborate more on why we want to add it to broker and server? Tenant tags info is stored in ZK, and should always be accessible from the controller","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577745662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577930262","html_url":"https://github.com/apache/pinot/pull/10855#issuecomment-1577930262","issue_url":"https://api.github.com/repos/apache/pinot/issues/10855","id":1577930262,"node_id":"IC_kwDOATCU_c5eDU4W","user":{"login":"klsince","id":61892277,"node_id":"MDQ6VXNlcjYxODkyMjc3","avatar_url":"https://avatars.githubusercontent.com/u/61892277?v=4","gravatar_id":"","url":"https://api.github.com/users/klsince","html_url":"https://github.com/klsince","followers_url":"https://api.github.com/users/klsince/followers","following_url":"https://api.github.com/users/klsince/following{/other_user}","gists_url":"https://api.github.com/users/klsince/gists{/gist_id}","starred_url":"https://api.github.com/users/klsince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klsince/subscriptions","organizations_url":"https://api.github.com/users/klsince/orgs","repos_url":"https://api.github.com/users/klsince/repos","events_url":"https://api.github.com/users/klsince/events{/privacy}","received_events_url":"https://api.github.com/users/klsince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T05:25:20Z","updated_at":"2023-06-06T05:25:20Z","author_association":"CONTRIBUTOR","body":"related to https://github.com/apache/pinot/pull/8382/files#diff-41bc4e8942849a09f684b4ebea4ba5cf8b1c8d87dc20989c95429ac1059a1f96L137","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577930262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577972487","html_url":"https://github.com/apache/pinot/pull/10855#issuecomment-1577972487","issue_url":"https://api.github.com/repos/apache/pinot/issues/10855","id":1577972487,"node_id":"IC_kwDOATCU_c5eDfMH","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T06:08:24Z","updated_at":"2023-06-07T06:04:00Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10855?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10855](https://app.codecov.io/gh/apache/pinot/pull/10855?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (4bae0ce) into [master](https://app.codecov.io/gh/apache/pinot/commit/3b2e31cfad6d327ca41021e091812f0f7e17e453?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (3b2e31c) will **increase** coverage by `33.90%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10855       +/-   ##\n=============================================\n+ Coverage     34.52%   68.42%   +33.90%     \n- Complexity      462     6571     +6109     \n=============================================\n  Files          2174     2174               \n  Lines        116848   116848               \n  Branches      17692    17693        +1     \n=============================================\n+ Hits          40339    79954    +39615     \n+ Misses        72991    31229    -41762     \n- Partials       3518     5665     +2147     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.10% <0.00%> (+0.12%)` | :arrow_up: |\n| integration2 | `?` | |\n| unittests1 | `67.73% <100.00%> (?)` | |\n| unittests2 | `13.68% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10855?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...he/pinot/common/function/scalar/JsonFunctions.java](https://app.codecov.io/gh/apache/pinot/pull/10855?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vc2NhbGFyL0pzb25GdW5jdGlvbnMuamF2YQ==) | `87.87% <100.00%> (+60.60%)` | :arrow_up: |\n\n... and [1364 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10855/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1577972487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1578005340","html_url":"https://github.com/apache/pinot/pull/10836#issuecomment-1578005340","issue_url":"https://api.github.com/repos/apache/pinot/issues/10836","id":1578005340,"node_id":"IC_kwDOATCU_c5eDnNc","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T06:38:25Z","updated_at":"2023-06-06T06:38:25Z","author_association":"CONTRIBUTOR","body":"> > @Jackie-Jiang Can I assign the `comparisonColumns` value to upsertConfig and pass it to PartitionUpsertMetadataManager? then we don't need to repeat the same steps in partitionlevel upsert metadata managers.\r\n> > The purpose of the change is to address a comment from @KKcorps. [#10047 (comment)](https://github.com/apache/pinot/pull/10047#discussion_r1189404582)\r\n> \r\n> That can fix the issue, but also means it is harder to manage (next person might make the same mistake). I'd suggest keeping the constructor as is without overriding the config. @KKcorps wdyt?\r\n\r\nYeah overriding the configs is a big no no. They are supposed to be immutable.\r\n\r\nI do want this constructor to be cleaned though using some way. \r\n\r\nOtherwise more and more args will just keep on adding here","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1578005340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1578071935","html_url":"https://github.com/apache/pinot/pull/10856#issuecomment-1578071935","issue_url":"https://api.github.com/repos/apache/pinot/issues/10856","id":1578071935,"node_id":"IC_kwDOATCU_c5eD3d_","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T07:25:31Z","updated_at":"2023-06-06T18:44:05Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10856?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10856](https://app.codecov.io/gh/apache/pinot/pull/10856?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (e9a3561) into [master](https://app.codecov.io/gh/apache/pinot/commit/f8766129f06f29894b7e7c2dc1fed3b36af75d16?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (f876612) will **increase** coverage by `4.02%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10856      +/-   ##\n============================================\n+ Coverage     64.40%   68.42%   +4.02%     \n- Complexity     6558     6574      +16     \n============================================\n  Files          2120     2175      +55     \n  Lines        114345   116918    +2573     \n  Branches      17390    17710     +320     \n============================================\n+ Hits          73644    80005    +6361     \n+ Misses        35402    31240    -4162     \n- Partials       5299     5673     +374     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `23.98% <0.00%> (?)` | |\n| unittests1 | `67.73% <ø> (-0.01%)` | :arrow_down: |\n| unittests2 | `13.70% <ø> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10856?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...t/plugin/inputformat/csv/CSVDefaultHeaderUtil.java](https://app.codecov.io/gh/apache/pinot/pull/10856?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1pbnB1dC1mb3JtYXQvcGlub3QtY3N2L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wbHVnaW4vaW5wdXRmb3JtYXQvY3N2L0NTVkRlZmF1bHRIZWFkZXJVdGlsLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../pinot/plugin/inputformat/csv/CSVRecordReader.java](https://app.codecov.io/gh/apache/pinot/pull/10856?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1pbnB1dC1mb3JtYXQvcGlub3QtY3N2L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wbHVnaW4vaW5wdXRmb3JtYXQvY3N2L0NTVlJlY29yZFJlYWRlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [.../plugin/inputformat/csv/CSVRecordReaderConfig.java](https://app.codecov.io/gh/apache/pinot/pull/10856?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1pbnB1dC1mb3JtYXQvcGlub3QtY3N2L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wbHVnaW4vaW5wdXRmb3JtYXQvY3N2L0NTVlJlY29yZFJlYWRlckNvbmZpZy5qYXZh) | `0.00% <0.00%> (ø)` | |\n\n... and [372 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10856/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1578071935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]