[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050427023","html_url":"https://github.com/apache/iceberg/pull/4214#issuecomment-1050427023","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4214","id":1050427023,"node_id":"IC_kwDOCW7NX84-nD6P","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T01:29:12Z","updated_at":"2022-02-25T01:29:12Z","author_association":"MEMBER","body":"Thanks @kbendick for the check. As we've got +1 from apache iceberg committers in the original PR,  plan to get this merged for stability test.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050427023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050427936","html_url":"https://github.com/apache/iceberg/pull/4213#issuecomment-1050427936","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4213","id":1050427936,"node_id":"IC_kwDOCW7NX84-nEIg","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T01:31:07Z","updated_at":"2022-02-25T01:31:07Z","author_association":"MEMBER","body":"Thanks @kbendick for the check. As we've got +1 from apache iceberg committers in the original PR, plan to get this merged for stability test.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050427936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050477805","html_url":"https://github.com/apache/iceberg/issues/2575#issuecomment-1050477805","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2575","id":1050477805,"node_id":"IC_kwDOCW7NX84-nQTt","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T03:12:13Z","updated_at":"2022-02-25T03:12:13Z","author_association":"MEMBER","body":"Plan to close this issue now because we've merged a final fix.  Feel free to reopen this if there is any other issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050477805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050511714","html_url":"https://github.com/apache/iceberg/issues/4219#issuecomment-1050511714","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4219","id":1050511714,"node_id":"IC_kwDOCW7NX84-nYli","user":{"login":"itaise","id":64745584,"node_id":"MDQ6VXNlcjY0NzQ1NTg0","avatar_url":"https://avatars.githubusercontent.com/u/64745584?v=4","gravatar_id":"","url":"https://api.github.com/users/itaise","html_url":"https://github.com/itaise","followers_url":"https://api.github.com/users/itaise/followers","following_url":"https://api.github.com/users/itaise/following{/other_user}","gists_url":"https://api.github.com/users/itaise/gists{/gist_id}","starred_url":"https://api.github.com/users/itaise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itaise/subscriptions","organizations_url":"https://api.github.com/users/itaise/orgs","repos_url":"https://api.github.com/users/itaise/repos","events_url":"https://api.github.com/users/itaise/events{/privacy}","received_events_url":"https://api.github.com/users/itaise/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T04:30:41Z","updated_at":"2022-02-25T04:30:41Z","author_association":"NONE","body":"Can you give details on how you wrote the comments on the fields?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050511714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050513486","html_url":"https://github.com/apache/iceberg/issues/4212#issuecomment-1050513486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4212","id":1050513486,"node_id":"IC_kwDOCW7NX84-nZBO","user":{"login":"itaise","id":64745584,"node_id":"MDQ6VXNlcjY0NzQ1NTg0","avatar_url":"https://avatars.githubusercontent.com/u/64745584?v=4","gravatar_id":"","url":"https://api.github.com/users/itaise","html_url":"https://github.com/itaise","followers_url":"https://api.github.com/users/itaise/followers","following_url":"https://api.github.com/users/itaise/following{/other_user}","gists_url":"https://api.github.com/users/itaise/gists{/gist_id}","starred_url":"https://api.github.com/users/itaise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itaise/subscriptions","organizations_url":"https://api.github.com/users/itaise/orgs","repos_url":"https://api.github.com/users/itaise/repos","events_url":"https://api.github.com/users/itaise/events{/privacy}","received_events_url":"https://api.github.com/users/itaise/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T04:35:00Z","updated_at":"2022-02-25T04:35:00Z","author_association":"NONE","body":"@rdblue mentioned that field comments are supported for timestamps. Might be an issue with this config?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050513486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050526245","html_url":"https://github.com/apache/iceberg/pull/4073#issuecomment-1050526245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4073","id":1050526245,"node_id":"IC_kwDOCW7NX84-ncIl","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T05:06:57Z","updated_at":"2022-02-25T05:06:57Z","author_association":"CONTRIBUTOR","body":"Mark as draft, l will cleanup a bit from Kunal's code as we added some features to start the listener from catalog side. So far it looks like the following PRs are needed to break down the whole thing:\r\n1. expression JSON parser\r\n2. event JSON parser\r\n3. `BaseAsyncJsonListener` that publishes event asynchronously with JSON payload\r\n4. `SNSListener` implementation\r\n5. `SQSListener` implementation\r\n6. add dynamic loading of listener\r\n7. add catalog registration of listeners, currently still using `Listeners.register`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050526245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050536239","html_url":"https://github.com/apache/iceberg/pull/4152#issuecomment-1050536239","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4152","id":1050536239,"node_id":"IC_kwDOCW7NX84-nekv","user":{"login":"0xffmeta","id":98149057,"node_id":"U_kgDOBdmiwQ","avatar_url":"https://avatars.githubusercontent.com/u/98149057?v=4","gravatar_id":"","url":"https://api.github.com/users/0xffmeta","html_url":"https://github.com/0xffmeta","followers_url":"https://api.github.com/users/0xffmeta/followers","following_url":"https://api.github.com/users/0xffmeta/following{/other_user}","gists_url":"https://api.github.com/users/0xffmeta/gists{/gist_id}","starred_url":"https://api.github.com/users/0xffmeta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0xffmeta/subscriptions","organizations_url":"https://api.github.com/users/0xffmeta/orgs","repos_url":"https://api.github.com/users/0xffmeta/repos","events_url":"https://api.github.com/users/0xffmeta/events{/privacy}","received_events_url":"https://api.github.com/users/0xffmeta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T05:25:52Z","updated_at":"2022-02-25T05:25:52Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer @aokolnychyi I have updated the PR based on the comment. Please take another look when you have some time. :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050536239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050560323","html_url":"https://github.com/apache/iceberg/issues/4219#issuecomment-1050560323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4219","id":1050560323,"node_id":"IC_kwDOCW7NX84-nkdD","user":{"login":"zihaochen68","id":35919073,"node_id":"MDQ6VXNlcjM1OTE5MDcz","avatar_url":"https://avatars.githubusercontent.com/u/35919073?v=4","gravatar_id":"","url":"https://api.github.com/users/zihaochen68","html_url":"https://github.com/zihaochen68","followers_url":"https://api.github.com/users/zihaochen68/followers","following_url":"https://api.github.com/users/zihaochen68/following{/other_user}","gists_url":"https://api.github.com/users/zihaochen68/gists{/gist_id}","starred_url":"https://api.github.com/users/zihaochen68/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zihaochen68/subscriptions","organizations_url":"https://api.github.com/users/zihaochen68/orgs","repos_url":"https://api.github.com/users/zihaochen68/repos","events_url":"https://api.github.com/users/zihaochen68/events{/privacy}","received_events_url":"https://api.github.com/users/zihaochen68/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T06:17:47Z","updated_at":"2022-02-25T06:17:47Z","author_association":"NONE","body":"> Can you give details on how you wrote the comments on the fields?\r\n\r\ni'm create a table in flink SQL\r\nHere is my catalog:\r\n```\r\nCREATE CATALOG hive_catalog WITH (\r\n  'type'='iceberg',\r\n  'catalog-type'='hive',\r\n  'uri'='thrift://localhost:port',\r\n  'clients'='5',\r\n  'property-version'='1',\r\n  'warehouse'='hdfs://localhost:port/hive/metastore/catalog'\r\n);\r\n```\r\nThen\r\n```\r\nCREATE TABLE hive_catalog.yuyi.sample (\r\n    id BIGINT COMMENT 'unique id',\r\n    test STRING COMMENT 'test'\r\n) COMMENT 'a';\r\n```\r\n\r\nwhere can i find my comments for table or column.\r\nThere are not in hive or {version}.metadata.json\r\n\r\nthnx\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050560323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050565918","html_url":"https://github.com/apache/iceberg/issues/4225#issuecomment-1050565918","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4225","id":1050565918,"node_id":"IC_kwDOCW7NX84-nl0e","user":{"login":"AlexLY123","id":100395047,"node_id":"U_kgDOBfvoJw","avatar_url":"https://avatars.githubusercontent.com/u/100395047?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexLY123","html_url":"https://github.com/AlexLY123","followers_url":"https://api.github.com/users/AlexLY123/followers","following_url":"https://api.github.com/users/AlexLY123/following{/other_user}","gists_url":"https://api.github.com/users/AlexLY123/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexLY123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexLY123/subscriptions","organizations_url":"https://api.github.com/users/AlexLY123/orgs","repos_url":"https://api.github.com/users/AlexLY123/repos","events_url":"https://api.github.com/users/AlexLY123/events{/privacy}","received_events_url":"https://api.github.com/users/AlexLY123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T06:30:31Z","updated_at":"2022-02-25T06:30:31Z","author_association":"NONE","body":"Now there are two kinds of deleting file that are position delete file an d enqulity delete file in the model of MOR. In our practical application, it produced a large number of deleted files. And the more serious problem is that we can't merge data files as there are some errors. These problems will result in very slow queries and adding cluster stress with a large number of small files.  So I don't think the upsert function works very well without compaction.  It is necessary to develop the compaction feature just like the minor compaction and major compaction. \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050565918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050570508","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1050570508","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1050570508,"node_id":"IC_kwDOCW7NX84-nm8M","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T06:40:24Z","updated_at":"2022-02-25T06:40:24Z","author_association":"CONTRIBUTOR","body":"> changes LGTM, but how do we want to deal with running CI on release branches, such as `0.14.x`? Once this change is in, merges to those branches won't trigger separate CI runs and we would then rely on the PR CI runs. If that's desired then we can go ahead and merge, but I just wanted to point out the implication of this change here.\r\n\r\nThat’s a good point. We _do_ make a commit of the version.txt file as part of each release cycle, which I would say is the canonical “commit” of the release (it is the SHA released I believe).\r\n\r\nThat said, GitHub Actions have gotten _alot_ better and so we can also have CI run on `tag` and then have everything run.\r\n\r\n**TLDR** - Let’s open a follow up issue to create a single CI suite that runs everything in CI / tests when we merge into master / on tag (really, regardless of the change set, we should just run all of CI or at least all parts if not all versions when we merge). We can limit the time it takes by changing the run to something simpler (I think we duplicate some build and test runs when we run `Java` and some of the other CI’s together if they share code).\r\n\r\nOr we can go all out and make a `controller` ci and convert everything else to run on workflow run. I started an attempt at it, but at the time GitHub Actions were somewhat more beta and I worried the knowledge wouldn’t be there. But we could save a good amount of CI time this way. We’d save CI time, as currently a failure in `Spark` will kill the other parallel Spark jobs (from the same matrix), but not `Flink` or other CI jobs.\r\n\r\n\r\nJava CI fails within minutes and is the most common failure (checkstyle, core, etc). So we could save _alot_ of unnecessary runs this way. And now we at least are already using on `workflow_call` so the syntax isn’t as unknown at a group level like when I did it before.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050570508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050572830","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1050572830","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1050572830,"node_id":"IC_kwDOCW7NX84-nnge","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T06:45:34Z","updated_at":"2022-02-25T06:45:34Z","author_association":"CONTRIBUTOR","body":"Here is the PR where I was working on getting all of CI to fail early if one task in one CI group fails: https://github.com/apache/iceberg/pull/3524 @nastra\r\n\r\nI can’t think of a better way to accomplish that (failing early when one task fails) than workflow call. We can repurpose that PR if we’d like, especially now that GitHub actions are a bit simpler / require less specification. Let me know what you think, as realistically we spend a decent amount of time in these files and previously I was worried that too few people would know the syntax. But now we already use it in the workflow you authored I believe. This would just be a very extreme version of that haha.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050572830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050578366","html_url":"https://github.com/apache/iceberg/issues/4225#issuecomment-1050578366","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4225","id":1050578366,"node_id":"IC_kwDOCW7NX84-no2-","user":{"login":"AlexLY123","id":100395047,"node_id":"U_kgDOBfvoJw","avatar_url":"https://avatars.githubusercontent.com/u/100395047?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexLY123","html_url":"https://github.com/AlexLY123","followers_url":"https://api.github.com/users/AlexLY123/followers","following_url":"https://api.github.com/users/AlexLY123/following{/other_user}","gists_url":"https://api.github.com/users/AlexLY123/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexLY123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexLY123/subscriptions","organizations_url":"https://api.github.com/users/AlexLY123/orgs","repos_url":"https://api.github.com/users/AlexLY123/repos","events_url":"https://api.github.com/users/AlexLY123/events{/privacy}","received_events_url":"https://api.github.com/users/AlexLY123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T06:57:22Z","updated_at":"2022-02-25T06:57:22Z","author_association":"NONE","body":"We need to make different compression mechanisms based on execution time and resource costs.  For example， we can make the minor compaction and major compaction just like hbase. The minor compact will be executed frequently with very low resource consumption and short time consumption， for example, only merging postition delete files generated by the latest snapshot at a time.  The major compact will not be executed frequently to delete the two kinds of  delete files and merge the data files， for example, applying postition delete files and enqulity delete files to data files of the whole table and merging the small data file to generate the new data files without delete files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050578366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050608326","html_url":"https://github.com/apache/iceberg/issues/4225#issuecomment-1050608326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4225","id":1050608326,"node_id":"IC_kwDOCW7NX84-nwLG","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T07:37:25Z","updated_at":"2022-02-25T07:37:25Z","author_association":"MEMBER","body":"@AlexLY123 :\r\n\r\ncompaction already handles merging the delete files. but by default it is disabled. Need to configure the \r\n`delete-file-threshold` to enable it.\r\nhttps://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/actions/BinPackStrategy.java#L87-L88\r\n\r\nAlso regarding major and minor compaction. Even though we don't have similar to hbase, we can run compaction based on the resource availability by selecting few files itself;\r\nCurrently possible by using the `filter` method (where clause) of `rewrite_data_files` \r\n\r\nAlso lot of control is there by configuring parallelism and enabling partial commit during compaction etc.\r\ncc: @jackye1995 , @RussellSpitzer \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050608326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050609057","html_url":"https://github.com/apache/iceberg/issues/4222#issuecomment-1050609057","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4222","id":1050609057,"node_id":"IC_kwDOCW7NX84-nwWh","user":{"login":"hzluting","id":5558252,"node_id":"MDQ6VXNlcjU1NTgyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/5558252?v=4","gravatar_id":"","url":"https://api.github.com/users/hzluting","html_url":"https://github.com/hzluting","followers_url":"https://api.github.com/users/hzluting/followers","following_url":"https://api.github.com/users/hzluting/following{/other_user}","gists_url":"https://api.github.com/users/hzluting/gists{/gist_id}","starred_url":"https://api.github.com/users/hzluting/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzluting/subscriptions","organizations_url":"https://api.github.com/users/hzluting/orgs","repos_url":"https://api.github.com/users/hzluting/repos","events_url":"https://api.github.com/users/hzluting/events{/privacy}","received_events_url":"https://api.github.com/users/hzluting/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T07:38:46Z","updated_at":"2022-02-25T07:38:46Z","author_association":"CONTRIBUTOR","body":"The default format-version of iceberg table is 1. You should set the format-version of iceberg table to 2.\r\nYou should change the DDL:\r\nCREATE TABLE `hadoop_catalog`.`default`.`t_products`(\r\n id INT ,\r\n  name STRING,\r\n  description STRING,\r\n  weight float,\r\n  PRIMARY KEY (id) NOT ENFORCED\r\n) WITH ('format-version'='2');","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050609057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050642335","html_url":"https://github.com/apache/iceberg/issues/4217#issuecomment-1050642335","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4217","id":1050642335,"node_id":"IC_kwDOCW7NX84-n4ef","user":{"login":"andrey-mindrin","id":62600799,"node_id":"MDQ6VXNlcjYyNjAwNzk5","avatar_url":"https://avatars.githubusercontent.com/u/62600799?v=4","gravatar_id":"","url":"https://api.github.com/users/andrey-mindrin","html_url":"https://github.com/andrey-mindrin","followers_url":"https://api.github.com/users/andrey-mindrin/followers","following_url":"https://api.github.com/users/andrey-mindrin/following{/other_user}","gists_url":"https://api.github.com/users/andrey-mindrin/gists{/gist_id}","starred_url":"https://api.github.com/users/andrey-mindrin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrey-mindrin/subscriptions","organizations_url":"https://api.github.com/users/andrey-mindrin/orgs","repos_url":"https://api.github.com/users/andrey-mindrin/repos","events_url":"https://api.github.com/users/andrey-mindrin/events{/privacy}","received_events_url":"https://api.github.com/users/andrey-mindrin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T08:31:46Z","updated_at":"2022-02-25T08:31:46Z","author_association":"NONE","body":"Additional information. Total size of data is about 300 Gb in parquet, tried different options for iceberg tables including vectorization, distributed by hash and range. Iceberg tables created with a query like\r\n\r\n`create table ice_table using iceberg partition by (column) location ‘hdfs://location’ tblproperties(‘vectorization-enabled’=true,’write.parquet.compression-codec’=’snappy’,’ write.distribution-mode’=’hash’) as select * from hive_table `\r\n\r\nAnalyzing query plans in Spark for query q7-v2.4 shows different join types – SortMergeJoin in Iceberg and BroadcastHashJoin in Hive tables. \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050642335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050651208","html_url":"https://github.com/apache/iceberg/issues/4222#issuecomment-1050651208","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4222","id":1050651208,"node_id":"IC_kwDOCW7NX84-n6pI","user":{"login":"Kyofin","id":18548053,"node_id":"MDQ6VXNlcjE4NTQ4MDUz","avatar_url":"https://avatars.githubusercontent.com/u/18548053?v=4","gravatar_id":"","url":"https://api.github.com/users/Kyofin","html_url":"https://github.com/Kyofin","followers_url":"https://api.github.com/users/Kyofin/followers","following_url":"https://api.github.com/users/Kyofin/following{/other_user}","gists_url":"https://api.github.com/users/Kyofin/gists{/gist_id}","starred_url":"https://api.github.com/users/Kyofin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kyofin/subscriptions","organizations_url":"https://api.github.com/users/Kyofin/orgs","repos_url":"https://api.github.com/users/Kyofin/repos","events_url":"https://api.github.com/users/Kyofin/events{/privacy}","received_events_url":"https://api.github.com/users/Kyofin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T08:44:15Z","updated_at":"2022-02-25T08:44:15Z","author_association":"NONE","body":"> The default format-version of iceberg table is 1. You should set the format-version of iceberg table to 2. You should change the DDL: CREATE TABLE `hadoop_catalog`.`default`.`t_products`( id INT , name STRING, description STRING, weight float, PRIMARY KEY (id) NOT ENFORCED ) WITH ('format-version'='2');\r\n\r\nuseful for me .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050651208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050689289","html_url":"https://github.com/apache/iceberg/pull/4229#issuecomment-1050689289","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4229","id":1050689289,"node_id":"IC_kwDOCW7NX84-oD8J","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T09:34:15Z","updated_at":"2022-02-25T09:34:15Z","author_association":"MEMBER","body":"cc: @jackye1995 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050689289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050694283","html_url":"https://github.com/apache/iceberg/pull/3411#issuecomment-1050694283","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3411","id":1050694283,"node_id":"IC_kwDOCW7NX84-oFKL","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T09:41:19Z","updated_at":"2022-02-25T09:41:19Z","author_association":"CONTRIBUTOR","body":"Thanks @RussellSpitzer for the review.\r\n\r\n> OK I think I understand the issue now, this is specifically an error where the attempt to build a common Partition Spec builds a spec using void transforms in V1 tables, the void column has a different return type than the original partition transform and throws an error. Is that correct?\r\n\r\nYes, that's right.\r\n\r\n> I would recommend renaming this issue/pr to match the underlying issue. I also am guessing because this is the issue, there is no problem with V2 tables.\r\n\r\nAny suggestion for this?  What about `Fixes read metadata failed after dropped partition in V1 tables`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050694283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050808548","html_url":"https://github.com/apache/iceberg/issues/761#issuecomment-1050808548","issue_url":"https://api.github.com/repos/apache/iceberg/issues/761","id":1050808548,"node_id":"IC_kwDOCW7NX84-ohDk","user":{"login":"apatrida","id":182340,"node_id":"MDQ6VXNlcjE4MjM0MA==","avatar_url":"https://avatars.githubusercontent.com/u/182340?v=4","gravatar_id":"","url":"https://api.github.com/users/apatrida","html_url":"https://github.com/apatrida","followers_url":"https://api.github.com/users/apatrida/followers","following_url":"https://api.github.com/users/apatrida/following{/other_user}","gists_url":"https://api.github.com/users/apatrida/gists{/gist_id}","starred_url":"https://api.github.com/users/apatrida/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apatrida/subscriptions","organizations_url":"https://api.github.com/users/apatrida/orgs","repos_url":"https://api.github.com/users/apatrida/repos","events_url":"https://api.github.com/users/apatrida/events{/privacy}","received_events_url":"https://api.github.com/users/apatrida/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T12:23:38Z","updated_at":"2022-02-25T12:24:47Z","author_association":"NONE","body":"Looks like no atomic rename:\r\n\r\nhttps://github.com/minio/minio-js/issues/787\r\nhttps://docs.min.io/docs/disaggregated-spark-and-hadoop-hive-with-minio.html\r\n\r\nIn the 2nd link:\r\n\r\n> S3A is the connector to use S3 and other S3-compatible object stores such as MinIO. MapReduce workloads typically interact with object stores in the same way they do with HDFS. These workloads rely on HDFS atomic rename functionality to complete writing data to the datastore. Object storage operations are atomic by nature and they do not require/implement rename API. The default S3A committer emulates renames through copy and delete APIs. This interaction pattern causes significant loss of performance because of the write amplification. Netflix, for example, developed two new staging committers - the Directory staging committer and the Partitioned staging committer - to take full advantage of native object storage operations. These committers do not require rename operation. The two staging committers were evaluated, along with another new addition called the Magic committer for benchmarking.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050808548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050847509","html_url":"https://github.com/apache/iceberg/issues/4230#issuecomment-1050847509","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4230","id":1050847509,"node_id":"IC_kwDOCW7NX84-oqkV","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T13:20:12Z","updated_at":"2022-02-25T13:20:12Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @RussellSpitzer @jackye1995 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050847509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050915725","html_url":"https://github.com/apache/iceberg/pull/4206#issuecomment-1050915725","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4206","id":1050915725,"node_id":"IC_kwDOCW7NX84-o7ON","user":{"login":"XN137","id":1204398,"node_id":"MDQ6VXNlcjEyMDQzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204398?v=4","gravatar_id":"","url":"https://api.github.com/users/XN137","html_url":"https://github.com/XN137","followers_url":"https://api.github.com/users/XN137/followers","following_url":"https://api.github.com/users/XN137/following{/other_user}","gists_url":"https://api.github.com/users/XN137/gists{/gist_id}","starred_url":"https://api.github.com/users/XN137/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XN137/subscriptions","organizations_url":"https://api.github.com/users/XN137/orgs","repos_url":"https://api.github.com/users/XN137/repos","events_url":"https://api.github.com/users/XN137/events{/privacy}","received_events_url":"https://api.github.com/users/XN137/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T14:46:24Z","updated_at":"2022-02-25T14:46:41Z","author_association":"CONTRIBUTOR","body":"i was reluctant to do this originally since the gradle wrapper update command rewrites the whole file, but yeah if the upgrading person needs to re-add the checksum property then they should also be able to keep the comment that helps them with their task, so pushed a change that now includes this comment :+1: ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050915725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050935112","html_url":"https://github.com/apache/iceberg/issues/4217#issuecomment-1050935112","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4217","id":1050935112,"node_id":"IC_kwDOCW7NX84-o_9I","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T15:08:22Z","updated_at":"2022-02-25T15:10:00Z","author_association":"MEMBER","body":"Could you paste what q7-v2.4 is? My guess would be if the join types are\r\nswapped then the size estimation is occurring differently in the Hive and\r\nIceberg code *or* the pushdown is not working correctly. Spark should be\r\nplanning the same logical join in both cases, the only difference should be\r\nthe transition to a physical plan which would be dependent on the source\r\nresponding with how much information is on each side of the join.\r\n\r\nIf the predicate pushdown isn't working that would happen, or it could be\r\nthat our size estimate code has a bug with certain predicates. A full Spark\r\nEXPLAIN of the query should show the predicate portion at least, the Spark\r\nUI should have the input sizes reported.\r\n\r\nOne more note: Hive has a much more general notion of filter compatibility and it could be that\r\nIceberg is failing to pushdown predicates because it is more strict. For example if the\r\npredicate uses a Int but the column is a String, Hive may be implicitly converting and applying\r\nthe predicate when Iceberg does not ... Would need to see the plan for the hive and Iceberg tables to know for sure\r\n\r\nOn Fri, Feb 25, 2022 at 2:31 AM andrey-mindrin ***@***.***>\r\nwrote:\r\n\r\n> Additional information. Total size of data is about 300 Gb in parquet,\r\n> tried different options for iceberg tables including vectorization,\r\n> distributed by hash and range. Iceberg tables created with a query like\r\n>\r\n> create table ice_table using iceberg partition by (column) location\r\n> ‘hdfs://location’\r\n> tblproperties(‘vectorization-enabled’=true,’write.parquet.compression-codec’=’snappy’,’\r\n> write.distribution-mode’=’hash’) as select * from hive_table\r\n>\r\n> Analyzing query plans in Spark for query q7-v2.4 shows different join\r\n> types – SortMergeJoin in Iceberg and BroadcastHashJoin in Hive tables.\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/apache/iceberg/issues/4217#issuecomment-1050642335>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AADE2YNQSKOPTIUWGU2ZQ63U44473ANCNFSM5PG44ZUQ>\r\n> .\r\n> You are receiving this because you commented.Message ID:\r\n> ***@***.***>\r\n>\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050935112/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050966621","html_url":"https://github.com/apache/iceberg/pull/4206#issuecomment-1050966621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4206","id":1050966621,"node_id":"IC_kwDOCW7NX84-pHpd","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T15:45:15Z","updated_at":"2022-02-25T15:45:15Z","author_association":"CONTRIBUTOR","body":"@rdblue could you review/merge please?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1050966621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051038258","html_url":"https://github.com/apache/iceberg/pull/3053#issuecomment-1051038258","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3053","id":1051038258,"node_id":"IC_kwDOCW7NX84-pZIy","user":{"login":"shangxinli","id":31421745,"node_id":"MDQ6VXNlcjMxNDIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31421745?v=4","gravatar_id":"","url":"https://api.github.com/users/shangxinli","html_url":"https://github.com/shangxinli","followers_url":"https://api.github.com/users/shangxinli/followers","following_url":"https://api.github.com/users/shangxinli/following{/other_user}","gists_url":"https://api.github.com/users/shangxinli/gists{/gist_id}","starred_url":"https://api.github.com/users/shangxinli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangxinli/subscriptions","organizations_url":"https://api.github.com/users/shangxinli/orgs","repos_url":"https://api.github.com/users/shangxinli/repos","events_url":"https://api.github.com/users/shangxinli/events{/privacy}","received_events_url":"https://api.github.com/users/shangxinli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T17:14:08Z","updated_at":"2022-02-25T17:14:08Z","author_association":"CONTRIBUTOR","body":"The test coverage seems low. \r\n\r\nWhat kind of KMS has been tested so far? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051038258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051097649","html_url":"https://github.com/apache/iceberg/pull/4193#issuecomment-1051097649","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4193","id":1051097649,"node_id":"IC_kwDOCW7NX84-pnox","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T18:34:58Z","updated_at":"2022-02-25T18:34:58Z","author_association":"CONTRIBUTOR","body":"Okay, if there is no Scala 2.12 dependency in the runtime or implementation classpath, then I'm fine removing these.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051097649/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051111331","html_url":"https://github.com/apache/iceberg/pull/4206#issuecomment-1051111331","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4206","id":1051111331,"node_id":"IC_kwDOCW7NX84-pq-j","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T18:56:17Z","updated_at":"2022-02-25T18:56:17Z","author_association":"CONTRIBUTOR","body":"Looks great. Thanks, @XN137!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051111331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051210859","html_url":"https://github.com/apache/iceberg/pull/4220#issuecomment-1051210859","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4220","id":1051210859,"node_id":"IC_kwDOCW7NX84-qDRr","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T20:18:03Z","updated_at":"2022-02-25T20:18:03Z","author_association":"CONTRIBUTOR","body":"> Might want to create an issue for the `setProperties` not being atomic, but that is somewhat unrelated to these changes.\r\n\r\nI think we're about as close as we can get to atomic with generic SQL since there is no standard way to upsert. I've also thought about doing a unique versioned insert and then dropping old versions. That could work to make it slightly more atomic.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051210859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051244772","html_url":"https://github.com/apache/iceberg/pull/4223#issuecomment-1051244772","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4223","id":1051244772,"node_id":"IC_kwDOCW7NX84-qLjk","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T20:37:40Z","updated_at":"2022-02-25T20:37:40Z","author_association":"CONTRIBUTOR","body":"@samredai FYI","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051244772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051271597","html_url":"https://github.com/apache/iceberg/issues/4230#issuecomment-1051271597","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4230","id":1051271597,"node_id":"IC_kwDOCW7NX84-qSGt","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T21:12:53Z","updated_at":"2022-02-25T21:12:53Z","author_association":"MEMBER","body":"Are you asking about the case insensitivity of SQL?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051271597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051301166","html_url":"https://github.com/apache/iceberg/pull/4233#issuecomment-1051301166","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4233","id":1051301166,"node_id":"IC_kwDOCW7NX84-qZUu","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T21:57:01Z","updated_at":"2022-02-25T21:57:01Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051301166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051301367","html_url":"https://github.com/apache/iceberg/pull/4231#issuecomment-1051301367","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4231","id":1051301367,"node_id":"IC_kwDOCW7NX84-qZX3","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T21:57:23Z","updated_at":"2022-02-25T21:57:23Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, @danielcweeks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051301367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051320036","html_url":"https://github.com/apache/iceberg/pull/2638#issuecomment-1051320036","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2638","id":1051320036,"node_id":"IC_kwDOCW7NX84-qd7k","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T22:26:33Z","updated_at":"2022-02-25T22:26:33Z","author_association":"MEMBER","body":"We've done a bunch of review on this internally, but would like to get some more feedback before we merge it. @jackye1995 Since you are the other main architect of this, could you take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051320036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051327965","html_url":"https://github.com/apache/iceberg/pull/4211#issuecomment-1051327965","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4211","id":1051327965,"node_id":"IC_kwDOCW7NX84-qf3d","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T22:37:26Z","updated_at":"2022-02-25T22:37:26Z","author_association":"COLLABORATOR","body":"@RussellSpitzer  could I ping you for review ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051327965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051406501","html_url":"https://github.com/apache/iceberg/issues/4230#issuecomment-1051406501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4230","id":1051406501,"node_id":"IC_kwDOCW7NX84-qzCl","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-26T00:56:16Z","updated_at":"2022-02-26T00:56:16Z","author_association":"CONTRIBUTOR","body":"yes","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051406501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051411765","html_url":"https://github.com/apache/iceberg/pull/4237#issuecomment-1051411765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4237","id":1051411765,"node_id":"IC_kwDOCW7NX84-q0U1","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-26T01:10:22Z","updated_at":"2022-02-26T01:10:22Z","author_association":"CONTRIBUTOR","body":"Actually, going to close this for now until it's needed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051411765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051422673","html_url":"https://github.com/apache/iceberg/pull/4193#issuecomment-1051422673","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4193","id":1051422673,"node_id":"IC_kwDOCW7NX84-q2_R","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-26T01:30:55Z","updated_at":"2022-02-26T01:30:55Z","author_association":"MEMBER","body":"Thanks @rdblue and @kbendick for the double checking.  I will plan to get this merged. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051422673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051525388","html_url":"https://github.com/apache/iceberg/issues/4219#issuecomment-1051525388","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4219","id":1051525388,"node_id":"IC_kwDOCW7NX84-rQEM","user":{"login":"zihaochen68","id":35919073,"node_id":"MDQ6VXNlcjM1OTE5MDcz","avatar_url":"https://avatars.githubusercontent.com/u/35919073?v=4","gravatar_id":"","url":"https://api.github.com/users/zihaochen68","html_url":"https://github.com/zihaochen68","followers_url":"https://api.github.com/users/zihaochen68/followers","following_url":"https://api.github.com/users/zihaochen68/following{/other_user}","gists_url":"https://api.github.com/users/zihaochen68/gists{/gist_id}","starred_url":"https://api.github.com/users/zihaochen68/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zihaochen68/subscriptions","organizations_url":"https://api.github.com/users/zihaochen68/orgs","repos_url":"https://api.github.com/users/zihaochen68/repos","events_url":"https://api.github.com/users/zihaochen68/events{/privacy}","received_events_url":"https://api.github.com/users/zihaochen68/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-26T03:10:05Z","updated_at":"2022-02-26T03:10:05Z","author_association":"NONE","body":"It works when I use the Java API, There seems to be something wrong with Flink API","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051525388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051648085","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1051648085","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1051648085,"node_id":"IC_kwDOCW7NX84-ruBV","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-26T06:01:53Z","updated_at":"2022-02-26T06:01:53Z","author_association":"CONTRIBUTOR","body":"There is a recent Slack thread for the same issue where hash distribution leads to skewed shuffling (for bucketing partitions and probably other partition spec too): https://apache-iceberg.slack.com/archives/C025PH0G1D4/p1645676203340179\r\n\r\nI don't necessarily agree with the solution provided in this PR. We can provide some general solution in FlinkSink.\r\n\r\nFor bucketing partitions, we can implement a custom partitioner to shuffle data by the bucketing value to the downstream tasks/channels: `bucket(key) % downstream operator parallelism`.\r\n\r\nI don't know if it makes sense to add `bucketing` enum value to `DistributionMode` or we can make this config only for FlinkSink.\r\n\r\ncc @openinx @rdblue @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051648085/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051728519","html_url":"https://github.com/apache/iceberg/pull/4218#issuecomment-1051728519","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4218","id":1051728519,"node_id":"IC_kwDOCW7NX84-sBqH","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-26T07:08:54Z","updated_at":"2022-02-26T07:08:54Z","author_association":"CONTRIBUTOR","body":"Seems like @aokolnychyi is occupied otherwise. @RussellSpitzer, or @shardulm94, any chance of taking a look?\r\nThanks, Peter ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051728519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051759560","html_url":"https://github.com/apache/iceberg/pull/3053#issuecomment-1051759560","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3053","id":1051759560,"node_id":"IC_kwDOCW7NX84-sJPI","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-26T07:34:28Z","updated_at":"2022-02-26T07:34:28Z","author_association":"CONTRIBUTOR","body":"This PR is out of date. As per the comment above, is had been split into a number of chunks. These have quite a few unitests. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1051759560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1052224304","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1052224304","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1052224304,"node_id":"IC_kwDOCW7NX84-t6sw","user":{"login":"zhengchar","id":58673451,"node_id":"MDQ6VXNlcjU4NjczNDUx","avatar_url":"https://avatars.githubusercontent.com/u/58673451?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengchar","html_url":"https://github.com/zhengchar","followers_url":"https://api.github.com/users/zhengchar/followers","following_url":"https://api.github.com/users/zhengchar/following{/other_user}","gists_url":"https://api.github.com/users/zhengchar/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengchar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengchar/subscriptions","organizations_url":"https://api.github.com/users/zhengchar/orgs","repos_url":"https://api.github.com/users/zhengchar/repos","events_url":"https://api.github.com/users/zhengchar/events{/privacy}","received_events_url":"https://api.github.com/users/zhengchar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-26T15:45:31Z","updated_at":"2022-02-26T15:45:31Z","author_association":"NONE","body":"> There is a recent Slack thread for the same issue where hash distribution leads to skewed shuffling (for bucketing partitions and probably other partition spec too): https://apache-iceberg.slack.com/archives/C025PH0G1D4/p1645676203340179\r\n> \r\n> I don't necessarily agree with the solution provided in this PR. We can provide some general solution in FlinkSink.\r\n> \r\n> For bucketing partitions, we can implement a custom partitioner to shuffle data by the bucketing value to the downstream tasks/channels: `bucket(key) % downstream operator parallelism`.\r\n> \r\n> I don't know if it makes sense to add `bucketing` enum value to `DistributionMode` or we can make this config only for FlinkSink.\r\n> \r\n> cc @openinx @rdblue @kbendick\r\n\r\nHi Steven,\r\n\r\nGlad to having discussion with you!\r\n\r\nI think in this problem there are three key aspects:\r\n- First, we must consider each partition will be wrote by only one task to solve small data files problem. \r\n- Second, data is shuffled by bucket partition key now.\r\n- Third, bucket is a hashed policy, but 'truncate' partition or 'identity' partition has no hash attribute\r\n\r\nI agree with you that we need to provide a new method to make partition data and task mapped evenly, but not a hash function. I think a new KeySelector logic may apply on bucket partition situation and it is not fit on other partition spec (identity or truncate), or we can make this config only for flinksink on 'bucket' partition spec?\r\n\r\nBTW, could you please help to add me to the slack discussion mentioned above? Thanks very muck!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1052224304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1052992346","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1052992346","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1052992346,"node_id":"IC_kwDOCW7NX84-w2Na","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-27T02:45:56Z","updated_at":"2022-02-27T02:45:56Z","author_association":"CONTRIBUTOR","body":"@zhengchar please follow the instruction for Slack invite: https://iceberg.apache.org/community/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1052992346/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053083624","html_url":"https://github.com/apache/iceberg/pull/4181#issuecomment-1053083624","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4181","id":1053083624,"node_id":"IC_kwDOCW7NX84-xMfo","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-27T04:08:52Z","updated_at":"2022-02-27T04:08:52Z","author_association":"CONTRIBUTOR","body":"cc @openinx @stevenzwu , PTAL, thx.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053083624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053085656","html_url":"https://github.com/apache/iceberg/pull/3784#issuecomment-1053085656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3784","id":1053085656,"node_id":"IC_kwDOCW7NX84-xM_Y","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-27T04:11:01Z","updated_at":"2022-02-27T04:11:01Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @openinx, Could you please review when you have some time?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053085656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053833124","html_url":"https://github.com/apache/iceberg/pull/4110#issuecomment-1053833124","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4110","id":1053833124,"node_id":"IC_kwDOCW7NX84-0Dek","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T03:09:55Z","updated_at":"2022-02-28T03:09:55Z","author_association":"MEMBER","body":"Kindly ping @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053833124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053833265","html_url":"https://github.com/apache/iceberg/pull/4173#issuecomment-1053833265","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4173","id":1053833265,"node_id":"IC_kwDOCW7NX84-0Dgx","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T03:10:07Z","updated_at":"2022-02-28T03:10:07Z","author_association":"MEMBER","body":"Kindly ping @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053833265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053837420","html_url":"https://github.com/apache/iceberg/pull/4203#issuecomment-1053837420","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4203","id":1053837420,"node_id":"IC_kwDOCW7NX84-0Ehs","user":{"login":"happyprg","id":779556,"node_id":"MDQ6VXNlcjc3OTU1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/779556?v=4","gravatar_id":"","url":"https://api.github.com/users/happyprg","html_url":"https://github.com/happyprg","followers_url":"https://api.github.com/users/happyprg/followers","following_url":"https://api.github.com/users/happyprg/following{/other_user}","gists_url":"https://api.github.com/users/happyprg/gists{/gist_id}","starred_url":"https://api.github.com/users/happyprg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/happyprg/subscriptions","organizations_url":"https://api.github.com/users/happyprg/orgs","repos_url":"https://api.github.com/users/happyprg/repos","events_url":"https://api.github.com/users/happyprg/events{/privacy}","received_events_url":"https://api.github.com/users/happyprg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T03:16:14Z","updated_at":"2022-02-28T03:16:28Z","author_association":"CONTRIBUTOR","body":"PTAL @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053837420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053852862","html_url":"https://github.com/apache/iceberg/pull/3784#issuecomment-1053852862","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3784","id":1053852862,"node_id":"IC_kwDOCW7NX84-0IS-","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T03:44:14Z","updated_at":"2022-02-28T03:44:14Z","author_association":"MEMBER","body":"I prefer to enable those following unit tests before we do any further reviewing & porting: \r\n\r\n```bash\r\n➜  iceberg git:(master) find . -type f -name '*.java'  | xargs grep -i 'TODO.*orc'\r\n./core/src/test/java/org/apache/iceberg/TestMetrics.java:      // TODO: The special condition for ORC can be removed when ORC-342 is fixed\r\n./core/src/main/java/org/apache/iceberg/io/BaseTaskWriter.java:      // TODO: ORC file now not support target file size before closed\r\n./core/src/main/java/org/apache/iceberg/io/ClusteredEqualityDeleteWriter.java:    // TODO: support ORC rolling writers\r\n./core/src/main/java/org/apache/iceberg/io/ClusteredDataWriter.java:    // TODO: support ORC rolling writers\r\n./core/src/main/java/org/apache/iceberg/io/ClusteredPositionDeleteWriter.java:    // TODO: support ORC rolling writers\r\n./core/src/main/java/org/apache/iceberg/io/FanoutDataWriter.java:    // TODO: support ORC rolling writers\r\n./flink/v1.12/flink/src/test/java/org/apache/iceberg/flink/sink/TestTaskWriters.java:    // TODO ORC don't support target file size before closed.\r\n./flink/v1.12/flink/src/test/java/org/apache/iceberg/flink/sink/TestIcebergStreamWriter.java:    // TODO: ORC file does not support target file size before closed.\r\n./flink/v1.14/flink/src/test/java/org/apache/iceberg/flink/sink/TestTaskWriters.java:    // TODO ORC don't support target file size before closed.\r\n./flink/v1.14/flink/src/test/java/org/apache/iceberg/flink/sink/TestIcebergStreamWriter.java:    // TODO: ORC file does not support target file size before closed.\r\n./flink/v1.13/flink/src/test/java/org/apache/iceberg/flink/sink/TestTaskWriters.java:    // TODO ORC don't support target file size before closed.\r\n./flink/v1.13/flink/src/test/java/org/apache/iceberg/flink/sink/TestIcebergStreamWriter.java:    // TODO: ORC file does not support target file size before closed.\r\n./data/src/test/java/org/apache/iceberg/io/TestRollingFileWriters.java:  // TODO: add ORC once we support ORC rolling file writers\r\n./data/src/test/java/org/apache/iceberg/data/TestLocalScan.java:    // TODO: Add multiple timestamp tests - there's an issue with ORC caching TZ in ThreadLocal, so it's not possible\r\n./spark/v3.2/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestAddFilesProcedure.java:  @Ignore // TODO Classpath issues prevent us from actually writing to a Spark ORC table\r\n./spark/v3.2/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestAddFilesProcedure.java:  @Ignore  // TODO Classpath issues prevent us from actually writing to a Spark ORC table\r\n./spark/v3.2/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestDelete.java:  // TODO: multiple stripes for ORC\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkDataWrite.java:    // TODO: ORC file now not support target file size\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkDataWrite.java:    // TODO: ORC file now not support target file size\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkMetadataColumns.java:    // TODO: support metadata structs in vectorized ORC reads\r\n./spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/source/SparkWrite.java:      // TODO: support ORC rolling writers\r\n./spark/v2.4/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkDataWrite.java:    // TODO: ORC file now not support target file size\r\n./spark/v2.4/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkDataWrite.java:    // TODO: ORC file now not support target file size\r\n./spark/v3.0/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestAddFilesProcedure.java:  @Ignore // TODO Classpath issues prevent us from actually writing to a Spark ORC table\r\n./spark/v3.0/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestAddFilesProcedure.java:  @Ignore  // TODO Classpath issues prevent us from actually writing to a Spark ORC table\r\n./spark/v3.0/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestDelete.java:  // TODO: multiple stripes for ORC\r\n./spark/v3.0/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkDataWrite.java:    // TODO: ORC file now not support target file size\r\n./spark/v3.0/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkDataWrite.java:    // TODO: ORC file now not support target file size\r\n./spark/v3.0/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkMetadataColumns.java:    // TODO: support metadata structs in vectorized ORC reads\r\n./spark/v3.0/spark/src/main/java/org/apache/iceberg/spark/source/SparkWrite.java:      // TODO: support ORC rolling writers\r\n./spark/v3.1/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestAddFilesProcedure.java:  @Ignore // TODO Classpath issues prevent us from actually writing to a Spark ORC table\r\n./spark/v3.1/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestAddFilesProcedure.java:  @Ignore  // TODO Classpath issues prevent us from actually writing to a Spark ORC table\r\n./spark/v3.1/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestDelete.java:  // TODO: multiple stripes for ORC\r\n./spark/v3.1/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkDataWrite.java:    // TODO: ORC file now not support target file size\r\n./spark/v3.1/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkDataWrite.java:    // TODO: ORC file now not support target file size\r\n./spark/v3.1/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkMetadataColumns.java:    // TODO: support metadata structs in vectorized ORC reads\r\n./spark/v3.1/spark/src/main/java/org/apache/iceberg/spark/source/SparkWrite.java:      // TODO: support ORC rolling writers\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053852862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053853573","html_url":"https://github.com/apache/iceberg/pull/3784#issuecomment-1053853573","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3784","id":1053853573,"node_id":"IC_kwDOCW7NX84-0IeF","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T03:46:00Z","updated_at":"2022-02-28T03:46:00Z","author_association":"MEMBER","body":"Other cases: \r\n\r\n```\r\n➜  iceberg git:(master) find . -type f -name '*.java'  | xargs grep -i 'Assume.*ORC'\r\n./mr/src/test/java/org/apache/iceberg/mr/hive/TestHiveIcebergStorageHandlerWithEngine.java:    assumeTrue(isVectorized && FileFormat.ORC.equals(fileFormat));\r\n./flink/v1.12/flink/src/test/java/org/apache/iceberg/flink/actions/TestRewriteDataFilesAction.java:    Assume.assumeFalse(\"ORC does not support getting length when file is opening\", format.equals(FileFormat.ORC));\r\n./flink/v1.14/flink/src/test/java/org/apache/iceberg/flink/actions/TestRewriteDataFilesAction.java:    Assume.assumeFalse(\"ORC does not support getting length when file is opening\", format.equals(FileFormat.ORC));\r\n./flink/v1.13/flink/src/test/java/org/apache/iceberg/flink/actions/TestRewriteDataFilesAction.java:    Assume.assumeFalse(\"ORC does not support getting length when file is opening\", format.equals(FileFormat.ORC));\r\n./hive3/src/main/java/org/apache/iceberg/mr/hive/vector/HiveVectorizedReader.java:    // reader will assume that the ORC file ends at the task's start + length, and might fail reading the tail..\r\n./data/src/test/java/org/apache/iceberg/io/TestRollingFileWriters.java:    Assume.assumeFalse(\"ORC delete files are not supported\", fileFormat == FileFormat.ORC);\r\n./data/src/test/java/org/apache/iceberg/data/TestMetricsRowGroupFilter.java:    Assume.assumeFalse(\"ORC row group filter does not support StringStartsWith\", format == FileFormat.ORC);\r\n./data/src/test/java/org/apache/iceberg/data/TestMetricsRowGroupFilter.java:    Assume.assumeFalse(\"ORC row group filter does not support StringStartsWith\", format == FileFormat.ORC);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkMetadataColumns.java:    Assume.assumeFalse(fileFormat == FileFormat.ORC && vectorized);\r\n./spark/v3.0/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkMetadataColumns.java:    Assume.assumeFalse(fileFormat == FileFormat.ORC && vectorized);\r\n./spark/v3.1/spark/src/test/java/org/apache/iceberg/spark/source/TestSparkMetadataColumns.java:    Assume.assumeFalse(fileFormat == FileFormat.ORC && vectorized);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053853573/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053853628","html_url":"https://github.com/apache/iceberg/pull/2898#issuecomment-1053853628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2898","id":1053853628,"node_id":"IC_kwDOCW7NX84-0Ie8","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T03:46:06Z","updated_at":"2022-02-28T03:46:06Z","author_association":"CONTRIBUTOR","body":"Thanks @openinx  @stevenzwu @kbendick @rdblue for the reviewing! I will port this patch to flink 1.12 and 1.13 after this merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053853628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053922116","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1053922116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1053922116,"node_id":"IC_kwDOCW7NX84-0ZNE","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T06:09:03Z","updated_at":"2022-02-28T06:09:03Z","author_association":"CONTRIBUTOR","body":"@kbendick do we want to run CI on pushes to branches like https://github.com/apache/iceberg/tree/0.12.x or https://github.com/apache/iceberg/tree/0.13.x? If the answer is no, then I think we can go ahead and merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053922116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053937926","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1053937926","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1053937926,"node_id":"IC_kwDOCW7NX84-0dEG","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T06:38:32Z","updated_at":"2022-02-28T06:38:32Z","author_association":"CONTRIBUTOR","body":"> @kbendick do we want to run CI on pushes to branches like https://github.com/apache/iceberg/tree/0.12.x or https://github.com/apache/iceberg/tree/0.13.x? If the answer is no, then I think we can go ahead and merge this.\r\n\r\nHmmmm.... In the release workflow, there should be a corresponding tag for each of those branches. We don't presently commit to those branches outside of a release that I can think of, which would be covered by a tag.\r\n\r\nThat said, I think it's not a bad idea to consider running CI for release-like branches, of the form `0.X.Y` or `X.Y.Z`:\r\n1) The tests will be accessible in more places / more consistent locations.\r\n2) People who run forks might apply patches to the OSS 0.13.x branch (applying additional patches on a release). If they presently use the Github Actions defined here, I would consider that a valid use case.\r\n3) Failing CI workflows have more chance to be caught in places that matter.\r\n\r\nSo I am fine with merging this now, and then opening an issue to consider also adding CI triggers when we push to a release branch, of the form `0.Y.Z`. As we don't presently use feature branches / separate active release branches (outside of during the actual release process, which will be picked up by the tag event) , it's not needed outside of those additional benefits as far as I can think of.\r\n\r\nPossibly we can just cover every branch that is within the `apache` repo, though that wouldn't handle the forks.\r\n\r\nI'm ok with opening an issue to resolve that question in a follow up, though if you'd like to consider it now (e.g. if this patch would break your CI workflow for forked changes to release branches for example), then I'm open to updating it here.  Otherwise I think it's fine to wait as we won't have a release in the next week. Do you think it's necessary to handle release-like branches now or can we open an issue and get to it next week or so @nastra? 🙂 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053937926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053942934","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1053942934","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1053942934,"node_id":"IC_kwDOCW7NX84-0eSW","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T06:49:50Z","updated_at":"2022-02-28T06:49:50Z","author_association":"CONTRIBUTOR","body":"> There is a recent Slack thread for the same issue where hash distribution leads to skewed shuffling (for bucketing partitions and probably other partition spec too): https://apache-iceberg.slack.com/archives/C025PH0G1D4/p1645676203340179\r\n> \r\n> I don't necessarily agree with the solution provided in this PR. We can provide some general solution in FlinkSink.\r\n> \r\n> For bucketing partitions, we can implement a custom partitioner to shuffle data by the bucketing value to the downstream tasks/channels: `bucket(key) % downstream operator parallelism`.\r\n> \r\n> I don't know if it makes sense to add `bucketing` enum value to `DistributionMode` or we can make this config only for FlinkSink.\r\n> \r\n> cc @openinx @rdblue @kbendick\r\n\r\nI agree @stevenzwu, that I don't necessarily think this is the appropriate solution to the concern. Please do join the Iceberg Slack @zhengchar - as Steven mentioned this has come up very recently there.\r\n\r\nI wouldn't add something so specific like `bucketing` to `DistributionMode` (at least as proposed here), I would probably start by making a config to the `FlinkSink` and then trying to solve the problem somewhat more generally with respect to partitioning and required distribution - possibly making that opt-in / opt-out via the flink sink config in case it's not an issue for users. But having a `DistributionMode` of `bucketing` seems a little too situationally specific given the preconditions outlined here (only bucketing partition is used, etc). I agree with the idea of a custom partitioner to preshuffle the data by some (potentially configurable) factor of downstream parallelism (be that tasks or channels).\r\n\r\nI'd love to continue the discussion on Slack (or on the dev list, but Slack is great for casual async discussion and the Iceberg Slack is very active).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053942934/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053952819","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1053952819","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1053952819,"node_id":"IC_kwDOCW7NX84-0gsz","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T07:08:40Z","updated_at":"2022-02-28T07:08:40Z","author_association":"CONTRIBUTOR","body":"I'm totally fine handling this in a follow-up, just wanted to raise this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053952819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053954224","html_url":"https://github.com/apache/iceberg/pull/4179#issuecomment-1053954224","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4179","id":1053954224,"node_id":"IC_kwDOCW7NX84-0hCw","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T07:10:48Z","updated_at":"2022-02-28T07:10:48Z","author_association":"MEMBER","body":"@rdblue ,  Is there any other concern for this PR ?  I will suggest to merge this one in a little high priority because it is adding extra Scala 2.11 build & validation for all further PRs  :-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053954224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053957571","html_url":"https://github.com/apache/iceberg/issues/4188#issuecomment-1053957571","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4188","id":1053957571,"node_id":"IC_kwDOCW7NX84-0h3D","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T07:15:57Z","updated_at":"2022-02-28T07:16:34Z","author_association":"CONTRIBUTOR","body":"ping !!\r\n\r\n---\r\n\r\nHappy to take this up if the community is inclined with this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1053957571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054007674","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1054007674","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1054007674,"node_id":"IC_kwDOCW7NX84-0uF6","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T08:27:29Z","updated_at":"2022-02-28T13:20:02Z","author_association":"MEMBER","body":"> That said, I think it's not a bad idea to consider running CI for release-like branches, of the form `0.X.Y` or `X.Y.Z`:\r\n\r\nLooks like it would just require us to replace `- 'master'` with `- '**'` in the .yml files, since there are no feature branches or so. Maybe add that to this PR and we're good on \"CI on all branches\" front :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054007674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054065151","html_url":"https://github.com/apache/iceberg/pull/4181#issuecomment-1054065151","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4181","id":1054065151,"node_id":"IC_kwDOCW7NX84-08H_","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T09:36:42Z","updated_at":"2022-02-28T09:36:42Z","author_association":"CONTRIBUTOR","body":"add \"table.exec.iceberg.fetch-batch-record-count\" , For details: https://github.com/apache/iceberg/pull/4060","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054065151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054072475","html_url":"https://github.com/apache/iceberg/pull/3681#issuecomment-1054072475","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3681","id":1054072475,"node_id":"IC_kwDOCW7NX84-096b","user":{"login":"yittg","id":4429171,"node_id":"MDQ6VXNlcjQ0MjkxNzE=","avatar_url":"https://avatars.githubusercontent.com/u/4429171?v=4","gravatar_id":"","url":"https://api.github.com/users/yittg","html_url":"https://github.com/yittg","followers_url":"https://api.github.com/users/yittg/followers","following_url":"https://api.github.com/users/yittg/following{/other_user}","gists_url":"https://api.github.com/users/yittg/gists{/gist_id}","starred_url":"https://api.github.com/users/yittg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yittg/subscriptions","organizations_url":"https://api.github.com/users/yittg/orgs","repos_url":"https://api.github.com/users/yittg/repos","events_url":"https://api.github.com/users/yittg/events{/privacy}","received_events_url":"https://api.github.com/users/yittg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T09:45:43Z","updated_at":"2022-02-28T09:45:43Z","author_association":"CONTRIBUTOR","body":"Looks like this PR can fix #2264","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054072475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054079220","html_url":"https://github.com/apache/iceberg/pull/4239#issuecomment-1054079220","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4239","id":1054079220,"node_id":"IC_kwDOCW7NX84-0_j0","user":{"login":"arminnajafi","id":9739243,"node_id":"MDQ6VXNlcjk3MzkyNDM=","avatar_url":"https://avatars.githubusercontent.com/u/9739243?v=4","gravatar_id":"","url":"https://api.github.com/users/arminnajafi","html_url":"https://github.com/arminnajafi","followers_url":"https://api.github.com/users/arminnajafi/followers","following_url":"https://api.github.com/users/arminnajafi/following{/other_user}","gists_url":"https://api.github.com/users/arminnajafi/gists{/gist_id}","starred_url":"https://api.github.com/users/arminnajafi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arminnajafi/subscriptions","organizations_url":"https://api.github.com/users/arminnajafi/orgs","repos_url":"https://api.github.com/users/arminnajafi/repos","events_url":"https://api.github.com/users/arminnajafi/events{/privacy}","received_events_url":"https://api.github.com/users/arminnajafi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T09:53:51Z","updated_at":"2022-02-28T09:53:51Z","author_association":"CONTRIBUTOR","body":"@jackye1995 @amogh-jahagirdar ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054079220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054118673","html_url":"https://github.com/apache/iceberg/pull/4165#issuecomment-1054118673","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4165","id":1054118673,"node_id":"IC_kwDOCW7NX84-1JMR","user":{"login":"XN137","id":1204398,"node_id":"MDQ6VXNlcjEyMDQzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204398?v=4","gravatar_id":"","url":"https://api.github.com/users/XN137","html_url":"https://github.com/XN137","followers_url":"https://api.github.com/users/XN137/followers","following_url":"https://api.github.com/users/XN137/following{/other_user}","gists_url":"https://api.github.com/users/XN137/gists{/gist_id}","starred_url":"https://api.github.com/users/XN137/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XN137/subscriptions","organizations_url":"https://api.github.com/users/XN137/orgs","repos_url":"https://api.github.com/users/XN137/repos","events_url":"https://api.github.com/users/XN137/events{/privacy}","received_events_url":"https://api.github.com/users/XN137/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T10:38:12Z","updated_at":"2022-02-28T10:38:12Z","author_association":"CONTRIBUTOR","body":"Tests seem to be passing, so should this be merged?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054118673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054127687","html_url":"https://github.com/apache/iceberg/pull/3552#issuecomment-1054127687","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3552","id":1054127687,"node_id":"IC_kwDOCW7NX84-1LZH","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T10:49:18Z","updated_at":"2022-02-28T10:49:18Z","author_association":"CONTRIBUTOR","body":"Close for #2898","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054127687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054419258","html_url":"https://github.com/apache/iceberg/pull/4223#issuecomment-1054419258","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4223","id":1054419258,"node_id":"IC_kwDOCW7NX84-2Sk6","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T16:14:05Z","updated_at":"2022-02-28T16:15:13Z","author_association":"CONTRIBUTOR","body":"~These properties like `write.merge.mode` also need to be added to the [table configuration](https://github.com/apache/iceberg/blob/master/docs/versioned/tables/configuration.md) page right?~\r\n\r\nNvm, it's already added but just not deployed yet!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054419258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054632706","html_url":"https://github.com/apache/iceberg/pull/4239#issuecomment-1054632706","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4239","id":1054632706,"node_id":"IC_kwDOCW7NX84-3GsC","user":{"login":"arminnajafi","id":9739243,"node_id":"MDQ6VXNlcjk3MzkyNDM=","avatar_url":"https://avatars.githubusercontent.com/u/9739243?v=4","gravatar_id":"","url":"https://api.github.com/users/arminnajafi","html_url":"https://github.com/arminnajafi","followers_url":"https://api.github.com/users/arminnajafi/followers","following_url":"https://api.github.com/users/arminnajafi/following{/other_user}","gists_url":"https://api.github.com/users/arminnajafi/gists{/gist_id}","starred_url":"https://api.github.com/users/arminnajafi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arminnajafi/subscriptions","organizations_url":"https://api.github.com/users/arminnajafi/orgs","repos_url":"https://api.github.com/users/arminnajafi/repos","events_url":"https://api.github.com/users/arminnajafi/events{/privacy}","received_events_url":"https://api.github.com/users/arminnajafi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T20:25:44Z","updated_at":"2022-02-28T20:25:44Z","author_association":"CONTRIBUTOR","body":"@rajarshisarkar @singhpk234 @xiaoxuandev @yyanyy","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054632706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054633432","html_url":"https://github.com/apache/iceberg/pull/4240#issuecomment-1054633432","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4240","id":1054633432,"node_id":"IC_kwDOCW7NX84-3G3Y","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T20:26:47Z","updated_at":"2022-02-28T20:27:03Z","author_association":"CONTRIBUTOR","body":"Thanks @marton-bod! The new contributing guide @kbendick is referring too hasn't been merged yet but if you wouldn't mind opening this PR against [blogs.md](https://github.com/apache/iceberg-docs/blob/main/landing-page/content/common/community/blogs.md) in the iceberg-docs repo, we could actually just merge it there and close this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054633432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054890263","html_url":"https://github.com/apache/iceberg/pull/4071#issuecomment-1054890263","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4071","id":1054890263,"node_id":"IC_kwDOCW7NX84-4FkX","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T01:40:26Z","updated_at":"2022-03-01T01:40:26Z","author_association":"CONTRIBUTOR","body":"Sorry for the late update on this! @rdblue @jackye1995 when you get a chance let me know your thoughts. I still see some points where we want to do more validation but wanted to get your takes on the API, and operation structure. After we get clarity there, then I'll write unit tests. Some points: \r\n\r\n1.) There is no replaceBranch/replaceTag in this API. From looking at previous threads and offline discussions, the overall desire for \"replace\" for just metadata operations is to update retention properties. So in this, replace* methods are named to setBranch/setTag retention respectively since I think that name makes more sense, but let me know your thoughts.\r\n If we want replace to mean take an existing branch and update it to a new snapshot or create a new branch if one does not exist, a user could do drop/create but it's more clunky that way. As @rdblue mentioned, it seems like the main use case is to allow for someone to write data to a branch, and if the branch doesn't exist we create it because performing the write is expensive. Unless I'm mistaken, this would more related to SnapshotProducer changes rather than Metadata changes?\r\nLet me know your thoughts.\r\n\r\n2.) The package private operation is just a single operation (ManageSnapshotReferenceOperation) which encapsulates new additions to refs, ref removals. Originally, i had multiple operations but it seemed kind of redundant/overkill to have different internal operations compared to having a single operation just maintain state. Let me know your preference.\r\n\r\n3.) For rename, updating retention, these map to multiple MetadataUpdate. We don't have a single \"RenameBranchUpdate\", this will map to RemoveSnapshotRefUpdate + CreateSnapshotRefUpdate (with the new name). In our operation implementation we ensure the ordering of these (as it seems like with REST Catalog + this Metadata Update approach, the client will expect an ordered list of these updates). My only doubt here is it seems inefficient to have multiple updates for a rename/update retention.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054890263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054906845","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-1054906845","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":1054906845,"node_id":"IC_kwDOCW7NX84-4Jnd","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T02:06:38Z","updated_at":"2022-03-01T02:06:38Z","author_association":"CONTRIBUTOR","body":"I am okay with that @rdblue. I hope in the future, changing default values becomes a compatible change (for example if we trigger a rewrite once a new column with default value is added -- which will hardcode the default value), but it is okay to start more restrictive and relax the restrictions in the future.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054906845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054912982","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1054912982","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1054912982,"node_id":"IC_kwDOCW7NX84-4LHW","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T02:15:26Z","updated_at":"2022-03-01T02:15:26Z","author_association":"MEMBER","body":"Thanks @zhengchar for bringing this interesting issue here, and thanks @stevenzwu  and @kbendick for providing the slack context. \r\n\r\nIn essence,  the current `PartitionKeySelector` will generate a `String` **key** which is composited by a `bucket` integer value of a narrow range ( usually `[0~bucketNum)` ).  And then in the `keyBy` operator , it will use the **key** to calculate  the `String#hashCode % parallelism` again to choose the preferred downstream channel. \r\n\r\nThe value range of the first hash  is becoming narrow, resulting in a large number of row conflicts in the same bucket for the second hash.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054912982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054931334","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1054931334","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1054931334,"node_id":"IC_kwDOCW7NX84-4PmG","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T02:45:24Z","updated_at":"2022-03-01T02:45:24Z","author_association":"MEMBER","body":"I agree with @stevenzwu that we need a general solution to fix this data skew issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054931334/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054942049","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1054942049","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1054942049,"node_id":"IC_kwDOCW7NX84-4SNh","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T02:58:10Z","updated_at":"2022-03-01T02:58:10Z","author_association":"MEMBER","body":"I just copied the solution from Slack here for further searching: \r\n\r\nhttps://apache-iceberg.slack.com/archives/C025PH0G1D4/p1646033885013799?thread_ts=1645676203.340179&cid=C025PH0G1D4\r\n\r\n> hi [@Steven Wu](https://apache-iceberg.slack.com/team/U02CNF23RTL) [@Kyle Bendickson](https://apache-iceberg.slack.com/team/U0260PLFVBM), thanks for your help .\r\nit really help me a lot .\r\ni custom a partitioner that is consistent with iceberg's bucketing algorithm.\r\nso disable the shuffling (DistributionMode.HASH , It can still handle small files.\r\n\r\n```scala\r\nval kafkaStream.partitionCustom(new Partitioner[String]() {\r\n              val hash = Hashing.murmur3_32()\r\n              override def partition(key: String, numPartitions: Int): Int = {\r\n                val res = hash.hashString(key, StandardCharsets.UTF_8).asInt()\r\n                (Integer.MAX_VALUE & res) % numPartitions\r\n              }\r\n            },value=>value.getField(0).toString)\r\nFlinkSink.forRow(finalStream.javaStream,tableSchema)\r\n          .tableLoader(loader)\r\n          .writeParallelism(sinkParallelism)\r\n          .distributionMode(DistributionMode.NONE)\r\n          .build()\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054942049/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054972194","html_url":"https://github.com/apache/iceberg/issues/4230#issuecomment-1054972194","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4230","id":1054972194,"node_id":"IC_kwDOCW7NX84-4Zki","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T03:41:03Z","updated_at":"2022-03-01T03:41:03Z","author_association":"CONTRIBUTOR","body":"MySQL table column name is Upper，execute function of `from_json(col(\"data\"), icebergSchema)`, so Iceberg table column name shoud case consistency. then I traverse the iceberg schema structType and modify field to Upper. thanks @RussellSpitzer and close it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1054972194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055152962","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1055152962","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1055152962,"node_id":"IC_kwDOCW7NX84-5FtC","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T08:28:54Z","updated_at":"2022-03-01T08:28:54Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks for the work, @ConeyLiu! Let's wait for the tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055152962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055157212","html_url":"https://github.com/apache/iceberg/pull/4218#issuecomment-1055157212","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4218","id":1055157212,"node_id":"IC_kwDOCW7NX84-5Gvc","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T08:34:22Z","updated_at":"2022-03-01T08:34:22Z","author_association":"CONTRIBUTOR","body":"@openinx or @rdblue? \r\nThis is a small change and it would save ~10-20% performance for the generic readers.\r\nI would like to have a review, so I can merge.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055157212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055208929","html_url":"https://github.com/apache/iceberg/issues/3968#issuecomment-1055208929","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3968","id":1055208929,"node_id":"IC_kwDOCW7NX84-5TXh","user":{"login":"luohaifang","id":34960490,"node_id":"MDQ6VXNlcjM0OTYwNDkw","avatar_url":"https://avatars.githubusercontent.com/u/34960490?v=4","gravatar_id":"","url":"https://api.github.com/users/luohaifang","html_url":"https://github.com/luohaifang","followers_url":"https://api.github.com/users/luohaifang/followers","following_url":"https://api.github.com/users/luohaifang/following{/other_user}","gists_url":"https://api.github.com/users/luohaifang/gists{/gist_id}","starred_url":"https://api.github.com/users/luohaifang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luohaifang/subscriptions","organizations_url":"https://api.github.com/users/luohaifang/orgs","repos_url":"https://api.github.com/users/luohaifang/repos","events_url":"https://api.github.com/users/luohaifang/events{/privacy}","received_events_url":"https://api.github.com/users/luohaifang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T09:27:26Z","updated_at":"2022-03-01T09:27:26Z","author_association":"NONE","body":"i also want to","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055208929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055243235","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1055243235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1055243235,"node_id":"IC_kwDOCW7NX84-5bvj","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T09:57:02Z","updated_at":"2022-03-01T09:58:08Z","author_association":"CONTRIBUTOR","body":"@ConeyLiu, looks like we would need to adapt `TestRemoveOrphanFilesProcedure` since we added support for the purge flag. I guess we can simply modify `removeTable` (call PURGE) and `testRemoveOrphanFilesGCDisabled` (unset GC flag at the end).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055243235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055262456","html_url":"https://github.com/apache/iceberg/pull/4152#issuecomment-1055262456","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4152","id":1055262456,"node_id":"IC_kwDOCW7NX84-5gb4","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T10:14:12Z","updated_at":"2022-03-01T10:14:12Z","author_association":"CONTRIBUTOR","body":"Thanks, @0xffmeta for the contribution and @RussellSpitzer @rdblue @kbendick for reviews.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055262456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055286095","html_url":"https://github.com/apache/iceberg/pull/4240#issuecomment-1055286095","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4240","id":1055286095,"node_id":"IC_kwDOCW7NX84-5mNP","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T10:39:17Z","updated_at":"2022-03-01T10:39:17Z","author_association":"COLLABORATOR","body":"@kbendick @samredai Thanks for your inputs! I've created another PR for the docs repo: https://github.com/apache/iceberg-docs/pull/60","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055286095/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055296007","html_url":"https://github.com/apache/iceberg/issues/4159#issuecomment-1055296007","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4159","id":1055296007,"node_id":"IC_kwDOCW7NX84-5ooH","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T10:51:13Z","updated_at":"2022-03-01T10:51:13Z","author_association":"CONTRIBUTOR","body":"Well, I'd also love to see consistent behavior. However, path-based tables are quite special: there is no table pointer in the catalog. Any thoughts on what drop without purge may mean for them? Maybe we should only allow drop with purge = true for path-based tables? That way, we will have consistent behavior across catalogs but path-based tables won't support some functionality?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055296007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055296497","html_url":"https://github.com/apache/iceberg/pull/4152#issuecomment-1055296497","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4152","id":1055296497,"node_id":"IC_kwDOCW7NX84-5ovx","user":{"login":"0xffmeta","id":98149057,"node_id":"U_kgDOBdmiwQ","avatar_url":"https://avatars.githubusercontent.com/u/98149057?v=4","gravatar_id":"","url":"https://api.github.com/users/0xffmeta","html_url":"https://github.com/0xffmeta","followers_url":"https://api.github.com/users/0xffmeta/followers","following_url":"https://api.github.com/users/0xffmeta/following{/other_user}","gists_url":"https://api.github.com/users/0xffmeta/gists{/gist_id}","starred_url":"https://api.github.com/users/0xffmeta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0xffmeta/subscriptions","organizations_url":"https://api.github.com/users/0xffmeta/orgs","repos_url":"https://api.github.com/users/0xffmeta/repos","events_url":"https://api.github.com/users/0xffmeta/events{/privacy}","received_events_url":"https://api.github.com/users/0xffmeta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T10:51:48Z","updated_at":"2022-03-01T10:51:48Z","author_association":"CONTRIBUTOR","body":"Many thanks for the review, @aokolnychyi @RussellSpitzer @rdblue @kbendick!\r\nLet me submit another PR to backport this ot other spark versions. :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055296497/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055524088","html_url":"https://github.com/apache/iceberg/pull/4248#issuecomment-1055524088","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4248","id":1055524088,"node_id":"IC_kwDOCW7NX84-6gT4","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T14:49:19Z","updated_at":"2022-03-01T14:49:19Z","author_association":"CONTRIBUTOR","body":"cc: @jackye1995 @rajarshisarkar @arminnajafi @amogh-jahagirdar @xiaoxuandev @yyanyy","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055524088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055665211","html_url":"https://github.com/apache/iceberg/issues/1756#issuecomment-1055665211","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1756","id":1055665211,"node_id":"IC_kwDOCW7NX84-7Cw7","user":{"login":"shiyuhang0","id":52435083,"node_id":"MDQ6VXNlcjUyNDM1MDgz","avatar_url":"https://avatars.githubusercontent.com/u/52435083?v=4","gravatar_id":"","url":"https://api.github.com/users/shiyuhang0","html_url":"https://github.com/shiyuhang0","followers_url":"https://api.github.com/users/shiyuhang0/followers","following_url":"https://api.github.com/users/shiyuhang0/following{/other_user}","gists_url":"https://api.github.com/users/shiyuhang0/gists{/gist_id}","starred_url":"https://api.github.com/users/shiyuhang0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiyuhang0/subscriptions","organizations_url":"https://api.github.com/users/shiyuhang0/orgs","repos_url":"https://api.github.com/users/shiyuhang0/repos","events_url":"https://api.github.com/users/shiyuhang0/events{/privacy}","received_events_url":"https://api.github.com/users/shiyuhang0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T17:10:24Z","updated_at":"2022-03-01T17:10:24Z","author_association":"NONE","body":"> This occurs because of a bad error message in Spark. What it really means is that you attempted to read the table using a datasource v1 read path when the datasource in question is a v2 one. This is occuring because you are using the native spark session catalog rather than the iceberg v2 replacement session catalog. So from here you have a two options I think, You can override the session catalog with the iceberg V2 session catalog You can read the table using the v2 path explicitly, spark.read.table()\r\n> […](#)\r\n> On Thu, Nov 12, 2020, 5:47 AM chaiyuan2046 ***@***.***> wrote: spark : spark-3.0.1-bin-hadoop2.7 iceberg : iceberg-spark3-runtime-0.9.1.jar ============================================== *Step one:* bin/spark-sql --conf spark.sql.warehouse.dir=hdfs://xxxx:8020/user/iceberg *Step two:* CREATE TABLE ib_test(id bigint, data string) USING iceberg; --success *Step three:* select * from ib_test; --The error blow happens： Caused by: org.apache.spark.sql.AnalysisException: iceberg is not a valid Spark SQL Data Source.; at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:421) at org.apache.spark.sql.execution.datasources.FindDataSourceTable.$anonfun$readDataSourceTable$1(DataSourceStrategy.scala:256) at org.sparkproject.guava.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4792) at org.sparkproject.guava.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3599) at org.sparkproject.guava.cache.LocalCache$Segment.loadSync(LocalCache.java:2379) ... 96 more Any ideas for this question？tks — You are receiving this because you are subscribed to this thread. Reply to this email directly, view it on GitHub <#1756>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/AADE2YPBNYRXGD3YDBWJ5PDSPPDM7ANCNFSM4TTFYMWQ> .\r\n\r\n\r\nI am new to use spark and I would like to know how to  `override the session catalog with the iceberg V2 session catalog`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055665211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055748098","html_url":"https://github.com/apache/iceberg/issues/1756#issuecomment-1055748098","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1756","id":1055748098,"node_id":"IC_kwDOCW7NX84-7XAC","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T18:47:43Z","updated_at":"2022-03-01T18:47:43Z","author_association":"COLLABORATOR","body":"I think this will be done when you follow the steps in the Spark Getting Started Guide:  https://iceberg.apache.org/docs/latest/getting-started/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055748098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055813757","html_url":"https://github.com/apache/iceberg/issues/4250#issuecomment-1055813757","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4250","id":1055813757,"node_id":"IC_kwDOCW7NX84-7nB9","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T20:07:40Z","updated_at":"2022-03-01T20:07:40Z","author_association":"CONTRIBUTOR","body":"hey @jun-he , I can help this task. But in the mean time, can you share a bit more in detail on what's the success criteria of this task? It might help both assignee and reviewer","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055813757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055815217","html_url":"https://github.com/apache/iceberg/issues/4250#issuecomment-1055815217","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4250","id":1055815217,"node_id":"IC_kwDOCW7NX84-7nYx","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T20:09:24Z","updated_at":"2022-03-01T20:09:24Z","author_association":"CONTRIBUTOR","body":"> this is the current python legacy one: https://github.com/apache/iceberg/blob/master/python_legacy/iceberg/api/expressions/literals.py\r\n\r\n> and java implementation: https://github.com/apache/iceberg/blob/master/api/src/main/java/org/apache/iceberg/expressions/Literals.java\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055815217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055824590","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1055824590","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1055824590,"node_id":"IC_kwDOCW7NX84-7prO","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T20:20:37Z","updated_at":"2022-03-01T20:20:37Z","author_association":"CONTRIBUTOR","body":"> > That said, I think it's not a bad idea to consider running CI for release-like branches, of the form `0.X.Y` or `X.Y.Z`:\r\n> \r\n> Looks like it would just require us to replace `- 'master'` with `- '**'` in the .yml files, since there are no feature branches or so. Maybe add that to this PR and we're good on \"CI on all branches\" front :)\r\n\r\nMy only concern with this is that I think presently, tests get run in your fork any time you push to any branch. Do we think it's possible to do `apache/**` or something?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055824590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055829437","html_url":"https://github.com/apache/iceberg/pull/4245#issuecomment-1055829437","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4245","id":1055829437,"node_id":"IC_kwDOCW7NX84-7q29","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T20:26:49Z","updated_at":"2022-03-01T20:26:49Z","author_association":"CONTRIBUTOR","body":"Looks like some of the checks are failing due to an upstream issue with maven\r\n```\r\nA problem occurred configuring root project 'iceberg'.\r\n> Could not resolve all files for configuration ':classpath'.\r\n   > Could not resolve com.google.errorprone:error_prone_core:2.7.1.\r\n     Required by:\r\n         project : > com.palantir.baseline:gradle-baseline-java:4.0.0 > com.google.errorprone:error_prone_refaster:2.7.1\r\n      > Could not resolve com.google.errorprone:error_prone_core:2.7.1.\r\n         > Could not get resource 'https://plugins.gradle.org/m2/com/google/errorprone/error_prone_core/2.7.1/error_prone_core-2.7.1.pom'.\r\n            > Could not GET 'https://plugins.gradle.org/m2/com/google/errorprone/error_prone_core/2.7.1/error_prone_core-2.7.1.pom'. Received status code 503 from server: Service Unavailable\r\n```\r\n\r\nI'm running the full test suite locally for now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055829437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055891283","html_url":"https://github.com/apache/iceberg/issues/4250#issuecomment-1055891283","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4250","id":1055891283,"node_id":"IC_kwDOCW7NX84-759T","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T21:45:42Z","updated_at":"2022-03-01T21:45:42Z","author_association":"COLLABORATOR","body":"@dramaticlly  Thanks for taking it. Added some details to the description based on the offline discussion. Please let me know if you have any additional questions.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055891283/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055992023","html_url":"https://github.com/apache/iceberg/pull/4208#issuecomment-1055992023","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4208","id":1055992023,"node_id":"IC_kwDOCW7NX84-8SjX","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T00:05:10Z","updated_at":"2022-03-02T00:05:10Z","author_association":"CONTRIBUTOR","body":"@samredai, can you rebase? Looks like there are conflicts now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055992023/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055998603","html_url":"https://github.com/apache/iceberg/pull/4208#issuecomment-1055998603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4208","id":1055998603,"node_id":"IC_kwDOCW7NX84-8UKL","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T00:15:48Z","updated_at":"2022-03-02T00:15:48Z","author_association":"CONTRIBUTOR","body":"Thanks for the ping @rdblue. Rebased. 👍 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1055998603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056057101","html_url":"https://github.com/apache/iceberg/issues/3968#issuecomment-1056057101","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3968","id":1056057101,"node_id":"IC_kwDOCW7NX84-8icN","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T02:01:49Z","updated_at":"2022-03-02T02:01:49Z","author_association":"MEMBER","body":"@qq240035000 @luohaifang I did not try the flink + iceberg on Minio environment, but as Minio is an AWS S3 compatible storage  file system,  so I think you can follow the AWS flink document to try your demo. The difference is:  the catalog I think we will need to use HiveCatalog, right ? ( Minio don't has any DynamicDB service to provide the table lock service).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056057101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056102348","html_url":"https://github.com/apache/iceberg/issues/4188#issuecomment-1056102348","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4188","id":1056102348,"node_id":"IC_kwDOCW7NX84-8tfM","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T02:58:37Z","updated_at":"2022-03-02T02:58:37Z","author_association":"CONTRIBUTOR","body":"I think we should be really careful with allowing filtering on arbitrary data columns. In a lot of cases, this may end up useless or even degrade the performance. We currently only allow filtering on data columns used as source fields for partition transforms.\r\n\r\nI would consider allowing filtering by sort columns defined in the table. However, I would probably (not sure) hide it under a flag so that users would have to opt in.\r\n\r\nThoughts, @rdblue @RussellSpitzer?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056102348/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056284392","html_url":"https://github.com/apache/iceberg/issues/4249#issuecomment-1056284392","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4249","id":1056284392,"node_id":"IC_kwDOCW7NX84-9Z7o","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T05:41:38Z","updated_at":"2022-03-02T05:41:38Z","author_association":"CONTRIBUTOR","body":"I want to try to realize it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056284392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056367896","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1056367896","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1056367896,"node_id":"IC_kwDOCW7NX84-9uUY","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T06:35:50Z","updated_at":"2022-03-02T06:35:50Z","author_association":"CONTRIBUTOR","body":"Thanks @aokolnychyi, the code has been updated. And it passed at locally testing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056367896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056446295","html_url":"https://github.com/apache/iceberg/issues/4251#issuecomment-1056446295","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4251","id":1056446295,"node_id":"IC_kwDOCW7NX84--BdX","user":{"login":"yittg","id":4429171,"node_id":"MDQ6VXNlcjQ0MjkxNzE=","avatar_url":"https://avatars.githubusercontent.com/u/4429171?v=4","gravatar_id":"","url":"https://api.github.com/users/yittg","html_url":"https://github.com/yittg","followers_url":"https://api.github.com/users/yittg/followers","following_url":"https://api.github.com/users/yittg/following{/other_user}","gists_url":"https://api.github.com/users/yittg/gists{/gist_id}","starred_url":"https://api.github.com/users/yittg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yittg/subscriptions","organizations_url":"https://api.github.com/users/yittg/orgs","repos_url":"https://api.github.com/users/yittg/repos","events_url":"https://api.github.com/users/yittg/events{/privacy}","received_events_url":"https://api.github.com/users/yittg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T07:23:54Z","updated_at":"2022-03-02T07:23:54Z","author_association":"CONTRIBUTOR","body":"Looking forward for your feedback.\r\ncc @rdblue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056446295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056700258","html_url":"https://github.com/apache/iceberg/pull/3411#issuecomment-1056700258","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3411","id":1056700258,"node_id":"IC_kwDOCW7NX84--_di","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T09:44:13Z","updated_at":"2022-03-02T09:44:13Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, I am sorry for the late update. Thanks for the review. Comments have been addressed. Pls take another look when you are free.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056700258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056755212","html_url":"https://github.com/apache/iceberg/pull/4252#issuecomment-1056755212","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4252","id":1056755212,"node_id":"IC_kwDOCW7NX84-_M4M","user":{"login":"0xffmeta","id":98149057,"node_id":"U_kgDOBdmiwQ","avatar_url":"https://avatars.githubusercontent.com/u/98149057?v=4","gravatar_id":"","url":"https://api.github.com/users/0xffmeta","html_url":"https://github.com/0xffmeta","followers_url":"https://api.github.com/users/0xffmeta/followers","following_url":"https://api.github.com/users/0xffmeta/following{/other_user}","gists_url":"https://api.github.com/users/0xffmeta/gists{/gist_id}","starred_url":"https://api.github.com/users/0xffmeta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0xffmeta/subscriptions","organizations_url":"https://api.github.com/users/0xffmeta/orgs","repos_url":"https://api.github.com/users/0xffmeta/repos","events_url":"https://api.github.com/users/0xffmeta/events{/privacy}","received_events_url":"https://api.github.com/users/0xffmeta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T10:20:19Z","updated_at":"2022-03-02T10:20:19Z","author_association":"CONTRIBUTOR","body":"Let me fix the failed test first.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056755212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056955788","html_url":"https://github.com/apache/iceberg/issues/4190#issuecomment-1056955788","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4190","id":1056955788,"node_id":"IC_kwDOCW7NX84-_92M","user":{"login":"Shane-Yu","id":26053387,"node_id":"MDQ6VXNlcjI2MDUzMzg3","avatar_url":"https://avatars.githubusercontent.com/u/26053387?v=4","gravatar_id":"","url":"https://api.github.com/users/Shane-Yu","html_url":"https://github.com/Shane-Yu","followers_url":"https://api.github.com/users/Shane-Yu/followers","following_url":"https://api.github.com/users/Shane-Yu/following{/other_user}","gists_url":"https://api.github.com/users/Shane-Yu/gists{/gist_id}","starred_url":"https://api.github.com/users/Shane-Yu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shane-Yu/subscriptions","organizations_url":"https://api.github.com/users/Shane-Yu/orgs","repos_url":"https://api.github.com/users/Shane-Yu/repos","events_url":"https://api.github.com/users/Shane-Yu/events{/privacy}","received_events_url":"https://api.github.com/users/Shane-Yu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T13:53:21Z","updated_at":"2022-03-02T13:53:21Z","author_association":"NONE","body":"I also met this problem in CDC scenarios ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056955788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056994132","html_url":"https://github.com/apache/iceberg/issues/3968#issuecomment-1056994132","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3968","id":1056994132,"node_id":"IC_kwDOCW7NX84_AHNU","user":{"login":"qq240035000","id":32573841,"node_id":"MDQ6VXNlcjMyNTczODQx","avatar_url":"https://avatars.githubusercontent.com/u/32573841?v=4","gravatar_id":"","url":"https://api.github.com/users/qq240035000","html_url":"https://github.com/qq240035000","followers_url":"https://api.github.com/users/qq240035000/followers","following_url":"https://api.github.com/users/qq240035000/following{/other_user}","gists_url":"https://api.github.com/users/qq240035000/gists{/gist_id}","starred_url":"https://api.github.com/users/qq240035000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qq240035000/subscriptions","organizations_url":"https://api.github.com/users/qq240035000/orgs","repos_url":"https://api.github.com/users/qq240035000/repos","events_url":"https://api.github.com/users/qq240035000/events{/privacy}","received_events_url":"https://api.github.com/users/qq240035000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T14:30:59Z","updated_at":"2022-03-02T14:30:59Z","author_association":"NONE","body":"0.13.0 Release Notes\r\nAny S3-compatible storage (e.g. MinIO) can now be accessed through AWS S3FileIO with custom endpoint and credential configurations [[#3656](https://github.com/apache/iceberg/pull/3656)] [[#3658](https://github.com/apache/iceberg/pull/3658)]\r\n\r\nI do not know how to configure the credential configurations and use S3FileIO. The AWS flink document do not show with detail. @openinx\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1056994132/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057005763","html_url":"https://github.com/apache/iceberg/pull/4218#issuecomment-1057005763","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4218","id":1057005763,"node_id":"IC_kwDOCW7NX84_AKDD","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T14:42:15Z","updated_at":"2022-03-02T14:42:15Z","author_association":"CONTRIBUTOR","body":"@openinx: Fixed the null check where I was able to, added the comments, and the tests are green. If you have some time, I think the PR is ready for another review. Thanks again for taking the time to check this out!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057005763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057203408","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1057203408","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1057203408,"node_id":"IC_kwDOCW7NX84_A6TQ","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T17:44:42Z","updated_at":"2022-03-02T17:44:42Z","author_association":"MEMBER","body":"> My only concern with this is that I think presently, tests get run in your fork any time you push to any branch. Do we think it's possible to do `apache/**` or something?\r\n\r\nAh, right. Forks would run CI on every branch then as well. (Why doesn't GH disable actions on forks automatically (anymore)...).\r\nFair enough, let's stick to `master` + tags for now and consider using a common prefix for release-branches w/ CI later / in a follow-up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057203408/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]