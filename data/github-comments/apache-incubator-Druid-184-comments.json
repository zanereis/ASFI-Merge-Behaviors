[{"url":"https://api.github.com/repos/apache/druid/issues/comments/380662904","html_url":"https://github.com/apache/druid/pull/5541#issuecomment-380662904","issue_url":"https://api.github.com/repos/apache/druid/issues/5541","id":380662904,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY2MjkwNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T03:11:12Z","updated_at":"2018-04-12T03:11:12Z","author_association":"CONTRIBUTOR","body":"Hi @Sarvesh1990, are you still interested in working on this feature?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380662904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380679927","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-380679927","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":380679927,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY3OTkyNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T05:10:31Z","updated_at":"2018-04-12T05:10:31Z","author_association":"CONTRIBUTOR","body":"@gianm thanks. Addressed your comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380679927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380698239","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-380698239","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":380698239,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY5ODIzOQ==","user":{"login":"palanieppan-m","id":27789414,"node_id":"MDQ6VXNlcjI3Nzg5NDE0","avatar_url":"https://avatars.githubusercontent.com/u/27789414?v=4","gravatar_id":"","url":"https://api.github.com/users/palanieppan-m","html_url":"https://github.com/palanieppan-m","followers_url":"https://api.github.com/users/palanieppan-m/followers","following_url":"https://api.github.com/users/palanieppan-m/following{/other_user}","gists_url":"https://api.github.com/users/palanieppan-m/gists{/gist_id}","starred_url":"https://api.github.com/users/palanieppan-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palanieppan-m/subscriptions","organizations_url":"https://api.github.com/users/palanieppan-m/orgs","repos_url":"https://api.github.com/users/palanieppan-m/repos","events_url":"https://api.github.com/users/palanieppan-m/events{/privacy}","received_events_url":"https://api.github.com/users/palanieppan-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T06:54:51Z","updated_at":"2018-04-12T06:54:51Z","author_association":"CONTRIBUTOR","body":"thanks folks. I will go ahead and port this into our internal branch for use now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380698239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380709692","html_url":"https://github.com/apache/druid/pull/4648#issuecomment-380709692","issue_url":"https://api.github.com/repos/apache/druid/issues/4648","id":380709692,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDcwOTY5Mg==","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T07:43:53Z","updated_at":"2018-04-12T07:43:53Z","author_association":"MEMBER","body":"@lizhanhui ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380709692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380745075","html_url":"https://github.com/apache/druid/pull/5624#issuecomment-380745075","issue_url":"https://api.github.com/repos/apache/druid/issues/5624","id":380745075,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDc0NTA3NQ==","user":{"login":"zhztheplayer","id":11284395,"node_id":"MDQ6VXNlcjExMjg0Mzk1","avatar_url":"https://avatars.githubusercontent.com/u/11284395?v=4","gravatar_id":"","url":"https://api.github.com/users/zhztheplayer","html_url":"https://github.com/zhztheplayer","followers_url":"https://api.github.com/users/zhztheplayer/followers","following_url":"https://api.github.com/users/zhztheplayer/following{/other_user}","gists_url":"https://api.github.com/users/zhztheplayer/gists{/gist_id}","starred_url":"https://api.github.com/users/zhztheplayer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhztheplayer/subscriptions","organizations_url":"https://api.github.com/users/zhztheplayer/orgs","repos_url":"https://api.github.com/users/zhztheplayer/repos","events_url":"https://api.github.com/users/zhztheplayer/events{/privacy}","received_events_url":"https://api.github.com/users/zhztheplayer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T09:51:00Z","updated_at":"2018-04-12T09:51:00Z","author_association":"MEMBER","body":"@nishantmonu51 the buffer size is now configurable, and add an compression level option to solve #5534 \r\n\r\nAlso added docs and unit tests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380745075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380753058","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-380753058","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":380753058,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDc1MzA1OA==","user":{"login":"sixtus","id":91857,"node_id":"MDQ6VXNlcjkxODU3","avatar_url":"https://avatars.githubusercontent.com/u/91857?v=4","gravatar_id":"","url":"https://api.github.com/users/sixtus","html_url":"https://github.com/sixtus","followers_url":"https://api.github.com/users/sixtus/followers","following_url":"https://api.github.com/users/sixtus/following{/other_user}","gists_url":"https://api.github.com/users/sixtus/gists{/gist_id}","starred_url":"https://api.github.com/users/sixtus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixtus/subscriptions","organizations_url":"https://api.github.com/users/sixtus/orgs","repos_url":"https://api.github.com/users/sixtus/repos","events_url":"https://api.github.com/users/sixtus/events{/privacy}","received_events_url":"https://api.github.com/users/sixtus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T10:19:08Z","updated_at":"2018-04-12T10:19:08Z","author_association":"CONTRIBUTOR","body":"I guess I have to update the ticket. Setting parallelCombiner to one did not solve the mem leak. More when I know more.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380753058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380851489","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-380851489","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":380851489,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg1MTQ4OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T15:45:02Z","updated_at":"2018-04-12T15:45:02Z","author_association":"CONTRIBUTOR","body":"@sixtus It might be helpful to analyze a heap dump from a time when the historicals are misbehaving?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380851489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380864681","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-380864681","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":380864681,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg2NDY4MQ==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T16:25:28Z","updated_at":"2018-04-12T16:25:28Z","author_association":"CONTRIBUTOR","body":"@leventov Do you have any additional comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380864681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380871623","html_url":"https://github.com/apache/druid/pull/5413#issuecomment-380871623","issue_url":"https://api.github.com/repos/apache/druid/issues/5413","id":380871623,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg3MTYyMw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T16:47:12Z","updated_at":"2018-04-12T16:47:12Z","author_association":"CONTRIBUTOR","body":"@drcrallen  can we take this to the finish line?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380871623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380873175","html_url":"https://github.com/apache/druid/pull/5339#issuecomment-380873175","issue_url":"https://api.github.com/repos/apache/druid/issues/5339","id":380873175,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg3MzE3NQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T16:52:22Z","updated_at":"2018-04-12T16:52:22Z","author_association":"CONTRIBUTOR","body":"@akashdw can you please add the docs?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380873175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380874190","html_url":"https://github.com/apache/druid/pull/5633#issuecomment-380874190","issue_url":"https://api.github.com/repos/apache/druid/issues/5633","id":380874190,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg3NDE5MA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T16:55:28Z","updated_at":"2018-04-12T16:55:45Z","author_association":"CONTRIBUTOR","body":"@gianm just noticed that, you are using a branch 0.12.0 to prepare a release candidate0.12.1, i thought that can confuse ppls where instead of pulling the tag 0.12.0 they will pull that branch and think they are using 0.12.0. Maybe it is something that we should reconsider? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380874190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380876804","html_url":"https://github.com/apache/druid/pull/5633#issuecomment-380876804","issue_url":"https://api.github.com/repos/apache/druid/issues/5633","id":380876804,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg3NjgwNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T17:04:03Z","updated_at":"2018-04-12T17:04:03Z","author_association":"CONTRIBUTOR","body":"@b-slim hmm, I was treating the 0.12.0 branch as more of a 0.12.x branch, but the name is in fact misleading then. I could redo the branches to restore 0.12.0 to its old state and to make a new 0.12.1 branch. Do you (or anyone else listening) think it's worth it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380876804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380877790","html_url":"https://github.com/apache/druid/pull/5633#issuecomment-380877790","issue_url":"https://api.github.com/repos/apache/druid/issues/5633","id":380877790,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg3Nzc5MA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T17:07:34Z","updated_at":"2018-04-12T17:07:34Z","author_association":"CONTRIBUTOR","body":"i know at least one instance where a person was pulling from branch instead of tag and IMO it is common especially in the Apache Hadoop Community.  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380877790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380877815","html_url":"https://github.com/apache/druid/pull/5413#issuecomment-380877815","issue_url":"https://api.github.com/repos/apache/druid/issues/5413","id":380877815,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg3NzgxNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T17:07:40Z","updated_at":"2018-04-12T17:07:40Z","author_association":"MEMBER","body":"@drcrallen the current `SameThreadExecutorService` implementation with Phaser has logical issues:\r\n - It should check values returned from `register()`, correctly processing termination case\r\n - Initial `register()` and final `arriveAndDeregister()` is potentially done from different threads, that could lead to errors ([this bug](https://github.com/druid-io/druid/issues/5485) has the same root cause).\r\n\r\nI didn't mention that before because I wanted to persuade you not to use `Phaser` using different arguments. But now considering that the current implementation of `SameThreadExecutorService` is relatively complex and prone to some bugs or inconsistencies, while the proposed no-op approach is absolutely trivial, would you agree to switch to stateless singleton with no-op methods?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380877815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380883024","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-380883024","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":380883024,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg4MzAyNA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T17:26:10Z","updated_at":"2018-04-12T17:26:10Z","author_association":"CONTRIBUTOR","body":"@jihoonson there is some copy pasting of code and subtle differences in design as well. I didn't want to change `RemoteTaskRunner` to make sure of not introducing any bugs in it due to refactorings. My intention is that `RemoteTaskRunner` is removed and all users are switched to `HttpRemoteTaskRunner` . \r\nare you guys using `HttpRemoteTaskRunner` on any cluster ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380883024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380884506","html_url":"https://github.com/apache/druid/pull/5286#issuecomment-380884506","issue_url":"https://api.github.com/repos/apache/druid/issues/5286","id":380884506,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg4NDUwNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T17:31:13Z","updated_at":"2018-04-12T17:31:13Z","author_association":"CONTRIBUTOR","body":"@sascha-coenen that log is not printed multiple times and very useful when something goes wrong. typically people don't have debug logs and that log helps with investigation in clusters where it is difficult to re-run the large jobs for debugging. I kept it INFO based on its usefulness and don't see any major issues in getting it printed. Also, splitting it ensures that it wouldn't use extra memory other than what is already being used to store that string. if you face specific issues please let us know.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380884506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380889758","html_url":"https://github.com/apache/druid/pull/5280#issuecomment-380889758","issue_url":"https://api.github.com/repos/apache/druid/issues/5280","id":380889758,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDg4OTc1OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T17:49:18Z","updated_at":"2018-04-12T17:49:18Z","author_association":"CONTRIBUTOR","body":"getting back to this after a while, I'll fix the conflict . @gianm @nishantmonu51 please take a look again and help me finish this one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380889758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380915869","html_url":"https://github.com/apache/druid/pull/5615#issuecomment-380915869","issue_url":"https://api.github.com/repos/apache/druid/issues/5615","id":380915869,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDkxNTg2OQ==","user":{"login":"mkuthan","id":1560526,"node_id":"MDQ6VXNlcjE1NjA1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1560526?v=4","gravatar_id":"","url":"https://api.github.com/users/mkuthan","html_url":"https://github.com/mkuthan","followers_url":"https://api.github.com/users/mkuthan/followers","following_url":"https://api.github.com/users/mkuthan/following{/other_user}","gists_url":"https://api.github.com/users/mkuthan/gists{/gist_id}","starred_url":"https://api.github.com/users/mkuthan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkuthan/subscriptions","organizations_url":"https://api.github.com/users/mkuthan/orgs","repos_url":"https://api.github.com/users/mkuthan/repos","events_url":"https://api.github.com/users/mkuthan/events{/privacy}","received_events_url":"https://api.github.com/users/mkuthan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T19:19:04Z","updated_at":"2018-04-12T19:19:04Z","author_association":"NONE","body":"Thanks for the investigation and fix! Mentioned links are really good lecture.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380915869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380921254","html_url":"https://github.com/apache/druid/pull/5615#issuecomment-380921254","issue_url":"https://api.github.com/repos/apache/druid/issues/5615","id":380921254,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDkyMTI1NA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T19:39:43Z","updated_at":"2018-04-12T19:39:43Z","author_association":"CONTRIBUTOR","body":"@jon-wei is this 0.12.1 or 0.13?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380921254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380923224","html_url":"https://github.com/apache/druid/pull/5615#issuecomment-380923224","issue_url":"https://api.github.com/repos/apache/druid/issues/5615","id":380923224,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDkyMzIyNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T19:47:09Z","updated_at":"2018-04-12T19:47:09Z","author_association":"CONTRIBUTOR","body":"@fjy let's do 0.12.1","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380923224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380962234","html_url":"https://github.com/apache/druid/pull/5280#issuecomment-380962234","issue_url":"https://api.github.com/repos/apache/druid/issues/5280","id":380962234,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDk2MjIzNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T22:21:55Z","updated_at":"2018-04-12T22:21:55Z","author_association":"CONTRIBUTOR","body":"Probably this should be labeled with `Design Review`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380962234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380964087","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-380964087","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":380964087,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDk2NDA4Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T22:30:46Z","updated_at":"2018-04-12T22:30:46Z","author_association":"CONTRIBUTOR","body":"@himanshug we're testing the http announcer and http loadQueuePeon, but not `HttpRemoteTaskRunner` yet. I will do some tests for it as well.\r\n\r\n> My intention is that RemoteTaskRunner is removed and all users are switched to HttpRemoteTaskRunner .\r\n\r\nIf this was the intention, I think the logic of allocating/monitoring tasks shouldn't be changed because it's easier for users to guess what's the expectation when using `HttpRemoteTaskRunner`. But, it looks that there is at least one big change: `HttpRemoteTaskRunner` is based on polling while `RemoteTaskRunner` is not. Are you planning to change `HttpRemoteTaskRunner` to have the same logic with `RemoteTaskRunner` in the future?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380964087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380965423","html_url":"https://github.com/apache/druid/pull/5280#issuecomment-380965423","issue_url":"https://api.github.com/repos/apache/druid/issues/5280","id":380965423,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDk2NTQyMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T22:37:17Z","updated_at":"2018-04-12T22:37:17Z","author_association":"CONTRIBUTOR","body":"@himanshug sure, please post when the conflict is fixed and I'll take another look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380965423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380981247","html_url":"https://github.com/apache/druid/pull/5638#issuecomment-380981247","issue_url":"https://api.github.com/repos/apache/druid/issues/5638","id":380981247,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDk4MTI0Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T00:09:46Z","updated_at":"2018-04-13T00:09:46Z","author_association":"CONTRIBUTOR","body":"I merged https://github.com/druid-io/druid/pull/5615 too early, so reopening in this PR.\r\n\r\nThis addresses the comments left on the last PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380981247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381015965","html_url":"https://github.com/apache/druid/pull/5592#issuecomment-381015965","issue_url":"https://api.github.com/repos/apache/druid/issues/5592","id":381015965,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTAxNTk2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T04:07:18Z","updated_at":"2018-04-13T04:07:18Z","author_association":"CONTRIBUTOR","body":"@leventov will you do the backport or shall I?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381015965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381016108","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-381016108","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":381016108,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTAxNjEwOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T04:08:21Z","updated_at":"2018-04-13T04:08:21Z","author_association":"CONTRIBUTOR","body":"Milestoning this as 0.13.0 since not all of it will be backported. The backport should be milestoned as 0.12.1 though.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381016108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381016644","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-381016644","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":381016644,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTAxNjY0NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T04:11:24Z","updated_at":"2018-04-13T04:11:24Z","author_association":"CONTRIBUTOR","body":"@jihoonson please go ahead with the backport of non-compatibility-breaking changes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381016644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381028920","html_url":"https://github.com/apache/druid/pull/5592#issuecomment-381028920","issue_url":"https://api.github.com/repos/apache/druid/issues/5592","id":381028920,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTAyODkyMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T05:35:43Z","updated_at":"2018-04-13T05:35:43Z","author_association":"MEMBER","body":"@gianm could you please backport?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381028920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381110133","html_url":"https://github.com/apache/druid/issues/5641#issuecomment-381110133","issue_url":"https://api.github.com/repos/apache/druid/issues/5641","id":381110133,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTExMDEzMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T11:42:57Z","updated_at":"2018-04-13T11:42:57Z","author_association":"CONTRIBUTOR","body":"Hi @varaga, I'm not familiar with what is needed client-side for ZK applications to use role based authorization. Do you have a pointer to the ZK docs or to another project that does what you want? It's possible Druid already supports it, or if not, that it's easy to add.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381110133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381110381","html_url":"https://github.com/apache/druid/pull/5592#issuecomment-381110381","issue_url":"https://api.github.com/repos/apache/druid/issues/5592","id":381110381,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTExMDM4MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T11:44:06Z","updated_at":"2018-04-13T11:44:06Z","author_association":"CONTRIBUTOR","body":"Sure: #5642","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381110381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381125519","html_url":"https://github.com/apache/druid/issues/5641#issuecomment-381125519","issue_url":"https://api.github.com/repos/apache/druid/issues/5641","id":381125519,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTEyNTUxOQ==","user":{"login":"varaga","id":31006611,"node_id":"MDQ6VXNlcjMxMDA2NjEx","avatar_url":"https://avatars.githubusercontent.com/u/31006611?v=4","gravatar_id":"","url":"https://api.github.com/users/varaga","html_url":"https://github.com/varaga","followers_url":"https://api.github.com/users/varaga/followers","following_url":"https://api.github.com/users/varaga/following{/other_user}","gists_url":"https://api.github.com/users/varaga/gists{/gist_id}","starred_url":"https://api.github.com/users/varaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/varaga/subscriptions","organizations_url":"https://api.github.com/users/varaga/orgs","repos_url":"https://api.github.com/users/varaga/repos","events_url":"https://api.github.com/users/varaga/events{/privacy}","received_events_url":"https://api.github.com/users/varaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T12:51:45Z","updated_at":"2018-04-13T12:52:37Z","author_association":"CONTRIBUTOR","body":"```\r\nString authenticationString = ZK_USER + \":\" + ZK_PASSWORD;\r\nbuilder.authorization(\"digest\", authenticationString.getBytes())\r\n                    .aclProvider(new ACLProvider() {\r\n                        @Override\r\n                        public List<ACL> getDefaultAcl() {\r\n                            return ZooDefs.Ids.CREATOR_ALL_ACL;\r\n                        }\r\n\r\n                        @Override\r\n                        public List<ACL> getAclForPath(String path) {\r\n                            return ZooDefs.Ids.CREATOR_ALL_ACL;\r\n                        }\r\n});\r\n```\r\nwhere builder is a CuratorFramework builder ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381125519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381134376","html_url":"https://github.com/apache/druid/issues/5641#issuecomment-381134376","issue_url":"https://api.github.com/repos/apache/druid/issues/5641","id":381134376,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTEzNDM3Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T13:25:39Z","updated_at":"2018-04-13T13:25:39Z","author_association":"CONTRIBUTOR","body":"@varaga We already have a way to set up the aclProvider: you can set `druid.zk.service.acl=true`. However I think we don't have a way to set up the authorization.\r\n\r\nWould you be interested in contributing something here? It should probably be a relatively straightforward addition. The place to start would be in `io.druid.curator.CuratorModule`, which is what creates our CuratorFramework.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381134376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381176263","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381176263","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381176263,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE3NjI2Mw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T15:42:14Z","updated_at":"2018-04-13T15:42:14Z","author_association":"CONTRIBUTOR","body":"@jihoonson from users perspective `HttpRemoteTaskRunner` should be behaving pretty much same as `RemoteTaskRunner` except it has extra debugging information . Also, it is based on `long polling` which does not cause quick loops , please see https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/server/http/SegmentListerResource.java#L87 which is same mechanism used to keep segment list in sync used by `HttpServerInventoryView` . I don't intend to change that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381176263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381181403","html_url":"https://github.com/apache/druid/pull/5452#issuecomment-381181403","issue_url":"https://api.github.com/repos/apache/druid/issues/5452","id":381181403,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE4MTQwMw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T15:58:52Z","updated_at":"2018-04-13T15:58:52Z","author_association":"MEMBER","body":"@leventov : updated Pr based on your comments. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381181403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381191023","html_url":"https://github.com/apache/druid/pull/2384#issuecomment-381191023","issue_url":"https://api.github.com/repos/apache/druid/issues/2384","id":381191023,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE5MTAyMw==","user":{"login":"xianyinxin","id":15028683,"node_id":"MDQ6VXNlcjE1MDI4Njgz","avatar_url":"https://avatars.githubusercontent.com/u/15028683?v=4","gravatar_id":"","url":"https://api.github.com/users/xianyinxin","html_url":"https://github.com/xianyinxin","followers_url":"https://api.github.com/users/xianyinxin/followers","following_url":"https://api.github.com/users/xianyinxin/following{/other_user}","gists_url":"https://api.github.com/users/xianyinxin/gists{/gist_id}","starred_url":"https://api.github.com/users/xianyinxin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xianyinxin/subscriptions","organizations_url":"https://api.github.com/users/xianyinxin/orgs","repos_url":"https://api.github.com/users/xianyinxin/repos","events_url":"https://api.github.com/users/xianyinxin/events{/privacy}","received_events_url":"https://api.github.com/users/xianyinxin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T16:33:14Z","updated_at":"2018-04-13T16:33:14Z","author_association":"NONE","body":"Any update on this? @michaelschiff\r\nEven though there're many metrics with multi-dimension and high cardinality, there're also many metrics which has limited cardinality and few dimensions and can be easily handled, such as jvm heap and buffer usages, very useful metrics.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381191023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381213061","html_url":"https://github.com/apache/druid/pull/2384#issuecomment-381213061","issue_url":"https://api.github.com/repos/apache/druid/issues/2384","id":381213061,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTIxMzA2MQ==","user":{"login":"michaelschiff","id":1669670,"node_id":"MDQ6VXNlcjE2Njk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1669670?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelschiff","html_url":"https://github.com/michaelschiff","followers_url":"https://api.github.com/users/michaelschiff/followers","following_url":"https://api.github.com/users/michaelschiff/following{/other_user}","gists_url":"https://api.github.com/users/michaelschiff/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelschiff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelschiff/subscriptions","organizations_url":"https://api.github.com/users/michaelschiff/orgs","repos_url":"https://api.github.com/users/michaelschiff/repos","events_url":"https://api.github.com/users/michaelschiff/events{/privacy}","received_events_url":"https://api.github.com/users/michaelschiff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T17:51:32Z","updated_at":"2018-04-13T17:51:32Z","author_association":"CONTRIBUTOR","body":"@xy-xin Hey - I recommend you take a look at the `statsd-emitter` - This is the approach I've taken for my original use case.  StatsD allows you to collect all metrics, and aggregate across the dimensions you don't wish to keep.  StatsD also supports various backends so you can write these aggregated metrics to the store of your choice (which I assume is ganglia).  With this approach you can keep all metrics emitted, just without the high-cardinality dimensions.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381213061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381224285","html_url":"https://github.com/apache/druid/issues/5543#issuecomment-381224285","issue_url":"https://api.github.com/repos/apache/druid/issues/5543","id":381224285,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTIyNDI4NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T18:33:59Z","updated_at":"2018-04-13T18:33:59Z","author_association":"CONTRIBUTOR","body":"implementing the parallel indexing without shuffle itself sounds useful to me for many users e.g. in combination with https://github.com/druid-io/druid/issues/5238 for ingesting data from databases. so, :+1:\r\n\r\nI'll defer shuffle related comments because there isn't enough low level details about its implementation flushed out. my guess is that it will probably end up looking very similar to Hadoop MR's . that is not necessarily a bad thing given the advantages of it being supported out of the box in Druid.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381224285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381241444","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-381241444","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":381241444,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI0MTQ0NA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T19:40:35Z","updated_at":"2018-04-13T19:40:35Z","author_association":"CONTRIBUTOR","body":"i feel this should remain open till backport of #5613 is merged","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381241444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381254590","html_url":"https://github.com/apache/druid/pull/5280#issuecomment-381254590","issue_url":"https://api.github.com/repos/apache/druid/issues/5280","id":381254590,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI1NDU5MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T20:38:28Z","updated_at":"2018-04-13T20:38:28Z","author_association":"CONTRIBUTOR","body":"@gianm fixed the conflict.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381254590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381260473","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-381260473","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":381260473,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI2MDQ3Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T21:05:50Z","updated_at":"2018-04-13T21:05:50Z","author_association":"CONTRIBUTOR","body":"@pdeva - in general we close tickets when they are fixed in master. However, we will be backporting #5613 to 0.12.1.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381260473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381274805","html_url":"https://github.com/apache/druid/issues/5543#issuecomment-381274805","issue_url":"https://api.github.com/repos/apache/druid/issues/5543","id":381274805,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI3NDgwNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T22:23:44Z","updated_at":"2018-04-13T22:23:44Z","author_association":"CONTRIBUTOR","body":"@himanshug thanks for the comment. We may need a more detailed proposal shuffle system. Also, I'm not sure about sharing the same shuffle system by both indexing and querying now because they need different requirements. I'll raise another issue for it later.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381274805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381288047","html_url":"https://github.com/apache/druid/pull/5646#issuecomment-381288047","issue_url":"https://api.github.com/repos/apache/druid/issues/5646","id":381288047,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI4ODA0Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-14T00:10:07Z","updated_at":"2018-04-14T00:10:07Z","author_association":"CONTRIBUTOR","body":"This change was already made recently: https://github.com/druid-io/druid/pull/5614","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381288047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381289100","html_url":"https://github.com/apache/druid/pull/5646#issuecomment-381289100","issue_url":"https://api.github.com/repos/apache/druid/issues/5646","id":381289100,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI4OTEwMA==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-14T00:20:14Z","updated_at":"2018-04-14T00:20:14Z","author_association":"CONTRIBUTOR","body":"Created this PR earlier, when your PR wasn't created. Thanks @jon-wei . Closing this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381289100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381291387","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381291387","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381291387,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI5MTM4Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-14T00:46:31Z","updated_at":"2018-04-14T00:46:31Z","author_association":"CONTRIBUTOR","body":"Then, I think `HttpServerInventoryView` also has the same issue. I don't think the behavior of your http-based coordination/monitoring (including `HttpRemoteTaskRunner` and `HttpServerInventoryView`) is same with the current ZK-based stuffs. In the current implementation, every information is updated whenever a ZK event occurs which is watched by a short small polling. In this implementation, users can expect that Druid will do something whenever it catches the events immediately. \r\n\r\nHowever, in the new HTTP-based stuffs, they basically work based on long polling. This means that every individual event cannot be seen immediately when they occur. Instead, multiple events can be seen in bulk per polling period. This can also increase the cpu usage of coordinators/brokers/overlords while polling a lot of segments/tasks.\r\n\r\nI'm not saying which one is faster/slower or even better/worse. I just want to know what was the rationale of your changes, and make them better if possible.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381291387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381299292","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381299292","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381299292,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI5OTI5Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-14T03:11:21Z","updated_at":"2018-04-14T03:48:32Z","author_association":"CONTRIBUTOR","body":"No, each event is seen as soon as it happens. response from historical is sent to coordinator as soon as any update (segment loaded/dropped ) happens. after receiving the response , coordinator _immediately_ sends the request to historical and then historical holds it till either timeout (~4 minutes) or some update happens.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381299292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381341151","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381341151","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381341151,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTM0MTE1MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-14T16:26:09Z","updated_at":"2018-04-14T16:26:49Z","author_association":"CONTRIBUTOR","body":"Are you talking about `HttpServerInventoryView`? I didn't check how `HttpServerInventoryView` works yet. If changes are seen immediately in `HttpServerInventoryView`, do `HttpRemoteTaskRunner` and `HttpServerInventoryView` behave differently? At least `HttpRemoteTaskRunner` looks polling to [sync worker status](https://github.com/druid-io/druid/blob/master/indexing-service/src/main/java/io/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java#L623-L660) and [sync task status](https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/server/coordination/ChangeRequestHttpSyncer.java#L363-L407).\r\n\r\nI might be wrong because I'm not familiar with your implementation as much as you do. So, as I asked from the first place, would you describe what are differences between `RemoteTaskRunner` and `HttpRemoteTaskRunner` and why those differences are needed?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381341151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381379953","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381379953","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381379953,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTM3OTk1Mw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-15T04:49:16Z","updated_at":"2018-04-15T04:49:16Z","author_association":"CONTRIBUTOR","body":"@jihoonson  Let me try to explain a bit more...\r\n`HttpServerInventoryView` and `HttpRemoteTaskRunner` are similar in the sense that they both need to discover \"servers\" (coordinator discovers servers that load segments and overlord discovers middleManagers) and that they need to keep some state synchronized with those servers in realtime. Both `HttpServerInventoryView` and `HttpRemoteTaskRunner` use the same http long polling mechanism . Servers are discovered via `DruidNodeDiscoveryProvider` abstract class (current implementation is curator/zk based) and then `HTTP long polling` based API is used to keep the state in sync in realtime.\r\nYou pointed to the correct code that is sending the HTTP request. However, that HTTP request is based on the principles of \"long polling\" (also described in https://eucalyptus.atlassian.net/wiki/spaces/ARCH/pages/41713738/HTTP+Long-Polling ) which allows keeping the state synced e.g. updating worker/task status etc updated in realtime.\r\n\r\nNow that is also main difference between `RemoteTaskRunner` and `HttpRemoteTaskRunner` . `RemoteTaskRunner` is hard coded to use zookeeper for all the interactions wherease `HttpRemoteTaskRunner` discovers MMs via an abstract interface that can be implemented with any mechanism (eventually there would be non-zookeeper impls of `DruidNodeDiscoveryProvider` ) and all interaction with MMs are done via HTTP requests.\r\nAside from that some minor design differences are in terms of better handling assigning multiple tasks in parallel to different MMs and also handling many corner cases related to status updates received from MMs .\r\nalso read the thread at https://groups.google.com/d/msg/druid-development/eIWDPfhpM_U/AzMRxSQGAgAJ to learn some of the motivation and overall picture for this work.\r\n\r\nhope that helps.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381379953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381495499","html_url":"https://github.com/apache/druid/pull/2384#issuecomment-381495499","issue_url":"https://api.github.com/repos/apache/druid/issues/2384","id":381495499,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTQ5NTQ5OQ==","user":{"login":"xianyinxin","id":15028683,"node_id":"MDQ6VXNlcjE1MDI4Njgz","avatar_url":"https://avatars.githubusercontent.com/u/15028683?v=4","gravatar_id":"","url":"https://api.github.com/users/xianyinxin","html_url":"https://github.com/xianyinxin","followers_url":"https://api.github.com/users/xianyinxin/followers","following_url":"https://api.github.com/users/xianyinxin/following{/other_user}","gists_url":"https://api.github.com/users/xianyinxin/gists{/gist_id}","starred_url":"https://api.github.com/users/xianyinxin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xianyinxin/subscriptions","organizations_url":"https://api.github.com/users/xianyinxin/orgs","repos_url":"https://api.github.com/users/xianyinxin/repos","events_url":"https://api.github.com/users/xianyinxin/events{/privacy}","received_events_url":"https://api.github.com/users/xianyinxin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T06:43:13Z","updated_at":"2018-04-16T06:43:13Z","author_association":"NONE","body":"Thanks for your hint @michaelschiff , will look into that :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381495499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381563535","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-381563535","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":381563535,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTU2MzUzNQ==","user":{"login":"sixtus","id":91857,"node_id":"MDQ6VXNlcjkxODU3","avatar_url":"https://avatars.githubusercontent.com/u/91857?v=4","gravatar_id":"","url":"https://api.github.com/users/sixtus","html_url":"https://github.com/sixtus","followers_url":"https://api.github.com/users/sixtus/followers","following_url":"https://api.github.com/users/sixtus/following{/other_user}","gists_url":"https://api.github.com/users/sixtus/gists{/gist_id}","starred_url":"https://api.github.com/users/sixtus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixtus/subscriptions","organizations_url":"https://api.github.com/users/sixtus/orgs","repos_url":"https://api.github.com/users/sixtus/repos","events_url":"https://api.github.com/users/sixtus/events{/privacy}","received_events_url":"https://api.github.com/users/sixtus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T11:09:09Z","updated_at":"2018-04-16T11:09:25Z","author_association":"CONTRIBUTOR","body":"status update: we need to restart our historicals every ~12h atm. Heap dumps point at http://www.evanjones.ca/java-bytebuffer-leak.html - we are currently testing the change on one server, looks very promising.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381563535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381648758","html_url":"https://github.com/apache/druid/pull/5649#issuecomment-381648758","issue_url":"https://api.github.com/repos/apache/druid/issues/5649","id":381648758,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTY0ODc1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T15:37:25Z","updated_at":"2018-04-16T15:37:25Z","author_association":"CONTRIBUTOR","body":"What do the test queries return without the patch?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381648758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381653889","html_url":"https://github.com/apache/druid/pull/5649#issuecomment-381653889","issue_url":"https://api.github.com/repos/apache/druid/issues/5649","id":381653889,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTY1Mzg4OQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T15:52:08Z","updated_at":"2018-04-16T15:52:08Z","author_association":"CONTRIBUTOR","body":"@gianm thanks for taking a look it returns nothing `[]`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381653889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381663751","html_url":"https://github.com/apache/druid/pull/5649#issuecomment-381663751","issue_url":"https://api.github.com/repos/apache/druid/issues/5649","id":381663751,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTY2Mzc1MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T16:22:30Z","updated_at":"2018-04-16T16:22:30Z","author_association":"CONTRIBUTOR","body":"If the goal is to get timeseries results to be more SQL-compatible then this patch isn't quite right: we only want it to run for the granularity = all case. SQL queries should only return a \"zeroed out\" row when there is no grouping. And a timeseries query with granularity != all _does_ have a grouping (something like `group by floor(__time to X)`), so it should return no rows at all rather than a \"zeroed out\" row.\r\n\r\nIt probably also makes more sense for this logic to be in the toolChest `mergeResults` rather than in the `mergeRunners`? `mergeRunners` from what I have seen is mainly concerned with taking care of running the runners in parallel, and `mergeResults` is mainly concerned about post-processing stuff.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381663751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381664169","html_url":"https://github.com/apache/druid/pull/5649#issuecomment-381664169","issue_url":"https://api.github.com/repos/apache/druid/issues/5649","id":381664169,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTY2NDE2OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T16:23:47Z","updated_at":"2018-04-16T16:23:47Z","author_association":"CONTRIBUTOR","body":"@b-slim you probably also need to edit the test for `testGroupByWithFilterMatchingNothing`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381664169/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381664455","html_url":"https://github.com/apache/druid/pull/5649#issuecomment-381664455","issue_url":"https://api.github.com/repos/apache/druid/issues/5649","id":381664455,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTY2NDQ1NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T16:24:40Z","updated_at":"2018-04-16T16:24:40Z","author_association":"CONTRIBUTOR","body":"And if we don't already have one, I'd add a test for a query like:\r\n\r\n```\r\nSELECT COUNT(*) FROM foo WHERE dim1 = 'nonexistent' GROUP BY FLOOR(__time TO DAY)\r\n```\r\n\r\nThis one should return no rows.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381664455/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381664771","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-381664771","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":381664771,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTY2NDc3MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T16:25:43Z","updated_at":"2018-04-16T16:25:43Z","author_association":"CONTRIBUTOR","body":"@sixtus Do you mean you added `-Djdk.nio.maxCachedBufferSize=262144`?\r\n\r\nWhat JVM brand / version are you running?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381664771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381672286","html_url":"https://github.com/apache/druid/pull/5649#issuecomment-381672286","issue_url":"https://api.github.com/repos/apache/druid/issues/5649","id":381672286,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTY3MjI4Ng==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T16:46:51Z","updated_at":"2018-04-16T16:46:51Z","author_association":"CONTRIBUTOR","body":"@gianm yes the main drive is to be more or like SQL  standard. But also i though this can be seen as a bugISH case, if you consider interval as a filter then you would expect it to return results like other filter do. Anyway am okay with narrowing this to  Granularity ALL only. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381672286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381696471","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381696471","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381696471,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTY5NjQ3MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T18:05:27Z","updated_at":"2018-04-16T18:05:27Z","author_association":"CONTRIBUTOR","body":"@himanshug thank you for the detailed explanation. Now I understand your point better.\r\n\r\nI'm still curious why HTTP-based stuffs should be implemented based on long-polling while the current ZK-based stuffs are based on pushing. AFAIK, pushing-based systems generally work better than polling-based ones in distributed systems. One of the advantages of pushing is the smaller number of messages. For example, only event notification is required in pushing while request and response are required even in long-polling. As you know, this might affect to the network bandwidth usage as well as the system latency. Would you let me know if you have a good reason?\r\n\r\nIf you think this is a good topic to discuss, I'll raise an issue about it. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381696471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381736269","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381736269","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381736269,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTczNjI2OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T20:21:04Z","updated_at":"2018-04-16T20:22:30Z","author_association":"CONTRIBUTOR","body":"> I'm still curious why HTTP-based stuffs should be implemented based on long-polling while the current ZK-based stuffs are based on pushing.\r\n\r\nMy 2 on this is that polling makes sense for the http designs, since it makes the data nodes \"dumber\" and it's always good to have dumb data nodes. From an implementation standpoint I think we're more likely to have a bug-free system with polling than with pushing. With pushing, we have to deal with what happens if the push target isn't available for some time, and then we get into a snarl of queues and retries on _each data node_, which would all be avoidable with polling.\r\n\r\nAnd in principle, bandwidth could be just as low, since the polling API could be designed to only sync changes made since the last poll. It just requires some sort of counter that is incremented when updates happen. Maybe it is already designed like this - I have not checked into the details.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381736269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381750494","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381750494","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381750494,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc1MDQ5NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T21:10:16Z","updated_at":"2018-04-16T21:10:57Z","author_association":"CONTRIBUTOR","body":"@jihoonson in addition to what @gianm said, \"long polling\" effectively allows you to do \"push\" where connection is initiated from overlord instead of MMs.  .. with \"long polling\", overlord can completely dictate when and how much to sync and ensure that it is not doing more work at one time than it can handle (if MMs were initiating the request then it would be hard to control the flooding at overlord). In current model, MMs don't need to care who needs to sync the state and consequently don't need to figure out overlord leader before sync can begin .. it is especially helpful for segment state sync where multiple nodes, coordinator as well as brokers,   keep the segment state synced with queryable nodes.\r\n\r\n> And in principle, bandwidth could be just as low, since the polling API could be designed to only sync changes made since the last poll. \r\n\r\n@gianm current implementation is designed to sync only delta since last poll . when something goes wrong then it starts with base again. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381750494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381759887","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381759887","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381759887,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc1OTg4Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T21:43:53Z","updated_at":"2018-04-16T21:43:53Z","author_association":"CONTRIBUTOR","body":"> My 2 on this is that polling makes sense for the http designs, since it makes the data nodes \"dumber\" and it's always good to have dumb data nodes. \r\n\r\n@gianm Would you elaborate more on this? I'm not sure what do you mean by \"dumb\" data nodes. I thought all a single data node has to do is notifying state changes to masters (like coordinators or overlords), and this might be simpler in pushing than in polling because data nodes don't have to keep their state change history unless there is a failure while sending notifications.\r\n\r\n> From an implementation standpoint I think we're more likely to have a bug-free system with polling than with pushing. With pushing, we have to deal with what happens if the push target isn't available for some time, and then we get into a snarl of queues and retries on each data node, which would all be avoidable with polling.\r\n\r\nI think it's similar with in polling. Data nodes should keep state changes in their queues or somewhere until the poller comes back to normal and sends requests. The only difference is data nodes don't have to worry about retrying in polling, but the poller has to consider retrying when some data nodes are not available. If it ignores failing to receive responses from some data nodes and hope everything goes well in the next poll, some events might not be seen immediately which increases system latency.\r\n\r\nPolling might be bug-less than pushing even though I don't necessarily agree with that. But, even if it's true, polling inherently has some limitations when compared to pushing like less scalability, higher latency, higher network bandwidth usage, and so on. I know the polling doesn't always cause the problems about these issues. It might be a good solution for some applications which don't need high scalability and low latency. \r\n\r\nHowever, regarding at least latency, I think we need to lower latencies. For example, overlords can run more tasks as the latency to receive task state changes is minimized. Another polling in Druid is how coordinators collect the cluster view (although this doesn't relate to this discussion directly). This causes a significant latency to update segment changes and makes users confused because coordinator UI isn't updated immediately after they added/removed segments.\r\n\r\nI'm not sure about scalability. Do you think our target applications doesn't require such high scalability?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381759887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381759906","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381759906","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381759906,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc1OTkwNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T21:43:57Z","updated_at":"2018-04-16T22:43:46Z","author_association":"CONTRIBUTOR","body":"> \"long polling\" effectively allows you to do \"push\" where connection is initiated from overlord instead of MMs. .. with \"long polling\", overlord can completely dictate when and how much to sync and ensure that it is not doing more work at one time than it can handle (if MMs were initiating the request then it would be hard to control the flooding at overlord).\r\n\r\n@himanshug I'm not sure why it's needed to control the amount of sync data. AFAIK, in task scheduling and segment management of Druid, state changes are not much frequent and overlords and coordinators should be able to handle them very fast. Also, I'm not sure what MMs need to initiate requests. I thought overlords allocate tasks to MMs, and MMs notify task state changes to overlords. Am I missing something?\r\n\r\n> In current model, MMs don't need to care who needs to sync the state and consequently don't need to figure out overlord leader before sync can begin .. it is especially helpful for segment state sync where in addition to multiple nodes, coordinator as well as brokers, keep the segment state synced with queryable nodes.\r\n\r\nThis is true, but masters should still know who are MMs. Well, this might be easier than pushing in which masters and MMs should know each other.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381759906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381761447","html_url":"https://github.com/apache/druid/pull/5634#issuecomment-381761447","issue_url":"https://api.github.com/repos/apache/druid/issues/5634","id":381761447,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc2MTQ0Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T21:49:58Z","updated_at":"2018-04-16T21:49:58Z","author_association":"CONTRIBUTOR","body":"@gianm I've fixed unit test failures. Would you review again?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381761447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381762057","html_url":"https://github.com/apache/druid/pull/5280#issuecomment-381762057","issue_url":"https://api.github.com/repos/apache/druid/issues/5280","id":381762057,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc2MjA1Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T21:52:26Z","updated_at":"2018-04-16T21:52:26Z","author_association":"CONTRIBUTOR","body":"I've added `Design Review` label because already two or more committers are reviewing this.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381762057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381763965","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381763965","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381763965,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc2Mzk2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T22:00:36Z","updated_at":"2018-04-16T22:00:36Z","author_association":"CONTRIBUTOR","body":"> @gianm Would you elaborate more on this? I'm not sure what do you mean by \"dumb\" data nodes. I thought all a single data node has to do is notifying state changes to masters (like coordinators or overlords), and this might be simpler in pushing than in polling because data nodes don't have to keep their state change history unless there is a failure while sending notifications.\r\n\r\nI meant dumb in the sense that all they have to do is respond to requests. With pushing they need to be \"smarter\" in that they have to (a) track all active masters and which state updates have been sent to which masters, (b) handle queuing and retrying of notifications. I think dumb data nodes are easier to get right, and it makes it easier to debug syncing issues as well. Imagine there's a syncing problem- it's easier to debug by looking at the master than to debug by looking at every data node.\r\n\r\n> However, regarding at least latency, I think we need to lower latencies. For example, overlords can run more tasks as the latency to receive task state changes is minimized. Another polling in Druid is how coordinators collect the cluster view (although this doesn't relate to this discussion directly). This causes a significant latency to update segment changes and makes users confused because coordinator UI isn't updated immediately after they added/removed segments.\r\n\r\nLong polling doesn't incur a latency penalty beyond pushing. It's potentially even lower latency, because the channel is already open when the change happens.\r\n\r\nThe only scalability concern I might have with long polling is whether having a connection open permanently for each 'watcher' of each data node is going to exhaust the jetty request pool. But setting the pool size high enough should make that not really an issue. We might want to consider going to async servlets so we can allow effectively unlimited long-polling watchers?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381763965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381775106","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381775106","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381775106,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc3NTEwNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T22:53:31Z","updated_at":"2018-04-16T22:53:31Z","author_association":"CONTRIBUTOR","body":"@jihoonson I'm not sure what more to add here... may be I can address specific concerns you have with design. If your concern is , \"overlord is not receiving task status updates in realtime as soon as they happen on the MMs\". Let me reaffirm that is not the case and overlord learns about the status updates as soon as possible.\r\nor do you have some other concern ?\r\n\r\n\r\n@gianm \r\n> The only scalability concern I might have with long polling is whether having a connection open permanently for each 'watcher' of each data node is going to exhaust the jetty request pool. But setting the pool size high enough should make that not really an issue. We might want to consider going to async servlets so we can allow effectively unlimited long-polling watchers?\r\n\r\nthose end point use asynchronous HTTP and no jetty threads are held while the request waits, e.g. see https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/server/http/SegmentListerResource.java#L141 . Final response is written by the thread that makes the update e.g. the thread that loads/drops the segment in this case. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381775106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381777137","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381777137","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381777137,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc3NzEzNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T23:04:16Z","updated_at":"2018-04-16T23:04:16Z","author_association":"CONTRIBUTOR","body":"@himanshug I think it's fine now. I understand the design and goals of your implementation better. \r\n\r\n@himanshug @gianm thank you for the comments!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381777137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381780662","html_url":"https://github.com/apache/druid/pull/5104#issuecomment-381780662","issue_url":"https://api.github.com/repos/apache/druid/issues/5104","id":381780662,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc4MDY2Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T23:24:41Z","updated_at":"2018-04-16T23:24:41Z","author_association":"CONTRIBUTOR","body":"> those end point use asynchronous HTTP and no jetty threads are held while the request waits, e.g. see https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/server/http/SegmentListerResource.java#L141 . Final response is written by the thread that makes the update e.g. the thread that loads/drops the segment in this case.\r\n\r\nAwesome, that is good to hear @himanshug!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381780662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381784343","html_url":"https://github.com/apache/druid/pull/5640#issuecomment-381784343","issue_url":"https://api.github.com/repos/apache/druid/issues/5640","id":381784343,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc4NDM0Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T23:46:09Z","updated_at":"2018-04-16T23:46:09Z","author_association":"CONTRIBUTOR","body":" ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381784343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381788498","html_url":"https://github.com/apache/druid/pull/5640#issuecomment-381788498","issue_url":"https://api.github.com/repos/apache/druid/issues/5640","id":381788498,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc4ODQ5OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T00:10:33Z","updated_at":"2018-04-17T00:10:33Z","author_association":"CONTRIBUTOR","body":"> I'm not sure if the way I did this is best -- check out mergeResults in the tool chest. I'm open to other suggestions.\r\n\r\nAre you concerning about doing an additional aggregation for grandTotal in brokers instead of, like other metrics, computing pre-merge aggregates in historicals and merging them in brokers? I think it's fine if it's documented.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381788498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381788991","html_url":"https://github.com/apache/druid/pull/5640#issuecomment-381788991","issue_url":"https://api.github.com/repos/apache/druid/issues/5640","id":381788991,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc4ODk5MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T00:13:26Z","updated_at":"2018-04-17T00:13:26Z","author_association":"CONTRIBUTOR","body":"@jihoonson nah I'm not concerned about that. I was mostly wondering if it was kosher to do the accumulation by stuffing things in a side-array while mapping the results sequence. I didn't see a better way to implement it though.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381788991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381792220","html_url":"https://github.com/apache/druid/pull/5640#issuecomment-381792220","issue_url":"https://api.github.com/repos/apache/druid/issues/5640","id":381792220,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc5MjIyMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T00:34:17Z","updated_at":"2018-04-17T00:34:17Z","author_association":"CONTRIBUTOR","body":"I see. I think it's fine.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381792220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381797494","html_url":"https://github.com/apache/druid/pull/5638#issuecomment-381797494","issue_url":"https://api.github.com/repos/apache/druid/issues/5638","id":381797494,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc5NzQ5NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T01:10:07Z","updated_at":"2018-04-17T01:10:07Z","author_association":"CONTRIBUTOR","body":"@jon-wei are you planning to do the backport?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381797494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381830245","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-381830245","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":381830245,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTgzMDI0NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T03:59:26Z","updated_at":"2018-04-17T03:59:26Z","author_association":"MEMBER","body":"@nishantmonu51 do you have more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381830245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381834728","html_url":"https://github.com/apache/druid/issues/5644#issuecomment-381834728","issue_url":"https://api.github.com/repos/apache/druid/issues/5644","id":381834728,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTgzNDcyOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T04:22:45Z","updated_at":"2018-04-17T04:24:52Z","author_association":"CONTRIBUTOR","body":"NB: It is not fully implemented - SQL ROUND is more involved than what we support in the expr language today. So we would need to extend the expr language a bit. Also, we have only implemented it for doubles, but we should implement it for integers too (if the \"length\" arg is negative then rounding an integer does make sense, and it should return a long not a double).\r\n\r\nThis should involved editing \"Round\" in `io.druid.math.expr.Function` and adding a `io.druid.sql.calcite.expression.builtin.RoundOperatorConversion`. The Round expr might want to become an ExprMacro so it can optimize for the likely case that the second parameter is null or a constant.\r\n\r\nSee also,\r\n\r\n- https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions135.htm\r\n- https://docs.microsoft.com/en-us/sql/t-sql/functions/round-transact-sql?view=sql-server-2017\r\n- https://dev.mysql.com/doc/refman/5.7/en/mathematical-functions.html#function_round","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381834728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381835644","html_url":"https://github.com/apache/druid/issues/5644#issuecomment-381835644","issue_url":"https://api.github.com/repos/apache/druid/issues/5644","id":381835644,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTgzNTY0NA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T04:27:22Z","updated_at":"2018-04-17T04:27:22Z","author_association":"CONTRIBUTOR","body":"TIL that SQL ROUND is more complex than I thought","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381835644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381927301","html_url":"https://github.com/apache/druid/issues/4498#issuecomment-381927301","issue_url":"https://api.github.com/repos/apache/druid/issues/4498","id":381927301,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkyNzMwMQ==","user":{"login":"licl2014","id":6941514,"node_id":"MDQ6VXNlcjY5NDE1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6941514?v=4","gravatar_id":"","url":"https://api.github.com/users/licl2014","html_url":"https://github.com/licl2014","followers_url":"https://api.github.com/users/licl2014/followers","following_url":"https://api.github.com/users/licl2014/following{/other_user}","gists_url":"https://api.github.com/users/licl2014/gists{/gist_id}","starred_url":"https://api.github.com/users/licl2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/licl2014/subscriptions","organizations_url":"https://api.github.com/users/licl2014/orgs","repos_url":"https://api.github.com/users/licl2014/repos","events_url":"https://api.github.com/users/licl2014/events{/privacy}","received_events_url":"https://api.github.com/users/licl2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:51:17Z","updated_at":"2018-04-17T09:51:17Z","author_association":"CONTRIBUTOR","body":"@l15k4  \r\n> Can segments produced by tranquility be automatically merged?\r\n\r\nas same as kafka index service.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381927301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/381967773","html_url":"https://github.com/apache/druid/pull/5648#issuecomment-381967773","issue_url":"https://api.github.com/repos/apache/druid/issues/5648","id":381967773,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk2Nzc3Mw==","user":{"login":"yuppie-flu","id":6185911,"node_id":"MDQ6VXNlcjYxODU5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/6185911?v=4","gravatar_id":"","url":"https://api.github.com/users/yuppie-flu","html_url":"https://github.com/yuppie-flu","followers_url":"https://api.github.com/users/yuppie-flu/followers","following_url":"https://api.github.com/users/yuppie-flu/following{/other_user}","gists_url":"https://api.github.com/users/yuppie-flu/gists{/gist_id}","starred_url":"https://api.github.com/users/yuppie-flu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuppie-flu/subscriptions","organizations_url":"https://api.github.com/users/yuppie-flu/orgs","repos_url":"https://api.github.com/users/yuppie-flu/repos","events_url":"https://api.github.com/users/yuppie-flu/events{/privacy}","received_events_url":"https://api.github.com/users/yuppie-flu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T12:05:59Z","updated_at":"2018-04-17T12:05:59Z","author_association":"CONTRIBUTOR","body":"What is going on with tests on CI? Failures look very random...\r\nIs the only solution to restart the build?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/381967773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382018198","html_url":"https://github.com/apache/druid/pull/5648#issuecomment-382018198","issue_url":"https://api.github.com/repos/apache/druid/issues/5648","id":382018198,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjAxODE5OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T14:42:35Z","updated_at":"2018-04-17T14:42:35Z","author_association":"CONTRIBUTOR","body":"We have been having some trouble with the CI infra recently - sorry about that. I restarted the two tests that didn't pass.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382018198/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382070570","html_url":"https://github.com/apache/druid/pull/5492#issuecomment-382070570","issue_url":"https://api.github.com/repos/apache/druid/issues/5492","id":382070570,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjA3MDU3MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T17:10:30Z","updated_at":"2018-04-17T17:10:30Z","author_association":"CONTRIBUTOR","body":"Would anyone review this please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382070570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382079516","html_url":"https://github.com/apache/druid/issues/5658#issuecomment-382079516","issue_url":"https://api.github.com/repos/apache/druid/issues/5658","id":382079516,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjA3OTUxNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T17:39:40Z","updated_at":"2018-04-17T17:39:40Z","author_association":"CONTRIBUTOR","body":"@himanshug do you have any idea?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382079516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382120736","html_url":"https://github.com/apache/druid/issues/5658#issuecomment-382120736","issue_url":"https://api.github.com/repos/apache/druid/issues/5658","id":382120736,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjEyMDczNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T19:54:00Z","updated_at":"2018-04-17T19:54:00Z","author_association":"CONTRIBUTOR","body":"this is expected behavior in `HttpRemoteTaskRunner` . It maintains a list of WorkerHolder instances one per MM which contains information about that worker and the tasks being run by that worker etc. `HttpRemoteTaskRunner.getWorkers()` is powered off of this list.\r\n\r\nAdditionally `HttpRemoteTaskRunner` maintains a globla map  &lt;taskId -> HttpRemoteTaskRunnerWorkItem &gt; which lists the tasks it has been asked to run or it detected from MMs on its startup while syncing with the MMs.\r\n\r\nUsually the global list and the list of merged tasks from individual MMs will match but sometimes they don't and then `HttpRemoteTaskRunner` would ask specific worker to kill a task etc to rectify the situation and they would eventually converge.\r\nFor example, say MM1 was running task1, then MM1 died and didn't come back for 15mins, then `HttpRemoteTaskRunner` would mark task1 failed .... however if MM1 comes back and reports running task1 (say it was a restartable task) then `HttpRemoteTaskRunner` would ask MM1 to kill that task and it would never show up in `HttpRemoteTaskRunner.getRunningTasks()` while it might briefly show up in `getWorkers()` . There would be multiple such corner cases where a MM is doing something that does not match up to what it should be doing from `HttpRemoteTaskRunner` point of view.\r\nIn general, when MMs are being synced then that MMs specific WorkerHolder's list of task gets updated first and then the global list maintained by `HttpRemoteTaskRunner` and there could be a small lag before it starts to show up in global list but they would converge.\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382120736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382121119","html_url":"https://github.com/apache/druid/issues/5658#issuecomment-382121119","issue_url":"https://api.github.com/repos/apache/druid/issues/5658","id":382121119,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjEyMTExOQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T19:55:03Z","updated_at":"2018-04-17T19:55:03Z","author_association":"CONTRIBUTOR","body":"@jihoonson glad to see you're experimenting with Http based stuff . Thanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382121119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382129550","html_url":"https://github.com/apache/druid/issues/5658#issuecomment-382129550","issue_url":"https://api.github.com/repos/apache/druid/issues/5658","id":382129550,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjEyOTU1MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T20:22:43Z","updated_at":"2018-04-17T20:22:43Z","author_association":"CONTRIBUTOR","body":"No problem. Its working well generally. \r\n\r\nBTW, probably I should say how long it takes for task state and worker state to be synchronized. It took about 1 min in my case. And I didnt see any weird logs. Is this normal? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382129550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382131632","html_url":"https://github.com/apache/druid/pull/5659#issuecomment-382131632","issue_url":"https://api.github.com/repos/apache/druid/issues/5659","id":382131632,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjEzMTYzMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T20:30:26Z","updated_at":"2018-04-17T20:30:26Z","author_association":"CONTRIBUTOR","body":"What do you think about making this configurable? I think Epoch time is not much intuitive. Also, even though I hope no one is loading data of 1970-01-01T00:00:00Z timestamp, but it might be an issue if someone does. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382131632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382147122","html_url":"https://github.com/apache/druid/pull/5471#issuecomment-382147122","issue_url":"https://api.github.com/repos/apache/druid/issues/5471","id":382147122,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE0NzEyMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T21:09:23Z","updated_at":"2018-04-17T21:09:23Z","author_association":"CONTRIBUTOR","body":"@samarthjain yes, I tested in my local laptop and used the jar of the same version for all modules.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382147122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382153809","html_url":"https://github.com/apache/druid/pull/5659#issuecomment-382153809","issue_url":"https://api.github.com/repos/apache/druid/issues/5659","id":382153809,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE1MzgwOQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T21:30:03Z","updated_at":"2018-04-17T21:30:03Z","author_association":"CONTRIBUTOR","body":"@jihoonson good point, but am afraid this this will make code more complex for a small gain. Am okay with either ways.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382153809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382172654","html_url":"https://github.com/apache/druid/pull/5624#issuecomment-382172654","issue_url":"https://api.github.com/repos/apache/druid/issues/5624","id":382172654,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE3MjY1NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T22:15:10Z","updated_at":"2018-04-17T22:15:10Z","author_association":"CONTRIBUTOR","body":"Please check the integration test failure.\r\n\r\n```\r\n[ERROR] Tests run: 11, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 1,942.477 s <<< FAILURE! - in TestSuite\r\n[ERROR] testRealtimeIndexTask(io.druid.tests.indexer.ITAppenderatorDriverRealtimeIndexTaskTest)  Time elapsed: 305.888 s  <<< FAILURE!\r\nio.druid.java.util.common.ISE: \r\nError while querying[http://172.17.0.1:8888/druid/v2/] status[502 Bad Gateway] content[<html>\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\"/>\r\n<title>Error 502 Bad Gateway</title>\r\n</head>\r\n<body><h2>HTTP ERROR 502</h2>\r\n<p>Problem accessing /druid/v2. Reason:\r\n<pre>    Bad Gateway</pre></p><hr><a href=\"http://eclipse.org/jetty\">Powered by Jetty:// 9.4.9.v20180320</a><hr/>\r\n</body>\r\n</html>\r\n]\r\n\tat io.druid.tests.indexer.ITAppenderatorDriverRealtimeIndexTaskTest.testRealtimeIndexTask(ITAppenderatorDriverRealtimeIndexTaskTest.java:55)\r\n[ERROR] testRealtimeIndexTask(io.druid.tests.indexer.ITRealtimeIndexTaskTest)  Time elapsed: 305.205 s  <<< FAILURE!\r\nio.druid.java.util.common.ISE: \r\nError while querying[http://172.17.0.1:8888/druid/v2/] status[502 Bad Gateway] content[<html>\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\"/>\r\n<title>Error 502 Bad Gateway</title>\r\n</head>\r\n<body><h2>HTTP ERROR 502</h2>\r\n<p>Problem accessing /druid/v2. Reason:\r\n<pre>    Bad Gateway</pre></p><hr><a href=\"http://eclipse.org/jetty\">Powered by Jetty:// 9.4.9.v20180320</a><hr/>\r\n</body>\r\n</html>\r\n]\r\n\tat io.druid.tests.indexer.ITRealtimeIndexTaskTest.testRealtimeIndexTask(ITRealtimeIndexTaskTest.java:56)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382172654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382206949","html_url":"https://github.com/apache/druid/pull/5659#issuecomment-382206949","issue_url":"https://api.github.com/repos/apache/druid/issues/5659","id":382206949,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjIwNjk0OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T00:52:11Z","updated_at":"2018-04-18T00:52:11Z","author_association":"CONTRIBUTOR","body":"I'm not sure about how much this change benefits to users. But, at least in SQL world, grouping keys should be null if they cannot be determined. With this patch, I guess we should add a transform code to map the Epoch time to null to somewhere to support this feature in Druid's SQL as well. I think it would be better to make the unknown value configurable rather than adding such a transform.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382206949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382208204","html_url":"https://github.com/apache/druid/pull/5659#issuecomment-382208204","issue_url":"https://api.github.com/repos/apache/druid/issues/5659","id":382208204,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjIwODIwNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T00:58:41Z","updated_at":"2018-04-18T00:58:41Z","author_association":"CONTRIBUTOR","body":"Hmm. You're right about the SQL point - I forgot about that - but null will make this more compatible with GROUPING SETS. In light of that I think I should close this PR and keep it the way it is.\r\n\r\n@b-slim what do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382208204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382226032","html_url":"https://github.com/apache/druid/pull/5659#issuecomment-382226032","issue_url":"https://api.github.com/repos/apache/druid/issues/5659","id":382226032,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjIyNjAzMg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T02:19:58Z","updated_at":"2018-04-18T02:20:34Z","author_association":"CONTRIBUTOR","body":"am okay with keeping it `null`.  But am wondering how `null` is more suited for SQL. In my mind i thought the timestamp is ignored anyway from the results set since it is not part of the row signature. So let say user issue `select count(*)` it gets translated to `Timeseries` with Granularity `all` and `count` aggregator even tho Druid returns an event that has a timestamp, the result parser does ignore it anyway, in other words timestamp is not part of the grouping key once we do the grandTotal aggregate. am i missing something here?  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382226032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382258670","html_url":"https://github.com/apache/druid/issues/5658#issuecomment-382258670","issue_url":"https://api.github.com/repos/apache/druid/issues/5658","id":382258670,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI1ODY3MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T04:39:26Z","updated_at":"2018-04-18T04:39:26Z","author_association":"CONTRIBUTOR","body":"1 min might be ok in failure cases where a MM was found doing something it wasn't supposed to and instructed to kill a task etc.\r\nalso , on overlord startup it might be ok as it would be discovering all the MMs and tasks they run and then update the global list of tasks based on those , calling listeners etc.\r\n\r\nbut, in general, the lag should just be getting the status update[s] from MM and then updating the global list, and 1 min sounds a bit higher for that.\r\nhttps://github.com/druid-io/druid/blob/master/indexing-service/src/main/java/io/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java#L1136 is the code that gets called to update the global list for each task status discovered from MMs.  there are locks there to ensure correctness but even with that it shouldn't take upto a min for global list to be updated.\r\ndo you always notice close to 1 min lag or it just happened once or something ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382258670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382261777","html_url":"https://github.com/apache/druid/pull/5659#issuecomment-382261777","issue_url":"https://api.github.com/repos/apache/druid/issues/5659","id":382261777,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI2MTc3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T04:58:29Z","updated_at":"2018-04-18T04:58:29Z","author_association":"CONTRIBUTOR","body":"With granularity all the time stamp isnt part of the grouping key, but it is for any other granularity. In that case, for a SQL query with a totals row, the time stamp should be null in that totals row (for example like in https://blogs.technet.microsoft.com/benjamin/2017/06/13/sql-tip-creating-a-grand-total-and-additional-subtotals/).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382261777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382304732","html_url":"https://github.com/apache/druid/pull/5660#issuecomment-382304732","issue_url":"https://api.github.com/repos/apache/druid/issues/5660","id":382304732,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMwNDczMg==","user":{"login":"josephglanville","id":605591,"node_id":"MDQ6VXNlcjYwNTU5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/605591?v=4","gravatar_id":"","url":"https://api.github.com/users/josephglanville","html_url":"https://github.com/josephglanville","followers_url":"https://api.github.com/users/josephglanville/followers","following_url":"https://api.github.com/users/josephglanville/following{/other_user}","gists_url":"https://api.github.com/users/josephglanville/gists{/gist_id}","starred_url":"https://api.github.com/users/josephglanville/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josephglanville/subscriptions","organizations_url":"https://api.github.com/users/josephglanville/orgs","repos_url":"https://api.github.com/users/josephglanville/repos","events_url":"https://api.github.com/users/josephglanville/events{/privacy}","received_events_url":"https://api.github.com/users/josephglanville/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:18:42Z","updated_at":"2018-04-18T08:18:42Z","author_association":"CONTRIBUTOR","body":"Individual CLA has been submitted.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382304732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382322925","html_url":"https://github.com/apache/druid/issues/5661#issuecomment-382322925","issue_url":"https://api.github.com/repos/apache/druid/issues/5661","id":382322925,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMyMjkyNQ==","user":{"login":"JeKuOrdina","id":37252126,"node_id":"MDQ6VXNlcjM3MjUyMTI2","avatar_url":"https://avatars.githubusercontent.com/u/37252126?v=4","gravatar_id":"","url":"https://api.github.com/users/JeKuOrdina","html_url":"https://github.com/JeKuOrdina","followers_url":"https://api.github.com/users/JeKuOrdina/followers","following_url":"https://api.github.com/users/JeKuOrdina/following{/other_user}","gists_url":"https://api.github.com/users/JeKuOrdina/gists{/gist_id}","starred_url":"https://api.github.com/users/JeKuOrdina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JeKuOrdina/subscriptions","organizations_url":"https://api.github.com/users/JeKuOrdina/orgs","repos_url":"https://api.github.com/users/JeKuOrdina/repos","events_url":"https://api.github.com/users/JeKuOrdina/events{/privacy}","received_events_url":"https://api.github.com/users/JeKuOrdina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T09:22:08Z","updated_at":"2018-04-18T09:22:53Z","author_association":"NONE","body":"Wrong forum,  I've moved the post to the google discussion group","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382322925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382342559","html_url":"https://github.com/apache/druid/issues/5343#issuecomment-382342559","issue_url":"https://api.github.com/repos/apache/druid/issues/5343","id":382342559,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM0MjU1OQ==","user":{"login":"sohelsarder","id":8221377,"node_id":"MDQ6VXNlcjgyMjEzNzc=","avatar_url":"https://avatars.githubusercontent.com/u/8221377?v=4","gravatar_id":"","url":"https://api.github.com/users/sohelsarder","html_url":"https://github.com/sohelsarder","followers_url":"https://api.github.com/users/sohelsarder/followers","following_url":"https://api.github.com/users/sohelsarder/following{/other_user}","gists_url":"https://api.github.com/users/sohelsarder/gists{/gist_id}","starred_url":"https://api.github.com/users/sohelsarder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohelsarder/subscriptions","organizations_url":"https://api.github.com/users/sohelsarder/orgs","repos_url":"https://api.github.com/users/sohelsarder/repos","events_url":"https://api.github.com/users/sohelsarder/events{/privacy}","received_events_url":"https://api.github.com/users/sohelsarder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T10:33:33Z","updated_at":"2018-04-18T10:37:12Z","author_association":"NONE","body":"I am using druid version .12.0, I am getting this same error, here is the error log from  middle-manager,\r\n-------------------------------------------\r\n2018-04-18T09:45:10,159 INFO [forking-task-runner-2] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_test1_4454ee7eece418b_ficeeefj] location changed to [TaskLocation{host='ubuntu16.04', port=8100, tlsPort=-1}].\r\n2018-04-18T09:45:10,159 INFO [forking-task-runner-2] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_test1_4454ee7eece418b_ficeeefj] status changed to [RUNNING].\r\n2018-04-18T09:45:10,159 INFO [forking-task-runner-2] io.druid.indexing.overlord.ForkingTaskRunner - Logging task index_kafka_test1_4454ee7eece418b_ficeeefj output to: var/druid/task/index_kafka_test1_4454ee7eece418b_ficeeefj/log\r\n2018-04-18T09:45:10,159 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Updating task [index_kafka_test1_4454ee7eece418b_ficeeefj] announcement with location [TaskLocation{host='ubuntu16.04', port=8100, tlsPort=-1}]\r\n2018-04-18T09:45:15,161 INFO [qtp1733903473-26] io.druid.indexing.overlord.ForkingTaskRunner - Killing process for task: index_kafka_test1_4454ee7eece418b_ficeeefj\r\n2018-04-18T09:45:15,162 INFO [forking-task-runner-2] io.druid.indexing.common.tasklogs.FileTaskLogs - Wrote task log to: var/druid/indexing-logs/index_kafka_test1_4454ee7eece418b_ficeeefj.log\r\n2018-04-18T09:45:15,163 INFO [forking-task-runner-2] io.druid.indexing.overlord.ForkingTaskRunner - Exception caught during execution\r\njava.io.IOException: Stream closed\r\n        at java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:170) ~[?:1.8.0_161]\r\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:291) ~[?:1.8.0_161]\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:345) ~[?:1.8.0_161]\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:107) ~[?:1.8.0_161]\r\n        at com.google.common.io.ByteStreams.copy(ByteStreams.java:175) ~[guava-16.0.1.jar:?]\r\n        at io.druid.indexing.overlord.ForkingTaskRunner$1.call(ForkingTaskRunner.java:452) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n        at io.druid.indexing.overlord.ForkingTaskRunner$1.call(ForkingTaskRunner.java:224) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_161]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_161]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]\r\n2018-04-18T09:45:15,165 INFO [forking-task-runner-2] io.druid.indexing.overlord.ForkingTaskRunner - Removing task directory: var/druid/task/index_kafka_test1_4454ee7eece418b_ficeeefj\r\n2018-04-18T09:45:15,166 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Job's finished. Completed [index_kafka_test1_4454ee7eece418b_ficeeefj] with status [FAILED]\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382342559/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382355809","html_url":"https://github.com/apache/druid/issues/5641#issuecomment-382355809","issue_url":"https://api.github.com/repos/apache/druid/issues/5641","id":382355809,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM1NTgwOQ==","user":{"login":"varaga","id":31006611,"node_id":"MDQ6VXNlcjMxMDA2NjEx","avatar_url":"https://avatars.githubusercontent.com/u/31006611?v=4","gravatar_id":"","url":"https://api.github.com/users/varaga","html_url":"https://github.com/varaga","followers_url":"https://api.github.com/users/varaga/followers","following_url":"https://api.github.com/users/varaga/following{/other_user}","gists_url":"https://api.github.com/users/varaga/gists{/gist_id}","starred_url":"https://api.github.com/users/varaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/varaga/subscriptions","organizations_url":"https://api.github.com/users/varaga/orgs","repos_url":"https://api.github.com/users/varaga/repos","events_url":"https://api.github.com/users/varaga/events{/privacy}","received_events_url":"https://api.github.com/users/varaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T11:31:31Z","updated_at":"2018-04-18T11:32:03Z","author_association":"CONTRIBUTOR","body":"Hi @gianm  - Apologies for getting back to you late. I had to check in the company to confirm contribution.\r\nSo, sure I will contribute this.\r\nShould there be a JIRA on this? Or use this ticket no for git branch ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382355809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382382832","html_url":"https://github.com/apache/druid/pull/5597#issuecomment-382382832","issue_url":"https://api.github.com/repos/apache/druid/issues/5597","id":382382832,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM4MjgzMg==","user":{"login":"scrawfor","id":7061689,"node_id":"MDQ6VXNlcjcwNjE2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/7061689?v=4","gravatar_id":"","url":"https://api.github.com/users/scrawfor","html_url":"https://github.com/scrawfor","followers_url":"https://api.github.com/users/scrawfor/followers","following_url":"https://api.github.com/users/scrawfor/following{/other_user}","gists_url":"https://api.github.com/users/scrawfor/gists{/gist_id}","starred_url":"https://api.github.com/users/scrawfor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scrawfor/subscriptions","organizations_url":"https://api.github.com/users/scrawfor/orgs","repos_url":"https://api.github.com/users/scrawfor/repos","events_url":"https://api.github.com/users/scrawfor/events{/privacy}","received_events_url":"https://api.github.com/users/scrawfor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T13:17:29Z","updated_at":"2018-04-18T13:17:29Z","author_association":"CONTRIBUTOR","body":"Done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382382832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382418764","html_url":"https://github.com/apache/druid/pull/5597#issuecomment-382418764","issue_url":"https://api.github.com/repos/apache/druid/issues/5597","id":382418764,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQxODc2NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:02:57Z","updated_at":"2018-04-18T15:02:57Z","author_association":"CONTRIBUTOR","body":"@scrawfor not sure how this is different from `null` filter but it is okay if you like reading noop instead.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382418764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382419117","html_url":"https://github.com/apache/druid/pull/5659#issuecomment-382419117","issue_url":"https://api.github.com/repos/apache/druid/issues/5659","id":382419117,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQxOTExNw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:03:59Z","updated_at":"2018-04-18T15:03:59Z","author_association":"CONTRIBUTOR","body":"@gianm thanks i was not aware of that then we should use `null`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382419117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/382437784","html_url":"https://github.com/apache/druid/pull/5659#issuecomment-382437784","issue_url":"https://api.github.com/repos/apache/druid/issues/5659","id":382437784,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQzNzc4NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:57:26Z","updated_at":"2018-04-18T15:57:26Z","author_association":"CONTRIBUTOR","body":"Closing this then. Thanks for reviewing @b-slim & @jihoonson ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/382437784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]