[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034541847","html_url":"https://github.com/apache/iceberg/issues/4074#issuecomment-1034541847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4074","id":1034541847,"node_id":"IC_kwDOCW7NX849qdsX","user":{"login":"wuwenchi","id":19755729,"node_id":"MDQ6VXNlcjE5NzU1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/19755729?v=4","gravatar_id":"","url":"https://api.github.com/users/wuwenchi","html_url":"https://github.com/wuwenchi","followers_url":"https://api.github.com/users/wuwenchi/followers","following_url":"https://api.github.com/users/wuwenchi/following{/other_user}","gists_url":"https://api.github.com/users/wuwenchi/gists{/gist_id}","starred_url":"https://api.github.com/users/wuwenchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuwenchi/subscriptions","organizations_url":"https://api.github.com/users/wuwenchi/orgs","repos_url":"https://api.github.com/users/wuwenchi/repos","events_url":"https://api.github.com/users/wuwenchi/events{/privacy}","received_events_url":"https://api.github.com/users/wuwenchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T06:24:55Z","updated_at":"2022-02-10T09:11:52Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer  Thank you for your answer. I incorporated the pr you mentioned, but the phenomenon persists. \r\nI think this might not be the same problem as yours.\r\nI followed the process and the problem seems to be in the **isPartialFileScan** function.\r\nThis function is fine if using avro format data files.\r\nHowever, when using data files in parquet format, since the initial state of the parquet file itself has a 4-byte offset, the judgment here is wrong, even if it is a complete parquet file, it will return true here.\r\n\r\nShould a judgment be made on the file format here? If it is in parquet format, we need to add an initial offset of 4 bytes to **fileScanTask.length()**.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034541847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034546009","html_url":"https://github.com/apache/iceberg/pull/4080#issuecomment-1034546009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4080","id":1034546009,"node_id":"IC_kwDOCW7NX849qetZ","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T06:32:20Z","updated_at":"2022-02-10T06:32:20Z","author_association":"NONE","body":"Why can't it be used in production, and what if I want to use it in production? Can you help me understand?\r\n\r\n@andersonm-ibm ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034546009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034553840","html_url":"https://github.com/apache/iceberg/pull/4080#issuecomment-1034553840","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4080","id":1034553840,"node_id":"IC_kwDOCW7NX849qgnw","user":{"login":"andersonm-ibm","id":63074550,"node_id":"MDQ6VXNlcjYzMDc0NTUw","avatar_url":"https://avatars.githubusercontent.com/u/63074550?v=4","gravatar_id":"","url":"https://api.github.com/users/andersonm-ibm","html_url":"https://github.com/andersonm-ibm","followers_url":"https://api.github.com/users/andersonm-ibm/followers","following_url":"https://api.github.com/users/andersonm-ibm/following{/other_user}","gists_url":"https://api.github.com/users/andersonm-ibm/gists{/gist_id}","starred_url":"https://api.github.com/users/andersonm-ibm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andersonm-ibm/subscriptions","organizations_url":"https://api.github.com/users/andersonm-ibm/orgs","repos_url":"https://api.github.com/users/andersonm-ibm/repos","events_url":"https://api.github.com/users/andersonm-ibm/events{/privacy}","received_events_url":"https://api.github.com/users/andersonm-ibm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T06:47:28Z","updated_at":"2022-02-10T06:47:28Z","author_association":"NONE","body":"> Why can't it be used in production, and what if I want to use it in production? Can you help me understand?\r\n> \r\n> @andersonm-ibm\r\n\r\nHi @liujinhui1994 . This can be used as the basis for the production-grade KMS client. However, some of the reasons for this not being production-ready, in no specific order:\r\n\r\n- We won't be supporting changes in Vault API, which might break this client , or maintaining different versions of this client\r\n- More flexibility might be needed in the definition of the path to the transit engine, which in this example is hardcoded to  \"/v1/transit\"\r\n- The final decision on how to pass the access token might depend on the production environment and company policies\r\n- Error handling can be made more tailored to specific use cases. For example, if you need to differentiate the cases where Vault doesn't grant access to the keys, then you would define a specific exception\r\n- More rigorous testing would be required to cover all the scenarios relevant to a production environment","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034553840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034597105","html_url":"https://github.com/apache/iceberg/pull/4080#issuecomment-1034597105","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4080","id":1034597105,"node_id":"IC_kwDOCW7NX849qrLx","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T07:53:29Z","updated_at":"2022-02-10T07:53:29Z","author_association":"NONE","body":"@andersonm-ibm  Please help me understand https://github.com/apache/iceberg/pull/3470 why not use parquet KMSClient here but wrap one myself.\r\norg.apache.parquet.crypto.keytools.KmsClient\r\nthanks~","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034597105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034656040","html_url":"https://github.com/apache/iceberg/pull/4080#issuecomment-1034656040","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4080","id":1034656040,"node_id":"IC_kwDOCW7NX849q5ko","user":{"login":"andersonm-ibm","id":63074550,"node_id":"MDQ6VXNlcjYzMDc0NTUw","avatar_url":"https://avatars.githubusercontent.com/u/63074550?v=4","gravatar_id":"","url":"https://api.github.com/users/andersonm-ibm","html_url":"https://github.com/andersonm-ibm","followers_url":"https://api.github.com/users/andersonm-ibm/followers","following_url":"https://api.github.com/users/andersonm-ibm/following{/other_user}","gists_url":"https://api.github.com/users/andersonm-ibm/gists{/gist_id}","starred_url":"https://api.github.com/users/andersonm-ibm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andersonm-ibm/subscriptions","organizations_url":"https://api.github.com/users/andersonm-ibm/orgs","repos_url":"https://api.github.com/users/andersonm-ibm/repos","events_url":"https://api.github.com/users/andersonm-ibm/events{/privacy}","received_events_url":"https://api.github.com/users/andersonm-ibm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T08:56:49Z","updated_at":"2022-02-10T08:56:49Z","author_association":"NONE","body":"> @andersonm-ibm Please help me understand #3470 why not use parquet KMSClient here but wrap one myself. org.apache.parquet.crypto.keytools.KmsClient thanks~\r\n\r\nIf I understand correctly your question, you're asking why do we have a separate KmsClient interface in Iceberg, different from the one defined in parquet. \r\nThen @ggershinsky would be the best person to answer you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034656040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034667620","html_url":"https://github.com/apache/iceberg/issues/3951#issuecomment-1034667620","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3951","id":1034667620,"node_id":"IC_kwDOCW7NX849q8Zk","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T09:08:10Z","updated_at":"2022-02-10T09:08:10Z","author_association":"CONTRIBUTOR","body":"try this:   [Docker, Spark, and Iceberg: The Fastest Way to Try Iceberg!](https://tabular.io/blog/docker-spark-and-iceberg/)           ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034667620/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034880588","html_url":"https://github.com/apache/iceberg/pull/4080#issuecomment-1034880588","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4080","id":1034880588,"node_id":"IC_kwDOCW7NX849rwZM","user":{"login":"andersonm-ibm","id":63074550,"node_id":"MDQ6VXNlcjYzMDc0NTUw","avatar_url":"https://avatars.githubusercontent.com/u/63074550?v=4","gravatar_id":"","url":"https://api.github.com/users/andersonm-ibm","html_url":"https://github.com/andersonm-ibm","followers_url":"https://api.github.com/users/andersonm-ibm/followers","following_url":"https://api.github.com/users/andersonm-ibm/following{/other_user}","gists_url":"https://api.github.com/users/andersonm-ibm/gists{/gist_id}","starred_url":"https://api.github.com/users/andersonm-ibm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andersonm-ibm/subscriptions","organizations_url":"https://api.github.com/users/andersonm-ibm/orgs","repos_url":"https://api.github.com/users/andersonm-ibm/repos","events_url":"https://api.github.com/users/andersonm-ibm/events{/privacy}","received_events_url":"https://api.github.com/users/andersonm-ibm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T12:45:48Z","updated_at":"2022-02-10T12:45:48Z","author_association":"NONE","body":"> > Why can't it be used in production, and what if I want to use it in production? Can you help me understand?\r\n> > @andersonm-ibm\r\n> \r\n> Hi @liujinhui1994 . This can be used as the basis for the production-grade KMS client. However, some of the reasons for this not being production-ready, in no specific order:\r\n> \r\n>     * We won't be supporting changes in Vault API, which might break this client , or maintaining different versions of this client\r\n> \r\n>     * More flexibility might be needed in the definition of the path to the transit engine, which in this example is hardcoded to  \"/v1/transit\"\r\n> \r\n>     * The final decision on how to pass the access token might depend on the production environment and company policies\r\n> \r\n>     * Error handling can be made more tailored to specific use cases. For example, if you need to differentiate the cases where Vault doesn't grant access to the keys, then you would define a specific exception\r\n> \r\n>     * More rigorous testing would be required to cover all the scenarios relevant to a production environment\r\n\r\nAnd, of course, a large and important missing part here is token lifecycle management.\r\nIt would be interesting to hear about various usage scenarios in order to understand which token lifecycle events to support.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034880588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034896512","html_url":"https://github.com/apache/iceberg/pull/4080#issuecomment-1034896512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4080","id":1034896512,"node_id":"IC_kwDOCW7NX849r0SA","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T13:03:09Z","updated_at":"2022-02-10T13:40:18Z","author_association":"CONTRIBUTOR","body":"> The KMS client is configured with Hadoop configuration properties:\r\n\r\nI think the url is better set as a table property","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034896512/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034901947","html_url":"https://github.com/apache/iceberg/pull/4080#issuecomment-1034901947","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4080","id":1034901947,"node_id":"IC_kwDOCW7NX849r1m7","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T13:06:58Z","updated_at":"2022-02-10T13:06:58Z","author_association":"CONTRIBUTOR","body":"> The token is passed as a hadoop property and not as an environment variable because of consistency. Security of the token is less of an issue here than in a file keystore, since it should be a non-root token that has a time-to-live (TTL).\r\n\r\nAgreed, though something like a ramdisk file can be better than a hadoop property (easier to refresh the token contents once in TTL, and less dependency on hadoop; the latter though should not be a big issue in a sample)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034901947/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034905316","html_url":"https://github.com/apache/iceberg/pull/4080#issuecomment-1034905316","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4080","id":1034905316,"node_id":"IC_kwDOCW7NX849r2bk","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T13:10:26Z","updated_at":"2022-02-10T13:10:26Z","author_association":"CONTRIBUTOR","body":"> why do we have a separate KmsClient interface in Iceberg, different from the one defined in parquet.\r\n\r\nWe build a general key management layer in Iceberg encryption, that will work for all Iceberg data formats, so it should not depend on parquet. Also, this KmsClient is cleaner and more intuitive than what we have in parquet-mr.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1034905316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035061186","html_url":"https://github.com/apache/iceberg/issues/4086#issuecomment-1035061186","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4086","id":1035061186,"node_id":"IC_kwDOCW7NX849scfC","user":{"login":"Zhangg7723","id":18146312,"node_id":"MDQ6VXNlcjE4MTQ2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18146312?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangg7723","html_url":"https://github.com/Zhangg7723","followers_url":"https://api.github.com/users/Zhangg7723/followers","following_url":"https://api.github.com/users/Zhangg7723/following{/other_user}","gists_url":"https://api.github.com/users/Zhangg7723/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangg7723/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangg7723/subscriptions","organizations_url":"https://api.github.com/users/Zhangg7723/orgs","repos_url":"https://api.github.com/users/Zhangg7723/repos","events_url":"https://api.github.com/users/Zhangg7723/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangg7723/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T15:33:53Z","updated_at":"2022-02-10T15:33:53Z","author_association":"CONTRIBUTOR","body":"Maybe you miss spark catalog configuration in spark conf，TestSpark3Util.testLoadIcebergTable() will show you how to load an iceberg table","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035061186/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035085119","html_url":"https://github.com/apache/iceberg/pull/4076#issuecomment-1035085119","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4076","id":1035085119,"node_id":"IC_kwDOCW7NX849siU_","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T15:53:30Z","updated_at":"2022-02-10T15:53:30Z","author_association":"CONTRIBUTOR","body":"Cool, removed the spelling change and just kept the logger change. Let me know what you think @nastra @jackye1995 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035085119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035093823","html_url":"https://github.com/apache/iceberg/pull/4082#issuecomment-1035093823","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4082","id":1035093823,"node_id":"IC_kwDOCW7NX849skc_","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T16:00:44Z","updated_at":"2022-02-10T16:00:44Z","author_association":"CONTRIBUTOR","body":"Thanks for getting this in so quickly, @amogh-jahagirdar! Nice work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035093823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035101244","html_url":"https://github.com/apache/iceberg/issues/3206#issuecomment-1035101244","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3206","id":1035101244,"node_id":"IC_kwDOCW7NX849smQ8","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T16:06:42Z","updated_at":"2022-02-10T16:06:42Z","author_association":"CONTRIBUTOR","body":"Yes, Zstd for Avro would be great if Avro supports it. I'd go with whatever the default is in the Zstd library.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035101244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035104041","html_url":"https://github.com/apache/iceberg/pull/4061#issuecomment-1035104041","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4061","id":1035104041,"node_id":"IC_kwDOCW7NX849sm8p","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T16:09:01Z","updated_at":"2022-02-10T16:09:01Z","author_association":"CONTRIBUTOR","body":"@liuml07, there isn't a need to backport. People interested in those versions can choose whether they want to backport new features like this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035104041/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035105681","html_url":"https://github.com/apache/iceberg/pull/4061#issuecomment-1035105681","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4061","id":1035105681,"node_id":"IC_kwDOCW7NX849snWR","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T16:10:19Z","updated_at":"2022-02-10T16:10:19Z","author_association":"CONTRIBUTOR","body":"Thanks, @liuml07!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035105681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035106147","html_url":"https://github.com/apache/iceberg/pull/4084#issuecomment-1035106147","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4084","id":1035106147,"node_id":"IC_kwDOCW7NX849sndj","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T16:10:42Z","updated_at":"2022-02-10T16:10:42Z","author_association":"CONTRIBUTOR","body":"Thanks, @dongjoon-hyun!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035106147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035112432","html_url":"https://github.com/apache/iceberg/issues/4046#issuecomment-1035112432","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4046","id":1035112432,"node_id":"IC_kwDOCW7NX849so_w","user":{"login":"Zhangg7723","id":18146312,"node_id":"MDQ6VXNlcjE4MTQ2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18146312?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangg7723","html_url":"https://github.com/Zhangg7723","followers_url":"https://api.github.com/users/Zhangg7723/followers","following_url":"https://api.github.com/users/Zhangg7723/following{/other_user}","gists_url":"https://api.github.com/users/Zhangg7723/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangg7723/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangg7723/subscriptions","organizations_url":"https://api.github.com/users/Zhangg7723/orgs","repos_url":"https://api.github.com/users/Zhangg7723/repos","events_url":"https://api.github.com/users/Zhangg7723/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangg7723/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T16:15:46Z","updated_at":"2022-02-10T16:15:46Z","author_association":"CONTRIBUTOR","body":"Iceberg has provided the metric api of data files, I think the pushdown should be implemented in the SQL engine, maybe build a  plan with a datasource that collect the statistics。","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035112432/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035117292","html_url":"https://github.com/apache/iceberg/pull/3912#issuecomment-1035117292","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3912","id":1035117292,"node_id":"IC_kwDOCW7NX849sqLs","user":{"login":"humengyu2012","id":45056332,"node_id":"MDQ6VXNlcjQ1MDU2MzMy","avatar_url":"https://avatars.githubusercontent.com/u/45056332?v=4","gravatar_id":"","url":"https://api.github.com/users/humengyu2012","html_url":"https://github.com/humengyu2012","followers_url":"https://api.github.com/users/humengyu2012/followers","following_url":"https://api.github.com/users/humengyu2012/following{/other_user}","gists_url":"https://api.github.com/users/humengyu2012/gists{/gist_id}","starred_url":"https://api.github.com/users/humengyu2012/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/humengyu2012/subscriptions","organizations_url":"https://api.github.com/users/humengyu2012/orgs","repos_url":"https://api.github.com/users/humengyu2012/repos","events_url":"https://api.github.com/users/humengyu2012/events{/privacy}","received_events_url":"https://api.github.com/users/humengyu2012/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T16:19:46Z","updated_at":"2022-02-10T19:12:21Z","author_association":"NONE","body":"Can anyone tell me what to do next? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035117292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035146220","html_url":"https://github.com/apache/iceberg/pull/4084#issuecomment-1035146220","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4084","id":1035146220,"node_id":"IC_kwDOCW7NX849sxPs","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T16:43:47Z","updated_at":"2022-02-10T16:43:47Z","author_association":"MEMBER","body":"Thank you, @rdblue .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035146220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035194380","html_url":"https://github.com/apache/iceberg/issues/4086#issuecomment-1035194380","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4086","id":1035194380,"node_id":"IC_kwDOCW7NX849s9AM","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T17:20:20Z","updated_at":"2022-02-10T17:20:20Z","author_association":"MEMBER","body":"@lordk911 the issue here is that the \"HiveCatalog\" you are creating in the code does not have information required for Spark to actually locate the table. Instead get the table reference through Spark by using \r\n\r\nhttps://github.com/apache/iceberg/blob/4d7837093bd19a42237446a9b656a248e106b789/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/Spark3Util.java#L634-L649\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035194380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035207088","html_url":"https://github.com/apache/iceberg/issues/4086#issuecomment-1035207088","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4086","id":1035207088,"node_id":"IC_kwDOCW7NX849tAGw","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T17:29:46Z","updated_at":"2022-02-10T17:30:03Z","author_association":"COLLABORATOR","body":"Yea I hit this too , maybe we should update the docs.. existing docs seem to indicate you can load the Table from a new HiveCatalog and expect it to work with SparkActions, which seemed pretty logical at the time.\r\n\r\nhttps://iceberg.apache.org/docs/latest/maintenance/\r\nhttps://iceberg.apache.org/docs/latest/java-api-quickstart/#create-a-table\r\n\r\nAlso just wondering, there's no way to strip the catalog before loading the table in the Spark3BinPackStrategy and have it work, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035207088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035215465","html_url":"https://github.com/apache/iceberg/issues/4086#issuecomment-1035215465","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4086","id":1035215465,"node_id":"IC_kwDOCW7NX849tCJp","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T17:36:42Z","updated_at":"2022-02-10T17:36:42Z","author_association":"MEMBER","body":"> Also just wondering, there's no way to strip the catalog before loading the table in the Spark3BinPackStrategy and have it work, right?\r\n\r\nYeah unfortunately the way we have it set up now is that we work directly on the \"table\" object passed in and if it is missing catalog information there is no way to get it back.\r\n\r\nThen we we actually do our read we are using the Spark API which means we need the catalog so we can actually have all the Spark machinery work correctly. We could probably re-implement this read so that we pass in a manually constructed SparkTable object but that seems like a bit of work.\r\n\r\nSee\r\nhttps://github.com/apache/iceberg/blob/1e5abcece00d835235dccf0b902ffd988cbded0d/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/Spark3BinPackStrategy.java#L64-L77","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035215465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035345999","html_url":"https://github.com/apache/iceberg/pull/4071#issuecomment-1035345999","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4071","id":1035345999,"node_id":"IC_kwDOCW7NX849tiBP","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T18:59:39Z","updated_at":"2022-02-10T18:59:39Z","author_association":"CONTRIBUTOR","body":"This seems much like the `ManageSnapshots` API to me. I'm wondering how we should proceed.\r\n\r\nBackground on `ManageSnapshots`: this is the API that we use to cherry-pick snapshots and do rollbacks. These high-level operations are really similar to what's happening here. A rollback is setting the snapshot for the main branch, a cherry-pick moves a snapshot between branches (if possible), and you can also set the current snapshot. One thing that I've wanted to do with this API for a while is to make it possible to perform multiple changes as a transaction. That is, pick more than one snapshot and then commit.\r\n\r\nI think these changes might fit well into `ManageSnapshots`. This could enable doing things like `createBranch` and then cherry-pick into that branch. Plus, we'll need to update `ManageSnapshots` for branching and tagging anyway. Things like cherry-pick to a branch other than `main` and cherry-picking a snapshot by tag rather than by ID.\r\n\r\nAlso, one of the concerns I have with the current PR is the set of operations that we're exposing. For example, doesn't make sense to me to just have `branch` without some associated verb, like `createBranch`, `replaceBranch`, or `removeBranch`.\r\n\r\nSo what I propose is to add these changes to `ManageSnapshots` and extend the API like this:\r\n* Add `createBranch`, `replaceBranch`, `removeBranch`, and `renameBranch`\r\n* Add `createTag`, `replaceTag` and `removeTag` (not `renameTag` because it doesn't make much sense, right?)\r\n* Add `rollbackTo(String branchName, long snapshotId)`\r\n* Add `cherrypick(String branchName, long snapshotId)`\r\n\r\nThen there are a couple of other methods that we might want to add:\r\n* Add `cherrypick(String branchName, String tagName)`\r\n* Add `cherrypickAll(String branchName, String branchName)`\r\n\r\nThe `cherrypickAll` method would require us turning this into a transaction and not just a `SnapshotUpdate`, though. That could require us to do some of these things separately and maybe even deprecate `ManageSnapshots` and come up with a different name for the combined `ManageSnapshots` and `UpdateSnapshotRefs` interface. (Sorry this idea isn't fully baked yet!)\r\n\r\nWhat do you think, @amogh-jahagirdar and @jackye1995?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035345999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035444503","html_url":"https://github.com/apache/iceberg/pull/4087#issuecomment-1035444503","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4087","id":1035444503,"node_id":"IC_kwDOCW7NX849t6EX","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T20:08:43Z","updated_at":"2022-02-10T20:08:43Z","author_association":"CONTRIBUTOR","body":"Thanks, waiting for CI result","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035444503/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035500472","html_url":"https://github.com/apache/iceberg/pull/4087#issuecomment-1035500472","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4087","id":1035500472,"node_id":"IC_kwDOCW7NX849uHu4","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T20:49:53Z","updated_at":"2022-02-10T20:49:53Z","author_association":"CONTRIBUTOR","body":"Just to confirm, is there anything you change when cherry-picking the commits?\r\n\r\nAnd could you also run AWS integration test as a verification?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035500472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035515929","html_url":"https://github.com/apache/iceberg/pull/4087#issuecomment-1035515929","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4087","id":1035515929,"node_id":"IC_kwDOCW7NX849uLgZ","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T21:05:03Z","updated_at":"2022-02-10T21:05:39Z","author_association":"CONTRIBUTOR","body":"> Just to confirm, is there anything you change when cherry-picking the commits?\r\n\r\nNope, cherry-picked the commits from master as is.\r\n\r\n>And could you also run AWS integration test as a verification?\r\n\r\nSure will post results here\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035515929/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035546202","html_url":"https://github.com/apache/iceberg/pull/3188#issuecomment-1035546202","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3188","id":1035546202,"node_id":"IC_kwDOCW7NX849uS5a","user":{"login":"anjalinorwood","id":52180099,"node_id":"MDQ6VXNlcjUyMTgwMDk5","avatar_url":"https://avatars.githubusercontent.com/u/52180099?v=4","gravatar_id":"","url":"https://api.github.com/users/anjalinorwood","html_url":"https://github.com/anjalinorwood","followers_url":"https://api.github.com/users/anjalinorwood/followers","following_url":"https://api.github.com/users/anjalinorwood/following{/other_user}","gists_url":"https://api.github.com/users/anjalinorwood/gists{/gist_id}","starred_url":"https://api.github.com/users/anjalinorwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anjalinorwood/subscriptions","organizations_url":"https://api.github.com/users/anjalinorwood/orgs","repos_url":"https://api.github.com/users/anjalinorwood/repos","events_url":"https://api.github.com/users/anjalinorwood/events{/privacy}","received_events_url":"https://api.github.com/users/anjalinorwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T21:37:44Z","updated_at":"2022-02-10T21:37:44Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nHi John, LGTM! Thank you for picking up this PR to drive it to completion.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035546202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035572551","html_url":"https://github.com/apache/iceberg/pull/3959#issuecomment-1035572551","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3959","id":1035572551,"node_id":"IC_kwDOCW7NX849uZVH","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T22:01:37Z","updated_at":"2022-02-10T22:01:37Z","author_association":"COLLABORATOR","body":"Hi @aokolnychyi @RussellSpitzer @rdblue @danielcweeks if you guys want another look after the last comments, thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035572551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035593559","html_url":"https://github.com/apache/iceberg/pull/4087#issuecomment-1035593559","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4087","id":1035593559,"node_id":"IC_kwDOCW7NX849uedX","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T22:25:07Z","updated_at":"2022-02-10T22:25:07Z","author_association":"CONTRIBUTOR","body":"The AWS integ tests are passing. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035593559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035604521","html_url":"https://github.com/apache/iceberg/pull/4087#issuecomment-1035604521","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4087","id":1035604521,"node_id":"IC_kwDOCW7NX849uhIp","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T22:39:38Z","updated_at":"2022-02-10T22:39:38Z","author_association":"CONTRIBUTOR","body":"No problem!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035604521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035610865","html_url":"https://github.com/apache/iceberg/pull/4078#issuecomment-1035610865","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4078","id":1035610865,"node_id":"IC_kwDOCW7NX849uirx","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T22:48:11Z","updated_at":"2022-02-10T22:48:11Z","author_association":"MEMBER","body":"@samredai So should I merge these two PR's now or do I need to do something else to fit into the release structure? Sorry I wasn't sure on the \"hotfix\" path","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035610865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035627957","html_url":"https://github.com/apache/iceberg/pull/4078#issuecomment-1035627957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4078","id":1035627957,"node_id":"IC_kwDOCW7NX849um21","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T23:12:32Z","updated_at":"2022-02-10T23:13:48Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer yes you can merge both of these. That will auto-deploy the fix to the common page but we'll need to update the `0.13.0` branch in `apache/iceberg-docs` in order to fix that docs site (each version site is deployed separately). So a cherry-pick of the commits in the [iceberg-docs PR](https://github.com/apache/iceberg-docs/pull/48) from `main` to `0.13.0` should be the only thing left to do.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035627957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035680716","html_url":"https://github.com/apache/iceberg/pull/4050#issuecomment-1035680716","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4050","id":1035680716,"node_id":"IC_kwDOCW7NX849uzvM","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T00:37:40Z","updated_at":"2022-02-11T00:37:40Z","author_association":"CONTRIBUTOR","body":"> Yea it looks good to me too, definitely have heard some asks for it! Two overall questions:\r\n> \r\n> 1. How about the implementation for S3FileOutputStream to track write_bytes, write_records?\r\n> 2. Not sure what is the right way, but if I am implementing a FileIOMetrics for S3FileIO, the FileIOMetrics interface does not seem descriptive enough what I should do.  Example, how will I know what kind of counter name/type to support?  Maybe  a wrapper S3FileIOMetrics interface extend FileIO interface with methods like:\r\n> \r\n> ```\r\n>  Counter<Long> readBytesCounter() {\r\n>    counter(READ_BYTES, Long.class);\r\n> }\r\n> ```\r\n> \r\n> that S3FileIO calls instead, so it's more clear what to implement?\r\n\r\n@szehon-ho I think we actually want to keep this rather generic, so we don't want specific counters called out since they may vary by engine and implementation, so that could get quite messy.\r\n\r\nAfter talking with @jackye1995, @nastra and @rdblue about this, I think we're going to up-level the Metrics interfaces so they can be reused for capturing metrics for other areas of the codebase as well.  I'll update with the proposed changes and we can follow on with other meter types (e.g. timers) and incorporate them into areas like scan planning in new PRs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035680716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035690379","html_url":"https://github.com/apache/iceberg/pull/4083#issuecomment-1035690379","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4083","id":1035690379,"node_id":"IC_kwDOCW7NX849u2GL","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T00:57:16Z","updated_at":"2022-02-11T00:57:16Z","author_association":"CONTRIBUTOR","body":"> Overall structure looks good, but there are some style issues to fix. Thanks, @amogh-jahagirdar!\r\n\r\nNo problem! I have addressed the style issues, let me know if there is something else you see. Going forward looks like https://github.com/apache/iceberg/blob/master/CONTRIBUTING.md#style has a lot of good details on what we're aiming for for style, so I will keep that in mind.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035690379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035690758","html_url":"https://github.com/apache/iceberg/pull/4083#issuecomment-1035690758","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4083","id":1035690758,"node_id":"IC_kwDOCW7NX849u2MG","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T00:58:16Z","updated_at":"2022-02-11T00:58:16Z","author_association":"CONTRIBUTOR","body":"Ready to commit when tests are passing. Thanks, @amogh-jahagirdar!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035690758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035692060","html_url":"https://github.com/apache/iceberg/pull/4050#issuecomment-1035692060","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4050","id":1035692060,"node_id":"IC_kwDOCW7NX849u2gc","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T01:01:08Z","updated_at":"2022-02-11T01:04:49Z","author_association":"COLLABORATOR","body":"@danielcweeks yea I had a follow up comment later where I agree the generic API is better, sorry for confusion :).  \r\n\r\nI was just initially mistaken that  FileIOMetric implementation was meant to support only specific metrics because:\r\n\r\n- The only example HadoopFileIOMetrics is expecting only the metrics of S3FileIO and throws IllegalArgumentException otherwise, so it's actually not generic.\r\n- FileIOMetrics interface has all the metrics constants, so I thought only that dictates what can be called by FileIO's.\r\n\r\nSo my follow-up comment was maybe HadoopFileIOMetrics could be clarified to be specific to S3FileIO for now by mentioning in the comments or moving from Core to S3 package?  Otherwise other FileIO's loading the generic interface might expect the implementation to be able to support any metric name.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035692060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035693190","html_url":"https://github.com/apache/iceberg/pull/4089#issuecomment-1035693190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4089","id":1035693190,"node_id":"IC_kwDOCW7NX849u2yG","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T01:03:48Z","updated_at":"2022-02-11T01:03:48Z","author_association":"CONTRIBUTOR","body":"@amogh-jahagirdar and @jackye1995, this is a first attempt at updating the table metadata builder. It doesn't support everything yet but I want to get this up for early feedback so we can compare the most direct changes with what you were proposing on the other PRs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035693190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035839145","html_url":"https://github.com/apache/iceberg/pull/4071#issuecomment-1035839145","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4071","id":1035839145,"node_id":"IC_kwDOCW7NX849vaap","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T03:01:17Z","updated_at":"2022-02-11T03:01:17Z","author_association":"CONTRIBUTOR","body":"> Then there are a couple of other methods that we might want to add:\r\n> \r\n> * Add `cherrypick(String branchName, String tagName)`\r\n> * Add `cherrypickAll(String branchName, String branchName)`\r\n> \r\n> The `cherrypickAll` method would require us turning this into a transaction and not just a `SnapshotUpdate`, though. That could require us to do some of these things separately and maybe even deprecate `ManageSnapshots` and come up with a different name for the combined `ManageSnapshots` and `UpdateSnapshotRefs` interface. (Sorry this idea isn't fully baked yet!)\r\n\r\nAbout cherrypick i have below question and think.\r\n1.First of all i think it is clear that data conflict is diffcult to deal. So we just can append changed data between different branch. \r\n2.Base on 1, we should record changed data between different branch use like seqnumber.\r\n3.Base on 2, if we use seqnumber or other anything to record changed between different branch then we must record `parent` branch to sign where are new branch `checkout`. We can allow `checkout` from any branch, but that will cause bother for opeator 2 because different branch inherit different seqnumber from different branch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035839145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035845859","html_url":"https://github.com/apache/iceberg/pull/4091#issuecomment-1035845859","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4091","id":1035845859,"node_id":"IC_kwDOCW7NX849vcDj","user":{"login":"dungdm93","id":6848311,"node_id":"MDQ6VXNlcjY4NDgzMTE=","avatar_url":"https://avatars.githubusercontent.com/u/6848311?v=4","gravatar_id":"","url":"https://api.github.com/users/dungdm93","html_url":"https://github.com/dungdm93","followers_url":"https://api.github.com/users/dungdm93/followers","following_url":"https://api.github.com/users/dungdm93/following{/other_user}","gists_url":"https://api.github.com/users/dungdm93/gists{/gist_id}","starred_url":"https://api.github.com/users/dungdm93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dungdm93/subscriptions","organizations_url":"https://api.github.com/users/dungdm93/orgs","repos_url":"https://api.github.com/users/dungdm93/repos","events_url":"https://api.github.com/users/dungdm93/events{/privacy}","received_events_url":"https://api.github.com/users/dungdm93/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T03:18:46Z","updated_at":"2022-02-11T03:18:46Z","author_association":"CONTRIBUTOR","body":"cc @aokolnychyi","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035845859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035871348","html_url":"https://github.com/apache/iceberg/issues/4090#issuecomment-1035871348","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4090","id":1035871348,"node_id":"IC_kwDOCW7NX849viR0","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T04:17:51Z","updated_at":"2022-02-11T04:17:51Z","author_association":"CONTRIBUTOR","body":"The CI run seems to pass though: https://github.com/apache/iceberg/runs/5148752010?check_suite_focus=true","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035871348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035891594","html_url":"https://github.com/apache/iceberg/pull/4083#issuecomment-1035891594","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4083","id":1035891594,"node_id":"IC_kwDOCW7NX849vnOK","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T05:17:46Z","updated_at":"2022-02-11T05:17:46Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution! @amogh-jahagirdar and thanks for the review! @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035891594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035897006","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-1035897006","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":1035897006,"node_id":"IC_kwDOCW7NX849voiu","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T05:34:38Z","updated_at":"2022-02-11T05:39:28Z","author_association":"MEMBER","body":"\n> Rewriting datafiles produces a new snapshot, which derives from the latest snapshot, with its same schema, so it is sort of orthogonal in the sense that the reading behavior is the same.\n\nI think this may be an issue since all current implementations of rewrite start by reading the current state of the data and then writing that output to new files. Consider I have two files both missing column A for which I have set a default value of 1. Say my optimize rewrite command touches one of these files and rewrites it. On read it will return rows with a=1. The replacement data file is now filled in with a=1, the column is no longer missing so no default will be applied on read. Now if I change the default to 2, a row in the unoptimized file will return 2(the new default for a data file missing a) while rows in the optimized file will return 1 (since that was the value read while rewriting). I think this would be a pretty strange behavior and we should probably figure out how to eliminate it","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035897006/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035899878","html_url":"https://github.com/apache/iceberg/pull/4083#issuecomment-1035899878","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4083","id":1035899878,"node_id":"IC_kwDOCW7NX849vpPm","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T05:42:53Z","updated_at":"2022-02-11T05:42:53Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @jackye1995 @rdblue !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035899878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035908628","html_url":"https://github.com/apache/iceberg/issues/4090#issuecomment-1035908628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4090","id":1035908628,"node_id":"IC_kwDOCW7NX849vrYU","user":{"login":"KarlManong","id":2627662,"node_id":"MDQ6VXNlcjI2Mjc2NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2627662?v=4","gravatar_id":"","url":"https://api.github.com/users/KarlManong","html_url":"https://github.com/KarlManong","followers_url":"https://api.github.com/users/KarlManong/followers","following_url":"https://api.github.com/users/KarlManong/following{/other_user}","gists_url":"https://api.github.com/users/KarlManong/gists{/gist_id}","starred_url":"https://api.github.com/users/KarlManong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KarlManong/subscriptions","organizations_url":"https://api.github.com/users/KarlManong/orgs","repos_url":"https://api.github.com/users/KarlManong/repos","events_url":"https://api.github.com/users/KarlManong/events{/privacy}","received_events_url":"https://api.github.com/users/KarlManong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T06:07:39Z","updated_at":"2022-02-11T06:07:39Z","author_association":"CONTRIBUTOR","body":"I doubt this is a racing between deleteFuture and appendFuture.\r\nSomehow I need more help to dig in","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035908628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035985498","html_url":"https://github.com/apache/iceberg/pull/4071#issuecomment-1035985498","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4071","id":1035985498,"node_id":"IC_kwDOCW7NX849v-Ja","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T08:43:47Z","updated_at":"2022-02-11T08:46:12Z","author_association":"CONTRIBUTOR","body":"@rdblue I will also need to think more on this as well. I think ultimately if we work backwards from:\r\n\r\n1.)  cherryPickAll(String sourceBranch, String targetBranch) is a useful operation to perform for Iceberg users to perform (which I think it is, I envision workflows which can benefit from being able to cherry-pick snapshots from one lineage to another)\r\n\r\n2.) Given 1, and the fact that cherryPickAll does a cherry pick of individual snapshots in an atomic manner across all snapshots, I don't see an obvious way around using a transaction.\r\n\r\nAfter looking more at ManageSnapshots, I do agree that likely it could be combined with UpdateSnapshotRefs (with the APIs you mentioned), but don't see a way around using the existing transaction abstraction for performing cherryPickAll. Perhaps there is a better model here though.\r\n\r\n @rdblue For my understanding, is there a reason we are trying to avoid a transaction? Is it mostly for simplicity in the API? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1035985498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036219406","html_url":"https://github.com/apache/iceberg/issues/4063#issuecomment-1036219406","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4063","id":1036219406,"node_id":"IC_kwDOCW7NX849w3QO","user":{"login":"naushadahamad786","id":99240565,"node_id":"U_kgDOBepKdQ","avatar_url":"https://avatars.githubusercontent.com/u/99240565?v=4","gravatar_id":"","url":"https://api.github.com/users/naushadahamad786","html_url":"https://github.com/naushadahamad786","followers_url":"https://api.github.com/users/naushadahamad786/followers","following_url":"https://api.github.com/users/naushadahamad786/following{/other_user}","gists_url":"https://api.github.com/users/naushadahamad786/gists{/gist_id}","starred_url":"https://api.github.com/users/naushadahamad786/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naushadahamad786/subscriptions","organizations_url":"https://api.github.com/users/naushadahamad786/orgs","repos_url":"https://api.github.com/users/naushadahamad786/repos","events_url":"https://api.github.com/users/naushadahamad786/events{/privacy}","received_events_url":"https://api.github.com/users/naushadahamad786/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T13:34:46Z","updated_at":"2022-02-11T13:34:46Z","author_association":"NONE","body":"I have used also below version but We are not able to find any delete files-\r\n\r\nSpark Version 3.2.0\r\nIceberg Version 0.13.1\r\nand \r\niceberg-spark-runtime-3.2_2.12","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036219406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036236383","html_url":"https://github.com/apache/iceberg/pull/3912#issuecomment-1036236383","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3912","id":1036236383,"node_id":"IC_kwDOCW7NX849w7Zf","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T13:53:50Z","updated_at":"2022-02-11T13:53:50Z","author_association":"CONTRIBUTOR","body":"@humengyu2012: Since @rdblue requested changes, I would ask his opinion before merging anything.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036236383/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036399159","html_url":"https://github.com/apache/iceberg/issues/4093#issuecomment-1036399159","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4093","id":1036399159,"node_id":"IC_kwDOCW7NX849xjI3","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T16:40:17Z","updated_at":"2022-02-11T16:40:17Z","author_association":"MEMBER","body":"Metadata deletes are always going to be faster than a MERGE command (or any row level operation). Are you asking for the MERGE Command to be automatically converted into the equivalent metadata delete? That seems like it may be difficult.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036399159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036438288","html_url":"https://github.com/apache/iceberg/pull/4078#issuecomment-1036438288","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4078","id":1036438288,"node_id":"IC_kwDOCW7NX849xssQ","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T17:22:09Z","updated_at":"2022-02-11T17:22:09Z","author_association":"MEMBER","body":"Thanks everyone!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036438288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036481284","html_url":"https://github.com/apache/iceberg/pull/4088#issuecomment-1036481284","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4088","id":1036481284,"node_id":"IC_kwDOCW7NX849x3ME","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T18:10:34Z","updated_at":"2022-02-11T18:10:34Z","author_association":"CONTRIBUTOR","body":"@rdblue this will be superseded by #4089, but this seems to be a regression which should be fixed in 0.13.1?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036481284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036525190","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-1036525190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":1036525190,"node_id":"IC_kwDOCW7NX849yB6G","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T19:03:51Z","updated_at":"2022-02-13T20:12:12Z","author_association":"CONTRIBUTOR","body":"From the discussion with @RussellSpitzer, I think some of those statements are in conflict with the SQL spec. Here's Postgres behavior (verified by SQLFiddle):\r\n\r\n```sql\r\ncreate table default_test (id int);\r\ninsert into default_test values (1), (2);\r\nalter table default_test add column data int default 0;\r\nalter table default_test alter column data set default 1000;\r\ninsert into default_test (id) values (3);\r\ninsert into default_test values (4, null);\r\nalter table default_test alter column data set default 2000;\r\n```\r\n```sql\r\nselect * from default_test;\r\n```\r\n```\r\nid | data\r\n-- | --\r\n 1 | 0\r\n 2 | 0\r\n 3 | 1000\r\n 4 | (null)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036525190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036533814","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-1036533814","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":1036533814,"node_id":"IC_kwDOCW7NX849yEA2","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T19:14:56Z","updated_at":"2022-02-11T19:14:56Z","author_association":"MEMBER","body":"I think the default issue could be issued by scanning through the schemas created since the file was created and only using the first available default. This seems kind of expensive to me though. General algorithm is\r\n\r\n```\r\nFor missing column A in file written at Snapshot X\r\nFind the first Schema created after X which applies a default value to A\r\n   If such a schema exists \r\n      return the schema's default\r\n    else\r\n      return null\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036533814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036602165","html_url":"https://github.com/apache/iceberg/pull/4050#issuecomment-1036602165","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4050","id":1036602165,"node_id":"IC_kwDOCW7NX849yUs1","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T20:38:28Z","updated_at":"2022-02-11T20:38:28Z","author_association":"CONTRIBUTOR","body":"@nastra @szehon-ho @RussellSpitzer @rdblue @jackye1995 @kbendick \r\n\r\nThanks for all the feedback.  This is an updated version of the PR that includes the changes discussed including:\r\n\r\n- Up-leveling the metrics to be more generic so we can use them in other areas like scan planning\r\n- Renaming to `MetricsContext` and placing in the `org.apache.iceberg.metrics` package to avoid confusion with other metrics concepts\r\n\r\nNote there is still a `FileIOMetricsContext` class, but it is purely to further scope the properties we want to use as the standard metrics for the FileIO implementations; this include S3FileIO, but GCSFileIO, OSSFileIO, can be follow-ons that reuse the `HadoopMetricsContext` to provide consistent implementations.\r\n\r\nFor future use cases, I added a `Unit` concept to the counter so we are explicit about what the metric value is when reporting.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036602165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036618601","html_url":"https://github.com/apache/iceberg/pull/4071#issuecomment-1036618601","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4071","id":1036618601,"node_id":"IC_kwDOCW7NX849yYtp","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T21:00:29Z","updated_at":"2022-02-11T21:00:29Z","author_association":"CONTRIBUTOR","body":"@amogh-jahagirdar, I agree that we will probably want to turn the API into a transaction. I think that's not a big deal. Mainly, I'm wondering if you agree that we should combine the ManageSnapshots tasks with the UpdateSnapshotRefs tasks. They seem to me like things you'd want to combine, but I want to make sure you agree.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036618601/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036621623","html_url":"https://github.com/apache/iceberg/pull/4096#issuecomment-1036621623","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4096","id":1036621623,"node_id":"IC_kwDOCW7NX849yZc3","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T21:04:57Z","updated_at":"2022-02-11T21:04:57Z","author_association":"CONTRIBUTOR","body":"Should we also update `CONTRIBUTING.md` to point to the website link in this PR, or do you plan to do it after the link actually exists?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036621623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036622333","html_url":"https://github.com/apache/iceberg/pull/4096#issuecomment-1036622333","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4096","id":1036622333,"node_id":"IC_kwDOCW7NX849yZn9","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T21:05:51Z","updated_at":"2022-02-11T21:05:51Z","author_association":"CONTRIBUTOR","body":"And we need another section for doc contribution guidance described in https://github.com/apache/iceberg-docs/blob/main/README.md, this can be in the same or a different PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036622333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036622446","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-1036622446","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":1036622446,"node_id":"IC_kwDOCW7NX849yZpu","user":{"login":"shenodaguirguis","id":45050883,"node_id":"MDQ6VXNlcjQ1MDUwODgz","avatar_url":"https://avatars.githubusercontent.com/u/45050883?v=4","gravatar_id":"","url":"https://api.github.com/users/shenodaguirguis","html_url":"https://github.com/shenodaguirguis","followers_url":"https://api.github.com/users/shenodaguirguis/followers","following_url":"https://api.github.com/users/shenodaguirguis/following{/other_user}","gists_url":"https://api.github.com/users/shenodaguirguis/gists{/gist_id}","starred_url":"https://api.github.com/users/shenodaguirguis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenodaguirguis/subscriptions","organizations_url":"https://api.github.com/users/shenodaguirguis/orgs","repos_url":"https://api.github.com/users/shenodaguirguis/repos","events_url":"https://api.github.com/users/shenodaguirguis/events{/privacy}","received_events_url":"https://api.github.com/users/shenodaguirguis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T21:06:01Z","updated_at":"2022-02-11T21:06:01Z","author_association":"NONE","body":"> I think the default issue could be issued by scanning through the schemas created since the file was created and only using the first available default. This seems kind of expensive to me though. General algorithm is\r\n> \r\n> ```\r\n> For missing column A in file written at Snapshot X\r\n> Find the first Schema created after X which applies a default value to A\r\n>    If such a schema exists \r\n>       return the schema's default\r\n>     else\r\n>       return null\r\n> ```\r\n\r\nthat would do. Or, if we can detect if we are coming from rewriting path, we skip reading the default value for the missing/unmaterialized columns. Looking into that option","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036622446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036626170","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-1036626170","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":1036626170,"node_id":"IC_kwDOCW7NX849yaj6","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T21:11:03Z","updated_at":"2022-02-11T21:11:03Z","author_association":"MEMBER","body":"> > I think the default issue could be issued by scanning through the schemas created since the file was created and only using the first available default. This seems kind of expensive to me though. General algorithm is\r\n> > ```\r\n> > For missing column A in file written at Snapshot X\r\n> > Find the first Schema created after X which applies a default value to A\r\n> >    If such a schema exists \r\n> >       return the schema's default\r\n> >     else\r\n> >       return null\r\n> > ```\r\n> \r\n> that would do. Or, if we can detect if we are coming from rewriting path, we skip reading the default value for the missing/unmaterialized columns. Looking into that option\r\n\r\nI think this would be tricky as every engine would have to customize their rewrite pathway to accommodate it. Additionally what would you do when rewriting a row with a required column that you default'd previously? You cannot write a new file where only some records are missing an entry for a column (null vs empty issue again)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036626170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036667880","html_url":"https://github.com/apache/iceberg/pull/4096#issuecomment-1036667880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4096","id":1036667880,"node_id":"IC_kwDOCW7NX849ykvo","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T22:02:53Z","updated_at":"2022-02-11T22:02:53Z","author_association":"CONTRIBUTOR","body":"> Should we also update `CONTRIBUTING.md` to point to the website link in this PR, or do you plan to do it after the link actually exists?\r\n\r\nI was planning on doing that after the link exists.\r\n\r\n> And we need another section for doc contribution guidance described in https://github.com/apache/iceberg-docs/blob/main/README.md, this can be in the same or a different PR.\r\n\r\nGood catch, I will just do that in this PR","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036667880/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036673746","html_url":"https://github.com/apache/iceberg/pull/4098#issuecomment-1036673746","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4098","id":1036673746,"node_id":"IC_kwDOCW7NX849ymLS","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T22:09:49Z","updated_at":"2022-02-11T22:09:49Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @jackye1995 @rdblue @danielcweeks ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036673746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036680167","html_url":"https://github.com/apache/iceberg/pull/4099#issuecomment-1036680167","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4099","id":1036680167,"node_id":"IC_kwDOCW7NX849ynvn","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T22:17:06Z","updated_at":"2022-02-11T22:17:06Z","author_association":"CONTRIBUTOR","body":"@arminnajafi @rajarshisarkar @singhpk234 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036680167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036696997","html_url":"https://github.com/apache/iceberg/pull/3275#issuecomment-1036696997","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3275","id":1036696997,"node_id":"IC_kwDOCW7NX849yr2l","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T22:35:14Z","updated_at":"2022-02-11T22:35:14Z","author_association":"CONTRIBUTOR","body":"Sorry for the long delay on this @nssalian!\r\n\r\nNow that we have the docker based JDBC catalog notebook env, I'm going to install this in it and run some actual tests (as it's been a while since I've reviewed this). If things work, then I'm ok with this as I'd like to see this supported and we've already addressed a lot of feedback.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036696997/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036702844","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-1036702844","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":1036702844,"node_id":"IC_kwDOCW7NX849ytR8","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T22:42:44Z","updated_at":"2022-02-11T22:42:44Z","author_association":"CONTRIBUTOR","body":"I doubt that it is worth the complexity of an algorithm like finding the default that should be applied for a file. We _could_ do that by keeping track of when defaults are added with sequence numbers. But I think another reasonable way to fix that problem is just to state that once a default is set, it is an incompatible change to update it to another value.\r\n\r\nBy making it an incompatible change, we could allow modifying the value but make it clear that it is the user's responsibility. We do this when adding a required field to a table. You can add a field by calling `allowIncompatibleChanges()` in the schema update API. But if any files don't have the field and reads fail, that's the user's fault.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036702844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036710417","html_url":"https://github.com/apache/iceberg/issues/3941#issuecomment-1036710417","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3941","id":1036710417,"node_id":"IC_kwDOCW7NX849yvIR","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T22:51:04Z","updated_at":"2022-02-11T22:51:04Z","author_association":"CONTRIBUTOR","body":"The design doc is here, https://docs.google.com/document/d/1bN6rdLNcYOHnT3xVBfB33BoiPO06aKBo56SZmuU9pnY/edit?usp=sharing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036710417/reactions","total_count":8,"+1":0,"-1":0,"laugh":0,"hooray":8,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036779132","html_url":"https://github.com/apache/iceberg/pull/4098#issuecomment-1036779132","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4098","id":1036779132,"node_id":"IC_kwDOCW7NX849y_58","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T23:44:43Z","updated_at":"2022-02-11T23:44:43Z","author_association":"CONTRIBUTOR","body":"Nevermind, sorry for the ping! I had a tool that complained about not being able to open the file, but I am no longer able to reproduce the issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036779132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036860261","html_url":"https://github.com/apache/iceberg/pull/4088#issuecomment-1036860261","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4088","id":1036860261,"node_id":"IC_kwDOCW7NX849zTtl","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T00:43:08Z","updated_at":"2022-02-12T00:43:08Z","author_association":"CONTRIBUTOR","body":"@wypoon are you sure that's the cause? If the timestamp is set to `null` then the timestamp used for the log is the timestamp [from the snapshot itself](https://github.com/apache/iceberg/blob/apache-iceberg-0.13.0/core/src/main/java/org/apache/iceberg/TableMetadata.java#L1181). That corresponds to the [original behavior](https://github.com/apache/iceberg/blob/7fcc71da65a47ca3c9f6eb6e862a238389b8bdc5/core/src/main/java/org/apache/iceberg/TableMetadata.java#L618-L622) and is correct. When the current snapshot is set to a newly created snapshot, we set the log timestamp to the snapshot timestamp.\r\n\r\nI think the problem is that the call to roll back is using `setCurrentSnapshot(Snapshot)` rather than `setCurrentSnapshot(long)`. The latter assumes that the snapshot is existing and sets the timestamp to `System.currentTimeMillis()`. I think the right fix here is to make sure that `SnapshotManager` ends up calling the right variant of `setCurrentSnapshot`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036860261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036944810","html_url":"https://github.com/apache/iceberg/pull/3862#issuecomment-1036944810","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3862","id":1036944810,"node_id":"IC_kwDOCW7NX849zoWq","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T02:06:47Z","updated_at":"2022-02-12T02:06:47Z","author_association":"CONTRIBUTOR","body":"Can you spare time in review @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1036944810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037019312","html_url":"https://github.com/apache/iceberg/pull/4103#issuecomment-1037019312","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4103","id":1037019312,"node_id":"IC_kwDOCW7NX849z6iw","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T06:37:33Z","updated_at":"2022-02-12T06:37:33Z","author_association":"CONTRIBUTOR","body":"@arminnajafi @rajarshisarkar @singhpk234 @amogh-jahagirdar","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037019312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037020733","html_url":"https://github.com/apache/iceberg/pull/4101#issuecomment-1037020733","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4101","id":1037020733,"node_id":"IC_kwDOCW7NX849z649","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T06:42:07Z","updated_at":"2022-02-12T06:42:07Z","author_association":"CONTRIBUTOR","body":"I've added a new web page for this and plan to remove the portion in README:\r\n\r\nhttps://github.com/apache/iceberg/blob/master/docs/common/project/multi-engine-support.md?plain=1#L60-L89\r\n\r\nhttps://github.com/apache/iceberg/pull/4067\r\n\r\nInstead of updating the README, I think we can add 2 columns in the website for \"Initial support\" and \"latest support\" for each engine version row. By doing that we also don't need to add one entry for each release. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037020733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037021370","html_url":"https://github.com/apache/iceberg/issues/4063#issuecomment-1037021370","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4063","id":1037021370,"node_id":"IC_kwDOCW7NX849z7C6","user":{"login":"zhongyujiang","id":42907416,"node_id":"MDQ6VXNlcjQyOTA3NDE2","avatar_url":"https://avatars.githubusercontent.com/u/42907416?v=4","gravatar_id":"","url":"https://api.github.com/users/zhongyujiang","html_url":"https://github.com/zhongyujiang","followers_url":"https://api.github.com/users/zhongyujiang/followers","following_url":"https://api.github.com/users/zhongyujiang/following{/other_user}","gists_url":"https://api.github.com/users/zhongyujiang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhongyujiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhongyujiang/subscriptions","organizations_url":"https://api.github.com/users/zhongyujiang/orgs","repos_url":"https://api.github.com/users/zhongyujiang/repos","events_url":"https://api.github.com/users/zhongyujiang/events{/privacy}","received_events_url":"https://api.github.com/users/zhongyujiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T06:43:54Z","updated_at":"2022-02-12T06:43:54Z","author_association":"CONTRIBUTOR","body":"@akghbti @naushadahamad786 0.13 supports merge-on-read delete: [0.13.0 Release Notes](https://iceberg.apache.org/releases/), and merge-on-read merge is still in progress, you can track progress [here](https://github.com/apache/iceberg/projects/11).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037021370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037023880","html_url":"https://github.com/apache/iceberg/pull/4102#issuecomment-1037023880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4102","id":1037023880,"node_id":"IC_kwDOCW7NX849z7qI","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T06:51:49Z","updated_at":"2022-02-13T17:31:31Z","author_association":"CONTRIBUTOR","body":"Looks like the build is failing, some spacing issues and I think we need to explicitly mark the preivous class with \r\n\"@Deprecated\". Other than that, looks good to me!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037023880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037024832","html_url":"https://github.com/apache/iceberg/pull/4101#issuecomment-1037024832","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4101","id":1037024832,"node_id":"IC_kwDOCW7NX849z75A","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T06:54:50Z","updated_at":"2022-02-12T06:54:50Z","author_association":"CONTRIBUTOR","body":"> I've added a new web page for this and plan to remove the portion in README:\r\n> \r\n> https://github.com/apache/iceberg/blob/master/docs/common/project/multi-engine-support.md?plain=1#L60-L89\r\n> \r\n> #4067\r\n> \r\n> Instead of updating the README, I think we can add 2 columns in the website for \"Initial support\" and \"latest support\" for each engine version row. By doing that we also don't need to add one entry for each release. What do you think?\r\n\r\nThat sounds good. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037024832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037037190","html_url":"https://github.com/apache/iceberg/pull/4067#issuecomment-1037037190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4067","id":1037037190,"node_id":"IC_kwDOCW7NX849z-6G","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T07:17:34Z","updated_at":"2022-02-12T07:17:34Z","author_association":"CONTRIBUTOR","body":"Will this article be versioned?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037037190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037055256","html_url":"https://github.com/apache/iceberg/pull/4075#issuecomment-1037055256","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4075","id":1037055256,"node_id":"IC_kwDOCW7NX8490DUY","user":{"login":"zhongyujiang","id":42907416,"node_id":"MDQ6VXNlcjQyOTA3NDE2","avatar_url":"https://avatars.githubusercontent.com/u/42907416?v=4","gravatar_id":"","url":"https://api.github.com/users/zhongyujiang","html_url":"https://github.com/zhongyujiang","followers_url":"https://api.github.com/users/zhongyujiang/followers","following_url":"https://api.github.com/users/zhongyujiang/following{/other_user}","gists_url":"https://api.github.com/users/zhongyujiang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhongyujiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhongyujiang/subscriptions","organizations_url":"https://api.github.com/users/zhongyujiang/orgs","repos_url":"https://api.github.com/users/zhongyujiang/repos","events_url":"https://api.github.com/users/zhongyujiang/events{/privacy}","received_events_url":"https://api.github.com/users/zhongyujiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T08:04:29Z","updated_at":"2022-02-12T08:04:29Z","author_association":"CONTRIBUTOR","body":"Thanks for you review! \r\nAgreed, that's useful, I'll add that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037055256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037256324","html_url":"https://github.com/apache/iceberg/issues/4063#issuecomment-1037256324","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4063","id":1037256324,"node_id":"IC_kwDOCW7NX84900aE","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T15:23:42Z","updated_at":"2022-02-12T15:24:08Z","author_association":"MEMBER","body":"Did you set ```TableProperties.UPDATE_MODE, \"merge-on-read\"```\r\n\r\nhttps://github.com/apache/iceberg/blob/master/spark/v3.2/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestMergeOnReadUpdate.java#L33-L38","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037256324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037429383","html_url":"https://github.com/apache/iceberg/pull/4103#issuecomment-1037429383","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4103","id":1037429383,"node_id":"IC_kwDOCW7NX8491eqH","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T19:51:20Z","updated_at":"2022-02-12T19:51:20Z","author_association":"CONTRIBUTOR","body":"Looks good to me, thanks for the fix! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037429383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037450773","html_url":"https://github.com/apache/iceberg/pull/4103#issuecomment-1037450773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4103","id":1037450773,"node_id":"IC_kwDOCW7NX8491j4V","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T20:21:23Z","updated_at":"2022-02-12T20:21:23Z","author_association":"CONTRIBUTOR","body":"Thanks for the review! @amogh-jahagirdar @singhpk234 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037450773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037525967","html_url":"https://github.com/apache/iceberg/pull/4067#issuecomment-1037525967","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4067","id":1037525967,"node_id":"IC_kwDOCW7NX84912PP","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T22:17:04Z","updated_at":"2022-02-12T22:17:04Z","author_association":"CONTRIBUTOR","body":"@samredai thanks for the review! @hililiwei will publish a new PR and ping you for the new experience, but to answer your question this page is not versioned and will include information across versions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037525967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037527013","html_url":"https://github.com/apache/iceberg/pull/4088#issuecomment-1037527013","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4088","id":1037527013,"node_id":"IC_kwDOCW7NX84912fl","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T22:18:43Z","updated_at":"2022-02-12T22:18:43Z","author_association":"CONTRIBUTOR","body":"@rdblue I have not investigated this issue and do not know the cause. Thanks for your explanation. \r\n@sririshindra reported the issue. It just sounds to me like a regression that we should try to fix in 0.13.1. (But it could also be fixed in a 0.13.2.)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1037527013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038324853","html_url":"https://github.com/apache/iceberg/pull/4011#issuecomment-1038324853","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4011","id":1038324853,"node_id":"IC_kwDOCW7NX84945R1","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T18:31:26Z","updated_at":"2022-02-13T18:31:26Z","author_association":"CONTRIBUTOR","body":"@rdblue this should be ready for another pass when you get a chance. thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038324853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038358431","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1038358431","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1038358431,"node_id":"IC_kwDOCW7NX8495Bef","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T19:09:47Z","updated_at":"2022-02-13T19:09:47Z","author_association":"CONTRIBUTOR","body":"@ConeyLiu, I think we should simplify the way that the tests are happening. This should just validate that the data and metadata files for the table are deleted after a purge or not deleted when not purged. I don't think there is a need for custom catalogs or anything that is specific to the catalog that is used.\r\n\r\nIn addition, I think we need to fail `PURGE` if the table has `gc.enabled=true` in table properties. The thread discussing this is long and covers a few other topics, but I think there's agreement about handling `gc.enabled`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038358431/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038363838","html_url":"https://github.com/apache/iceberg/pull/4104#issuecomment-1038363838","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4104","id":1038363838,"node_id":"IC_kwDOCW7NX8495Cy-","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T19:15:42Z","updated_at":"2022-02-13T19:15:42Z","author_association":"CONTRIBUTOR","body":"Is there a corresponding change in iceberg-docs for the 0.13.0 and 0.12.1 releases?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038363838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038364360","html_url":"https://github.com/apache/iceberg/pull/4107#issuecomment-1038364360","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4107","id":1038364360,"node_id":"IC_kwDOCW7NX8495C7I","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T19:16:17Z","updated_at":"2022-02-13T19:16:17Z","author_association":"CONTRIBUTOR","body":"Thanks, @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038364360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038364811","html_url":"https://github.com/apache/iceberg/pull/4108#issuecomment-1038364811","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4108","id":1038364811,"node_id":"IC_kwDOCW7NX8495DCL","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T19:16:48Z","updated_at":"2022-02-13T19:16:48Z","author_association":"CONTRIBUTOR","body":"Thanks, @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038364811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038365106","html_url":"https://github.com/apache/iceberg/pull/4105#issuecomment-1038365106","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4105","id":1038365106,"node_id":"IC_kwDOCW7NX8495DGy","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T19:17:13Z","updated_at":"2022-02-13T19:17:13Z","author_association":"CONTRIBUTOR","body":"Should this be in the main site instead of in versioned docs?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038365106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038365184","html_url":"https://github.com/apache/iceberg/pull/4096#issuecomment-1038365184","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4096","id":1038365184,"node_id":"IC_kwDOCW7NX8495DIA","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T19:17:17Z","updated_at":"2022-02-14T00:35:04Z","author_association":"CONTRIBUTOR","body":"Made a few changes:\r\n\r\n1.) Added some more clarifications to the new contributing page.\r\n2.) Removed the existing contribute from the community section on this page. https://iceberg.apache.org/community/\r\n3.) Put weights for the \"common/community\" markdown files in the \"versioned\" section. This is what the other MD files are doing, and if I look at the main docs site https://iceberg.apache.org/docs/latest/ we are currently not respecting the existing weights. Although I am not 100% sure why it's necessary to move the weights definitions to the versioned markdown files, it just seems to lead to respecting the weights and also aligns with what other docs are doing, I decided to do that.\r\n\r\n@jackye1995 Let me know your thoughts!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038365184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038366311","html_url":"https://github.com/apache/iceberg/pull/4110#issuecomment-1038366311","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4110","id":1038366311,"node_id":"IC_kwDOCW7NX8495DZn","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T19:18:39Z","updated_at":"2022-02-13T19:18:39Z","author_association":"CONTRIBUTOR","body":"@pan3793, if there is something shared between Iceberg and Spark, we generally prefer to exclude it from the runtime Jar. Is it possible to make sure the version matches and remove it from the runtime?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038366311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038403141","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-1038403141","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":1038403141,"node_id":"IC_kwDOCW7NX8495MZF","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T20:21:35Z","updated_at":"2022-02-13T20:21:35Z","author_association":"CONTRIBUTOR","body":"> Are complex types allowed to have defaults? Just wondering how complicated this can get\r\n\r\nI don't think that maps or lists can have default map values or list elements. May entire map or list can be defaulted? It would be easier if you could assume an empty map or empty list default. We could allow empty defaults with a simple flag, or we could allow expressing defaults like `map(\"a\" => 1)` or `list(1, 2, 3)`. I'm not sure if the custom defaults are worth the complexity.\r\n\r\nWe have a similar choice for structs. A struct could be defaulted using a flag and nested default values, so the struct is non-null and all its columns have default values. Or we could allow setting a specific default struct. I'm again not sure about the utility of the specific default struct. It is way more complicated for us to store the default values.\r\n\r\nThe choice here may come down to the strategy used to store default values. If we use simple JSON structures, then we can definitely store the nested defaults. I'm interested to hear a proposal for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038403141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038508100","html_url":"https://github.com/apache/iceberg/pull/4105#issuecomment-1038508100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4105","id":1038508100,"node_id":"IC_kwDOCW7NX8495mBE","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T00:55:29Z","updated_at":"2022-02-14T00:55:29Z","author_association":"CONTRIBUTOR","body":"> Should this be in the main site instead of in versioned docs?\r\n\r\nThis is in the main site, it's under the `common` folder","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038508100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038542718","html_url":"https://github.com/apache/iceberg/pull/4105#issuecomment-1038542718","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4105","id":1038542718,"node_id":"IC_kwDOCW7NX8495ud-","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T01:50:31Z","updated_at":"2022-02-14T01:50:31Z","author_association":"CONTRIBUTOR","body":"The steps written here look good to me. 👍 \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038542718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038549364","html_url":"https://github.com/apache/iceberg/pull/4104#issuecomment-1038549364","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4104","id":1038549364,"node_id":"IC_kwDOCW7NX8495wF0","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T02:05:48Z","updated_at":"2022-02-14T02:05:48Z","author_association":"CONTRIBUTOR","body":"> Is there a corresponding change in iceberg-docs for the 0.13.0 and 0.12.1 releases?\r\n\r\nWill copy to 0.13.0 and 0.12.1 after merge here","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038549364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038576600","html_url":"https://github.com/apache/iceberg/pull/3817#issuecomment-1038576600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3817","id":1038576600,"node_id":"IC_kwDOCW7NX84952vY","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T03:02:48Z","updated_at":"2022-02-14T03:02:48Z","author_association":"CONTRIBUTOR","body":"Thanks, @hililiwei!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038576600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038629845","html_url":"https://github.com/apache/iceberg/issues/4093#issuecomment-1038629845","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4093","id":1038629845,"node_id":"IC_kwDOCW7NX8496DvV","user":{"login":"akghbti","id":64609106,"node_id":"MDQ6VXNlcjY0NjA5MTA2","avatar_url":"https://avatars.githubusercontent.com/u/64609106?v=4","gravatar_id":"","url":"https://api.github.com/users/akghbti","html_url":"https://github.com/akghbti","followers_url":"https://api.github.com/users/akghbti/followers","following_url":"https://api.github.com/users/akghbti/following{/other_user}","gists_url":"https://api.github.com/users/akghbti/gists{/gist_id}","starred_url":"https://api.github.com/users/akghbti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akghbti/subscriptions","organizations_url":"https://api.github.com/users/akghbti/orgs","repos_url":"https://api.github.com/users/akghbti/repos","events_url":"https://api.github.com/users/akghbti/events{/privacy}","received_events_url":"https://api.github.com/users/akghbti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T04:30:37Z","updated_at":"2022-02-14T04:31:05Z","author_association":"NONE","body":"@RussellSpitzer  My point is why the Merge command (as shown in the First case in this Issue) is overwriting 3 input part files when the search clause \" t._c1='13' \" (part of the merge clause) only satisfies 1 input part file. The search clause (on the input table) is not being pushed.  \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038629845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038635584","html_url":"https://github.com/apache/iceberg/pull/4110#issuecomment-1038635584","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4110","id":1038635584,"node_id":"IC_kwDOCW7NX8496FJA","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T04:41:14Z","updated_at":"2022-02-14T04:41:14Z","author_association":"MEMBER","body":"@rdblue The netty deps come from arrow, Spark and Iceberg doesn't guarantee to use the same version of arrow, but for netty, I think it's good to share it, because both arrow and spark use netty `4.1.x.Final`, netty stays `4.1.x.Final` for long time, and I never hit class/jar conflict cases from netty.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038635584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038672295","html_url":"https://github.com/apache/iceberg/pull/3834#issuecomment-1038672295","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3834","id":1038672295,"node_id":"IC_kwDOCW7NX8496OGn","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T05:52:15Z","updated_at":"2022-02-14T05:52:30Z","author_association":"CONTRIBUTOR","body":"@rdblue fix all. Can you help take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038672295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038738585","html_url":"https://github.com/apache/iceberg/pull/4109#issuecomment-1038738585","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4109","id":1038738585,"node_id":"IC_kwDOCW7NX8496eSZ","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T07:20:13Z","updated_at":"2022-02-14T07:20:13Z","author_association":"CONTRIBUTOR","body":"@hililiwei updated! Please let me know what you think","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038738585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038750863","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1038750863","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1038750863,"node_id":"IC_kwDOCW7NX8496hSP","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T07:35:45Z","updated_at":"2023-08-31T02:42:46Z","author_association":"CONTRIBUTOR","body":"Thanks everyone for the detailed and meaningful discussion.\r\n\r\n> In addition, I think we need to fail PURGE if the table has gc.enabled=true in table properties. The thread discussing this is long and covers a few other topics, but I think there's agreement about handling gc.enabled.\r\n\r\n@rdblue, the UTs have been updated. It should be `gc.enabled=false`, right? And the UTs have covered the case.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038750863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038765579","html_url":"https://github.com/apache/iceberg/pull/4071#issuecomment-1038765579","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4071","id":1038765579,"node_id":"IC_kwDOCW7NX8496k4L","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T07:58:16Z","updated_at":"2022-02-14T19:48:29Z","author_association":"CONTRIBUTOR","body":"Sorry @rdblue was a bit late to reply, I agree with the proposal about:\r\n\r\n```\r\n    Add createBranch, replaceBranch, removeBranch, and renameBranch\r\n    Add createTag, replaceTag and removeTag (not renameTag because it doesn't make much sense, right?)\r\n    Add rollbackTo(String branchName, long snapshotId)\r\n    Add cherrypick(String branchName, long snapshotId)\r\n    Add cherrypick(String branchName, String tagName)\r\n    Add cherrypickAll(String branchName, String branchName)\r\n```\r\n\r\nI was thinking to have all the fancy operations like rollback that mixes branch, tag and snapshot ID to a higher level API (and we can extend `ManageSnapshots` API for anything fit) and have one lower level API (this one) that handles the basic ref-only operations, but having them at the same place also works. But I would say we should be careful about mixing snapshot updates and metadata updates. More is elaborated later.\r\n\r\nFor the issue that the original `branch` and `tag` creation APIs does not have verbs, that's probably my bad English, I thought branch could be used as a verb. Having `create`, `replace`, `remove` for each ref type and `rename` for branch makes sense. What do you think about the API methods setting tag and branch parameters? I think they are still needed.\r\n\r\nGoing back to the cherry-picking related operations, the fundamental difference of it from the other ones is that it produces a new snapshot with a new manifest list based on the cherry-picked snapshot information. What exactly is our semantics for cherry-picking? If I map it to Git, it is to reapply the same file changes to a different commit. So in Iceberg, suppose I have 2 snapshots produced by `AppendFiles(f1, f2), DeletFiles(f3)` at branch `dev`, then I do `cherryPickAll(\"main\", \"dev\")`, then I would do `AppendFiles(f1, f2), DeletFiles(f3)` to `main`? Then would `cherryPickAll` be just a fancy wrapper of\r\n\r\n```\r\nTransaction transaction = table.newTransaction();\r\ntransaction.newAppend().appendFiles(f1, f2).toBranch(\"main\").commit();\r\ntransaction.newDelete().deleteFiles(f3).toBranch(\"main\").commit();\r\ntransaction.commitTransaction();\r\n```\r\n\r\nI know we currently have some basic cherry-picking for `APPEND` and `OVERWRITE` (replace partition) type operations, do we want to continue with that approach? Seems like we are trying to reverse-engineer what was done in a commit based on information in different places in the produced snapshot.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038765579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038824482","html_url":"https://github.com/apache/iceberg/issues/4113#issuecomment-1038824482","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4113","id":1038824482,"node_id":"IC_kwDOCW7NX8496zQi","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T09:03:07Z","updated_at":"2022-02-14T09:03:07Z","author_association":"CONTRIBUTOR","body":"@cbwn123: What execution engine are you using?\r\nIf you are using Tez you might want to take a look at this: https://iceberg.apache.org/docs/latest/hive/#hive-on-tez-configuration\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1038824482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]