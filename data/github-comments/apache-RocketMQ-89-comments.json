[{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/987543864","html_url":"https://github.com/apache/rocketmq/pull/3596#issuecomment-987543864","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3596","id":987543864,"node_id":"IC_kwDOBHrsl8463Lk4","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T03:51:57Z","updated_at":"2025-01-23T06:13:05Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/rocketmq/pull/3596?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 48.67%. Comparing base [(`4d49551`)](https://app.codecov.io/gh/apache/rocketmq/commit/4d495515acab8f2f2fbbd76872c007f2d01c891e?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`e186363`)](https://app.codecov.io/gh/apache/rocketmq/commit/e186363fba88536a3168d4ca58076d2b612b33e2?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 6866 commits behind head on develop.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3596      +/-   ##\n=============================================\n- Coverage      48.71%   48.67%   -0.05%     \n+ Complexity      4638     4633       -5     \n=============================================\n  Files            555      555              \n  Lines          36733    36733              \n  Branches        4836     4836              \n=============================================\n- Hits           17893    17878      -15     \n- Misses         16596    16609      +13     \n- Partials        2244     2246       +2     \n```\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/rocketmq/pull/3596?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/987543864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/987829786","html_url":"https://github.com/apache/rocketmq/pull/3595#issuecomment-987829786","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3595","id":987829786,"node_id":"IC_kwDOBHrsl8464RYa","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T11:18:37Z","updated_at":"2021-12-07T11:18:37Z","author_association":"MEMBER","body":"/home/travis/build/apache/rocketmq/client/src/main/java/org/apache/rocketmq/client/consumer/rebalance/AllocateMachineRoomNearby.java:23:8: error: Unused import - java.util.Set.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/987829786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/987859133","html_url":"https://github.com/apache/rocketmq/pull/3588#issuecomment-987859133","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3588","id":987859133,"node_id":"IC_kwDOBHrsl8464Yi9","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T11:58:53Z","updated_at":"2022-04-26T09:15:24Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/48570999/badge)](https://coveralls.io/builds/48570999)\n\nCoverage increased (+0.1%) to 52.114% when pulling **37c87c8ec8e72d74fdd097f8ea4c7b90a51724b1 on areyouok:492_PartB** into **9de7be47850684c329cc6d324b01950386c5963b on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/987859133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988431301","html_url":"https://github.com/apache/rocketmq/issues/3585#issuecomment-988431301","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3585","id":988431301,"node_id":"IC_kwDOBHrsl8466kPF","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T02:10:16Z","updated_at":"2021-12-08T02:10:16Z","author_association":"CONTRIBUTOR","body":"Part A to F is complete. Unit test fixed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988431301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988465498","html_url":"https://github.com/apache/rocketmq/issues/3559#issuecomment-988465498","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3559","id":988465498,"node_id":"IC_kwDOBHrsl8466sla","user":{"login":"ShannonDing","id":16487356,"node_id":"MDQ6VXNlcjE2NDg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/16487356?v=4","gravatar_id":"","url":"https://api.github.com/users/ShannonDing","html_url":"https://github.com/ShannonDing","followers_url":"https://api.github.com/users/ShannonDing/followers","following_url":"https://api.github.com/users/ShannonDing/following{/other_user}","gists_url":"https://api.github.com/users/ShannonDing/gists{/gist_id}","starred_url":"https://api.github.com/users/ShannonDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShannonDing/subscriptions","organizations_url":"https://api.github.com/users/ShannonDing/orgs","repos_url":"https://api.github.com/users/ShannonDing/repos","events_url":"https://api.github.com/users/ShannonDing/events{/privacy}","received_events_url":"https://api.github.com/users/ShannonDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T03:28:29Z","updated_at":"2021-12-08T03:28:29Z","author_association":"MEMBER","body":"ping @clbigdata ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988465498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988533328","html_url":"https://github.com/apache/rocketmq/issues/3597#issuecomment-988533328","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3597","id":988533328,"node_id":"IC_kwDOBHrsl84669JQ","user":{"login":"zhaohai666","id":33314633,"node_id":"MDQ6VXNlcjMzMzE0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/33314633?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaohai666","html_url":"https://github.com/zhaohai666","followers_url":"https://api.github.com/users/zhaohai666/followers","following_url":"https://api.github.com/users/zhaohai666/following{/other_user}","gists_url":"https://api.github.com/users/zhaohai666/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaohai666/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaohai666/subscriptions","organizations_url":"https://api.github.com/users/zhaohai666/orgs","repos_url":"https://api.github.com/users/zhaohai666/repos","events_url":"https://api.github.com/users/zhaohai666/events{/privacy}","received_events_url":"https://api.github.com/users/zhaohai666/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T06:19:47Z","updated_at":"2021-12-16T02:57:44Z","author_association":"CONTRIBUTOR","body":"#3656","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988533328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988545031","html_url":"https://github.com/apache/rocketmq/issues/3601#issuecomment-988545031","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3601","id":988545031,"node_id":"IC_kwDOBHrsl8467AAH","user":{"login":"Zanglei06","id":4166897,"node_id":"MDQ6VXNlcjQxNjY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4166897?v=4","gravatar_id":"","url":"https://api.github.com/users/Zanglei06","html_url":"https://github.com/Zanglei06","followers_url":"https://api.github.com/users/Zanglei06/followers","following_url":"https://api.github.com/users/Zanglei06/following{/other_user}","gists_url":"https://api.github.com/users/Zanglei06/gists{/gist_id}","starred_url":"https://api.github.com/users/Zanglei06/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zanglei06/subscriptions","organizations_url":"https://api.github.com/users/Zanglei06/orgs","repos_url":"https://api.github.com/users/Zanglei06/repos","events_url":"https://api.github.com/users/Zanglei06/events{/privacy}","received_events_url":"https://api.github.com/users/Zanglei06/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T06:47:34Z","updated_at":"2021-12-08T06:47:34Z","author_association":"CONTRIBUTOR","body":"check out this pr #3600 that fix the bug.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988545031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988557278","html_url":"https://github.com/apache/rocketmq/issues/3602#issuecomment-988557278","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3602","id":988557278,"node_id":"IC_kwDOBHrsl8467C_e","user":{"login":"zhaohai666","id":33314633,"node_id":"MDQ6VXNlcjMzMzE0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/33314633?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaohai666","html_url":"https://github.com/zhaohai666","followers_url":"https://api.github.com/users/zhaohai666/followers","following_url":"https://api.github.com/users/zhaohai666/following{/other_user}","gists_url":"https://api.github.com/users/zhaohai666/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaohai666/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaohai666/subscriptions","organizations_url":"https://api.github.com/users/zhaohai666/orgs","repos_url":"https://api.github.com/users/zhaohai666/repos","events_url":"https://api.github.com/users/zhaohai666/events{/privacy}","received_events_url":"https://api.github.com/users/zhaohai666/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T07:12:53Z","updated_at":"2021-12-08T07:12:53Z","author_association":"CONTRIBUTOR","body":"#3599","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988557278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988583764","html_url":"https://github.com/apache/rocketmq/issues/3603#issuecomment-988583764","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3603","id":988583764,"node_id":"IC_kwDOBHrsl8467JdU","user":{"login":"lushilin","id":17663472,"node_id":"MDQ6VXNlcjE3NjYzNDcy","avatar_url":"https://avatars.githubusercontent.com/u/17663472?v=4","gravatar_id":"","url":"https://api.github.com/users/lushilin","html_url":"https://github.com/lushilin","followers_url":"https://api.github.com/users/lushilin/followers","following_url":"https://api.github.com/users/lushilin/following{/other_user}","gists_url":"https://api.github.com/users/lushilin/gists{/gist_id}","starred_url":"https://api.github.com/users/lushilin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lushilin/subscriptions","organizations_url":"https://api.github.com/users/lushilin/orgs","repos_url":"https://api.github.com/users/lushilin/repos","events_url":"https://api.github.com/users/lushilin/events{/privacy}","received_events_url":"https://api.github.com/users/lushilin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T08:02:24Z","updated_at":"2021-12-08T08:02:24Z","author_association":"CONTRIBUTOR","body":"PR: https://github.com/apache/rocketmq/pull/3605","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988583764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988595872","html_url":"https://github.com/apache/rocketmq/issues/3604#issuecomment-988595872","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3604","id":988595872,"node_id":"IC_kwDOBHrsl8467Mag","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T08:21:53Z","updated_at":"2021-12-08T08:21:53Z","author_association":"CONTRIBUTOR","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988595872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988618133","html_url":"https://github.com/apache/rocketmq/pull/3600#issuecomment-988618133","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3600","id":988618133,"node_id":"IC_kwDOBHrsl8467R2V","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T08:55:37Z","updated_at":"2021-12-08T08:55:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3600?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3600](https://codecov.io/gh/apache/rocketmq/pull/3600?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5908995) into [develop](https://codecov.io/gh/apache/rocketmq/commit/a779d69862c69db0d84fc27b35cfe5d08dc96377?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a779d69) will **decrease** coverage by `0.06%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3600/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3600?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3600      +/-   ##\n=============================================\n- Coverage      48.83%   48.76%   -0.07%     \n+ Complexity      4650     4644       -6     \n=============================================\n  Files            555      555              \n  Lines          36738    36739       +1     \n  Branches        4840     4840              \n=============================================\n- Hits           17942    17917      -25     \n- Misses         16550    16571      +21     \n- Partials        2246     2251       +5     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3600?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...pache/rocketmq/store/dledger/DLedgerCommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2RsZWRnZXIvRExlZGdlckNvbW1pdExvZy5qYXZh) | `75.97% <100.00%> (ø)` | |\n| [...ain/java/org/apache/rocketmq/test/util/MQWait.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RV2FpdC5qYXZh) | `43.24% <0.00%> (-10.82%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `43.28% <0.00%> (-7.47%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `66.07% <0.00%> (-5.36%)` | :arrow_down: |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | :arrow_down: |\n| [...mq/client/impl/consumer/RebalanceLitePullImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VMaXRlUHVsbEltcGwuamF2YQ==) | `48.52% <0.00%> (-1.48%)` | :arrow_down: |\n| [.../rocketmq/broker/filter/ConsumerFilterManager.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL0NvbnN1bWVyRmlsdGVyTWFuYWdlci5qYXZh) | `72.19% <0.00%> (-0.90%)` | :arrow_down: |\n| [...e/rocketmq/client/impl/consumer/RebalanceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VJbXBsLmphdmE=) | `39.45% <0.00%> (-0.79%)` | :arrow_down: |\n| [...n/java/org/apache/rocketmq/store/ha/HAService.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0hBU2VydmljZS5qYXZh) | `71.28% <0.00%> (-0.67%)` | :arrow_down: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `67.99% <0.00%> (-0.52%)` | :arrow_down: |\n| ... and [6 more](https://codecov.io/gh/apache/rocketmq/pull/3600/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3600?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3600?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [a779d69...5908995](https://codecov.io/gh/apache/rocketmq/pull/3600?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988618133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988625657","html_url":"https://github.com/apache/rocketmq/pull/3598#issuecomment-988625657","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3598","id":988625657,"node_id":"IC_kwDOBHrsl8467Tr5","user":{"login":"ShannonDing","id":16487356,"node_id":"MDQ6VXNlcjE2NDg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/16487356?v=4","gravatar_id":"","url":"https://api.github.com/users/ShannonDing","html_url":"https://github.com/ShannonDing","followers_url":"https://api.github.com/users/ShannonDing/followers","following_url":"https://api.github.com/users/ShannonDing/following{/other_user}","gists_url":"https://api.github.com/users/ShannonDing/gists{/gist_id}","starred_url":"https://api.github.com/users/ShannonDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShannonDing/subscriptions","organizations_url":"https://api.github.com/users/ShannonDing/orgs","repos_url":"https://api.github.com/users/ShannonDing/repos","events_url":"https://api.github.com/users/ShannonDing/events{/privacy}","received_events_url":"https://api.github.com/users/ShannonDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T09:06:06Z","updated_at":"2021-12-08T09:06:06Z","author_association":"MEMBER","body":"remove the commit for unitest.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988625657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988632775","html_url":"https://github.com/apache/rocketmq/issues/3601#issuecomment-988632775","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3601","id":988632775,"node_id":"IC_kwDOBHrsl8467VbH","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T09:15:19Z","updated_at":"2021-12-08T09:15:19Z","author_association":"CONTRIBUTOR","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988632775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988638799","html_url":"https://github.com/apache/rocketmq/issues/468#issuecomment-988638799","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/468","id":988638799,"node_id":"IC_kwDOBHrsl8467W5P","user":{"login":"RainingNight","id":7742554,"node_id":"MDQ6VXNlcjc3NDI1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7742554?v=4","gravatar_id":"","url":"https://api.github.com/users/RainingNight","html_url":"https://github.com/RainingNight","followers_url":"https://api.github.com/users/RainingNight/followers","following_url":"https://api.github.com/users/RainingNight/following{/other_user}","gists_url":"https://api.github.com/users/RainingNight/gists{/gist_id}","starred_url":"https://api.github.com/users/RainingNight/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RainingNight/subscriptions","organizations_url":"https://api.github.com/users/RainingNight/orgs","repos_url":"https://api.github.com/users/RainingNight/repos","events_url":"https://api.github.com/users/RainingNight/events{/privacy}","received_events_url":"https://api.github.com/users/RainingNight/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T09:23:22Z","updated_at":"2021-12-08T09:23:22Z","author_association":"NONE","body":"这项目凉了？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988638799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988662263","html_url":"https://github.com/apache/rocketmq/pull/3605#issuecomment-988662263","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3605","id":988662263,"node_id":"IC_kwDOBHrsl8467cn3","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T09:55:24Z","updated_at":"2021-12-08T09:55:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3605?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3605](https://codecov.io/gh/apache/rocketmq/pull/3605?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9a424bd) into [develop](https://codecov.io/gh/apache/rocketmq/commit/a779d69862c69db0d84fc27b35cfe5d08dc96377?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a779d69) will **decrease** coverage by `0.06%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3605/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3605?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3605      +/-   ##\n=============================================\n- Coverage      48.83%   48.77%   -0.07%     \n+ Complexity      4650     4643       -7     \n=============================================\n  Files            555      555              \n  Lines          36738    36721      -17     \n  Branches        4840     4835       -5     \n=============================================\n- Hits           17942    17909      -33     \n- Misses         16550    16559       +9     \n- Partials        2246     2253       +7     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3605?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...rocketmq/client/impl/factory/MQClientInstance.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9mYWN0b3J5L01RQ2xpZW50SW5zdGFuY2UuamF2YQ==) | `52.83% <ø> (+1.41%)` | :arrow_up: |\n| [...client/consumer/store/RemoteBrokerOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvUmVtb3RlQnJva2VyT2Zmc2V0U3RvcmUuamF2YQ==) | `68.46% <100.00%> (+3.60%)` | :arrow_up: |\n| [...apache/rocketmq/client/trace/TraceDataEncoder.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvVHJhY2VEYXRhRW5jb2Rlci5qYXZh) | `69.73% <100.00%> (+0.20%)` | :arrow_up: |\n| [...ain/java/org/apache/rocketmq/test/util/MQWait.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RV2FpdC5qYXZh) | `43.24% <0.00%> (-10.82%)` | :arrow_down: |\n| [...tmq/logappender/log4j2/RocketmqLog4j2Appender.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nYXBwZW5kZXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL2xvZ2FwcGVuZGVyL2xvZzRqMi9Sb2NrZXRtcUxvZzRqMkFwcGVuZGVyLmphdmE=) | `35.00% <0.00%> (-10.00%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-8.96%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `66.07% <0.00%> (-5.36%)` | :arrow_down: |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | :arrow_down: |\n| [.../rocketmq/broker/filter/ConsumerFilterManager.java](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL0NvbnN1bWVyRmlsdGVyTWFuYWdlci5qYXZh) | `72.19% <0.00%> (-0.90%)` | :arrow_down: |\n| ... and [7 more](https://codecov.io/gh/apache/rocketmq/pull/3605/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3605?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3605?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [a47f1ef...9a424bd](https://codecov.io/gh/apache/rocketmq/pull/3605?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988662263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988732103","html_url":"https://github.com/apache/rocketmq/issues/3603#issuecomment-988732103","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3603","id":988732103,"node_id":"IC_kwDOBHrsl8467trH","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T11:30:31Z","updated_at":"2021-12-08T11:30:31Z","author_association":"MEMBER","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/988732103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989451691","html_url":"https://github.com/apache/rocketmq/issues/3587#issuecomment-989451691","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3587","id":989451691,"node_id":"IC_kwDOBHrsl846-dWr","user":{"login":"ShannonDing","id":16487356,"node_id":"MDQ6VXNlcjE2NDg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/16487356?v=4","gravatar_id":"","url":"https://api.github.com/users/ShannonDing","html_url":"https://github.com/ShannonDing","followers_url":"https://api.github.com/users/ShannonDing/followers","following_url":"https://api.github.com/users/ShannonDing/following{/other_user}","gists_url":"https://api.github.com/users/ShannonDing/gists{/gist_id}","starred_url":"https://api.github.com/users/ShannonDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShannonDing/subscriptions","organizations_url":"https://api.github.com/users/ShannonDing/orgs","repos_url":"https://api.github.com/users/ShannonDing/repos","events_url":"https://api.github.com/users/ShannonDing/events{/privacy}","received_events_url":"https://api.github.com/users/ShannonDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T02:38:34Z","updated_at":"2021-12-09T02:38:34Z","author_association":"MEMBER","body":"done.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989451691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989474415","html_url":"https://github.com/apache/rocketmq/pull/3598#issuecomment-989474415","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3598","id":989474415,"node_id":"IC_kwDOBHrsl846-i5v","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T03:26:11Z","updated_at":"2021-12-09T03:26:11Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44870646/badge)](https://coveralls.io/builds/44870646)\n\nCoverage decreased (-0.002%) to 55.132% when pulling **2ed918df22fbc37b8e60f6c1e66a9051efd8d780 on zhaohai1299002788:parameter_verification** into **a779d69862c69db0d84fc27b35cfe5d08dc96377 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989474415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989474578","html_url":"https://github.com/apache/rocketmq/pull/3598#issuecomment-989474578","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3598","id":989474578,"node_id":"IC_kwDOBHrsl846-i8S","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T03:26:35Z","updated_at":"2021-12-09T03:26:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3598?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3598](https://codecov.io/gh/apache/rocketmq/pull/3598?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2ed918d) into [develop](https://codecov.io/gh/apache/rocketmq/commit/44bdeedad2d0e28717f5012d375d12af76305bb5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (44bdeed) will **increase** coverage by `0.72%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3598/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3598      +/-   ##\n=============================================\n+ Coverage      48.11%   48.83%   +0.72%     \n- Complexity      4577     4653      +76     \n=============================================\n  Files            552      555       +3     \n  Lines          36521    36732     +211     \n  Branches        4818     4842      +24     \n=============================================\n+ Hits           17572    17938     +366     \n+ Misses         16738    16553     -185     \n- Partials        2211     2241      +30     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...r/rebalance/AllocateMessageQueueByMachineRoom.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvcmViYWxhbmNlL0FsbG9jYXRlTWVzc2FnZVF1ZXVlQnlNYWNoaW5lUm9vbS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...rg/apache/rocketmq/common/stats/StatsSnapshot.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNTbmFwc2hvdC5qYXZh) | `84.61% <0.00%> (-15.39%)` | :arrow_down: |\n| [...rocketmq/broker/filtersrv/FilterServerManager.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyc3J2L0ZpbHRlclNlcnZlck1hbmFnZXIuamF2YQ==) | `20.00% <0.00%> (-14.29%)` | :arrow_down: |\n| [.../apache/rocketmq/common/stats/MomentStatsItem.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtLmphdmE=) | `38.09% <0.00%> (-9.53%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/store/GetMessageResult.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0dldE1lc3NhZ2VSZXN1bHQuamF2YQ==) | `71.73% <0.00%> (-6.84%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/common/stats/StatsItem.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtLmphdmE=) | `50.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...ketmq/client/impl/consumer/PullMessageService.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9QdWxsTWVzc2FnZVNlcnZpY2UuamF2YQ==) | `75.55% <0.00%> (-4.45%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `43.47% <0.00%> (-4.35%)` | :arrow_down: |\n| [.../java/org/apache/rocketmq/acl/common/AclUtils.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvY29tbW9uL0FjbFV0aWxzLmphdmE=) | `79.85% <0.00%> (-3.27%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/test/util/VerifyUtils.java](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL1ZlcmlmeVV0aWxzLmphdmE=) | `46.26% <0.00%> (-2.99%)` | :arrow_down: |\n| ... and [59 more](https://codecov.io/gh/apache/rocketmq/pull/3598/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3598?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3598?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [44bdeed...2ed918d](https://codecov.io/gh/apache/rocketmq/pull/3598?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989474578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989475980","html_url":"https://github.com/apache/rocketmq/pull/3599#issuecomment-989475980","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3599","id":989475980,"node_id":"IC_kwDOBHrsl846-jSM","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T03:30:16Z","updated_at":"2021-12-09T03:30:16Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44870666/badge)](https://coveralls.io/builds/44870666)\n\nCoverage increased (+1.0%) to 56.096% when pulling **96ad04ad0cb62e55679ea1f71d90ec0d4aa9180f on zhaohai1299002788:add-adminBrokerProcessor-test** into **a779d69862c69db0d84fc27b35cfe5d08dc96377 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989475980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989476117","html_url":"https://github.com/apache/rocketmq/pull/3599#issuecomment-989476117","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3599","id":989476117,"node_id":"IC_kwDOBHrsl846-jUV","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T03:30:39Z","updated_at":"2021-12-09T03:30:39Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3599?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3599](https://codecov.io/gh/apache/rocketmq/pull/3599?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (96ad04a) into [develop](https://codecov.io/gh/apache/rocketmq/commit/44bdeedad2d0e28717f5012d375d12af76305bb5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (44bdeed) will **increase** coverage by `1.49%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3599/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3599      +/-   ##\n=============================================\n+ Coverage      48.11%   49.60%   +1.49%     \n- Complexity      4577     4712     +135     \n=============================================\n  Files            552      555       +3     \n  Lines          36521    36726     +205     \n  Branches        4818     4840      +22     \n=============================================\n+ Hits           17572    18218     +646     \n+ Misses         16738    16228     -510     \n- Partials        2211     2280      +69     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...rg/apache/rocketmq/common/stats/StatsSnapshot.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNTbmFwc2hvdC5qYXZh) | `84.61% <0.00%> (-15.39%)` | :arrow_down: |\n| [.../apache/rocketmq/common/stats/MomentStatsItem.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtLmphdmE=) | `38.09% <0.00%> (-9.53%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-8.70%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/store/GetMessageResult.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0dldE1lc3NhZ2VSZXN1bHQuamF2YQ==) | `71.73% <0.00%> (-6.84%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `66.07% <0.00%> (-5.36%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/common/stats/StatsItem.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtLmphdmE=) | `50.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...ketmq/client/impl/consumer/PullMessageService.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9QdWxsTWVzc2FnZVNlcnZpY2UuamF2YQ==) | `75.55% <0.00%> (-4.45%)` | :arrow_down: |\n| [.../java/org/apache/rocketmq/acl/common/AclUtils.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvY29tbW9uL0FjbFV0aWxzLmphdmE=) | `79.85% <0.00%> (-3.27%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-2.99%)` | :arrow_down: |\n| ... and [62 more](https://codecov.io/gh/apache/rocketmq/pull/3599/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3599?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3599?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [44bdeed...96ad04a](https://codecov.io/gh/apache/rocketmq/pull/3599?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989476117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989578419","html_url":"https://github.com/apache/rocketmq/pull/3595#issuecomment-989578419","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3595","id":989578419,"node_id":"IC_kwDOBHrsl846-8Sz","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T07:14:40Z","updated_at":"2021-12-09T07:14:40Z","author_association":"MEMBER","body":"link https://github.com/apache/rocketmq/issues/3593","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989578419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989578556","html_url":"https://github.com/apache/rocketmq/issues/3593#issuecomment-989578556","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3593","id":989578556,"node_id":"IC_kwDOBHrsl846-8U8","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T07:14:55Z","updated_at":"2021-12-09T07:14:55Z","author_association":"MEMBER","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989578556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989644237","html_url":"https://github.com/apache/rocketmq/issues/3253#issuecomment-989644237","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3253","id":989644237,"node_id":"IC_kwDOBHrsl846_MXN","user":{"login":"xujianguo1","id":33023738,"node_id":"MDQ6VXNlcjMzMDIzNzM4","avatar_url":"https://avatars.githubusercontent.com/u/33023738?v=4","gravatar_id":"","url":"https://api.github.com/users/xujianguo1","html_url":"https://github.com/xujianguo1","followers_url":"https://api.github.com/users/xujianguo1/followers","following_url":"https://api.github.com/users/xujianguo1/following{/other_user}","gists_url":"https://api.github.com/users/xujianguo1/gists{/gist_id}","starred_url":"https://api.github.com/users/xujianguo1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xujianguo1/subscriptions","organizations_url":"https://api.github.com/users/xujianguo1/orgs","repos_url":"https://api.github.com/users/xujianguo1/repos","events_url":"https://api.github.com/users/xujianguo1/events{/privacy}","received_events_url":"https://api.github.com/users/xujianguo1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T08:58:44Z","updated_at":"2021-12-09T08:58:44Z","author_association":"NONE","body":"这里应该是一个bug，或者说不影响rocketMQ的整体运行。\r\n刷MappedFile，分为 CommitLog 与consumeQueue, \r\nCommitLog 因为存在最后的补写结束字符串操作，所以一定是offset < lastMappedfile.getFileFromOffset()+fileSize 的。\r\nconsumeQueue，单个索引20，每个文件是固定的索引个数假设为X，文件最后也不存在补写内容，每次MappedFile文件不够的时候，是会申请2个映射文件，所有当第2X个消息写入 后， 第二个MappedFile文件刚好写满, 于是 offset = lastMappedfile.getFileFromOffset()+fileSize ，就会不停的打印警告日志，当继续写消息，生成新的MappedFile后，就不会打了。 我是设置了 消息数量50，debug的时候，发现的。  \r\n希望能够改进一下，毕竟非常影响排查问题\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989644237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989655681","html_url":"https://github.com/apache/rocketmq/issues/3609#issuecomment-989655681","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3609","id":989655681,"node_id":"IC_kwDOBHrsl846_PKB","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T09:13:29Z","updated_at":"2021-12-09T09:13:29Z","author_association":"CONTRIBUTOR","body":"I was fixed，can see #3453 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989655681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989663402","html_url":"https://github.com/apache/rocketmq/pull/3610#issuecomment-989663402","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3610","id":989663402,"node_id":"IC_kwDOBHrsl846_RCq","user":{"login":"yuz10","id":14816818,"node_id":"MDQ6VXNlcjE0ODE2ODE4","avatar_url":"https://avatars.githubusercontent.com/u/14816818?v=4","gravatar_id":"","url":"https://api.github.com/users/yuz10","html_url":"https://github.com/yuz10","followers_url":"https://api.github.com/users/yuz10/followers","following_url":"https://api.github.com/users/yuz10/following{/other_user}","gists_url":"https://api.github.com/users/yuz10/gists{/gist_id}","starred_url":"https://api.github.com/users/yuz10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuz10/subscriptions","organizations_url":"https://api.github.com/users/yuz10/orgs","repos_url":"https://api.github.com/users/yuz10/repos","events_url":"https://api.github.com/users/yuz10/events{/privacy}","received_events_url":"https://api.github.com/users/yuz10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T09:23:10Z","updated_at":"2021-12-09T09:23:10Z","author_association":"MEMBER","body":"#3453 #3454 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989663402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989726748","html_url":"https://github.com/apache/rocketmq/issues/3611#issuecomment-989726748","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3611","id":989726748,"node_id":"IC_kwDOBHrsl846_ggc","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T10:35:58Z","updated_at":"2021-12-09T10:35:58Z","author_association":"MEMBER","body":"It is fixed in PR #3464 , you can merge and verify it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989726748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989728709","html_url":"https://github.com/apache/rocketmq/issues/3611#issuecomment-989728709","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3611","id":989728709,"node_id":"IC_kwDOBHrsl846_g_F","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T10:38:42Z","updated_at":"2021-12-09T10:38:42Z","author_association":"MEMBER","body":"I will close this issue, if you still have questions, you can reopen it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989728709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989755302","html_url":"https://github.com/apache/rocketmq/issues/3609#issuecomment-989755302","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3609","id":989755302,"node_id":"IC_kwDOBHrsl846_nem","user":{"login":"yuz10","id":14816818,"node_id":"MDQ6VXNlcjE0ODE2ODE4","avatar_url":"https://avatars.githubusercontent.com/u/14816818?v=4","gravatar_id":"","url":"https://api.github.com/users/yuz10","html_url":"https://github.com/yuz10","followers_url":"https://api.github.com/users/yuz10/followers","following_url":"https://api.github.com/users/yuz10/following{/other_user}","gists_url":"https://api.github.com/users/yuz10/gists{/gist_id}","starred_url":"https://api.github.com/users/yuz10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuz10/subscriptions","organizations_url":"https://api.github.com/users/yuz10/orgs","repos_url":"https://api.github.com/users/yuz10/repos","events_url":"https://api.github.com/users/yuz10/events{/privacy}","received_events_url":"https://api.github.com/users/yuz10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T11:13:02Z","updated_at":"2021-12-09T11:13:02Z","author_association":"MEMBER","body":"> I was fixed，can see #3453\r\n\r\nSee, I will close this.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989755302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989764832","html_url":"https://github.com/apache/rocketmq/pull/3610#issuecomment-989764832","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3610","id":989764832,"node_id":"IC_kwDOBHrsl846_pzg","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T11:25:58Z","updated_at":"2021-12-09T11:25:58Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44879215/badge)](https://coveralls.io/builds/44879215)\n\nCoverage decreased (-0.1%) to 54.376% when pulling **062e0cb397a63e01600cb77d07a5130de441ab79 on yuz10-patch-1** into **21faa68b4cdd7f7103eebd811ed87154ff69e177 on master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989764832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989874217","html_url":"https://github.com/apache/rocketmq/pull/3570#issuecomment-989874217","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3570","id":989874217,"node_id":"IC_kwDOBHrsl847AEgp","user":{"login":"martinezmatias","id":7804830,"node_id":"MDQ6VXNlcjc4MDQ4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/7804830?v=4","gravatar_id":"","url":"https://api.github.com/users/martinezmatias","html_url":"https://github.com/martinezmatias","followers_url":"https://api.github.com/users/martinezmatias/followers","following_url":"https://api.github.com/users/martinezmatias/following{/other_user}","gists_url":"https://api.github.com/users/martinezmatias/gists{/gist_id}","starred_url":"https://api.github.com/users/martinezmatias/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinezmatias/subscriptions","organizations_url":"https://api.github.com/users/martinezmatias/orgs","repos_url":"https://api.github.com/users/martinezmatias/repos","events_url":"https://api.github.com/users/martinezmatias/events{/privacy}","received_events_url":"https://api.github.com/users/martinezmatias/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T13:55:00Z","updated_at":"2021-12-09T13:55:00Z","author_association":"NONE","body":"Hi, we are researchers in software engineering, working on a novel GitHub bot for helping understand build failures.\r\n\r\nWe have run our prototype bot [flacocobot](https://github.com/SpoonLabs/flacoco) on this failing PR and below are the results.\r\n\r\nWhat do you think?\r\n\r\nThanks a lot! --Davide (@dginelli), André (@andre15silva), Matias (@martinezmatias), Benjamin (@danglotb), Martin (@monperrus)\r\n\r\n**********************************\r\n\r\nThe line (32) of the file org/apache/rocketmq/client/consumer/rebalance/AllocateMessageQueueAveragely has been identified with a suspiciousness value of 56.20%.\r\n\r\n<details>\r\n     <summary>Failing tests that cover this line</summary>\r\n\r\n- `org.apache.rocketmq.client.consumer.rebalance.AllocateMachineRoomNearByTest#testRun10RandomCase`\r\n- `org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyServiceTest#testConsumeMessageDirectly_WithException`\r\n- `org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyServiceTest#testConsumeMessageDirectly_WithNoException`\r\n- `org.apache.rocketmq.client.consumer.rebalance.AllocateMachineRoomNearByTest#test1`\r\n- `org.apache.rocketmq.client.consumer.rebalance.AllocateMachineRoomNearByTest#test3`\r\n- `org.apache.rocketmq.client.consumer.rebalance.AllocateMachineRoomNearByTest#test2`\r\n</details>\r\n\r\n**********************************\r\n\r\nThe line (47) of the file org/apache/rocketmq/client/consumer/rebalance/AllocateMessageQueueConsistentHash has been identified with a suspiciousness value of 45.88%.\r\n\r\n<details>\r\n     <summary>Failing tests that cover this line</summary>\r\n\r\n- `org.apache.rocketmq.client.consumer.rebalance.AllocateMessageQueueConsitentHashTest#testRun100RandomCase`\r\n- `org.apache.rocketmq.client.consumer.rebalance.AllocateMessageQueueConsitentHashTest#testAllocate1`\r\n- `org.apache.rocketmq.client.consumer.rebalance.AllocateMessageQueueConsitentHashTest#testAllocate2`\r\n- `org.apache.rocketmq.client.consumer.rebalance.AllocateMessageQueueConsitentHashTest#testMessageQueueIllegalArgument`\r\n</details>\r\n\r\n\r\n**********************************\r\n\r\nThe line (106) of the file org/apache/rocketmq/client/Validators has been identified with a suspiciousness value of 45.88%.\r\n\r\n<details>\r\n     <summary>Failing tests that cover this line</summary>\r\n\r\n- `org.apache.rocketmq.client.ValidatorsTest#testCheckTopic_HasIllegalCharacters`\r\n- `org.apache.rocketmq.client.ValidatorsTest#testCheckTopic_BlankTopic`\r\n- `org.apache.rocketmq.client.ValidatorsTest#testCheckTopic_Success`\r\n- `org.apache.rocketmq.client.ValidatorsTest#testCheckTopic_TooLongTopic`\r\n</details>\r\n\r\n\r\n**********************************\r\n\r\nThe line (41) of the file org/apache/rocketmq/client/impl/consumer/ProcessQueue has been identified with a suspiciousness value of 39.74%.\r\n\r\n<details>\r\n     <summary>Failing tests that cover this line</summary>\r\n\r\n- `org.apache.rocketmq.client.impl.consumer.ProcessQueueTest#testFillProcessQueueInfo`\r\n- `org.apache.rocketmq.client.impl.consumer.ProcessQueueTest#testCachedMessageSize`\r\n- `org.apache.rocketmq.client.impl.consumer.ProcessQueueTest#testCachedMessageCount`\r\n</details>\r\n\r\n\r\n**********************************\r\n\r\nThe line (24) of the file org/apache/rocketmq/client/producer/selector/SelectMessageQueueByHash has been identified with a suspiciousness value of 22.94%.\r\n\r\n<details>\r\n     <summary>Failing tests that cover this line</summary>\r\n\r\n- `org.apache.rocketmq.client.producer.selector.SelectMessageQueueByHashTest#testSelect`\r\n</details>\r\n\r\n\r\n**********************************\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989874217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989884189","html_url":"https://github.com/apache/rocketmq/pull/3612#issuecomment-989884189","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3612","id":989884189,"node_id":"IC_kwDOBHrsl847AG8d","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T14:06:44Z","updated_at":"2021-12-09T14:06:44Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44883268/badge)](https://coveralls.io/builds/44883268)\n\nCoverage decreased (-0.08%) to 55.12% when pulling **41832f702a7a0aee394a27578a829bbe3924d0b2 on Zanglei06:improve_build_key_dev** into **1e314f4100e0207198e4d132d9f0040230403b74 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989884189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989884733","html_url":"https://github.com/apache/rocketmq/pull/3612#issuecomment-989884733","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3612","id":989884733,"node_id":"IC_kwDOBHrsl847AHE9","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T14:07:23Z","updated_at":"2021-12-09T14:07:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3612?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3612](https://codecov.io/gh/apache/rocketmq/pull/3612?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (41832f7) into [develop](https://codecov.io/gh/apache/rocketmq/commit/e2a4b3778519ef761dac9ce4963eb20905fb35f4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e2a4b37) will **increase** coverage by `0.00%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3612/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3612?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@            Coverage Diff             @@\n##             develop    #3612   +/-   ##\n==========================================\n  Coverage      48.82%   48.82%           \n- Complexity      4643     4652    +9     \n==========================================\n  Files            555      555           \n  Lines          36721    36727    +6     \n  Branches        4835     4840    +5     \n==========================================\n+ Hits           17930    17933    +3     \n- Misses         16539    16545    +6     \n+ Partials        2252     2249    -3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3612?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...tmq/broker/longpolling/PullRequestHoldService.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbG9uZ3BvbGxpbmcvUHVsbFJlcXVlc3RIb2xkU2VydmljZS5qYXZh) | `20.48% <0.00%> (ø)` | |\n| [...tmq/logappender/log4j2/RocketmqLog4j2Appender.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nYXBwZW5kZXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL2xvZ2FwcGVuZGVyL2xvZzRqMi9Sb2NrZXRtcUxvZzRqMkFwcGVuZGVyLmphdmE=) | `35.00% <0.00%> (-10.00%)` | :arrow_down: |\n| [...pl/consumer/ConsumeMessageConcurrentlyService.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Db25zdW1lTWVzc2FnZUNvbmN1cnJlbnRseVNlcnZpY2UuamF2YQ==) | `47.57% <0.00%> (-0.98%)` | :arrow_down: |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `60.93% <0.00%> (-0.94%)` | :arrow_down: |\n| [...mq/client/consumer/store/LocalFileOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvTG9jYWxGaWxlT2Zmc2V0U3RvcmUuamF2YQ==) | `56.31% <0.00%> (-0.56%)` | :arrow_down: |\n| [...lient/impl/consumer/DefaultMQPushConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TVFQdXNoQ29uc3VtZXJJbXBsLmphdmE=) | `39.64% <0.00%> (-0.53%)` | :arrow_down: |\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `46.44% <0.00%> (-0.13%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `44.44% <0.00%> (ø)` | |\n| [...n/java/org/apache/rocketmq/test/util/FileUtil.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL0ZpbGVVdGlsLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...java/org/apache/rocketmq/common/Configuration.java](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQ29uZmlndXJhdGlvbi5qYXZh) | `0.00% <0.00%> (ø)` | |\n| ... and [14 more](https://codecov.io/gh/apache/rocketmq/pull/3612/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3612?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3612?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [e2a4b37...41832f7](https://codecov.io/gh/apache/rocketmq/pull/3612?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/989884733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990546867","html_url":"https://github.com/apache/rocketmq/issues/3613#issuecomment-990546867","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3613","id":990546867,"node_id":"IC_kwDOBHrsl847Couz","user":{"login":"xijiu","id":19780771,"node_id":"MDQ6VXNlcjE5NzgwNzcx","avatar_url":"https://avatars.githubusercontent.com/u/19780771?v=4","gravatar_id":"","url":"https://api.github.com/users/xijiu","html_url":"https://github.com/xijiu","followers_url":"https://api.github.com/users/xijiu/followers","following_url":"https://api.github.com/users/xijiu/following{/other_user}","gists_url":"https://api.github.com/users/xijiu/gists{/gist_id}","starred_url":"https://api.github.com/users/xijiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xijiu/subscriptions","organizations_url":"https://api.github.com/users/xijiu/orgs","repos_url":"https://api.github.com/users/xijiu/repos","events_url":"https://api.github.com/users/xijiu/events{/privacy}","received_events_url":"https://api.github.com/users/xijiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T02:27:49Z","updated_at":"2021-12-10T02:49:07Z","author_association":"CONTRIBUTOR","body":"I've fixed it\r\n\r\n[PR](https://github.com/apache/rocketmq/pull/3616)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990546867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990556383","html_url":"https://github.com/apache/rocketmq/issues/3223#issuecomment-990556383","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3223","id":990556383,"node_id":"IC_kwDOBHrsl847CrDf","user":{"login":"yiding-he","id":900606,"node_id":"MDQ6VXNlcjkwMDYwNg==","avatar_url":"https://avatars.githubusercontent.com/u/900606?v=4","gravatar_id":"","url":"https://api.github.com/users/yiding-he","html_url":"https://github.com/yiding-he","followers_url":"https://api.github.com/users/yiding-he/followers","following_url":"https://api.github.com/users/yiding-he/following{/other_user}","gists_url":"https://api.github.com/users/yiding-he/gists{/gist_id}","starred_url":"https://api.github.com/users/yiding-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiding-he/subscriptions","organizations_url":"https://api.github.com/users/yiding-he/orgs","repos_url":"https://api.github.com/users/yiding-he/repos","events_url":"https://api.github.com/users/yiding-he/events{/privacy}","received_events_url":"https://api.github.com/users/yiding-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T02:44:06Z","updated_at":"2021-12-10T13:30:35Z","author_association":"NONE","body":"我想劝各位发布类似开源项目的时候，脚本里面不要带上一大堆的 -XX: 调优参数，这些应该交给用户自己去调整，因为你不知道用户用的是什么 JVM。你不必强行帮用户去“优化”，只要留个口子就行了。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990556383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990565325","html_url":"https://github.com/apache/rocketmq/pull/3615#issuecomment-990565325","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3615","id":990565325,"node_id":"IC_kwDOBHrsl847CtPN","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T02:59:27Z","updated_at":"2021-12-10T02:59:27Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44903268/badge)](https://coveralls.io/builds/44903268)\n\nCoverage increased (+0.2%) to 55.347% when pulling **0564618558e17b49caeb9168a70f6021c17c118d on xijiu:master** into **38b20fb6a1a984ddee9b69161e1a2710c404fc08 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990565325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990566993","html_url":"https://github.com/apache/rocketmq/issues/3613#issuecomment-990566993","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3613","id":990566993,"node_id":"IC_kwDOBHrsl847CtpR","user":{"login":"HScarb","id":10664298,"node_id":"MDQ6VXNlcjEwNjY0Mjk4","avatar_url":"https://avatars.githubusercontent.com/u/10664298?v=4","gravatar_id":"","url":"https://api.github.com/users/HScarb","html_url":"https://github.com/HScarb","followers_url":"https://api.github.com/users/HScarb/followers","following_url":"https://api.github.com/users/HScarb/following{/other_user}","gists_url":"https://api.github.com/users/HScarb/gists{/gist_id}","starred_url":"https://api.github.com/users/HScarb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HScarb/subscriptions","organizations_url":"https://api.github.com/users/HScarb/orgs","repos_url":"https://api.github.com/users/HScarb/repos","events_url":"https://api.github.com/users/HScarb/events{/privacy}","received_events_url":"https://api.github.com/users/HScarb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T03:02:14Z","updated_at":"2021-12-10T03:08:11Z","author_association":"CONTRIBUTOR","body":"I figured out the reason of this issue is that the hashcode of `AaTopic#Aa` is same as `BbTopic#Aa`\r\n![image](https://user-images.githubusercontent.com/10664298/145510655-c7e8fbae-0981-4a03-bd7e-0b52f4cdc2ed.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990566993/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990573588","html_url":"https://github.com/apache/rocketmq/pull/3616#issuecomment-990573588","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3616","id":990573588,"node_id":"IC_kwDOBHrsl847CvQU","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T03:17:39Z","updated_at":"2021-12-17T16:57:10Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/45096650/badge)](https://coveralls.io/builds/45096650)\n\nCoverage increased (+0.1%) to 56.257% when pulling **168065accee9fa0e03da0d92560500e6c89123a7 on xijiu:develop** into **8cb14687f3946c95092631d9f9d1447024a741de on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990573588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990573686","html_url":"https://github.com/apache/rocketmq/pull/3616#issuecomment-990573686","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3616","id":990573686,"node_id":"IC_kwDOBHrsl847CvR2","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T03:17:50Z","updated_at":"2021-12-10T03:17:50Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3616?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3616](https://codecov.io/gh/apache/rocketmq/pull/3616?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4e5d834) into [develop](https://codecov.io/gh/apache/rocketmq/commit/50d45f23a186051d177990fd00a89d152c5c4dae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (50d45f2) will **increase** coverage by `0.18%`.\n> The diff coverage is `43.13%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3616/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3616?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3616      +/-   ##\n=============================================\n+ Coverage      48.86%   49.04%   +0.18%     \n- Complexity      4659     4679      +20     \n=============================================\n  Files            555      555              \n  Lines          36726    36734       +8     \n  Branches        4840     4844       +4     \n=============================================\n+ Hits           17946    18017      +71     \n+ Misses         16532    16456      -76     \n- Partials        2248     2261      +13     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3616?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...cketmq/broker/filter/MessageEvaluationContext.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL01lc3NhZ2VFdmFsdWF0aW9uQ29udGV4dC5qYXZh) | `30.76% <0.00%> (ø)` | |\n| [...ocketmq/client/consumer/DefaultMQPushConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvRGVmYXVsdE1RUHVzaENvbnN1bWVyLmphdmE=) | `55.94% <0.00%> (ø)` | |\n| [...mq/client/consumer/store/LocalFileOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvTG9jYWxGaWxlT2Zmc2V0U3RvcmUuamF2YQ==) | `56.31% <0.00%> (-0.56%)` | :arrow_down: |\n| [...java/org/apache/rocketmq/common/Configuration.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQ29uZmlndXJhdGlvbi5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...n/java/org/apache/rocketmq/test/util/FileUtil.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL0ZpbGVVdGlsLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (ø)` | |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `58.47% <55.55%> (+2.42%)` | :arrow_up: |\n| [.../rocketmq/broker/filter/ConsumerFilterManager.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL0NvbnN1bWVyRmlsdGVyTWFuYWdlci5qYXZh) | `72.19% <87.50%> (ø)` | |\n| [.../consumer/rebalance/AllocateMachineRoomNearby.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvcmViYWxhbmNlL0FsbG9jYXRlTWFjaGluZVJvb21OZWFyYnkuamF2YQ==) | `61.22% <100.00%> (ø)` | |\n| [...ava/io/openmessaging/rocketmq/utils/BeanUtils.java](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-b3Blbm1lc3NhZ2luZy9zcmMvbWFpbi9qYXZhL2lvL29wZW5tZXNzYWdpbmcvcm9ja2V0bXEvdXRpbHMvQmVhblV0aWxzLmphdmE=) | `60.71% <100.00%> (ø)` | |\n| ... and [24 more](https://codecov.io/gh/apache/rocketmq/pull/3616/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3616?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3616?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [1e314f4...4e5d834](https://codecov.io/gh/apache/rocketmq/pull/3616?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990573686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990574520","html_url":"https://github.com/apache/rocketmq/issues/3602#issuecomment-990574520","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3602","id":990574520,"node_id":"IC_kwDOBHrsl847Cve4","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T03:19:50Z","updated_at":"2021-12-10T03:19:50Z","author_association":"MEMBER","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990574520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990581045","html_url":"https://github.com/apache/rocketmq/pull/3616#issuecomment-990581045","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3616","id":990581045,"node_id":"IC_kwDOBHrsl847CxE1","user":{"login":"HScarb","id":10664298,"node_id":"MDQ6VXNlcjEwNjY0Mjk4","avatar_url":"https://avatars.githubusercontent.com/u/10664298?v=4","gravatar_id":"","url":"https://api.github.com/users/HScarb","html_url":"https://github.com/HScarb","followers_url":"https://api.github.com/users/HScarb/followers","following_url":"https://api.github.com/users/HScarb/following{/other_user}","gists_url":"https://api.github.com/users/HScarb/gists{/gist_id}","starred_url":"https://api.github.com/users/HScarb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HScarb/subscriptions","organizations_url":"https://api.github.com/users/HScarb/orgs","repos_url":"https://api.github.com/users/HScarb/repos","events_url":"https://api.github.com/users/HScarb/events{/privacy}","received_events_url":"https://api.github.com/users/HScarb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T03:35:50Z","updated_at":"2021-12-15T10:58:16Z","author_association":"CONTRIBUTOR","body":"There are some commented old code implementing topic and key check.\r\nAnyone know Why are these code commented？\r\nhttps://github.com/apache/rocketmq/pull/3616/files#diff-005813abb0e69e737cbda0fa3dcb04dddd4ab165336fae9619af60ea577fe883L958-L966\r\n```java\r\n//                    String[] keyArray = msg.getKeys().split(MessageConst.KEY_SEPARATOR);\r\n//                    if (topic.equals(msg.getTopic())) {\r\n//                        for (String k : keyArray) {\r\n//                            if (k.equals(key)) {\r\n//                                match = true;\r\n//                                break;\r\n//                            }\r\n//                        }\r\n//                    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990581045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990647845","html_url":"https://github.com/apache/rocketmq/pull/3414#issuecomment-990647845","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3414","id":990647845,"node_id":"IC_kwDOBHrsl847DBYl","user":{"login":"lushilin","id":17663472,"node_id":"MDQ6VXNlcjE3NjYzNDcy","avatar_url":"https://avatars.githubusercontent.com/u/17663472?v=4","gravatar_id":"","url":"https://api.github.com/users/lushilin","html_url":"https://github.com/lushilin","followers_url":"https://api.github.com/users/lushilin/followers","following_url":"https://api.github.com/users/lushilin/following{/other_user}","gists_url":"https://api.github.com/users/lushilin/gists{/gist_id}","starred_url":"https://api.github.com/users/lushilin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lushilin/subscriptions","organizations_url":"https://api.github.com/users/lushilin/orgs","repos_url":"https://api.github.com/users/lushilin/repos","events_url":"https://api.github.com/users/lushilin/events{/privacy}","received_events_url":"https://api.github.com/users/lushilin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T06:14:07Z","updated_at":"2021-12-10T06:14:07Z","author_association":"CONTRIBUTOR","body":"@panzhi33 @Git-Yang can this pr merge?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990647845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990731674","html_url":"https://github.com/apache/rocketmq/issues/3617#issuecomment-990731674","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3617","id":990731674,"node_id":"IC_kwDOBHrsl847DV2a","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T08:28:12Z","updated_at":"2021-12-10T08:28:12Z","author_association":"CONTRIBUTOR","body":"SLAVE_NOT_AVAILABLE is returned, the message is still sent successfully, and the client does not need to reissue","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990731674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990739447","html_url":"https://github.com/apache/rocketmq/issues/3617#issuecomment-990739447","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3617","id":990739447,"node_id":"IC_kwDOBHrsl847DXv3","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T08:41:19Z","updated_at":"2021-12-10T08:59:36Z","author_association":"CONTRIBUTOR","body":" public TransactionSendResult sendMessageInTransaction\r\n\r\n case SLAVE_NOT_AVAILABLE:\r\n                localTransactionState = LocalTransactionState.ROLLBACK_MESSAGE;\r\n                break;\r\n\r\nAccording to the above code, the transaction message will be rolled back when SLAVE_NOT_AVAILABLE","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990739447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990768344","html_url":"https://github.com/apache/rocketmq/issues/3617#issuecomment-990768344","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3617","id":990768344,"node_id":"IC_kwDOBHrsl847DezY","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T09:23:19Z","updated_at":"2021-12-10T09:23:19Z","author_association":"CONTRIBUTOR","body":"> public TransactionSendResult sendMessageInTransaction case SLAVE_NOT_AVAILABLE: localTransactionState = LocalTransactionState.ROLLBACK_MESSAGE; break; According to the above code, the transaction message will be rolled back when SLAVE_NOT_AVAILABLE\r\n\r\nyes，I didn't look carefully. I feel that the design here is not very reasonable. In org.apache.rocketmq.broker.processor.EndTransactionProcessor#sendFinalMessage, SLAVE_NOT_AVAILABLE is successful. And other message types are also successful by default. I think it needs to be unified here\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990768344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990826872","html_url":"https://github.com/apache/rocketmq/issues/3617#issuecomment-990826872","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3617","id":990826872,"node_id":"IC_kwDOBHrsl847DtF4","user":{"login":"shuangchengsun","id":33629004,"node_id":"MDQ6VXNlcjMzNjI5MDA0","avatar_url":"https://avatars.githubusercontent.com/u/33629004?v=4","gravatar_id":"","url":"https://api.github.com/users/shuangchengsun","html_url":"https://github.com/shuangchengsun","followers_url":"https://api.github.com/users/shuangchengsun/followers","following_url":"https://api.github.com/users/shuangchengsun/following{/other_user}","gists_url":"https://api.github.com/users/shuangchengsun/gists{/gist_id}","starred_url":"https://api.github.com/users/shuangchengsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuangchengsun/subscriptions","organizations_url":"https://api.github.com/users/shuangchengsun/orgs","repos_url":"https://api.github.com/users/shuangchengsun/repos","events_url":"https://api.github.com/users/shuangchengsun/events{/privacy}","received_events_url":"https://api.github.com/users/shuangchengsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T10:33:12Z","updated_at":"2021-12-10T10:33:12Z","author_association":"CONTRIBUTOR","body":"I also noticed this.  in the issue #1390 this problem has been discussed. However, this issue(#1390 ) did not attract attention at the time. Based on this situation, we fix this problem with a switch which controls the transaction message ignore slave error. maybe I can create a PR to fix it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990826872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990938200","html_url":"https://github.com/apache/rocketmq/issues/3622#issuecomment-990938200","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3622","id":990938200,"node_id":"IC_kwDOBHrsl847EIRY","user":{"login":"ltamber","id":5679413,"node_id":"MDQ6VXNlcjU2Nzk0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/5679413?v=4","gravatar_id":"","url":"https://api.github.com/users/ltamber","html_url":"https://github.com/ltamber","followers_url":"https://api.github.com/users/ltamber/followers","following_url":"https://api.github.com/users/ltamber/following{/other_user}","gists_url":"https://api.github.com/users/ltamber/gists{/gist_id}","starred_url":"https://api.github.com/users/ltamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltamber/subscriptions","organizations_url":"https://api.github.com/users/ltamber/orgs","repos_url":"https://api.github.com/users/ltamber/repos","events_url":"https://api.github.com/users/ltamber/events{/privacy}","received_events_url":"https://api.github.com/users/ltamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T12:36:41Z","updated_at":"2021-12-16T12:21:53Z","author_association":"CONTRIBUTOR","body":"Polished at #3635 #3623 #3621 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990938200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990960220","html_url":"https://github.com/apache/rocketmq/issues/3579#issuecomment-990960220","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3579","id":990960220,"node_id":"IC_kwDOBHrsl847ENpc","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T13:09:07Z","updated_at":"2021-12-10T13:09:07Z","author_association":"CONTRIBUTOR","body":"This method is public and now break compatibility. \r\n\r\nCan we rollback it?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990960220/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990960968","html_url":"https://github.com/apache/rocketmq/issues/3579#issuecomment-990960968","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3579","id":990960968,"node_id":"IC_kwDOBHrsl847EN1I","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T13:10:06Z","updated_at":"2021-12-10T13:10:06Z","author_association":"CONTRIBUTOR","body":"@duhenglucky @RongtongJin ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990960968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990968266","html_url":"https://github.com/apache/rocketmq/issues/3579#issuecomment-990968266","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3579","id":990968266,"node_id":"IC_kwDOBHrsl847EPnK","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T13:20:07Z","updated_at":"2021-12-10T13:20:38Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n> \r\n\r\nIt seems that no relevant interface is exposed to the users.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990968266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990982402","html_url":"https://github.com/apache/rocketmq/issues/3579#issuecomment-990982402","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3579","id":990982402,"node_id":"IC_kwDOBHrsl847ETEC","user":{"login":"shuangchengsun","id":33629004,"node_id":"MDQ6VXNlcjMzNjI5MDA0","avatar_url":"https://avatars.githubusercontent.com/u/33629004?v=4","gravatar_id":"","url":"https://api.github.com/users/shuangchengsun","html_url":"https://github.com/shuangchengsun","followers_url":"https://api.github.com/users/shuangchengsun/followers","following_url":"https://api.github.com/users/shuangchengsun/following{/other_user}","gists_url":"https://api.github.com/users/shuangchengsun/gists{/gist_id}","starred_url":"https://api.github.com/users/shuangchengsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuangchengsun/subscriptions","organizations_url":"https://api.github.com/users/shuangchengsun/orgs","repos_url":"https://api.github.com/users/shuangchengsun/repos","events_url":"https://api.github.com/users/shuangchengsun/events{/privacy}","received_events_url":"https://api.github.com/users/shuangchengsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T13:39:32Z","updated_at":"2021-12-10T13:39:32Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/33629004/145582633-165b2149-e96f-440b-8091-ad0a07637fcb.png)\r\nno, we use it in our project.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/990982402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991015601","html_url":"https://github.com/apache/rocketmq/pull/3623#issuecomment-991015601","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3623","id":991015601,"node_id":"IC_kwDOBHrsl847EbKx","user":{"login":"ltamber","id":5679413,"node_id":"MDQ6VXNlcjU2Nzk0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/5679413?v=4","gravatar_id":"","url":"https://api.github.com/users/ltamber","html_url":"https://github.com/ltamber","followers_url":"https://api.github.com/users/ltamber/followers","following_url":"https://api.github.com/users/ltamber/following{/other_user}","gists_url":"https://api.github.com/users/ltamber/gists{/gist_id}","starred_url":"https://api.github.com/users/ltamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltamber/subscriptions","organizations_url":"https://api.github.com/users/ltamber/orgs","repos_url":"https://api.github.com/users/ltamber/repos","events_url":"https://api.github.com/users/ltamber/events{/privacy}","received_events_url":"https://api.github.com/users/ltamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T14:24:20Z","updated_at":"2021-12-10T14:24:20Z","author_association":"CONTRIBUTOR","body":"@duhenglucky PTAL","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991015601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991037989","html_url":"https://github.com/apache/rocketmq/issues/2549#issuecomment-991037989","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2549","id":991037989,"node_id":"IC_kwDOBHrsl847Egol","user":{"login":"yuz10","id":14816818,"node_id":"MDQ6VXNlcjE0ODE2ODE4","avatar_url":"https://avatars.githubusercontent.com/u/14816818?v=4","gravatar_id":"","url":"https://api.github.com/users/yuz10","html_url":"https://github.com/yuz10","followers_url":"https://api.github.com/users/yuz10/followers","following_url":"https://api.github.com/users/yuz10/following{/other_user}","gists_url":"https://api.github.com/users/yuz10/gists{/gist_id}","starred_url":"https://api.github.com/users/yuz10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuz10/subscriptions","organizations_url":"https://api.github.com/users/yuz10/orgs","repos_url":"https://api.github.com/users/yuz10/repos","events_url":"https://api.github.com/users/yuz10/events{/privacy}","received_events_url":"https://api.github.com/users/yuz10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T14:53:38Z","updated_at":"2021-12-10T14:55:34Z","author_association":"MEMBER","body":"I guess, if message is an \"unique key\", then decodeMessageId will throw an exception, then goto \"queryMessageByUniqKey\", otherwise the id is an \"offset\" messege id, goto \"viewMessage\", thus that is not useless","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991037989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991064414","html_url":"https://github.com/apache/rocketmq/issues/3624#issuecomment-991064414","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3624","id":991064414,"node_id":"IC_kwDOBHrsl847EnFe","user":{"login":"yuz10","id":14816818,"node_id":"MDQ6VXNlcjE0ODE2ODE4","avatar_url":"https://avatars.githubusercontent.com/u/14816818?v=4","gravatar_id":"","url":"https://api.github.com/users/yuz10","html_url":"https://github.com/yuz10","followers_url":"https://api.github.com/users/yuz10/followers","following_url":"https://api.github.com/users/yuz10/following{/other_user}","gists_url":"https://api.github.com/users/yuz10/gists{/gist_id}","starred_url":"https://api.github.com/users/yuz10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuz10/subscriptions","organizations_url":"https://api.github.com/users/yuz10/orgs","repos_url":"https://api.github.com/users/yuz10/repos","events_url":"https://api.github.com/users/yuz10/events{/privacy}","received_events_url":"https://api.github.com/users/yuz10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T15:26:46Z","updated_at":"2021-12-10T15:27:31Z","author_association":"MEMBER","body":"@panzhi33 Could you take a look please?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991064414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991144438","html_url":"https://github.com/apache/rocketmq/issues/3624#issuecomment-991144438","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3624","id":991144438,"node_id":"IC_kwDOBHrsl847E6n2","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T17:09:11Z","updated_at":"2021-12-10T17:09:11Z","author_association":"CONTRIBUTOR","body":"> @panzhi33 Could you take a look please?\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991144438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991407704","html_url":"https://github.com/apache/rocketmq/pull/3514#issuecomment-991407704","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3514","id":991407704,"node_id":"IC_kwDOBHrsl847F65Y","user":{"login":"yuz10","id":14816818,"node_id":"MDQ6VXNlcjE0ODE2ODE4","avatar_url":"https://avatars.githubusercontent.com/u/14816818?v=4","gravatar_id":"","url":"https://api.github.com/users/yuz10","html_url":"https://github.com/yuz10","followers_url":"https://api.github.com/users/yuz10/followers","following_url":"https://api.github.com/users/yuz10/following{/other_user}","gists_url":"https://api.github.com/users/yuz10/gists{/gist_id}","starred_url":"https://api.github.com/users/yuz10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuz10/subscriptions","organizations_url":"https://api.github.com/users/yuz10/orgs","repos_url":"https://api.github.com/users/yuz10/repos","events_url":"https://api.github.com/users/yuz10/events{/privacy}","received_events_url":"https://api.github.com/users/yuz10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T01:46:42Z","updated_at":"2021-12-11T01:46:42Z","author_association":"MEMBER","body":"I will close the issue for duplication with #3369 ( #3386 )","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991407704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991408915","html_url":"https://github.com/apache/rocketmq/pull/3386#issuecomment-991408915","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3386","id":991408915,"node_id":"IC_kwDOBHrsl847F7MT","user":{"login":"yuz10","id":14816818,"node_id":"MDQ6VXNlcjE0ODE2ODE4","avatar_url":"https://avatars.githubusercontent.com/u/14816818?v=4","gravatar_id":"","url":"https://api.github.com/users/yuz10","html_url":"https://github.com/yuz10","followers_url":"https://api.github.com/users/yuz10/followers","following_url":"https://api.github.com/users/yuz10/following{/other_user}","gists_url":"https://api.github.com/users/yuz10/gists{/gist_id}","starred_url":"https://api.github.com/users/yuz10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuz10/subscriptions","organizations_url":"https://api.github.com/users/yuz10/orgs","repos_url":"https://api.github.com/users/yuz10/repos","events_url":"https://api.github.com/users/yuz10/events{/privacy}","received_events_url":"https://api.github.com/users/yuz10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T01:52:29Z","updated_at":"2021-12-11T01:52:29Z","author_association":"MEMBER","body":"> > The change is not compatible for go and cpp client, So the best way is add a new version of protocol.\r\n> \r\n> The go and cpp client both use the standard json serializer and deserializer libraries. In fact, the go and cpp client have not implemented those complex invalid json-formatted requests and responses, so they have not faced this problem yet, but if they continue introducing new features, they will also be stuck in this problem at one day.\r\n\r\nI dont think so, The line https://github.com/apache/rocketmq-client-go/blob/master/internal/route.go#L533 is not compatible with standard json.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991408915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991435610","html_url":"https://github.com/apache/rocketmq/issues/3624#issuecomment-991435610","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3624","id":991435610,"node_id":"IC_kwDOBHrsl847GBta","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T03:34:54Z","updated_at":"2021-12-11T03:34:54Z","author_association":"CONTRIBUTOR","body":"This is because org.apache.rocketmq.client.producer.RequestFutureHolder is a singleton class. If all the test cases are executed together, the thread pool in RequestFutureHolder will be closed after the execution of @After pushConsumer.shutdown() after the completion of the first test case, the following test cases will have this exception, and a single test is normal of. Now I modify @After to @AfterClass","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991435610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991437424","html_url":"https://github.com/apache/rocketmq/pull/3509#issuecomment-991437424","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3509","id":991437424,"node_id":"IC_kwDOBHrsl847GCJw","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T03:40:25Z","updated_at":"2021-12-11T03:40:25Z","author_association":"CONTRIBUTOR","body":"This commit cause critical problem. we should rollback it. And I sugguest review PR #3540 again.\r\n\r\n@RongtongJin @XiaoyiPeng @duhengforever \r\n\r\nThe broker hangs in our test:\r\n```\r\n\"BrokerControllerScheduledThread1\" #30 prio=5 os_prio=31 tid=0x00007fabdb29d800 nid=0x6a03 runnable [0x000070000ae7c000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.util.concurrent.LinkedBlockingQueue$LBQSpliterator.tryAdvance(LinkedBlockingQueue.java:950)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\r\n\tat org.apache.rocketmq.broker.BrokerController.headSlowTimeMills(BrokerController.java:658)\r\n\tat org.apache.rocketmq.broker.BrokerController.headSlowTimeMills4SendThreadPoolQueue(BrokerController.java:672)\r\n\tat org.apache.rocketmq.broker.BrokerController.printWaterMark(BrokerController.java:688)\r\n\tat org.apache.rocketmq.broker.BrokerController$5.run(BrokerController.java:386)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n\t- <0x000000078014eeb8> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n\t- <0x000000078014ef00> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n\t- <0x0000000780d2ba58> (a java.util.concurrent.ThreadPoolExecutor$Worker)\r\n\r\n\"NettyServerCodecThread_8\" #81 prio=5 os_prio=31 tid=0x00007fabdb294000 nid=0x13d03 waiting on condition [0x000070000e215000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x000000078014ef00> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\r\n\tat java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)\r\n\tat java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)\r\n\tat java.util.concurrent.LinkedBlockingQueue.offer(LinkedBlockingQueue.java:418)\r\n\tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1371)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.processRequestCommand(NettyRemotingAbstract.java:256)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.processMessageReceived(NettyRemotingAbstract.java:158)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$NettyServerHandler.channelRead0(NettyRemotingServer.java:420)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$NettyServerHandler.channelRead0(NettyRemotingServer.java:415)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$HandshakeHandler.channelRead0(NettyRemotingServer.java:411)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$HandshakeHandler.channelRead0(NettyRemotingServer.java:352)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.access$600(AbstractChannelHandlerContext.java:61)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$7.run(AbstractChannelHandlerContext.java:370)\r\n\tat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n\t- None\r\n\r\n\"NettyServerCodecThread_6\" #79 prio=5 os_prio=31 tid=0x00007fabe209d800 nid=0xc503 waiting on condition [0x000070000e00f000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x000000078014ef00> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\r\n\tat java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)\r\n\tat java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)\r\n\tat java.util.concurrent.LinkedBlockingQueue.offer(LinkedBlockingQueue.java:418)\r\n\tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1371)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.processRequestCommand(NettyRemotingAbstract.java:256)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.processMessageReceived(NettyRemotingAbstract.java:158)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$NettyServerHandler.channelRead0(NettyRemotingServer.java:420)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$NettyServerHandler.channelRead0(NettyRemotingServer.java:415)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$HandshakeHandler.channelRead0(NettyRemotingServer.java:411)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$HandshakeHandler.channelRead0(NettyRemotingServer.java:352)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.access$600(AbstractChannelHandlerContext.java:61)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$7.run(AbstractChannelHandlerContext.java:370)\r\n\tat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n\t- None\r\n\r\n...\r\n```\r\n\r\n\r\nsome simple code to re-produce it:\r\n```\r\npublic class TestQueue {\r\n    public static void main(String[] args) throws Exception {\r\n        LinkedBlockingQueue<Object> queue = new LinkedBlockingQueue<>(1000);\r\n        for (int i = 0; i < 10; i++) {\r\n            new Thread(() -> {\r\n                while (true) {\r\n                    queue.offer(new Object());\r\n                    queue.remove();\r\n                }\r\n            }).start();\r\n        }\r\n        while (true) {\r\n            System.out.println(\"begin scan, i still alive\");\r\n            queue.stream()\r\n                    .filter(o -> o == null)\r\n                    .findFirst()\r\n                    .isPresent();\r\n            Thread.sleep(100);\r\n            System.out.println(\"finish scan, i still alive\");\r\n        }\r\n    }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991437424/reactions","total_count":10,"+1":10,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991457729","html_url":"https://github.com/apache/rocketmq/pull/3509#issuecomment-991457729","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3509","id":991457729,"node_id":"IC_kwDOBHrsl847GHHB","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T04:41:10Z","updated_at":"2021-12-11T04:41:10Z","author_association":"CONTRIBUTOR","body":"> This commit cause critical problem. we should rollback it. And I sugguest review PR #3540 again.\r\n> \r\n> @RongtongJin @XiaoyiPeng @duhengforever\r\n> \r\n> The broker hangs in our test:\r\n> \r\n> ```\r\n> \"BrokerControllerScheduledThread1\" #30 prio=5 os_prio=31 tid=0x00007fabdb29d800 nid=0x6a03 runnable [0x000070000ae7c000]\r\n>    java.lang.Thread.State: RUNNABLE\r\n> \tat java.util.concurrent.LinkedBlockingQueue$LBQSpliterator.tryAdvance(LinkedBlockingQueue.java:950)\r\n> \tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n> \tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\r\n> \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\r\n> \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n> \tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\r\n> \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n> \tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\r\n> \tat org.apache.rocketmq.broker.BrokerController.headSlowTimeMills(BrokerController.java:658)\r\n> \tat org.apache.rocketmq.broker.BrokerController.headSlowTimeMills4SendThreadPoolQueue(BrokerController.java:672)\r\n> \tat org.apache.rocketmq.broker.BrokerController.printWaterMark(BrokerController.java:688)\r\n> \tat org.apache.rocketmq.broker.BrokerController$5.run(BrokerController.java:386)\r\n> \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n> \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n> \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n> \tat java.lang.Thread.run(Thread.java:748)\r\n> \r\n>    Locked ownable synchronizers:\r\n> \t- <0x000000078014eeb8> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n> \t- <0x000000078014ef00> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n> \t- <0x0000000780d2ba58> (a java.util.concurrent.ThreadPoolExecutor$Worker)\r\n> \r\n> \"NettyServerCodecThread_8\" #81 prio=5 os_prio=31 tid=0x00007fabdb294000 nid=0x13d03 waiting on condition [0x000070000e215000]\r\n>    java.lang.Thread.State: WAITING (parking)\r\n> \tat sun.misc.Unsafe.park(Native Method)\r\n> \t- parking to wait for  <0x000000078014ef00> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\r\n> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\r\n> \tat java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)\r\n> \tat java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)\r\n> \tat java.util.concurrent.LinkedBlockingQueue.offer(LinkedBlockingQueue.java:418)\r\n> \tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1371)\r\n> \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.processRequestCommand(NettyRemotingAbstract.java:256)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.processMessageReceived(NettyRemotingAbstract.java:158)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$NettyServerHandler.channelRead0(NettyRemotingServer.java:420)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$NettyServerHandler.channelRead0(NettyRemotingServer.java:415)\r\n> \tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n> \tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n> \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n> \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\r\n> \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\r\n> \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$HandshakeHandler.channelRead0(NettyRemotingServer.java:411)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$HandshakeHandler.channelRead0(NettyRemotingServer.java:352)\r\n> \tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.access$600(AbstractChannelHandlerContext.java:61)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext$7.run(AbstractChannelHandlerContext.java:370)\r\n> \tat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\r\n> \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n> \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n> \tat java.lang.Thread.run(Thread.java:748)\r\n> \r\n>    Locked ownable synchronizers:\r\n> \t- None\r\n> \r\n> \"NettyServerCodecThread_6\" #79 prio=5 os_prio=31 tid=0x00007fabe209d800 nid=0xc503 waiting on condition [0x000070000e00f000]\r\n>    java.lang.Thread.State: WAITING (parking)\r\n> \tat sun.misc.Unsafe.park(Native Method)\r\n> \t- parking to wait for  <0x000000078014ef00> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\r\n> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\r\n> \tat java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)\r\n> \tat java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)\r\n> \tat java.util.concurrent.LinkedBlockingQueue.offer(LinkedBlockingQueue.java:418)\r\n> \tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1371)\r\n> \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.processRequestCommand(NettyRemotingAbstract.java:256)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.processMessageReceived(NettyRemotingAbstract.java:158)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$NettyServerHandler.channelRead0(NettyRemotingServer.java:420)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$NettyServerHandler.channelRead0(NettyRemotingServer.java:415)\r\n> \tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n> \tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n> \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n> \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\r\n> \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\r\n> \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$HandshakeHandler.channelRead0(NettyRemotingServer.java:411)\r\n> \tat org.apache.rocketmq.remoting.netty.NettyRemotingServer$HandshakeHandler.channelRead0(NettyRemotingServer.java:352)\r\n> \tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext.access$600(AbstractChannelHandlerContext.java:61)\r\n> \tat io.netty.channel.AbstractChannelHandlerContext$7.run(AbstractChannelHandlerContext.java:370)\r\n> \tat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\r\n> \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n> \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n> \tat java.lang.Thread.run(Thread.java:748)\r\n> \r\n>    Locked ownable synchronizers:\r\n> \t- None\r\n> \r\n> ...\r\n> ```\r\n> \r\n> some simple code to re-produce it:\r\n> \r\n> ```\r\n> public class TestQueue {\r\n>     public static void main(String[] args) throws Exception {\r\n>         LinkedBlockingQueue<Object> queue = new LinkedBlockingQueue<>(1000);\r\n>         for (int i = 0; i < 10; i++) {\r\n>             new Thread(() -> {\r\n>                 while (true) {\r\n>                     queue.offer(new Object());\r\n>                     queue.remove();\r\n>                 }\r\n>             }).start();\r\n>         }\r\n>         while (true) {\r\n>             System.out.println(\"begin scan, i still alive\");\r\n>             queue.stream()\r\n>                     .filter(o -> o == null)\r\n>                     .findFirst()\r\n>                     .isPresent();\r\n>             Thread.sleep(100);\r\n>             System.out.println(\"finish scan, i still alive\");\r\n>         }\r\n>     }\r\n> }\r\n> ```\r\n\r\nGood catch！I will fix it ASAP.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991457729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991502618","html_url":"https://github.com/apache/rocketmq/issues/3627#issuecomment-991502618","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3627","id":991502618,"node_id":"IC_kwDOBHrsl847GSEa","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T07:11:13Z","updated_at":"2021-12-11T07:11:13Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/29321745/145667836-5b5d95f0-6702-42e4-bd1b-dfa6171f2912.png)\r\nHere topic is null, so  need to set topic when the message is initialized。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991502618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991553024","html_url":"https://github.com/apache/rocketmq/pull/3475#issuecomment-991553024","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3475","id":991553024,"node_id":"IC_kwDOBHrsl847GeYA","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T08:39:57Z","updated_at":"2021-12-11T08:39:57Z","author_association":"MEMBER","body":"LGTM.\r\nAll the size delimited serialization has such vulnerability","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991553024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991559379","html_url":"https://github.com/apache/rocketmq/pull/3625#issuecomment-991559379","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3625","id":991559379,"node_id":"IC_kwDOBHrsl847Gf7T","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T08:56:56Z","updated_at":"2021-12-11T08:56:56Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44931598/badge)](https://coveralls.io/builds/44931598)\n\nCoverage decreased (-0.07%) to 56.184% when pulling **95342651b2070e612898c555b9460fad4a0b411a on yuz10:develop** into **fcb2486f1b77a5a83fd27a792e01fd6f83dabbcd on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991559379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991559463","html_url":"https://github.com/apache/rocketmq/pull/3625#issuecomment-991559463","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3625","id":991559463,"node_id":"IC_kwDOBHrsl847Gf8n","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T08:57:07Z","updated_at":"2021-12-11T08:57:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3625?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3625](https://codecov.io/gh/apache/rocketmq/pull/3625?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fcb2486) into [develop](https://codecov.io/gh/apache/rocketmq/commit/fcb2486f1b77a5a83fd27a792e01fd6f83dabbcd?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fcb2486) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n> :exclamation: Current head fcb2486 differs from pull request most recent head 9534265. Consider uploading reports for the commit 9534265 to get more accurate results\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3625/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@            Coverage Diff             @@\n##             develop    #3625   +/-   ##\n==========================================\n  Coverage      49.66%   49.66%           \n  Complexity      4716     4716           \n==========================================\n  Files            555      555           \n  Lines          36758    36758           \n  Branches        4845     4845           \n==========================================\n  Hits           18256    18256           \n  Misses         16220    16220           \n  Partials        2282     2282           \n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3625?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3625?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [fcb2486...9534265](https://codecov.io/gh/apache/rocketmq/pull/3625?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991559463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991576649","html_url":"https://github.com/apache/rocketmq/pull/3475#issuecomment-991576649","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3475","id":991576649,"node_id":"IC_kwDOBHrsl847GkJJ","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T09:40:00Z","updated_at":"2021-12-11T09:40:00Z","author_association":"MEMBER","body":"Great catch. But this PR includes too many code style modifications, do you import the rmq_codeStyle.xml to your IDE?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991576649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991578393","html_url":"https://github.com/apache/rocketmq/pull/3475#issuecomment-991578393","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3475","id":991578393,"node_id":"IC_kwDOBHrsl847GkkZ","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T09:46:16Z","updated_at":"2021-12-11T09:46:16Z","author_association":"CONTRIBUTOR","body":"> Great catch. But this PR includes too many code style modifications, do you import the rmq_codeStyle.xml to your IDE?\r\n\r\nMerge it first for security reason, code styles will be fix in another PR :)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991578393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991618239","html_url":"https://github.com/apache/rocketmq/pull/3496#issuecomment-991618239","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3496","id":991618239,"node_id":"IC_kwDOBHrsl847GuS_","user":{"login":"Cczzzz","id":32947555,"node_id":"MDQ6VXNlcjMyOTQ3NTU1","avatar_url":"https://avatars.githubusercontent.com/u/32947555?v=4","gravatar_id":"","url":"https://api.github.com/users/Cczzzz","html_url":"https://github.com/Cczzzz","followers_url":"https://api.github.com/users/Cczzzz/followers","following_url":"https://api.github.com/users/Cczzzz/following{/other_user}","gists_url":"https://api.github.com/users/Cczzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/Cczzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cczzzz/subscriptions","organizations_url":"https://api.github.com/users/Cczzzz/orgs","repos_url":"https://api.github.com/users/Cczzzz/repos","events_url":"https://api.github.com/users/Cczzzz/events{/privacy}","received_events_url":"https://api.github.com/users/Cczzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T12:03:01Z","updated_at":"2021-12-11T12:03:01Z","author_association":"CONTRIBUTOR","body":"Who can help me ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991618239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991684075","html_url":"https://github.com/apache/rocketmq/pull/3509#issuecomment-991684075","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3509","id":991684075,"node_id":"IC_kwDOBHrsl847G-Xr","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T15:31:44Z","updated_at":"2021-12-11T15:31:44Z","author_association":"CONTRIBUTOR","body":"> This commit cause critical problem. we should rollback it. And I sugguest review PR #3540 again.\r\n> \r\n\r\nThanks for your review. @areyouok , @RongtongJin \r\n\r\n I know the reason. This is a potential **Lock Ordering Deadlock** caused by `putLock` and `takeLock` of `LinkedBlockingQueue`\r\n\r\nThe method `offer()` will grab the `LinkedBlockingQueue#putLock` and method `remove()` will grab the `LinkedBlockingQueue#takeLock` .\r\n\r\n Meanwhile,  in this PR, stream  operation of `LinkedBlockingQueue` will  invoking `LinkedBlockingQueue#fullyLock()` method in `LinkedBlockingQueue$LBQSpliterator#tryAdvance()` as shown below: \r\n \r\n```java\r\n public boolean tryAdvance(Consumer<? super E> action) {\r\n            if (action == null) throw new NullPointerException();\r\n            final LinkedBlockingQueue<E> q = this.queue;\r\n            if (!exhausted) {\r\n                E e = null;\r\n                q.fullyLock();\r\n                try {\r\n                    if (current == null)\r\n                        current = q.head.next;\r\n                    while (current != null) {\r\n                        e = current.item;\r\n                        current = current.next;\r\n                        if (e != null)\r\n                            break;\r\n                    }\r\n                } finally {\r\n                    q.fullyUnlock();\r\n                }\r\n                if (current == null)\r\n                    exhausted = true;\r\n                if (e != null) {\r\n                    action.accept(e);\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n```\r\n\r\nI will fix it!","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991684075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991686924","html_url":"https://github.com/apache/rocketmq/pull/3631#issuecomment-991686924","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3631","id":991686924,"node_id":"IC_kwDOBHrsl847G_EM","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T15:39:55Z","updated_at":"2021-12-11T15:39:55Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44933064/badge)](https://coveralls.io/builds/44933064)\n\nCoverage decreased (-0.06%) to 56.209% when pulling **06235724a6ca012e90ef4f2c5101fb31e611d1d7 on RongtongJin:fix_2516** into **e1571eedb5e73abb4e9f1530e08494b4088af5a3 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991686924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991686982","html_url":"https://github.com/apache/rocketmq/pull/3631#issuecomment-991686982","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3631","id":991686982,"node_id":"IC_kwDOBHrsl847G_FG","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T15:40:06Z","updated_at":"2021-12-11T15:40:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3631?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3631](https://codecov.io/gh/apache/rocketmq/pull/3631?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0623572) into [develop](https://codecov.io/gh/apache/rocketmq/commit/50d45f23a186051d177990fd00a89d152c5c4dae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (50d45f2) will **increase** coverage by `0.89%`.\n> The diff coverage is `60.28%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3631/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3631?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3631      +/-   ##\n=============================================\n+ Coverage      48.86%   49.75%   +0.89%     \n- Complexity      4659     4733      +74     \n=============================================\n  Files            555      555              \n  Lines          36726    36773      +47     \n  Branches        4840     4849       +9     \n=============================================\n+ Hits           17946    18297     +351     \n+ Misses         16532    16195     -337     \n- Partials        2248     2281      +33     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3631?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...cketmq/broker/filter/MessageEvaluationContext.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL01lc3NhZ2VFdmFsdWF0aW9uQ29udGV4dC5qYXZh) | `30.76% <0.00%> (ø)` | |\n| [...tmq/broker/longpolling/PullRequestHoldService.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbG9uZ3BvbGxpbmcvUHVsbFJlcXVlc3RIb2xkU2VydmljZS5qYXZh) | `20.48% <0.00%> (ø)` | |\n| [...ocketmq/broker/processor/SendMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1NlbmRNZXNzYWdlUHJvY2Vzc29yLmphdmE=) | `39.89% <0.00%> (+0.25%)` | :arrow_up: |\n| [...ocketmq/client/consumer/DefaultMQPushConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvRGVmYXVsdE1RUHVzaENvbnN1bWVyLmphdmE=) | `56.43% <0.00%> (+0.49%)` | :arrow_up: |\n| [...mq/client/consumer/store/LocalFileOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvTG9jYWxGaWxlT2Zmc2V0U3RvcmUuamF2YQ==) | `56.31% <0.00%> (-0.56%)` | :arrow_down: |\n| [.../rocketmq/client/impl/ClientRemotingProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9DbGllbnRSZW1vdGluZ1Byb2Nlc3Nvci5qYXZh) | `2.91% <0.00%> (ø)` | |\n| [...java/org/apache/rocketmq/common/Configuration.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQ29uZmlndXJhdGlvbi5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...org/apache/rocketmq/common/message/MessageExt.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vbWVzc2FnZS9NZXNzYWdlRXh0LmphdmE=) | `66.66% <0.00%> (-1.57%)` | :arrow_down: |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `50.91% <0.00%> (-0.19%)` | :arrow_down: |\n| [...n/java/org/apache/rocketmq/test/util/FileUtil.java](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL0ZpbGVVdGlsLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| ... and [50 more](https://codecov.io/gh/apache/rocketmq/pull/3631/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3631?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3631?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [3a5cdfa...0623572](https://codecov.io/gh/apache/rocketmq/pull/3631?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991686982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991715239","html_url":"https://github.com/apache/rocketmq/pull/3632#issuecomment-991715239","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3632","id":991715239,"node_id":"IC_kwDOBHrsl847HF-n","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T17:09:58Z","updated_at":"2021-12-11T17:09:58Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44933397/badge)](https://coveralls.io/builds/44933397)\n\nCoverage decreased (-0.09%) to 56.177% when pulling **750cbceff6fe007c6b06524cec9fdef60c01ee39 on haozhijie9527:develop** into **e1571eedb5e73abb4e9f1530e08494b4088af5a3 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991715239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991715296","html_url":"https://github.com/apache/rocketmq/pull/3632#issuecomment-991715296","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3632","id":991715296,"node_id":"IC_kwDOBHrsl847HF_g","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-11T17:10:08Z","updated_at":"2021-12-11T17:10:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3632?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3632](https://codecov.io/gh/apache/rocketmq/pull/3632?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (750cbce) into [develop](https://codecov.io/gh/apache/rocketmq/commit/e1571eedb5e73abb4e9f1530e08494b4088af5a3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e1571ee) will **increase** coverage by `0.05%`.\n> The diff coverage is `33.33%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3632/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3632?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3632      +/-   ##\n=============================================\n+ Coverage      49.65%   49.70%   +0.05%     \n- Complexity      4716     4724       +8     \n=============================================\n  Files            555      555              \n  Lines          36762    36770       +8     \n  Branches        4847     4847              \n=============================================\n+ Hits           18253    18276      +23     \n+ Misses         16230    16204      -26     \n- Partials        2279     2290      +11     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3632?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...pache/rocketmq/store/stats/BrokerStatsManager.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL3N0YXRzL0Jyb2tlclN0YXRzTWFuYWdlci5qYXZh) | `76.51% <33.33%> (-4.35%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...apache/rocketmq/remoting/netty/ResponseFuture.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Jlc3BvbnNlRnV0dXJlLmphdmE=) | `85.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `46.88% <0.00%> (-4.03%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `29.50% <0.00%> (-0.66%)` | :arrow_down: |\n| [...n/java/org/apache/rocketmq/store/ha/HAService.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0hBU2VydmljZS5qYXZh) | `71.28% <0.00%> (ø)` | |\n| [...etmq/client/latency/LatencyFaultToleranceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvbGF0ZW5jeS9MYXRlbmN5RmF1bHRUb2xlcmFuY2VJbXBsLmphdmE=) | `50.00% <0.00%> (ø)` | |\n| [.../apache/rocketmq/logging/inner/LoggingBuilder.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnaW5nQnVpbGRlci5qYXZh) | `63.92% <0.00%> (+0.31%)` | :arrow_up: |\n| [...pl/consumer/ConsumeMessageConcurrentlyService.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Db25zdW1lTWVzc2FnZUNvbmN1cnJlbnRseVNlcnZpY2UuamF2YQ==) | `48.05% <0.00%> (+0.48%)` | :arrow_up: |\n| [...ocketmq/client/consumer/DefaultMQPushConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvRGVmYXVsdE1RUHVzaENvbnN1bWVyLmphdmE=) | `56.43% <0.00%> (+0.49%)` | :arrow_up: |\n| ... and [5 more](https://codecov.io/gh/apache/rocketmq/pull/3632/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3632?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3632?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [e1571ee...750cbce](https://codecov.io/gh/apache/rocketmq/pull/3632?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991715296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991854426","html_url":"https://github.com/apache/rocketmq/issues/3633#issuecomment-991854426","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3633","id":991854426,"node_id":"IC_kwDOBHrsl847Hn9a","user":{"login":"icankeep","id":39434627,"node_id":"MDQ6VXNlcjM5NDM0NjI3","avatar_url":"https://avatars.githubusercontent.com/u/39434627?v=4","gravatar_id":"","url":"https://api.github.com/users/icankeep","html_url":"https://github.com/icankeep","followers_url":"https://api.github.com/users/icankeep/followers","following_url":"https://api.github.com/users/icankeep/following{/other_user}","gists_url":"https://api.github.com/users/icankeep/gists{/gist_id}","starred_url":"https://api.github.com/users/icankeep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icankeep/subscriptions","organizations_url":"https://api.github.com/users/icankeep/orgs","repos_url":"https://api.github.com/users/icankeep/repos","events_url":"https://api.github.com/users/icankeep/events{/privacy}","received_events_url":"https://api.github.com/users/icankeep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-12T08:27:22Z","updated_at":"2021-12-12T08:27:22Z","author_association":"NONE","body":"I can optimize this demo if necessary","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/991854426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992046820","html_url":"https://github.com/apache/rocketmq/pull/3632#issuecomment-992046820","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3632","id":992046820,"node_id":"IC_kwDOBHrsl847IW7k","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T02:12:30Z","updated_at":"2021-12-13T02:12:30Z","author_association":"CONTRIBUTOR","body":"@haozhijie9527 Could you create an issue link to this pull request?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992046820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992053112","html_url":"https://github.com/apache/rocketmq/issues/3633#issuecomment-992053112","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3633","id":992053112,"node_id":"IC_kwDOBHrsl847IYd4","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T02:27:24Z","updated_at":"2021-12-13T02:27:24Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/rocketmq/pull/3569  somebody has fix it。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992053112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992135912","html_url":"https://github.com/apache/rocketmq/pull/3496#issuecomment-992135912","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3496","id":992135912,"node_id":"IC_kwDOBHrsl847Isro","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T06:02:52Z","updated_at":"2021-12-13T06:02:52Z","author_association":"CONTRIBUTOR","body":"> Who can help me\r\n\r\nCI check passed now","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992135912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992142648","html_url":"https://github.com/apache/rocketmq/pull/3509#issuecomment-992142648","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3509","id":992142648,"node_id":"IC_kwDOBHrsl847IuU4","user":{"login":"guyinyou","id":36399867,"node_id":"MDQ6VXNlcjM2Mzk5ODY3","avatar_url":"https://avatars.githubusercontent.com/u/36399867?v=4","gravatar_id":"","url":"https://api.github.com/users/guyinyou","html_url":"https://github.com/guyinyou","followers_url":"https://api.github.com/users/guyinyou/followers","following_url":"https://api.github.com/users/guyinyou/following{/other_user}","gists_url":"https://api.github.com/users/guyinyou/gists{/gist_id}","starred_url":"https://api.github.com/users/guyinyou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyinyou/subscriptions","organizations_url":"https://api.github.com/users/guyinyou/orgs","repos_url":"https://api.github.com/users/guyinyou/repos","events_url":"https://api.github.com/users/guyinyou/events{/privacy}","received_events_url":"https://api.github.com/users/guyinyou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T06:15:27Z","updated_at":"2021-12-13T06:15:27Z","author_association":"CONTRIBUTOR","body":"I think it's not a deadlock problem.\r\n\r\nwhen queue.remove(), will point the next node of the node to be deleted to itself.\r\n**java.util.concurrent.LinkedBlockingQueue#dequeue**\r\n```\r\n    private E dequeue() {\r\n        // assert takeLock.isHeldByCurrentThread();\r\n        // assert head.item == null;\r\n        Node<E> h = head;\r\n        Node<E> first = h.next;\r\n        h.next = h; // help GC\r\n        head = first;\r\n        E x = first.item;\r\n        first.item = null;\r\n        return x;\r\n    }\r\n```\r\n\r\nwhen queue.stream(), will fall into an endless loop.\r\n**LinkedBlockingQueue$LBQSpliterator#tryAdvance()**\r\n![image](https://user-images.githubusercontent.com/36399867/145761467-a085c8b9-6a9b-4cb3-9af8-e1127cf67012.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992142648/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992158125","html_url":"https://github.com/apache/rocketmq/issues/3634#issuecomment-992158125","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3634","id":992158125,"node_id":"IC_kwDOBHrsl847IyGt","user":{"login":"guyinyou","id":36399867,"node_id":"MDQ6VXNlcjM2Mzk5ODY3","avatar_url":"https://avatars.githubusercontent.com/u/36399867?v=4","gravatar_id":"","url":"https://api.github.com/users/guyinyou","html_url":"https://github.com/guyinyou","followers_url":"https://api.github.com/users/guyinyou/followers","following_url":"https://api.github.com/users/guyinyou/following{/other_user}","gists_url":"https://api.github.com/users/guyinyou/gists{/gist_id}","starred_url":"https://api.github.com/users/guyinyou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyinyou/subscriptions","organizations_url":"https://api.github.com/users/guyinyou/orgs","repos_url":"https://api.github.com/users/guyinyou/repos","events_url":"https://api.github.com/users/guyinyou/events{/privacy}","received_events_url":"https://api.github.com/users/guyinyou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T06:45:40Z","updated_at":"2021-12-13T06:45:40Z","author_association":"CONTRIBUTOR","body":"Very much looking forward to","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992158125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992175483","html_url":"https://github.com/apache/rocketmq/pull/3636#issuecomment-992175483","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3636","id":992175483,"node_id":"IC_kwDOBHrsl847I2V7","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T07:18:02Z","updated_at":"2021-12-13T07:18:02Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44946436/badge)](https://coveralls.io/builds/44946436)\n\nCoverage increased (+0.06%) to 56.194% when pulling **56b9447e84d6ca334ee795b0fbd7c05fd068a2a7 on Zanglei06:remove_client_log4j_dependency_dev** into **7d1b001c2fe50f9c22096efdc42a42b60d3ee2d6 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992175483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992175632","html_url":"https://github.com/apache/rocketmq/pull/3636#issuecomment-992175632","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3636","id":992175632,"node_id":"IC_kwDOBHrsl847I2YQ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T07:18:15Z","updated_at":"2021-12-13T07:18:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3636?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3636](https://codecov.io/gh/apache/rocketmq/pull/3636?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (56b9447) into [develop](https://codecov.io/gh/apache/rocketmq/commit/50d45f23a186051d177990fd00a89d152c5c4dae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (50d45f2) will **increase** coverage by `0.87%`.\n> The diff coverage is `47.88%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3636/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3636      +/-   ##\n=============================================\n+ Coverage      48.86%   49.74%   +0.87%     \n- Complexity      4659     4730      +71     \n=============================================\n  Files            555      555              \n  Lines          36726    36770      +44     \n  Branches        4840     4847       +7     \n=============================================\n+ Hits           17946    18290     +344     \n+ Misses         16532    16192     -340     \n- Partials        2248     2288      +40     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...cketmq/broker/filter/MessageEvaluationContext.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL01lc3NhZ2VFdmFsdWF0aW9uQ29udGV4dC5qYXZh) | `30.76% <0.00%> (ø)` | |\n| [...tmq/broker/longpolling/PullRequestHoldService.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbG9uZ3BvbGxpbmcvUHVsbFJlcXVlc3RIb2xkU2VydmljZS5qYXZh) | `20.48% <0.00%> (ø)` | |\n| [...ocketmq/client/consumer/DefaultMQPushConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvRGVmYXVsdE1RUHVzaENvbnN1bWVyLmphdmE=) | `56.43% <0.00%> (+0.49%)` | :arrow_up: |\n| [...mq/client/consumer/store/LocalFileOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvTG9jYWxGaWxlT2Zmc2V0U3RvcmUuamF2YQ==) | `56.31% <0.00%> (-0.56%)` | :arrow_down: |\n| [.../rocketmq/client/impl/ClientRemotingProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9DbGllbnRSZW1vdGluZ1Byb2Nlc3Nvci5qYXZh) | `2.91% <0.00%> (ø)` | |\n| [...java/org/apache/rocketmq/common/Configuration.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQ29uZmlndXJhdGlvbi5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...n/java/org/apache/rocketmq/test/util/FileUtil.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL0ZpbGVVdGlsLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (ø)` | |\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `46.05% <40.00%> (-0.14%)` | :arrow_down: |\n| [.../rocketmq/broker/filter/ConsumerFilterManager.java](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL0NvbnN1bWVyRmlsdGVyTWFuYWdlci5qYXZh) | `72.19% <87.50%> (ø)` | |\n| ... and [40 more](https://codecov.io/gh/apache/rocketmq/pull/3636/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3636?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3636?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [8b58328...56b9447](https://codecov.io/gh/apache/rocketmq/pull/3636?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992175632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992224840","html_url":"https://github.com/apache/rocketmq/issues/3624#issuecomment-992224840","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3624","id":992224840,"node_id":"IC_kwDOBHrsl847JCZI","user":{"login":"haozhijie9527","id":47975723,"node_id":"MDQ6VXNlcjQ3OTc1NzIz","avatar_url":"https://avatars.githubusercontent.com/u/47975723?v=4","gravatar_id":"","url":"https://api.github.com/users/haozhijie9527","html_url":"https://github.com/haozhijie9527","followers_url":"https://api.github.com/users/haozhijie9527/followers","following_url":"https://api.github.com/users/haozhijie9527/following{/other_user}","gists_url":"https://api.github.com/users/haozhijie9527/gists{/gist_id}","starred_url":"https://api.github.com/users/haozhijie9527/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haozhijie9527/subscriptions","organizations_url":"https://api.github.com/users/haozhijie9527/orgs","repos_url":"https://api.github.com/users/haozhijie9527/repos","events_url":"https://api.github.com/users/haozhijie9527/events{/privacy}","received_events_url":"https://api.github.com/users/haozhijie9527/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T08:32:57Z","updated_at":"2021-12-13T08:37:07Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/47975723/145778513-b6650eb8-525c-40c9-8306-b0812e43c762.png)\r\n@panzhi33  @yuz10  This problem still exists, and will cause the consumers we deploy in the production environment to fail to start","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992224840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992232919","html_url":"https://github.com/apache/rocketmq/issues/3635#issuecomment-992232919","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3635","id":992232919,"node_id":"IC_kwDOBHrsl847JEXX","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T08:42:40Z","updated_at":"2021-12-13T08:42:40Z","author_association":"CONTRIBUTOR","body":"Related with this [issue](https://github.com/apache/rocketmq/issues/3622) ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992232919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992235808","html_url":"https://github.com/apache/rocketmq/issues/3624#issuecomment-992235808","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3624","id":992235808,"node_id":"IC_kwDOBHrsl847JFEg","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T08:46:14Z","updated_at":"2021-12-13T08:46:14Z","author_association":"CONTRIBUTOR","body":"1. create a producer\r\n2. send one message\r\n3. close the producer\r\n4. create the second producer\r\n5. RejectedExecutionException throws","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992235808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992280609","html_url":"https://github.com/apache/rocketmq/issues/3634#issuecomment-992280609","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3634","id":992280609,"node_id":"IC_kwDOBHrsl847JQAh","user":{"login":"HScarb","id":10664298,"node_id":"MDQ6VXNlcjEwNjY0Mjk4","avatar_url":"https://avatars.githubusercontent.com/u/10664298?v=4","gravatar_id":"","url":"https://api.github.com/users/HScarb","html_url":"https://github.com/HScarb","followers_url":"https://api.github.com/users/HScarb/followers","following_url":"https://api.github.com/users/HScarb/following{/other_user}","gists_url":"https://api.github.com/users/HScarb/gists{/gist_id}","starred_url":"https://api.github.com/users/HScarb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HScarb/subscriptions","organizations_url":"https://api.github.com/users/HScarb/orgs","repos_url":"https://api.github.com/users/HScarb/repos","events_url":"https://api.github.com/users/HScarb/events{/privacy}","received_events_url":"https://api.github.com/users/HScarb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T09:41:53Z","updated_at":"2021-12-13T09:41:53Z","author_association":"CONTRIBUTOR","body":"You mean separate `BatchConsumeQueue` from `ConsumeQueue` and consumer will be able to consume from both `BatchConsumeQueue` and `ConsumeQueue`? Or just extend `ConsumeQueue` with a new `BatchConsumeQueue` which support batch message consuming and single message consumeing?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992280609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992288008","html_url":"https://github.com/apache/rocketmq/issues/3634#issuecomment-992288008","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3634","id":992288008,"node_id":"IC_kwDOBHrsl847JR0I","user":{"login":"guyinyou","id":36399867,"node_id":"MDQ6VXNlcjM2Mzk5ODY3","avatar_url":"https://avatars.githubusercontent.com/u/36399867?v=4","gravatar_id":"","url":"https://api.github.com/users/guyinyou","html_url":"https://github.com/guyinyou","followers_url":"https://api.github.com/users/guyinyou/followers","following_url":"https://api.github.com/users/guyinyou/following{/other_user}","gists_url":"https://api.github.com/users/guyinyou/gists{/gist_id}","starred_url":"https://api.github.com/users/guyinyou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyinyou/subscriptions","organizations_url":"https://api.github.com/users/guyinyou/orgs","repos_url":"https://api.github.com/users/guyinyou/repos","events_url":"https://api.github.com/users/guyinyou/events{/privacy}","received_events_url":"https://api.github.com/users/guyinyou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T09:49:58Z","updated_at":"2021-12-13T09:49:58Z","author_association":"CONTRIBUTOR","body":"I think it uses the new BatchConsumeQueue to index single messages and batch messages. Since batch messages are no longer parsed as a single message, when indexing a single message, the client should pull down and parse the batch message to single message.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992288008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992417106","html_url":"https://github.com/apache/rocketmq/issues/3624#issuecomment-992417106","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3624","id":992417106,"node_id":"IC_kwDOBHrsl847JxVS","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T12:12:04Z","updated_at":"2021-12-13T12:12:04Z","author_association":"CONTRIBUTOR","body":"@haozhijie9527 @areyouok Please help to check again","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992417106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992420954","html_url":"https://github.com/apache/rocketmq/issues/3624#issuecomment-992420954","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3624","id":992420954,"node_id":"IC_kwDOBHrsl847JyRa","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T12:16:19Z","updated_at":"2021-12-13T12:20:38Z","author_association":"CONTRIBUTOR","body":"> @haozhijie9527 @areyouok Please help to check again\r\n\r\nThe synchronized block in RequestFutureHolder is not safe enough. Concurrent problem still exists.\r\n\r\nI sugguest move DefaultMQProducerImpl.startScheduledTask() and \r\n\r\n```\r\n                if (RequestFutureHolder.getInstance().getProducerNum().decrementAndGet() == 0) {\r\n                    RequestFutureHolder.getInstance().getScheduledExecutorService().shutdown();\r\n                }\r\n```\r\n\r\nto RequestFutureHolder.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992420954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992440887","html_url":"https://github.com/apache/rocketmq/pull/3638#issuecomment-992440887","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3638","id":992440887,"node_id":"IC_kwDOBHrsl847J3I3","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T12:43:33Z","updated_at":"2021-12-15T04:08:54Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/45015463/badge)](https://coveralls.io/builds/45015463)\n\nCoverage increased (+0.06%) to 56.298% when pulling **069c7f1877df81abb477a3cbe03ea28df8ca7b64 on areyouok:queueStat** into **4a8263b4609cd16b5e7c194528bd875711e01852 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992440887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992445983","html_url":"https://github.com/apache/rocketmq/pull/3639#issuecomment-992445983","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3639","id":992445983,"node_id":"IC_kwDOBHrsl847J4Yf","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T12:50:28Z","updated_at":"2021-12-15T07:30:02Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/45018221/badge)](https://coveralls.io/builds/45018221)\n\nCoverage increased (+0.002%) to 56.239% when pulling **e334a7110bb9ec09d2042e40d4bbb8f4b7e9b60c on panzhi33:fix-3624** into **4a8263b4609cd16b5e7c194528bd875711e01852 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992445983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992451468","html_url":"https://github.com/apache/rocketmq/issues/3624#issuecomment-992451468","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3624","id":992451468,"node_id":"IC_kwDOBHrsl847J5uM","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T12:58:15Z","updated_at":"2021-12-13T12:58:15Z","author_association":"CONTRIBUTOR","body":"> > @haozhijie9527 @areyouok Please help to check again\r\n> \r\n> The synchronized block in RequestFutureHolder is not safe enough. Concurrent problem still exists.\r\n> \r\n> I sugguest move DefaultMQProducerImpl.startScheduledTask() and\r\n> \r\n> ```\r\n>                 if (RequestFutureHolder.getInstance().getProducerNum().decrementAndGet() == 0) {\r\n>                     RequestFutureHolder.getInstance().getScheduledExecutorService().shutdown();\r\n>                 }\r\n> ```\r\n> \r\n> to RequestFutureHolder.\r\n\r\nOK, it’s been revised, please take a look","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992451468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992472013","html_url":"https://github.com/apache/rocketmq/pull/3639#issuecomment-992472013","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3639","id":992472013,"node_id":"IC_kwDOBHrsl847J-vN","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T13:22:43Z","updated_at":"2021-12-15T07:30:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3639?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3639](https://codecov.io/gh/apache/rocketmq/pull/3639?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e334a71) into [develop](https://codecov.io/gh/apache/rocketmq/commit/50d45f23a186051d177990fd00a89d152c5c4dae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (50d45f2) will **increase** coverage by `0.93%`.\n> The diff coverage is `55.83%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3639/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3639      +/-   ##\n=============================================\n+ Coverage      48.86%   49.80%   +0.93%     \n- Complexity      4659     4739      +80     \n=============================================\n  Files            555      555              \n  Lines          36726    36772      +46     \n  Branches        4840     4848       +8     \n=============================================\n+ Hits           17946    18314     +368     \n+ Misses         16532    16173     -359     \n- Partials        2248     2285      +37     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...cketmq/broker/filter/MessageEvaluationContext.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL01lc3NhZ2VFdmFsdWF0aW9uQ29udGV4dC5qYXZh) | `30.76% <0.00%> (ø)` | |\n| [...tmq/broker/longpolling/PullRequestHoldService.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbG9uZ3BvbGxpbmcvUHVsbFJlcXVlc3RIb2xkU2VydmljZS5qYXZh) | `20.48% <0.00%> (ø)` | |\n| [...ocketmq/client/consumer/DefaultMQPushConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvRGVmYXVsdE1RUHVzaENvbnN1bWVyLmphdmE=) | `56.43% <0.00%> (+0.49%)` | :arrow_up: |\n| [...mq/client/consumer/store/LocalFileOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvTG9jYWxGaWxlT2Zmc2V0U3RvcmUuamF2YQ==) | `56.31% <0.00%> (-0.56%)` | :arrow_down: |\n| [.../rocketmq/client/impl/ClientRemotingProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9DbGllbnRSZW1vdGluZ1Byb2Nlc3Nvci5qYXZh) | `2.91% <0.00%> (ø)` | |\n| [...java/org/apache/rocketmq/common/Configuration.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQ29uZmlndXJhdGlvbi5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...org/apache/rocketmq/common/message/MessageExt.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vbWVzc2FnZS9NZXNzYWdlRXh0LmphdmE=) | `66.66% <0.00%> (-1.57%)` | :arrow_down: |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `50.91% <0.00%> (-0.19%)` | :arrow_down: |\n| [...n/java/org/apache/rocketmq/test/util/FileUtil.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL0ZpbGVVdGlsLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `44.44% <0.00%> (+5.55%)` | :arrow_up: |\n| ... and [45 more](https://codecov.io/gh/apache/rocketmq/pull/3639/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3639?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3639?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [1635856...e334a71](https://codecov.io/gh/apache/rocketmq/pull/3639?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992472013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992610961","html_url":"https://github.com/apache/rocketmq/issues/3624#issuecomment-992610961","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3624","id":992610961,"node_id":"IC_kwDOBHrsl847KgqR","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T15:48:01Z","updated_at":"2021-12-13T15:48:01Z","author_association":"CONTRIBUTOR","body":"I think there is no problem. \r\n\r\nAnd I sugguest restore the unit test code to original version.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992610961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992612060","html_url":"https://github.com/apache/rocketmq/pull/3641#issuecomment-992612060","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3641","id":992612060,"node_id":"IC_kwDOBHrsl847Kg7c","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T15:49:14Z","updated_at":"2021-12-13T15:49:14Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44958038/badge)](https://coveralls.io/builds/44958038)\n\nCoverage decreased (-0.04%) to 56.194% when pulling **6dbce679fa44ece3116db86bd87263fd49538bfd on ferrirW:polish-create-topic** into **4a8263b4609cd16b5e7c194528bd875711e01852 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992612060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992655857","html_url":"https://github.com/apache/rocketmq/pull/3638#issuecomment-992655857","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3638","id":992655857,"node_id":"IC_kwDOBHrsl847Krnx","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T16:32:38Z","updated_at":"2021-12-15T04:09:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3638?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3638](https://codecov.io/gh/apache/rocketmq/pull/3638?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (069c7f1) into [develop](https://codecov.io/gh/apache/rocketmq/commit/4a8263b4609cd16b5e7c194528bd875711e01852?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4a8263b) will **decrease** coverage by `0.20%`.\n> The diff coverage is `62.85%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3638/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3638?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3638      +/-   ##\n=============================================\n- Coverage      49.79%   49.59%   -0.21%     \n+ Complexity      4737     4714      -23     \n=============================================\n  Files            555      555              \n  Lines          36770    36785      +15     \n  Branches        4847     4850       +3     \n=============================================\n- Hits           18310    18243      -67     \n- Misses         16176    16250      +74     \n- Partials        2284     2292       +8     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3638?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../java/org/apache/rocketmq/common/BrokerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQnJva2VyQ29uZmlnLmphdmE=) | `33.12% <25.00%> (-0.11%)` | :arrow_down: |\n| [...pache/rocketmq/store/stats/BrokerStatsManager.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL3N0YXRzL0Jyb2tlclN0YXRzTWFuYWdlci5qYXZh) | `71.87% <65.51%> (-4.64%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/broker/BrokerController.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyQ29udHJvbGxlci5qYXZh) | `47.50% <100.00%> (ø)` | |\n| [...ocketmq/broker/processor/PullMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1B1bGxNZXNzYWdlUHJvY2Vzc29yLmphdmE=) | `41.28% <100.00%> (ø)` | |\n| [...tmq/logappender/log4j2/RocketmqLog4j2Appender.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nYXBwZW5kZXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL2xvZ2FwcGVuZGVyL2xvZzRqMi9Sb2NrZXRtcUxvZzRqMkFwcGVuZGVyLmphdmE=) | `35.00% <0.00%> (-10.00%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...apache/rocketmq/remoting/netty/ResponseFuture.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Jlc3BvbnNlRnV0dXJlLmphdmE=) | `85.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `44.77% <0.00%> (-4.48%)` | :arrow_down: |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `46.88% <0.00%> (-4.03%)` | :arrow_down: |\n| [...lient/impl/consumer/DefaultMQPushConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TVFQdXNoQ29uc3VtZXJJbXBsLmphdmE=) | `39.47% <0.00%> (-2.29%)` | :arrow_down: |\n| ... and [15 more](https://codecov.io/gh/apache/rocketmq/pull/3638/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3638?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3638?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [4a8263b...069c7f1](https://codecov.io/gh/apache/rocketmq/pull/3638?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/992655857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993088552","html_url":"https://github.com/apache/rocketmq/issues/3640#issuecomment-993088552","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3640","id":993088552,"node_id":"IC_kwDOBHrsl847MVQo","user":{"login":"ni-ze","id":31175234,"node_id":"MDQ6VXNlcjMxMTc1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/31175234?v=4","gravatar_id":"","url":"https://api.github.com/users/ni-ze","html_url":"https://github.com/ni-ze","followers_url":"https://api.github.com/users/ni-ze/followers","following_url":"https://api.github.com/users/ni-ze/following{/other_user}","gists_url":"https://api.github.com/users/ni-ze/gists{/gist_id}","starred_url":"https://api.github.com/users/ni-ze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ni-ze/subscriptions","organizations_url":"https://api.github.com/users/ni-ze/orgs","repos_url":"https://api.github.com/users/ni-ze/repos","events_url":"https://api.github.com/users/ni-ze/events{/privacy}","received_events_url":"https://api.github.com/users/ni-ze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T02:10:18Z","updated_at":"2021-12-14T02:10:18Z","author_association":"CONTRIBUTOR","body":"What is the error message？ how to reproduce?  and I do not understand what the mean of pic.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993088552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993112656","html_url":"https://github.com/apache/rocketmq/issues/3640#issuecomment-993112656","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3640","id":993112656,"node_id":"IC_kwDOBHrsl847MbJQ","user":{"login":"guyinyou","id":36399867,"node_id":"MDQ6VXNlcjM2Mzk5ODY3","avatar_url":"https://avatars.githubusercontent.com/u/36399867?v=4","gravatar_id":"","url":"https://api.github.com/users/guyinyou","html_url":"https://github.com/guyinyou","followers_url":"https://api.github.com/users/guyinyou/followers","following_url":"https://api.github.com/users/guyinyou/following{/other_user}","gists_url":"https://api.github.com/users/guyinyou/gists{/gist_id}","starred_url":"https://api.github.com/users/guyinyou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyinyou/subscriptions","organizations_url":"https://api.github.com/users/guyinyou/orgs","repos_url":"https://api.github.com/users/guyinyou/repos","events_url":"https://api.github.com/users/guyinyou/events{/privacy}","received_events_url":"https://api.github.com/users/guyinyou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T03:06:46Z","updated_at":"2021-12-14T03:06:46Z","author_association":"CONTRIBUTOR","body":"Hope to describe in detail","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993112656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993188368","html_url":"https://github.com/apache/rocketmq/issues/3643#issuecomment-993188368","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3643","id":993188368,"node_id":"IC_kwDOBHrsl847MtoQ","user":{"login":"scientificCommunity","id":35025097,"node_id":"MDQ6VXNlcjM1MDI1MDk3","avatar_url":"https://avatars.githubusercontent.com/u/35025097?v=4","gravatar_id":"","url":"https://api.github.com/users/scientificCommunity","html_url":"https://github.com/scientificCommunity","followers_url":"https://api.github.com/users/scientificCommunity/followers","following_url":"https://api.github.com/users/scientificCommunity/following{/other_user}","gists_url":"https://api.github.com/users/scientificCommunity/gists{/gist_id}","starred_url":"https://api.github.com/users/scientificCommunity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scientificCommunity/subscriptions","organizations_url":"https://api.github.com/users/scientificCommunity/orgs","repos_url":"https://api.github.com/users/scientificCommunity/repos","events_url":"https://api.github.com/users/scientificCommunity/events{/privacy}","received_events_url":"https://api.github.com/users/scientificCommunity/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T06:04:35Z","updated_at":"2021-12-14T06:04:45Z","author_association":"NONE","body":"can `org.apache.rocketmq.common.message.Message` add a function for `__STARTDELIVERTIME` to specify delay time just like setDelayTimeLevel","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993188368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993199390","html_url":"https://github.com/apache/rocketmq/pull/3638#issuecomment-993199390","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3638","id":993199390,"node_id":"IC_kwDOBHrsl847MwUe","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T06:24:04Z","updated_at":"2021-12-14T06:24:04Z","author_association":"MEMBER","body":"Is it necessary to add a switch only for the statistics of the 18 levels of delayed messages?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993199390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993208366","html_url":"https://github.com/apache/rocketmq/issues/3617#issuecomment-993208366","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3617","id":993208366,"node_id":"IC_kwDOBHrsl847Mygu","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T06:42:20Z","updated_at":"2021-12-14T06:42:20Z","author_association":"MEMBER","body":"IMO, for the client, SLAVE_NOT_AVAILABLE is returned when sending a transaction message. At this time, the message has been successfully written to the master, and the client can resend it after ROLLBACK_MESSAGE.\r\nFor Broker, after receiving the commit message sent by the client, if SLAVE_NOT_AVAILABLE occurs, the commit message has been written to the master at this time, so it will automatically synchronize after the slave is restored, otherwise it will not make any sense to resend the commit after the return fails. .","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993208366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993217120","html_url":"https://github.com/apache/rocketmq/issues/3617#issuecomment-993217120","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3617","id":993217120,"node_id":"IC_kwDOBHrsl847M0pg","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T06:59:38Z","updated_at":"2021-12-14T06:59:38Z","author_association":"CONTRIBUTOR","body":"I think that when the client receives a SLAVE_NOT_AVAILABLE, the client must resend the message, and it may still be sent to the abnormal broker.\r\nTherefore I think that the message should not be returned when SLAVE_NOT_AVAILABLE.\r\n\r\n\r\n\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/rocketmq\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2021年12月14日(星期二) 下午2:42\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [apache/rocketmq] Why does case SLAVE_NOT_AVALIABLE roll back when sending transaction messages (Issue #3617)\r\n\r\n\r\n\r\n\r\n\r\n \r\nIMO, for the client, SLAVE_NOT_AVAILABLE is returned when sending a transaction message. At this time, the message has been successfully written to the master, and the client can resend it after ROLLBACK_MESSAGE.\r\n For Broker, after receiving the commit message sent by the client, if SLAVE_NOT_AVAILABLE occurs, the commit message has been written to the master at this time, so it will automatically synchronize after the slave is restored, otherwise it will not make any sense to resend the commit after the return fails. .\r\n \r\n—\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or unsubscribe.\r\nTriage notifications on the go with GitHub Mobile for iOS or Android.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/993217120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]