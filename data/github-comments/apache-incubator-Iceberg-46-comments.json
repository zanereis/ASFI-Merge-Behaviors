[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679262477","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-679262477","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":679262477,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTI2MjQ3Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T17:27:07Z","updated_at":"2020-08-24T17:27:07Z","author_association":"CONTRIBUTOR","body":"I like using Arrow as much as possible. Like Ted said, the main concern is getting schema evolution right. Arrow/Parquet would need to implement ID-based schema evolution and at least some of the promotion rules like int -> long.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679262477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679267344","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-679267344","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":679267344,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTI2NzM0NA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T17:36:49Z","updated_at":"2020-08-24T17:36:49Z","author_association":"CONTRIBUTOR","body":"> > It works, right?\r\n> \r\n> This comment made my morning :)\r\n\r\nThanks @jacques-n  :rofl:  and yes @rdblue it is working :-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679267344/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679362503","html_url":"https://github.com/apache/iceberg/pull/1352#issuecomment-679362503","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1352","id":679362503,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTM2MjUwMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T20:57:58Z","updated_at":"2020-08-24T20:57:58Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews, everyone! I'll merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679362503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679411810","html_url":"https://github.com/apache/iceberg/pull/1373#issuecomment-679411810","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1373","id":679411810,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQxMTgxMA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:12:24Z","updated_at":"2020-08-24T23:12:24Z","author_association":"CONTRIBUTOR","body":"@rdblue @danielcweeks @RussellSpitzer @rdsr @shardulm94 @fbocse @prodeezy While I am working on tests and docs, this PR is ready for the first review round.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679411810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679414378","html_url":"https://github.com/apache/iceberg/pull/589#issuecomment-679414378","issue_url":"https://api.github.com/repos/apache/iceberg/issues/589","id":679414378,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQxNDM3OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:21:29Z","updated_at":"2020-08-24T23:21:29Z","author_association":"CONTRIBUTOR","body":"I am closing this in favor of PR #1373.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679414378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679417207","html_url":"https://github.com/apache/iceberg/pull/1367#issuecomment-679417207","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1367","id":679417207,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQxNzIwNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:31:22Z","updated_at":"2020-08-24T23:31:22Z","author_association":"CONTRIBUTOR","body":"Let me take a look at this now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679417207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679417869","html_url":"https://github.com/apache/iceberg/issues/1345#issuecomment-679417869","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1345","id":679417869,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQxNzg2OQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:33:42Z","updated_at":"2020-08-24T23:34:02Z","author_association":"CONTRIBUTOR","body":"While working on this I noticed that we only compute the `NameMapping` when it is set in the table properties in: https://github.com/apache/iceberg/blob/master/spark/src/main/java/org/apache/iceberg/spark/SparkTableUtil.java#L577 otherwise we set as `null`. As per https://github.com/apache/iceberg/pull/1167/files/eadac8d5da4f7911e4734f101c8756ee12f2aea9#diff-ea7008dc637345e7a36b5e1b5a579e13 - this will break since there's no IDs in the ORC data, so there's a couple of questions:\r\n1. Should we have a default `NameMapping` built with the target Iceberg table schema?\r\n2. Should we change https://github.com/apache/iceberg/pull/1167/files/eadac8d5da4f7911e4734f101c8756ee12f2aea9#diff-ea7008dc637345e7a36b5e1b5a579e13 to not fail if there's no IDs found?\r\n\r\nWhat do you think, @rdsr @aokolnychyi ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679417869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679422593","html_url":"https://github.com/apache/iceberg/pull/1374#issuecomment-679422593","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1374","id":679422593,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQyMjU5Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:50:42Z","updated_at":"2020-08-24T23:50:42Z","author_association":"MEMBER","body":"cc @aokolnychyi + @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679422593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679422932","html_url":"https://github.com/apache/iceberg/pull/1367#issuecomment-679422932","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1367","id":679422932,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQyMjkzMg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:51:50Z","updated_at":"2020-08-24T23:51:50Z","author_association":"CONTRIBUTOR","body":"Do we have an estimate on the impact this will have on the size of metadata files? Will it make sense to enable/configure this in table properties? For example, we could configure the max number of partitions there. Technically, one could issue a query against metadata tables to find out which partitions were affected by a specific snapshot. That's what we use internally to find what partitions to compact.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679422932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679422995","html_url":"https://github.com/apache/iceberg/pull/1367#issuecomment-679422995","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1367","id":679422995,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQyMjk5NQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:52:05Z","updated_at":"2020-08-24T23:52:05Z","author_association":"CONTRIBUTOR","body":"Can we also add a test for new params?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679422995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679424459","html_url":"https://github.com/apache/iceberg/pull/1374#issuecomment-679424459","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1374","id":679424459,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQyNDQ1OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:57:32Z","updated_at":"2020-08-24T23:57:32Z","author_association":"CONTRIBUTOR","body":"Looks good to me except formatting nits.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679424459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679426122","html_url":"https://github.com/apache/iceberg/pull/1374#issuecomment-679426122","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1374","id":679426122,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQyNjEyMg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:03:17Z","updated_at":"2020-08-25T00:03:17Z","author_association":"MEMBER","body":"All cleaned up style wise","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679426122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679427915","html_url":"https://github.com/apache/iceberg/pull/1367#issuecomment-679427915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1367","id":679427915,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQyNzkxNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:09:52Z","updated_at":"2020-08-25T00:09:52Z","author_association":"CONTRIBUTOR","body":"Also, what about disabling this by default to keep the existing behavior? I feel like it may add some pressure when we have thousands of snapshots in the metadata file.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679427915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679430752","html_url":"https://github.com/apache/iceberg/pull/1369#issuecomment-679430752","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1369","id":679430752,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQzMDc1Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:20:09Z","updated_at":"2020-08-25T00:20:09Z","author_association":"CONTRIBUTOR","body":"Thanks @rymurr! Merging this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679430752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679431334","html_url":"https://github.com/apache/iceberg/pull/1367#issuecomment-679431334","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1367","id":679431334,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQzMTMzNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:22:16Z","updated_at":"2020-08-25T00:22:16Z","author_association":"CONTRIBUTOR","body":"> What about disabling this by default to keep the existing behavior? I feel like it may add some pressure when we have thousands of snapshots in the metadata file.\r\n\r\nI agree. I'll update this to have a threshold for partition summaries that defaults to 0.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679431334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679432166","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-679432166","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":679432166,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQzMjE2Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:24:56Z","updated_at":"2020-08-25T00:24:56Z","author_association":"CONTRIBUTOR","body":"@shangxinli, `idToAlias` is correct. That accesses the full Parquet name for the field in the a schema converted from a Parquet file. There is no guarantee that Iceberg field names correspond to the names used by Parquet when the file was written, which is why we maintain the alias map when converting from Parquet.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679432166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679434266","html_url":"https://github.com/apache/iceberg/pull/1339#issuecomment-679434266","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1339","id":679434266,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQzNDI2Ng==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:33:06Z","updated_at":"2020-08-25T00:33:33Z","author_association":"CONTRIBUTOR","body":"The PR looks good! Since this has been open for additional comments for a while now I am merging this. We can handle any followups in a separate PR. Thanks @edgarRd for the PR!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679434266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679437431","html_url":"https://github.com/apache/iceberg/pull/1272#issuecomment-679437431","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1272","id":679437431,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQzNzQzMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:45:28Z","updated_at":"2020-08-25T00:45:28Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, I'm going to merge this. The remaining issues are minor or are not correctness problems. Just be sure to follow up and fix the getter problems or else this will be slower than it should be.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679437431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679437608","html_url":"https://github.com/apache/iceberg/pull/1272#issuecomment-679437608","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1272","id":679437608,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQzNzYwOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:46:11Z","updated_at":"2020-08-25T00:46:11Z","author_association":"CONTRIBUTOR","body":"Thanks, @chenjunjiedada for building this, and @openinx for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679437608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679439331","html_url":"https://github.com/apache/iceberg/pull/1339#issuecomment-679439331","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1339","id":679439331,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQzOTMzMQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:52:50Z","updated_at":"2020-08-25T00:52:50Z","author_association":"CONTRIBUTOR","body":"Thanks @shardulm94 !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679439331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679451049","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-679451049","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":679451049,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQ1MTA0OQ==","user":{"login":"manishmalhotrawork","id":22434010,"node_id":"MDQ6VXNlcjIyNDM0MDEw","avatar_url":"https://avatars.githubusercontent.com/u/22434010?v=4","gravatar_id":"","url":"https://api.github.com/users/manishmalhotrawork","html_url":"https://github.com/manishmalhotrawork","followers_url":"https://api.github.com/users/manishmalhotrawork/followers","following_url":"https://api.github.com/users/manishmalhotrawork/following{/other_user}","gists_url":"https://api.github.com/users/manishmalhotrawork/gists{/gist_id}","starred_url":"https://api.github.com/users/manishmalhotrawork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manishmalhotrawork/subscriptions","organizations_url":"https://api.github.com/users/manishmalhotrawork/orgs","repos_url":"https://api.github.com/users/manishmalhotrawork/repos","events_url":"https://api.github.com/users/manishmalhotrawork/events{/privacy}","received_events_url":"https://api.github.com/users/manishmalhotrawork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T01:36:01Z","updated_at":"2020-08-25T01:36:01Z","author_association":"CONTRIBUTOR","body":"cc @rdblue and @aokolnychyi \r\ncan you please review this PR. thanks a lot !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679451049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679455842","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-679455842","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":679455842,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQ1NTg0Mg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T01:54:38Z","updated_at":"2020-08-25T01:54:38Z","author_association":"MEMBER","body":"Since both parquet reader and writer have been merged, so let me update this patch to add parquet into unit tests. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679455842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679510359","html_url":"https://github.com/apache/iceberg/pull/1374#issuecomment-679510359","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1374","id":679510359,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTUxMDM1OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T03:23:47Z","updated_at":"2020-08-25T03:23:47Z","author_association":"CONTRIBUTOR","body":"I'd put `FilterIterator` into the `io` package instead of `util`. I think it makes more sense there. Other than that, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679510359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679521840","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-679521840","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":679521840,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTUyMTg0MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T03:32:33Z","updated_at":"2020-08-25T03:32:33Z","author_association":"CONTRIBUTOR","body":"LGTM except 2 minor style nits. Thanks for fixing it, @manishmalhotrawork!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679521840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679551592","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-679551592","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":679551592,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTU1MTU5Mg==","user":{"login":"manishmalhotrawork","id":22434010,"node_id":"MDQ6VXNlcjIyNDM0MDEw","avatar_url":"https://avatars.githubusercontent.com/u/22434010?v=4","gravatar_id":"","url":"https://api.github.com/users/manishmalhotrawork","html_url":"https://github.com/manishmalhotrawork","followers_url":"https://api.github.com/users/manishmalhotrawork/followers","following_url":"https://api.github.com/users/manishmalhotrawork/following{/other_user}","gists_url":"https://api.github.com/users/manishmalhotrawork/gists{/gist_id}","starred_url":"https://api.github.com/users/manishmalhotrawork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manishmalhotrawork/subscriptions","organizations_url":"https://api.github.com/users/manishmalhotrawork/orgs","repos_url":"https://api.github.com/users/manishmalhotrawork/repos","events_url":"https://api.github.com/users/manishmalhotrawork/events{/privacy}","received_events_url":"https://api.github.com/users/manishmalhotrawork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T03:55:04Z","updated_at":"2020-08-25T03:55:04Z","author_association":"CONTRIBUTOR","body":"> LGTM except 2 minor style nits. Thanks for fixing it, @manishmalhotrawork!\r\n\r\ntook care of comments.\r\n\r\nthanks a lot @aokolnychyi for reviewing !!\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679551592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679767553","html_url":"https://github.com/apache/iceberg/pull/1374#issuecomment-679767553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1374","id":679767553,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTc2NzU1Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T05:49:54Z","updated_at":"2020-08-25T05:49:54Z","author_association":"CONTRIBUTOR","body":"I've tested locally and it solves the problem in metadata tables. I am merging it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679767553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679794150","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-679794150","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":679794150,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTc5NDE1MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T06:01:09Z","updated_at":"2020-08-25T06:01:23Z","author_association":"CONTRIBUTOR","body":"I've merged it since it fixes the current logic.\r\n\r\nI think we may want to reconsider the approach as I don't think it works correctly for metadata tables.\r\n\r\ncc @rdblue @RussellSpitzer @sudssf","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679794150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679836683","html_url":"https://github.com/apache/iceberg/issues/1378#issuecomment-679836683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1378","id":679836683,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTgzNjY4Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T06:45:13Z","updated_at":"2020-08-25T06:45:13Z","author_association":"CONTRIBUTOR","body":"Can be related to how we handle projections? Reading records works fine.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679836683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679841418","html_url":"https://github.com/apache/iceberg/issues/1378#issuecomment-679841418","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1378","id":679841418,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTg0MTQxOA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T06:56:49Z","updated_at":"2020-08-25T06:56:49Z","author_association":"CONTRIBUTOR","body":"Yes, reading records is fine. It has to do with Spark requesting empty projections for count queries and how we handle those in our Avro readers. A similar issue was fixed in https://github.com/apache/iceberg/pull/1077 but it only addressed unpartitioned tables.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679841418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679897638","html_url":"https://github.com/apache/iceberg/issues/1371#issuecomment-679897638","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1371","id":679897638,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTg5NzYzOA==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T08:56:25Z","updated_at":"2020-08-25T08:56:25Z","author_association":"COLLABORATOR","body":"Thanks @massdosage. I'm working on fixing the test failures/warn logs in HiveRunner (hive-3.x) and will post a PR so we can push this forward","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679897638/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679943269","html_url":"https://github.com/apache/iceberg/issues/1372#issuecomment-679943269","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1372","id":679943269,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTk0MzI2OQ==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T10:30:36Z","updated_at":"2020-08-25T10:30:36Z","author_association":"CONTRIBUTOR","body":"If I understand correctly, Spark 2.4 does not support creating tables in SQL [spark guide](https://iceberg.apache.org/spark/#spark).\r\n\r\nMaybe you can use the Iceberg API to build table and then write data [createTable](https://iceberg.apache.org/java-api-quickstart/#create-a-table).\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679943269/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680072331","html_url":"https://github.com/apache/iceberg/issues/1371#issuecomment-680072331","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1371","id":680072331,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDA3MjMzMQ==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T14:49:35Z","updated_at":"2020-08-25T14:49:35Z","author_association":"COLLABORATOR","body":"@massdosage I've created the PR: https://github.com/klarna/HiveRunner/pull/125","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680072331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680102208","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-680102208","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":680102208,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDEwMjIwOA==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T15:37:19Z","updated_at":"2020-08-25T15:37:19Z","author_association":"CONTRIBUTOR","body":"thanks for fixing @manishmalhotrawork , @aokolnychyi  can you explain more about issue with metadata table? I am surprised this method is invoked for metadata table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680102208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680127263","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-680127263","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":680127263,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDEyNzI2Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T16:19:26Z","updated_at":"2020-08-25T16:19:26Z","author_association":"CONTRIBUTOR","body":"@sudssf It seems like we should use the total number of records from the snapshot summary only if we are reading the main table. Right now, this estimation is also invoked while reading metadata tables too. I think we should compute stats based on tasks and skip the estimation for metadata tables.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680127263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680128767","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-680128767","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":680128767,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDEyODc2Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T16:22:05Z","updated_at":"2020-08-25T16:22:05Z","author_association":"CONTRIBUTOR","body":"Everything looks good to me. There are a couple of minor things, like still having the Hive types defined (I'm not sure if you intended to remove those). Tests are passing except what looks like a flaky test in Java.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680128767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680128953","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-680128953","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":680128953,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDEyODk1Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T16:22:25Z","updated_at":"2020-08-25T16:22:25Z","author_association":"MEMBER","body":"I agree, thanks for the quick workaround @sudssf. I think better stat estimation for metadata tables is a good next step.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680128953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680130101","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-680130101","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":680130101,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDEzMDEwMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T16:24:25Z","updated_at":"2020-08-25T16:24:25Z","author_association":"CONTRIBUTOR","body":"Looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680130101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680138675","html_url":"https://github.com/apache/iceberg/pull/1375#issuecomment-680138675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1375","id":680138675,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDEzODY3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T16:39:35Z","updated_at":"2020-08-25T16:39:35Z","author_association":"CONTRIBUTOR","body":"Rebased to pick up the ORC fix.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680138675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680140593","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-680140593","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":680140593,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDE0MDU5Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T16:43:01Z","updated_at":"2020-08-25T16:43:01Z","author_association":"CONTRIBUTOR","body":"Any ideas on how to check that we are not scanning a metadata table?\r\nI can think of `table instanceof BaseTable`. Any other suggestions?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680140593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680153999","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-680153999","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":680153999,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDE1Mzk5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T17:07:57Z","updated_at":"2020-08-25T17:07:57Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, how about only using the total records path for partitioned tables? I think the metadata tables are all unpartitioned. And it is unlikely that an unpartitioned data table requires using the summary value, since the number of files would be much lower.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680153999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680157711","html_url":"https://github.com/apache/iceberg/pull/1376#issuecomment-680157711","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1376","id":680157711,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDE1NzcxMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T17:15:12Z","updated_at":"2020-08-25T17:15:12Z","author_association":"CONTRIBUTOR","body":"I've created PR #1379.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680157711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680158316","html_url":"https://github.com/apache/iceberg/pull/1379#issuecomment-680158316","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1379","id":680158316,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDE1ODMxNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T17:16:20Z","updated_at":"2020-08-25T17:16:20Z","author_association":"CONTRIBUTOR","body":"cc @sudssf @RussellSpitzer @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680158316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680163216","html_url":"https://github.com/apache/iceberg/pull/1377#issuecomment-680163216","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1377","id":680163216,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDE2MzIxNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T17:26:08Z","updated_at":"2020-08-25T17:26:08Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick follow-up, @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680163216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680214878","html_url":"https://github.com/apache/iceberg/pull/1379#issuecomment-680214878","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1379","id":680214878,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDIxNDg3OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T19:05:15Z","updated_at":"2020-08-25T19:05:15Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, @rdblue and @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680214878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680267373","html_url":"https://github.com/apache/iceberg/pull/1375#issuecomment-680267373","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1375","id":680267373,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDI2NzM3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T21:00:21Z","updated_at":"2020-08-25T21:00:21Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @RussellSpitzer and @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680267373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680268292","html_url":"https://github.com/apache/iceberg/pull/1380#issuecomment-680268292","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1380","id":680268292,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDI2ODI5Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T21:02:26Z","updated_at":"2020-08-25T21:02:26Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick fix, @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680268292/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680304120","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-680304120","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":680304120,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDMwNDEyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T22:39:34Z","updated_at":"2020-08-25T22:39:34Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR, my main feedback for this PR is that it does a great job describing table maintenance options and that those should be separated into a \"Table maintenance\" page. Rather than ask you to do far more work to get it in, I did some editing and opened a PR against your branch with the change. Could you take a look at https://github.com/HeartSaVioR/iceberg/pull/1?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680304120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680317357","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-680317357","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":680317357,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDMxNzM1Nw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T23:24:35Z","updated_at":"2020-08-25T23:24:35Z","author_association":"CONTRIBUTOR","body":"@rdblue Great idea! I also agree the maintenance wouldn't be restricted to the streaming cases. I left some comments on your PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680317357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680349187","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-680349187","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":680349187,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDM0OTE4Nw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T00:23:22Z","updated_at":"2020-08-26T00:23:22Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR. I've merged your PR on my repo, and this PR now reflects the change + fixed nit. Please take a look again. Thanks in advance!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680349187/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680379092","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-680379092","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":680379092,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDM3OTA5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T00:47:55Z","updated_at":"2020-08-26T00:47:55Z","author_association":"CONTRIBUTOR","body":"Thanks @HeartSaVioR! Nice work and I'm sorry I didn't have the time to put into this sooner.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680379092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680391366","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-680391366","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":680391366,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDM5MTM2Ng==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T00:58:06Z","updated_at":"2020-08-26T00:58:06Z","author_association":"CONTRIBUTOR","body":"No worries. Thanks for the detailed reviews. Happy to contribute!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680391366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680698918","html_url":"https://github.com/apache/iceberg/pull/1346#issuecomment-680698918","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1346","id":680698918,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDY5ODkxOA==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T07:01:48Z","updated_at":"2020-08-26T07:01:48Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue and @openinx for the review, I have added `project(TableSchema schema)` and `select(List<String> fields)` to format builder, `project` can support nested projection.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680698918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680765083","html_url":"https://github.com/apache/iceberg/pull/1368#issuecomment-680765083","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1368","id":680765083,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDc2NTA4Mw==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T09:21:29Z","updated_at":"2020-08-26T09:21:29Z","author_association":"CONTRIBUTOR","body":"@rdblue Thank you very much for your many good Suggestions. I have finished the modification.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680765083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680842280","html_url":"https://github.com/apache/iceberg/pull/1386#issuecomment-680842280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1386","id":680842280,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDg0MjI4MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T12:15:03Z","updated_at":"2020-08-26T12:15:03Z","author_association":"CONTRIBUTOR","body":"Spark 2.4.7 release process is already in progress - there has been correctness issues which delay the process, but I expect that won't hold months. Given we bump the Spark version, would we like to pick 2.4.7 instead once it is available?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680842280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680908629","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-680908629","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":680908629,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDkwODYyOQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T14:17:48Z","updated_at":"2020-08-26T14:17:48Z","author_association":"CONTRIBUTOR","body":"fixed the build error, should be good to go now :-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/680908629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681180808","html_url":"https://github.com/apache/iceberg/pull/1373#issuecomment-681180808","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1373","id":681180808,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTE4MDgwOA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T23:48:50Z","updated_at":"2020-08-26T23:48:50Z","author_association":"CONTRIBUTOR","body":"I've added initial tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681180808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681181270","html_url":"https://github.com/apache/iceberg/pull/1389#issuecomment-681181270","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1389","id":681181270,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTE4MTI3MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T23:50:47Z","updated_at":"2020-08-26T23:50:47Z","author_association":"CONTRIBUTOR","body":"What's the motivation for this change?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681181270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681183238","html_url":"https://github.com/apache/iceberg/pull/1387#issuecomment-681183238","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1387","id":681183238,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTE4MzIzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T23:58:13Z","updated_at":"2020-08-26T23:58:13Z","author_association":"CONTRIBUTOR","body":"Thanks for catching this, @Fokko! The test failure was a flaky Java 11 test, so I'm merging this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681183238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681183453","html_url":"https://github.com/apache/iceberg/pull/1386#issuecomment-681183453","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1386","id":681183453,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTE4MzQ1Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T23:59:03Z","updated_at":"2020-08-26T23:59:03Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR, yes. I think we should continue to update to patch releases for our dependencies.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681183453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681183533","html_url":"https://github.com/apache/iceberg/pull/1386#issuecomment-681183533","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1386","id":681183533,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTE4MzUzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T23:59:21Z","updated_at":"2020-08-26T23:59:21Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681183533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681185428","html_url":"https://github.com/apache/iceberg/pull/1384#issuecomment-681185428","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1384","id":681185428,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTE4NTQyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T00:05:43Z","updated_at":"2020-08-27T00:05:43Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @Simon0806! I think we can improve it to still avoid an unnecessary commit without too much trouble, but I agree that this is correct and is what caused #1370.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681185428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681186680","html_url":"https://github.com/apache/iceberg/pull/1382#issuecomment-681186680","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1382","id":681186680,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTE4NjY4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T00:09:42Z","updated_at":"2020-08-27T00:09:42Z","author_association":"CONTRIBUTOR","body":"@JingsongLi, thanks for working on this. I think it's a good idea. The only problem is that this moves the FixupTypes class to API. I'd rather not publish that in the API module, which we maintain with stricter guarantees because it is a user-facing API (core is a developer-facing API). Can you move it to core instead?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681186680/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681321493","html_url":"https://github.com/apache/iceberg/pull/1389#issuecomment-681321493","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1389","id":681321493,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTMyMTQ5Mw==","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T03:26:11Z","updated_at":"2020-08-27T03:26:11Z","author_association":"MEMBER","body":"The PR is to enhance the testability of Snapshot, a feature sensitive to timings, especially when expiring snapshots. It injects a clock that can be either system clock in production or a test clock in testing. The PR adds a test clock implementation that is fixed and can be reset or advanced. Please note default Java 8 concrete clock classes like `Clock.fixed` are immutable.\r\n\r\nUnit tests no longer have to perform busy wait or sleep like the following:\r\n```\r\n  // t1: append and commit\r\n  // busy wait or sleep\r\n  // t2: append and commit\r\n  // busy wait or sleep\r\n  // expire snapshot before current time\r\n```\r\nInstead the tests will look like:\r\n```\r\n  // t1: append and commit\r\n  // advance test clock by 1ms\r\n  // t1+1: append and commit\r\n  // advance test clock by 1ms\r\n  // expire snapshot before current time (t1+2)\r\n```\r\nor\r\n```\r\n  // set the test clock to t1\r\n  // t1: append and commit\r\n  // set the test clock to t2\r\n  // t2: append and commit\r\n  // expire snapshot before t2+1\r\n```\r\nThe unit tests can simulate running in the future, in the past, or in any arbitrary point in time. The tests will run faster. And they will be slightly more reliable as they don't rely on system clock.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681321493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681987610","html_url":"https://github.com/apache/iceberg/pull/1267#issuecomment-681987610","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1267","id":681987610,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTk4NzYxMA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T14:33:15Z","updated_at":"2020-08-27T14:33:15Z","author_association":"CONTRIBUTOR","body":"I have implemented this based on the `spark-runtime` module as discussed in the last community sync. It produces a fat jar about 33MB in size (similar to the Spark one). I have tested it on Hive in distributed mode and it appears to work. \r\n\r\n@rdsr @guilload @rdblue I'd appreciate your reviews.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/681987610/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682007390","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-682007390","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":682007390,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjAwNzM5MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T15:05:02Z","updated_at":"2020-08-27T15:05:02Z","author_association":"MEMBER","body":"Really excited to see all the work on this PR. It will be a great addition to Iceberg!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682007390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682113308","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-682113308","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":682113308,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjExMzMwOA==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T18:20:23Z","updated_at":"2020-08-27T18:20:23Z","author_association":"CONTRIBUTOR","body":"@rymurr I'm admittedly new to python type hints, so I took a crack at it, but would appreciate if you have a second to look it over.  Also, re: Arrow Datasets, would you be opening to jumping on a quick video chat?  I'd like to talk through it a bit with you if possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682113308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682117707","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-682117707","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":682117707,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjExNzcwNw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T18:29:16Z","updated_at":"2020-08-27T18:29:16Z","author_association":"CONTRIBUTOR","body":"> @rymurr I'm admittedly new to python type hints, so I took a crack at it, but would appreciate if you have a second to look it over. Also, re: Arrow Datasets, would you be opening to jumping on a quick video chat? I'd like to talk through it a bit with you if possible.\r\n\r\nHey @TGooch44 I am just knocking off for the day. I could do tomorrow your morning?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682117707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682122800","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-682122800","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":682122800,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjEyMjgwMA==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T18:40:20Z","updated_at":"2020-08-27T18:40:20Z","author_association":"CONTRIBUTOR","body":"Next week may be better. I have twins that are still not really sleeping,\nso my early mornings are a little touch and go.  I have night help\nsome nights, which makes planning morning meetings a lot easier.\n\nOtherwise, depending on your flexibility schedule-wise there is a good\nchance I'll be up sometime between 12am-6am PDT, and could take a meeting.\nHard to commit to a specific time though.\n\nOn Thu, Aug 27, 2020 at 11:29 AM Ryan Murray <notifications@github.com>\nwrote:\n\n> @rymurr <https://github.com/rymurr> I'm admittedly new to python type\n> hints, so I took a crack at it, but would appreciate if you have a second\n> to look it over. Also, re: Arrow Datasets, would you be opening to jumping\n> on a quick video chat? I'd like to talk through it a bit with you if\n> possible.\n>\n> Hey @TGooch44 <https://github.com/TGooch44> I am just knocking off for\n> the day. I could do tomorrow your morning?\n>\n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1314#issuecomment-682117707>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAMETH4PL47ZJYV3TITRJA3SC2QYXANCNFSM4PZ5SJEQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682122800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682149429","html_url":"https://github.com/apache/iceberg/pull/1395#issuecomment-682149429","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1395","id":682149429,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjE0OTQyOQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T19:34:16Z","updated_at":"2020-08-27T19:34:16Z","author_association":"MEMBER","body":"@aokolnychyi  + @rdblue The change we discussed previously for the \"collect\" operation in ExpireSnapshotActions\r\n\r\nAnd yes, that is the easiest way to determine how many jobs have run in the context without starting a new job state store and attaching it to the listener bus :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682149429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682162915","html_url":"https://github.com/apache/iceberg/pull/1395#issuecomment-682162915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1395","id":682162915,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjE2MjkxNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T20:03:48Z","updated_at":"2020-08-27T20:03:48Z","author_association":"CONTRIBUTOR","body":"I think it makes sense to collect the result to the driver by default to avoid the overhead of spinning a job for every Spark partition.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682162915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682236077","html_url":"https://github.com/apache/iceberg/pull/1395#issuecomment-682236077","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1395","id":682236077,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjIzNjA3Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T23:09:30Z","updated_at":"2020-08-27T23:09:30Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682236077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682236583","html_url":"https://github.com/apache/iceberg/pull/1397#issuecomment-682236583","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1397","id":682236583,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjIzNjU4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T23:11:18Z","updated_at":"2020-08-27T23:11:18Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick reviews!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682236583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682256040","html_url":"https://github.com/apache/iceberg/pull/1385#issuecomment-682256040","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1385","id":682256040,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI1NjA0MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T00:21:24Z","updated_at":"2020-08-28T00:21:24Z","author_association":"CONTRIBUTOR","body":"Looks like this is failing Java tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682256040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682256787","html_url":"https://github.com/apache/iceberg/pull/1227#issuecomment-682256787","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1227","id":682256787,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI1Njc4Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T00:24:08Z","updated_at":"2020-08-28T00:24:08Z","author_association":"CONTRIBUTOR","body":"@waterlx, did you want to take a look at the suggestions from @kbendick? Those seem reasonable to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682256787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682257212","html_url":"https://github.com/apache/iceberg/pull/1334#issuecomment-682257212","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1334","id":682257212,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI1NzIxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T00:25:49Z","updated_at":"2020-08-28T00:25:49Z","author_association":"CONTRIBUTOR","body":"Hi @kbendick, do you have time to update this? If not, I can pick it into a branch and update it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682257212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682261042","html_url":"https://github.com/apache/iceberg/pull/1388#issuecomment-682261042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1388","id":682261042,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI2MTA0Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T00:41:23Z","updated_at":"2020-08-28T00:41:23Z","author_association":"CONTRIBUTOR","body":"+1 overall. I'd prefer not to expose `ParquetIO`, but if you think that building a `concat` helper is too much work for this PR, then we can do it in a follow-up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682261042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682261271","html_url":"https://github.com/apache/iceberg/pull/1381#issuecomment-682261271","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1381","id":682261271,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI2MTI3MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T00:42:19Z","updated_at":"2020-08-28T00:42:19Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews, @HeartSaVioR & @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682261271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682267834","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-682267834","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":682267834,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI2NzgzNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T01:08:10Z","updated_at":"2020-08-28T01:08:10Z","author_association":"CONTRIBUTOR","body":"Overall, I think this is ready to commit. I'd prefer to remove `Serializable` from the appender factory interface first, though. And it would be nice to get some of the other comments fixed or clarified (some are questions since I'm learning about how Flink works). Thanks @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682267834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682388898","html_url":"https://github.com/apache/iceberg/issues/1396#issuecomment-682388898","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1396","id":682388898,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjM4ODg5OA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T08:04:09Z","updated_at":"2020-08-28T08:04:09Z","author_association":"COLLABORATOR","body":"I don't see current name mapping logic about updating the field name.  Neither `map` nor `primitive`. Could you help to construct a unit test to reproduce it?\r\n\r\n```java\r\n  @Override\r\n  public Type map(GroupType map, Type keyType, Type valueType) {\r\n    Preconditions.checkArgument(keyType != null && valueType != null,\r\n        \"Map type must have both key field and value field\");\r\n\r\n    MappedField field = nameMapping.find(currentPath());\r\n    Type mapType = org.apache.parquet.schema.Types.map(map.getRepetition())\r\n        .key(keyType)\r\n        .value(valueType)\r\n        .named(map.getName());\r\n\r\n    return field == null ? mapType : mapType.withId(field.id());\r\n  }\r\n\r\n  @Override\r\n  public Type primitive(PrimitiveType primitive) {\r\n    MappedField field = nameMapping.find(currentPath());\r\n    return field == null ? primitive : primitive.withId(field.id());\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682388898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682418956","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-682418956","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":682418956,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjQxODk1Ng==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T09:10:12Z","updated_at":"2020-08-28T09:10:12Z","author_association":"CONTRIBUTOR","body":"Hey @TGooch44. Twins! :exploding_head:  Congrats and get some sleep! I am free from 11:30 GMT+1 if you are awake, else next week suits me perfectly fine. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682418956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682803226","html_url":"https://github.com/apache/iceberg/issues/1398#issuecomment-682803226","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1398","id":682803226,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjgwMzIyNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T16:09:08Z","updated_at":"2020-08-28T16:09:08Z","author_association":"CONTRIBUTOR","body":"I remember we had this issue earlier. [Here](https://github.com/apache/iceberg/pull/779) is the PR with some discussion. The idea suggested there was either contribute a custom `FileIO` implementation in Iceberg or use Hadoop FS that handles it already.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682803226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682803791","html_url":"https://github.com/apache/iceberg/issues/1398#issuecomment-682803791","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1398","id":682803791,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjgwMzc5MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T16:09:31Z","updated_at":"2020-08-28T16:09:31Z","author_association":"CONTRIBUTOR","body":"cc @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682803791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682807416","html_url":"https://github.com/apache/iceberg/issues/1398#issuecomment-682807416","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1398","id":682807416,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjgwNzQxNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T16:11:21Z","updated_at":"2020-08-28T16:11:21Z","author_association":"CONTRIBUTOR","body":"I feel like we need to agree on the best solution and document it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682807416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682815249","html_url":"https://github.com/apache/iceberg/issues/1398#issuecomment-682815249","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1398","id":682815249,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjgxNTI0OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T16:14:54Z","updated_at":"2020-08-28T16:15:40Z","author_association":"CONTRIBUTOR","body":"Here is the snippet from `create` in `S3AfileSystem`:\r\n\r\n```\r\n    try {\r\n      // get the status or throw an FNFE\r\n      status = getFileStatus(path);\r\n\r\n      // if the thread reaches here, there is something at the path\r\n      if (status.isDirectory()) {\r\n        // path references a directory: automatic error\r\n        throw new FileAlreadyExistsException(path + \" is a directory\");\r\n      }\r\n      if (!overwrite) {\r\n        // path references a file and overwrite is disabled\r\n        throw new FileAlreadyExistsException(path + \" already exists\");\r\n      }\r\n      LOG.debug(\"Overwriting file {}\", path);\r\n    } catch (FileNotFoundException e) {\r\n      // this means the file is not found\r\n\r\n    }\r\n```\r\n\r\nLooks like `getFileStatus` breaks this logic and even setting the overwrite flag does not help. At least, in `S3AFileSystem`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682815249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682837392","html_url":"https://github.com/apache/iceberg/issues/1398#issuecomment-682837392","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1398","id":682837392,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjgzNzM5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T16:29:55Z","updated_at":"2020-08-28T16:29:55Z","author_association":"CONTRIBUTOR","body":"Our S3 file system doesn't do the `getFileStatus` check when overwriting, which is how we avoid this. I think the best way to handle this is to add a certain amount of retries at the `FileIO` layer.\r\n\r\nWe already have retries for `table.refresh()` (in `BaseMetastoreTableOperations`) that take care of most of these issues for the root metadata. The reason why we added the retries there was to avoid adding extra latency when there actually is a problem -- when a data file is missing, for example. But, it looks like it would be better to have retries for at least metadata files when using S3.\r\n\r\nI think it makes sense to add retries to `HadoopInputFile` and to make the number of retries and total retry timeout configurable either in table properties or Hadoop Configuration. The downside to adding retries there is that we'd have retries for data files as well, but that seems like a reasonable trade-off to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682837392/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682838451","html_url":"https://github.com/apache/iceberg/issues/1396#issuecomment-682838451","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1396","id":682838451,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjgzODQ1MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T16:30:55Z","updated_at":"2020-08-28T16:30:55Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, that code constructs a new map type using the Parquet builder. There is no guarantee that the field names match the data file's field names.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682838451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682908109","html_url":"https://github.com/apache/iceberg/pull/1388#issuecomment-682908109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1388","id":682908109,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjkwODEwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T17:03:09Z","updated_at":"2020-08-28T17:03:09Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick fix, @samarthjain! Nice work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682908109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682956273","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-682956273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":682956273,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mjk1NjI3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T17:20:07Z","updated_at":"2020-08-28T17:20:07Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks @openinx, it is great to have this in. And thanks for helping review, @JingsongLi and @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682956273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682960033","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-682960033","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":682960033,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mjk2MDAzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T17:22:15Z","updated_at":"2020-08-28T17:22:15Z","author_association":"CONTRIBUTOR","body":"What are the next steps for Flink writes? I think we can probably start writing some documentation. The tests for the sink look like this is mostly complete. Maybe docs are an area that @kbendick could help with?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/682960033/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683119588","html_url":"https://github.com/apache/iceberg/pull/1394#issuecomment-683119588","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1394","id":683119588,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzExOTU4OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T19:55:43Z","updated_at":"2020-08-28T19:55:43Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue for the reviews!\r\nClosed the conversations where I feel that we finished, left only 3 open where you might not agree with my solution.\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683119588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683164685","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-683164685","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":683164685,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE2NDY4NQ==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T22:00:04Z","updated_at":"2020-08-28T22:00:04Z","author_association":"CONTRIBUTOR","body":"nit: on class names\r\n\r\nIcebergStreamWriter -> IcebergWriter, because it also BoundedOneInput interface, which seems like a batch job.\r\n\r\nIcebergFilesCommitter -> IcebergCommitter. Iceberg only commits files. So including Files seems redundant.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683164685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683181736","html_url":"https://github.com/apache/iceberg/pull/1393#issuecomment-683181736","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1393","id":683181736,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE4MTczNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T23:01:44Z","updated_at":"2020-08-28T23:01:44Z","author_association":"CONTRIBUTOR","body":"This looks mostly good to me. I just have a few questions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683181736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683210910","html_url":"https://github.com/apache/iceberg/pull/1373#issuecomment-683210910","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1373","id":683210910,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzIxMDkxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T01:14:02Z","updated_at":"2020-08-29T01:14:02Z","author_association":"CONTRIBUTOR","body":"I've not gone though the tests thoroughly yet, but the implementation looks great to me.\r\n\r\nUnfortunately, I think there's a major problem with adding sort orders: what if an older writer rewrites table metadata and drops the sort order list? For example, if I have a table that is sorted by `id ASC NULLS FIRST`, that would get sort order ID 0. If an older client writes, then that gets erased and the next reader assumes that the table is unordered.\r\n\r\nErasing the sort order is an annoyance right now. But if we use the sort order for delete files and data files, then this could turn into a correctness problem. Say a table has a data file sorted by `id ASC NULLS FIRST` and labelled with `sort_order_id = 0` in manifests. When the sort order gets erased or replaced, there is no longer any tracking for what ID 0 meant. If I then add an unsorted equality delete file it may also get `sort_order_id = 0` in its metadata. Then it would appear that the deletes can be merged instead of using a delete set because the order matches between the data file and the delete file when it actually does not.\r\n\r\nI can think of two solutions. First, we could add sort orders to v1, but require them for v2 like we do for the partition spec list. That way, all v2 writers will guarantee that sort orders are not dropped and we no longer have a problem. The second option is to assign sort order IDs using a hash so two orders would not collide.\r\n\r\nI think I prefer the first option. Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683210910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683251866","html_url":"https://github.com/apache/iceberg/pull/1334#issuecomment-683251866","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1334","id":683251866,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzI1MTg2Ng==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T07:40:11Z","updated_at":"2020-08-29T07:40:11Z","author_association":"CONTRIBUTOR","body":"Yes I have time to update this. Sorry I've been really busy with work lately but I can update this this weekend so we can get it merged in  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683251866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683254189","html_url":"https://github.com/apache/iceberg/pull/1334#issuecomment-683254189","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1334","id":683254189,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzI1NDE4OQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T08:02:40Z","updated_at":"2020-08-29T08:02:40Z","author_association":"CONTRIBUTOR","body":"This should fix all of the issues that were remaining @rdblue. Let me know if you'd like me to merge in the upstream/master to be sure since this branch is kind of mucked up. I was hoping to just squash here in github if possible (though I don't think so since I don't have write access) or locally if not possible. Thank you for your patience! My work has been extra busy lately!\r\n\r\nThis has been very informative for me! I really appreciate you @edgarRd and @RussellSpitzer for taking the time to help me learn :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683254189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683347588","html_url":"https://github.com/apache/iceberg/pull/1394#issuecomment-683347588","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1394","id":683347588,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzM0NzU4OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T22:15:12Z","updated_at":"2020-08-29T22:15:12Z","author_association":"CONTRIBUTOR","body":"Looks like the current issue is a checkstyle failure:\r\n\r\n```\r\n> Task :iceberg-hive:checkstyleMain FAILED\r\n[ant:checkstyle] [ERROR] /home/travis/build/apache/iceberg/hive/src/main/java/org/apache/iceberg/hive/HiveCatalog.java:249: Trailing whitespace is not allowed. [RegexpSinglelineJava]\r\n[ant:checkstyle] [ERROR] /home/travis/build/apache/iceberg/hive/src/main/java/org/apache/iceberg/hive/HiveCatalog.java:249: Whitespace at end-of-line [RegexpSingleline]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683347588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683351935","html_url":"https://github.com/apache/iceberg/pull/1389#issuecomment-683351935","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1389","id":683351935,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzM1MTkzNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T23:17:53Z","updated_at":"2020-08-29T23:17:53Z","author_association":"CONTRIBUTOR","body":"Thanks, @jzhuge! I think the current implementation is fairly clean and I like how it injects the clock through `TableOperations`. That is a good place to inject table customization and this alters a lot fewer classes now.\r\n\r\nI'm not sure that this solution is needed, though. I don't know of any use cases that would use a clock to inject custom timestamp logic, so adding this through `TableOperations` adds unnecessary complexity to an interface that is extended by external libraries. I am also not sure that this is the best option for tests because it isn't obvious what relationship the clock has to the other operations because it is passed in at table creation time through the superclass. The logic isn't very obvious, compared to the approach of calling `waitUntilAfter(snapshot.timestampMillis())`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683351935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683352413","html_url":"https://github.com/apache/iceberg/pull/1348#issuecomment-683352413","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1348","id":683352413,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzM1MjQxMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T23:25:23Z","updated_at":"2020-08-29T23:25:23Z","author_association":"CONTRIBUTOR","body":"@openinx, can you rebase this? I think it is next to review, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683352413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683355338","html_url":"https://github.com/apache/iceberg/pull/1227#issuecomment-683355338","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1227","id":683355338,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzM1NTMzOA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T23:50:52Z","updated_at":"2020-08-29T23:50:52Z","author_association":"CONTRIBUTOR","body":"@rdblue if @waterlx doesn't respond, I'd be happy to make these changes. I think this is overall a good addition to the automation!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683355338/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683355874","html_url":"https://github.com/apache/iceberg/pull/1334#issuecomment-683355874","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1334","id":683355874,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzM1NTg3NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-30T00:00:12Z","updated_at":"2020-08-30T00:00:12Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for fixing this, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/683355874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]