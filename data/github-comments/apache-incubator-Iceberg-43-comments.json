[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669300591","html_url":"https://github.com/apache/iceberg/pull/1285#issuecomment-669300591","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1285","id":669300591,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTMwMDU5MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T16:37:53Z","updated_at":"2020-08-05T16:37:53Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for fixing this, @HeartSaVioR!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669300591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669303857","html_url":"https://github.com/apache/iceberg/pull/1296#issuecomment-669303857","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1296","id":669303857,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTMwMzg1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T16:44:13Z","updated_at":"2020-08-05T16:44:13Z","author_association":"CONTRIBUTOR","body":"The benchmark results look good to me. We will need to check the LICENSE and NOTICE files for this since I'm guessing the dependencies have changed, but that can wait for now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669303857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669304208","html_url":"https://github.com/apache/iceberg/pull/1296#issuecomment-669304208","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1296","id":669304208,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTMwNDIwOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T16:44:58Z","updated_at":"2020-08-05T16:44:58Z","author_association":"CONTRIBUTOR","body":"Thanks for this update, @rymurr!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669304208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669328584","html_url":"https://github.com/apache/iceberg/pull/1238#issuecomment-669328584","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1238","id":669328584,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTMyODU4NA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T17:34:13Z","updated_at":"2020-08-05T17:34:13Z","author_association":"CONTRIBUTOR","body":"Thanks @openinx . Looking into it today","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669328584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669483202","html_url":"https://github.com/apache/iceberg/pull/1288#issuecomment-669483202","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1288","id":669483202,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTQ4MzIwMg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T20:23:01Z","updated_at":"2020-08-05T20:23:01Z","author_association":"CONTRIBUTOR","body":"Great work, @rdblue! Nice to get this in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669483202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669499547","html_url":"https://github.com/apache/iceberg/pull/1232#issuecomment-669499547","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1232","id":669499547,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTQ5OTU0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T20:47:54Z","updated_at":"2020-08-05T20:47:54Z","author_association":"CONTRIBUTOR","body":"@JingsongLi, this looks ready to go so I merged it. I think we can still improve some of the tests by validating the read and write paths separately and comparing records against Iceberg generics. But I believe that @chenjunjiedada is working on the validations or assert methods in another PR so we can get that done later.\r\n\r\nThanks for working on this, it looks great.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669499547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669505845","html_url":"https://github.com/apache/iceberg/pull/1264#issuecomment-669505845","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1264","id":669505845,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTUwNTg0NQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T20:58:35Z","updated_at":"2020-08-05T20:58:35Z","author_association":"MEMBER","body":"All of that sounds good to me, let me do a bit of a rework of the delete logic so it fits with an iterator","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669505845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669511700","html_url":"https://github.com/apache/iceberg/pull/1145#issuecomment-669511700","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1145","id":669511700,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTUxMTcwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T21:08:29Z","updated_at":"2020-08-05T21:08:29Z","author_association":"CONTRIBUTOR","body":"Looks like this needs to be rebased, then I can merge it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669511700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669522605","html_url":"https://github.com/apache/iceberg/pull/1271#issuecomment-669522605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1271","id":669522605,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTUyMjYwNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T21:30:53Z","updated_at":"2020-08-05T21:30:53Z","author_association":"CONTRIBUTOR","body":"This looks good to me, except that we need to update the test to validate against the original in-memory records, not against a set that was read from a file. It would also be good to have a test that specifically exercises the decimal path, or increase the number of random records until we are confident that one decimal will have one or more trailing 0s.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669522605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669527731","html_url":"https://github.com/apache/iceberg/pull/1219#issuecomment-669527731","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1219","id":669527731,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTUyNzczMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T21:41:51Z","updated_at":"2020-08-05T21:41:51Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, why does this change manifest lists and manifests? Those are written separately, so I would expect this to only need to change one. Probably easier to start with converting manifest lists.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669527731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669546414","html_url":"https://github.com/apache/iceberg/issues/1020#issuecomment-669546414","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1020","id":669546414,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTU0NjQxNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T22:09:05Z","updated_at":"2020-08-05T22:09:05Z","author_association":"CONTRIBUTOR","body":"Implemented in #1254. Thanks @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669546414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669616769","html_url":"https://github.com/apache/iceberg/pull/1285#issuecomment-669616769","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1285","id":669616769,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTYxNjc2OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T00:40:39Z","updated_at":"2020-08-06T00:40:39Z","author_association":"CONTRIBUTOR","body":"My pleasure. Thanks for reviewing and merging!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669616769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669628554","html_url":"https://github.com/apache/iceberg/pull/1301#issuecomment-669628554","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1301","id":669628554,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTYyODU1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T01:24:25Z","updated_at":"2020-08-06T01:24:25Z","author_association":"CONTRIBUTOR","body":"FYI @prodeezy and @rymurr if you want to review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669628554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669637160","html_url":"https://github.com/apache/iceberg/pull/1145#issuecomment-669637160","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1145","id":669637160,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTYzNzE2MA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T01:57:07Z","updated_at":"2020-08-06T01:57:07Z","author_association":"MEMBER","body":"OK, let me  resolve this conflict.  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669637160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669643732","html_url":"https://github.com/apache/iceberg/pull/1232#issuecomment-669643732","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1232","id":669643732,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY0MzczMg==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T02:20:52Z","updated_at":"2020-08-06T02:20:52Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue for your patient review, I will continue to pay attention to and participate in the follow-up improvement.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669643732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669661217","html_url":"https://github.com/apache/iceberg/issues/1302#issuecomment-669661217","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1302","id":669661217,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY2MTIxNw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T03:26:45Z","updated_at":"2020-08-06T03:26:45Z","author_association":"COLLABORATOR","body":"I met this as well.  This is due to we don't visit with the accompanying Iceberg schema so `GenericParquetWriter` cannot convert the  UUID value before writing to parquet binary. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669661217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669665280","html_url":"https://github.com/apache/iceberg/issues/1258#issuecomment-669665280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1258","id":669665280,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY2NTI4MA==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T03:43:02Z","updated_at":"2020-08-06T03:43:02Z","author_association":"CONTRIBUTOR","body":"Issue #1206 is related to what @aokolnychyi mentioned.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669665280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669668989","html_url":"https://github.com/apache/iceberg/issues/1302#issuecomment-669668989","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1302","id":669668989,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY2ODk4OQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T03:58:35Z","updated_at":"2020-08-06T03:58:35Z","author_association":"MEMBER","body":"> we don't visit with the accompanying Iceberg schema \r\n\r\nI think we may need to pass both parquet schema and iceberg schema to the visitor so that we could write the UUID value to binary correctly. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669668989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669670967","html_url":"https://github.com/apache/iceberg/issues/1302#issuecomment-669670967","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1302","id":669670967,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY3MDk2Nw==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T04:06:29Z","updated_at":"2020-08-06T04:06:29Z","author_association":"CONTRIBUTOR","body":"Although Spark does not inherit this test, but looks like Spark Avro writer also has bug too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669670967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669675486","html_url":"https://github.com/apache/iceberg/issues/1302#issuecomment-669675486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1302","id":669675486,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY3NTQ4Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T04:24:51Z","updated_at":"2020-08-06T04:24:51Z","author_association":"MEMBER","body":"Yes, spark writer also have this bug.  I saw we [commented](https://github.com/apache/iceberg/commit/270bb8f353866b9e4b55b1e9c51504442192598d) the uuid type in spark test case. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669675486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669772790","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-669772790","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":669772790,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTc3Mjc5MA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T07:54:18Z","updated_at":"2020-08-06T07:54:18Z","author_association":"CONTRIBUTOR","body":"> > > > `HiveRunner` is rather slow (I believe each test sets up a new local HMS from scratch) and `TestHiveIcebergInputFormat` takes about 4 minutes to run on my machine (compile time included).\r\n> > > \r\n> > > \r\n> > > In most of our test cases we spin up HMS once per test file and clean it up in setUp/tearDown. Not an ideal solution, but saves as time/money.\r\n> > \r\n> > \r\n> > HiveRunner doesn't currently support that but it has been discussed before - [klarna/HiveRunner#69](https://github.com/klarna/HiveRunner/issues/69)\r\n> \r\n> Hive does this here:\r\n> https://github.com/apache/hive/blob/6267520a50ba8c12ae5cee8fb27a6746376a21c6/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java#L444\r\n> \r\n> I think the only part we are interested in here is:\r\n> https://github.com/apache/hive/blob/6267520a50ba8c12ae5cee8fb27a6746376a21c6/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java#L336\r\n> \r\n> Which is very similar than what was done in [klarna/HiveRunner#69](https://github.com/klarna/HiveRunner/issues/69). We manually went through and deleted the tables in the databases (I think there was some issue previously which should be fixed now). The only other difference is that we clean up the files as well which is needed for EXTERNAL tables. Since the Iceberg tables will be EXTERNAL, I think we will need that as well here.\r\n\r\nThat sounds promising. I guess the best place to do this is in HiveRunner itself. That issue referenced above has a PR against it from one of the original committers on HiveRunner but he makes it clear that it's very experimental and it hasn't been worked on in a long time. We could either build on that or raise a new one. I'd be happy to work with you on it if you want?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669772790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669940130","html_url":"https://github.com/apache/iceberg/pull/1219#issuecomment-669940130","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1219","id":669940130,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTk0MDEzMA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T13:52:43Z","updated_at":"2020-08-06T13:52:43Z","author_association":"COLLABORATOR","body":"@rdblue, Thanks a lot for comments, just replied some of them, I will go through rest and update accordingly. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/669940130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670016798","html_url":"https://github.com/apache/iceberg/pull/1264#issuecomment-670016798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1264","id":670016798,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDAxNjc5OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T15:57:00Z","updated_at":"2020-08-06T15:57:00Z","author_association":"CONTRIBUTOR","body":"cc @rdsr @prodeezy ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670016798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670027125","html_url":"https://github.com/apache/iceberg/pull/1301#issuecomment-670027125","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1301","id":670027125,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDAyNzEyNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T16:14:11Z","updated_at":"2020-08-06T16:14:11Z","author_association":"CONTRIBUTOR","body":"> Something for later: a benchmark to understand how large delete files can be before the filter cost explodes.\r\n\r\nAgreed. We might want to read all of the delete files at once and keep the records in memory if the set is small enough. We will definitely want to look into that for the vectorized case.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670027125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670064241","html_url":"https://github.com/apache/iceberg/pull/1264#issuecomment-670064241","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1264","id":670064241,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDA2NDI0MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T17:18:40Z","updated_at":"2020-08-06T17:18:40Z","author_association":"MEMBER","body":"We've been talking about the testing issue for a while, one of the biggest issues is that we cannot use the same code from TestRemoveSnapshots because it all relies on tons of inner class parameters and fields so it's extremely difficult (at least from my perspective) to setup the cherry pick cases. Even if we wanted to use the base class from spark-core for testing, we would then be unable to inherit from the Spark Base Action test class. \r\n\r\nI'll take a look at getting in alternative versions of these tests","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670064241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670072284","html_url":"https://github.com/apache/iceberg/pull/1301#issuecomment-670072284","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1301","id":670072284,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDA3MjI4NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T17:31:57Z","updated_at":"2020-08-06T17:31:57Z","author_association":"CONTRIBUTOR","body":"Let me go through this now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670072284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670192157","html_url":"https://github.com/apache/iceberg/pull/1301#issuecomment-670192157","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1301","id":670192157,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDE5MjE1Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T21:06:45Z","updated_at":"2020-08-06T21:06:45Z","author_association":"CONTRIBUTOR","body":"This looks good to me too. The build failed, though.\r\n\r\n```\r\n[ant:checkstyle] [ERROR] /home/travis/build/apache/iceberg/core/src/test/java/org/apache/iceberg/deletes/TestPositionFilter.java:22:1: Use org.apache.iceberg.relocated.* classes from bundled-guava module instead. [BanUnrelocatedGuavaClasses]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670192157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670215729","html_url":"https://github.com/apache/iceberg/pull/1301#issuecomment-670215729","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1301","id":670215729,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDIxNTcyOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T22:08:33Z","updated_at":"2020-08-06T22:08:33Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing @rymurr, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670215729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670255565","html_url":"https://github.com/apache/iceberg/pull/1264#issuecomment-670255565","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1264","id":670255565,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI1NTU2NQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T00:26:42Z","updated_at":"2020-08-07T00:26:42Z","author_association":"MEMBER","body":"Updated with test coverage and logging changes","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670255565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670265634","html_url":"https://github.com/apache/iceberg/pull/1271#issuecomment-670265634","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1271","id":670265634,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI2NTYzNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T01:08:24Z","updated_at":"2020-08-07T01:08:24Z","author_association":"CONTRIBUTOR","body":"@openinx, I'm ready to merge this. Thanks for updating the tests! The only blocker is that the conflicts need to be fixed. Thank you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670265634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670276468","html_url":"https://github.com/apache/iceberg/pull/1271#issuecomment-670276468","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1271","id":670276468,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI3NjQ2OA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T01:49:27Z","updated_at":"2020-08-07T01:49:27Z","author_association":"MEMBER","body":"OK, let me resolve the conflicts. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670276468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670278105","html_url":"https://github.com/apache/iceberg/pull/1266#issuecomment-670278105","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1266","id":670278105,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI3ODEwNQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T01:56:10Z","updated_at":"2020-08-07T01:56:10Z","author_association":"COLLABORATOR","body":"@rdblue @openinx , Would you please help to take another look? This is ready for another round.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670278105/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670281703","html_url":"https://github.com/apache/iceberg/pull/1271#issuecomment-670281703","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1271","id":670281703,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI4MTcwMw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T02:10:28Z","updated_at":"2020-08-07T02:10:28Z","author_association":"MEMBER","body":"Rebased the patch, and let's wait for the travis testing result. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670281703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670283314","html_url":"https://github.com/apache/iceberg/issues/1279#issuecomment-670283314","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1279","id":670283314,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI4MzMxNA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T02:17:08Z","updated_at":"2020-08-07T02:17:08Z","author_association":"CONTRIBUTOR","body":"Resolved via https://github.com/apache/iceberg/commit/e682ca59129ab668f163924b030280c3787db8f6","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670283314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670302109","html_url":"https://github.com/apache/iceberg/pull/1280#issuecomment-670302109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1280","id":670302109,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDMwMjEwOQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T03:31:38Z","updated_at":"2020-08-07T03:31:50Z","author_association":"CONTRIBUTOR","body":"This is rebased after merging #1285 to handle only refactoring.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670302109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670342068","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-670342068","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":670342068,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDM0MjA2OA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T06:00:16Z","updated_at":"2020-08-07T06:00:16Z","author_association":"CONTRIBUTOR","body":"@rdblue would you please help to review again, I've addressed most of the issues.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670342068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670508553","html_url":"https://github.com/apache/iceberg/pull/1266#issuecomment-670508553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1266","id":670508553,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDUwODU1Mw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T13:10:40Z","updated_at":"2020-08-07T13:10:40Z","author_association":"COLLABORATOR","body":"@openinx, Addressed your lastest comments. Thanks for your detailed review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670508553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670546640","html_url":"https://github.com/apache/iceberg/pull/1264#issuecomment-670546640","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1264","id":670546640,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDU0NjY0MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T14:31:59Z","updated_at":"2020-08-07T14:31:59Z","author_association":"CONTRIBUTOR","body":"I see the latest commit title now, `Port over all the tests from TestRemoveSnapshots`.\r\n\r\nCould you please leave some guidance comments in TestExpireSnapshotsAction so that reviewers can compare with the origin code of TestRemoveSnapshots or even skip reviewing some methods if the content is identical? Some applies on refactored code, but I already passed through the code so OK.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670546640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670583528","html_url":"https://github.com/apache/iceberg/pull/1264#issuecomment-670583528","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1264","id":670583528,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDU4MzUyOA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T15:49:55Z","updated_at":"2020-08-07T15:49:55Z","author_association":"MEMBER","body":"@HeartSaVioR , done all tests are noted. Only one test had a significant modification the rests just have the \"table.expire\" switched with \"Actions.forTable().expire. \r\n\r\nPlease let me know if there is anything you would like clarity on or if you have any more suggestions\r\n\r\nThanks for your help in the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670583528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670587528","html_url":"https://github.com/apache/iceberg/issues/1269#issuecomment-670587528","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1269","id":670587528,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDU4NzUyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T15:58:59Z","updated_at":"2020-08-07T15:58:59Z","author_association":"CONTRIBUTOR","body":"Merged #1271.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670587528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670588377","html_url":"https://github.com/apache/iceberg/issues/1304#issuecomment-670588377","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1304","id":670588377,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDU4ODM3Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T16:00:50Z","updated_at":"2020-08-07T16:00:50Z","author_association":"CONTRIBUTOR","body":"The two methods are alternatives to one another, so I would not expect users to call both of them. I'd be okay with fixing this (open to suggestions on behavior) or simply throwing an exception if both methods are used to configure the same table scan.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670588377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670594342","html_url":"https://github.com/apache/iceberg/issues/1286#issuecomment-670594342","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1286","id":670594342,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDU5NDM0Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T16:13:36Z","updated_at":"2020-08-07T16:13:36Z","author_association":"CONTRIBUTOR","body":"I want to clarify here that the amount of data rewritten during a compaction should not matter very much. In many cases, the initial commit will fail because an operation can take a long time. What matters is how long a retry takes because retries are metadata-only operations.\r\n\r\nFor operations like compaction, Iceberg needs to rewrite existing manifests to remove files that were compacted. Any filtered and rewritten manifest is cached so that a retry doesn't never needs to rewrite the same manifest file twice. Iceberg will also use manifest file metadata to avoid even scanning manifests that cannot contain the files it is replacing. In most cases with a Spark streaming job appending to a table, we would expect the new manifests to not require scanning and for old manifests to be unchanged by the appends. Then all of the initial manifest rewrite work can be reused in a retry and it should proceed quickly enough to commit within the 10s interval. (The minimum amount of work to commit is writing a manifest list and a metadata JSON file, which should be well under 10s, even with S3.)\r\n\r\nI think what we need to do to debug this case is to find out what work the retries are doing. In our environment, we can log file system operations, so we can see what files are being created in each attempt and how long these are taking. Can someone try to reproduce the issue and attach the log from the compaction so we can see what is happening that causes the retry to take so long?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670594342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670596574","html_url":"https://github.com/apache/iceberg/pull/1289#issuecomment-670596574","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1289","id":670596574,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDU5NjU3NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T16:18:40Z","updated_at":"2020-08-07T16:18:40Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick! I've merged this and will try to enable the action.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670596574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670602196","html_url":"https://github.com/apache/iceberg/pull/1101#issuecomment-670602196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1101","id":670602196,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDYwMjE5Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T16:31:31Z","updated_at":"2020-08-07T16:31:31Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing the latest round of comments, @chenjunjiedada! I'm going to merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670602196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670604455","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-670604455","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":670604455,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDYwNDQ1NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T16:36:56Z","updated_at":"2020-08-07T16:36:56Z","author_association":"CONTRIBUTOR","body":"@guilload, could you rebase and take a look at the [review comment about multiple catalogs](https://github.com/apache/iceberg/pull/1243#discussion_r463838000)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670604455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670607386","html_url":"https://github.com/apache/iceberg/pull/1145#issuecomment-670607386","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1145","id":670607386,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDYwNzM4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T16:44:00Z","updated_at":"2020-08-07T16:44:00Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing conflicts! I've merged this. Is #1185 next?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670607386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670607735","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-670607735","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":670607735,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDYwNzczNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T16:44:48Z","updated_at":"2020-08-07T16:44:48Z","author_association":"CONTRIBUTOR","body":"@openinx, can you rebase this now that #1145 has been merged?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670607735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670617498","html_url":"https://github.com/apache/iceberg/issues/1022#issuecomment-670617498","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1022","id":670617498,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDYxNzQ5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T17:07:44Z","updated_at":"2020-08-07T17:07:44Z","author_association":"CONTRIBUTOR","body":"Added in #1301. We may want to also add an in-memory filter that is based on a set, but it should be simple when we are ready to add the optimization.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670617498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670651089","html_url":"https://github.com/apache/iceberg/issues/1306#issuecomment-670651089","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1306","id":670651089,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY1MTA4OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T18:29:35Z","updated_at":"2020-08-07T18:29:35Z","author_association":"CONTRIBUTOR","body":"We will have to figure out caching and a few other things but I want to discuss whether this makes sense or not.\r\n\r\n@rdblue @rdsr @prodeezy @RussellSpitzer @jerryshao any thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670651089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670655024","html_url":"https://github.com/apache/iceberg/issues/1306#issuecomment-670655024","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1306","id":670655024,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY1NTAyNA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T18:40:03Z","updated_at":"2020-08-07T18:40:03Z","author_association":"MEMBER","body":"Couldn't we use the existing Create table to do something like\r\n \r\n`CREATE TABLE \"name\" USING iceberg OPTIONS (path = \"x\")`\r\n\r\nOr are we trying to keep from ever naming the table representing the directory?\r\n\r\nAs for the select, I think that sounds reasonable as long as those kind of strings with slashes can be passed through easily. I'm assuming we would just branch off in the Catalog load table method?\r\n\r\nI'm sorry I'm still a bit new here, so I'm not fully up to date on what's going on here. But it seems as though we just want a way of treating a directory as a table?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670655024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670661482","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-670661482","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":670661482,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY2MTQ4Mg==","user":{"login":"shangxinli","id":31421745,"node_id":"MDQ6VXNlcjMxNDIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31421745?v=4","gravatar_id":"","url":"https://api.github.com/users/shangxinli","html_url":"https://github.com/shangxinli","followers_url":"https://api.github.com/users/shangxinli/followers","following_url":"https://api.github.com/users/shangxinli/following{/other_user}","gists_url":"https://api.github.com/users/shangxinli/gists{/gist_id}","starred_url":"https://api.github.com/users/shangxinli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangxinli/subscriptions","organizations_url":"https://api.github.com/users/shangxinli/orgs","repos_url":"https://api.github.com/users/shangxinli/repos","events_url":"https://api.github.com/users/shangxinli/events{/privacy}","received_events_url":"https://api.github.com/users/shangxinli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T18:55:51Z","updated_at":"2020-08-07T18:56:14Z","author_association":"CONTRIBUTOR","body":"I don't see any progress on this feature for a year! Anybody is still actively working on it? If not, I am interested in working on it. \r\n\r\nI look at the Icerberg code briefly. Yes, although the flag parquet.filter.columnindex.enabled is enabled by default, Iceberg is not using that reading path. It seems we can borrow something in org.apache.parquet.internal.filter2.columnindex.ColumnIndexFilter and implement the filtering in Vectorized Parquet reader. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670661482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670680407","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-670680407","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":670680407,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY4MDQwNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T19:37:47Z","updated_at":"2020-08-07T19:40:02Z","author_association":"CONTRIBUTOR","body":"I think this feature was blocked by the vectorization work. Since we merged it into master, I think we should be good to go.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670680407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670680522","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-670680522","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":670680522,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY4MDUyMg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T19:38:03Z","updated_at":"2020-08-07T19:38:03Z","author_association":"CONTRIBUTOR","body":"I don't know anyone working on this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670680522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670682991","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-670682991","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":670682991,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY4Mjk5MQ==","user":{"login":"shangxinli","id":31421745,"node_id":"MDQ6VXNlcjMxNDIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31421745?v=4","gravatar_id":"","url":"https://api.github.com/users/shangxinli","html_url":"https://github.com/shangxinli","followers_url":"https://api.github.com/users/shangxinli/followers","following_url":"https://api.github.com/users/shangxinli/following{/other_user}","gists_url":"https://api.github.com/users/shangxinli/gists{/gist_id}","starred_url":"https://api.github.com/users/shangxinli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangxinli/subscriptions","organizations_url":"https://api.github.com/users/shangxinli/orgs","repos_url":"https://api.github.com/users/shangxinli/repos","events_url":"https://api.github.com/users/shangxinli/events{/privacy}","received_events_url":"https://api.github.com/users/shangxinli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T19:44:16Z","updated_at":"2020-08-07T19:44:16Z","author_association":"CONTRIBUTOR","body":"Thanks Anton! I will have a look when I get time. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670682991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670717050","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-670717050","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":670717050,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDcxNzA1MA==","user":{"login":"thesquelched","id":838700,"node_id":"MDQ6VXNlcjgzODcwMA==","avatar_url":"https://avatars.githubusercontent.com/u/838700?v=4","gravatar_id":"","url":"https://api.github.com/users/thesquelched","html_url":"https://github.com/thesquelched","followers_url":"https://api.github.com/users/thesquelched/followers","following_url":"https://api.github.com/users/thesquelched/following{/other_user}","gists_url":"https://api.github.com/users/thesquelched/gists{/gist_id}","starred_url":"https://api.github.com/users/thesquelched/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thesquelched/subscriptions","organizations_url":"https://api.github.com/users/thesquelched/orgs","repos_url":"https://api.github.com/users/thesquelched/repos","events_url":"https://api.github.com/users/thesquelched/events{/privacy}","received_events_url":"https://api.github.com/users/thesquelched/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T21:17:43Z","updated_at":"2020-08-07T21:17:43Z","author_association":"NONE","body":"I think there's a little bit more work to be done. I get the following when using `org.apache.iceberg.parquet.ParquetUtil.fileMetrics`:\r\n\r\n```\r\njava.lang.UnsupportedOperationException: Cannot convert unknown primitive type: optional int96 created_at\r\n  at org.apache.iceberg.parquet.MessageTypeToType.primitive(MessageTypeToType.java:163)\r\n  at org.apache.iceberg.parquet.MessageTypeToType.primitive(MessageTypeToType.java:41)\r\n  at org.apache.iceberg.parquet.ParquetTypeVisitor.visit(ParquetTypeVisitor.java:41)\r\n  at org.apache.iceberg.parquet.ParquetTypeVisitor.visitFields(ParquetTypeVisitor.java:168)\r\n  at org.apache.iceberg.parquet.ParquetTypeVisitor.visit(ParquetTypeVisitor.java:38)\r\n  at org.apache.iceberg.parquet.ParquetSchemaUtil.convert(ParquetSchemaUtil.java:47)\r\n  at org.apache.iceberg.parquet.ParquetUtil.footerMetrics(ParquetUtil.java:90)\r\n  at org.apache.iceberg.parquet.ParquetUtil.fileMetrics(ParquetUtil.java:74)\r\n  at getMetrics(<console>:43)\r\n  ... 53 elided\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670717050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670729320","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-670729320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":670729320,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDcyOTMyMA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T22:00:18Z","updated_at":"2020-08-07T22:00:18Z","author_association":"CONTRIBUTOR","body":"I think we will need a test when we create a Parquet table with int96 timestamps, migrate it to Iceberg, and read back to make sure this works end-to-end.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670729320/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670740752","html_url":"https://github.com/apache/iceberg/pull/1145#issuecomment-670740752","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1145","id":670740752,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc0MDc1Mg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T22:11:11Z","updated_at":"2020-08-07T22:11:11Z","author_association":"MEMBER","body":"Thanks for merging. I'd prefer to resolve this issue (https://github.com/apache/iceberg/issues/1305), especially the [RowDataWrapper](https://github.com/apache/iceberg/pull/1299) and Row->RowData [refactor](https://github.com/apache/iceberg/commit/2af37c53fd36639ba41aebd362f379c7f5451ed1) firstly,  then we could start review the #1185.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670740752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670773678","html_url":"https://github.com/apache/iceberg/pull/1310#issuecomment-670773678","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1310","id":670773678,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc3MzY3OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T22:47:24Z","updated_at":"2020-08-07T22:47:24Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670773678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670779639","html_url":"https://github.com/apache/iceberg/pull/1310#issuecomment-670779639","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1310","id":670779639,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc3OTYzOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T23:14:16Z","updated_at":"2020-08-07T23:14:16Z","author_association":"CONTRIBUTOR","body":"+1 when tests pass.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670779639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670782775","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-670782775","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":670782775,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc4Mjc3NQ==","user":{"login":"gustavoatt","id":1475634,"node_id":"MDQ6VXNlcjE0NzU2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1475634?v=4","gravatar_id":"","url":"https://api.github.com/users/gustavoatt","html_url":"https://github.com/gustavoatt","followers_url":"https://api.github.com/users/gustavoatt/followers","following_url":"https://api.github.com/users/gustavoatt/following{/other_user}","gists_url":"https://api.github.com/users/gustavoatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gustavoatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gustavoatt/subscriptions","organizations_url":"https://api.github.com/users/gustavoatt/orgs","repos_url":"https://api.github.com/users/gustavoatt/repos","events_url":"https://api.github.com/users/gustavoatt/events{/privacy}","received_events_url":"https://api.github.com/users/gustavoatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T23:27:44Z","updated_at":"2020-08-07T23:27:44Z","author_association":"CONTRIBUTOR","body":"Agreed! I'll add a test for that and make sure that end to end icerberg-parquet can read tables with int96 timestamps.\r\n\r\nCurrent tests only verifies that we can read the parquet file but not whether it can be read once it is migrated to Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670782775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670783267","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-670783267","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":670783267,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc4MzI2Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T23:29:43Z","updated_at":"2020-08-07T23:29:43Z","author_association":"CONTRIBUTOR","body":"We will have to be careful with stats as well. I think Parquet does not keep stats for int96, though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670783267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670787801","html_url":"https://github.com/apache/iceberg/pull/1310#issuecomment-670787801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1310","id":670787801,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc4NzgwMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T23:49:36Z","updated_at":"2020-08-07T23:49:36Z","author_association":"CONTRIBUTOR","body":"Oops, I'll have to update usages in tests","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670787801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670789619","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-670789619","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":670789619,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc4OTYxOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T23:59:14Z","updated_at":"2020-08-07T23:59:14Z","author_association":"CONTRIBUTOR","body":"Yeah, looks like a problem with import. @aokolnychyi is right that stats for int96 columns are unreliable. That makes the fix easy: we just ignore int96 columns in the import path.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670789619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670794616","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-670794616","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":670794616,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc5NDYxNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T00:25:38Z","updated_at":"2020-08-08T00:25:38Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR, sorry I haven't made it back to continue reviewing this yet. Thanks for your patience!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670794616/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670803702","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-670803702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":670803702,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgwMzcwMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T01:27:23Z","updated_at":"2020-08-08T01:27:23Z","author_association":"CONTRIBUTOR","body":"@rymurr, overall this looks good to me. We might want to make it more pythonic in areas, like relying on `if reference` instead of `if reference is not None`, but those are minor.\r\n\r\nHave you tested this in practice by actually connecting to a Hive Metastore? It looks like the tests only mock the behavior. We might want to repurpose some of the Java test code to run a metastore for the duration of python testing from a script.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670803702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670803900","html_url":"https://github.com/apache/iceberg/pull/1101#issuecomment-670803900","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1101","id":670803900,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgwMzkwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T01:29:11Z","updated_at":"2020-08-08T01:29:11Z","author_association":"CONTRIBUTOR","body":"Sorry, I thought I'd clicked merge earlier today. It's done now, though. Thanks @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670803900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670804028","html_url":"https://github.com/apache/iceberg/pull/1145#issuecomment-670804028","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1145","id":670804028,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgwNDAyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T01:30:06Z","updated_at":"2020-08-08T01:30:06Z","author_association":"CONTRIBUTOR","body":"@openinx, that sounds good to me. I'll take a look at #1305 next.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670804028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670816890","html_url":"https://github.com/apache/iceberg/issues/1286#issuecomment-670816890","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1286","id":670816890,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgxNjg5MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T03:27:41Z","updated_at":"2020-08-08T03:30:16Z","author_association":"CONTRIBUTOR","body":"At a glance of codebase, looks like applying the changes into current base snapshot is executed per retrial. The way to build manifests/snapshot looks to be always based on the operation, even Iceberg can also leverage the information about the delta of previous base snapshot vs new base snapshot when retrying.\r\n\r\nWe could do differently when snapshots after base snapshots all came from \"fast append\" operations. \r\n(I'm assuming we believe the information of \"operation\" for the snapshot information. If we have to read through manifest list files & manifest files then probably introduce more latency.)\r\n\r\nProbably the cheapest approach would be allowing reorder of snapshots - insert the snapshot between base snapshot and the snapshot having base snapshot as parent. As we look to add a new snapshot to only the tail (append), so it is only viable if we are OK with breaking the policy.\r\n\r\nAlternatively, we can list up manifests written from snapshots after base snapshots, and only add these files to manifest list file (it would be nice if we can simply append, but if not possible, read and merge into new file) in snapshot created in previous trial, and write metadata for the modified snapshot and commit.\r\n\r\nDoes it make sense? If it makes sense for us, I'll try to do with some POC.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670816890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670971549","html_url":"https://github.com/apache/iceberg/issues/1306#issuecomment-670971549","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1306","id":670971549,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDk3MTU0OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T20:38:52Z","updated_at":"2020-08-08T20:38:52Z","author_association":"CONTRIBUTOR","body":"I was also thinking about adding support for identifiers with a path. We could use that to delegate from `IcebergSource` to a catalog, which would the bring support for all of the `SaveMode` options in the v1 `DataFrameWriter`. Since that write path is very confusing and often broken, I think adding that is a very minor benefit.\r\n\r\nI think there may already be support for tables that are identified using ```iceberg.`fs:/path/to/table````. That works for v1 sources, like Parquet. Russell's option could work as well.\r\n\r\nIsn't the main blocker that we need an atomic operation? HadoopTableOperations works for HDFS tables, but any other file system, including `file:`, needs something for coordination. I'm not sure what that would be for path-based tables.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670971549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670972927","html_url":"https://github.com/apache/iceberg/issues/1286#issuecomment-670972927","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1286","id":670972927,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDk3MjkyNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T20:55:02Z","updated_at":"2020-08-08T20:55:02Z","author_association":"CONTRIBUTOR","body":"> looks like applying the changes into current base snapshot is executed per retrial\r\n\r\nYes, but work that has already been done is reused. If a table has 2 manifests, A and B, when a rewrite starts and another commit adds manifest C, then the retry won't need to filter A and B a second time. It will only filter C, and it will use metadata to determine if C needs to be rewritten. By reusing this work, reattempts should only require writing the manifest list and root metadata file.\r\n\r\n> Probably the cheapest approach would be allowing reorder of snapshots\r\n\r\nReordering snapshots is not allowed because it changes history.\r\n\r\nA reattempt should be a cheap operation, we just need the logs to know why it isn't in this case.\r\n\r\n> Alternatively, we can list up manifests written from snapshots after base snapshots . . .\r\n\r\nI don't quite understand what you're suggesting here, but it sounds very similar to what is already done. Most of the time, an append results in a new manifest added, so the situation I described above is how the commit is reattempted.\r\n\r\nA couple things can go wrong:\r\n1. Manifests are compacted: A, B, and C might be rewritten into D. If that happens, then D must be scanned and rewritten because A and B had to be. That takes time, which could result in the retry failing. The next retry would probably get manifests D and E, and the original situation (D is already done, E doesn't match) would apply for a quick retry.\r\n2. New manifests must be scanned: If the metadata for C shows that it might contain files that were rewritten, then the commit must scan C to check for them. The metadata that we use is the range of partitions in a manifest. So if you're partitioning by hour, for example, then a compaction that rewrites data in the hour currently being written will need to scan all new manifests each retry.\r\n\r\nThe most likely situation is the second one, but logs that show what files are getting created will tell us what is happening. I think we should find out what is taking so long in the reattempt in order to plan how to fix it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670972927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670974450","html_url":"https://github.com/apache/iceberg/pull/1299#issuecomment-670974450","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1299","id":670974450,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDk3NDQ1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T21:13:51Z","updated_at":"2020-08-08T21:13:51Z","author_association":"CONTRIBUTOR","body":"Thanks @openinx! It mostly looks good, except for the time bug. I'd also like to update the tests so that they are more likely to catch similar bugs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670974450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670975321","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-670975321","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":670975321,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDk3NTMyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T21:24:29Z","updated_at":"2020-08-08T21:24:29Z","author_association":"CONTRIBUTOR","body":"@shangxinli, it would be great to have your help implementing this!\r\n\r\nYou're right that Iceberg doesn't use the read path from Parquet. Iceberg has its own set of readers to reconstruct Parquet rows, and it also has its own set of expressions that are used directly in row group and record filters.\r\n\r\nWe're here to help out with questions if you have them.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/670975321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671022845","html_url":"https://github.com/apache/iceberg/pull/1219#issuecomment-671022845","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1219","id":671022845,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTAyMjg0NQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T08:18:00Z","updated_at":"2020-08-09T08:18:00Z","author_association":"COLLABORATOR","body":"@rdblue , I think this PR only changes `GenericManifestFile` that is the content of the manifest list. The manifest is not changed because the `GenericManifestEntry` is not changed. Did I misunderstand?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671022845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671151713","html_url":"https://github.com/apache/iceberg/issues/1302#issuecomment-671151713","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1302","id":671151713,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTE1MTcxMw==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T03:55:51Z","updated_at":"2020-08-10T03:55:51Z","author_association":"CONTRIBUTOR","body":"I recently read @rdblue's comment on Iceberg Slack suggesting future removal of UUID type from the spec. Would be great to hear Ryan's opinion if this is worth fixing or if we should rather remove the type.\r\n\r\n>David Stryker Jul 14th at 12:36 PM\r\nHi @rdblue  The Iceberg Presto connector doesn't currently support the UUID type.  David Phillips and I were wondering if you thought it was worthwhile to provide that support. (edited) \r\nRyan Blue\r\nNo, we don't support it in other models either. We should remove it from the spec.\r\n\r\nhttps://the-asf.slack.com/archives/CF01LKV9S/p1594755385061000","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671151713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671316106","html_url":"https://github.com/apache/iceberg/pull/1312#issuecomment-671316106","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1312","id":671316106,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTMxNjEwNg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T12:06:50Z","updated_at":"2020-08-10T12:06:50Z","author_association":"MEMBER","body":"Lgtm, thanks for catching that!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671316106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671451730","html_url":"https://github.com/apache/iceberg/issues/1302#issuecomment-671451730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1302","id":671451730,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTQ1MTczMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T16:18:37Z","updated_at":"2020-08-10T16:18:37Z","author_association":"CONTRIBUTOR","body":"This wouldn't be too difficult to fix. The problem before was that Parquet didn't have a UUID type annotation so there was no way to encode that a fixed was a UUID and correctly infer the schema. Now that this has been fixed, we could start using it. The larger issue now is that no processing engines can create a UUID type.\r\n\r\nI'm still leaning toward removing it from the spec because there is no support for it in engines. I think a better way to do what this was attempting to is to add support in processing engines first, then support it in Iceberg if we need to.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671451730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671459137","html_url":"https://github.com/apache/iceberg/pull/1307#issuecomment-671459137","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1307","id":671459137,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTQ1OTEzNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T16:32:43Z","updated_at":"2020-08-10T16:32:43Z","author_association":"CONTRIBUTOR","body":"Let me take a look right now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671459137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671514522","html_url":"https://github.com/apache/iceberg/pull/1313#issuecomment-671514522","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1313","id":671514522,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTUxNDUyMg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T18:25:35Z","updated_at":"2020-08-10T18:32:18Z","author_association":"CONTRIBUTOR","body":"I would like to make sure I get the use case correctly. Is the main purpose to use `RemoveOrphanFilesAction` to clean up expired files? If so, I think that's a misuse of the API. Instead, one should use `ExpireSnapshotsAction` that Russell is working on in PR #1264.\r\n\r\nThe most expensive part in `RemoveOrphanFilesAction` is listing. The bigger table the more pressure you put on the storage. The number of orphan files should be usually small so the delete should be quick. This action should be called maybe once a month or so. `ExpireSnapshotsAction`, on the other hand, is meant to be called regularly. It will have an executor service to parallelize deletes. `ExpireSnapshotsAction` is supposed to delete a lot of files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671514522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671588572","html_url":"https://github.com/apache/iceberg/issues/1306#issuecomment-671588572","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1306","id":671588572,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTU4ODU3Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T21:03:43Z","updated_at":"2020-08-10T21:10:24Z","author_association":"CONTRIBUTOR","body":"> CREATE TABLE \"name\" USING iceberg OPTIONS (path = \"x\")\r\n\r\n@RussellSpitzer, create table statements are delegated to either `HadoopCatalog` or `HiveCatalog` in Iceberg. The example above can be processed only by `HiveCatalog` as we cannot set a table location in `HadoopCatalog`. While `HiveCatalog` allows arbitrary table locations, it requires HMS. While `HadoopCatalog` doesn't need HMS, it requires a special layout and does list operations. We have one more API to work with Iceberg tables: `HadoopTables`. As opposed to `HadoopCatalog`, the location can be arbitrary.\r\n\r\nI see a lot of cases when people just refer to a table by location. While we can load such tables, we cannot create them through Spark and there is no SQL support. I wonder if there is something we could do differently and provide better user experience with tables identified by path.\r\n\r\n> I think there may already be support for tables that are identified using ```iceberg.`fs:/path/to/table````. \r\n\r\n@rdblue, I actually forgot about the SQL on files syntax. Unfortunately, it works only with built-in v1 internal file sources. Ideally, we should see whether we can enable support for such syntax in all V2 data sources. Even if we do so, this will only address query support. Users will have to call Iceberg APIs to create tables. An alternative is to interpret path identifiers in our Spark catalogs. For example, we could support ```iceberg_spark_catalog.`path/to/table/` ``` syntax.\r\n\r\n> Isn't the main blocker that we need an atomic operation? HadoopTableOperations works for HDFS tables, but any other file system, including file:, needs something for coordination. I'm not sure what that would be for path-based tables.\r\n\r\nI'd just use `HadoopTables` and document the limitations.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671588572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671602713","html_url":"https://github.com/apache/iceberg/pull/1284#issuecomment-671602713","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1284","id":671602713,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYwMjcxMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T21:37:16Z","updated_at":"2020-08-10T21:37:16Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @shardulm94!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671602713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671613075","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-671613075","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":671613075,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYxMzA3NQ==","user":{"login":"guilload","id":3011588,"node_id":"MDQ6VXNlcjMwMTE1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/3011588?v=4","gravatar_id":"","url":"https://api.github.com/users/guilload","html_url":"https://github.com/guilload","followers_url":"https://api.github.com/users/guilload/followers","following_url":"https://api.github.com/users/guilload/following{/other_user}","gists_url":"https://api.github.com/users/guilload/gists{/gist_id}","starred_url":"https://api.github.com/users/guilload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilload/subscriptions","organizations_url":"https://api.github.com/users/guilload/orgs","repos_url":"https://api.github.com/users/guilload/repos","events_url":"https://api.github.com/users/guilload/events{/privacy}","received_events_url":"https://api.github.com/users/guilload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T22:04:49Z","updated_at":"2020-08-10T22:04:49Z","author_association":"CONTRIBUTOR","body":"@rdblue I've rebased the PR, added a commit for customizing the warehouse location for the Hadoop catalog and reviewed the comment about multiples catalogs. However, I'm still working on running the Hive test suite once per catalog implementation. I've made good progress but still need more time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671613075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671618935","html_url":"https://github.com/apache/iceberg/issues/1018#issuecomment-671618935","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1018","id":671618935,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYxODkzNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T22:21:34Z","updated_at":"2020-08-10T22:21:34Z","author_association":"CONTRIBUTOR","body":"#1316 has a writer for Avro files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671618935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671619149","html_url":"https://github.com/apache/iceberg/issues/1017#issuecomment-671619149","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1017","id":671619149,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYxOTE0OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T22:22:07Z","updated_at":"2020-08-10T22:22:07Z","author_association":"CONTRIBUTOR","body":"#1316 has a writer implementation for Avro files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671619149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671619696","html_url":"https://github.com/apache/iceberg/issues/1023#issuecomment-671619696","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1023","id":671619696,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYxOTY5Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T22:23:38Z","updated_at":"2020-08-10T22:23:38Z","author_association":"CONTRIBUTOR","body":"#1309 has a set-based implementation of the equality delete filter.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671619696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671621426","html_url":"https://github.com/apache/iceberg/issues/1024#issuecomment-671621426","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1024","id":671621426,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYyMTQyNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T22:28:44Z","updated_at":"2020-08-10T22:31:46Z","author_association":"CONTRIBUTOR","body":"#1301 added utility methods to support this, and a [merge-based filter for position deletes](https://github.com/apache/iceberg/blob/48360064447f2c93194b366240a044a353840e6e/core/src/main/java/org/apache/iceberg/deletes/Deletes.java#L115-L132):\r\n\r\n* [`FilterIterator`](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/util/FilterIterator.java) is an iterator implementation that will filter another iterator\r\n* [`SortedMerge`](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/util/SortedMerge.java) is a `CloseableIterable` that merges multiple streams of records into a single sorted stream\r\n\r\nOnce sort orders are supported in file metadata (#317), this should be fairly easy to implement.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671621426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671624646","html_url":"https://github.com/apache/iceberg/pull/1280#issuecomment-671624646","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1280","id":671624646,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYyNDY0Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T22:39:16Z","updated_at":"2020-08-10T22:39:16Z","author_association":"CONTRIBUTOR","body":"Thanks for updating this, @HeartSaVioR! Looks great. I merged it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671624646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671624846","html_url":"https://github.com/apache/iceberg/pull/1307#issuecomment-671624846","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1307","id":671624846,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYyNDg0Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T22:39:55Z","updated_at":"2020-08-10T22:39:55Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @aokolnychyi! Tests are passing now, so I'll merge.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671624846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671626851","html_url":"https://github.com/apache/iceberg/pull/1299#issuecomment-671626851","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1299","id":671626851,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYyNjg1MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T22:46:24Z","updated_at":"2020-08-10T22:46:24Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671626851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671627947","html_url":"https://github.com/apache/iceberg/issues/1306#issuecomment-671627947","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1306","id":671627947,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYyNzk0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T22:49:57Z","updated_at":"2020-08-10T22:49:57Z","author_association":"CONTRIBUTOR","body":"> I'd just use HadoopTables and document the limitations.\r\n\r\nThat sounds dangerous. I would really rather not provide an easy way to have tables that work most of the time, but fail in ways that are hard to track down. I think it would be fine to build a catalog that supports this, but I don't think that we should make a recommended way to interact with Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671627947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671633153","html_url":"https://github.com/apache/iceberg/pull/1264#issuecomment-671633153","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1264","id":671633153,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTYzMzE1Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T23:07:18Z","updated_at":"2020-08-10T23:07:18Z","author_association":"MEMBER","body":"@aokolnychyi + @rdblue all your comments have been addressed, thanks again for the helpful checks and discussion","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671633153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671650994","html_url":"https://github.com/apache/iceberg/pull/1266#issuecomment-671650994","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1266","id":671650994,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY1MDk5NA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T00:10:03Z","updated_at":"2020-08-11T00:10:03Z","author_association":"COLLABORATOR","body":"@rdblue, would you please help to take anther look? I will rebase the writer side on this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671650994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671656819","html_url":"https://github.com/apache/iceberg/pull/1318#issuecomment-671656819","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1318","id":671656819,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY1NjgxOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T00:31:59Z","updated_at":"2020-08-11T00:31:59Z","author_association":"CONTRIBUTOR","body":"@rymurr, @prodeezy, @aokolnychyi, here's another one for row-level deletes. After this one and #1316 are in, we should be able to get end-to-end tests working.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671656819/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671657419","html_url":"https://github.com/apache/iceberg/pull/1318#issuecomment-671657419","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1318","id":671657419,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY1NzQxOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T00:34:39Z","updated_at":"2020-08-11T00:34:39Z","author_association":"CONTRIBUTOR","body":"@openinx, @JingsongLi, @chenjunjiedada, the purpose of this is to support the delete file writers in #1316. Those writers support writing delete files using original data rows so that the deleted rows are available for streaming uses. Please have a look at both.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671657419/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671660367","html_url":"https://github.com/apache/iceberg/pull/1264#issuecomment-671660367","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1264","id":671660367,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY2MDM2Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T00:46:19Z","updated_at":"2020-08-11T00:46:19Z","author_association":"CONTRIBUTOR","body":"I'd prefer if a couple methods were private, but that isn't important enough to block committing. I'll merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671660367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671663189","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-671663189","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":671663189,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY2MzE4OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T00:58:06Z","updated_at":"2020-08-11T00:58:06Z","author_association":"CONTRIBUTOR","body":"@rymurr, you might be interested in reviewing this one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671663189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671663866","html_url":"https://github.com/apache/iceberg/pull/1266#issuecomment-671663866","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1266","id":671663866,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY2Mzg2Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T01:00:39Z","updated_at":"2020-08-11T01:00:39Z","author_association":"CONTRIBUTOR","body":"I should have time to review this tomorrow, or Wednesday at the latest. Thanks, @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671663866/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671665442","html_url":"https://github.com/apache/iceberg/issues/1306#issuecomment-671665442","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1306","id":671665442,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY2NTQ0Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T01:06:35Z","updated_at":"2020-08-11T01:06:35Z","author_association":"CONTRIBUTOR","body":"> I think it would be fine to build a catalog that supports this\r\n\r\nI was referring to a catalog as one option. Shouldn't it use `HadoopTables` API internally, though?\r\n\r\nThen we can support the following use cases:\r\n\r\n```\r\nCREATE TABLE catalog_name.`path/to/table` USING iceberg\r\nSELECT * FROM catalog_name.`path/to/table` WHERE predicate\r\nSELECT * FROM catalog_name.`path/to/table`.snapshots\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671665442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671685597","html_url":"https://github.com/apache/iceberg/issues/1302#issuecomment-671685597","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1302","id":671685597,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY4NTU5Nw==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T02:22:08Z","updated_at":"2020-08-11T02:22:08Z","author_association":"CONTRIBUTOR","body":"+1 to remove UUID Type now.\r\nUsers can choose to use FIX_BYTES or STRING.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671685597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671698264","html_url":"https://github.com/apache/iceberg/pull/1313#issuecomment-671698264","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1313","id":671698264,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY5ODI2NA==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T03:09:18Z","updated_at":"2020-08-11T03:12:24Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer  Thanks for your review that has benefited me a lot.\r\n\r\n@aokolnychyi As you said, maybe I don't use it in a reasonable way.\r\nIt wasn't until I saw this PR [#1244](https://github.com/apache/iceberg/pull/1244) that I thought of moving the file deletion method to this method(`removeOrphanFiles()`), so that I later made some other attempts to move the file deletion from driver to Executor. Thank you for your Suggestions.\r\n\r\nI'm going to close this PR, and I'm going to keep watching and using master branch code","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671698264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671783960","html_url":"https://github.com/apache/iceberg/pull/1255#issuecomment-671783960","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1255","id":671783960,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTc4Mzk2MA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T07:39:55Z","updated_at":"2020-08-11T07:39:55Z","author_association":"MEMBER","body":"@rdsr @rdblue any other concerns ?  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671783960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]