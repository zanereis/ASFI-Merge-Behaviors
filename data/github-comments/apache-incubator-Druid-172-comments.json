[{"url":"https://api.github.com/repos/apache/druid/issues/comments/356253099","html_url":"https://github.com/apache/druid/issues/5234#issuecomment-356253099","issue_url":"https://api.github.com/repos/apache/druid/issues/5234","id":356253099,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjI1MzA5OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T11:05:17Z","updated_at":"2018-01-09T11:05:17Z","author_association":"CONTRIBUTOR","body":"Hi @donpinkus, did you see the error message when executing the above query? Looks weird because the metric name of the error (```e2e_latency```) is different from that in the query (```purchase_amount```).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356253099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356255064","html_url":"https://github.com/apache/druid/issues/5227#issuecomment-356255064","issue_url":"https://api.github.com/repos/apache/druid/issues/5227","id":356255064,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjI1NTA2NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T11:13:59Z","updated_at":"2018-01-09T11:13:59Z","author_association":"CONTRIBUTOR","body":"You can configure two rules for the lower spec tier: one for loading last 6 month data and one for dropping last 1 month data. Please note that the ordering of rules is important. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356255064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356328081","html_url":"https://github.com/apache/druid/pull/4754#issuecomment-356328081","issue_url":"https://api.github.com/repos/apache/druid/issues/4754","id":356328081,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjMyODA4MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T16:02:54Z","updated_at":"2018-01-09T16:02:54Z","author_association":"MEMBER","body":"@nishantmonu51 \r\n\r\n> I think returning always false is an implementation detail, not sure if that belongs to the API javadoc.\r\nCan you elaborate more on exactly what you need me to add here ?\r\n\r\nI cannot find this above in comments (probably it was discussed during a meeting), that `isNull()` returns `boolean` rather than 3-value enum. It's because it effectively returns something reasonable only when the aggregator's output type is primitive long/double/float, but when it's Object, `isNull()` always returns `false`. I don't think it's implementation detail, because it yields \"unexpected\" results sometimes: `getObject()` could return `null`, but `isNull()` returns false. But it allows `isNull()` to be simpler. It specifies expectations from the interface and how it should be implemented (any impl of the interface), so it should be in the javadoc ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356328081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356363637","html_url":"https://github.com/apache/druid/issues/5233#issuecomment-356363637","issue_url":"https://api.github.com/repos/apache/druid/issues/5233","id":356363637,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM2MzYzNw==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T17:58:26Z","updated_at":"2018-01-09T17:58:39Z","author_association":"NONE","body":"@jihoonson - what TopN docs are you looking at?\r\n\r\nIf you go to the main [TopN doc page](http://druid.io/docs/latest/querying/topnquery.html), and look at the required properties for the query, it has \"aggregations\" and \"postAggregations\" marked as \"no\" for required\r\n\r\nBtw if you end up making a change, include me on the PR! Would love to see how to update the docs code. \r\n  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356363637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356365003","html_url":"https://github.com/apache/druid/issues/5234#issuecomment-356365003","issue_url":"https://api.github.com/repos/apache/druid/issues/5234","id":356365003,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM2NTAwMw==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T18:03:17Z","updated_at":"2018-01-09T18:03:54Z","author_association":"NONE","body":"@jihoonson - ah yes, sorry had to change some of the query fields to make it more legible / less proprietary ;)\r\n \r\nUpdated the error to match the query correctly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356365003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356374063","html_url":"https://github.com/apache/druid/issues/4835#issuecomment-356374063","issue_url":"https://api.github.com/repos/apache/druid/issues/4835","id":356374063,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM3NDA2Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T18:35:58Z","updated_at":"2018-01-09T18:35:58Z","author_association":"CONTRIBUTOR","body":"Should be irrelevant now since scan-query became merged into the core code in #4751.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356374063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356374429","html_url":"https://github.com/apache/druid/issues/4372#issuecomment-356374429","issue_url":"https://api.github.com/repos/apache/druid/issues/4372","id":356374429,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM3NDQyOQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T18:37:19Z","updated_at":"2018-01-09T18:37:19Z","author_association":"CONTRIBUTOR","body":"A profile `-P spark2` was added in https://github.com/druid-io/druid/pull/4808","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356374429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356374800","html_url":"https://github.com/apache/druid/issues/4693#issuecomment-356374800","issue_url":"https://api.github.com/repos/apache/druid/issues/4693","id":356374800,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM3NDgwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T18:38:38Z","updated_at":"2018-01-09T18:38:38Z","author_association":"CONTRIBUTOR","body":"I believe this is still an issue but should be less of an issue due to incremental handoffs from #4815 (meaning less work to do at the end of the task).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356374800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356376216","html_url":"https://github.com/apache/druid/issues/3274#issuecomment-356376216","issue_url":"https://api.github.com/repos/apache/druid/issues/3274","id":356376216,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM3NjIxNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T18:43:48Z","updated_at":"2018-01-09T18:43:48Z","author_association":"CONTRIBUTOR","body":"I think we can close this due to the incremental handoff ability in indexing tasks (#4815). We shouldn't be generating these huge publish actions anymore.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356376216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356376668","html_url":"https://github.com/apache/druid/pull/3530#issuecomment-356376668","issue_url":"https://api.github.com/repos/apache/druid/issues/3530","id":356376668,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM3NjY2OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T18:45:34Z","updated_at":"2018-01-09T18:45:34Z","author_association":"CONTRIBUTOR","body":"Sorry @praveev, I totally missed this. If you are still interested in working on this patch, could you please resolve the conflicts and then we could take another look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356376668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356388457","html_url":"https://github.com/apache/druid/issues/5179#issuecomment-356388457","issue_url":"https://api.github.com/repos/apache/druid/issues/5179","id":356388457,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM4ODQ1Nw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T19:28:43Z","updated_at":"2018-01-09T19:28:43Z","author_association":"CONTRIBUTOR","body":"It was discussed in dev-sync today. Overall, feature is agreed upon. It would make sense to support full on rollup/cube features in Druid-Sql as well.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356388457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356388736","html_url":"https://github.com/apache/druid/pull/5148#issuecomment-356388736","issue_url":"https://api.github.com/repos/apache/druid/issues/5148","id":356388736,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM4ODczNg==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T19:29:46Z","updated_at":"2018-01-09T19:29:46Z","author_association":"CONTRIBUTOR","body":"Please review this.\r\nThank you.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356388736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356389876","html_url":"https://github.com/apache/druid/issues/4246#issuecomment-356389876","issue_url":"https://api.github.com/repos/apache/druid/issues/4246","id":356389876,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM4OTg3Ng==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T19:33:48Z","updated_at":"2018-01-09T19:33:48Z","author_association":"CONTRIBUTOR","body":"Though it wasn't directly targeted by https://github.com/druid-io/druid/pull/4699 , but might have fixed this issue due to https://github.com/druid-io/druid/blob/0.11.0/server/src/main/java/io/druid/curator/discovery/CuratorDruidLeaderSelector.java#L102 and other changes. \r\nLet us close this for now and re-open if observed in releases 0.11.0 onwards.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356389876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356393184","html_url":"https://github.com/apache/druid/issues/5238#issuecomment-356393184","issue_url":"https://api.github.com/repos/apache/druid/issues/5238","id":356393184,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM5MzE4NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T19:46:19Z","updated_at":"2018-01-09T19:46:19Z","author_association":"CONTRIBUTOR","body":"This was discussed in dev-sync and agreed upon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356393184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356426618","html_url":"https://github.com/apache/druid/pull/5151#issuecomment-356426618","issue_url":"https://api.github.com/repos/apache/druid/issues/5151","id":356426618,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQyNjYxOA==","user":{"login":"palanieppan-m","id":27789414,"node_id":"MDQ6VXNlcjI3Nzg5NDE0","avatar_url":"https://avatars.githubusercontent.com/u/27789414?v=4","gravatar_id":"","url":"https://api.github.com/users/palanieppan-m","html_url":"https://github.com/palanieppan-m","followers_url":"https://api.github.com/users/palanieppan-m/followers","following_url":"https://api.github.com/users/palanieppan-m/following{/other_user}","gists_url":"https://api.github.com/users/palanieppan-m/gists{/gist_id}","starred_url":"https://api.github.com/users/palanieppan-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palanieppan-m/subscriptions","organizations_url":"https://api.github.com/users/palanieppan-m/orgs","repos_url":"https://api.github.com/users/palanieppan-m/repos","events_url":"https://api.github.com/users/palanieppan-m/events{/privacy}","received_events_url":"https://api.github.com/users/palanieppan-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T21:54:26Z","updated_at":"2018-01-09T21:54:26Z","author_association":"CONTRIBUTOR","body":"@gianm - please review the general approach and give your feedback. I can then do necessary cleanup and get this patch to final state.\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356426618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356431469","html_url":"https://github.com/apache/druid/issues/5227#issuecomment-356431469","issue_url":"https://api.github.com/repos/apache/druid/issues/5227","id":356431469,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQzMTQ2OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T22:13:31Z","updated_at":"2018-01-09T22:13:31Z","author_association":"CONTRIBUTOR","body":"I agree with @jihoonson suggestion on what rules to use.\r\n\r\ntechnically you can implement your own custom LoadRule in a Druid extension to do exactly what you need but that would be the option for more complicated use cases.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356431469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356431904","html_url":"https://github.com/apache/druid/issues/4312#issuecomment-356431904","issue_url":"https://api.github.com/repos/apache/druid/issues/4312","id":356431904,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQzMTkwNA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T22:15:06Z","updated_at":"2018-01-09T22:15:06Z","author_association":"CONTRIBUTOR","body":"do others agree/disagree ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356431904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356433882","html_url":"https://github.com/apache/druid/issues/4312#issuecomment-356433882","issue_url":"https://api.github.com/repos/apache/druid/issues/4312","id":356433882,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQzMzg4Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T22:22:59Z","updated_at":"2018-01-09T22:23:23Z","author_association":"MEMBER","body":"@himanshug I don't think there could be any debate about this, it wasn't implemented before just because nobody had time for this\r\n  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356433882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356434273","html_url":"https://github.com/apache/druid/issues/4312#issuecomment-356434273","issue_url":"https://api.github.com/repos/apache/druid/issues/4312","id":356434273,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQzNDI3Mw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T22:24:36Z","updated_at":"2018-01-09T22:24:36Z","author_association":"CONTRIBUTOR","body":"let us briefly talk about this one in next dev sync to resolve any concerns upfront.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356434273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356443955","html_url":"https://github.com/apache/druid/pull/3787#issuecomment-356443955","issue_url":"https://api.github.com/repos/apache/druid/issues/3787","id":356443955,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ0Mzk1NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T23:07:25Z","updated_at":"2018-01-09T23:07:25Z","author_association":"CONTRIBUTOR","body":"this has been reported by another user in [https://groups.google.com/d/msg/druid-user/mFRYT2dRS7g/XUDWIPjhAwAJ](https://groups.google.com/d/msg/druid-user/mFRYT2dRS7g/XUDWIPjhAwAJ) .\r\n\r\nEven if things work fine in most cluster deployments. It seems worthwhile to merge this PR in order to solve this problem for users. Using reflection wouldn't cause any performance degradation because its not inside a hot loop. Only downside is that if/when rename function signature changes with hadoop upgrade, compiler wouldn't inform us about the change and then we might end up with a bug.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356443955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356444454","html_url":"https://github.com/apache/druid/pull/5239#issuecomment-356444454","issue_url":"https://api.github.com/repos/apache/druid/issues/5239","id":356444454,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ0NDQ1NA==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T23:09:49Z","updated_at":"2018-01-09T23:09:49Z","author_association":"CONTRIBUTOR","body":"@himanshug Updated the PR and the doc. Please review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356444454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356444948","html_url":"https://github.com/apache/druid/pull/5239#issuecomment-356444948","issue_url":"https://api.github.com/repos/apache/druid/issues/5239","id":356444948,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ0NDk0OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T23:12:18Z","updated_at":"2018-01-09T23:12:18Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356444948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356445767","html_url":"https://github.com/apache/druid/pull/3787#issuecomment-356445767","issue_url":"https://api.github.com/repos/apache/druid/issues/3787","id":356445767,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ0NTc2Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T23:16:13Z","updated_at":"2018-01-09T23:16:13Z","author_association":"CONTRIBUTOR","body":"Given the issue fixed by #5187, we need to be aware that having the correct renaming/overwriting behavior on HDFS is important for correctness. So I would want to make sure this patch throws an exception if the reflection fails, rather than returning `false`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356445767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356446049","html_url":"https://github.com/apache/druid/issues/5236#issuecomment-356446049","issue_url":"https://api.github.com/repos/apache/druid/issues/5236","id":356446049,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ0NjA0OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T23:17:46Z","updated_at":"2018-01-09T23:18:05Z","author_association":"CONTRIBUTOR","body":"yes, `threshold` is behaving same way ... it is 'N' of the 'TopN' .\r\n\r\nhowever the difference is that historicals will send their top 1000 results by default and top 1 would be chosen from the merged results of those... which may or may not be accurate depending upon your data.\r\n\r\nif you wanted accurate behavior then you would use groupBy query with order-by and limit 1 .\r\n  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356446049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356447044","html_url":"https://github.com/apache/druid/pull/3787#issuecomment-356447044","issue_url":"https://api.github.com/repos/apache/druid/issues/3787","id":356447044,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ0NzA0NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T23:22:36Z","updated_at":"2018-01-09T23:22:36Z","author_association":"CONTRIBUTOR","body":"@hamlet-lee not sure if you're still bothered by this but do you want to patch it and resolve conflict ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356447044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356448120","html_url":"https://github.com/apache/druid/issues/5235#issuecomment-356448120","issue_url":"https://api.github.com/repos/apache/druid/issues/5235","id":356448120,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ0ODEyMA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T23:28:20Z","updated_at":"2018-01-09T23:28:20Z","author_association":"CONTRIBUTOR","body":"replied on the mailing list.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356448120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356450541","html_url":"https://github.com/apache/druid/issues/5238#issuecomment-356450541","issue_url":"https://api.github.com/repos/apache/druid/issues/5238","id":356450541,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ1MDU0MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T23:41:03Z","updated_at":"2018-01-09T23:41:03Z","author_association":"CONTRIBUTOR","body":"👍 great!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356450541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356455864","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-356455864","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":356455864,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ1NTg2NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T00:10:05Z","updated_at":"2018-01-10T00:10:05Z","author_association":"CONTRIBUTOR","body":"@winval thanks! I'll finish my review today.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356455864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356458013","html_url":"https://github.com/apache/druid/pull/5102#issuecomment-356458013","issue_url":"https://api.github.com/repos/apache/druid/issues/5102","id":356458013,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ1ODAxMw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T00:21:22Z","updated_at":"2018-01-10T00:21:22Z","author_association":"CONTRIBUTOR","body":"forgot to see https://github.com/druid-io/druid/pull/5102#discussion_r160561474 discussion before .\r\nmentioning it here separately in case there are opinions on this.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356458013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356471635","html_url":"https://github.com/apache/druid/issues/5236#issuecomment-356471635","issue_url":"https://api.github.com/repos/apache/druid/issues/5236","id":356471635,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ3MTYzNQ==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T01:39:52Z","updated_at":"2018-01-10T02:03:48Z","author_association":"NONE","body":"@himanshug \r\n\r\n> however the difference is that historicals will send their top 1000 results by default and top 1 would be chosen from the merged results of those... which may or may not be accurate depending upon your data.\r\n\r\n**Ok, I'm going to translate this back to you - and let me know if I understand it correctly.** \r\n\r\n\"Historicals\" are a node in Druid that processes data when you run a query.\r\nData can be divided among historicals. (Not sure how, assuming by timestamp?)\r\nWhen I run the \"Get longest github commit\" topN query the following happens:\r\n1. each historical node will take a chunk of the data\r\n2. each historical node sorts their chunk by my metric (bit confused on if its by metric or aggregation - both are required in the query)\r\n3. each historical node takes the top 1000 results & sends it back to the master node\r\n4. the master node merges the data from the historical nodes. Then it takes the top N (where N is my `threshold` value), and returns it as the result.\r\n\r\nIs that correct? \r\n\r\nIf so, why would a low \"threshold\" decrease accuracy? It's just choosing the number of results to return in Step 4.\r\n  \r\n  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356471635/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356480252","html_url":"https://github.com/apache/druid/issues/5233#issuecomment-356480252","issue_url":"https://api.github.com/repos/apache/druid/issues/5233","id":356480252,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ4MDI1Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T02:24:51Z","updated_at":"2018-01-10T02:24:51Z","author_association":"CONTRIBUTOR","body":"Ah yeah, actually it is partially correct. The requirement of aggregations depends on the [metric type](http://druid.io/docs/latest/querying/topnmetricspec.html). ```Numeric TopNMetricSpec``` requires to specify aggregators. \r\nRaised https://github.com/druid-io/druid/pull/5240.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356480252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356481678","html_url":"https://github.com/apache/druid/issues/5231#issuecomment-356481678","issue_url":"https://api.github.com/repos/apache/druid/issues/5231","id":356481678,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ4MTY3OA==","user":{"login":"QubitPi","id":16126939,"node_id":"MDQ6VXNlcjE2MTI2OTM5","avatar_url":"https://avatars.githubusercontent.com/u/16126939?v=4","gravatar_id":"","url":"https://api.github.com/users/QubitPi","html_url":"https://github.com/QubitPi","followers_url":"https://api.github.com/users/QubitPi/followers","following_url":"https://api.github.com/users/QubitPi/following{/other_user}","gists_url":"https://api.github.com/users/QubitPi/gists{/gist_id}","starred_url":"https://api.github.com/users/QubitPi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QubitPi/subscriptions","organizations_url":"https://api.github.com/users/QubitPi/orgs","repos_url":"https://api.github.com/users/QubitPi/repos","events_url":"https://api.github.com/users/QubitPi/events{/privacy}","received_events_url":"https://api.github.com/users/QubitPi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T02:34:21Z","updated_at":"2018-01-10T02:34:21Z","author_association":"CONTRIBUTOR","body":"Is `BufferAggregator` for off-heap aggregation and `Aggregator` on-heap(slower) ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356481678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356482260","html_url":"https://github.com/apache/druid/issues/5211#issuecomment-356482260","issue_url":"https://api.github.com/repos/apache/druid/issues/5211","id":356482260,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ4MjI2MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T02:38:14Z","updated_at":"2018-01-10T02:38:14Z","author_association":"CONTRIBUTOR","body":"@QubitPi We don't have an ETA for 0.12.0 presently, that depends on how many issues surface during our release candidate phase(s). The first RC should be out soon though, possibly sometime next week, as the 0.12.0 milestone has almost been cleared of open issues.\r\n\r\n@Fokko PR #4704 and #5048 have benchmarks in the PR threads. \r\n\r\n@leventov Do you happen to have benchmarks for #4762, #4811, and #5094?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356482260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356491031","html_url":"https://github.com/apache/druid/pull/4936#issuecomment-356491031","issue_url":"https://api.github.com/repos/apache/druid/issues/4936","id":356491031,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ5MTAzMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T03:40:47Z","updated_at":"2018-01-10T03:40:47Z","author_association":"CONTRIBUTOR","body":"Probably fixed by https://github.com/druid-io/druid/pull/5149.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356491031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356495566","html_url":"https://github.com/apache/druid/issues/5234#issuecomment-356495566","issue_url":"https://api.github.com/repos/apache/druid/issues/5234","id":356495566,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ5NTU2Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T04:19:40Z","updated_at":"2018-01-10T04:19:40Z","author_association":"CONTRIBUTOR","body":"Still weird.\r\n\r\n> {\"error\": \"Instantiation of [simple type, class io.druid.query.topn.TopNQuery] value failed: Must have an AggregatorFactory or PostAggregator for metric[e2e_latency], gave[[LongSumAggregatorFactory{fieldName='purchase_amount', expression='null', name='max_purchase_amount'}]] and [[]]\"}\r\n\r\nThis means, you specified a longSum aggregator for ```purchase_amount```, but the metric in the query is ```e2e_latency```. This is different from the above query in two ways: the aggregator type and the metric name.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356495566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356496336","html_url":"https://github.com/apache/druid/issues/5231#issuecomment-356496336","issue_url":"https://api.github.com/repos/apache/druid/issues/5231","id":356496336,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjQ5NjMzNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T04:26:39Z","updated_at":"2018-01-10T04:26:39Z","author_association":"CONTRIBUTOR","body":"Hi @QubitPi, here are my answers.\r\n\r\n- ```BufferAggregator``` is supposed to simply put/update/get some value at the given position of the given buffer. It isn't supposed to duplicate or slice the given buffer because it doesn't have to keep the intermediate status. See ```LongSumBufferAggregator``` as an example.\r\n- Yes, ```BufferAggregator``` and ```Aggregator``` are for off-heap and on-heap, respectively.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356496336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356511096","html_url":"https://github.com/apache/druid/issues/5211#issuecomment-356511096","issue_url":"https://api.github.com/repos/apache/druid/issues/5211","id":356511096,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjUxMTA5Ng==","user":{"login":"kgneng2","id":7286378,"node_id":"MDQ6VXNlcjcyODYzNzg=","avatar_url":"https://avatars.githubusercontent.com/u/7286378?v=4","gravatar_id":"","url":"https://api.github.com/users/kgneng2","html_url":"https://github.com/kgneng2","followers_url":"https://api.github.com/users/kgneng2/followers","following_url":"https://api.github.com/users/kgneng2/following{/other_user}","gists_url":"https://api.github.com/users/kgneng2/gists{/gist_id}","starred_url":"https://api.github.com/users/kgneng2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kgneng2/subscriptions","organizations_url":"https://api.github.com/users/kgneng2/orgs","repos_url":"https://api.github.com/users/kgneng2/repos","events_url":"https://api.github.com/users/kgneng2/events{/privacy}","received_events_url":"https://api.github.com/users/kgneng2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T06:22:07Z","updated_at":"2018-01-10T06:22:07Z","author_association":"NONE","body":"When will do you release 0.12.0  ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356511096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356546239","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-356546239","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":356546239,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjU0NjIzOQ==","user":{"login":"winval","id":15226789,"node_id":"MDQ6VXNlcjE1MjI2Nzg5","avatar_url":"https://avatars.githubusercontent.com/u/15226789?v=4","gravatar_id":"","url":"https://api.github.com/users/winval","html_url":"https://github.com/winval","followers_url":"https://api.github.com/users/winval/followers","following_url":"https://api.github.com/users/winval/following{/other_user}","gists_url":"https://api.github.com/users/winval/gists{/gist_id}","starred_url":"https://api.github.com/users/winval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/winval/subscriptions","organizations_url":"https://api.github.com/users/winval/orgs","repos_url":"https://api.github.com/users/winval/repos","events_url":"https://api.github.com/users/winval/events{/privacy}","received_events_url":"https://api.github.com/users/winval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T09:21:10Z","updated_at":"2018-01-10T09:21:10Z","author_association":"NONE","body":"@jihoonson  Thanks, all your comments are good to me and I have refine the code.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356546239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356561084","html_url":"https://github.com/apache/druid/pull/5245#issuecomment-356561084","issue_url":"https://api.github.com/repos/apache/druid/issues/5245","id":356561084,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjU2MTA4NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T10:26:35Z","updated_at":"2018-01-10T10:26:35Z","author_association":"MEMBER","body":"@vsmangipudi why do you want to merge 0.12.0 into master?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356561084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356561394","html_url":"https://github.com/apache/druid/pull/5237#issuecomment-356561394","issue_url":"https://api.github.com/repos/apache/druid/issues/5237","id":356561394,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjU2MTM5NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T10:27:42Z","updated_at":"2018-01-10T10:27:42Z","author_association":"MEMBER","body":"@SpyderRivera thanks for contribution, please sign CLA: http://druid.io/community/cla.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356561394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356582302","html_url":"https://github.com/apache/druid/pull/4754#issuecomment-356582302","issue_url":"https://api.github.com/repos/apache/druid/issues/4754","id":356582302,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjU4MjMwMg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T12:00:06Z","updated_at":"2018-01-10T12:01:10Z","author_association":"MEMBER","body":"@nishantmonu51 after you address comments that I have already left (please answer to them individually), I suggest to close this PR and open several new ones, at least separate Aggregators/Expressions stuff (largely things that go first in this PR and which I already mostly reviewed) from everything else, or maybe create a separate PR for each part that you given a title in the first comment in this thread, i. e. \"Storage Layer\", \"Indexing Layer\", etc.\r\n\r\nThere are two reasons for that:\r\n 1) it's almost impossible to work with this PR now, Github often fails with Unicorn page, and even when it doesn't, in-page responsiveness is awful.\r\n 2) To merge separate things faster and avoid excessive code conflicts with other PRs.\r\n\r\nIt's not too important that those part won't \"work\" in separation. E. g. see https://github.com/druid-io/druid/pull/4676, I added some abstractions in August which are still unused, because I haven't committed code that uses them yet.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356582302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356660500","html_url":"https://github.com/apache/druid/issues/5227#issuecomment-356660500","issue_url":"https://api.github.com/repos/apache/druid/issues/5227","id":356660500,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjY2MDUwMA==","user":{"login":"kaytrance","id":6768891,"node_id":"MDQ6VXNlcjY3Njg4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6768891?v=4","gravatar_id":"","url":"https://api.github.com/users/kaytrance","html_url":"https://github.com/kaytrance","followers_url":"https://api.github.com/users/kaytrance/followers","following_url":"https://api.github.com/users/kaytrance/following{/other_user}","gists_url":"https://api.github.com/users/kaytrance/gists{/gist_id}","starred_url":"https://api.github.com/users/kaytrance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaytrance/subscriptions","organizations_url":"https://api.github.com/users/kaytrance/orgs","repos_url":"https://api.github.com/users/kaytrance/repos","events_url":"https://api.github.com/users/kaytrance/events{/privacy}","received_events_url":"https://api.github.com/users/kaytrance/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T16:41:38Z","updated_at":"2018-01-10T16:41:38Z","author_association":"NONE","body":"Ok, thank you!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356660500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356678281","html_url":"https://github.com/apache/druid/pull/5239#issuecomment-356678281","issue_url":"https://api.github.com/repos/apache/druid/issues/5239","id":356678281,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjY3ODI4MQ==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T17:39:01Z","updated_at":"2018-01-10T17:39:01Z","author_association":"CONTRIBUTOR","body":"Thanks @jihoonson, updated the PR, please review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356678281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356691362","html_url":"https://github.com/apache/druid/pull/5239#issuecomment-356691362","issue_url":"https://api.github.com/repos/apache/druid/issues/5239","id":356691362,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjY5MTM2Mg==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T18:23:44Z","updated_at":"2018-01-10T22:12:49Z","author_association":"CONTRIBUTOR","body":"@himanshug looks like we can not use `null` as default property for `UnusedConnectionTimeout`. https://github.com/metamx/java-util/blob/master/src/main/java/com/metamx/http/client/HttpClientInit.java#L96 throws NullPointerException in that case. \r\n\r\n[H]: can't we pass INFINITY to http-client lib when its null locally ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356691362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356715233","html_url":"https://github.com/apache/druid/issues/5211#issuecomment-356715233","issue_url":"https://api.github.com/repos/apache/druid/issues/5211","id":356715233,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjcxNTIzMw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T19:46:11Z","updated_at":"2018-01-10T19:46:11Z","author_association":"CONTRIBUTOR","body":"@kang-junyoung There's no ETA right now as I mentioned in the comment above, it depends on how many issues come up during the RCs","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356715233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356743323","html_url":"https://github.com/apache/druid/issues/5234#issuecomment-356743323","issue_url":"https://api.github.com/repos/apache/druid/issues/5234","id":356743323,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc0MzMyMw==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T21:31:42Z","updated_at":"2018-01-10T21:31:42Z","author_association":"NONE","body":"@jihoonson sorry, forgot to change that `e2e_latency` to be `purchase_amount`!\r\n\r\nEdited in the original post. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356743323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356743679","html_url":"https://github.com/apache/druid/pull/5157#issuecomment-356743679","issue_url":"https://api.github.com/repos/apache/druid/issues/5157","id":356743679,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc0MzY3OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T21:33:11Z","updated_at":"2018-01-10T21:33:53Z","author_association":"CONTRIBUTOR","body":"I personally think the inspection complaining about `getGranularity` is excessive, but I guess you could move the two methods to BaseQuery from Query, there aren't any Query implementations that aren't also BaseQuery, I think that would fix the inspection?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356743679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356758534","html_url":"https://github.com/apache/druid/issues/5244#issuecomment-356758534","issue_url":"https://api.github.com/repos/apache/druid/issues/5244","id":356758534,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc1ODUzNA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T22:27:47Z","updated_at":"2018-01-10T22:27:47Z","author_association":"CONTRIBUTOR","body":"from a quick scan, it should work fine with the spec you've given above.\r\n\r\n- what druid version are you using?\r\n- how did you get the two events, you mentioned above, to verify that events are not being merged?\r\n- events are expected to not merge when they end up going to two different segments. during indexing, they might temporarily be in different segments due to hitting \"maxRowsInMemory\" but they would be merged before final segment is created for handoff.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356758534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356764625","html_url":"https://github.com/apache/druid/issues/5243#issuecomment-356764625","issue_url":"https://api.github.com/repos/apache/druid/issues/5243","id":356764625,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc2NDYyNQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T22:52:37Z","updated_at":"2018-01-10T22:52:37Z","author_association":"CONTRIBUTOR","body":"I think the docs are wrong ( PR to fix it would be great) and its probably called `cachedNamespace` now and part of extension http://druid.io/docs/0.11.0/development/extensions-core/lookups-cached-global.html .\r\n\r\nthis happened in 0.9.2 release and noted in those release notes at https://github.com/druid-io/druid/releases?after=druid-0.10.0-rc1 .\r\n\r\nso, I'm assuming you upgraded from 0.9.1 to 0.11.0 or else what I said above does not make sense.\r\n\r\nalso, while not ideal and some might disagree, but I think its better to create your own extension for doing lookups by creating implementations of LookupExtractorFactory . Code in current lookup extensions could be used for reference. that is usually simpler and what I recommend to my customers.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356764625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356765727","html_url":"https://github.com/apache/druid/issues/5236#issuecomment-356765727","issue_url":"https://api.github.com/repos/apache/druid/issues/5236","id":356765727,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc2NTcyNw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T22:57:14Z","updated_at":"2018-01-17T21:48:03Z","author_association":"CONTRIBUTOR","body":"> Is that correct?\r\n\r\nYes. Step-3 is a bit more involved in that it would gather top-1000 for each chunk on that historical, then do a merging pass on historical itself to merge top-1000 from all chunks to create another top-1000 and that would be sent to broker.\r\n\r\n> If so, why would a low \"threshold\" decrease accuracy? It's just choosing the number of results to return in Step 4.\r\n\r\nNo, low \"threshold\" wouldn't decrease accuracy.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356765727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356765977","html_url":"https://github.com/apache/druid/issues/5236#issuecomment-356765977","issue_url":"https://api.github.com/repos/apache/druid/issues/5236","id":356765977,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc2NTk3Nw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T22:58:21Z","updated_at":"2018-01-10T22:58:21Z","author_association":"CONTRIBUTOR","body":"also, http://druid.io/docs/0.11.0/misc/papers-and-talks.html has some good links to understand what various nodes are etc .","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356765977/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356792197","html_url":"https://github.com/apache/druid/pull/5162#issuecomment-356792197","issue_url":"https://api.github.com/repos/apache/druid/issues/5162","id":356792197,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc5MjE5Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T01:14:10Z","updated_at":"2018-01-11T01:14:10Z","author_association":"CONTRIBUTOR","body":"@leventov thanks for reviewing and merging this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356792197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356792421","html_url":"https://github.com/apache/druid/pull/5102#issuecomment-356792421","issue_url":"https://api.github.com/repos/apache/druid/issues/5102","id":356792421,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc5MjQyMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T01:15:28Z","updated_at":"2018-01-11T01:15:28Z","author_association":"CONTRIBUTOR","body":"@himanshug thanks for the review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356792421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356793179","html_url":"https://github.com/apache/druid/pull/5172#issuecomment-356793179","issue_url":"https://api.github.com/repos/apache/druid/issues/5172","id":356793179,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc5MzE3OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T01:20:05Z","updated_at":"2018-01-11T01:20:05Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 do you have further comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356793179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356800311","html_url":"https://github.com/apache/druid/pull/5157#issuecomment-356800311","issue_url":"https://api.github.com/repos/apache/druid/issues/5157","id":356800311,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjgwMDMxMQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T02:01:12Z","updated_at":"2018-01-11T02:01:12Z","author_association":"CONTRIBUTOR","body":"@clintropolis You can also add `@SuppressWarnings(\"unused\")` to getGranularity() to suppress that inspection error, I would favor that over moving the methods to BaseQuery","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356800311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356826587","html_url":"https://github.com/apache/druid/issues/5243#issuecomment-356826587","issue_url":"https://api.github.com/repos/apache/druid/issues/5243","id":356826587,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjgyNjU4Nw==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T05:06:35Z","updated_at":"2018-01-11T05:06:35Z","author_association":"CONTRIBUTOR","body":"@himanshug That doesn't work either. That just gives me `Could not resolve type id 'cachedNamespace' into a subtype of [simple type, class io.druid.query.lookup.LookupExtractor]`.\r\n\r\nThe lookups-cached-global documentation only describes how to create the lookups, not how to actually use them. \r\n\r\nIn the source the only classes that implement the `LookupExtractor` interface are [MapLookupExtractor](https://github.com/druid-io/druid/blob/aa7e4ae5e46a13a9db8d0ee29885249fd0afd02e/processing/src/main/java/io/druid/query/extraction/MapLookupExtractor.java#L43) and the [LoadingLookup](https://github.com/druid-io/druid/blob/c0beb78ffdb5807ceea8a340838eab01d6a18d1d/extensions-core/lookups-cached-single/src/main/java/io/druid/server/lookup/LoadingLookup.java#L42) and [PollingLookup](https://github.com/druid-io/druid/blob/8d9902831ef344b9c4c29f5d9d07e69e37edd706/extensions-core/lookups-cached-single/src/main/java/io/druid/server/lookup/PollingLookup.java#L44) classes from the `lookups-cached-single` extension. So I'm guessing `lookups-cached-global` is just not fully implemented and nobody is using it.\r\n\r\nNext I'm going to try the `lookups-cached-single` extension and see if that actually works.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356826587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356836429","html_url":"https://github.com/apache/druid/issues/5211#issuecomment-356836429","issue_url":"https://api.github.com/repos/apache/druid/issues/5211","id":356836429,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjgzNjQyOQ==","user":{"login":"kgneng2","id":7286378,"node_id":"MDQ6VXNlcjcyODYzNzg=","avatar_url":"https://avatars.githubusercontent.com/u/7286378?v=4","gravatar_id":"","url":"https://api.github.com/users/kgneng2","html_url":"https://github.com/kgneng2","followers_url":"https://api.github.com/users/kgneng2/followers","following_url":"https://api.github.com/users/kgneng2/following{/other_user}","gists_url":"https://api.github.com/users/kgneng2/gists{/gist_id}","starred_url":"https://api.github.com/users/kgneng2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kgneng2/subscriptions","organizations_url":"https://api.github.com/users/kgneng2/orgs","repos_url":"https://api.github.com/users/kgneng2/repos","events_url":"https://api.github.com/users/kgneng2/events{/privacy}","received_events_url":"https://api.github.com/users/kgneng2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T06:09:56Z","updated_at":"2018-01-11T06:09:56Z","author_association":"NONE","body":"@jon-wei Thank you. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356836429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356846028","html_url":"https://github.com/apache/druid/issues/5244#issuecomment-356846028","issue_url":"https://api.github.com/repos/apache/druid/issues/5244","id":356846028,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njg0NjAyOA==","user":{"login":"kaytrance","id":6768891,"node_id":"MDQ6VXNlcjY3Njg4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6768891?v=4","gravatar_id":"","url":"https://api.github.com/users/kaytrance","html_url":"https://github.com/kaytrance","followers_url":"https://api.github.com/users/kaytrance/followers","following_url":"https://api.github.com/users/kaytrance/following{/other_user}","gists_url":"https://api.github.com/users/kaytrance/gists{/gist_id}","starred_url":"https://api.github.com/users/kaytrance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaytrance/subscriptions","organizations_url":"https://api.github.com/users/kaytrance/orgs","repos_url":"https://api.github.com/users/kaytrance/repos","events_url":"https://api.github.com/users/kaytrance/events{/privacy}","received_events_url":"https://api.github.com/users/kaytrance/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T07:11:32Z","updated_at":"2018-01-11T07:11:32Z","author_association":"NONE","body":"We have `taskCount: 4` what reads input data from `kafka` stream. Each 5 minute about 12M rows is inserted to `kafka` (that will then end up in druid). I also have `maxRowsInMemory  : 250000` and `maxRowsPerSegment: 15000000`. \r\n\r\nIn first 5 minutes I see that druid creates empty 4 shards and starts to gather data to them from `kafka`. In that first round of 5 minutes it gathers 12m rows. And on a next round because of `maxRowsPerSegment: 15000000` or `maxRowsInMemory: 250000` a limit-per-segment is hit and segment starts to form in the middle of second 5m-ingestion run.\r\n\r\nAnswering your questions:\r\n1. version is `0.11`\r\n2. Basically I ran `SELECT * FROM <datasource> WHERE aaa='some_value_aaaa' AND bbb=... ORDER BY __time DESC LIMIT 50` to get individual rows for specific dimension combination. Of course if I ran `groupBy` or `timeseries` I will not see individual rows.\r\n3. If we produce to kafka 12M rows with unique dimensions (but having different `value` metric each time` and have our `queryGranularity` set to `hour`, then in ideal situation I would like to have 1 segment per hour that will hold 12M rows with aggregated metrics for an hour, and `count` equal to 12, right? And since new segment is formed when: \r\n     - a) task runs longer that `taskDuration`;\r\n     - b) task hit `maxRowsPerSegment` or if post-aggregated rows still > than `maxRowsInMemory`;\r\n     - c) something bad happens;\r\n\r\ni think that **b)** is the trouble point in my case, `maxRowsInMemory` in particular, but your `but they would be merged before final segment is created for handoff` troubles me. I will try to increase `maxRowsInMemory` to hold every unique dimension-set-per-row combination (in my case they are the same 12M) and test things out.\r\n\r\nMy only doubt is that if we ingest data from `kafka` and have `taskCount: 4` does it mean that druid will  create 4 segments already from the start and in ideal situation during an hour I will not see 1 row with `count: 12` for some dimension set, but rather 4 rows having `count: 3`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356846028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356876930","html_url":"https://github.com/apache/druid/issues/5249#issuecomment-356876930","issue_url":"https://api.github.com/repos/apache/druid/issues/5249","id":356876930,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njg3NjkzMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T09:30:05Z","updated_at":"2018-01-11T09:30:05Z","author_association":"CONTRIBUTOR","body":"Fixed in #5250.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356876930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356887001","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-356887001","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":356887001,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njg4NzAwMQ==","user":{"login":"winval","id":15226789,"node_id":"MDQ6VXNlcjE1MjI2Nzg5","avatar_url":"https://avatars.githubusercontent.com/u/15226789?v=4","gravatar_id":"","url":"https://api.github.com/users/winval","html_url":"https://github.com/winval","followers_url":"https://api.github.com/users/winval/followers","following_url":"https://api.github.com/users/winval/following{/other_user}","gists_url":"https://api.github.com/users/winval/gists{/gist_id}","starred_url":"https://api.github.com/users/winval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/winval/subscriptions","organizations_url":"https://api.github.com/users/winval/orgs","repos_url":"https://api.github.com/users/winval/repos","events_url":"https://api.github.com/users/winval/events{/privacy}","received_events_url":"https://api.github.com/users/winval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T10:07:10Z","updated_at":"2018-01-11T10:07:10Z","author_association":"NONE","body":"@jihoonson @leventov Can this be merged into master now?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356887001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356888637","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-356888637","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":356888637,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njg4ODYzNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T10:13:30Z","updated_at":"2018-01-11T10:13:30Z","author_association":"CONTRIBUTOR","body":"Not yet. This PR is labeled with ```Design Review``` which means three +1 is required to merge.\r\n@leventov would you review this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356888637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356904200","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-356904200","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":356904200,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjkwNDIwMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T11:14:17Z","updated_at":"2018-01-11T11:14:17Z","author_association":"MEMBER","body":"I did code review but I don't want to provide design review on this PR. @winval you need to find some other committer who would review the design of your addition.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356904200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/356929021","html_url":"https://github.com/apache/druid/issues/4977#issuecomment-356929021","issue_url":"https://api.github.com/repos/apache/druid/issues/4977","id":356929021,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjkyOTAyMQ==","user":{"login":"hoesler","id":1052770,"node_id":"MDQ6VXNlcjEwNTI3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1052770?v=4","gravatar_id":"","url":"https://api.github.com/users/hoesler","html_url":"https://github.com/hoesler","followers_url":"https://api.github.com/users/hoesler/followers","following_url":"https://api.github.com/users/hoesler/following{/other_user}","gists_url":"https://api.github.com/users/hoesler/gists{/gist_id}","starred_url":"https://api.github.com/users/hoesler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hoesler/subscriptions","organizations_url":"https://api.github.com/users/hoesler/orgs","repos_url":"https://api.github.com/users/hoesler/repos","events_url":"https://api.github.com/users/hoesler/events{/privacy}","received_events_url":"https://api.github.com/users/hoesler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T13:08:14Z","updated_at":"2018-01-11T13:08:14Z","author_association":"CONTRIBUTOR","body":"@gianm I compiled druid 0.11.0 against hadoop 2.8.3 and both hdfs deep storage and hadoop indexing (local) finally seem to work fine with s3a using a v4 endpoint. Here are my changes: https://github.com/druid-io/druid/compare/0.11.0...hoesler:feature/hadoop2.8\r\n\r\nDo you think that it is feasible to upgrade hadoop dependencies in 0.12.0? Do you want me to send a pull request? If so, which branch should I use?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/356929021/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357036031","html_url":"https://github.com/apache/druid/pull/5221#issuecomment-357036031","issue_url":"https://api.github.com/repos/apache/druid/issues/5221","id":357036031,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzAzNjAzMQ==","user":{"login":"spyk","id":812009,"node_id":"MDQ6VXNlcjgxMjAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/812009?v=4","gravatar_id":"","url":"https://api.github.com/users/spyk","html_url":"https://github.com/spyk","followers_url":"https://api.github.com/users/spyk/followers","following_url":"https://api.github.com/users/spyk/following{/other_user}","gists_url":"https://api.github.com/users/spyk/gists{/gist_id}","starred_url":"https://api.github.com/users/spyk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spyk/subscriptions","organizations_url":"https://api.github.com/users/spyk/orgs","repos_url":"https://api.github.com/users/spyk/repos","events_url":"https://api.github.com/users/spyk/events{/privacy}","received_events_url":"https://api.github.com/users/spyk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T19:31:41Z","updated_at":"2018-01-11T19:31:41Z","author_association":"CONTRIBUTOR","body":"Thank you for the review @leventov . I implemented most of your comments I believe, let me know if you spot anything. These are the changes in detail (also in git commit):\r\n\r\n* Rename version to binaryVersion where appropriate to avoid confusion\r\n* Set default protocol to wasbs://, as recommended by the Azure docs\r\n* Add link to Azure documentation for wasb(s):// path\r\n* Remove any colons from the dataSegment.getVersion()\r\n* Added test for dataSegment.getVersion colon is replaced\r\n* Use StringUtils.format for String concatenation\r\n* remove empty lines","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357036031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357082796","html_url":"https://github.com/apache/druid/issues/5243#issuecomment-357082796","issue_url":"https://api.github.com/repos/apache/druid/issues/5243","id":357082796,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzA4Mjc5Ng==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T22:30:08Z","updated_at":"2018-01-11T22:30:08Z","author_association":"CONTRIBUTOR","body":"@drcrallen would know more about `lookups-cached-global` but your investigation sounds accurate to me. Feel free to use `lookups-cached-single` if that works for you.\r\nthat said, I think documentation needs fixing at the very least and let us keep this ticket open till docs are fixed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357082796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357088879","html_url":"https://github.com/apache/druid/issues/5236#issuecomment-357088879","issue_url":"https://api.github.com/repos/apache/druid/issues/5236","id":357088879,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzA4ODg3OQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T22:56:37Z","updated_at":"2018-01-17T22:28:10Z","author_association":"MEMBER","body":"@donpinkus - here's my understanding. \r\n\r\nLets take an example of when TopN can be approximate. Assume there are 100 segments present on 100 historical nodes. Now, lets say we want Top 1000 results (equivalent to default threshold value) for a dimension `A` using a metric `M` and the data in segments looks like this -\r\n```\r\n| segment1  | segment2  | ... | segment99 | segment100 |\r\n|-----------|-----------|-----|-----------|------------|\r\n| A   |   M | A   |   M |     | A   |   M | A   |   M  |\r\n| a1  |   2 | a1  |   2 |     | a1  |   2 | a1  |   2  |\r\n| a2  |   2 | a2  |   2 |     | a2  |   2 | a2  |   2  |\r\n|     ...   |     ...   |     |    ...    |    ...     |\r\n| a1000|  2 | a1000|  2 |     | a1000|  2 | a1000|  2  |\r\n| a1001|  1 | a1001|  1 |     | a1001|  1 | a1001| 150 |\r\n```\r\nLooking at the data we can see that the Top 1000 results should contain `a1001` as the sum of all metrics for this dimension is highest which is 249 and for other dimensions the sum would be 200.\r\n\r\nNow lets see what will actually happen, each historical will return Top 1000 results for the segments they are serving. Therefore, for all segments (except for segment100) Top 1000 results will contain dimensions from `a1` to `a1000` with metric value as 2, where as for segment100 Top 1000 results will contain `a1001` and some 999 other dimensions. Broker will merge all the metrics for all dimensions returned by historicals and calculate the final Top 1000 results but the results will not contain `a1001` as the final sum for this dimension will be only 150 where for 998 dimensions it will be 200 and for the remaining one it will be 198. \r\n\r\n**In summary if the cardinality of a dimension is more than `max(1000, threshold)` then the results can be approximate and increasing threshold can improve accuracy. That's what the documentation means.**\r\n\r\nIn your case, **assuming the `commit_id` dimension always have unique values**, therefore same dimension value can never be present in more than one segment. You will always get correct result with TopN query. \r\n\r\nNote - The **threshold** mentioned above corresponds to the server parameter `druid.query.topN.minTopNThreshold` (server restart needed to take effect) or `minTopNThreshold` in the **query context** per query. Where as the `threshold` parameter in the **query** refers to the N in TopN (Indeed the docs are confusing).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357088879/reactions","total_count":3,"+1":2,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357105893","html_url":"https://github.com/apache/druid/issues/5251#issuecomment-357105893","issue_url":"https://api.github.com/repos/apache/druid/issues/5251","id":357105893,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzEwNTg5Mw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T00:26:10Z","updated_at":"2018-01-12T00:26:18Z","author_association":"CONTRIBUTOR","body":"@quenlang Do you have any `druid.indexer.task.defaultHadoopCoordinates` configurations in your properties that aren't pointing to hadoop 2.7.3?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357105893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357108249","html_url":"https://github.com/apache/druid/issues/5251#issuecomment-357108249","issue_url":"https://api.github.com/repos/apache/druid/issues/5251","id":357108249,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzEwODI0OQ==","user":{"login":"quenlang","id":11764573,"node_id":"MDQ6VXNlcjExNzY0NTcz","avatar_url":"https://avatars.githubusercontent.com/u/11764573?v=4","gravatar_id":"","url":"https://api.github.com/users/quenlang","html_url":"https://github.com/quenlang","followers_url":"https://api.github.com/users/quenlang/followers","following_url":"https://api.github.com/users/quenlang/following{/other_user}","gists_url":"https://api.github.com/users/quenlang/gists{/gist_id}","starred_url":"https://api.github.com/users/quenlang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quenlang/subscriptions","organizations_url":"https://api.github.com/users/quenlang/orgs","repos_url":"https://api.github.com/users/quenlang/repos","events_url":"https://api.github.com/users/quenlang/events{/privacy}","received_events_url":"https://api.github.com/users/quenlang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T00:40:17Z","updated_at":"2018-01-12T00:40:17Z","author_association":"NONE","body":"@jon-wei There is only one option in middelManager runtime configuration file and it is point to hadoop 2.7.3 .\r\n```\r\n[root@gpsegment1 druid-0.11.0]# grep  \"druid.indexer.task.defaultHadoopCoordinates\" ./* -r  --color \r\n./conf/druid/middleManager/runtime.properties:druid.indexer.task.defaultHadoopCoordinates=[\"org.apache.hadoop:hadoop-client:2.7.3\"]\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357108249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357127848","html_url":"https://github.com/apache/druid/issues/5244#issuecomment-357127848","issue_url":"https://api.github.com/repos/apache/druid/issues/5244","id":357127848,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzEyNzg0OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T02:46:49Z","updated_at":"2018-01-12T16:34:17Z","author_association":"CONTRIBUTOR","body":"Say `number of kafka partitions` = 8 and `taskCount` = 4 \r\nThen Druid KafkaSupervisor would launch 4 KafkaIndexTask that would each consume from 2 kafka topic partitions.\r\nIn Druid-0.11.0 each KafkaIndexTask would independently index each kafka-topic-partition assigned to it. That is, it will create a \"chain of segments\" for each kafka-topic-partition.\r\n\r\nSo, in this case at least 8 segments would be created per hour (1 per kafka-topic-partition).\r\n\r\n\"chain of segments\" : KafkaIndexTask would read events from one kafka-topic-partition and keep on putting them into a in-memory-segment . Once `maxRowsInMemory` limit is hit, it will persist that in-memory-segment to disk and create a new in-memory-segment to put more data that is being read from that kafka-topic-partition. When `maxRowsInSegment` limit is hit, all the intermediate persisted segments and current in-memory-segment would be merged into a single segment which would be handed off to be loaded by historical eventually.\r\nNote that in `maxRowsInMemory`, \"rows\" is count of merged rows in in-memory-segment\r\nand in `maxRowsInSegment`, \"rows\" is total count of merged rows stored in in-memory-segment + other intermediate segments persisted on disk.\r\n\r\nArmed with above information...\r\n\r\n>i think that b) is the trouble point in my case, maxRowsInMemory in particular, but your but they would be merged before final segment is created for handoff troubles me. I will try to increase maxRowsInMemory to hold every unique dimension-set-per-row combination (in my case they are the same 12M) and test things out.\r\n\r\nNot really, intermediate segments persisted on disk due to reaching `maxRowsInMemory` are only temporary and allows you to work with a JVM of smaller heap size. If you have enough heap then you can set `maxRowsInMemory = maxRowsInSegment` , but in most cases that is not appropriate.\r\n\r\n>My only doubt is that if we ingest data from kafka and have taskCount: 4 does it mean that druid will create 4 segments already from the start and in ideal situation during an hour I will not see 1 row with count: 12 for some dimension set, but rather 4 rows having count: 3?\r\n\r\nWhen you have `taskCount = 4` , that means you have at least 4 kafka-topic-partitions and at least 4 segments would be created .. so events that came from different kafka-topic-partitions would end up going to different segments for sure.\r\n\r\nhope that helps.\r\n\r\nHowever, In upcoming Druid-0.12.0 release, We have changed Druid KafkaIndexingService so that one KafkaIndexTask creates only one \"chain-of-segments\" and not as many as number of kafka-topic-partitions assigned to it. So, after Druid-0.12.0 , If you have `taskCount = 1` then only 1 KafkaIndexTask would be launched and it will create only one \"chain-of-segments\" and you would end up with just 1 segment with all rows in merged form into it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357127848/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357131511","html_url":"https://github.com/apache/druid/issues/5243#issuecomment-357131511","issue_url":"https://api.github.com/repos/apache/druid/issues/5243","id":357131511,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzEzMTUxMQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T03:12:42Z","updated_at":"2018-01-12T03:12:42Z","author_association":"CONTRIBUTOR","body":"I tried using `lookups-cached-single` but it appears you have to specify your jdbc connection options in your query instead of in some global place which seems weird and won't work for us. I had to read the code again to figure this out as the documentation was severely lacking.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357131511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357142594","html_url":"https://github.com/apache/druid/pull/5151#issuecomment-357142594","issue_url":"https://api.github.com/repos/apache/druid/issues/5151","id":357142594,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE0MjU5NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T04:49:34Z","updated_at":"2018-01-12T04:49:34Z","author_association":"CONTRIBUTOR","body":"Hi @palanieppan-m, apologies for the delay on this, I didn’t get to it before the holiday break. However we’re back now and I’ll be able to review by the end of the week.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357142594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357164597","html_url":"https://github.com/apache/druid/issues/5244#issuecomment-357164597","issue_url":"https://api.github.com/repos/apache/druid/issues/5244","id":357164597,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE2NDU5Nw==","user":{"login":"kaytrance","id":6768891,"node_id":"MDQ6VXNlcjY3Njg4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6768891?v=4","gravatar_id":"","url":"https://api.github.com/users/kaytrance","html_url":"https://github.com/kaytrance","followers_url":"https://api.github.com/users/kaytrance/followers","following_url":"https://api.github.com/users/kaytrance/following{/other_user}","gists_url":"https://api.github.com/users/kaytrance/gists{/gist_id}","starred_url":"https://api.github.com/users/kaytrance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaytrance/subscriptions","organizations_url":"https://api.github.com/users/kaytrance/orgs","repos_url":"https://api.github.com/users/kaytrance/repos","events_url":"https://api.github.com/users/kaytrance/events{/privacy}","received_events_url":"https://api.github.com/users/kaytrance/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T07:36:54Z","updated_at":"2018-01-12T07:36:54Z","author_association":"NONE","body":"Great thank you @himanshug for you explanations, they help a lot.\r\nI will close this case for now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357164597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357166772","html_url":"https://github.com/apache/druid/issues/5230#issuecomment-357166772","issue_url":"https://api.github.com/repos/apache/druid/issues/5230","id":357166772,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE2Njc3Mg==","user":{"login":"litao91","id":1422365,"node_id":"MDQ6VXNlcjE0MjIzNjU=","avatar_url":"https://avatars.githubusercontent.com/u/1422365?v=4","gravatar_id":"","url":"https://api.github.com/users/litao91","html_url":"https://github.com/litao91","followers_url":"https://api.github.com/users/litao91/followers","following_url":"https://api.github.com/users/litao91/following{/other_user}","gists_url":"https://api.github.com/users/litao91/gists{/gist_id}","starred_url":"https://api.github.com/users/litao91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/litao91/subscriptions","organizations_url":"https://api.github.com/users/litao91/orgs","repos_url":"https://api.github.com/users/litao91/repos","events_url":"https://api.github.com/users/litao91/events{/privacy}","received_events_url":"https://api.github.com/users/litao91/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T07:49:40Z","updated_at":"2018-01-12T07:49:40Z","author_association":"CONTRIBUTOR","body":"@himanshug I don't think the `druid.port` at MM matters. The port finding logic in MM will find a available port before starting Peon. The `druid.port` won't be available at that time thus that port will be skipped. \r\n\r\nI have no control on the heartbeat/health checking services provided by system admin. \r\n\r\nIt occurs in a fairly low probability actually, but as our cluster becoming busier (more than 500 tasks at any moment), it's getting more serious, especially when working with tranquility, in which case tranquility will throw away a full segment of data. \r\n\r\nI think it's not the problem of other services but a design flaw of Druid. In my opinion A better strategy may be Peon find a port and start the service itself and report to MM after that. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357166772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357195705","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-357195705","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":357195705,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE5NTcwNQ==","user":{"login":"winval","id":15226789,"node_id":"MDQ6VXNlcjE1MjI2Nzg5","avatar_url":"https://avatars.githubusercontent.com/u/15226789?v=4","gravatar_id":"","url":"https://api.github.com/users/winval","html_url":"https://github.com/winval","followers_url":"https://api.github.com/users/winval/followers","following_url":"https://api.github.com/users/winval/following{/other_user}","gists_url":"https://api.github.com/users/winval/gists{/gist_id}","starred_url":"https://api.github.com/users/winval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/winval/subscriptions","organizations_url":"https://api.github.com/users/winval/orgs","repos_url":"https://api.github.com/users/winval/repos","events_url":"https://api.github.com/users/winval/events{/privacy}","received_events_url":"https://api.github.com/users/winval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T10:02:29Z","updated_at":"2018-01-12T10:02:29Z","author_association":"NONE","body":"@leventov  Thanks for your code review, @gianm would you help to review the design?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357195705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357233660","html_url":"https://github.com/apache/druid/issues/5211#issuecomment-357233660","issue_url":"https://api.github.com/repos/apache/druid/issues/5211","id":357233660,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzIzMzY2MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T13:07:12Z","updated_at":"2018-01-12T13:07:12Z","author_association":"MEMBER","body":"@jon-wei \r\n\r\nOn #4762: I don't have benchmarks but we have seen 50% CPU reduction on Middle Manager nodes, in practice (between two Druid versions differing not only by this change, but I largely attribute this improvement to the changes that were equivalent to #4762). I suggest to emphasize in release notes, that this improvement won't happen automatically, but only if users explicitly change `segmentWriteOutMediumFactory` configuration, that increases memory usage during segment creation. It means that each Peon process should have bigger `-XX:MaxDirectMemorySize` configured. But if there are many Peons on a Middle Manager node, and segment handoff is not coordinated among the Peon processes, peak total memory usage on a node shouldn't increase more than by 10-20% from the peak usage when `segmentWriteOutMediumFactory=tmpFile` is used. (Probably the above text should be amended to the docs, if it's not clear from the docs yet.)\r\n\r\nIt's also important to note that those observations are made based on the experience with just one Druid installation, so I encourage everybody to try `segmentWriteOutMediumFactory=offHeapMemory` and share the experience.\r\n\r\nOn #4811: no benchmarks.\r\n\r\nOn #5094: no benchmarks but in practice we have seen that heap footprint of Brokers went down by 40%. But such improvement could be probably seen only on Druid installations with millions of live segments, as we have.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357233660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357273435","html_url":"https://github.com/apache/druid/pull/4754#issuecomment-357273435","issue_url":"https://api.github.com/repos/apache/druid/issues/4754","id":357273435,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzI3MzQzNQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T15:46:01Z","updated_at":"2018-01-12T15:46:01Z","author_association":"MEMBER","body":"@leventov Thanks for the review. working on your review comments, will reply to individual comments and try to break the PR soon. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357273435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357357679","html_url":"https://github.com/apache/druid/issues/5251#issuecomment-357357679","issue_url":"https://api.github.com/repos/apache/druid/issues/5251","id":357357679,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM1NzY3OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T21:22:23Z","updated_at":"2018-01-12T21:22:23Z","author_association":"CONTRIBUTOR","body":"@quenlang Can you provide more info on how the hadoop environment was created/configured and what extensions you have loaded? \r\n\r\nI've run 0.11.0 against 2.7.3 hadoop successfully with ` mapreduce.job.user.classpath.first = true` (hadoop was running in docker, using https://hub.docker.com/r/sequenceiq/hadoop-docker/~/dockerfile/ modified to install 2.7.3 instead)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357357679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357360289","html_url":"https://github.com/apache/druid/issues/5211#issuecomment-357360289","issue_url":"https://api.github.com/repos/apache/druid/issues/5211","id":357360289,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM2MDI4OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T21:33:24Z","updated_at":"2018-01-12T21:33:24Z","author_association":"CONTRIBUTOR","body":"@leventov Thanks for the details, I've updated the section on the segmentWriteOutMedium to point out that the new off-heap buffers need to be explicitly configured","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357360289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357373682","html_url":"https://github.com/apache/druid/pull/5175#issuecomment-357373682","issue_url":"https://api.github.com/repos/apache/druid/issues/5175","id":357373682,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM3MzY4Mg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T22:36:52Z","updated_at":"2018-01-12T22:36:52Z","author_association":"MEMBER","body":"@leventov This PR breaks indexing tasks, `toString()` method in the `AbstractIndex` causes indexing tasks to log all the events present in the index every time incremental persists happens - https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/segment/realtime/appenderator/AppenderatorImpl.java#L1156 ultimately causing them to fail with out of memory conditions.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357373682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357448504","html_url":"https://github.com/apache/druid/issues/5251#issuecomment-357448504","issue_url":"https://api.github.com/repos/apache/druid/issues/5251","id":357448504,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzQ0ODUwNA==","user":{"login":"quenlang","id":11764573,"node_id":"MDQ6VXNlcjExNzY0NTcz","avatar_url":"https://avatars.githubusercontent.com/u/11764573?v=4","gravatar_id":"","url":"https://api.github.com/users/quenlang","html_url":"https://github.com/quenlang","followers_url":"https://api.github.com/users/quenlang/followers","following_url":"https://api.github.com/users/quenlang/following{/other_user}","gists_url":"https://api.github.com/users/quenlang/gists{/gist_id}","starred_url":"https://api.github.com/users/quenlang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quenlang/subscriptions","organizations_url":"https://api.github.com/users/quenlang/orgs","repos_url":"https://api.github.com/users/quenlang/repos","events_url":"https://api.github.com/users/quenlang/events{/privacy}","received_events_url":"https://api.github.com/users/quenlang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-13T16:41:59Z","updated_at":"2018-01-13T16:41:59Z","author_association":"NONE","body":"@jon-wei I'm so sorry. It's my mistake. I've try again with the option ```mapreduce.job.user.classpath.first = true``` and it worked very well.\r\nConfigurations:\r\n```\r\n        \"tuningConfig\": {\r\n            \"type\": \"hadoop\",\r\n            \"jobProperties\": {\r\n                \"mapreduce.job.user.classpath.first\": \"true\",\r\n                \"mapreduce.map.memory.mb\": 256,\r\n                \"mapreduce.map.java.opts\": \"-server -Xmx512m -Duser.timezone=UTC+08:00 -Dfile.encoding=UTF-8\",\r\n                \"mapreduce.reduce.memory.mb\": 512,\r\n                \"mapreduce.reduce.java.opts\": \"-server -Xmx1g -Duser.timezone=UTC+08:00 -Dfile.encoding=UTF-8\"\r\n            },\r\n            \"partitionsSpec\": {\r\n                \"type\": \"hashed\",\r\n                \"numShards\": 1\r\n            },\r\n            \"buildV9Directly\": \"true\"\r\n        }\r\n```\r\nThe problem i saw two days ago maybe be caused by the unnormal status of druid cluster or too big size of mapreduce.map/reduce.memory.mb options, but i'm not sure and it does not reapper.\r\n\r\nThank you so much !\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357448504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357573729","html_url":"https://github.com/apache/druid/pull/3787#issuecomment-357573729","issue_url":"https://api.github.com/repos/apache/druid/issues/3787","id":357573729,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzU3MzcyOQ==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T03:22:18Z","updated_at":"2018-01-15T03:22:18Z","author_association":"CONTRIBUTOR","body":"@himanshug  I patched it on an older version and have been using it.  Currently I do not have plan to patch and resolve the conflict.  I am glad if anyone would like to take it and make it into master.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357573729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357634266","html_url":"https://github.com/apache/druid/issues/5244#issuecomment-357634266","issue_url":"https://api.github.com/repos/apache/druid/issues/5244","id":357634266,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzYzNDI2Ng==","user":{"login":"kgneng2","id":7286378,"node_id":"MDQ6VXNlcjcyODYzNzg=","avatar_url":"https://avatars.githubusercontent.com/u/7286378?v=4","gravatar_id":"","url":"https://api.github.com/users/kgneng2","html_url":"https://github.com/kgneng2","followers_url":"https://api.github.com/users/kgneng2/followers","following_url":"https://api.github.com/users/kgneng2/following{/other_user}","gists_url":"https://api.github.com/users/kgneng2/gists{/gist_id}","starred_url":"https://api.github.com/users/kgneng2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kgneng2/subscriptions","organizations_url":"https://api.github.com/users/kgneng2/orgs","repos_url":"https://api.github.com/users/kgneng2/repos","events_url":"https://api.github.com/users/kgneng2/events{/privacy}","received_events_url":"https://api.github.com/users/kgneng2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T09:56:32Z","updated_at":"2018-01-15T09:56:32Z","author_association":"NONE","body":"@himanshug \r\n```\r\n Note that in maxRowsInMemory, \"rows\" is count of merged rows in in-memory-segment\r\nand in maxRowsInSegment, \"rows\" is total count of merged rows stored in in-memory-segment + other intermediate segments persisted on disk.\r\n```\r\nyou mean maxRowsInSegment -> maxRowsPerSegment ??!! \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357634266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357699473","html_url":"https://github.com/apache/druid/issues/5135#issuecomment-357699473","issue_url":"https://api.github.com/repos/apache/druid/issues/5135","id":357699473,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzY5OTQ3Mw==","user":{"login":"psalaberria002","id":2410564,"node_id":"MDQ6VXNlcjI0MTA1NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2410564?v=4","gravatar_id":"","url":"https://api.github.com/users/psalaberria002","html_url":"https://github.com/psalaberria002","followers_url":"https://api.github.com/users/psalaberria002/followers","following_url":"https://api.github.com/users/psalaberria002/following{/other_user}","gists_url":"https://api.github.com/users/psalaberria002/gists{/gist_id}","starred_url":"https://api.github.com/users/psalaberria002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalaberria002/subscriptions","organizations_url":"https://api.github.com/users/psalaberria002/orgs","repos_url":"https://api.github.com/users/psalaberria002/repos","events_url":"https://api.github.com/users/psalaberria002/events{/privacy}","received_events_url":"https://api.github.com/users/psalaberria002/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T14:34:52Z","updated_at":"2018-01-15T14:34:52Z","author_association":"NONE","body":"We are having the same issue with the properties not being passed to hadoop. Is there any other way to set them?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357699473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357793330","html_url":"https://github.com/apache/druid/pull/5151#issuecomment-357793330","issue_url":"https://api.github.com/repos/apache/druid/issues/5151","id":357793330,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzc5MzMzMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T21:29:35Z","updated_at":"2018-01-15T21:29:35Z","author_association":"CONTRIBUTOR","body":"Btw, if you don't want to tackle the full view-oriented security model in this patch, I would be ok with some kind of shortcut that at least does something reasonable. We could improve it later.\r\n\r\nOne reasonable shortcut might include not having a view resource concept at all, and instead expanding the view first and then checking the datasources inside. This is an okay shortcut because it's, in a sense, more aggressive than view-oriented security (it doesn't allow anything that a view-oriented model would not allow). And it might be easier to implement.\r\n\r\nEither way, there should be planner tests for the behavior. Check testSelectStarOnForbiddenTable in CalciteQueryTest for an example. Some tests in in SqlResourceTest would be good too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357793330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357794024","html_url":"https://github.com/apache/druid/pull/5151#issuecomment-357794024","issue_url":"https://api.github.com/repos/apache/druid/issues/5151","id":357794024,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzc5NDAyNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T21:33:21Z","updated_at":"2018-01-15T21:33:21Z","author_association":"CONTRIBUTOR","body":"Hope the review is useful @palanieppan-m. Sorry for taking so long to get to it. I am excited to see this feature in the works though!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357794024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357944505","html_url":"https://github.com/apache/druid/issues/1376#issuecomment-357944505","issue_url":"https://api.github.com/repos/apache/druid/issues/1376","id":357944505,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzk0NDUwNQ==","user":{"login":"NirajaM","id":15151939,"node_id":"MDQ6VXNlcjE1MTUxOTM5","avatar_url":"https://avatars.githubusercontent.com/u/15151939?v=4","gravatar_id":"","url":"https://api.github.com/users/NirajaM","html_url":"https://github.com/NirajaM","followers_url":"https://api.github.com/users/NirajaM/followers","following_url":"https://api.github.com/users/NirajaM/following{/other_user}","gists_url":"https://api.github.com/users/NirajaM/gists{/gist_id}","starred_url":"https://api.github.com/users/NirajaM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NirajaM/subscriptions","organizations_url":"https://api.github.com/users/NirajaM/orgs","repos_url":"https://api.github.com/users/NirajaM/repos","events_url":"https://api.github.com/users/NirajaM/events{/privacy}","received_events_url":"https://api.github.com/users/NirajaM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T12:25:24Z","updated_at":"2018-01-16T12:25:24Z","author_association":"CONTRIBUTOR","body":"Implemented the same - https://github.com/druid-io/druid/pull/5260","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357944505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/357986564","html_url":"https://github.com/apache/druid/pull/4774#issuecomment-357986564","issue_url":"https://api.github.com/repos/apache/druid/issues/4774","id":357986564,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzk4NjU2NA==","user":{"login":"kevinconaway","id":6921953,"node_id":"MDQ6VXNlcjY5MjE5NTM=","avatar_url":"https://avatars.githubusercontent.com/u/6921953?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinconaway","html_url":"https://github.com/kevinconaway","followers_url":"https://api.github.com/users/kevinconaway/followers","following_url":"https://api.github.com/users/kevinconaway/following{/other_user}","gists_url":"https://api.github.com/users/kevinconaway/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinconaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinconaway/subscriptions","organizations_url":"https://api.github.com/users/kevinconaway/orgs","repos_url":"https://api.github.com/users/kevinconaway/repos","events_url":"https://api.github.com/users/kevinconaway/events{/privacy}","received_events_url":"https://api.github.com/users/kevinconaway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T14:58:59Z","updated_at":"2018-01-16T14:58:59Z","author_association":"CONTRIBUTOR","body":"@gianm Per our conversation, I've gone ahead and opened a separate PR for updating the `RealtimeIndexTask` to use the `AppenderatorDriver`: #5261","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/357986564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358052256","html_url":"https://github.com/apache/druid/pull/5172#issuecomment-358052256","issue_url":"https://api.github.com/repos/apache/druid/issues/5172","id":358052256,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA1MjI1Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T18:06:16Z","updated_at":"2018-01-16T18:06:16Z","author_association":"MEMBER","body":"@nishantmonu51 could you please comment?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358052256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358113351","html_url":"https://github.com/apache/druid/pull/5261#issuecomment-358113351","issue_url":"https://api.github.com/repos/apache/druid/issues/5261","id":358113351,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODExMzM1MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T21:31:46Z","updated_at":"2018-01-16T21:31:46Z","author_association":"CONTRIBUTOR","body":"@kevinconaway thanks for the contribution! I'll do my code review shortly. BTW, please check the CI failure (https://travis-ci.org/druid-io/druid/jobs/329503371).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358113351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358116867","html_url":"https://github.com/apache/druid/pull/5261#issuecomment-358116867","issue_url":"https://api.github.com/repos/apache/druid/issues/5261","id":358116867,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODExNjg2Nw==","user":{"login":"kevinconaway","id":6921953,"node_id":"MDQ6VXNlcjY5MjE5NTM=","avatar_url":"https://avatars.githubusercontent.com/u/6921953?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinconaway","html_url":"https://github.com/kevinconaway","followers_url":"https://api.github.com/users/kevinconaway/followers","following_url":"https://api.github.com/users/kevinconaway/following{/other_user}","gists_url":"https://api.github.com/users/kevinconaway/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinconaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinconaway/subscriptions","organizations_url":"https://api.github.com/users/kevinconaway/orgs","repos_url":"https://api.github.com/users/kevinconaway/repos","events_url":"https://api.github.com/users/kevinconaway/events{/privacy}","received_events_url":"https://api.github.com/users/kevinconaway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T21:42:50Z","updated_at":"2018-01-16T21:42:50Z","author_association":"CONTRIBUTOR","body":"Thanks!\r\n\r\nI forgot about to run the forbidden API check locally.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358116867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358153329","html_url":"https://github.com/apache/druid/issues/5263#issuecomment-358153329","issue_url":"https://api.github.com/repos/apache/druid/issues/5263","id":358153329,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODE1MzMyOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T00:25:22Z","updated_at":"2018-01-17T00:25:22Z","author_association":"CONTRIBUTOR","body":"Just canceled and restarted that build.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358153329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358154183","html_url":"https://github.com/apache/druid/issues/5236#issuecomment-358154183","issue_url":"https://api.github.com/repos/apache/druid/issues/5236","id":358154183,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODE1NDE4Mw==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T00:30:16Z","updated_at":"2018-01-17T00:54:06Z","author_association":"NONE","body":"@himanshug - cool thanks for the druid video resource.\r\n\r\nSo it says in the docs low thresholds decrease accuracy: `\"TopNs can be made more accurate by increasing the threshold.\"`\r\n\r\nHowever, you said `No, low \"threshold\" wouldn't decrease accuracy.`\r\n\r\nAre you correct, or are the Druid docs, or am I missing something?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358154183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358155693","html_url":"https://github.com/apache/druid/issues/5263#issuecomment-358155693","issue_url":"https://api.github.com/repos/apache/druid/issues/5263","id":358155693,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODE1NTY5Mw==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T00:38:29Z","updated_at":"2018-01-17T00:38:29Z","author_association":"CONTRIBUTOR","body":"Thanks @jihoonson.\r\nLooks like build backlogs are related to https://www.traviscistatus.com/incidents/c1s4dlyxd4lf","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358155693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358158323","html_url":"https://github.com/apache/druid/issues/5236#issuecomment-358158323","issue_url":"https://api.github.com/repos/apache/druid/issues/5236","id":358158323,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODE1ODMyMw==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T00:53:32Z","updated_at":"2018-01-17T00:53:32Z","author_association":"NONE","body":"@pjain1 - ahhh that's a great explanation, thanks for taking the time to write it all out.\r\n\r\nI'm going to close the issue - but that should probably be added to the docs, since the current explanation makes usage of \"threshold\" ambiguous. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358158323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358187286","html_url":"https://github.com/apache/druid/issues/5218#issuecomment-358187286","issue_url":"https://api.github.com/repos/apache/druid/issues/5218","id":358187286,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODE4NzI4Ng==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T03:35:21Z","updated_at":"2018-01-17T03:35:21Z","author_association":"CONTRIBUTOR","body":"@jon-wei @himanshug Could you please give me some suggestions?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358187286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358262132","html_url":"https://github.com/apache/druid/issues/4258#issuecomment-358262132","issue_url":"https://api.github.com/repos/apache/druid/issues/4258","id":358262132,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODI2MjEzMg==","user":{"login":"richiesgr","id":163108,"node_id":"MDQ6VXNlcjE2MzEwOA==","avatar_url":"https://avatars.githubusercontent.com/u/163108?v=4","gravatar_id":"","url":"https://api.github.com/users/richiesgr","html_url":"https://github.com/richiesgr","followers_url":"https://api.github.com/users/richiesgr/followers","following_url":"https://api.github.com/users/richiesgr/following{/other_user}","gists_url":"https://api.github.com/users/richiesgr/gists{/gist_id}","starred_url":"https://api.github.com/users/richiesgr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richiesgr/subscriptions","organizations_url":"https://api.github.com/users/richiesgr/orgs","repos_url":"https://api.github.com/users/richiesgr/repos","events_url":"https://api.github.com/users/richiesgr/events{/privacy}","received_events_url":"https://api.github.com/users/richiesgr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T10:27:30Z","updated_at":"2018-01-17T10:27:30Z","author_association":"NONE","body":"Hi\r\nI'm using imply 2.4.0 version and the problem still exists\r\nafter restarting the broker the SQL server lose the metadata of the data source.\r\nAfter some time it come back but not always \r\nIs there any workaround ?\r\nThanks ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358262132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358262277","html_url":"https://github.com/apache/druid/pull/4551#issuecomment-358262277","issue_url":"https://api.github.com/repos/apache/druid/issues/4551","id":358262277,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODI2MjI3Nw==","user":{"login":"richiesgr","id":163108,"node_id":"MDQ6VXNlcjE2MzEwOA==","avatar_url":"https://avatars.githubusercontent.com/u/163108?v=4","gravatar_id":"","url":"https://api.github.com/users/richiesgr","html_url":"https://github.com/richiesgr","followers_url":"https://api.github.com/users/richiesgr/followers","following_url":"https://api.github.com/users/richiesgr/following{/other_user}","gists_url":"https://api.github.com/users/richiesgr/gists{/gist_id}","starred_url":"https://api.github.com/users/richiesgr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richiesgr/subscriptions","organizations_url":"https://api.github.com/users/richiesgr/orgs","repos_url":"https://api.github.com/users/richiesgr/repos","events_url":"https://api.github.com/users/richiesgr/events{/privacy}","received_events_url":"https://api.github.com/users/richiesgr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T10:28:07Z","updated_at":"2018-01-17T10:28:07Z","author_association":"NONE","body":"Sorry for CossPosting I've already open this \r\n\r\nHi\r\nI'm using imply 2.4.0 version and the problem still exists\r\nafter restarting the broker the SQL server lose the metadata of the data source.\r\nAfter some time it come back but not always\r\nIs there any workaround ?\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358262277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358272402","html_url":"https://github.com/apache/druid/issues/5218#issuecomment-358272402","issue_url":"https://api.github.com/repos/apache/druid/issues/5218","id":358272402,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODI3MjQwMg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T11:09:03Z","updated_at":"2018-01-17T11:09:03Z","author_association":"MEMBER","body":"Pruning dimensions doesn't win you anything because when querying historical data, unused dimensions are neither accessed in memory nor loaded from disk.\r\n\r\nThis is the primary advantage of columnar storage. If it wasn't the case, there would be no point in Druid neither any other columnar data store to choose this architecture.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358272402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358273572","html_url":"https://github.com/apache/druid/issues/5218#issuecomment-358273572","issue_url":"https://api.github.com/repos/apache/druid/issues/5218","id":358273572,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODI3MzU3Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T11:14:11Z","updated_at":"2018-01-17T11:14:11Z","author_association":"MEMBER","body":"> As a result, druid calculates for each query\r\n\r\nSide note: enable caching (druid supports both historical- and broker-level query results cache) to reduce the amount of repetitive calculations.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358273572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/358279591","html_url":"https://github.com/apache/druid/issues/5218#issuecomment-358279591","issue_url":"https://api.github.com/repos/apache/druid/issues/5218","id":358279591,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODI3OTU5MQ==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-17T11:40:57Z","updated_at":"2018-01-17T11:40:57Z","author_association":"CONTRIBUTOR","body":"@leventov Thanks for the new title.\r\n\r\n> Pruning dimensions doesn't win you anything because when querying historical data, unused dimensions are neither accessed in memory nor loaded from disk.\r\n\r\nPruning dimensions can reduce the number of rows. For example, there are two dimensions A and B in a segment. The cardinality of A is 10, and the cardinality of B is 100.  The max number of rows in this segment is 10*100. However, if there is only dimension A in this segment, the max number of rows in is 10.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/358279591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]