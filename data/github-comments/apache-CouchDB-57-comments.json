[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430287224","html_url":"https://github.com/apache/couchdb/issues/1497#issuecomment-430287224","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1497","id":430287224,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDI4NzIyNA==","user":{"login":"cluxter","id":6885295,"node_id":"MDQ6VXNlcjY4ODUyOTU=","avatar_url":"https://avatars.githubusercontent.com/u/6885295?v=4","gravatar_id":"","url":"https://api.github.com/users/cluxter","html_url":"https://github.com/cluxter","followers_url":"https://api.github.com/users/cluxter/followers","following_url":"https://api.github.com/users/cluxter/following{/other_user}","gists_url":"https://api.github.com/users/cluxter/gists{/gist_id}","starred_url":"https://api.github.com/users/cluxter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cluxter/subscriptions","organizations_url":"https://api.github.com/users/cluxter/orgs","repos_url":"https://api.github.com/users/cluxter/repos","events_url":"https://api.github.com/users/cluxter/events{/privacy}","received_events_url":"https://api.github.com/users/cluxter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-16T15:39:46Z","updated_at":"2018-10-16T15:45:14Z","author_association":"NONE","body":"> This then enables follow on features like replication over WebSockets\r\n\r\nHuge +1 for support of replication through WebSockets since it saves a _lot_ of overheads. Also would be awesome to be able to use WebSockets to connect to CouchDB at some point.\r\n\r\nEDIT: from what I understood, WebSockets over SSL (WSS) create a secure channel between the client and the server, which avoids the need for authenticating for each request.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430287224/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430367240","html_url":"https://github.com/apache/couchdb/pull/1629#issuecomment-430367240","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1629","id":430367240,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDM2NzI0MA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-16T19:25:50Z","updated_at":"2018-10-16T19:25:50Z","author_association":"CONTRIBUTOR","body":"@jaydoane I've updated the PR with your recommendations. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430367240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430501550","html_url":"https://github.com/apache/couchdb/pull/1605#issuecomment-430501550","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1605","id":430501550,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDUwMTU1MA==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-17T06:08:56Z","updated_at":"2018-10-17T06:08:56Z","author_association":"CONTRIBUTOR","body":"@garrensmith I updated to the latest partition_tests commit, but am still getting the same 3 failures from `make couch` and the bevy of rexi timeouts which follow 5 minutes later. Next, I will try to repro on a different dev env.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430501550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430662863","html_url":"https://github.com/apache/couchdb/issues/1020#issuecomment-430662863","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1020","id":430662863,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDY2Mjg2Mw==","user":{"login":"marklindsay24","id":42783294,"node_id":"MDQ6VXNlcjQyNzgzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/42783294?v=4","gravatar_id":"","url":"https://api.github.com/users/marklindsay24","html_url":"https://github.com/marklindsay24","followers_url":"https://api.github.com/users/marklindsay24/followers","following_url":"https://api.github.com/users/marklindsay24/following{/other_user}","gists_url":"https://api.github.com/users/marklindsay24/gists{/gist_id}","starred_url":"https://api.github.com/users/marklindsay24/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marklindsay24/subscriptions","organizations_url":"https://api.github.com/users/marklindsay24/orgs","repos_url":"https://api.github.com/users/marklindsay24/repos","events_url":"https://api.github.com/users/marklindsay24/events{/privacy}","received_events_url":"https://api.github.com/users/marklindsay24/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-17T14:57:44Z","updated_at":"2018-10-17T14:57:44Z","author_association":"NONE","body":"I have tried for two days trying to figure out how to override DB location when running the Mac App. \r\n\r\nDone of following works:\r\n~/Library/Preferences/couchdb2-local.ini\r\n/Applications/Apache\\ CouchDB.app/Contents/Resources/couchdbx-core/etc/default.ini\r\n\r\nPlease HELP!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430662863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430694685","html_url":"https://github.com/apache/couchdb/issues/1661#issuecomment-430694685","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1661","id":430694685,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDY5NDY4NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-17T16:21:10Z","updated_at":"2018-10-17T16:21:10Z","author_association":"MEMBER","body":"There is no `2.2.2`. You must mean `2.2.0.`.\r\n\r\nHave you checked for conflicts in your documents? CouchDB will never reduce the number of revs below the max # of conflicts on any given document.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430694685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430808769","html_url":"https://github.com/apache/couchdb/pull/1662#issuecomment-430808769","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1662","id":430808769,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDgwODc2OQ==","user":{"login":"ksnavely","id":1530988,"node_id":"MDQ6VXNlcjE1MzA5ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1530988?v=4","gravatar_id":"","url":"https://api.github.com/users/ksnavely","html_url":"https://github.com/ksnavely","followers_url":"https://api.github.com/users/ksnavely/followers","following_url":"https://api.github.com/users/ksnavely/following{/other_user}","gists_url":"https://api.github.com/users/ksnavely/gists{/gist_id}","starred_url":"https://api.github.com/users/ksnavely/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ksnavely/subscriptions","organizations_url":"https://api.github.com/users/ksnavely/orgs","repos_url":"https://api.github.com/users/ksnavely/repos","events_url":"https://api.github.com/users/ksnavely/events{/privacy}","received_events_url":"https://api.github.com/users/ksnavely/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-17T22:15:54Z","updated_at":"2018-10-17T22:15:54Z","author_association":"CONTRIBUTOR","body":"Nice fix!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430808769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430897456","html_url":"https://github.com/apache/couchdb/issues/1661#issuecomment-430897456","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1661","id":430897456,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDg5NzQ1Ng==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T07:01:12Z","updated_at":"2018-10-18T07:01:12Z","author_association":"NONE","body":"Hi @wohali and thanks for the quick answer.\r\nSry, have corrected to 2.2.0.\r\n\r\nI can strongly confirm there are NO conflicts at all, our auxiliary services are keeping track of them and are solving them constantly.\r\nOne of these docs that has for example 1000+ revisions, at at time had even 10 conflicts, but data was merged and loosing conflicts deleted, and now there are NO conflicts at all in DB.\r\n\r\nSo can you confirm that _revs_limit should impact the _revs_diff response as well?\r\nAlso, can you please confirm we did the right things? \r\n1. _revs_limit to 50 (is that an advisable value?) on db\r\n2. _compact db\r\n\r\nThank you","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/430897456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431036499","html_url":"https://github.com/apache/couchdb/issues/1661#issuecomment-431036499","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1661","id":431036499,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTAzNjQ5OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T14:43:37Z","updated_at":"2018-10-18T14:43:37Z","author_association":"MEMBER","body":"Sorry, someone else will have to help you.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431036499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431039774","html_url":"https://github.com/apache/couchdb/issues/1663#issuecomment-431039774","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1663","id":431039774,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTAzOTc3NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T14:52:00Z","updated_at":"2018-10-18T14:52:00Z","author_association":"MEMBER","body":"Sorry, Apache CouchDB has deprecated v1.x and is no longer supporting this release via GitHub.\r\n\r\nIf you are looking for advice you can try our mailing list or Slack channel for informal assistance. See https://couchdb.apache.org/ for more information.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431039774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431040749","html_url":"https://github.com/apache/couchdb/issues/1664#issuecomment-431040749","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1664","id":431040749,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTA0MDc0OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T14:54:16Z","updated_at":"2018-10-18T14:54:16Z","author_association":"MEMBER","body":"You are probably missing some required build-time dependencies.\r\n\r\nWe build CouchDB 2.2.0 on Ubuntu 14.04 via the following process:\r\n\r\n1. Install depepndencies using the scripts in https://github.com/apache/couchdb-ci\r\n1. `git clone`\r\n1. `./configure && make release`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431040749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431041187","html_url":"https://github.com/apache/couchdb/issues/1665#issuecomment-431041187","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1665","id":431041187,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTA0MTE4Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T14:55:16Z","updated_at":"2018-10-18T14:55:16Z","author_association":"MEMBER","body":"Please don't open duplicate issues in our tracker.\r\n\r\nOur Mac build is contributed and is not directly maintained by the entire Apache CouchDB team. Please be patient; someone will be along to help eventually.\r\n\r\nIf you're looking for faster support. try our user@couchdb.apache.org mailing list, or our Slack/IRC channels, both of which are described at our home page of https://couchdb.apache.org/ .","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431041187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431044418","html_url":"https://github.com/apache/couchdb/issues/1510#issuecomment-431044418","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1510","id":431044418,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTA0NDQxOA==","user":{"login":"natcohen","id":7813574,"node_id":"MDQ6VXNlcjc4MTM1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7813574?v=4","gravatar_id":"","url":"https://api.github.com/users/natcohen","html_url":"https://github.com/natcohen","followers_url":"https://api.github.com/users/natcohen/followers","following_url":"https://api.github.com/users/natcohen/following{/other_user}","gists_url":"https://api.github.com/users/natcohen/gists{/gist_id}","starred_url":"https://api.github.com/users/natcohen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natcohen/subscriptions","organizations_url":"https://api.github.com/users/natcohen/orgs","repos_url":"https://api.github.com/users/natcohen/repos","events_url":"https://api.github.com/users/natcohen/events{/privacy}","received_events_url":"https://api.github.com/users/natcohen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T15:03:27Z","updated_at":"2018-10-18T15:03:27Z","author_association":"NONE","body":"I think it will make CouchDB more appealing to \"SQL-familiar\" developers...\r\n\r\nI remember reading a post from @janl (for the 2.0 release) about a potential SQL to Mango adapter in the future. Mango is probably far from this but adding JOINs would be a big step in this direction.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431044418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431046019","html_url":"https://github.com/apache/couchdb/issues/1510#issuecomment-431046019","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1510","id":431046019,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTA0NjAxOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T15:07:47Z","updated_at":"2018-10-18T15:07:47Z","author_association":"MEMBER","body":"@natcohen FYI one way this can be achieved today is via the [partial indexing](http://docs.couchdb.org/en/stable/api/database/find.html#partial-indexes) feature. It's not perfect, but you might want to give it a look. Basically, make an index that represents the first part of the join, then use a selector on that partial index specifically to restrict the query further.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431046019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431051354","html_url":"https://github.com/apache/couchdb/issues/1510#issuecomment-431051354","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1510","id":431051354,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTA1MTM1NA==","user":{"login":"natcohen","id":7813574,"node_id":"MDQ6VXNlcjc4MTM1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7813574?v=4","gravatar_id":"","url":"https://api.github.com/users/natcohen","html_url":"https://github.com/natcohen","followers_url":"https://api.github.com/users/natcohen/followers","following_url":"https://api.github.com/users/natcohen/following{/other_user}","gists_url":"https://api.github.com/users/natcohen/gists{/gist_id}","starred_url":"https://api.github.com/users/natcohen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natcohen/subscriptions","organizations_url":"https://api.github.com/users/natcohen/orgs","repos_url":"https://api.github.com/users/natcohen/repos","events_url":"https://api.github.com/users/natcohen/events{/privacy}","received_events_url":"https://api.github.com/users/natcohen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T15:21:26Z","updated_at":"2018-10-18T15:21:26Z","author_association":"NONE","body":"@wohali Thanks for the workaround but like you said, it's not perfect and it's a \"workaround\". I think CouchDB will have to support more SQL functions to attract more developers. Storing data, which CouchDB does perfectly, is one thing but developers also need to retrieve it and frankly CouchDB is not very good at it. I really think CouchDB developers should focus on that in the following releases...but that's just my opinion!\r\n\r\nThanks for the hard work!\r\n\r\nPS for the skeptics https://blog.timescale.com/why-sql-beating-nosql-what-this-means-for-future-of-data-time-series-database-348b777b847a and https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/46103.pdf","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431051354/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431077350","html_url":"https://github.com/apache/couchdb/issues/1661#issuecomment-431077350","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1661","id":431077350,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTA3NzM1MA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T16:34:21Z","updated_at":"2018-10-18T16:34:21Z","author_association":"MEMBER","body":"Hi @tudordumitriu, I think I understand what is happening here.\r\n\r\nWhen you resolve a conflict in a CouchDB document the conflicted path continues to exist in the revision tree. CouchDB simply adds a `deleted:true` leaf on the end of the path. If you request one of these documents with `?meta=true` I suspect you'll see a large block of `deleted_conflicts` entries.\r\n\r\nThe `_revs_limit` setting will cap the length of each individual path in the revision tree, and will then merge those shortened paths together into one or more trees. So, the number of entries in the `_revs_info` can be as high as the product of `_revs_limit` times the number of *total* paths -- deleted or otherwise.\r\n\r\nI would like to improve the behavior of the database so that it can intelligently \"prune\" the branches of the revision tree that track resolved conflicts once it's confident that all replication peers have observed the latest updates to the branch. It's a subtle change though with some important side effects to consider. We've also contemplated introducing user-defined conflict resolution strategies which could be more efficient than the current (maximally robust) strategy.\r\n\r\nCouchDB 1.x supported the notion of \"purging\" revisions entirely, which would certainly accomplish your goal of getting the revision metadata slimmed down. CouchDB 2.0 lost this capability because of some unique challenges supporting it in a cluster. We did recently re-introduce the capability in #1370 ... just after we released 2.2.0. It'll be in 2.3.0 once that's released.\r\n\r\nNet: there's not a lot you can do right now to fix up documents that had a lot of conflicts in the past. Shortening the `_revs_limit` does help -- but not as much as you think, and if it gets shortened too much you run the risk of generating additional spurious conflicts.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431077350/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431077438","html_url":"https://github.com/apache/couchdb/issues/1020#issuecomment-431077438","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1020","id":431077438,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTA3NzQzOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T16:34:36Z","updated_at":"2018-10-18T16:34:36Z","author_association":"MEMBER","body":"@marklindsay24 the repository containing the script used to build the Mac app is here: https://github.com/janl/build-couchdb-mac\r\n\r\nMy guess is that you have to edit that Info.plist file as previously mentioned in this thread - I don't use a Mac so I'm at the limits of my ability to help you here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431077438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431080598","html_url":"https://github.com/apache/couchdb/issues/1659#issuecomment-431080598","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1659","id":431080598,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTA4MDU5OA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T16:44:27Z","updated_at":"2018-10-18T16:44:27Z","author_association":"MEMBER","body":"Hmm, that's odd -- the history is only supposed to contain the last 20 entries by default, and yes I think you do have the right config setting there.\r\n\r\nCan you possibly share one of these responses that contains more than 20 entries?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431080598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431086220","html_url":"https://github.com/apache/couchdb/issues/1665#issuecomment-431086220","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1665","id":431086220,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTA4NjIyMA==","user":{"login":"marklindsay24","id":42783294,"node_id":"MDQ6VXNlcjQyNzgzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/42783294?v=4","gravatar_id":"","url":"https://api.github.com/users/marklindsay24","html_url":"https://github.com/marklindsay24","followers_url":"https://api.github.com/users/marklindsay24/followers","following_url":"https://api.github.com/users/marklindsay24/following{/other_user}","gists_url":"https://api.github.com/users/marklindsay24/gists{/gist_id}","starred_url":"https://api.github.com/users/marklindsay24/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marklindsay24/subscriptions","organizations_url":"https://api.github.com/users/marklindsay24/orgs","repos_url":"https://api.github.com/users/marklindsay24/repos","events_url":"https://api.github.com/users/marklindsay24/events{/privacy}","received_events_url":"https://api.github.com/users/marklindsay24/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T17:01:27Z","updated_at":"2018-10-18T17:01:27Z","author_association":"NONE","body":"I'm sorry, I already posted to closed defect #1020 and figured no one would look at because it was closed. I tried EVERY THING mentioned in #1020, with no luck. \r\n\r\nI'm sorry, but that is short answer. I would like this re-opened. OR clear instructions on updating plist. What was mentioned there was changing IP address, which I tried. but plist does not contain any database_dir.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431086220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431119379","html_url":"https://github.com/apache/couchdb/issues/1665#issuecomment-431119379","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1665","id":431119379,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTExOTM3OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-18T18:44:57Z","updated_at":"2018-10-18T18:44:57Z","author_association":"MEMBER","body":"@marklindsay24 Go and file an issue against https://github.com/janl/build-couchdb-mac , the bug is in that repository, not CouchDB.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431119379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431346508","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431346508","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431346508,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTM0NjUwOA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-19T12:28:56Z","updated_at":"2018-10-19T12:28:56Z","author_association":"MEMBER","body":"`is_system_db_name` is my suggestion for a better name. This function only tests the name, after all. The other function `is_system_db` only tests `#db{}` records, so the two names are distinct and complementary.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431346508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431378676","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431378676","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431378676,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTM3ODY3Ng==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-19T14:17:54Z","updated_at":"2018-10-19T14:17:54Z","author_association":"MEMBER","body":"`is_valid_systemdb` is not distinct from `is_systemdb`, this doesn't seem a helpful name (not least because it won't detect all valid system dbs).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431378676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431600904","html_url":"https://github.com/apache/couchdb/pull/1670#issuecomment-431600904","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1670","id":431600904,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTYwMDkwNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-20T17:17:50Z","updated_at":"2018-10-20T17:17:50Z","author_association":"MEMBER","body":"Thank you for your contribution to CouchDB, @iblis17 !","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431600904/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431768555","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431768555","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431768555,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTc2ODU1NQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T08:12:57Z","updated_at":"2018-10-22T08:12:57Z","author_association":"MEMBER","body":"+1 but please update title and commit message to match.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431768555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431768597","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431768597","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431768597,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTc2ODU5Nw==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T08:13:10Z","updated_at":"2018-10-22T08:13:10Z","author_association":"MEMBER","body":"+1 but please update title and commit message to match.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431768597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431768666","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431768666","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431768666,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTc2ODY2Ng==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T08:13:34Z","updated_at":"2018-10-22T08:13:34Z","author_association":"MEMBER","body":"+1 but please update title and commit message to match.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431768666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431768942","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431768942","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431768942,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTc2ODk0Mg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T08:15:04Z","updated_at":"2018-10-22T08:15:04Z","author_association":"MEMBER","body":"+1 but please update title and commit message to match.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431768942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431777280","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431777280","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431777280,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTc3NzI4MA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T08:54:06Z","updated_at":"2018-10-22T08:54:06Z","author_association":"MEMBER","body":"+1 but please update title and commit message to match.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431777280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431780285","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431780285","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431780285,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTc4MDI4NQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T09:08:34Z","updated_at":"2018-10-22T09:08:34Z","author_association":"MEMBER","body":"+1 but please update title and commit message to match.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431780285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431780769","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431780769","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431780769,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTc4MDc2OQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T09:10:59Z","updated_at":"2018-10-22T09:10:59Z","author_association":"MEMBER","body":"+1 but please update title and commit message to match.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431780769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431785923","html_url":"https://github.com/apache/couchdb/pull/1668#issuecomment-431785923","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1668","id":431785923,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTc4NTkyMw==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T09:33:44Z","updated_at":"2018-10-22T09:33:44Z","author_association":"MEMBER","body":"+1 but please update title and commit message to match.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431785923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431865226","html_url":"https://github.com/apache/couchdb/issues/1671#issuecomment-431865226","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1671","id":431865226,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTg2NTIyNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T15:15:59Z","updated_at":"2018-10-22T15:15:59Z","author_association":"MEMBER","body":"I'm updating this ticket to indicate it'd be for Mango indexes (since that's the only situation in which we'd have a chance of knowing the exact index necessary.)\r\n\r\nAs the label says, patches are welcome.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431865226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431903513","html_url":"https://github.com/apache/couchdb/pull/1622#issuecomment-431903513","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1622","id":431903513,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTkwMzUxMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T17:17:44Z","updated_at":"2018-10-22T17:17:44Z","author_association":"MEMBER","body":"@adrienverge I'm having to revert the change to `dev/run` for now because it has broken our build. See #1673 for the details.\r\n\r\nOnce @nickva 's PR lands, `dev/run` will have an explicit callout for `python3` instead of `python`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431903513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431976104","html_url":"https://github.com/apache/couchdb/pull/1622#issuecomment-431976104","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1622","id":431976104,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTk3NjEwNA==","user":{"login":"adrienverge","id":5244945,"node_id":"MDQ6VXNlcjUyNDQ5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/5244945?v=4","gravatar_id":"","url":"https://api.github.com/users/adrienverge","html_url":"https://github.com/adrienverge","followers_url":"https://api.github.com/users/adrienverge/followers","following_url":"https://api.github.com/users/adrienverge/following{/other_user}","gists_url":"https://api.github.com/users/adrienverge/gists{/gist_id}","starred_url":"https://api.github.com/users/adrienverge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adrienverge/subscriptions","organizations_url":"https://api.github.com/users/adrienverge/orgs","repos_url":"https://api.github.com/users/adrienverge/repos","events_url":"https://api.github.com/users/adrienverge/events{/privacy}","received_events_url":"https://api.github.com/users/adrienverge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-22T20:39:27Z","updated_at":"2018-10-22T20:39:27Z","author_association":"CONTRIBUTOR","body":"@wohali thanks for letting me know!\r\n\r\nI'm glad to ear that Python 3 support is on its way :+1: ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/431976104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432065891","html_url":"https://github.com/apache/couchdb/issues/1661#issuecomment-432065891","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1661","id":432065891,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjA2NTg5MQ==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T02:36:31Z","updated_at":"2018-10-23T02:36:31Z","author_association":"NONE","body":"Thank you @kocolosk \r\nThen we are looking forward for 2.3.0!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432065891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432071111","html_url":"https://github.com/apache/couchdb/issues/1659#issuecomment-432071111","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1659","id":432071111,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjA3MTExMQ==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T03:01:51Z","updated_at":"2018-10-23T03:01:51Z","author_association":"NONE","body":"Hi @kocolosk and thanks for getting back,\r\n\r\nI might have been wrong in saying that the entire is returned, but definitely there is something wrong, because this number is growing.\r\nNow what is strange is that on the same documents that I used to investigate this scenario the replication is now started returning a very small number (like 9), but it steadily increased to 40 after possible 31 operations (didn't count exactly). So what I'm thinking is that was somehow cleaned by some scheduled maintenance job.\r\n\r\nBut I will attach 2 versions of the response I got for the same request (not subsequent but in time after a certain number of operations - and I am counting the start_last_seq):\r\n{\"source\": \"http://sa:go@localhost:5984/central\",\"target\": \"http://sa:go@localhost:5984/userdb-61\",\"doc_ids\" : [\"l_303381cf64f141f28a316b400b8a3cbb_org.couchdb.user:t\"] }\r\n[26_start_last_seq.txt](https://github.com/apache/couchdb/files/2504277/26_start_last_seq.txt)\r\n[40_start_last_seq.txt](https://github.com/apache/couchdb/files/2504280/40_start_last_seq.txt)\r\n\r\nHope it helps.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432071111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432107216","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-432107216","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":432107216,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjEwNzIxNg==","user":{"login":"ktaragorn","id":2549496,"node_id":"MDQ6VXNlcjI1NDk0OTY=","avatar_url":"https://avatars.githubusercontent.com/u/2549496?v=4","gravatar_id":"","url":"https://api.github.com/users/ktaragorn","html_url":"https://github.com/ktaragorn","followers_url":"https://api.github.com/users/ktaragorn/followers","following_url":"https://api.github.com/users/ktaragorn/following{/other_user}","gists_url":"https://api.github.com/users/ktaragorn/gists{/gist_id}","starred_url":"https://api.github.com/users/ktaragorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktaragorn/subscriptions","organizations_url":"https://api.github.com/users/ktaragorn/orgs","repos_url":"https://api.github.com/users/ktaragorn/repos","events_url":"https://api.github.com/users/ktaragorn/events{/privacy}","received_events_url":"https://api.github.com/users/ktaragorn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T06:14:07Z","updated_at":"2018-10-23T06:14:07Z","author_association":"NONE","body":"I encountered this issue as well, having set this field via fauxton, and now I am locked out. Luckily i have ssh access to the server and I can hopefully fix this. But it should not work this way. I tried to login by adding user:pass@ to the url and it doesnt work either. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432107216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432108398","html_url":"https://github.com/apache/couchdb/issues/1659#issuecomment-432108398","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1659","id":432108398,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjEwODM5OA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T06:18:55Z","updated_at":"2018-10-23T06:18:55Z","author_association":"CONTRIBUTOR","body":"Hi @tudordumitriu \r\n\r\nThanks for your report.\r\n\r\nJust like @kocolosk I thought you were looking at the replicator start / stop job history from the _scheduler/jobs. That is indeed configurable and default to 20. \r\n\r\nHowever, looking at the attached output it seems like you are noticing the `_local/<replication_id>` checkpoint document bodies. These are used to checkpoint replication progress on target and source. The bad news is that it is not configurable. The good news is it is hard-coded at 50: \r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/couch_replicator/src/couch_replicator_scheduler_job.erl#L782\r\n\r\nYou could try to reduce the frequency of checkpoints. Now it defaults to 30 sec. But you could make it a bit larger: http://docs.couchdb.org/en/latest/config/replicator.html#replicator/checkpoint_interval (notice the units are in milliseconds). The default used to be 5 sec ( = 5000) so check if you have that set explicitly in your config overriding the newer default. You'd still ship all 50 history entries on each checkpoint update and read after a while but, but you'd just do it less frequently (once / minute vs once / every seconds). ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432108398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432108400","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-432108400","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":432108400,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjEwODQwMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T06:18:56Z","updated_at":"2018-10-23T06:18:56Z","author_association":"MEMBER","body":"@ktaragorn Can you confirm the OS on which you are experiencing this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432108400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432142819","html_url":"https://github.com/apache/couchdb/pull/1675#issuecomment-432142819","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1675","id":432142819,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjE0MjgxOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T08:12:51Z","updated_at":"2018-10-23T08:12:51Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432142819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432215305","html_url":"https://github.com/apache/couchdb/issues/1267#issuecomment-432215305","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1267","id":432215305,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjIxNTMwNQ==","user":{"login":"olivenvrac","id":31409996,"node_id":"MDQ6VXNlcjMxNDA5OTk2","avatar_url":"https://avatars.githubusercontent.com/u/31409996?v=4","gravatar_id":"","url":"https://api.github.com/users/olivenvrac","html_url":"https://github.com/olivenvrac","followers_url":"https://api.github.com/users/olivenvrac/followers","following_url":"https://api.github.com/users/olivenvrac/following{/other_user}","gists_url":"https://api.github.com/users/olivenvrac/gists{/gist_id}","starred_url":"https://api.github.com/users/olivenvrac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olivenvrac/subscriptions","organizations_url":"https://api.github.com/users/olivenvrac/orgs","repos_url":"https://api.github.com/users/olivenvrac/repos","events_url":"https://api.github.com/users/olivenvrac/events{/privacy}","received_events_url":"https://api.github.com/users/olivenvrac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T11:52:10Z","updated_at":"2018-10-23T11:52:10Z","author_association":"NONE","body":"I would reopen this issue to complete some informations for the community.I saw that a lot of people have had this problem\r\nI double the number of cpu on the server. this did not change anything and the server did not have a high load\r\nbut i realized that there was some conflicts of documents in some databases.\r\nWell, after solving the conflicts of documents present in the databases, it solved the problem of fabric timeout !\r\n\r\nbut i am surprised that this problem of fabric timeout occurs with very few conflicts. 21 conflicts on 60000 documents presents in all the databases of the instance.\r\nreminder: requests go through a _changes database filter\r\nhowever, about 20000 documents contains many attachments (between 1 and about 10) of several dozen mega-octets\r\n\r\ncan you confirm that this problem of fabric timeout must be related to my problem of documents conflicts ?\r\nthanks a lot for your reply","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432215305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432280553","html_url":"https://github.com/apache/couchdb/issues/1267#issuecomment-432280553","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1267","id":432280553,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjI4MDU1Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T14:53:30Z","updated_at":"2018-10-23T14:53:30Z","author_association":"MEMBER","body":"There are many reasons you may receive fabric timeouts, conflicts are not the only reason. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432280553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432298209","html_url":"https://github.com/apache/couchdb/pull/1616#issuecomment-432298209","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1616","id":432298209,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjI5ODIwOQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T15:35:33Z","updated_at":"2018-10-23T15:35:33Z","author_association":"MEMBER","body":"-1.\r\n\r\nWe need a couchdb release that can recognise a newer version of the database format and downgrade it to the current version. Then a subsequent release will introduce and use the newer version.\r\n\r\nThis ensures that all users can downgrade by going back to their previous release.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432298209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432344548","html_url":"https://github.com/apache/couchdb/pull/1616#issuecomment-432344548","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1616","id":432344548,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjM0NDU0OA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T17:34:17Z","updated_at":"2018-10-23T17:34:17Z","author_association":"MEMBER","body":"@rnewson To be clear, you -1'ing that this isn't in a CouchDB release before clustered purge, not the actual logic as implemented right?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432344548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432417265","html_url":"https://github.com/apache/couchdb/pull/1650#issuecomment-432417265","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1650","id":432417265,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjQxNzI2NQ==","user":{"login":"adv4000","id":24209377,"node_id":"MDQ6VXNlcjI0MjA5Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/24209377?v=4","gravatar_id":"","url":"https://api.github.com/users/adv4000","html_url":"https://github.com/adv4000","followers_url":"https://api.github.com/users/adv4000/followers","following_url":"https://api.github.com/users/adv4000/following{/other_user}","gists_url":"https://api.github.com/users/adv4000/gists{/gist_id}","starred_url":"https://api.github.com/users/adv4000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adv4000/subscriptions","organizations_url":"https://api.github.com/users/adv4000/orgs","repos_url":"https://api.github.com/users/adv4000/repos","events_url":"https://api.github.com/users/adv4000/events{/privacy}","received_events_url":"https://api.github.com/users/adv4000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T20:59:04Z","updated_at":"2018-10-23T20:59:04Z","author_association":"NONE","body":"I hope it also will fix  **_metadata** db along with  **_users** db","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432417265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432420650","html_url":"https://github.com/apache/couchdb/pull/1650#issuecomment-432420650","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1650","id":432420650,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjQyMDY1MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T21:09:18Z","updated_at":"2018-10-23T21:09:18Z","author_association":"MEMBER","body":"@adv4000 CouchDB doesn't currently do anything with the _metadata DB, what are you expecting to find there?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432420650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432423402","html_url":"https://github.com/apache/couchdb/pull/1650#issuecomment-432423402","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1650","id":432423402,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjQyMzQwMg==","user":{"login":"adv4000","id":24209377,"node_id":"MDQ6VXNlcjI0MjA5Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/24209377?v=4","gravatar_id":"","url":"https://api.github.com/users/adv4000","html_url":"https://github.com/adv4000","followers_url":"https://api.github.com/users/adv4000/followers","following_url":"https://api.github.com/users/adv4000/following{/other_user}","gists_url":"https://api.github.com/users/adv4000/gists{/gist_id}","starred_url":"https://api.github.com/users/adv4000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adv4000/subscriptions","organizations_url":"https://api.github.com/users/adv4000/orgs","repos_url":"https://api.github.com/users/adv4000/repos","events_url":"https://api.github.com/users/adv4000/events{/privacy}","received_events_url":"https://api.github.com/users/adv4000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T21:17:53Z","updated_at":"2018-10-23T21:18:08Z","author_association":"NONE","body":"@wohali \r\nIssue reported on couchdbbackup tool: https://github.com/cloudant/couchbackup/issues/253\r\nLooks like _bulk_get not working with databases named **_users** and **_metadata**","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432423402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432575651","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-432575651","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":432575651,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjU3NTY1MQ==","user":{"login":"ktaragorn","id":2549496,"node_id":"MDQ6VXNlcjI1NDk0OTY=","avatar_url":"https://avatars.githubusercontent.com/u/2549496?v=4","gravatar_id":"","url":"https://api.github.com/users/ktaragorn","html_url":"https://github.com/ktaragorn","followers_url":"https://api.github.com/users/ktaragorn/followers","following_url":"https://api.github.com/users/ktaragorn/following{/other_user}","gists_url":"https://api.github.com/users/ktaragorn/gists{/gist_id}","starred_url":"https://api.github.com/users/ktaragorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktaragorn/subscriptions","organizations_url":"https://api.github.com/users/ktaragorn/orgs","repos_url":"https://api.github.com/users/ktaragorn/repos","events_url":"https://api.github.com/users/ktaragorn/events{/privacy}","received_events_url":"https://api.github.com/users/ktaragorn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T09:03:58Z","updated_at":"2018-10-24T09:03:58Z","author_association":"NONE","body":"@wohali This is couchdb 2.1.1 installed on Ubuntu 16.04 LTS. I changed this option via fauxton, and now am locked out of admin panel. Still figuring out where fauxton stores the config so I can go undo it. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432575651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432588359","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-432588359","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":432588359,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjU4ODM1OQ==","user":{"login":"ktaragorn","id":2549496,"node_id":"MDQ6VXNlcjI1NDk0OTY=","avatar_url":"https://avatars.githubusercontent.com/u/2549496?v=4","gravatar_id":"","url":"https://api.github.com/users/ktaragorn","html_url":"https://github.com/ktaragorn","followers_url":"https://api.github.com/users/ktaragorn/followers","following_url":"https://api.github.com/users/ktaragorn/following{/other_user}","gists_url":"https://api.github.com/users/ktaragorn/gists{/gist_id}","starred_url":"https://api.github.com/users/ktaragorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktaragorn/subscriptions","organizations_url":"https://api.github.com/users/ktaragorn/orgs","repos_url":"https://api.github.com/users/ktaragorn/repos","events_url":"https://api.github.com/users/ktaragorn/events{/privacy}","received_events_url":"https://api.github.com/users/ktaragorn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T09:42:19Z","updated_at":"2018-10-24T09:42:19Z","author_association":"NONE","body":"Installed using your cookbook https://supermarket.chef.io/cookbooks/couchdb","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432588359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432591456","html_url":"https://github.com/apache/couchdb/pull/1642#issuecomment-432591456","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1642","id":432591456,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjU5MTQ1Ng==","user":{"login":"AlexanderKaraberov","id":3254818,"node_id":"MDQ6VXNlcjMyNTQ4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3254818?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderKaraberov","html_url":"https://github.com/AlexanderKaraberov","followers_url":"https://api.github.com/users/AlexanderKaraberov/followers","following_url":"https://api.github.com/users/AlexanderKaraberov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderKaraberov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderKaraberov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderKaraberov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderKaraberov/orgs","repos_url":"https://api.github.com/users/AlexanderKaraberov/repos","events_url":"https://api.github.com/users/AlexanderKaraberov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderKaraberov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T09:51:36Z","updated_at":"2018-10-24T09:51:36Z","author_association":"CONTRIBUTOR","body":"Hi @iilyak \r\n\r\nI wonder whether this change may result in better performance of index I/O operations (like view index updates)? \r\nIf I understood correctly this `io_priority` flag is for [ioq supervisor](https://github.com/apache/couchdb-ioq) which prioritises I/O operations inside of CouchDB.\r\nOr this change is pure informative/debugging one?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432591456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432619310","html_url":"https://github.com/apache/couchdb/pull/1616#issuecomment-432619310","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1616","id":432619310,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjYxOTMxMA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T11:30:56Z","updated_at":"2018-10-24T11:30:56Z","author_association":"MEMBER","body":"@davisp I would like to see the triggering of the downgrade logic happening in the same spot as all previous upgrade logic triggering (specifically, couch_bt_engine_header:upgrade/1). The actual downgrade logic appears right (and you would know better than I).\r\n\r\nSince we have another change after this that also changes db_header and will require up- and downgrade logic, we need a mechanism that extends naturally.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432619310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432624037","html_url":"https://github.com/apache/couchdb/pull/1677#issuecomment-432624037","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1677","id":432624037,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjYyNDAzNw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T11:49:49Z","updated_at":"2018-10-24T11:49:49Z","author_association":"CONTRIBUTOR","body":"thanks Bob @rnewson ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432624037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432683614","html_url":"https://github.com/apache/couchdb/pull/1616#issuecomment-432683614","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1616","id":432683614,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjY4MzYxNA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T14:35:54Z","updated_at":"2018-10-24T14:35:54Z","author_association":"MEMBER","body":"@rnewson Definitely agree its probably a good idea to consolidate where up/down-grade logic happens. This is a bit wonky because it requires file modifications so it was pulled out of couch_bt_engine_header where the traditional bits do that work since they were all just about changing a view values in a record.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432683614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432733259","html_url":"https://github.com/apache/couchdb/pull/1678#issuecomment-432733259","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1678","id":432733259,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjczMzI1OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T16:38:11Z","updated_at":"2018-10-24T16:38:11Z","author_association":"MEMBER","body":"Unfortunately, we cannot accept this PR, as none of our dependencies can be on repositories outside of the Apache organization directly.\r\n\r\nYou can try a PR against the apache/couchdb-rebar repository if you want...\r\n\r\nSorry about this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432733259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432733693","html_url":"https://github.com/apache/couchdb/pull/1678#issuecomment-432733693","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1678","id":432733693,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjczMzY5Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T16:39:28Z","updated_at":"2018-10-24T16:39:28Z","author_association":"MEMBER","body":"Also, we have a strong preference to migrate the build process to rebar 3 - #1428. If you are able to help with this conversion process, we'll be especially grateful.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432733693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432733985","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-432733985","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":432733985,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjczMzk4NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T16:40:21Z","updated_at":"2018-10-24T16:40:21Z","author_association":"MEMBER","body":"I'll reopen for now. Someone will have to try to reproduce this on `master`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432733985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432734270","html_url":"https://github.com/apache/couchdb/issues/1679#issuecomment-432734270","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1679","id":432734270,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjczNDI3MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-24T16:41:12Z","updated_at":"2018-10-24T16:41:12Z","author_association":"MEMBER","body":"Is your CouchDB bound to 127.0.0.1?\r\n\r\nWe would need more of your couchdb.log file to diagnose this problem.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432734270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432921641","html_url":"https://github.com/apache/couchdb/pull/1678#issuecomment-432921641","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1678","id":432921641,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkyMTY0MQ==","user":{"login":"lag-linaro","id":613036,"node_id":"MDQ6VXNlcjYxMzAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/613036?v=4","gravatar_id":"","url":"https://api.github.com/users/lag-linaro","html_url":"https://github.com/lag-linaro","followers_url":"https://api.github.com/users/lag-linaro/followers","following_url":"https://api.github.com/users/lag-linaro/following{/other_user}","gists_url":"https://api.github.com/users/lag-linaro/gists{/gist_id}","starred_url":"https://api.github.com/users/lag-linaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lag-linaro/subscriptions","organizations_url":"https://api.github.com/users/lag-linaro/orgs","repos_url":"https://api.github.com/users/lag-linaro/repos","events_url":"https://api.github.com/users/lag-linaro/events{/privacy}","received_events_url":"https://api.github.com/users/lag-linaro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-25T05:41:37Z","updated_at":"2018-10-25T05:41:37Z","author_association":"CONTRIBUTOR","body":"> Unfortunately, we cannot accept this PR, as none of our dependencies can be on repositories outside of the Apache organization directly.\r\n> \r\n> You can try a PR against the apache/couchdb-rebar repository if you want...\r\n> \r\n> Sorry about this.\r\n\r\nThat's okay.  I will update CouchDB's Rebar repo instead.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432921641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432922014","html_url":"https://github.com/apache/couchdb/pull/1678#issuecomment-432922014","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1678","id":432922014,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkyMjAxNA==","user":{"login":"lag-linaro","id":613036,"node_id":"MDQ6VXNlcjYxMzAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/613036?v=4","gravatar_id":"","url":"https://api.github.com/users/lag-linaro","html_url":"https://github.com/lag-linaro","followers_url":"https://api.github.com/users/lag-linaro/followers","following_url":"https://api.github.com/users/lag-linaro/following{/other_user}","gists_url":"https://api.github.com/users/lag-linaro/gists{/gist_id}","starred_url":"https://api.github.com/users/lag-linaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lag-linaro/subscriptions","organizations_url":"https://api.github.com/users/lag-linaro/orgs","repos_url":"https://api.github.com/users/lag-linaro/repos","events_url":"https://api.github.com/users/lag-linaro/events{/privacy}","received_events_url":"https://api.github.com/users/lag-linaro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-25T05:44:05Z","updated_at":"2018-10-25T05:44:31Z","author_association":"CONTRIBUTOR","body":"> Also, we have a strong preference to migrate the build process to rebar 3 - #1428. If you are able to help with this conversion process, we'll be especially grateful.\r\n\r\nYes, I am aware of that, and I'm happy to help.\r\n\r\n**NB: I would still like to see Rebar v2 updated in the mean time please.**\r\n\r\nI did briefly investigate moving to Rebar3, but I didn't find the code to update.\r\n\r\nHow does one compile native code with @davisp's offering?  Where is the NIF code?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432922014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432935713","html_url":"https://github.com/apache/couchdb/issues/1659#issuecomment-432935713","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1659","id":432935713,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkzNTcxMw==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-25T06:53:25Z","updated_at":"2018-10-25T06:53:25Z","author_association":"NONE","body":"Thank you @nickva ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/432935713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433082365","html_url":"https://github.com/apache/couchdb/pull/1682#issuecomment-433082365","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1682","id":433082365,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzA4MjM2NQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-25T14:52:07Z","updated_at":"2018-10-25T14:52:07Z","author_association":"CONTRIBUTOR","body":"FYI: There is already a similar config-based \"features\" feature implementation: \r\n\r\nhttps://github.com/apache/couchdb-config/commit/f62d553b337ce975edb0fb68772d22bdd3bf6490\r\n\r\nThat's used by various components to indicated their presence and then those features are bubbled up to the top level API. \r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/chttpd/src/chttpd_misc.erl#L53\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433082365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433179128","html_url":"https://github.com/apache/couchdb/pull/1682#issuecomment-433179128","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1682","id":433179128,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzE3OTEyOA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-25T19:39:05Z","updated_at":"2018-10-25T19:39:05Z","author_association":"CONTRIBUTOR","body":"> @nickva FYI: There is already a similar config-based \"features\" feature implementation:\r\n\r\nThere are few important differences:\r\n1. config-based \"features\" are really supported capabilities. People use welcome message to check if new API is available on the cluster. While feature flags are totally internal things. The flags suppose to be deleted once feature is stable and officially released. \r\n2. config-based \"features\" are global. It is impossible to enable it for some databases and disable for others.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433179128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433186651","html_url":"https://github.com/apache/couchdb/pull/1642#issuecomment-433186651","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1642","id":433186651,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzE4NjY1MQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-25T20:03:44Z","updated_at":"2018-10-25T20:03:44Z","author_association":"CONTRIBUTOR","body":"Hi @AlexanderKaraberov \r\n\r\nAs you noticed already `io_priority` is used by `ioq` ([here](https://github.com/apache/couchdb-ioq/blob/master/src/ioq.erl#L110:L115)) to select appropriate requests queue. The bug fixed in this PR makes sure that `view_compact` requests go to the right queue. Database admin can influence which requests would have greater priority [see here](https://github.com/apache/couchdb-ioq/blob/master/src/ioq.erl#L139:L144).  ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433186651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433209009","html_url":"https://github.com/apache/couchdb/pull/1682#issuecomment-433209009","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1682","id":433209009,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzIwOTAwOQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-25T21:17:22Z","updated_at":"2018-10-25T21:17:22Z","author_association":"CONTRIBUTOR","body":"Ah you're right. It was mostly a capabilities thing.  I just wanted to call it out in the PR so it's visible. As the old thing has the (confusing) \"features\" name.\r\n\r\nMaybe it would be good to replace the old thing with this?  The \"config\" capabilities thing was a quick adhock thing, this seems better designed.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433209009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433357720","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-433357720","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":433357720,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzM1NzcyMA==","user":{"login":"ktaragorn","id":2549496,"node_id":"MDQ6VXNlcjI1NDk0OTY=","avatar_url":"https://avatars.githubusercontent.com/u/2549496?v=4","gravatar_id":"","url":"https://api.github.com/users/ktaragorn","html_url":"https://github.com/ktaragorn","followers_url":"https://api.github.com/users/ktaragorn/followers","following_url":"https://api.github.com/users/ktaragorn/following{/other_user}","gists_url":"https://api.github.com/users/ktaragorn/gists{/gist_id}","starred_url":"https://api.github.com/users/ktaragorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktaragorn/subscriptions","organizations_url":"https://api.github.com/users/ktaragorn/orgs","repos_url":"https://api.github.com/users/ktaragorn/repos","events_url":"https://api.github.com/users/ktaragorn/events{/privacy}","received_events_url":"https://api.github.com/users/ktaragorn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-26T10:04:53Z","updated_at":"2018-10-26T10:04:53Z","author_association":"NONE","body":"> There is a note in the local.ini file that reads:\r\n> \r\n> ```\r\n> ; If you set this to true, you should also uncomment the WWW-Authenticate line\r\n> ; above. If you don't configure a WWW-Authenticate header, CouchDB will send\r\n> ; Basic realm=\"server\" in order to prevent you getting logged out.\r\n> ```\r\n> \r\n> You have to do both, otherwise you don't get the browser popup window for realm authentication. A correct configuration for CouchDB 2.1.1 is:\r\n> \r\n> ```\r\n> [httpd]\r\n> WWW-Authenticate = Basic realm=\"administrator\"\r\n> [chttpd]\r\n> require_valid_user = true\r\n> ```\r\n> \r\n> I have tested this locally and this resolves the problem.\r\n> \r\n> It helps to read the fine documentation we've written ;)\r\n\r\nIt is now working as expected once I followed this config. But neither the cookbook or the fauxton UI mentions this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433357720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433479838","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-433479838","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":433479838,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzQ3OTgzOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-26T17:14:44Z","updated_at":"2018-10-26T17:14:44Z","author_association":"MEMBER","body":"The cookbook isn't intended to cover every possible configuration approach, nor is Fauxton.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433479838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433805928","html_url":"https://github.com/apache/couchdb/issues/869#issuecomment-433805928","issue_url":"https://api.github.com/repos/apache/couchdb/issues/869","id":433805928,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzgwNTkyOA==","user":{"login":"iugo","id":499364,"node_id":"MDQ6VXNlcjQ5OTM2NA==","avatar_url":"https://avatars.githubusercontent.com/u/499364?v=4","gravatar_id":"","url":"https://api.github.com/users/iugo","html_url":"https://github.com/iugo","followers_url":"https://api.github.com/users/iugo/followers","following_url":"https://api.github.com/users/iugo/following{/other_user}","gists_url":"https://api.github.com/users/iugo/gists{/gist_id}","starred_url":"https://api.github.com/users/iugo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iugo/subscriptions","organizations_url":"https://api.github.com/users/iugo/orgs","repos_url":"https://api.github.com/users/iugo/repos","events_url":"https://api.github.com/users/iugo/events{/privacy}","received_events_url":"https://api.github.com/users/iugo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T06:56:16Z","updated_at":"2018-10-29T06:56:16Z","author_association":"NONE","body":"https://github.com/apache/couchdb-docker/issues/113","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433805928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433896521","html_url":"https://github.com/apache/couchdb/pull/1683#issuecomment-433896521","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1683","id":433896521,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzg5NjUyMQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T12:45:58Z","updated_at":"2018-10-29T12:45:58Z","author_association":"MEMBER","body":"@iilyak I've extracted `increment_local_doc_revs` into a separate function as you suggested. Can you take a look, please, if this is what you had in mind?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433896521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433899488","html_url":"https://github.com/apache/couchdb/pull/1683#issuecomment-433899488","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1683","id":433899488,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzg5OTQ4OA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T12:56:11Z","updated_at":"2018-10-29T12:56:11Z","author_association":"CONTRIBUTOR","body":"Perfect. Thank you @eiri.  ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433899488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433996071","html_url":"https://github.com/apache/couchdb/issues/1704#issuecomment-433996071","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1704","id":433996071,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzk5NjA3MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T17:11:53Z","updated_at":"2018-10-29T17:11:53Z","author_association":"MEMBER","body":"@eiri note that Jenkins is passing recently, all the time. If you're trying to reproduce this, maybe try on a heavily CPU-loaded or RAM-constrained system?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/433996071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434002919","html_url":"https://github.com/apache/couchdb/issues/1704#issuecomment-434002919","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1704","id":434002919,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDAwMjkxOQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T17:29:06Z","updated_at":"2018-10-29T17:29:06Z","author_association":"MEMBER","body":"@wohali Annoyingly this particular test fails for me locally 4 times out of 5, even on the current master, and my MBP not very starved on the resources. Initially I thought this is my local issue, something in my env, but now when I've seen the same failure on Travis, my guess is that this test just became finicky with some of the recent changes. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434002919/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434328919","html_url":"https://github.com/apache/couchdb/issues/1704#issuecomment-434328919","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1704","id":434328919,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDMyODkxOQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T14:43:18Z","updated_at":"2018-10-30T14:43:18Z","author_association":"MEMBER","body":"So, a minimal set of the js suites I can reproduce this with is `make javascript suites=coffee,compact,delayed_commits` which leads me to believe it triggered by some interaction between a compaction ran on a freshly built view (from `coffee` suite) and `delayed_commits`.\r\n\r\nMy guess is that there are a race somewhere that's _less_ visible on a setup with slower HD, that's why Jenkins not affected that much.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434328919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434388549","html_url":"https://github.com/apache/couchdb/issues/1705#issuecomment-434388549","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1705","id":434388549,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDM4ODU0OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T17:08:59Z","updated_at":"2018-10-30T17:08:59Z","author_association":"MEMBER","body":"Hi @thaddeusalbers, thanks for the report.\r\n\r\nYour server's proper `uuid` does not belong in default.ini; it is correct that default.ini have the line `uuid =`\r\n\r\nOn first run of CouchDB, if no UUID is present in the ini file chain, a new UUID will be placed into `local.ini`, _e.g._ `uuid = e8fed9265f8a5684d28ade534215d2a2`.\r\n\r\nSo the question this ticket is raising is whether or not the UUID should be in the `GET /` response or not. I went back and built 2.0.0 from sources, and it doesn't include the uuid in the response either: `{\"couchdb\":\"Welcome\",\"version\":\"2.0.0\",\"vendor\":{\"name\":\"The Apache Software Foundation\"}}`. So this is very likely a documentation regression bug when we did the 1.x -> 2.x upgrade path.\r\n\r\nI'll ask the rest of the team if there are any plans to return the UUID to `GET /`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434388549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434392216","html_url":"https://github.com/apache/couchdb/issues/1706#issuecomment-434392216","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1706","id":434392216,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDM5MjIxNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T17:18:31Z","updated_at":"2018-10-30T17:18:31Z","author_association":"MEMBER","body":"Hi @mariocasciaro ,\r\n\r\nThis means that your `couchjs` process - the external process to CouchDB that runs JavaScript for handling views - crashed.\r\n\r\nIf this happens repeatedly, you can temporarily increase your logging level to `debug` which should show exactly which doc out of which database is causing the crash. It could be any number of reasons, but the most likely issue is that you've blown out the JS stack. The default size is 64MB, or 67108864.\r\n\r\nThis can be increased by adding `-S <bigger number>` to the `couchjs` line in your `local.ini` file as follows:\r\n\r\n```\r\n[query_servers]\r\njavascript = ./bin/couchjs ./share/server/main.js -S 134217728\r\n```\r\n\r\nfor a 128MB stack.\r\n\r\nIf the problem recurs and this doesn't help, please ask to reopen this ticket.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434392216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434400773","html_url":"https://github.com/apache/couchdb/issues/1706#issuecomment-434400773","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1706","id":434400773,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQwMDc3Mw==","user":{"login":"mariocasciaro","id":105319,"node_id":"MDQ6VXNlcjEwNTMxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/105319?v=4","gravatar_id":"","url":"https://api.github.com/users/mariocasciaro","html_url":"https://github.com/mariocasciaro","followers_url":"https://api.github.com/users/mariocasciaro/followers","following_url":"https://api.github.com/users/mariocasciaro/following{/other_user}","gists_url":"https://api.github.com/users/mariocasciaro/gists{/gist_id}","starred_url":"https://api.github.com/users/mariocasciaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mariocasciaro/subscriptions","organizations_url":"https://api.github.com/users/mariocasciaro/orgs","repos_url":"https://api.github.com/users/mariocasciaro/repos","events_url":"https://api.github.com/users/mariocasciaro/events{/privacy}","received_events_url":"https://api.github.com/users/mariocasciaro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T17:41:58Z","updated_at":"2018-10-30T17:41:58Z","author_association":"NONE","body":"Hi Joan, thanks for the reply and for the workaround. What could cause the JS stack to \"blow out\", I mean is there anything we can do to avoid it in first instance?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434400773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434412323","html_url":"https://github.com/apache/couchdb/issues/1706#issuecomment-434412323","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1706","id":434412323,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQxMjMyMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T18:13:42Z","updated_at":"2018-10-30T18:13:42Z","author_association":"MEMBER","body":"Objects that JS allocates dynamically end up on the stack. A lot of temporary variables in your views, large list/structure manipulation, emit()ing very large objects, or tail-end recursion can all lead to this.\r\n\r\nFor complex JS views, upping the default stack size is a pretty normal thing.\r\n\r\nFor simple JS views, consider using [Mango](http://docs.couchdb.org/en/stable/api/database/find.html) instead.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434412323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434462981","html_url":"https://github.com/apache/couchdb/issues/776#issuecomment-434462981","issue_url":"https://api.github.com/repos/apache/couchdb/issues/776","id":434462981,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ2Mjk4MQ==","user":{"login":"AzfaarQureshi","id":20804975,"node_id":"MDQ6VXNlcjIwODA0OTc1","avatar_url":"https://avatars.githubusercontent.com/u/20804975?v=4","gravatar_id":"","url":"https://api.github.com/users/AzfaarQureshi","html_url":"https://github.com/AzfaarQureshi","followers_url":"https://api.github.com/users/AzfaarQureshi/followers","following_url":"https://api.github.com/users/AzfaarQureshi/following{/other_user}","gists_url":"https://api.github.com/users/AzfaarQureshi/gists{/gist_id}","starred_url":"https://api.github.com/users/AzfaarQureshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AzfaarQureshi/subscriptions","organizations_url":"https://api.github.com/users/AzfaarQureshi/orgs","repos_url":"https://api.github.com/users/AzfaarQureshi/repos","events_url":"https://api.github.com/users/AzfaarQureshi/events{/privacy}","received_events_url":"https://api.github.com/users/AzfaarQureshi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T20:45:23Z","updated_at":"2018-10-30T20:45:23Z","author_association":"NONE","body":"Hi,\r\n\r\nI think I'm having a similar issue where the following snippet is repeatedly posted to the logs:\r\n\r\n```logs\r\n[info] 2018-10-30T15:38:32.533128Z nonode@nohost <0.32529.1> -------- Index shutdown by monitor notice for db: shards/80000000-9fffffff/_replicator.1540909992 idx: _design/_replicator\r\n[info] 2018-10-30T15:38:32.534371Z nonode@nohost <0.32529.1> -------- Closing index for db: shards/80000000-9fffffff/_replicator.1540909992 idx: _design/_replicator sig: \"3e823c2a4383ac0c18d4e574135a5b08\" because normal\r\n[info] 2018-10-30T15:41:30.620214Z nonode@nohost <0.4769.2> -------- Opening index for db: shards/80000000-9fffffff/_replicator.1540909992 idx: _design/_replicator sig: \"3e823c2a4383ac0c18d4e574135a5b08\"\r\n```\r\n\r\n>Root cause that replication fails is that you can't access CouchDB from off-machine. You should be able to, from another computer. hit http://:5984/ in a browser or with curl and see a response.\r\n\r\nit was mentioned in an earlier comment that it could be a configuration issue. I can connect to couchdb using localhost (`curl http://127.0.0.1:5984/_utils/#verifyinstall` returns no error) however I cannot connect from outside the VM. \r\n\r\nWhich configuration parameters could I be missing? Any help would be much appreciated, thanks :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434462981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434471659","html_url":"https://github.com/apache/couchdb/issues/776#issuecomment-434471659","issue_url":"https://api.github.com/repos/apache/couchdb/issues/776","id":434471659,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ3MTY1OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T21:12:41Z","updated_at":"2018-10-30T21:12:41Z","author_association":"MEMBER","body":"@AzfaarQureshi That logging in the logfile is *normal*.\r\n\r\nYou need to change your address binding; CouchDB binds to only 127.0.0.1 by default.\r\n\r\nFind the `[chttpd]` section in your `etc/local.ini` file and update as follows:\r\n\r\n```ini\r\n[chttpd]\r\n;port = 5984\r\nbind_address = 0.0.0.0\r\n```\r\n\r\nThis will bind CouchDB's clustered port to all interfaces on your machine.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434471659/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434759433","html_url":"https://github.com/apache/couchdb/issues/1705#issuecomment-434759433","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1705","id":434759433,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc1OTQzMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T16:39:52Z","updated_at":"2018-10-31T16:40:07Z","author_association":"MEMBER","body":"@thaddeusalbers This is indeed an inadvertent omission. You're the first person to notice! :)\r\n\r\nMarking as a bug and adding to our 2.3.0 milestone to be fixed.\r\n\r\nPointer: https://github.com/apache/couchdb/blob/master/src/chttpd/src/chttpd_misc.erl#L48-L60","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434759433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434960499","html_url":"https://github.com/apache/couchdb/pull/1682#issuecomment-434960499","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1682","id":434960499,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDk2MDQ5OQ==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T07:48:01Z","updated_at":"2018-11-01T07:48:01Z","author_association":"MEMBER","body":"@nickva just checking, are you happy with this PR? Are you ok with us merging it?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/434960499/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435056243","html_url":"https://github.com/apache/couchdb/pull/1682#issuecomment-435056243","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1682","id":435056243,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTA1NjI0Mw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T14:23:36Z","updated_at":"2018-11-01T14:23:36Z","author_association":"CONTRIBUTOR","body":"@garrensmith I didn't review the PR contents in detail so as far as that I am +0 so if you reviewed and looks good, go ahead and merge. \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435056243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435091432","html_url":"https://github.com/apache/couchdb/pull/1682#issuecomment-435091432","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1682","id":435091432,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTA5MTQzMg==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T16:06:21Z","updated_at":"2018-11-01T16:06:21Z","author_association":"MEMBER","body":"I think IIya wants to add one more thing before merging.\n\n________________________________\nFrom: Nick Vatamaniuc <notifications@github.com>\nSent: Thursday, November 1, 2018 4:46:18 PM\nTo: apache/couchdb\nCc: garren smith; Mention\nSubject: Re: [apache/couchdb] Feature flags (#1682)\n\n\n@garrensmith<https://github.com/garrensmith> I didn't review the PR contents in detail so as far as that I am +0 so if you reviewed and looks good, go ahead and merge.\n\n\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub<https://github.com/apache/couchdb/pull/1682#issuecomment-435056243>, or mute the thread<https://github.com/notifications/unsubscribe-auth/AAK9An81IkitazaMSLLhWB6JfF7OQb-oks5uqwk6gaJpZM4X6XHv>.\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435091432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435341739","html_url":"https://github.com/apache/couchdb/pull/1708#issuecomment-435341739","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1708","id":435341739,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM0MTczOQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T10:53:09Z","updated_at":"2018-11-02T10:53:09Z","author_association":"CONTRIBUTOR","body":"The tests for welcome message are here https://github.com/apache/couchdb/blob/master/src/chttpd/test/chttpd_welcome_test.erl\r\n\r\nTests can be run individually using \r\n```\r\nmake eunit apps=chttpd tests=welcome_test_\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435341739/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435379691","html_url":"https://github.com/apache/couchdb/pull/1708#issuecomment-435379691","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1708","id":435379691,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM3OTY5MQ==","user":{"login":"Ryan-Gordon","id":11082710,"node_id":"MDQ6VXNlcjExMDgyNzEw","avatar_url":"https://avatars.githubusercontent.com/u/11082710?v=4","gravatar_id":"","url":"https://api.github.com/users/Ryan-Gordon","html_url":"https://github.com/Ryan-Gordon","followers_url":"https://api.github.com/users/Ryan-Gordon/followers","following_url":"https://api.github.com/users/Ryan-Gordon/following{/other_user}","gists_url":"https://api.github.com/users/Ryan-Gordon/gists{/gist_id}","starred_url":"https://api.github.com/users/Ryan-Gordon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ryan-Gordon/subscriptions","organizations_url":"https://api.github.com/users/Ryan-Gordon/orgs","repos_url":"https://api.github.com/users/Ryan-Gordon/repos","events_url":"https://api.github.com/users/Ryan-Gordon/events{/privacy}","received_events_url":"https://api.github.com/users/Ryan-Gordon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T13:26:58Z","updated_at":"2018-11-02T13:26:58Z","author_association":"CONTRIBUTOR","body":"Thank you @iilyak for your suggestion and help. I removed the list_to_binary conversion and now all tests pass! ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435379691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435448212","html_url":"https://github.com/apache/couchdb/issues/1707#issuecomment-435448212","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1707","id":435448212,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ0ODIxMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T17:12:54Z","updated_at":"2018-11-02T17:12:54Z","author_association":"MEMBER","body":"This is not a CouchDB bug.\r\n\r\nYou have five options:\r\n\r\n1. Using the `stale=ok` option to querying your view, the response will not wait for the view to finish building.\r\n1. Improve system performance (faster CPU, more RAM, HDD --> SSD --> NVMe)\r\n1. Force index updating ASAP on a cronjob or similar so that when queries are made to the view, it is already built\r\n1. Delay compaction so that it only occurs outside of application usage hours. Put the setting in your `local.ini` file, [here is the documentation in `default.ini`](https://github.com/apache/couchdb/blob/master/rel/overlay/etc/default.ini#L457-L533).\r\n1. Consider moving to [Mango](http://docs.couchdb.org/en/stable/api/database/find.html) from JavaScript views, as these do not require an external process and are much faster than their equivalent JS view.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435448212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435451191","html_url":"https://github.com/apache/couchdb/issues/1710#issuecomment-435451191","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1710","id":435451191,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ1MTE5MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T17:24:08Z","updated_at":"2018-11-02T17:24:08Z","author_association":"MEMBER","body":"Unfortunately, this is not going to happen. For a detailed technical explanation as to why, see #592 and #831, and [this mailing list thread](https://lists.apache.org/thread.html/516793df0c1913c045441d0ff78339f307e2aff517d9223da44edd9e@%3Cdev.couchdb.apache.org%3E).\r\n\r\nThe good news is that you CAN achieve what you're trying to do without polling the database. The current recommendation for this functionality is to use a [Mango selector as a filter on the `_changes` feed](http://docs.couchdb.org/en/stable/api/database/changes.html?highlight=selector#selector), which will run significantly faster than the equivalent JavaScript `_changes` feed filter.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435451191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435451779","html_url":"https://github.com/apache/couchdb/pull/1708#issuecomment-435451779","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1708","id":435451779,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ1MTc3OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T17:26:16Z","updated_at":"2018-11-02T17:26:16Z","author_association":"MEMBER","body":"@Ryan-Gordon Thank you very much for your first contribution to CouchDB! :confetti_ball: \r\n\r\nIt would be nice if you could add a new test to the test suite that actually confirms the UUID is included before we merge this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435451779/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435453316","html_url":"https://github.com/apache/couchdb/pull/1708#issuecomment-435453316","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1708","id":435453316,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ1MzMxNg==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T17:31:33Z","updated_at":"2018-11-02T17:31:33Z","author_association":"CONTRIBUTOR","body":"@Ryan-Gordon in addition to new test please squash commits into one, before we merge. Thank you for you contribution. Please don't hesitate to reach out to me if you would have any difficulties with writing the test case.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435453316/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435455787","html_url":"https://github.com/apache/couchdb/issues/1711#issuecomment-435455787","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1711","id":435455787,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ1NTc4Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T17:40:13Z","updated_at":"2018-11-02T17:40:13Z","author_association":"MEMBER","body":"@kennsippell I think you left the `;` at the end of your cookie, try taking that off?\r\n\r\nCan you include a full example of the commands you're using? I'm unable to reproduce - here's my worked example following along with [our documentation](http://docs.couchdb.org/en/stable/intro/security.html#cookie-authentication):\r\n\r\n```bash\r\n$ curl localhost:15984/\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0-f350d5f5d\",\"git_sha\":\"f350d5f5d\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n$ curl localhost:15984/_users\r\n{\"db_name\":\"_users\",\"purge_seq\":\"0-g1AAAAFDeJzLYWBg4MhgTmHgz8tPSTV0MDQy1zMAQsMcoARTHguQZGgAUv___5-flciAU2WSApBMsgcqw6cKYt4DiHl4VSYlgMyrJ8q8AxDz7hNWuQCicj9emx1ANscTsDmRIUkeoiQLAMIZVnY\",\"update_seq\":\"1-g1AAAAFDeJzLYWBg4MhgTmHgz8tPSTV0MDQy1zMAQsMcoARTIkOS_P___7MSGXAqSVIAkkn2hFQ5gFTFg1Ux4laVAFJVT8CsPBYgydAApIAK5xNWuQCicj9hlQcgKu8TVvkAohLkziwAHyFWdw\",\"sizes\":{\"file\":38110,\"external\":5361,\"active\":2322},\"other\":{\"data_size\":5361},\"doc_del_count\":0,\"doc_count\":1,\"disk_size\":38110,\"disk_format_version\":7,\"data_size\":2322,\"compact_running\":false,\"cluster\":{\"q\":8,\"n\":1,\"w\":1,\"r\":1},\"instance_start_time\":\"0\"}\r\n$ curl -X PUT localhost:15984/_users/org.couchdb.user:wohali \\\r\n>   -H \"Accept: application/json\" \\\r\n>   -H \"Content-Type: application/json\" \\\r\n>   -d '{\"name\": \"wohali\", \"password\": \"apple\", \"roles\": [], \"type\": \"user\"}'\r\n{\"ok\":true,\"id\":\"org.couchdb.user:wohali\",\"rev\":\"1-eeaf91cbeec553b1bb511be8e209bfda\"}\r\n$ curl -vX POST localhost:15984/_session   -H \"Content-Type: application/x-www-form-urlencoded\"   -d \"name=wohali&password=apple\"\r\nNote: Unnecessary use of -X or --request, POST is already inferred.\r\n*   Trying ::1...\r\n* TCP_NODELAY set\r\n* connect to ::1 port 15984 failed: Connection refused\r\n*   Trying 127.0.0.1...\r\n* TCP_NODELAY set\r\n* Connected to localhost (127.0.0.1) port 15984 (#0)\r\n> POST /_session HTTP/1.1\r\n> Host: localhost:15984\r\n> User-Agent: curl/7.52.1\r\n> Accept: */*\r\n> Content-Type: application/x-www-form-urlencoded\r\n> Content-Length: 26\r\n>\r\n* upload completely sent off: 26 out of 26 bytes\r\n< HTTP/1.1 200 OK\r\n< Cache-Control: must-revalidate\r\n< Content-Length: 39\r\n< Content-Type: application/json\r\n< Date: Fri, 02 Nov 2018 17:37:35 GMT\r\n< Server: CouchDB/2.2.0-f350d5f5d (Erlang OTP/19)\r\n< Set-Cookie: AuthSession=d29oYWxpOjVCREM4QjVGOt5WmL3C4JxHbMDbyBtF6zLDQhnJ; Version=1; Path=/; HttpOnly\r\n<\r\n{\"ok\":true,\"name\":\"wohali\",\"roles\":[]}\r\n* Curl_http_done: called premature == 0\r\n* Connection #0 to host localhost left intact\r\n$ curl -vX PUT localhost:15984/mydatabase \\\r\n>   --cookie AuthSession=d29oYWxpOjVCREM4QjVGOt5WmL3C4JxHbMDbyBtF6zLDQhnJ \\\r\n>   -H \"X-CouchDB-WWW-Authenticate: Cookie\" \\\r\n>   -H \"Content-Type:application/x-www-form-urlencoded\"\r\n*   Trying ::1...\r\n* TCP_NODELAY set\r\n* connect to ::1 port 15984 failed: Connection refused\r\n*   Trying 127.0.0.1...\r\n* TCP_NODELAY set\r\n* Connected to localhost (127.0.0.1) port 15984 (#0)\r\n> PUT /mydatabase HTTP/1.1\r\n> Host: localhost:15984\r\n> User-Agent: curl/7.52.1\r\n> Accept: */*\r\n> Cookie: AuthSession=d29oYWxpOjVCREM4QjVGOt5WmL3C4JxHbMDbyBtF6zLDQhnJ\r\n> X-CouchDB-WWW-Authenticate: Cookie\r\n> Content-Type:application/x-www-form-urlencoded\r\n>\r\n< HTTP/1.1 401 Unauthorized\r\n< Cache-Control: must-revalidate\r\n< Content-Length: 64\r\n< Content-Type: application/json\r\n< Date: Fri, 02 Nov 2018 17:38:55 GMT\r\n< Server: CouchDB/2.2.0-f350d5f5d (Erlang OTP/19)\r\n< Set-Cookie: AuthSession=d29oYWxpOjVCREM4QkIwOsxazK0odiw0o-B2dPfhC8wrdxQS; Version=1; Path=/; HttpOnly\r\n< WWW-Authenticate: Cookie\r\n< X-Couch-Request-ID: 2b2016a76b\r\n< X-CouchDB-Body-Time: 0\r\n<\r\n{\"error\":\"unauthorized\",\"reason\":\"You are not a server admin.\"}\r\n* Curl_http_done: called premature == 0\r\n* Connection #0 to host localhost left intact\r\n```\r\n\r\nOK, so I tried something for which I'm not authorized, but it did work.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435455787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435466203","html_url":"https://github.com/apache/couchdb/pull/1708#issuecomment-435466203","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1708","id":435466203,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ2NjIwMw==","user":{"login":"Ryan-Gordon","id":11082710,"node_id":"MDQ6VXNlcjExMDgyNzEw","avatar_url":"https://avatars.githubusercontent.com/u/11082710?v=4","gravatar_id":"","url":"https://api.github.com/users/Ryan-Gordon","html_url":"https://github.com/Ryan-Gordon","followers_url":"https://api.github.com/users/Ryan-Gordon/followers","following_url":"https://api.github.com/users/Ryan-Gordon/following{/other_user}","gists_url":"https://api.github.com/users/Ryan-Gordon/gists{/gist_id}","starred_url":"https://api.github.com/users/Ryan-Gordon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ryan-Gordon/subscriptions","organizations_url":"https://api.github.com/users/Ryan-Gordon/orgs","repos_url":"https://api.github.com/users/Ryan-Gordon/repos","events_url":"https://api.github.com/users/Ryan-Gordon/events{/privacy}","received_events_url":"https://api.github.com/users/Ryan-Gordon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T18:19:02Z","updated_at":"2018-11-02T18:19:02Z","author_association":"CONTRIBUTOR","body":"Hello  \r\n\r\nI just wrote a test case for this UUID which is very similar to the `should_have_version` test in the same file. If the tests pass happy to have the commits squashed into 1\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435466203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435468939","html_url":"https://github.com/apache/couchdb/pull/1708#issuecomment-435468939","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1708","id":435468939,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ2ODkzOQ==","user":{"login":"Ryan-Gordon","id":11082710,"node_id":"MDQ6VXNlcjExMDgyNzEw","avatar_url":"https://avatars.githubusercontent.com/u/11082710?v=4","gravatar_id":"","url":"https://api.github.com/users/Ryan-Gordon","html_url":"https://github.com/Ryan-Gordon","followers_url":"https://api.github.com/users/Ryan-Gordon/followers","following_url":"https://api.github.com/users/Ryan-Gordon/following{/other_user}","gists_url":"https://api.github.com/users/Ryan-Gordon/gists{/gist_id}","starred_url":"https://api.github.com/users/Ryan-Gordon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ryan-Gordon/subscriptions","organizations_url":"https://api.github.com/users/Ryan-Gordon/orgs","repos_url":"https://api.github.com/users/Ryan-Gordon/repos","events_url":"https://api.github.com/users/Ryan-Gordon/events{/privacy}","received_events_url":"https://api.github.com/users/Ryan-Gordon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T18:29:01Z","updated_at":"2018-11-02T18:29:01Z","author_association":"CONTRIBUTOR","body":"@iilyak So I tried to squash on my own side and what I managed was rolling back 3 commits, committing as one and then a 2nd commit to merge branch\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435468939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435479582","html_url":"https://github.com/apache/couchdb/issues/1707#issuecomment-435479582","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1707","id":435479582,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ3OTU4Mg==","user":{"login":"jliu1970","id":27738059,"node_id":"MDQ6VXNlcjI3NzM4MDU5","avatar_url":"https://avatars.githubusercontent.com/u/27738059?v=4","gravatar_id":"","url":"https://api.github.com/users/jliu1970","html_url":"https://github.com/jliu1970","followers_url":"https://api.github.com/users/jliu1970/followers","following_url":"https://api.github.com/users/jliu1970/following{/other_user}","gists_url":"https://api.github.com/users/jliu1970/gists{/gist_id}","starred_url":"https://api.github.com/users/jliu1970/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jliu1970/subscriptions","organizations_url":"https://api.github.com/users/jliu1970/orgs","repos_url":"https://api.github.com/users/jliu1970/repos","events_url":"https://api.github.com/users/jliu1970/events{/privacy}","received_events_url":"https://api.github.com/users/jliu1970/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T19:09:39Z","updated_at":"2018-11-02T19:09:39Z","author_association":"NONE","body":"Thanks for the recommendations, Joan.\nJimmy\n\n\nOn Fri, Nov 2, 2018 at 1:26 PM Joan Touzet <notifications@github.com> wrote:\n\n> This is not a CouchDB bug.\n>\n> You have five options:\n>\n>    1. Using the stale=ok option to querying your view, the response will\n>    not wait for the view to finish building.\n>    2. Improve system performance (faster CPU, more RAM, HDD --> SSD -->\n>    NVMe)\n>    3. Force index updating ASAP on a cronjob or similar so that when\n>    queries are made to the view, it is already built\n>    4. Delay compaction so that it only occurs outside of application\n>    usage hours. Put the setting in your local.ini file, here is the\n>    documentation in default.ini\n>    <https://github.com/apache/couchdb/blob/master/rel/overlay/etc/default.ini#L457-L533>\n>    .\n>    5. Consider moving to Mango\n>    <http://docs.couchdb.org/en/stable/api/database/find.html> from\n>    JavaScript views, as these do not require an external process and are much\n>    faster than their equivalent JS view.\n>\n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/couchdb/issues/1707#issuecomment-435448212>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/Aac_y5A-MN-42MGpkLyv01NJcY2P_Kc7ks5urI5vgaJpZM4YKZ9l>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435479582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435490094","html_url":"https://github.com/apache/couchdb/pull/1708#issuecomment-435490094","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1708","id":435490094,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ5MDA5NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T19:52:02Z","updated_at":"2018-11-02T19:52:02Z","author_association":"MEMBER","body":"@Ryan-Gordon Don't worry about the squashing, I can do that when I merge your changes into `master` with the big \"Squash and merge\" button. But if you'd like help on git commands, come visit `#couchdb-dev` on Freenode IRC and someone can walk you through it.  Or, [this tutorial](http://gitready.com/advanced/2009/02/10/squashing-commits-with-rebase.html) might help, it's the one I learned from originally.\r\n\r\nLooks like your test passed! Are you ready for me to merge this now?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435490094/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435501356","html_url":"https://github.com/apache/couchdb/pull/1708#issuecomment-435501356","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1708","id":435501356,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTUwMTM1Ng==","user":{"login":"Ryan-Gordon","id":11082710,"node_id":"MDQ6VXNlcjExMDgyNzEw","avatar_url":"https://avatars.githubusercontent.com/u/11082710?v=4","gravatar_id":"","url":"https://api.github.com/users/Ryan-Gordon","html_url":"https://github.com/Ryan-Gordon","followers_url":"https://api.github.com/users/Ryan-Gordon/followers","following_url":"https://api.github.com/users/Ryan-Gordon/following{/other_user}","gists_url":"https://api.github.com/users/Ryan-Gordon/gists{/gist_id}","starred_url":"https://api.github.com/users/Ryan-Gordon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ryan-Gordon/subscriptions","organizations_url":"https://api.github.com/users/Ryan-Gordon/orgs","repos_url":"https://api.github.com/users/Ryan-Gordon/repos","events_url":"https://api.github.com/users/Ryan-Gordon/events{/privacy}","received_events_url":"https://api.github.com/users/Ryan-Gordon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T20:36:23Z","updated_at":"2018-11-02T20:36:43Z","author_association":"CONTRIBUTOR","body":"Ahhh yes, the Squash and merge is what im most familiar with ! \r\nCool I'll check out the tutorial and maybe join the IRC anyways\r\nYes all ready to merge ! \r\n@wohali ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435501356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435618633","html_url":"https://github.com/apache/couchdb/issues/1711#issuecomment-435618633","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1711","id":435618633,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTYxODYzMw==","user":{"login":"kennsippell","id":9014751,"node_id":"MDQ6VXNlcjkwMTQ3NTE=","avatar_url":"https://avatars.githubusercontent.com/u/9014751?v=4","gravatar_id":"","url":"https://api.github.com/users/kennsippell","html_url":"https://github.com/kennsippell","followers_url":"https://api.github.com/users/kennsippell/followers","following_url":"https://api.github.com/users/kennsippell/following{/other_user}","gists_url":"https://api.github.com/users/kennsippell/gists{/gist_id}","starred_url":"https://api.github.com/users/kennsippell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kennsippell/subscriptions","organizations_url":"https://api.github.com/users/kennsippell/orgs","repos_url":"https://api.github.com/users/kennsippell/repos","events_url":"https://api.github.com/users/kennsippell/events{/privacy}","received_events_url":"https://api.github.com/users/kennsippell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-03T20:32:24Z","updated_at":"2018-11-03T20:33:31Z","author_association":"NONE","body":"So... I lied. It wasn't a clean&empty database. Definitely my mistake there. I had more in there than I was aware of.\r\n\r\nI have a repro on a fresh install with my configuration/ddocs. I'm basically running the script you have above in a loop with 15kb payload per inserted document. It fails after about 750 iterations (9MB database). I'll continue to dig in to see if I can isolate particular aspects of the configuration which make this worse.\r\n\r\nBut I'll rephrase my issue -- how did you arrive at 600 as the default value for timeout and do you have any guidance on when to adjust this?  Maybe you have some reference material or pointers to info about it that I haven't seen in your docs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435618633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435620768","html_url":"https://github.com/apache/couchdb/issues/1711#issuecomment-435620768","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1711","id":435620768,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTYyMDc2OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-03T21:04:14Z","updated_at":"2018-11-03T21:04:14Z","author_association":"MEMBER","body":"@kennsippell By default, a `_session`  token is valid for 10 minutes. CouchDB cookies are stateless, meaning we do not store the session information on the server *at all*. The 10 minute / 600 second setting is in `default.ini`, you can override it in `local.ini` with:\r\n\r\n```ini\r\n[couch_httpd_auth]\r\ntimeout = 3600 ; or whatever number of seconds you want\r\n```\r\n\r\nI presume your 750 iterations don't take the full 10 minutes?\r\n\r\nIf this is an actual bug we'll need your full configuration and test script to reproduce. Thank you for working to make that as minimal as possible! :handshake: ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435620768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435649256","html_url":"https://github.com/apache/couchdb/issues/1711#issuecomment-435649256","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1711","id":435649256,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTY0OTI1Ng==","user":{"login":"kennsippell","id":9014751,"node_id":"MDQ6VXNlcjkwMTQ3NTE=","avatar_url":"https://avatars.githubusercontent.com/u/9014751?v=4","gravatar_id":"","url":"https://api.github.com/users/kennsippell","html_url":"https://github.com/kennsippell","followers_url":"https://api.github.com/users/kennsippell/followers","following_url":"https://api.github.com/users/kennsippell/following{/other_user}","gists_url":"https://api.github.com/users/kennsippell/gists{/gist_id}","starred_url":"https://api.github.com/users/kennsippell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kennsippell/subscriptions","organizations_url":"https://api.github.com/users/kennsippell/orgs","repos_url":"https://api.github.com/users/kennsippell/repos","events_url":"https://api.github.com/users/kennsippell/events{/privacy}","received_events_url":"https://api.github.com/users/kennsippell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-04T07:43:17Z","updated_at":"2018-11-04T07:43:17Z","author_association":"NONE","body":"User Error! Thanks for helping me through it.\r\n\r\nFeedback -- found [this](http://docs.couchdb.org/en/stable/config/auth.html#couch_httpd_auth/timeout) a bit vague.\r\n\r\n`timeout = Number of seconds since the last request before sessions will be expired.`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435649256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435933284","html_url":"https://github.com/apache/couchdb/issues/1712#issuecomment-435933284","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1712","id":435933284,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTkzMzI4NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T16:12:30Z","updated_at":"2018-11-05T16:12:30Z","author_association":"MEMBER","body":"@tudordumitriu Are you running a cluster of 2.2.0 machines (3 nodes) or a single node?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435933284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435934682","html_url":"https://github.com/apache/couchdb/issues/1713#issuecomment-435934682","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1713","id":435934682,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTkzNDY4Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T16:16:11Z","updated_at":"2018-11-05T16:16:11Z","author_association":"MEMBER","body":"Hi @sklassen , thanks for bringing this issue over to this repository. Unfortunately this isn't all the context :) (Others, see https://github.com/apache/couchdb-pkg/pull/27 for more detail.)\r\n\r\nThe alarm warnings are innocuous - those come directly from Erlang. We can't suppress them.\r\n\r\nWhat's concerning is the malfunction of the compactor daemon when it's being run from a read-only volume (like `/snap`). What you're sharing with us indicates that in this scenario, the compaction daemon never compacts any database.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435934682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435945259","html_url":"https://github.com/apache/couchdb/issues/1713#issuecomment-435945259","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1713","id":435945259,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk0NTI1OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T16:43:36Z","updated_at":"2018-11-05T16:46:27Z","author_association":"MEMBER","body":"Per @sklassen's [update](https://github.com/apache/couchdb-pkg/pull/27#issuecomment-435941673) the compaction daemon IS working, the nuisance is the alarming over the read-only volumes. I see no options in [`disksup`](http://erlang.org/doc/man/disksup.html) (also see [here](https://github.com/erlang/otp/blob/d6285b0a347b9489ce939511ee9a979acd868f71/lib/os_mon/doc/src/disksup.xml)) to change this behaviour. I'll check upstream with Erlang but we may be out of luck here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435945259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435984845","html_url":"https://github.com/apache/couchdb/issues/1713#issuecomment-435984845","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1713","id":435984845,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk4NDg0NQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T18:35:46Z","updated_at":"2018-11-05T18:35:46Z","author_association":"MEMBER","body":"If push come to shove it's possible to add `-os_mon start_disksup false` into `vm.args` to prevent `disksup` from starting at all. Why is it such a big deal? iirc we do not set alarm handlers on any of os_mon processes, so those are nothing, but harmless log warnings.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/435984845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]