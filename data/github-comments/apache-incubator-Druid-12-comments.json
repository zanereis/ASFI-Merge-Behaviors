[{"url":"https://api.github.com/repos/apache/druid/issues/comments/71691440","html_url":"https://github.com/apache/druid/pull/1063#issuecomment-71691440","issue_url":"https://api.github.com/repos/apache/druid/issues/1063","id":71691440,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjkxNDQw","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-27T17:39:22Z","updated_at":"2015-01-27T17:39:22Z","author_association":"MEMBER","body":"adding a unit test was not trivial due to guice injections and dependency on indexing service modules, have added an integration-test for reIngestion to verify the fix and ingestSegmentFirehose. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71691440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71691748","html_url":"https://github.com/apache/druid/pull/1063#issuecomment-71691748","issue_url":"https://api.github.com/repos/apache/druid/issues/1063","id":71691748,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjkxNzQ4","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-27T17:41:12Z","updated_at":"2015-01-27T17:41:12Z","author_association":"MEMBER","body":"protobufParser uses mapParser under the hood, so dimensionExclusions are good there\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71691748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71695846","html_url":"https://github.com/apache/druid/pull/1067#issuecomment-71695846","issue_url":"https://api.github.com/repos/apache/druid/issues/1067","id":71695846,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjk1ODQ2","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-27T18:02:54Z","updated_at":"2015-01-27T18:02:54Z","author_association":"MEMBER","body":"squash commits please\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71695846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71711953","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-71711953","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":71711953,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzExOTUz","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-27T19:32:40Z","updated_at":"2015-01-27T19:32:40Z","author_association":"CONTRIBUTOR","body":"@xvrl : updated to use striped locks when adding a new dimension.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71711953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71714321","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-71714321","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":71714321,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzE0MzIx","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-27T19:45:41Z","updated_at":"2015-01-27T19:45:41Z","author_association":"MEMBER","body":"I think those improvements are worthwhile, but I would prefer to wait until 0.7.0 is released before merging this, to avoid introducing potential bugs at the last minute.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71714321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71745540","html_url":"https://github.com/apache/druid/issues/1069#issuecomment-71745540","issue_url":"https://api.github.com/repos/apache/druid/issues/1069","id":71745540,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzQ1NTQw","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-27T22:52:18Z","updated_at":"2015-01-27T22:52:18Z","author_association":"CONTRIBUTOR","body":"Fixed by cd9ba1f85225c1d54b646e2fdb1cb8ace08d3b45\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71745540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71746151","html_url":"https://github.com/apache/druid/pull/995#issuecomment-71746151","issue_url":"https://api.github.com/repos/apache/druid/issues/995","id":71746151,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzQ2MTUx","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-27T22:56:17Z","updated_at":"2015-01-27T22:56:17Z","author_association":"CONTRIBUTOR","body":"@cheddar Apparently #1014 is not fixed by this pull request. I am +1 on merging this pull request as it makes progress on how Druid handles nulls, but there are still numerous problems with handling nulls and empty strings in Druid and I think we should consider fixing them sooner rather than later.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71746151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71747929","html_url":"https://github.com/apache/druid/pull/995#issuecomment-71747929","issue_url":"https://api.github.com/repos/apache/druid/issues/995","id":71747929,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzQ3OTI5","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-27T23:06:41Z","updated_at":"2015-01-27T23:06:41Z","author_association":"CONTRIBUTOR","body":"Can this get squashed/rebased before merging?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71747929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71762802","html_url":"https://github.com/apache/druid/pull/995#issuecomment-71762802","issue_url":"https://api.github.com/repos/apache/druid/issues/995","id":71762802,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzYyODAy","user":{"login":"nebrera","id":1210762,"node_id":"MDQ6VXNlcjEyMTA3NjI=","avatar_url":"https://avatars.githubusercontent.com/u/1210762?v=4","gravatar_id":"","url":"https://api.github.com/users/nebrera","html_url":"https://github.com/nebrera","followers_url":"https://api.github.com/users/nebrera/followers","following_url":"https://api.github.com/users/nebrera/following{/other_user}","gists_url":"https://api.github.com/users/nebrera/gists{/gist_id}","starred_url":"https://api.github.com/users/nebrera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nebrera/subscriptions","organizations_url":"https://api.github.com/users/nebrera/orgs","repos_url":"https://api.github.com/users/nebrera/repos","events_url":"https://api.github.com/users/nebrera/events{/privacy}","received_events_url":"https://api.github.com/users/nebrera/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T01:07:56Z","updated_at":"2015-01-28T01:07:56Z","author_association":"CONTRIBUTOR","body":"Actually we are having this problems with null handlers answering wrong\ndata when I query or filter this dimensions with null values.\n\nwhenever you merge it let me know and I will test it on our labs\n\nThanks for all\n\nPablo Nebrera\n\n---\n\nPablo Nebrera Herrera\n_Chief Architect_\nredborder.net  / pablonebrera@redborder.net\nMobile: +34 685 48 39 44\nPhone: +34 955 60 11 60\n\nhttps://twitter.com/redBorder_net\nhttps://plus.google.com/u/0/b/115823750653188478256/115823750653188478256/posts\n  https://www.linkedin.com/company/redborder\n\nPiénsalo antes de imprimir este mensaje\n\nEste correo electrónico, incluidos sus anexos, se dirige exclusivamente a\nsu destinatario. Contiene información CONFIDENCIAL cuya divulgación está\nprohibida por la ley o puede estar sometida a secreto profesional. Si ha\nrecibido este mensaje por error, le rogamos nos lo comunique inmediatamente\ny proceda a su destrucción.\n\nThis email, including attachments, is intended exclusively for its\naddressee. It contains information that is CONFIDENTIAL whose disclosure is\nprohibited by law and may be covered by legal privilege. If you have\nreceived this email in error, please notify the sender and delete it from\nyour system.\n\n2015-01-27 23:56 GMT+01:00 Fangjin Yang notifications@github.com:\n\n> @cheddar https://github.com/cheddar Apparently #1014\n> https://github.com/druid-io/druid/issues/1014 is not fixed by this pull\n> request. I am +1 on merging this pull request as it makes progress on how\n> Druid handles nulls, but there are still numerous problems with handling\n> nulls and empty strings in Druid and I think we should consider fixing them\n> sooner rather than later.\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/druid-io/druid/pull/995#issuecomment-71746151.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71762802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71774830","html_url":"https://github.com/apache/druid/pull/1070#issuecomment-71774830","issue_url":"https://api.github.com/repos/apache/druid/issues/1070","id":71774830,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzc0ODMw","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T03:22:58Z","updated_at":"2015-01-28T03:22:58Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71774830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71781638","html_url":"https://github.com/apache/druid/issues/1014#issuecomment-71781638","issue_url":"https://api.github.com/repos/apache/druid/issues/1014","id":71781638,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzgxNjM4","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T05:04:29Z","updated_at":"2015-01-28T05:04:29Z","author_association":"CONTRIBUTOR","body":"Is this query a topN query?  A groupBy?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71781638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71781731","html_url":"https://github.com/apache/druid/pull/995#issuecomment-71781731","issue_url":"https://api.github.com/repos/apache/druid/issues/995","id":71781731,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzgxNzMx","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T05:05:56Z","updated_at":"2015-01-28T05:05:56Z","author_association":"CONTRIBUTOR","body":"@drcrallen yes, it can, but only when there's actually some indication that the code could get merged.  I'm not interested in wasting time making it mergeable again only to have more merge conflicts introduced later down the line because the PR cannot be merged for political reasons.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71781731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71784694","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-71784694","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":71784694,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzg0Njk0","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T05:48:48Z","updated_at":"2015-01-28T05:48:48Z","author_association":"CONTRIBUTOR","body":"From looking at the IncrementalIndex code, it seems like the off heap version was implemented by sub-classing and attempting to extract out common operations.  Just from my perusal of the IncrementalIndex here, there's a comment about how a race condition cannot actually be resolved because we cannot make assumptions about how the thing is being stored.  That is the exact type of thing that these classes **_should**_ be able to make assumptions about and have very strong control over.\n\nThere was a question of benchmarks in the comments here, the answer was that on-heap and off-heap are not equivalent.  Can some numbers be provided that show that the equivalence is due to off-heap being sped up rather than IncrementalIndex being slowed down (I'm specifically hoping for a comparison against 0.6 before the inheritance structure was added, fwiw).\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71784694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71787928","html_url":"https://github.com/apache/druid/issues/1053#issuecomment-71787928","issue_url":"https://api.github.com/repos/apache/druid/issues/1053","id":71787928,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzg3OTI4","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T06:33:47Z","updated_at":"2015-01-28T06:33:47Z","author_association":"MEMBER","body":"Hi luxec, \nwhat is the partitionsSpec you are using ? \nwhy are the partition number starting from 2 ? \nhave you manually deleted or modified any partitions entry in mysql ? \nIt looks like the NPE might have been caused by not having metadata about all the partitions. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71787928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71788552","html_url":"https://github.com/apache/druid/issues/1053#issuecomment-71788552","issue_url":"https://api.github.com/repos/apache/druid/issues/1053","id":71788552,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzg4NTUy","user":{"login":"luxuec","id":10591336,"node_id":"MDQ6VXNlcjEwNTkxMzM2","avatar_url":"https://avatars.githubusercontent.com/u/10591336?v=4","gravatar_id":"","url":"https://api.github.com/users/luxuec","html_url":"https://github.com/luxuec","followers_url":"https://api.github.com/users/luxuec/followers","following_url":"https://api.github.com/users/luxuec/following{/other_user}","gists_url":"https://api.github.com/users/luxuec/gists{/gist_id}","starred_url":"https://api.github.com/users/luxuec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luxuec/subscriptions","organizations_url":"https://api.github.com/users/luxuec/orgs","repos_url":"https://api.github.com/users/luxuec/repos","events_url":"https://api.github.com/users/luxuec/events{/privacy}","received_events_url":"https://api.github.com/users/luxuec/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T06:41:53Z","updated_at":"2015-01-28T06:41:53Z","author_association":"NONE","body":"This is because I use below shardSpec in real time kafka ingestion,\n\n```\n        \"shardSpec\": {\n            \"type\": \"linear\",\n            \"partitionNum\": 2\n        }\n```\n\nAlso attach Eric's response here:\nhttps://groups.google.com/d/msg/druid-development/k-Q-Rj52czk/AOLtNu0Dr1kJ\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71788552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71876467","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-71876467","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":71876467,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODc2NDY3","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T17:24:26Z","updated_at":"2015-01-28T17:24:26Z","author_association":"CONTRIBUTOR","body":"@cheddar : I think the race condition statement you're talking about is @ https://github.com/druid-io/druid/pull/1065/files#diff-fad6cc02072961726a132f05cac7abbfR489 Which, after looking back at it again, I think it _can_ be solved in a method similar to the dimension race condition. My original concern was that the rows could be quite large and I wouldn't want to risk having a striping map try to hold too many values. But if the striping map is only based on a mod of hash (or similar, I'll have to double-check) then that should be fine, because there can be a high, but bound, number of stripes such that they tend not to collide across threads, unless they're supposed to. I'll look at putting in the change.\n\nFor further clarity on the comment, the statement was that the row race might not be able to be resolved in the exact manner as the dimension race, not that it didn't guarantee handling the race properly.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71876467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71885923","html_url":"https://github.com/apache/druid/pull/1071#issuecomment-71885923","issue_url":"https://api.github.com/repos/apache/druid/issues/1071","id":71885923,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODg1OTIz","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T18:17:14Z","updated_at":"2015-01-28T18:17:14Z","author_association":"MEMBER","body":"Thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71885923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71924832","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-71924832","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":71924832,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTI0ODMy","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T21:56:12Z","updated_at":"2015-01-28T22:34:44Z","author_association":"CONTRIBUTOR","body":"Single-segment TPCH 1GB scans over simple long/double sum metrics shows ~30% speedup on low cardinality group-by on heap vs 0.6.x.\n\nMulti-segment shows same result, just shy of 30% speedup for both on heap and off heap on low cardinality dimension.\n\nHere's my group by test query for those interested:\n\n```\n{\n  \"queryType\"  : \"groupBy\",\n  \"dataSource\" : \"test_06x\",\n  \"granularity\": \"all\",\n  \"dimension\":\"l_orderkey\",\n  \"dimensions\":[\"l_linenumber\"],\n  \"metric\":\"L_TAX_\",\n  \"context\":{\"useCache\":false,\"populateCache\":false,\"bySegment\":false, \"finalize\":true, \"useOffheap\":true},\n  \"aggregations\":[\n    { \"type\": \"doubleSum\",   \"name\": \"L_TAX_\",           \"fieldName\": \"l_tax_doublesum\" },\n    { \"type\": \"doubleSum\",   \"name\": \"L_DISCOUNT_\",      \"fieldName\": \"l_discount_doublesum\" },\n    { \"type\": \"doubleSum\",   \"name\": \"L_EXTENDEDPRICE_\", \"fieldName\": \"l_extendedprice_doublesum\" },\n    { \"type\": \"longSum\",     \"name\": \"L_QUANTITY_\",      \"fieldName\": \"l_quantity_longsum\" },\n    { \"type\": \"count\",       \"name\": \"count\" }\n  ],\n  \"intervals\": [ \"1900-01-09T00:00:00.000Z/2992-01-10T00:00:00.000Z\" ]\n}\n```\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71924832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71937237","html_url":"https://github.com/apache/druid/issues/1062#issuecomment-71937237","issue_url":"https://api.github.com/repos/apache/druid/issues/1062","id":71937237,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTM3MjM3","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T23:14:50Z","updated_at":"2015-01-28T23:14:50Z","author_association":"CONTRIBUTOR","body":"#1065 is a major PR on the ingestion side of things which is likely part of this.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71937237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/71941185","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-71941185","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":71941185,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTQxMTg1","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T23:44:54Z","updated_at":"2015-01-28T23:44:54Z","author_association":"CONTRIBUTOR","body":"Travis CI failure is independent of this PR: `testRun(io.druid.server.bridge.DruidClusterBridgeTest): Unable to become leader`  Closing and reopening to try and kick off CI again.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/71941185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72052646","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72052646","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72052646,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDUyNjQ2","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T16:15:23Z","updated_at":"2015-01-29T16:15:23Z","author_association":"CONTRIBUTOR","body":"@drcrallen That is the line that caused me to really think about it yes.  And, it's great that you were able to employ the same method for both implementations, but I still wonder if we shouldn't have two separate implementations, each taking advantage of all assumptions possibly available about how things are stored in order to get the best performance.\n\nThe original IncrementalIndex tried to take advantage of that stuff as much as possible.  It just seems like starting with trying to hold to an arbitrary abstraction here is actually only going to harm performance rather than help it, which is why I'm interested in a comparison of the 0.7 IncrementalIndex versus the 0.6 IncrementalIndex.  If that comparison was already done previously, that's great, I just ask that those numbers can be shared.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72052646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72065232","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72065232","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72065232,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDY1MjMy","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T17:19:18Z","updated_at":"2015-01-29T17:29:54Z","author_association":"MEMBER","body":"@cheddar I believe Charles already addressed the performance question in his earlier comment https://github.com/druid-io/druid/pull/1065#issuecomment-71236610. I believe @drcrallen also had some benchmarks specific to IncrementalIndex alone, but they may not be as relevant if the bottleneck is elsewhere.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72065232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72068962","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72068962","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72068962,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDY4OTYy","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T17:39:29Z","updated_at":"2015-01-29T17:39:29Z","author_association":"CONTRIBUTOR","body":"@cheddar :  @xvrl is correct, the benchmarks of 0.6.x vs this patch are listed in the prior comment. I also updated the PR master comment to reflect the results.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72068962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72072888","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72072888","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72072888,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDcyODg4","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T18:02:40Z","updated_at":"2015-01-29T18:02:40Z","author_association":"CONTRIBUTOR","body":"@cheddar : I also updated the master comment with more info regarding testing vs master.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72072888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72073073","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72073073","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72073073,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDczMDcz","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T18:03:49Z","updated_at":"2015-01-29T18:03:49Z","author_association":"CONTRIBUTOR","body":"Cool!  How does it affect high-cardinality stuff?  Like, say, a groupBy that returns 3~4 dimensions and a ~500k row result size?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72073073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72073692","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72073692","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72073692,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDczNjky","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T18:07:21Z","updated_at":"2015-01-29T18:07:21Z","author_association":"CONTRIBUTOR","body":"@cheddar I can try and test that on the TPCH data.\n\nJust so I make sure I understand what you're asking:\n\nYou want a groupBy that groups over multiple dimensions and yields results which are on the order of 500k rows?\n\nThe tricky part is going to be figuring out how to get the right result size without using things which are known to dominate query time (like regex filters)\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72073692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72075042","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72075042","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72075042,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDc1MDQy","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T18:15:22Z","updated_at":"2015-01-29T18:15:22Z","author_association":"CONTRIBUTOR","body":"oh! found one.\n\n`\"dimensions\":[\"l_linenumber\", \"l_suppkey\", \"l_shipmode\", \"l_returnflag \"]` yields ~485k results\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72075042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72082618","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72082618","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72082618,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDgyNjE4","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T18:58:43Z","updated_at":"2015-01-29T18:58:54Z","author_association":"CONTRIBUTOR","body":"OffHeap performance is much worse than on-heap for big row counts. Part of the reason is mapDB seems to like to `clear()` a map by iterating through each key and removing it from the BTree instead of just dropping the tree in a more \"nobody cares what happens just drop it NOW\" kind of way.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72082618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72099677","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72099677","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72099677,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDk5Njc3","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T20:39:25Z","updated_at":"2015-01-29T20:39:25Z","author_association":"CONTRIBUTOR","body":"@drcrallen what about when you compare against the 0.6 IncrementalIndex?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72099677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72101951","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72101951","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72101951,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTAxOTUx","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T20:53:45Z","updated_at":"2015-01-29T20:56:04Z","author_association":"CONTRIBUTOR","body":"@cheddar Thanks for the good tip. After the latest minor changes to enhance a few speed paths, the results are as follows:\n\n2 Standard deviation limits over ~10 queries:\nOn Heap Master: 27.1 ~ 29.9 seconds\nOn Heap (this PR) : 28.7 ~ 30.3 seconds\n\nPretty close, and considering I didn't normalize for my flaky laptop frequency governing, I'm not sure if I can say for certain either way. Simple t-test favors master though.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72101951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72109225","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72109225","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72109225,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTA5MjI1","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T21:37:56Z","updated_at":"2015-01-29T21:37:56Z","author_association":"MEMBER","body":"I don't know if this PR is the right place to discuss this, but my bigger concerns about off-heap access would surround the memory guarantees we have when writing concurrently to the direct bytebuffer.\nEven if we don't write to the same memory location, we may be subject to word tearing, which could lead to corruption for adjacent aggregator buffers, and updates to bytebuffers may not be atomic, which could lead to issues for concurrent scans as well.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72109225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72113744","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72113744","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72113744,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTEzNzQ0","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T22:04:44Z","updated_at":"2015-01-29T22:04:44Z","author_association":"CONTRIBUTOR","body":"@cheddar : I don't have a good way to compare 0.6.x to master. I looked at it for a bit, but there are just too many changes in how the facts table is handled.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72113744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72116308","html_url":"https://github.com/apache/druid/pull/234#issuecomment-72116308","issue_url":"https://api.github.com/repos/apache/druid/issues/234","id":72116308,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTE2MzA4","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T22:21:00Z","updated_at":"2015-01-29T22:21:00Z","author_association":"MEMBER","body":"Hi @kOD-dKOD, I know it's been a while, but now that we have support for pluggable storage modules, would you be interested in re-submitting a new PR with the Rackspace stuff? You can have a look at the [S3 extensions](https://github.com/druid-io/druid/tree/master/extensions/s3-extensions/src/main/java/io/druid/storage/s3) and [HDFS storage module](https://github.com/druid-io/druid/tree/master/extensions/hdfs-storage) for examples on how to make yours pluggable.\n\nI'm going to close this PR in the meantime, but feel free to comment.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72116308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72140228","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-72140228","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":72140228,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTQwMjI4","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-30T01:45:54Z","updated_at":"2015-01-30T01:45:54Z","author_association":"CONTRIBUTOR","body":"Ok, after some testing and simple benchmarking, I have a version which has group by performance for on-heap indistinguishable from `mater`, and significantly faster than 0.6.x.\n\nI do not have the capacity to test specifically the incremental index against the 0.6.x branch.\n\nOff-heap technically \"works\", but it's very poor performing for big group-by queries. It might still be used for indexing though, if desired and properly benchmarked.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72140228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72282038","html_url":"https://github.com/apache/druid/pull/1072#issuecomment-72282038","issue_url":"https://api.github.com/repos/apache/druid/issues/1072","id":72282038,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjgyMDM4","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-30T22:32:06Z","updated_at":"2015-01-30T22:32:06Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72282038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72347568","html_url":"https://github.com/apache/druid/pull/1076#issuecomment-72347568","issue_url":"https://api.github.com/repos/apache/druid/issues/1076","id":72347568,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzQ3NTY4","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-01T02:12:27Z","updated_at":"2015-02-01T02:12:27Z","author_association":"CONTRIBUTOR","body":"Two things on this commit.\n\n1) I'd like to request that we don't merge it until I've had a chance to merge in our current working branch.  I've already backed out the ThreadLocal changes there and am worried about losing important things in figuring out the merge conflicts\n\n2) I think this patch takes a step closer to a less-invasive strategy for implementing the reuse of the buffer as well caching.  But, I think there's a cleaner implementation yet.  Specifically, I propose adding a method to the Indexed interface which is something like\n\n```\npublic Indexed singleThreaded()\n```\n\nThat essentially returns an object which is \"optimized\" given the knowledge that it is running off of a single thread.  That method call could essentially create a new Indexed object that wraps a reference to a single copy of the ByteBuffer which it reuses.\n\nWe can then move the caching behavior completely out of the Indexed and use composition.  I.e. make a `CachingIndexed` which wraps the object in an implementation that does caching.\n\nThis structure has added benefits in that the ColumnConfig no longer needs to be pushed down so far into the segment loading code and can instead be used at a much higher level.  Also, each part should be easier to unit test, I think.\n\nLastly, just a note, but if you are ever taking one interface, attaching the \"Closeable\" interface to it and making a new \"CloseableXYZ\" interface, you are going to eventually leak resources.  As a pattern, it should never be followed.  The reason is that implementations of `CloseableXYZ` are also implementations of `XYZ`, at some point they will be passed as just an `XYZ` instead of a `CloseableXYZ` losing the information that there is a `close()` method that needs to be dealt with.  If the interface needs a `close()` method, then **_all**_ implementations of it need a close() method.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72347568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72486042","html_url":"https://github.com/apache/druid/pull/1044#issuecomment-72486042","issue_url":"https://api.github.com/repos/apache/druid/issues/1044","id":72486042,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDg2MDQy","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-02T16:23:27Z","updated_at":"2015-02-02T16:23:27Z","author_association":"CONTRIBUTOR","body":"Fixes #1045 via https://github.com/metamx/druid/commit/60e065db5be152c1f6674322e3e032df16018341\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72486042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72487096","html_url":"https://github.com/apache/druid/pull/1077#issuecomment-72487096","issue_url":"https://api.github.com/repos/apache/druid/issues/1077","id":72487096,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDg3MDk2","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-02T16:28:55Z","updated_at":"2015-02-02T16:28:55Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72487096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72512834","html_url":"https://github.com/apache/druid/pull/1077#issuecomment-72512834","issue_url":"https://api.github.com/repos/apache/druid/issues/1077","id":72512834,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTEyODM0","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-02T18:44:37Z","updated_at":"2015-02-02T18:44:37Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72512834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72532858","html_url":"https://github.com/apache/druid/pull/1076#issuecomment-72532858","issue_url":"https://api.github.com/repos/apache/druid/issues/1076","id":72532858,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTMyODU4","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-02T20:38:02Z","updated_at":"2015-02-02T20:38:02Z","author_association":"MEMBER","body":"@cheddar I believe the latest revision addresses your comments\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72532858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72558105","html_url":"https://github.com/apache/druid/pull/1076#issuecomment-72558105","issue_url":"https://api.github.com/repos/apache/druid/issues/1076","id":72558105,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTU4MTA1","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-02T23:05:03Z","updated_at":"2015-02-02T23:05:03Z","author_association":"CONTRIBUTOR","body":"While this PR is a step forward, two more things should be done:\n\n1) Adding `singleThreaded` to the Indexed interface and moving the usage code out of the Column\n2) The removal of `ColumnConfig` and all of the cruft it added to the Index loading code\n\nRight now, this PR is mixing concerns by putting all of the caching into the columns \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72558105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72562955","html_url":"https://github.com/apache/druid/pull/1076#issuecomment-72562955","issue_url":"https://api.github.com/repos/apache/druid/issues/1076","id":72562955,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTYyOTU1","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-02T23:41:14Z","updated_at":"2015-02-02T23:41:14Z","author_association":"MEMBER","body":"Regarding 1), the column cache currently relies on the size of values in the buffer as a shorthand to determine object sizes, so it is currently tied to GenericIndexed, and so it might not be straightforward to add `singleThreaded` to the Indexed interface.\n\nI would prefer to do 2) as a separate PR to make the change in behavior clear. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72562955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72564680","html_url":"https://github.com/apache/druid/pull/1076#issuecomment-72564680","issue_url":"https://api.github.com/repos/apache/druid/issues/1076","id":72564680,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTY0Njgw","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-02T23:54:56Z","updated_at":"2015-02-02T23:54:56Z","author_association":"CONTRIBUTOR","body":"+1 while I agree with @cheddar that some of this logic should be reworked, I think this PR makes progress on fixing an existing memory leak and we can work on some of @cheddar's comments in a future PR. I would want an issue filed for this work though, so we don't just forget about it.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72564680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72564740","html_url":"https://github.com/apache/druid/pull/1076#issuecomment-72564740","issue_url":"https://api.github.com/repos/apache/druid/issues/1076","id":72564740,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTY0NzQw","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-02T23:55:25Z","updated_at":"2015-02-02T23:55:25Z","author_association":"CONTRIBUTOR","body":"Hrm, ok, yeah, I can see your point.  I'm down with doing this for now and then following up in another PR to clean up various aspects.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72564740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72589072","html_url":"https://github.com/apache/druid/pull/1076#issuecomment-72589072","issue_url":"https://api.github.com/repos/apache/druid/issues/1076","id":72589072,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTg5MDcy","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-03T04:02:42Z","updated_at":"2015-02-03T04:02:42Z","author_association":"CONTRIBUTOR","body":"Please remember to file an issue.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72589072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72591905","html_url":"https://github.com/apache/druid/pull/1044#issuecomment-72591905","issue_url":"https://api.github.com/repos/apache/druid/issues/1044","id":72591905,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTkxOTA1","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-03T04:42:41Z","updated_at":"2015-02-03T04:42:41Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72591905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72606610","html_url":"https://github.com/apache/druid/pull/1079#issuecomment-72606610","issue_url":"https://api.github.com/repos/apache/druid/issues/1079","id":72606610,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjA2NjEw","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-03T07:32:21Z","updated_at":"2015-02-03T07:32:21Z","author_association":"MEMBER","body":"how about using https://github.com/amjjd/java-alphanum for alphanumeric sort?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72606610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72701480","html_url":"https://github.com/apache/druid/pull/1080#issuecomment-72701480","issue_url":"https://api.github.com/repos/apache/druid/issues/1080","id":72701480,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNzAxNDgw","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-03T18:03:11Z","updated_at":"2015-02-03T18:03:11Z","author_association":"MEMBER","body":"Looks good, do you mind squashing your commits and I'll merge\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72701480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72717834","html_url":"https://github.com/apache/druid/pull/1080#issuecomment-72717834","issue_url":"https://api.github.com/repos/apache/druid/issues/1080","id":72717834,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNzE3ODM0","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-03T19:32:11Z","updated_at":"2015-02-03T19:32:11Z","author_association":"MEMBER","body":"squashed. :)\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72717834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72746812","html_url":"https://github.com/apache/druid/issues/1084#issuecomment-72746812","issue_url":"https://api.github.com/repos/apache/druid/issues/1084","id":72746812,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNzQ2ODEy","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-03T22:13:38Z","updated_at":"2015-02-03T22:13:38Z","author_association":"MEMBER","body":"can you provide more specifics?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72746812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72864754","html_url":"https://github.com/apache/druid/issues/1086#issuecomment-72864754","issue_url":"https://api.github.com/repos/apache/druid/issues/1086","id":72864754,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODY0NzU0","user":{"login":"schapirama","id":57937,"node_id":"MDQ6VXNlcjU3OTM3","avatar_url":"https://avatars.githubusercontent.com/u/57937?v=4","gravatar_id":"","url":"https://api.github.com/users/schapirama","html_url":"https://github.com/schapirama","followers_url":"https://api.github.com/users/schapirama/followers","following_url":"https://api.github.com/users/schapirama/following{/other_user}","gists_url":"https://api.github.com/users/schapirama/gists{/gist_id}","starred_url":"https://api.github.com/users/schapirama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schapirama/subscriptions","organizations_url":"https://api.github.com/users/schapirama/orgs","repos_url":"https://api.github.com/users/schapirama/repos","events_url":"https://api.github.com/users/schapirama/events{/privacy}","received_events_url":"https://api.github.com/users/schapirama/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-04T14:40:42Z","updated_at":"2015-02-04T14:40:42Z","author_association":"NONE","body":"![image](https://cloud.githubusercontent.com/assets/57937/6042270/97788ae0-ac83-11e4-9081-c51a0f169acb.png)\n\n![image](https://cloud.githubusercontent.com/assets/57937/6042332/13db92a8-ac84-11e4-97e2-2cda18c5ee7b.png)\n\n![image](https://cloud.githubusercontent.com/assets/57937/6042340/25ced0c4-ac84-11e4-9ea5-c4499cced8fd.png)\n\nTiny pics... but they show that the queried segments are indeed historical (right?)\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72864754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72919314","html_url":"https://github.com/apache/druid/issues/1086#issuecomment-72919314","issue_url":"https://api.github.com/repos/apache/druid/issues/1086","id":72919314,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTE5MzE0","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-04T19:18:18Z","updated_at":"2015-02-04T19:18:18Z","author_association":"MEMBER","body":"Hi @schapirama, the ability to query the `__time` column is available in Druid 0.7 but has not been back-ported to 0.6. We can look into back-porting the feature, but you might be better off trying 0.7.0-rc2 if you are still experimenting. Apologies for the confusion.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72919314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72990459","html_url":"https://github.com/apache/druid/pull/1091#issuecomment-72990459","issue_url":"https://api.github.com/repos/apache/druid/issues/1091","id":72990459,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkwNDU5","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T03:59:06Z","updated_at":"2015-02-05T03:59:06Z","author_association":"CONTRIBUTOR","body":"On second thought, this might better be handled through injection of the `GuiceInjectableValues` and using that directly instead of resorting to reflection.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72990459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72990878","html_url":"https://github.com/apache/druid/pull/1091#issuecomment-72990878","issue_url":"https://api.github.com/repos/apache/druid/issues/1091","id":72990878,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkwODc4","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T04:04:35Z","updated_at":"2015-02-05T04:04:35Z","author_association":"CONTRIBUTOR","body":"Opening new PR with different fix approach\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72990878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/72996471","html_url":"https://github.com/apache/druid/pull/1092#issuecomment-72996471","issue_url":"https://api.github.com/repos/apache/druid/issues/1092","id":72996471,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTk2NDcx","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T05:28:24Z","updated_at":"2015-02-05T05:28:24Z","author_association":"CONTRIBUTOR","body":"It is worth noting some of the changes were from a blanket _reformat code..._ applied to the files that were touched.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/72996471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73035066","html_url":"https://github.com/apache/druid/issues/1082#issuecomment-73035066","issue_url":"https://api.github.com/repos/apache/druid/issues/1082","id":73035066,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDM1MDY2","user":{"login":"T0aD","id":827808,"node_id":"MDQ6VXNlcjgyNzgwOA==","avatar_url":"https://avatars.githubusercontent.com/u/827808?v=4","gravatar_id":"","url":"https://api.github.com/users/T0aD","html_url":"https://github.com/T0aD","followers_url":"https://api.github.com/users/T0aD/followers","following_url":"https://api.github.com/users/T0aD/following{/other_user}","gists_url":"https://api.github.com/users/T0aD/gists{/gist_id}","starred_url":"https://api.github.com/users/T0aD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/T0aD/subscriptions","organizations_url":"https://api.github.com/users/T0aD/orgs","repos_url":"https://api.github.com/users/T0aD/repos","events_url":"https://api.github.com/users/T0aD/events{/privacy}","received_events_url":"https://api.github.com/users/T0aD/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T11:56:16Z","updated_at":"2015-02-05T11:56:27Z","author_association":"NONE","body":"# Here are the logs of one of the segment that was handed off but not deleting on disk:\n\n2015-01-29 14:41:40,334 [myid:] - INFO  [supercell-2015-01-29T13:00:00.000Z-persist-n-merge:Logger@70] - Uploading [/var/druid-data/supercell/2015-01-\n29T13:00:00.000Z_2015-01-29T14:00:00.000Z/merged] to S3\n2015-01-29 14:41:40,334 [myid:] - INFO  [supercell-2015-01-29T13:00:00.000Z-persist-n-merge:Logger@70] - Adding file[/var/druid-data/supercell/2015-01\n-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/merged/version.bin] with size[4].  Total size so far[0]\n2015-01-29 14:41:40,335 [myid:] - INFO  [supercell-2015-01-29T13:00:00.000Z-persist-n-merge:Logger@70] - Adding file[/var/druid-data/supercell/2015-01\n-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/merged/00000.smoosh] with size[242,823,209].  Total size so far[4]\n2015-01-29 14:41:42,950 [myid:] - INFO  [HttpPostEmitter-1-0:ChannelResourceFactory@60] - Generating: http://logstash.vigiglo.be:8093\n2015-01-29 14:41:47,963 [myid:] - INFO  [HttpPostEmitter-1-0:ChannelResourceFactory@60] - Generating: http://logstash.vigiglo.be:8093\n2015-01-29 14:41:52,976 [myid:] - INFO  [HttpPostEmitter-1-0:ChannelResourceFactory@60] - Generating: http://logstash.vigiglo.be:8093\n2015-01-29 14:41:54,860 [myid:] - INFO  [supercell-2015-01-29T13:00:00.000Z-persist-n-merge:Logger@70] - Adding file[/var/druid-data/supercell/2015-01\n-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/merged/meta.smoosh] with size[13,362].  Total size so far[242,823,213]\n2015-01-29 14:41:55,140 [myid:] - INFO  [supercell-2015-01-29T13:00:00.000Z-persist-n-merge:Logger@70] - Pushing S3Object [key=supercell/2015-01-29T13\n:00:00.000Z_2015-01-29T14:00:00.000Z/2015-01-29T13:00:00.000Z/4/index.zip, bucket=XXXXX, lastModified=null, dataInputStream=null, Metadata={x-amz\n-acl=bucket-owner-full-control, Content-Length=89411661, Content-MD5=Scs48IZ5ZkhE2khVFaBLFA==, md5-hash=49cb38f08679664844da485515a04b14, Content-Type\n=application/zip}].\n2015-01-29 14:41:57,989 [myid:] - INFO  [HttpPostEmitter-1-0:ChannelResourceFactory@60] - Generating: http://logstash.vigiglo.be:8093\n2015-01-29 14:41:58,605 [myid:] - INFO  [supercell-2015-01-29T13:00:00.000Z-persist-n-merge:Logger@70] - Pushing S3Object [key=supercell/2015-01-29T13\n:00:00.000Z_2015-01-29T14:00:00.000Z/2015-01-29T13:00:00.000Z/4/descriptor.json, bucket=prod.druid, lastModified=null, dataInputStream=null, Metadata=\n{x-amz-acl=bucket-owner-full-control, Content-Length=7472, Content-MD5=XXXX, md5-hash=XXXX, Content-Ty\npe=application/octet-stream}]\n2015-01-29 14:41:58,665 [myid:] - INFO  [supercell-2015-01-29T13:00:00.000Z-persist-n-merge:Logger@70] - Deleting zipped index File[/tmp/druid62342780\n90180139006index.zip]\n2015-01-29 14:41:58,684 [myid:] - INFO  [supercell-2015-01-29T13:00:00.000Z-persist-n-merge:Logger@70] - Deleting descriptor file[/tmp/druid1834983339\n966338370descriptor.json]\n\n# du -sh /var/druid-data/supercell/*\n\n0   /var/druid-data/supercell/2015-01-28T19:00:00.000Z_2015-01-28T20:00:00.000Z\n0   /var/druid-data/supercell/2015-01-29T08:00:00.000Z_2015-01-29T09:00:00.000Z\n483M    /var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z\n497M    /var/druid-data/supercell/2015-01-29T15:00:00.000Z_2015-01-29T16:00:00.000Z\n2,3G    /var/druid-data/supercell/2015-01-29T17:00:00.000Z_2015-01-29T18:00:00.000Z\n876M    /var/druid-data/supercell/2015-01-29T18:00:00.000Z_2015-01-29T19:00:00.000Z\n[...]\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73035066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73049489","html_url":"https://github.com/apache/druid/issues/1082#issuecomment-73049489","issue_url":"https://api.github.com/repos/apache/druid/issues/1082","id":73049489,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ5NDg5","user":{"login":"T0aD","id":827808,"node_id":"MDQ6VXNlcjgyNzgwOA==","avatar_url":"https://avatars.githubusercontent.com/u/827808?v=4","gravatar_id":"","url":"https://api.github.com/users/T0aD","html_url":"https://github.com/T0aD","followers_url":"https://api.github.com/users/T0aD/followers","following_url":"https://api.github.com/users/T0aD/following{/other_user}","gists_url":"https://api.github.com/users/T0aD/gists{/gist_id}","starred_url":"https://api.github.com/users/T0aD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/T0aD/subscriptions","organizations_url":"https://api.github.com/users/T0aD/orgs","repos_url":"https://api.github.com/users/T0aD/repos","events_url":"https://api.github.com/users/T0aD/events{/privacy}","received_events_url":"https://api.github.com/users/T0aD/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T13:57:41Z","updated_at":"2015-02-05T13:57:41Z","author_association":"NONE","body":"I removed the empty / corrupted segment directories and relaunched the realtime node:\n\n2015-02-05 12:22:53,056 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/0]\n2015-02-05 12:22:53,285 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/1]\n2015-02-05 12:22:53,507 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/2]\n2015-02-05 12:22:53,746 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/3]\n2015-02-05 12:22:53,786 [myid:] - INFO  [ServerInventoryView-0:Logger@70] - CHILD_ADDED[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_4] with version[0]\n2015-02-05 12:22:54,006 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/4]\n2015-02-05 12:22:54,059 [myid:] - INFO  [ServerInventoryView-0:Logger@70] - CHILD_ADDED[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_3] with version[0]\n2015-02-05 12:22:54,136 [myid:] - INFO  [ServerInventoryView-0:Logger@70] - CHILD_ADDED[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_3] with version[0]\n2015-02-05 12:22:54,137 [myid:] - INFO  [ServerInventoryView-0:Logger@70] - CHILD_ADDED[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_4] with version[0]\n2015-02-05 12:22:54,190 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/5]\n2015-02-05 12:22:54,366 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/6]\n2015-02-05 12:22:54,483 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/7]\n2015-02-05 12:22:54,643 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/8]\n2015-02-05 12:22:54,828 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/9]\n2015-02-05 12:22:55,009 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/10]\n2015-02-05 12:22:55,193 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/11]\n2015-02-05 12:22:55,402 [myid:] - INFO  [chief-supercell:Logger@70] - Loading previously persisted segment at [/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/12]\n2015-02-05 12:22:55,660 [myid:] - INFO  [chief-supercell:Logger@70] - Announcing segment[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_4] to path[/druid/servedSegments/druid4.vigi:8083/supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_4]\n2015-02-05 12:22:55,674 [myid:] - INFO  [chief-supercell:Logger@70] - Announcing segment[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_4] at path[/druid/segments/druid4.vigi:8083/2015-02-05T12:22:55.673Z0]\n2015-02-05 12:22:55,678 [myid:] - INFO  [ServerInventoryView-0:Logger@70] - CHILD_ADDED[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_4] with version[0]\n\nNo cleanup of directory...\n\n# S3 state:\n\n$ ./s3cmd ls s3://prod.druid/supercell/ | grep 2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z\n                       DIR   s3://prod.druid/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/\n$ ./s3cmd du s3://prod.druid/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/\n197519582 s3://prod.druid/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/\n\n# On the historicals:\n\n ansible -i ./prod.hosts -m shell historical -a \"find /var/druid-historical/ -name '2015-01-29T13*'\"\ndruid5 | success | rc=0 >>\n/var/druid-historical/indexCache/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z\n/var/druid-historical/indexCache/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/2015-01-29T13:00:00.000Z\n\ndruid6 | success | rc=0 >>\n\ndruid8 | success | rc=0 >>\n/var/druid-historical/indexCache/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z\n/var/druid-historical/indexCache/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/2015-01-29T13:00:00.000Z\n\ndruid7 | success | rc=0 >>\n/var/druid-historical/indexCache/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z\n/var/druid-historical/indexCache/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/2015-01-29T13:00:00.000Z\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73049489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73086326","html_url":"https://github.com/apache/druid/pull/1092#issuecomment-73086326","issue_url":"https://api.github.com/repos/apache/druid/issues/1092","id":73086326,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDg2MzI2","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T17:16:35Z","updated_at":"2015-02-05T17:16:35Z","author_association":"CONTRIBUTOR","body":"TravisCI failed on unrelated code.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73086326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73092945","html_url":"https://github.com/apache/druid/issues/1082#issuecomment-73092945","issue_url":"https://api.github.com/repos/apache/druid/issues/1082","id":73092945,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDkyOTQ1","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T17:53:11Z","updated_at":"2015-02-05T17:53:11Z","author_association":"CONTRIBUTOR","body":"@T0aD \n\nCan you look in the coordinator logs to see if a segment that was not removed was announced there?\n\nI suspect it is given it shows up in our coordinator console, which leads me to believe there is something wrong with your realtime setup.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73092945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73120175","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73120175","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73120175,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTIwMTc1","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T20:27:09Z","updated_at":"2015-02-05T20:27:09Z","author_association":"CONTRIBUTOR","body":"TravisCI failed on unrelated code.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73120175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73138123","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73138123","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73138123,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM4MTIz","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T21:57:00Z","updated_at":"2015-02-05T21:57:00Z","author_association":"MEMBER","body":"I like the ability to have various underlying implementations, but in terms of usability I don't think the user necessarily needs to know or have to decide what the underlying implementation should be. That also makes it much easier to configure, so configuration parameters don't have to leak into the query. \n\nInstead, it would be nice if we just had a concept of \"lookup datasources\" the user can decide to use. However, how those lookup datasources are implemented should be configurable at deployment time.\n\nIf we need to support multiple implementations of lookups simultaneously, it might be useful to namespace those lookup datasources in a way that a user can choose which type to use. \n\nFor example, at configuration time we may define several namespaces:\n- namespace `userinfo` maps to a sql databse\n- namespace `userlog` maps to a kafka cluster\n\nAssuming the database contains two tables: `login` and `geo`, each with an `id` column and a few other associated lookup columns, then a user can:\n- use the lookup datasource `userinfo:login.email` to map user ids to their email\n- and `geo:countries.english` to map ISO country codes to their actual english names. \n\nUsing Kafka, the datasource name could correspond to topic names. Imagine there is a topic called `userstatus` with key being user id and value being the user's status, then we can map the user id to status by using the lookupdatasource `userlog:userstatus`.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73138123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73142098","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73142098","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73142098,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQyMDk4","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T22:18:19Z","updated_at":"2015-02-05T22:18:19Z","author_association":"CONTRIBUTOR","body":"I'm in agreement with @xvrl.  I think this is an awesome first implementation, but would like to see it a little more decoupled.\n\nI think we can achieve that by making the \"RenameManager\" a bit less tied to Kafka topics and specific implementations.  That is, what if RenameManager was\n\n```\npublic class RenameManager {\n  public RenameManager(Map<String, DimRenameFn>) {...}\n\n  DimRenameFn find(String name)\n}\n```\n\nThen at bootstrap time, we could have something that actually loads up dim extractors into a map and passes that in via DI.  The dim extraction function could refer to the \"table\" by name and just do the join through that.\n\nEach implementation of the extraction functions could have its own logic and just be registered with the RenameManager.  So, JDBC and Kafka would actually be behind the same interface and the question of what topic, etc. would be something pre-determined.\n\nI can imagine bootstrapping this with a big json object like\n\n```\n{\n   \"publisher\": { \"type\": \"kafka\", \"topic\": \"xyz\" ... },\n   \"advertiser\": { \"type\": \"jdbc\", \"url\": \"jdbc://blah/blah\" ... }\n}\n```\n\nDoes that seem reasonable/make sense/all that good stuff?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73142098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73144450","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73144450","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73144450,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ0NDUw","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T22:33:20Z","updated_at":"2015-02-05T22:33:20Z","author_association":"MEMBER","body":"@cheddar makes sense, although I would prefer to register namespaces as opposed to table names, in order to allow joining on new Kafka topics and tables names without having to restart servers.\nAlternatively, we could make the configuration dynamic.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73144450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73144492","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73144492","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73144492,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ0NDky","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T22:33:33Z","updated_at":"2015-02-05T22:33:33Z","author_association":"CONTRIBUTOR","body":"@cheddar : Yes that's pretty much what I was thinking after talking with @xvrl  as well.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73144492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73147975","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73147975","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73147975,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ3OTc1","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-05T22:56:01Z","updated_at":"2015-02-05T22:56:01Z","author_association":"CONTRIBUTOR","body":"I'm actually finding a bunch of tests which violate the specified interface on DimExtractionFn. Specifically that results are to never be returned as empty strings, but should instead be `null`. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73147975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73164161","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73164161","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73164161,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY0MTYx","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T01:15:35Z","updated_at":"2015-02-06T01:15:35Z","author_association":"CONTRIBUTOR","body":"@xvrl \n\nI agree on needing a more dynamic method of specifying the tables.  I kinda think we should move towards being able to configure them on the coordinator console in a dynamic, administrative fashion instead of making it purely query-driven.  This is to help protect the cluster in environments where there are significantly more people with the ability to query than the ability/know-how to administer.\n\nI'm willing to be convinced otherwise, but this generally seems like a place where latency concerns would mean that bootstrapping this stuff would be better done proactively (enabled by central configuration) rather than reactively to a query.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73164161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73167008","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73167008","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73167008,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY3MDA4","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T01:45:18Z","updated_at":"2015-02-06T01:45:18Z","author_association":"CONTRIBUTOR","body":"@cheddar  / @xvrl : added a new type [\"namespace\"](https://github.com/metamx/druid/blob/queryTimeLookup/processing/src/main/java/io/druid/query/extraction/namespace/NamespacedExtraction.java) which has the namespace mapping injected, but it is a concurrent map rather than some complex object and can take a null value just fine.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73167008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73167326","html_url":"https://github.com/apache/druid/issues/1094#issuecomment-73167326","issue_url":"https://api.github.com/repos/apache/druid/issues/1094","id":73167326,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY3MzI2","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T01:48:46Z","updated_at":"2015-02-06T01:48:46Z","author_association":"CONTRIBUTOR","body":"@drcrallen Did you read the comment above that test?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73167326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73226706","html_url":"https://github.com/apache/druid/issues/1082#issuecomment-73226706","issue_url":"https://api.github.com/repos/apache/druid/issues/1082","id":73226706,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjI2NzA2","user":{"login":"T0aD","id":827808,"node_id":"MDQ6VXNlcjgyNzgwOA==","avatar_url":"https://avatars.githubusercontent.com/u/827808?v=4","gravatar_id":"","url":"https://api.github.com/users/T0aD","html_url":"https://github.com/T0aD","followers_url":"https://api.github.com/users/T0aD/followers","following_url":"https://api.github.com/users/T0aD/following{/other_user}","gists_url":"https://api.github.com/users/T0aD/gists{/gist_id}","starred_url":"https://api.github.com/users/T0aD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/T0aD/subscriptions","organizations_url":"https://api.github.com/users/T0aD/orgs","repos_url":"https://api.github.com/users/T0aD/repos","events_url":"https://api.github.com/users/T0aD/events{/privacy}","received_events_url":"https://api.github.com/users/T0aD/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T12:00:17Z","updated_at":"2015-02-06T12:00:17Z","author_association":"NONE","body":"On cortex1: (master coordinator)\n\nroot@cortex1:/proc/31578/cwd# grep 2015-01-29T13:00:00.000Z_2015-01-29T14 ./stdout | awk -F' - ' '{print $3}' | grep ^Server\nServer[druid8.vigi:8081] added segment[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_3]\nServer[druid8.vigi:8081] added segment[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_4]\nServer[druid4.vigi:8083] added segment[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_4]\nServer[druid5.vigi:8081] added segment[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.000Z_3]\nServer[druid5.vigi:8081] added segment[supercell_2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z_2015-01-29T13:00:00.\n000Z_4]\n\nOn druid4 (realtime node):\n\n/var/druid-data/supercell/2015-01-29T13:00:00.000Z_2015-01-29T14:00:00.000Z/isPushedMarker\n\nSo it seems it was pushed but not cleaned up, and already stored in 2 historical nodes, I probably should just remove those segments .. ?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73226706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73236280","html_url":"https://github.com/apache/druid/issues/1082#issuecomment-73236280","issue_url":"https://api.github.com/repos/apache/druid/issues/1082","id":73236280,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM2Mjgw","user":{"login":"T0aD","id":827808,"node_id":"MDQ6VXNlcjgyNzgwOA==","avatar_url":"https://avatars.githubusercontent.com/u/827808?v=4","gravatar_id":"","url":"https://api.github.com/users/T0aD","html_url":"https://github.com/T0aD","followers_url":"https://api.github.com/users/T0aD/followers","following_url":"https://api.github.com/users/T0aD/following{/other_user}","gists_url":"https://api.github.com/users/T0aD/gists{/gist_id}","starred_url":"https://api.github.com/users/T0aD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/T0aD/subscriptions","organizations_url":"https://api.github.com/users/T0aD/orgs","repos_url":"https://api.github.com/users/T0aD/repos","events_url":"https://api.github.com/users/T0aD/events{/privacy}","received_events_url":"https://api.github.com/users/T0aD/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T13:31:22Z","updated_at":"2015-02-06T13:31:22Z","author_association":"NONE","body":"Since I don't have much time to investigate on the issue, I wrote a little helper script to move already pushed segments, please tell me if it sounds ok to you, thanks.\n\nhttps://gist.github.com/T0aD/9bf39f521c361321cd39\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73236280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73284544","html_url":"https://github.com/apache/druid/issues/1094#issuecomment-73284544","issue_url":"https://api.github.com/repos/apache/druid/issues/1094","id":73284544,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjg0NTQ0","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T18:09:24Z","updated_at":"2015-02-06T18:09:24Z","author_association":"CONTRIBUTOR","body":"I did now, but it's wrong if I'm reading DimExtractionFn correctly:\nhttps://github.com/druid-io/druid/blob/master/processing/src/main/java/io/druid/query/extraction/DimExtractionFn.java#L54\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73284544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73284731","html_url":"https://github.com/apache/druid/issues/1094#issuecomment-73284731","issue_url":"https://api.github.com/repos/apache/druid/issues/1094","id":73284731,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjg0NzMx","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T18:10:30Z","updated_at":"2015-02-06T18:10:30Z","author_association":"CONTRIBUTOR","body":"This is probably not something that needs fixed immediately, but if more errors start popping up regarding null handling at least there is a trail of evidence for things that need reconciled for a fix.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73284731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73321359","html_url":"https://github.com/apache/druid/pull/1097#issuecomment-73321359","issue_url":"https://api.github.com/repos/apache/druid/issues/1097","id":73321359,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzIxMzU5","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T22:05:22Z","updated_at":"2015-02-06T22:05:22Z","author_association":"CONTRIBUTOR","body":"@xvrl : have you been able to run an indexing task that was showing the error case, or otherwise add tests?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73321359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73322734","html_url":"https://github.com/apache/druid/pull/1097#issuecomment-73322734","issue_url":"https://api.github.com/repos/apache/druid/issues/1097","id":73322734,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzIyNzM0","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T22:14:41Z","updated_at":"2015-02-06T22:14:41Z","author_association":"MEMBER","body":"@drcrallen There was nothing wrong with the previous approach, it was just less efficient. I'm planning to run a job or two to see how much helps, but it'll be data dependent.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73322734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73326276","html_url":"https://github.com/apache/druid/pull/1097#issuecomment-73326276","issue_url":"https://api.github.com/repos/apache/druid/issues/1097","id":73326276,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzI2Mjc2","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T22:39:17Z","updated_at":"2015-02-06T22:39:17Z","author_association":"CONTRIBUTOR","body":"@xvrl I'm more concerned that this causes some other behavior to change, and I'm not familiar with our unit test coverage on the hadoop indexing stuff.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73326276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73330708","html_url":"https://github.com/apache/druid/pull/1097#issuecomment-73330708","issue_url":"https://api.github.com/repos/apache/druid/issues/1097","id":73330708,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzMwNzA4","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T23:13:00Z","updated_at":"2015-02-06T23:13:00Z","author_association":"MEMBER","body":"The sortKey in the SortableBytes is never used as part of the reducer, and `IndexGeneratorMapper` class is only used as part of this job, so it should only affect sorting in hadoop. The timestamp sorting is preserved like before, but truncated down to the rollup granularity, which should not be an issue. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73330708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73333231","html_url":"https://github.com/apache/druid/pull/1097#issuecomment-73333231","issue_url":"https://api.github.com/repos/apache/druid/issues/1097","id":73333231,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzMzMjMx","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-06T23:36:44Z","updated_at":"2015-02-06T23:36:44Z","author_association":"MEMBER","body":"I ran some index jobs with and without the patch, using artificially low rowFlushBoundary values to increase the chance of spilling more often. My dataset was not ideal, so the difference is not huge (141 spills with patch vs. 148 spills without) but it still makes a difference which could be much more noticeable for larger data sets.\n\nThe output indexes are identical when it comes to the inverted index, as well as time and dimension columns. There are some slight differences in the metrics due to floating point rounding errors on the order of 3e-06 at the most on one of the columns, which are inevitable due to the differences in merge order.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73333231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73341274","html_url":"https://github.com/apache/druid/pull/1098#issuecomment-73341274","issue_url":"https://api.github.com/repos/apache/druid/issues/1098","id":73341274,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzQxMjc0","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-07T01:04:23Z","updated_at":"2015-02-07T01:04:23Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73341274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73410735","html_url":"https://github.com/apache/druid/pull/1022#issuecomment-73410735","issue_url":"https://api.github.com/repos/apache/druid/issues/1022","id":73410735,"node_id":"MDEyOklzc3VlQ29tbWVudDczNDEwNzM1","user":{"login":"haoch","id":1282617,"node_id":"MDQ6VXNlcjEyODI2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1282617?v=4","gravatar_id":"","url":"https://api.github.com/users/haoch","html_url":"https://github.com/haoch","followers_url":"https://api.github.com/users/haoch/followers","following_url":"https://api.github.com/users/haoch/following{/other_user}","gists_url":"https://api.github.com/users/haoch/gists{/gist_id}","starred_url":"https://api.github.com/users/haoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haoch/subscriptions","organizations_url":"https://api.github.com/users/haoch/orgs","repos_url":"https://api.github.com/users/haoch/repos","events_url":"https://api.github.com/users/haoch/events{/privacy}","received_events_url":"https://api.github.com/users/haoch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-08T13:27:06Z","updated_at":"2015-02-08T13:27:06Z","author_association":"MEMBER","body":"Thanks @drcrallen \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73410735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73562855","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73562855","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73562855,"node_id":"MDEyOklzc3VlQ29tbWVudDczNTYyODU1","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-09T18:33:51Z","updated_at":"2015-02-09T18:33:51Z","author_association":"CONTRIBUTOR","body":"I'm closing this down temporarily while I address some comments.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73562855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73611248","html_url":"https://github.com/apache/druid/issues/1102#issuecomment-73611248","issue_url":"https://api.github.com/repos/apache/druid/issues/1102","id":73611248,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjExMjQ4","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-09T23:10:51Z","updated_at":"2015-02-09T23:10:51Z","author_association":"CONTRIBUTOR","body":"the differences in `query/time`, `query/wait` and `request/time` are not immediately clear. There has been internal rumblings about \"how can we make metrics better / more reasonable\" but it hasn't gotten much traction yet.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73611248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73613360","html_url":"https://github.com/apache/druid/issues/1102#issuecomment-73613360","issue_url":"https://api.github.com/repos/apache/druid/issues/1102","id":73613360,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjEzMzYw","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-09T23:25:37Z","updated_at":"2015-02-09T23:25:37Z","author_association":"CONTRIBUTOR","body":"@drcrallen that is definitely true with the current semantics.  `request/time` is rather useless as a performance measurement tool right now.\n\nThe old semantics was\n\n`request/time` - Amount of time it took to process the total request\n`query/time` - Amount of time it took to process the query, where the query is an internal implementation detail (on broker it is the query sent back to historical, on historical, the query run against the segment)\n`query/wait` - Amount of time query was waiting to be processed.  This used to be only meaningful on historicals because the broker implementation wasn't actually measuring things properly.  I'm not sure what the current state is.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73613360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73618404","html_url":"https://github.com/apache/druid/pull/1101#issuecomment-73618404","issue_url":"https://api.github.com/repos/apache/druid/issues/1101","id":73618404,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjE4NDA0","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T00:04:44Z","updated_at":"2015-02-10T00:04:44Z","author_association":"MEMBER","body":"Do you mind squashing your commits, since some of the earlier changes got reverted?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73618404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73620718","html_url":"https://github.com/apache/druid/issues/1102#issuecomment-73620718","issue_url":"https://api.github.com/repos/apache/druid/issues/1102","id":73620718,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjIwNzE4","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T00:25:21Z","updated_at":"2015-02-10T00:25:21Z","author_association":"MEMBER","body":"the request/time change was unintended, it should be possible to move the metrics emitting back into the streaming output response object. In practice though it may only matter for uncached timeseries queries, since in other case the query is almost fully materialized before getting returned.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73620718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73624769","html_url":"https://github.com/apache/druid/pull/1103#issuecomment-73624769","issue_url":"https://api.github.com/repos/apache/druid/issues/1103","id":73624769,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjI0NzY5","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T01:02:34Z","updated_at":"2015-02-10T01:02:34Z","author_association":"CONTRIBUTOR","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73624769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73624859","html_url":"https://github.com/apache/druid/pull/1103#issuecomment-73624859","issue_url":"https://api.github.com/repos/apache/druid/issues/1103","id":73624859,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjI0ODU5","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T01:03:22Z","updated_at":"2015-02-10T01:03:22Z","author_association":"CONTRIBUTOR","body":"Though, it would be nice if there were a way to unit test that it sends the value after everything has been consumed...  Might not be something for today, but if we are ever doing surgery on this code, something we should think about.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73624859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73631891","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73631891","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73631891,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjMxODkx","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T02:13:01Z","updated_at":"2015-02-10T02:13:01Z","author_association":"CONTRIBUTOR","body":"Opening so I can push updates, please ignore for now\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73631891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73632930","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73632930","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73632930,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjMyOTMw","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T02:24:11Z","updated_at":"2015-02-10T02:24:11Z","author_association":"CONTRIBUTOR","body":"Closing for internal banging around before going open for review.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73632930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73743423","html_url":"https://github.com/apache/druid/pull/1104#issuecomment-73743423","issue_url":"https://api.github.com/repos/apache/druid/issues/1104","id":73743423,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzQzNDIz","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T17:30:05Z","updated_at":"2015-02-10T17:30:05Z","author_association":"CONTRIBUTOR","body":"+1 We seem to be running into this problem.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73743423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73752393","html_url":"https://github.com/apache/druid/pull/1105#issuecomment-73752393","issue_url":"https://api.github.com/repos/apache/druid/issues/1105","id":73752393,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzUyMzkz","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T18:17:44Z","updated_at":"2015-02-10T18:17:44Z","author_association":"CONTRIBUTOR","body":"@cheddar : AndFilter and OrFilter behave differently with empty filter lists. Word around the grapevine is that this may be some really old code. Do you happen to remember if there is a good reason to have the either refuse empty lists instead of just returning a blank ImmutableBitmap ?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73752393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73784844","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73784844","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73784844,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzg0ODQ0","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T21:13:58Z","updated_at":"2015-02-20T22:52:14Z","author_association":"CONTRIBUTOR","body":"Encountered an error with topNs:\n\nHere is a topN query with a threshold of 1 and a dimension extraction set as per `\"dimension\":{\"type\" : \"extraction\",\"dimension\" : \"l_orderkey\",\"outputName\" :  \"l_orderkey\",\"dimExtractionFn\" : {\"type\":\"namespace\",\"namespace\":\"testTopic0\"}}`\n\n```\n[ {\n  \"timestamp\" : \"1992-01-02T00:00:00.000Z\",\n  \"result\" : [ {\n    \"l_orderkey\" : \"King\",\n    \"L_DISCOUNT_\" : 0.5200000051409006,\n    \"L_QUANTITY_\" : 417,\n    \"L_TAX_\" : 0.4299999922513962,\n    \"count\" : 10,\n    \"L_EXTENDEDPRICE_\" : 676338.4765625\n  } ]\n} ]\n```\n\nThis is the EXACT SAME query but also with an extraction filter \n\n```\n[ {\n  \"timestamp\" : \"1992-01-02T00:00:00.000Z\",\n  \"result\" : [ {\n    \"l_orderkey\" : \"King\",\n    \"L_DISCOUNT_\" : 0.6500000022351742,\n    \"L_QUANTITY_\" : 530,\n    \"L_TAX_\" : 0.5999999921768904,\n    \"count\" : 14,\n    \"L_EXTENDEDPRICE_\" : 846855.53125\n  } ]\n} ]\n```\n\nThis is the result of a groupBy with the same dimension extraction filter and dimension extraction definition:\n\n```\n[ {\n  \"version\" : \"v1\",\n  \"timestamp\" : \"1900-01-09T00:00:00.000Z\",\n  \"event\" : {\n    \"L_DISCOUNT_\" : 0.6500000357627869,\n    \"l_orderkey\" : \"King\",\n    \"count\" : 14,\n    \"L_EXTENDEDPRICE_\" : 846855.5,\n    \"L_QUANTITY_\" : 530,\n    \"L_TAX_\" : 0.5999999642372131\n  }\n} ]\n```\n\nSo it seems there may be some nastyness in `DimExtractionTopNAlgorithm` that will need to be resolved before this PR can be ready.\n\nEDIT: determined to be an existing and known issue with topN\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73784844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73788007","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73788007","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73788007,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzg4MDA3","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T21:31:27Z","updated_at":"2015-02-10T21:31:27Z","author_association":"CONTRIBUTOR","body":"opening to merge some changes\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73788007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73788074","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73788074","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73788074,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzg4MDc0","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-10T21:31:48Z","updated_at":"2015-02-10T21:31:48Z","author_association":"CONTRIBUTOR","body":"Closing again until its ready. Have some more tests to run.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73788074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73814826","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73814826","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73814826,"node_id":"MDEyOklzc3VlQ29tbWVudDczODE0ODI2","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-11T00:35:38Z","updated_at":"2015-02-11T00:35:38Z","author_association":"CONTRIBUTOR","body":"Adding newest changes.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73814826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73817258","html_url":"https://github.com/apache/druid/pull/1093#issuecomment-73817258","issue_url":"https://api.github.com/repos/apache/druid/issues/1093","id":73817258,"node_id":"MDEyOklzc3VlQ29tbWVudDczODE3MjU4","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-11T00:59:59Z","updated_at":"2015-02-11T00:59:59Z","author_association":"CONTRIBUTOR","body":"@cheddar : to directly address your prior comment, there is the capacity to specify a URI and either have it load once, or at a regular interval. That file can be a simple json mapping like\n\n``` json\n{\"pubABC\":\"SomePublisherName\",\"pubXYZ\":\"SomeOtherPublisher\"}\n```\n\nOr it can be a JDBC connection where you tell it the name, key, and value columns. Optionally the JDBC implementation takes a timestamp column which causes the refresh to attempt to only get values since its last request.\n\nOr it can be a kafka topic, in which case each cache is a replay of the topic from the beginning of the log where each kafka key is the old name and each kafka message is the new name (in UTF-8)\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73817258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73826934","html_url":"https://github.com/apache/druid/pull/1092#issuecomment-73826934","issue_url":"https://api.github.com/repos/apache/druid/issues/1092","id":73826934,"node_id":"MDEyOklzc3VlQ29tbWVudDczODI2OTM0","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-11T02:56:15Z","updated_at":"2015-02-11T02:56:15Z","author_association":"CONTRIBUTOR","body":"LGTM, any reason not to merge?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73826934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73828202","html_url":"https://github.com/apache/druid/issues/1014#issuecomment-73828202","issue_url":"https://api.github.com/repos/apache/druid/issues/1014","id":73828202,"node_id":"MDEyOklzc3VlQ29tbWVudDczODI4MjAy","user":{"login":"res-life","id":8166419,"node_id":"MDQ6VXNlcjgxNjY0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/8166419?v=4","gravatar_id":"","url":"https://api.github.com/users/res-life","html_url":"https://github.com/res-life","followers_url":"https://api.github.com/users/res-life/followers","following_url":"https://api.github.com/users/res-life/following{/other_user}","gists_url":"https://api.github.com/users/res-life/gists{/gist_id}","starred_url":"https://api.github.com/users/res-life/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/res-life/subscriptions","organizations_url":"https://api.github.com/users/res-life/orgs","repos_url":"https://api.github.com/users/res-life/repos","events_url":"https://api.github.com/users/res-life/events{/privacy}","received_events_url":"https://api.github.com/users/res-life/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-11T03:14:53Z","updated_at":"2015-02-11T03:14:53Z","author_association":"NONE","body":"it's groupBy query\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73828202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73841256","html_url":"https://github.com/apache/druid/pull/1107#issuecomment-73841256","issue_url":"https://api.github.com/repos/apache/druid/issues/1107","id":73841256,"node_id":"MDEyOklzc3VlQ29tbWVudDczODQxMjU2","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-11T07:06:07Z","updated_at":"2015-02-11T07:06:07Z","author_association":"MEMBER","body":"can you also modify the default in the docs - \nhttp://druid.io/docs/latest/Peons.html\nhttp://druid.io/docs/latest/Tasks.html\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73841256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73841431","html_url":"https://github.com/apache/druid/pull/1107#issuecomment-73841431","issue_url":"https://api.github.com/repos/apache/druid/issues/1107","id":73841431,"node_id":"MDEyOklzc3VlQ29tbWVudDczODQxNDMx","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-11T07:08:52Z","updated_at":"2015-02-11T07:08:52Z","author_association":"MEMBER","body":"CLIHadoopIndexer also needs to be updated.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73841431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/73894578","html_url":"https://github.com/apache/druid/pull/1065#issuecomment-73894578","issue_url":"https://api.github.com/repos/apache/druid/issues/1065","id":73894578,"node_id":"MDEyOklzc3VlQ29tbWVudDczODk0NTc4","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-11T15:00:08Z","updated_at":"2015-02-11T15:00:08Z","author_association":"MEMBER","body":"tried to run some benchmarks with offheap code from this branch, \nhitting an exception in mapDB.clear() with this branch. \n\n2015-02-11T14:57:15,803 WARN [qtp984589427-18] io.druid.server.QueryResource - Exception occurred on request [GroupByQuery{limitSpec=NoopLimitSpec, dimFilter=null, granularity=AllGranularity, dimensions=[DefaultDimensionSpec{dimension='l_linenumber', outputName='l_linenumber'}, DefaultDimensionSpec{dimension='l_suppkey', outputName='l_suppkey'}, DefaultDimensionSpec{dimension='l_shipinstruct', outputName='l_shipinstruct'}], aggregatorSpecs=[DoubleSumAggregatorFactory{fieldName='l_tax_doublesum', name='L_TAX_'}, DoubleSumAggregatorFactory{fieldName='l_discount_doublesum', name='L_DISCOUNT_'}, DoubleSumAggregatorFactory{fieldName='l_extendedprice_doublesum', name='L_EXTENDEDPRICE_'}, LongSumAggregatorFactory{fieldName='l_quantity_longsum', name='L_QUANTITY_'}, CountAggregatorFactory{name='count'}], postAggregatorSpecs=[], limitFn=identity}]\njava.lang.ArrayIndexOutOfBoundsException: -1\n    at org.mapdb.BTreeMap.remove2(BTreeMap.java:976) ~[mapdb-1.0.6.jar:?]\n    at org.mapdb.BTreeMap.remove(BTreeMap.java:949) ~[mapdb-1.0.6.jar:?]\n    at org.mapdb.BTreeMap$BTreeIterator.remove(BTreeMap.java:908) ~[mapdb-1.0.6.jar:?]\n    at org.mapdb.BTreeMap.clear(BTreeMap.java:1028) ~[mapdb-1.0.6.jar:?]\n    at org.mapdb.DB.delete(DB.java:1470) ~[mapdb-1.0.6.jar:?]\n    at io.druid.segment.incremental.OffheapIncrementalIndex.close(OffheapIncrementalIndex.java:309) ~[druid-processing-0.7.0-SNAPSHOT.jar:0.7.0-SNAPSHOT]\n    at com.metamx.common.guava.ResourceClosingYielder.close(ResourceClosingYielder.java:41) ~[java-util-0.26.11.jar:?]\n    at com.metamx.common.guava.CloseQuietly.close(CloseQuietly.java:36) ~[java-util-0.26.11.jar:?]\n    at com.metamx.common.guava.YieldingSequenceBase.accumulate(YieldingSequenceBase.java:24) ~[java-util-0.26.11.jar:?]\n    at io.druid.query.groupby.GroupByQueryQueryToolChest.makeIncrementalIndex(GroupByQueryQueryToolChest.java:209) ~[druid-processing-0.7.0-SNAPSHOT.jar:0.7.0-SNAPSHOT]\n    at io.druid.query.groupby.GroupByQueryQueryToolChest.mergeGroupByResults(GroupByQueryQueryToolChest.java:175) ~[druid-processing-0.7.0-SNAPSHOT.jar:0.7.0-SNAPSHOT]\n    at io.druid.query.groupby.GroupByQueryQueryToolChest.access$100(GroupByQueryQueryToolChest.java:71) ~[druid-processing-0.7.0-SNAPSHOT.jar:0.7.0-SNAPSHOT]\n    at io.druid.query.groupby.GroupByQueryQueryToolChest$3.run(GroupByQueryQueryToolChest.java:121) ~[druid-processing-0.7.0-SNAPSHOT.jar:0.7.0-SNAPSHOT]\n    at io.druid.query.FinalizeResultsQueryRunner.run(FinalizeResultsQueryRunner.java:104) ~[druid-processing-0.7.0-SNAPSHOT.jar:0.7.0-SNAPSHOT]\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/73894578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]