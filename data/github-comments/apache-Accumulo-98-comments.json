[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276479905","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1276479905","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1276479905,"node_id":"IC_kwDOACaFSM5MFYmh","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T17:01:45Z","updated_at":"2022-10-12T17:01:45Z","author_association":"CONTRIBUTOR","body":"I'm going to commit my changes. Here's the output of a test I ran.\r\n\r\n```\r\nroot@test> tables\r\naccumulo.metadata\r\naccumulo.replication\r\naccumulo.root\r\nroot@test> users\r\nroot\r\nroot@test> config -f table.file.max\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\nsystem     |    @override ..................................................... | 30\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nroot@test> config -s table.file.max=30\r\nroot@test> config -f table.file.max\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\nsystem     |    @override ..................................................... | 30\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nroot@test> createuser user1\r\nEnter new password for 'user1': *****\r\nPlease confirm new password for 'user1': *****\r\nroot@test> grant System.CREATE_NAMESPACE -s -u user1\r\nroot@test> createuser user2\r\nEnter new password for 'user2': *****\r\nPlease confirm new password for 'user2': *****\r\nroot@test> user user1\r\nEnter password for user user1: *****\r\nuser1@test> config -f table.file.max\r\n2022-10-12T16:55:17,012 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T16:55:17,013 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T16:55:17,014 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown may be set at a higher level.\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser1@test> createnamespace user1\r\nuser1@test> config -ns user1 -f table.file.max\r\n2022-10-12T16:55:26,178 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T16:55:26,180 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T16:55:26,180 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown may be set at a higher level.\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\nnamespace  |    @override ..................................................... | 30\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser1@test> config -ns user1 -s table.file.max=60\r\nuser1@test> config -ns user1 -f table.file.max\r\n2022-10-12T16:55:32,684 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T16:55:32,685 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T16:55:32,685 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown may be set at a higher level.\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\nnamespace  |    @override ..................................................... | 60\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser1@test> createtable user1.table1\r\nuser1@test user1.table1> grant Table.ALTER_TABLE -t user1.table1 -u user2\r\nuser1@test user1.table1> user user2\r\nEnter password for user user2: *****\r\nuser2@test user1.table1> config -t user1.table1 -f table.file.max\r\n2022-10-12T16:55:53,259 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\n2022-10-12T16:55:53,261 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\n2022-10-12T16:55:53,263 [shell.Shell] WARN : User unable to retrieve user1 namespace configuration (requires Namespace.ALTER_NAMESPACE permission), error: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\n2022-10-12T16:55:53,263 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown may be set at a higher level.\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\ntable      |    @override ..................................................... | 60\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276479905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276488036","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1276488036","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1276488036,"node_id":"IC_kwDOACaFSM5MFalk","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T17:09:19Z","updated_at":"2022-10-12T17:09:19Z","author_association":"CONTRIBUTOR","body":"Looks like the first config output contained a leftover from a previous test run, it should have only printed the default of 15 for `table.file.max`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276488036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276490419","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1276490419","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1276490419,"node_id":"IC_kwDOACaFSM5MFbKz","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T17:11:37Z","updated_at":"2022-10-12T17:11:37Z","author_association":"CONTRIBUTOR","body":"I do need to fix the root user perms though:\r\n\r\n```\r\nroot@test user1.table1> config -t user1.table1\r\n2022-10-12T17:10:58,987 [shell.Shell] WARN : User unable to retrieve user1 namespace configuration (requires Namespace.ALTER_NAMESPACE permission), error: Error PERMISSION_DENIED for user root - User does not have permission to perform this action\r\n2022-10-12T17:10:58,987 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown may be set at a higher level.\r\n2022-10-12T17:10:58,989 [shell.Shell] ERROR: User unable to retrieve user1.table1 table configuration (requires Table.ALTER_TABLE permission)\r\n2022-10-12T17:10:58,989 [shell.Shell] ERROR: org.apache.accumulo.core.client.AccumuloSecurityException: Error PERMISSION_DENIED for user root - User does not have permission to perform this action\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276490419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276572038","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1276572038","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1276572038,"node_id":"IC_kwDOACaFSM5MFvGG","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T18:28:32Z","updated_at":"2022-10-12T18:28:32Z","author_association":"CONTRIBUTOR","body":"I think I am done with changes here. Latest working example:\r\n\r\n```\r\nroot@test> config -f table.file.max\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nroot@test> config -s table.file.max=30\r\nroot@test> config -f table.file.max\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\nsystem     |    @override ..................................................... | 30\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nroot@test> createuser user1\r\nEnter new password for 'user1': *****\r\nPlease confirm new password for 'user1': *****\r\nroot@test> grant System.CREATE_NAMESPACE -s -u user1\r\nroot@test> createuser user2\r\nEnter new password for 'user2': *****\r\nPlease confirm new password for 'user2': *****\r\nroot@test> user user1\r\nEnter password for user user1: *****\r\nuser1@test> config -f table.file.max\r\n2022-10-12T18:24:30,695 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T18:24:30,697 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser1@test> createnamespace user1\r\nuser1@test> config -ns user1 -f table.file.max\r\n2022-10-12T18:24:49,306 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T18:24:49,307 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T18:24:49,308 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown below may be set above the namespace level.\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\nnamespace  |    @override ..................................................... | 30\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser1@test> config -ns user1 -s table.file.max=60\r\nuser1@test> config -ns user1 -f table.file.max\r\n2022-10-12T18:25:07,215 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T18:25:07,216 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user1 - User does not have permission to perform this action\r\n2022-10-12T18:25:07,216 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown below may be set above the namespace level.\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\nnamespace  |    @override ..................................................... | 60\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser1@test> createtable user1.table1\r\nuser1@test user1.table1> user user2\r\nEnter password for user user2: *****\r\nuser2@test user1.table1> config -ns user1 -f table.file.max\r\n2022-10-12T18:26:00,768 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\n2022-10-12T18:26:00,770 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\n2022-10-12T18:26:00,770 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown below may be set above the namespace level.\r\n2022-10-12T18:26:00,772 [shell.Shell] ERROR: User unable to retrieve user1 namespace configuration (requires Namespace.ALTER_NAMESPACE permission)\r\n2022-10-12T18:26:00,772 [shell.Shell] ERROR: org.apache.accumulo.core.client.AccumuloSecurityException: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\nuser2@test user1.table1> user user1\r\nEnter password for user user1: *****\r\nuser1@test user1.table1> grant Table.ALTER_TABLE -t user1.table1 -u user2\r\nuser1@test user1.table1> user user2\r\nEnter password for user user2: *****\r\nuser2@test user1.table1> config -t user1.table1 -f table.file.max\r\n2022-10-12T18:26:24,345 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\n2022-10-12T18:26:24,347 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission), error: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\n2022-10-12T18:26:24,351 [shell.Shell] WARN : User unable to retrieve user1 namespace configuration (requires Namespace.ALTER_NAMESPACE permission), error: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\n2022-10-12T18:26:24,351 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown below may be set above the table level.\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\ntable      |    @override ..................................................... | 60\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser2@test user1.table1> user root\r\nEnter password for user root: ******\r\nroot@test user1.table1> config -t user1.table1 -f table.file.max\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME                                                               | VALUE\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max ................................................... | 15\r\nsystem     |    @override ..................................................... | 30\r\nnamespace  |    @override ..................................................... | 60\r\n-----------+--------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276572038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276589341","html_url":"https://github.com/apache/accumulo/pull/3011#issuecomment-1276589341","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3011","id":1276589341,"node_id":"IC_kwDOACaFSM5MFzUd","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T18:43:18Z","updated_at":"2022-10-12T18:43:18Z","author_association":"CONTRIBUTOR","body":"In #3015 I modified the table and namespace checks to allow users with the SYSTEM permission to get the respective configurations. I think that change in #3015 makes this OBE. We can close this now, or when we merge #3015 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276589341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276656810","html_url":"https://github.com/apache/accumulo/issues/3017#issuecomment-1276656810","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3017","id":1276656810,"node_id":"IC_kwDOACaFSM5MGDyq","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T19:45:20Z","updated_at":"2022-10-12T19:46:10Z","author_association":"CONTRIBUTOR","body":"@jmark99 - I can't get this to fail on my local machine, but I was wondering if you could try the following. Change SortedLogRecoverTest.testSkipSuccessfulCompaction lin 392 from:\r\n```\r\n    List<Mutation> mutations = recover(logs, extent);\r\n```\r\nto\r\n```\r\n    List<Mutation> mutations = recover(logs, new HashSet<>(), extent, entries.size());\r\n```    ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276656810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276750411","html_url":"https://github.com/apache/accumulo/pull/2990#issuecomment-1276750411","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2990","id":1276750411,"node_id":"IC_kwDOACaFSM5MGapL","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T21:22:23Z","updated_at":"2022-10-12T21:22:23Z","author_association":"MEMBER","body":"> This is probably the best we can do for now. In the next version we could take a deeper look at the timing between the tserver and the manager. Like ask the question... why are the tservers trying to perform these important functions before the manager is fully functioning?\r\n\r\nIt's probably just normal hello message check-ins because they detect the service address registration for the manager in ZK too quickly. They have no way to know that the service isn't fully functioning yet. The manager could delay registering its service address in ZK, even after it has started up the Thrift RPC, so they don't know how to find the manager yet... but I don't think it's much of a problem if they wait a few seconds.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276750411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276753294","html_url":"https://github.com/apache/accumulo/pull/3011#issuecomment-1276753294","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3011","id":1276753294,"node_id":"IC_kwDOACaFSM5MGbWO","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T21:25:53Z","updated_at":"2022-10-12T21:25:53Z","author_association":"CONTRIBUTOR","body":"> In #3015 I modified the table and namespace checks to allow users with the SYSTEM permission to get the respective configurations. I think that change in #3015 makes this OBE. We can close this now, or when we merge #3015\r\n\r\nSounds good, I think we can probably close this too. I will have time to review #3015 again first thing in the morning and assuming it looks good to me (and I'm sure it will) I'll close this out.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1276753294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277346171","html_url":"https://github.com/apache/accumulo/pull/3011#issuecomment-1277346171","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3011","id":1277346171,"node_id":"IC_kwDOACaFSM5MIsF7","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T09:50:10Z","updated_at":"2022-10-13T09:50:10Z","author_association":"CONTRIBUTOR","body":"Closing this as #3015 makes this OBE as @dlmarion said with the addition of the SYSTEM permission.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277346171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277381244","html_url":"https://github.com/apache/accumulo/issues/2667#issuecomment-1277381244","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2667","id":1277381244,"node_id":"IC_kwDOACaFSM5MI0p8","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T10:21:35Z","updated_at":"2022-10-13T10:21:35Z","author_association":"CONTRIBUTOR","body":"I am continuing to run the bulk import test with the fixes for #3013 and #3014 applied.  I have not seen the error again with the inconsistent id, I suspect I know what the problem is but want to confirm it with the additional logging I added.  On the run last night all of the tservers died with out of memory problems.  I looked at the UNO config and the tserver memory was 768m.  I upped this to 4G and restarted the test.  I have never seen the out of memory problem when running the test, maybe fixing #3013 and #3014 allowed the test to run longer and that caused it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277381244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277513892","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1277513892","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1277513892,"node_id":"IC_kwDOACaFSM5MJVCk","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T12:12:23Z","updated_at":"2022-10-13T12:12:23Z","author_association":"CONTRIBUTOR","body":"@cshannon - I addressed your change request in 8687df0. I also shortened the warning, removing the error message and only printing the warning if the error code is PERMISSION_DENIED.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277513892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277514452","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1277514452","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1277514452,"node_id":"IC_kwDOACaFSM5MJVLU","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T12:12:55Z","updated_at":"2022-10-13T12:12:55Z","author_association":"CONTRIBUTOR","body":"> @cshannon - I addressed your change request in [8687df0](https://github.com/apache/accumulo/commit/8687df06978bb734e543f4daf6fa8a6415060c3c). I also shortened the warning, removing the error message and only printing the warning if the error code is PERMISSION_DENIED.\r\n\r\nLGTM now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277514452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277709972","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1277709972","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1277709972,"node_id":"IC_kwDOACaFSM5MKE6U","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T14:32:19Z","updated_at":"2022-10-13T14:32:19Z","author_association":"CONTRIBUTOR","body":"Here is the latest example. I think this is what we all discussed. I don't have anymore planned changes.\r\n\r\n\r\n```\r\nroot@test> config -f table.file.max\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME              | VALUE\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max .. | 15\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nroot@test> config -s table.file.max=30\r\nroot@test> config -f table.file.max\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME              | VALUE\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max .. | 15\r\nsystem     |    @override .... | 30\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nroot@test> createuser user1\r\nEnter new password for 'user1': *****\r\nPlease confirm new password for 'user1': *****\r\nroot@test> grant System.CREATE_NAMESPACE -s -u user1\r\nroot@test> createuser user2\r\nEnter new password for 'user2': *****\r\nPlease confirm new password for 'user2': *****\r\nroot@test> user user1\r\nEnter password for user user1: *****\r\nuser1@test> config -f table.file.max\r\n2022-10-13T14:28:02,120 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission)\r\n2022-10-13T14:28:02,121 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission)\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME              | VALUE\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser1@test> createnamespace user1\r\nuser1@test> config -ns user1 -f table.file.max\r\n2022-10-13T14:28:14,029 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission)\r\n2022-10-13T14:28:14,030 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission)\r\n2022-10-13T14:28:14,031 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown below may be set above the namespace level.\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME              | VALUE\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max .. | 15\r\nnamespace  |    @override .... | 30\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser1@test> config -ns user1 -s table.file.max=60\r\nuser1@test> config -ns user1 -f table.file.max\r\n2022-10-13T14:28:28,287 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission)\r\n2022-10-13T14:28:28,288 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission)\r\n2022-10-13T14:28:28,289 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown below may be set above the namespace level.\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME              | VALUE\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max .. | 15\r\nnamespace  |    @override .... | 60\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser1@test> createtable user1.table1\r\nuser1@test user1.table1> grant Table.ALTER_TABLE -t user1.table1 -u user2\r\nuser1@test user1.table1> user user2\r\nEnter password for user user2: *****\r\nuser2@test user1.table1> config -t user1.table1 -f table.file.max\r\n2022-10-13T14:28:55,114 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission)\r\n2022-10-13T14:28:55,116 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission)\r\n2022-10-13T14:28:55,119 [shell.Shell] WARN : User unable to retrieve user1 namespace configuration (requires Namespace.ALTER_NAMESPACE permission)\r\n2022-10-13T14:28:55,119 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown below may be set above the table level.\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME              | VALUE\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max .. | 15\r\ntable      |    @override .... | 60\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nuser2@test user1.table1> user root\r\nEnter password for user root: ******\r\nroot@test user1.table1> config -t user1.table1 -f table.file.max\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSCOPE      | NAME              | VALUE\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ndefault    | table.file.max .. | 15\r\nsystem     |    @override .... | 30\r\nnamespace  |    @override .... | 60\r\n-----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nroot@test user1.table1> user user2\r\nEnter password for user user2: *****\r\nuser2@test user1.table1> config -ns \"\"\r\n2022-10-13T14:31:29,248 [shell.Shell] WARN : User unable to retrieve system configuration (requires System.SYSTEM permission)\r\n2022-10-13T14:31:29,249 [shell.Shell] WARN : User unable to retrieve site configuration (requires System.SYSTEM permission)\r\n2022-10-13T14:31:29,249 [shell.Shell] WARN : User does not have permission to see entire configuration heirarchy. Property values shown below may be set above the namespace level.\r\n2022-10-13T14:31:29,251 [shell.Shell] ERROR: User unable to retrieve default namespace configuration (requires Namespace.ALTER_NAMESPACE permission)\r\n2022-10-13T14:31:29,251 [shell.Shell] ERROR: org.apache.accumulo.core.client.AccumuloSecurityException: Error PERMISSION_DENIED for user user2 - User does not have permission to perform this action\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277709972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277734960","html_url":"https://github.com/apache/accumulo/issues/3017#issuecomment-1277734960","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3017","id":1277734960,"node_id":"IC_kwDOACaFSM5MKLAw","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T14:46:59Z","updated_at":"2022-10-13T14:46:59Z","author_association":"CONTRIBUTOR","body":"@dlmarion I made the suggested change to all the places within SortedLogRecoveryTest where failures were occurring. I did have to change `entries.size()` to `entries.length`. The `git diff` from main is listed below so you can see where the changes were made.\r\n\r\nThere were two situations where the fourth parameter had to be updated to `entries3.length` in order to pass. I haven't closely examined the tests so I'm not sure if that should be expected. These were `testCompactionCrossesLogs` and `testCompactionCrossesLogs5`. \r\n\r\nAlso, there are several other locations where the original \r\n\r\n   `List<Mutation> mutations = recover(logs, extent);` \r\n\r\nworks fine without the suggested change.. See the other `testCompactionCrossesLogs*` tests for examples. Should these be updated as well, for consistency?\r\n\r\nIf you review the changes and are good with them, we can merge them in order to allow the tests to pass.\r\n\r\n<pre>\r\n--- i/server/tserver/src/test/java/org/apache/accumulo/tserver/log/SortedLogRecoveryTest.java\r\n+++ w/server/tserver/src/test/java/org/apache/accumulo/tserver/log/SortedLogRecoveryTest.java\r\n@@ -242,7 +242,8 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     logs.put(\"entries5\", entries5);\r\n \r\n     // Recover\r\n-    List<Mutation> mutations = recover(logs, extent);\r\n+    // List<Mutation> mutations = recover(logs, extent);\r\n+    List<Mutation> mutations = recover(logs, new HashSet<>(), extent, entries3.length);\r\n \r\n     // Verify recovered data\r\n     assertEquals(2, mutations.size());\r\n@@ -288,7 +289,8 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     logs.put(\"entries3\", entries3);\r\n     logs.put(\"entries4\", entries4);\r\n     // Recover\r\n-    List<Mutation> mutations = recover(logs, extent);\r\n+    // List<Mutation> mutations = recover(logs, extent);\r\n+    List<Mutation> mutations = recover(logs, new HashSet<>(), extent, entries3.length);\r\n     // Verify recovered data\r\n     assertEquals(4, mutations.size());\r\n     assertEquals(m, mutations.get(0));\r\n@@ -389,7 +391,8 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     Map<String,KeyValue[]> logs = new TreeMap<>();\r\n     logs.put(\"testlog\", entries);\r\n     // Recover\r\n-    List<Mutation> mutations = recover(logs, extent);\r\n+    // List<Mutation> mutations = recover(logs, extent);\r\n+    List<Mutation> mutations = recover(logs, new HashSet<>(), extent, entries.length);\r\n     // Verify recovered data\r\n     assertEquals(1, mutations.size());\r\n     assertEquals(m, mutations.get(0));\r\n@@ -462,7 +465,8 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     Map<String,KeyValue[]> logs = new TreeMap<>();\r\n     logs.put(\"entries\", entries);\r\n     // Recover\r\n-    List<Mutation> mutations = recover(logs, extent);\r\n+    // List<Mutation> mutations = recover(logs, extent);\r\n+    List<Mutation> mutations = recover(logs, new HashSet<>(), extent, entries.length);\r\n     // Verify recovered data\r\n     assertEquals(2, mutations.size());\r\n     assertEquals(m, mutations.get(0));\r\n@@ -517,7 +521,8 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     Map<String,KeyValue[]> logs = new TreeMap<>();\r\n     logs.put(\"testlog\", entries);\r\n     // Recover\r\n-    List<Mutation> mutations = recover(logs, extent);\r\n+    // List<Mutation> mutations = recover(logs, extent);\r\n+    List<Mutation> mutations = recover(logs, new HashSet<>(), extent, entries.length);\r\n     // Verify recovered data\r\n     assertEquals(0, mutations.size());\r\n   }\r\n@@ -641,7 +646,9 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     logs.put(\"entries\", entries);\r\n     logs.put(\"entries2\", entries2);\r\n     // Recover\r\n-    List<Mutation> mutations = recover(logs, extent);\r\n+    // List<Mutation> mutations = recover(logs, extent);\r\n+    List<Mutation> mutations = recover(logs, new HashSet<>(), extent, entries.length);\r\n+\r\n     // Verify recovered data\r\n     assertEquals(5, mutations.size());\r\n     assertTrue(mutations.contains(m));\r\n@@ -672,7 +679,8 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     Map<String,KeyValue[]> logs = new TreeMap<>();\r\n     logs.put(\"entries\", entries);\r\n \r\n-    List<Mutation> mutations = recover(logs, extent);\r\n+    // List<Mutation> mutations = recover(logs, extent);\r\n+    List<Mutation> mutations = recover(logs, new HashSet<>(), extent, entries.length);\r\n \r\n     assertEquals(1, mutations.size());\r\n     assertEquals(m, mutations.get(0));\r\n@@ -783,12 +791,14 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     Map<String,KeyValue[]> logs = new TreeMap<>();\r\n     logs.put(\"entries1\", entries1);\r\n \r\n-    List<Mutation> mutations1 = recover(logs, e1);\r\n+    // List<Mutation> mutations1 = recover(logs, e1);\r\n+    List<Mutation> mutations1 = recover(logs, new HashSet<>(), e1, entries1.length);\r\n     assertEquals(1, mutations1.size());\r\n     assertEquals(m2, mutations1.get(0));\r\n \r\n     reset(context);\r\n-    List<Mutation> mutations2 = recover(logs, e2);\r\n+    // List<Mutation> mutations2 = recover(logs, e2);\r\n+    List<Mutation> mutations2 = recover(logs, new HashSet<>(), e2, entries1.length);\r\n     assertEquals(2, mutations2.size());\r\n     assertEquals(m3, mutations2.get(0));\r\n     assertEquals(m4, mutations2.get(1));\r\n@@ -799,7 +809,8 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     logs.put(\"entries2\", entries2);\r\n \r\n     reset(context);\r\n-    mutations2 = recover(logs, e2);\r\n+    // mutations2 = recover(logs, e2);\r\n+    mutations2 = recover(logs, new HashSet<>(), e2, entries1.length);\r\n     assertEquals(1, mutations2.size());\r\n     assertEquals(m4, mutations2.get(0));\r\n   }\r\n@@ -912,7 +923,9 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     Map<String,KeyValue[]> logs = new TreeMap<>();\r\n     logs.put(\"entries1\", entries1);\r\n \r\n-    var e = assertThrows(IllegalStateException.class, () -> recover(logs, extent));\r\n+    // var e = assertThrows(IllegalStateException.class, () -> recover(logs, extent));\r\n+    var e = assertThrows(IllegalStateException.class,\r\n+        () -> recover(logs, new HashSet<>(), extent, entries1.length));\r\n     assertTrue(e.getMessage().contains(\"consecutive \" + LogEvents.COMPACTION_FINISH.name()));\r\n   }\r\n \r\n@@ -937,7 +950,8 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     Map<String,KeyValue[]> logs = new TreeMap<>();\r\n     logs.put(\"entries1\", entries1);\r\n \r\n-    List<Mutation> mutations1 = recover(logs, extent);\r\n+    // List<Mutation> mutations1 = recover(logs, extent);\r\n+    List<Mutation> mutations1 = recover(logs, new HashSet<>(), extent, entries1.length);\r\n     assertEquals(1, mutations1.size());\r\n     assertEquals(m2, mutations1.get(0));\r\n   }\r\n@@ -965,7 +979,9 @@ public class SortedLogRecoveryTest extends WithTestNames {\r\n     Map<String,KeyValue[]> logs = new TreeMap<>();\r\n     logs.put(\"entries1\", entries1);\r\n \r\n-    List<Mutation> mutations1 = recover(logs, extent);\r\n+    // List<Mutation> mutations1 = recover(logs, extent);\r\n+    List<Mutation> mutations1 = recover(logs, new HashSet<>(), extent, entries1.length);\r\n+\r\n     assertEquals(1, mutations1.size());\r\n     assertEquals(m2, mutations1.get(0));\r\n   }\r\n</pre>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277734960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277780050","html_url":"https://github.com/apache/accumulo/issues/3017#issuecomment-1277780050","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3017","id":1277780050,"node_id":"IC_kwDOACaFSM5MKWBS","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T15:15:18Z","updated_at":"2022-10-13T15:15:18Z","author_association":"CONTRIBUTOR","body":"Talked with Mark via Slack, putting my notes here for others:\r\n\r\n```\r\nSo, that's interesting. Here was my thought:\r\n\r\n1. SortedLogRecoveryTest.bufferSize = 5 (line 83)\r\n2. SortedLogRecoveryTest.testSkipSuccessfulCompaction adds 6 KeyValue objects to the entries map (line 384)\r\n3. SortedLogRecoveryTest.testSkipSuccessfulCompaction calls recover(Map, KeyExtent) line 392, which uses the default buffersize (5)\r\n4. SortedLogRecoveryTest.recover iterates over the input Map and calls LogServer.writeBuffer() using the input bufferSize (5)\r\n5. LogSorter.writeBuffer converts the input buffer into a SortedMap (TreeMap) of Keys (line 260), then writes the map to the WAL (line 279)\r\n\r\nThere are a couple of places here (4, 5) where maybe the sort order is wrong on your machine for some unknown reason. Given that increasing the buffer size to 6 allows the test to pass, then that points to the issue being at step 4\r\n\r\nI would be curious if you can dump the contents of buffer (SortedLogRecoveryTest line 186) before the call to logSorter.writeBuffer (lines 191 and 195) when using the default bufferSize.\r\n\r\nIf the OPEN is not in the first buffer, then that's the issue\r\n\r\nIf the OPEN is in the first buffer, then the issue must be the sorting at step 5\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277780050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277956984","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1277956984","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1277956984,"node_id":"IC_kwDOACaFSM5MLBN4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T17:37:16Z","updated_at":"2022-10-13T17:37:16Z","author_association":"CONTRIBUTOR","body":"I re-tested after a38afd6 and everything is working in the shell the same as before the commit","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277956984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277983975","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1277983975","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1277983975,"node_id":"IC_kwDOACaFSM5MLHzn","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T18:02:26Z","updated_at":"2022-10-13T18:02:26Z","author_association":"CONTRIBUTOR","body":"Kicked off full IT build","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277983975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277999467","html_url":"https://github.com/apache/accumulo/issues/2775#issuecomment-1277999467","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2775","id":1277999467,"node_id":"IC_kwDOACaFSM5MLLlr","user":{"login":"rverk","id":1470451,"node_id":"MDQ6VXNlcjE0NzA0NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1470451?v=4","gravatar_id":"","url":"https://api.github.com/users/rverk","html_url":"https://github.com/rverk","followers_url":"https://api.github.com/users/rverk/followers","following_url":"https://api.github.com/users/rverk/following{/other_user}","gists_url":"https://api.github.com/users/rverk/gists{/gist_id}","starred_url":"https://api.github.com/users/rverk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rverk/subscriptions","organizations_url":"https://api.github.com/users/rverk/orgs","repos_url":"https://api.github.com/users/rverk/repos","events_url":"https://api.github.com/users/rverk/events{/privacy}","received_events_url":"https://api.github.com/users/rverk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T18:17:27Z","updated_at":"2022-10-13T18:17:27Z","author_association":"NONE","body":"Pls add this to the Known Issues of 10.2. We had to manually downgrade VFS to fix breaking issues with our iterators not properly loading. Having known this up front would have saved us the trouble.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1277999467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278029734","html_url":"https://github.com/apache/accumulo/issues/2783#issuecomment-1278029734","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2783","id":1278029734,"node_id":"IC_kwDOACaFSM5MLS-m","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T18:40:03Z","updated_at":"2022-10-13T18:40:03Z","author_association":"MEMBER","body":"Closing this since there hasn't been any further comments since my last observation that this is too user-dependent.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278029734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278032537","html_url":"https://github.com/apache/accumulo/issues/2775#issuecomment-1278032537","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2775","id":1278032537,"node_id":"IC_kwDOACaFSM5MLTqZ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T18:42:46Z","updated_at":"2022-10-13T18:42:46Z","author_association":"CONTRIBUTOR","body":"@rverk - Thanks for the feedback. I created https://github.com/apache/accumulo-website/pull/344 for this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278032537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278863104","html_url":"https://github.com/apache/accumulo/pull/3015#issuecomment-1278863104","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3015","id":1278863104,"node_id":"IC_kwDOACaFSM5MOecA","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:10:46Z","updated_at":"2022-10-14T11:10:46Z","author_association":"CONTRIBUTOR","body":"IT build completed successfully","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278863104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278909728","html_url":"https://github.com/apache/accumulo/pull/3014#issuecomment-1278909728","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3014","id":1278909728,"node_id":"IC_kwDOACaFSM5MOp0g","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:57:54Z","updated_at":"2022-10-14T11:57:54Z","author_association":"CONTRIBUTOR","body":"@ctubbsii is this ok to merge?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278909728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278955285","html_url":"https://github.com/apache/accumulo/pull/3021#issuecomment-1278955285","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3021","id":1278955285,"node_id":"IC_kwDOACaFSM5MO08V","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T12:39:20Z","updated_at":"2022-10-14T12:39:20Z","author_association":"CONTRIBUTOR","body":"@ctubbsii and @keith-turner, @dlmarion and I would like you to take a look at this change and see if you think it will affect any other code adversely.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278955285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278965286","html_url":"https://github.com/apache/accumulo/issues/3017#issuecomment-1278965286","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3017","id":1278965286,"node_id":"IC_kwDOACaFSM5MO3Ym","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T12:49:09Z","updated_at":"2022-10-14T12:49:09Z","author_association":"CONTRIBUTOR","body":"A fix was found after adding some extensive logging. It was assumed the  `getFiles` method within RecoveryLogsIterator the list of  logFiles lexicographical order by filename. Therefore, the `validateFirstKey` method retrieved the first LogFile and checked to see if it was in the proper format. On my Ubuntu system and presumably the Apache Jenkins server, the files are not returned in that order. Therefore, `validateFirstKey` would fail when checking the first key of the file it selected because it was not, in fact' the actual first key. \r\n\r\nUpdating `getFiles` to return the logFiles in sorted order resolves the issue. See #3021 for the suggested fix.\r\n\r\nThe issue was introduced by the following change within RecoveryLogsIterator. The `logFiles.get(0)' call caused the issue for my development environment as the logFiles were not in the assumed order.\r\n\r\n<pre>\r\nprivate void validateFirstKey(ServerContext context, CryptoService cs, FileSystem fs,\r\n      Path fullLogPath) {\r\n      List<Path> logFiles, Path fullLogPath) throws IOException {\r\n    try (var scanner =\r\n    try (FileSKVIterator fileIter = FileOperations.getInstance().newReaderBuilder()\r\n        RFile.newScanner().from(logFiles.stream().map(Path::toString).toArray(String[]::new))\r\n        .forFile(logFiles.get(0).toString(), fs, fs.getConf(), cs)\r\n            .withFileSystem(fs).withTableProperties(context.getConfiguration()).build()) {\r\n        .withTableConfiguration(context.getConfiguration()).seekToBeginning().build()) {\r\n      Iterator<Entry<Key,Value>> iterator = scanner.iterator();\r\n      Iterator<Entry<Key,Value>> iterator = new IteratorAdapter(fileIter);\r\n</pre>\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278965286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278967672","html_url":"https://github.com/apache/accumulo/pull/3021#issuecomment-1278967672","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3021","id":1278967672,"node_id":"IC_kwDOACaFSM5MO394","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T12:51:23Z","updated_at":"2022-10-14T12:54:31Z","author_association":"CONTRIBUTOR","body":"The other thing to note here is that this worked previously because RecoveryLogsIterator used the client side RFile scanner which took all the files from `Filesystem.listStatus` and then looked at the first key (internally it must have done a merge-sort read). I modified RecoveryLogsIterator in [this](https://github.com/apache/accumulo/commit/b14df03bd7eee697fa9002832f03c2aaa7442695#diff-288f570b1f810a8673289600ce7e47e6ea5727a612de5f0e7acb84a5f319d957R166) commit to use the internal RFile reader because it supports the CryptoService. It only takes one file, and I gave it the first one thinking they were sorted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278967672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278985896","html_url":"https://github.com/apache/accumulo/pull/3021#issuecomment-1278985896","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3021","id":1278985896,"node_id":"IC_kwDOACaFSM5MO8ao","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T13:06:27Z","updated_at":"2022-10-14T13:06:27Z","author_association":"CONTRIBUTOR","body":"I guess the question here is, \"Is the OPEN in the first file when the files are sorted by name?\" I think the answer is \"yes\", and it looks like OPEN is the first entry in any file created by DFSLogger.open(). SortedLogRecoveryTest.recover() uses LogSorter.writeBuffer to create the test WALs. It appears that it creates a new WAL file for each buffer written, but does not put an OPEN at the top of each file.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1278985896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279147815","html_url":"https://github.com/apache/accumulo/pull/3022#issuecomment-1279147815","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3022","id":1279147815,"node_id":"IC_kwDOACaFSM5MPj8n","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:21:15Z","updated_at":"2022-10-14T15:21:15Z","author_association":"CONTRIBUTOR","body":"Updating OpenTelemetry and Micrometer here requires an update in the Terraform code in accumulo-testing. You can look at the prior commits in accumulo-testing to see what needs to change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279147815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279150700","html_url":"https://github.com/apache/accumulo/pull/3022#issuecomment-1279150700","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3022","id":1279150700,"node_id":"IC_kwDOACaFSM5MPkps","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:24:05Z","updated_at":"2022-10-14T15:24:05Z","author_association":"CONTRIBUTOR","body":"@dlmarion - would it be feasible to have the teraform configuration inherit package versions from the main accumulo.pom - that would eliminate the need to manually sync configuration changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279150700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279153115","html_url":"https://github.com/apache/accumulo/pull/3022#issuecomment-1279153115","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3022","id":1279153115,"node_id":"IC_kwDOACaFSM5MPlPb","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:26:14Z","updated_at":"2022-10-14T15:26:14Z","author_association":"CONTRIBUTOR","body":"It's not just the code, it's the README as well. We could remove that from the README I guess. I'll create a ticket to investigate.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279153115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279157262","html_url":"https://github.com/apache/accumulo/pull/3022#issuecomment-1279157262","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3022","id":1279157262,"node_id":"IC_kwDOACaFSM5MPmQO","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:29:57Z","updated_at":"2022-10-14T15:29:57Z","author_association":"CONTRIBUTOR","body":"Created https://github.com/apache/accumulo-testing/issues/246","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279157262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279159903","html_url":"https://github.com/apache/accumulo/pull/3022#issuecomment-1279159903","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3022","id":1279159903,"node_id":"IC_kwDOACaFSM5MPm5f","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:32:20Z","updated_at":"2022-10-14T15:32:20Z","author_association":"CONTRIBUTOR","body":"> Updating OpenTelemetry and Micrometer here requires an update in the Terraform code in accumulo-testing. You can look at the prior commits in accumulo-testing to see what needs to change.\r\n\r\nDone: https://github.com/apache/accumulo-testing/pull/247","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279159903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279164968","html_url":"https://github.com/apache/accumulo/pull/3022#issuecomment-1279164968","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3022","id":1279164968,"node_id":"IC_kwDOACaFSM5MPoIo","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:37:00Z","updated_at":"2022-10-14T15:37:00Z","author_association":"CONTRIBUTOR","body":"I'll merge once the checks finish\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279164968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279166173","html_url":"https://github.com/apache/accumulo/pull/3022#issuecomment-1279166173","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3022","id":1279166173,"node_id":"IC_kwDOACaFSM5MPobd","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:38:11Z","updated_at":"2022-10-14T15:38:11Z","author_association":"MEMBER","body":"I may have found a few more that could be included here. I'll make a PR against this branch soon.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279166173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279170013","html_url":"https://github.com/apache/accumulo/pull/3022#issuecomment-1279170013","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3022","id":1279170013,"node_id":"IC_kwDOACaFSM5MPpXd","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:41:49Z","updated_at":"2022-10-14T15:41:49Z","author_association":"CONTRIBUTOR","body":"> I may have found a few more that could be included here. I'll make a PR against this branch soon.\r\n\r\nI will just merge this one and if you find some more you can open another PR against main","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279170013/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279183017","html_url":"https://github.com/apache/accumulo/pull/3003#issuecomment-1279183017","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3003","id":1279183017,"node_id":"IC_kwDOACaFSM5MPsip","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:54:33Z","updated_at":"2022-10-14T15:54:33Z","author_association":"CONTRIBUTOR","body":"What's the status of this PR now? Is there anything else to do here or is it ready?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279183017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279184378","html_url":"https://github.com/apache/accumulo/pull/3001#issuecomment-1279184378","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3001","id":1279184378,"node_id":"IC_kwDOACaFSM5MPs36","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:55:56Z","updated_at":"2022-10-14T15:55:56Z","author_association":"CONTRIBUTOR","body":"@DomGarguilo - is the plan to still try and fix this for 2.1.0? I may have time this weekend to look at it if you don't have a chance, not sure yet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279184378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279187741","html_url":"https://github.com/apache/accumulo/pull/3003#issuecomment-1279187741","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3003","id":1279187741,"node_id":"IC_kwDOACaFSM5MPtsd","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T15:59:25Z","updated_at":"2022-10-14T15:59:25Z","author_association":"CONTRIBUTOR","body":"I have an update forthcoming that uses the same node name (config) instead of config for system and conf for namespace and tables - going through the final clean-up now.  Because of merges, the push will likely be a force push.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279187741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279233341","html_url":"https://github.com/apache/accumulo/pull/3001#issuecomment-1279233341","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3001","id":1279233341,"node_id":"IC_kwDOACaFSM5MP409","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T16:39:49Z","updated_at":"2022-10-14T16:39:49Z","author_association":"MEMBER","body":"> @DomGarguilo - is the plan to still try and fix this for 2.1.0? I may have time this weekend to look at it if you don't have a chance, not sure yet.\r\n\r\nThis kind of fell off my radar. I won't be working on it this weekend so feel free to take a look :+1: ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279233341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279240703","html_url":"https://github.com/apache/accumulo/pull/3001#issuecomment-1279240703","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3001","id":1279240703,"node_id":"IC_kwDOACaFSM5MP6n_","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T16:47:52Z","updated_at":"2022-10-14T16:47:52Z","author_association":"CONTRIBUTOR","body":"> > @DomGarguilo - is the plan to still try and fix this for 2.1.0? I may have time this weekend to look at it if you don't have a chance, not sure yet.\r\n> \r\n> This kind of fell off my radar. I won't be working on it this weekend so feel free to take a look +1\r\n\r\nSounds good, I will be doing some testing and documentation stuff but if I have some extra time I will look at this too otherwise just leave it for you. I figured I'd ask to make sure didn't have something already in progress.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279240703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279257007","html_url":"https://github.com/apache/accumulo/pull/3021#issuecomment-1279257007","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3021","id":1279257007,"node_id":"IC_kwDOACaFSM5MP-mv","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T17:06:54Z","updated_at":"2022-10-14T17:06:54Z","author_association":"CONTRIBUTOR","body":"@dlmarion , yes. The tests pass on my local dev environment.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279257007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279322079","html_url":"https://github.com/apache/accumulo/pull/3003#issuecomment-1279322079","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3003","id":1279322079,"node_id":"IC_kwDOACaFSM5MQOff","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T18:19:05Z","updated_at":"2022-10-14T18:19:05Z","author_association":"CONTRIBUTOR","body":"This now contains the changes needed to use config instead of conf as the configuration node name for tables and namespaces (system already used config)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279322079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279344848","html_url":"https://github.com/apache/accumulo/pull/3024#issuecomment-1279344848","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3024","id":1279344848,"node_id":"IC_kwDOACaFSM5MQUDQ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T18:45:15Z","updated_at":"2022-10-14T18:45:15Z","author_association":"MEMBER","body":"I'm troubleshooting an error that seems to be a data type issue:\r\n\r\n```\r\nError when evaluating 'strategy' for job 'mvn'. .github/workflows/maven-full-its.yaml (Line: 88, Col: 15): Error parsing fromJson,.github/workflows/maven-full-its.yaml (Line: 88, Col: 15): Error reading JToken from JsonReader. Path '', line 0, position 0.,.github/workflows/maven-full-its.yaml (Line: 88, Col: 15): Unexpected type of value '', expected type: Mapping.\r\n```\r\n\r\nIt looks like GitHub is parsing environment variables as String types, and I can't seem to convert it to a \"Mapping\" type.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279344848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279362341","html_url":"https://github.com/apache/accumulo/pull/3024#issuecomment-1279362341","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3024","id":1279362341,"node_id":"IC_kwDOACaFSM5MQYUl","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T19:07:37Z","updated_at":"2022-10-14T19:07:37Z","author_association":"MEMBER","body":"Ignore my previous observations. I forgot to update the job output mapping to reflect the new step output name. I'm testing now, but I think the current bits will work.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279362341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279451565","html_url":"https://github.com/apache/accumulo/pull/3024#issuecomment-1279451565","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3024","id":1279451565,"node_id":"IC_kwDOACaFSM5MQuGt","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T20:49:25Z","updated_at":"2022-10-14T20:49:25Z","author_association":"MEMBER","body":"Okay, got it working. Apparently, you're not supposed to quote the output value, but leave the raw JSON... which is weird, because it makes an invalid environment variable assignment in a shell script... but apparently that's what it wants.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279451565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279779093","html_url":"https://github.com/apache/accumulo/pull/3001#issuecomment-1279779093","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3001","id":1279779093,"node_id":"IC_kwDOACaFSM5MR-EV","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T16:34:52Z","updated_at":"2022-10-15T16:34:52Z","author_association":"CONTRIBUTOR","body":"@DomGarguilo - I looked at this for about an hour today and tried to get the test working but I had issues getting Kerberos to work properly with the clients/server, etc as I haven't used it much before. There is a good amount of configuration and setup here to get everything working even with all the helper utilities in the parent class. I don't have anymore time to look at it so you or someone else will have to come back to it later but this is obviously not super high priority and can be done when someone has more time to fix it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1279779093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1280013701","html_url":"https://github.com/apache/accumulo/pull/3026#issuecomment-1280013701","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3026","id":1280013701,"node_id":"IC_kwDOACaFSM5MS3WF","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T17:20:54Z","updated_at":"2022-10-16T17:20:54Z","author_association":"CONTRIBUTOR","body":"Build failure seems to be related to some mocking issues my changes caused inside `ZooReaderWriterTest`. I will take a look at those next weekend unless someone wants to look at them in the meantime. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1280013701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1280940701","html_url":"https://github.com/apache/accumulo/pull/2965#issuecomment-1280940701","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2965","id":1280940701,"node_id":"IC_kwDOACaFSM5MWZqd","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T14:21:38Z","updated_at":"2022-10-17T14:21:38Z","author_association":"MEMBER","body":"Your suggestions/comments should be addressed @cshannon, if you would like to take another look.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1280940701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1281245777","html_url":"https://github.com/apache/accumulo/issues/2940#issuecomment-1281245777","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2940","id":1281245777,"node_id":"IC_kwDOACaFSM5MXkJR","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T17:53:11Z","updated_at":"2022-10-17T17:53:11Z","author_association":"CONTRIBUTOR","body":"Closed by https://github.com/apache/accumulo/pull/2900","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1281245777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1281282773","html_url":"https://github.com/apache/accumulo/pull/3001#issuecomment-1281282773","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3001","id":1281282773,"node_id":"IC_kwDOACaFSM5MXtLV","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T18:13:24Z","updated_at":"2022-10-17T18:13:24Z","author_association":"MEMBER","body":"@cshannon I opted to just replace the TODO comments and open up https://github.com/apache/accumulo/issues/3027 in their place. Let me know if you think this is fine or if I should remove the whole if statements and comments all together.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1281282773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1281482527","html_url":"https://github.com/apache/accumulo/pull/3003#issuecomment-1281482527","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3003","id":1281482527,"node_id":"IC_kwDOACaFSM5MYd8f","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T20:54:13Z","updated_at":"2022-10-17T20:54:13Z","author_association":"CONTRIBUTOR","body":"LGTM now","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1281482527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1281495012","html_url":"https://github.com/apache/accumulo/pull/3001#issuecomment-1281495012","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3001","id":1281495012,"node_id":"IC_kwDOACaFSM5MYg_k","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T21:06:49Z","updated_at":"2022-10-17T21:06:49Z","author_association":"CONTRIBUTOR","body":"> @cshannon I opted to just replace the TODO comments and open up #3027 in their place. Let me know if you think this is fine or if I should remove the whole if statements and comments all together.\r\n\r\nI'm ok either leaving the comment and if statement to fill in later or just removing it as it's just a test class. The new updated comment here is still basically a TODO (without calling it TODO) so not sure it's any better than before. To me the best way to track it is the new issue which you just created so I'm not sure we need to leave it and maybe can just remove the entire empty if statement block. @ctubbsii - any opinion on this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1281495012/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282120602","html_url":"https://github.com/apache/accumulo/issues/2667#issuecomment-1282120602","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2667","id":1282120602,"node_id":"IC_kwDOACaFSM5Ma5ua","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T09:45:00Z","updated_at":"2022-10-18T09:45:00Z","author_association":"CONTRIBUTOR","body":"I opened #3028, I think it may fix this issue.  I saw the problem happen multiple times while running the bulk RW test.  With additional logging added I confirmed the problem happened under the following conditions all happening to the same tablet at around the same time.\r\n\r\n * Tablet with no files\r\n * User compaction initiated\r\n * Tablet being closed\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282120602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282121702","html_url":"https://github.com/apache/accumulo/pull/3028#issuecomment-1282121702","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3028","id":1282121702,"node_id":"IC_kwDOACaFSM5Ma5_m","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T09:45:54Z","updated_at":"2022-10-18T09:45:54Z","author_association":"CONTRIBUTOR","body":"I am going to run the bulk random walk test where I was seeing this bug for a day or two with these changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282121702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282226397","html_url":"https://github.com/apache/accumulo/pull/3028#issuecomment-1282226397","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3028","id":1282226397,"node_id":"IC_kwDOACaFSM5MbTjd","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T11:20:25Z","updated_at":"2022-10-18T11:20:25Z","author_association":"CONTRIBUTOR","body":"I ran a lot of compaction related ITs with these changes and those all passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282226397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282241930","html_url":"https://github.com/apache/accumulo/pull/3028#issuecomment-1282241930","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3028","id":1282241930,"node_id":"IC_kwDOACaFSM5MbXWK","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T11:33:27Z","updated_at":"2022-10-18T11:33:27Z","author_association":"CONTRIBUTOR","body":"> I am going to run the bulk random walk test where I was seeing this bug for a day or two with these changes.\r\n\r\nI'm not sure that we need to wait for the results of that to merge this. If you have good confidence that this works, then we will be running those types of tests for release testing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282241930/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282267736","html_url":"https://github.com/apache/accumulo/pull/3028#issuecomment-1282267736","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3028","id":1282267736,"node_id":"IC_kwDOACaFSM5MbdpY","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T11:55:57Z","updated_at":"2022-10-18T11:56:25Z","author_association":"CONTRIBUTOR","body":"> I'm not sure that we need to wait for the results of that to merge this. If you have good confidence that this works, then we will be running those types of tests for release testing.\r\n\r\nI will keep an eye on the test I have running to look for any adverse effects from this change. The bulk rw test mixes compactions randomly w/ lots of other table operation in a verifiable way so it's really good a stressing the compaction code.  If anything does turn up, I can open a new issue.  \r\n\r\nUnrelated to this, seeing how good the bulk RW test is at stressing compaction code I have wondered how I can tweak it to incorporate external compactions.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282267736/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282745478","html_url":"https://github.com/apache/accumulo/pull/3028#issuecomment-1282745478","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3028","id":1282745478,"node_id":"IC_kwDOACaFSM5MdSSG","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T17:15:08Z","updated_at":"2022-10-18T17:15:08Z","author_association":"CONTRIBUTOR","body":"@keith-turner I was thinking it would be good to have external compactors running with internal compactions in the RW Bulk test, to try to create the situation I described in my comment.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282745478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282777382","html_url":"https://github.com/apache/accumulo/pull/3021#issuecomment-1282777382","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3021","id":1282777382,"node_id":"IC_kwDOACaFSM5MdaEm","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T17:42:47Z","updated_at":"2022-10-18T17:42:47Z","author_association":"CONTRIBUTOR","body":"Good catch @jmark99. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282777382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282803543","html_url":"https://github.com/apache/accumulo/pull/3021#issuecomment-1282803543","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3021","id":1282803543,"node_id":"IC_kwDOACaFSM5MdgdX","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T18:04:23Z","updated_at":"2022-10-18T18:04:23Z","author_association":"CONTRIBUTOR","body":"Thanks, @millerruntime.\n\nOn Tue, Oct 18, 2022 at 1:43 PM Mike Miller ***@***.***>\nwrote:\n\n> Good catch @jmark99 <https://github.com/jmark99>.\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/3021#issuecomment-1282777382>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AHQ4KYITTHPELBFZU2CSHWTWD3OSHANCNFSM6AAAAAARFGN6SE>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282803543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282809182","html_url":"https://github.com/apache/accumulo/pull/2912#issuecomment-1282809182","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2912","id":1282809182,"node_id":"IC_kwDOACaFSM5Mdh1e","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T18:08:31Z","updated_at":"2022-10-18T18:08:31Z","author_association":"CONTRIBUTOR","body":"Merging to main, can fix any issues laster.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282809182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282989862","html_url":"https://github.com/apache/accumulo/issues/2218#issuecomment-1282989862","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2218","id":1282989862,"node_id":"IC_kwDOACaFSM5MeN8m","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T20:51:16Z","updated_at":"2022-10-18T20:51:16Z","author_association":"CONTRIBUTOR","body":"To create this scenario, I setup a 2.0.1 release Uno cluster and followed these steps. Checkout accumulo-testing 2.0 branch, build and run CI for about 15 minutes, long enough to create several WALs. Kill the cluster and restart to trigger recovery. Look for the temporary sorted recovery files in: `hdfs://localhost:8020/accumulo/recovery` and kill the cluster again once they show up. Change ACCUMULO_REPO in uno.conf to point  to workspace of 2.1 SNAPSHOT and source Uno env again. Then run `uno install --no-deps` to replace Accumulo install directory but keeping ZK and Hadoop the same to preserve the data. Start the cluster. Once the upgrader is finished in the logs, switch accumulo-testing to main, build and run CI verify on the data.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1282989862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1283003127","html_url":"https://github.com/apache/accumulo/issues/2218#issuecomment-1283003127","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2218","id":1283003127,"node_id":"IC_kwDOACaFSM5MeRL3","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T21:05:41Z","updated_at":"2022-10-18T21:05:41Z","author_association":"CONTRIBUTOR","body":"Closing this as completed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1283003127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284206163","html_url":"https://github.com/apache/accumulo/issues/3031#issuecomment-1284206163","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3031","id":1284206163,"node_id":"IC_kwDOACaFSM5Mi25T","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T15:33:48Z","updated_at":"2022-10-19T15:33:48Z","author_association":"CONTRIBUTOR","body":"Another possible solution to this problem is to do more comprehensive analysis of exception causes [like this code does](https://github.com/apache/accumulo/blob/78142d74f3ed1a23a374f5bd5fdbd7f245a16721/core/src/main/java/org/apache/accumulo/fate/Fate.java#L138-L178).  This is a more robust solution.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284206163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284451502","html_url":"https://github.com/apache/accumulo/pull/2827#issuecomment-1284451502","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2827","id":1284451502,"node_id":"IC_kwDOACaFSM5Mjyyu","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T19:05:34Z","updated_at":"2022-10-19T19:05:34Z","author_association":"MEMBER","body":"I'm also in favor of removing this class, and share @milleruntime 's concern about introducing it in new classes where it wasn't used before. However, I do find the new name less confusing, if we end up keeping it. I also like making it a singleton, if we're keeping it around. We don't need more than one of these per process.\r\n\r\nI think we should push this off to 3.0, at least, and decide then what we want to do with it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284451502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284463011","html_url":"https://github.com/apache/accumulo/pull/3032#issuecomment-1284463011","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3032","id":1284463011,"node_id":"IC_kwDOACaFSM5Mj1mj","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T19:16:23Z","updated_at":"2022-10-19T19:16:23Z","author_association":"CONTRIBUTOR","body":"Have not tested this yet, its tricky to test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284463011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284550403","html_url":"https://github.com/apache/accumulo/pull/3032#issuecomment-1284550403","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3032","id":1284550403,"node_id":"IC_kwDOACaFSM5MkK8D","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T20:42:53Z","updated_at":"2022-10-19T20:42:53Z","author_association":"MEMBER","body":"This fixes #3031 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284550403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284563004","html_url":"https://github.com/apache/accumulo/issues/3033#issuecomment-1284563004","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3033","id":1284563004,"node_id":"IC_kwDOACaFSM5MkOA8","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T20:55:01Z","updated_at":"2022-10-19T20:55:01Z","author_association":"MEMBER","body":"I wonder if it is related to https://github.com/mojohaus/exec-maven-plugin/issues/334 , which also seems related to https://github.com/mojohaus/exec-maven-plugin/issues/75 . exec-maven-plugin seems to perpetually be confused regarding anything with `-p`, due to assumptions that it's related to a Java modulepath, even if the executable is entirely different.\r\n\r\nIt would be good to just put in an inline XML comment like the one we used to have for 1.6.0:  https://github.com/apache/accumulo/blob/631386de49bbc351411ce0e3c49982f1df998fe9/pom.xml#L742","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284563004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284572990","html_url":"https://github.com/apache/accumulo/pull/3001#issuecomment-1284572990","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3001","id":1284572990,"node_id":"IC_kwDOACaFSM5MkQc-","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T21:05:03Z","updated_at":"2022-10-19T21:05:03Z","author_association":"MEMBER","body":">  @ctubbsii - any opinion on this?\r\n\r\nThe advantage of doing this is that it clears the TODO from the code, so we know we've triaged it. If it stays as a TODO, then somebody might create another ticket later. So, let's merge this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284572990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284692244","html_url":"https://github.com/apache/accumulo/issues/3004#issuecomment-1284692244","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3004","id":1284692244,"node_id":"IC_kwDOACaFSM5MktkU","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T23:19:15Z","updated_at":"2022-10-19T23:19:15Z","author_association":"MEMBER","body":"Might be related to #2996 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284692244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284806896","html_url":"https://github.com/apache/accumulo/issues/2606#issuecomment-1284806896","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2606","id":1284806896,"node_id":"IC_kwDOACaFSM5MlJjw","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T02:04:59Z","updated_at":"2022-10-20T02:04:59Z","author_association":"MEMBER","body":"@dlmarion This is marked as a blocker for 2.1. Is that still accurate? From the discussion, it looks like it does work, but not as expected.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284806896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284808475","html_url":"https://github.com/apache/accumulo/issues/2606#issuecomment-1284808475","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2606","id":1284808475,"node_id":"IC_kwDOACaFSM5MlJ8b","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T02:07:26Z","updated_at":"2022-10-20T02:07:26Z","author_association":"CONTRIBUTOR","body":"No, punt to next release","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284808475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284896182","html_url":"https://github.com/apache/accumulo/issues/1790#issuecomment-1284896182","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1790","id":1284896182,"node_id":"IC_kwDOACaFSM5MlfW2","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T04:10:04Z","updated_at":"2022-10-20T04:10:04Z","author_association":"MEMBER","body":"I saw this flake out again more recently, while testing #3035:\r\n\r\n```\r\n[INFO] Running org.apache.accumulo.test.functional.FateStarvationIT\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 69.876 s <<< FAILURE! - in org.apache.accumulo.test.functional.FateStarvationIT\r\n[ERROR] org.apache.accumulo.test.functional.FateStarvationIT.run  Time elapsed: 69.234 s  <<< ERROR!\r\njava.lang.RuntimeException: java.lang.RuntimeException: org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /accumulo/6702ad71-c63f-43c1-893e-2846001343c5/fate/tx_69f49eff35439e9a\r\n\tat org.apache.accumulo.core.fate.ZooStore.top(ZooStore.java:322)\r\n\tat org.apache.accumulo.core.fate.ZooStore.top(ZooStore.java:57)\r\n\tat org.apache.accumulo.core.fate.AdminUtil.getTransactionStatus(AdminUtil.java:382)\r\n\tat org.apache.accumulo.core.fate.AdminUtil.getStatus(AdminUtil.java:261)\r\n\tat org.apache.accumulo.test.functional.FunctionalTestUtils.getFateStatus(FunctionalTestUtils.java:220)\r\n\tat org.apache.accumulo.test.functional.FunctionalTestUtils.assertNoDanglingFateLocks(FunctionalTestUtils.java:206)\r\n\tat org.apache.accumulo.test.functional.FateStarvationIT.run(FateStarvationIT.java:68)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.api.AssertTimeoutPreemptively.lambda$submitTask$3(AssertTimeoutPreemptively.java:95)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.RuntimeException: org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /accumulo/6702ad71-c63f-43c1-893e-2846001343c5/fate/tx_69f49eff35439e9a\r\n\tat org.apache.accumulo.core.fate.ZooStore.top(ZooStore.java:310)\r\n\t... 18 more\r\nCaused by: org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /accumulo/6702ad71-c63f-43c1-893e-2846001343c5/fate/tx_69f49eff35439e9a\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:118)\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:54)\r\n\tat org.apache.zookeeper.ZooKeeper.getChildren(ZooKeeper.java:2366)\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.lambda$getChildren$6(ZooReader.java:107)\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.retryLoopMutator(ZooReader.java:185)\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.retryLoop(ZooReader.java:164)\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.retryLoop(ZooReader.java:151)\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.getChildren(ZooReader.java:107)\r\n\tat org.apache.accumulo.core.fate.ZooStore.findTop(ZooStore.java:329)\r\n\tat org.apache.accumulo.core.fate.ZooStore.top(ZooStore.java:305)\r\n\t... 18 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284896182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284897581","html_url":"https://github.com/apache/accumulo/pull/3035#issuecomment-1284897581","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3035","id":1284897581,"node_id":"IC_kwDOACaFSM5Mlfst","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T04:12:39Z","updated_at":"2022-10-20T04:12:39Z","author_association":"MEMBER","body":"All ITs pass, but saw FateStarvationIT flake out once, before passing on subsequent runs. This is a known flaky test (See #1790), and it passed on subsequent runs, so it's not related to these changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284897581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284899997","html_url":"https://github.com/apache/accumulo/pull/3035#issuecomment-1284899997","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3035","id":1284899997,"node_id":"IC_kwDOACaFSM5MlgSd","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T04:16:43Z","updated_at":"2022-10-20T04:16:43Z","author_association":"MEMBER","body":"Since this is a trivial package rename change that brings things into alignment with existing naming conventions for the project, there's not really anything to review here, and all the ITs passed, so I'm going to go ahead and merge this. If there's an issue with this, it will be trivial to revert.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1284899997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1285337579","html_url":"https://github.com/apache/accumulo/pull/3028#issuecomment-1285337579","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3028","id":1285337579,"node_id":"IC_kwDOACaFSM5MnLHr","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T11:04:50Z","updated_at":"2022-10-20T11:04:50Z","author_association":"CONTRIBUTOR","body":"My random walk bulk test with these changes have been running for ~48hrs w/o issue except for #3032. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1285337579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1285344031","html_url":"https://github.com/apache/accumulo/issues/3031#issuecomment-1285344031","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3031","id":1285344031,"node_id":"IC_kwDOACaFSM5MnMsf","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T11:11:00Z","updated_at":"2022-10-20T11:11:00Z","author_association":"CONTRIBUTOR","body":"Thanks @ctubbsii for setting the project metadata on this issue. I'll try to remember to do that in the future.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1285344031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1285501238","html_url":"https://github.com/apache/accumulo/issues/3004#issuecomment-1285501238","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3004","id":1285501238,"node_id":"IC_kwDOACaFSM5MnzE2","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T13:00:34Z","updated_at":"2022-10-20T13:00:34Z","author_association":"CONTRIBUTOR","body":"It could also be a race condition where the table id is reserved / stored in ZooKeeper but the rest of the table creation is in-flight.  Looking to see if reordering the creation steps can be reordered so that the \"existence\" of the table is advertised after the configuration and other step have been created.\r\n\r\nFor things like the balancer - those should execute on the next run loop - as long as the run where the configuration cannot be read, it skips / aborts so that it does not do anything that may not be the correct action (for example, defaulting to the default balancer when a custom balancer should be used)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1285501238/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1285695028","html_url":"https://github.com/apache/accumulo/issues/3023#issuecomment-1285695028","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3023","id":1285695028,"node_id":"IC_kwDOACaFSM5MoiY0","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T14:59:18Z","updated_at":"2022-10-20T14:59:18Z","author_association":"MEMBER","body":"It looks like I may have encountered something similar while running continuous ingest on branch 2.1.0-rc0 with a 10 node cluster\r\n![image](https://user-images.githubusercontent.com/47725857/196984711-18ec7c29-aaa7-49b5-b362-285a886c3f5a.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1285695028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1286978227","html_url":"https://github.com/apache/accumulo/pull/3036#issuecomment-1286978227","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3036","id":1286978227,"node_id":"IC_kwDOACaFSM5Mtbqz","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T13:41:13Z","updated_at":"2022-10-21T13:41:13Z","author_association":"CONTRIBUTOR","body":"This is definitely a nice change to speed things up. I will just echo @ctubbsii here and say my main concern is just that the instance properties are modified in some tests and you don't know the order the tests will run so it's not really always testing the same thing potentially.\r\n\r\nMaybe when the integration test first starts up we capture the original properties/defaults for the instance and then after each test the original properties could be reset back so that when each test runs it always has the same starting point?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1286978227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1287367989","html_url":"https://github.com/apache/accumulo/issues/1790#issuecomment-1287367989","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1790","id":1287367989,"node_id":"IC_kwDOACaFSM5Mu601","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T19:42:40Z","updated_at":"2022-10-21T19:42:40Z","author_association":"CONTRIBUTOR","body":"Assuming that ZK couldn't be reached for whatever reason, it looks like the `top()` method in ZooStore has code to retry. But there is an additional try/catch within the retry that will bypass the retry loop and throw a RuntimeException. So if connection is lost at the right moment, it won't retry. Did you see any retries with this messsage: `        log.debug(\"zookeeper error reading \" + txpath + \": \" + ex, ex);\r\n`?\r\n\r\nIt seems like we should just drop the try/catch around this call:\r\nhttps://github.com/apache/accumulo/blob/2dbdc085390794e7925740a81439c66dc3dfbb7c/core/src/main/java/org/apache/accumulo/core/fate/ZooStore.java#L305\r\n\r\nI don't know why we need nested try/catch statements. It doesn't make sense why we would want to retry when making a ZK call to `getData()` but not `getChildren()`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1287367989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1287379464","html_url":"https://github.com/apache/accumulo/pull/3036#issuecomment-1287379464","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3036","id":1287379464,"node_id":"IC_kwDOACaFSM5Mu9oI","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T19:57:30Z","updated_at":"2022-10-21T19:57:30Z","author_association":"MEMBER","body":"> Looks good to me, are we good to merge this in for 2.1.0 or are we waiting for 3.0.0 ?\r\n\r\nIt can be merged for 2.1. Whether or not it makes it into the next release candidate depends on timing, but for this, it doesn't really matter. The main concern for me is potential for the tests to interfere with each other if they run concurrently, rather than sequentially, or if one leaves it in an unexpected state before the next runs (if run sequentially).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1287379464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1287493418","html_url":"https://github.com/apache/accumulo/pull/3037#issuecomment-1287493418","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3037","id":1287493418,"node_id":"IC_kwDOACaFSM5MvZcq","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T22:24:51Z","updated_at":"2022-10-21T22:24:51Z","author_association":"CONTRIBUTOR","body":"I ran into the same mocking issues in #3026. I can take a look at it tomorrow @keith-turner if you don't have the time. I will close my pr, #3026, as I like the descriptions of these more. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1287493418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1287494285","html_url":"https://github.com/apache/accumulo/pull/3026#issuecomment-1287494285","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3026","id":1287494285,"node_id":"IC_kwDOACaFSM5MvZqN","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T22:26:20Z","updated_at":"2022-10-21T22:26:20Z","author_association":"CONTRIBUTOR","body":"Closing due to #3037 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1287494285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1288111394","html_url":"https://github.com/apache/accumulo/pull/3037#issuecomment-1288111394","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3037","id":1288111394,"node_id":"IC_kwDOACaFSM5MxwUi","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T13:18:11Z","updated_at":"2022-10-23T13:18:35Z","author_association":"CONTRIBUTOR","body":"It seems the issue is we call `waitForNextAttempt` with the provided parameters and then during the `zrw.delete(path)` call, a different `retry.waitForNextAttempt` gets called inside `ZooReader` with a different logger and string which is unexpected for the mock run. I couldn't find an elegant solution (I'm no easyMock expert) but doing something like `retry.waitForNextAttempt(anyObject(), anyString());` (inside the test) does make the test pass. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1288111394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289258235","html_url":"https://github.com/apache/accumulo/pull/3037#issuecomment-1289258235","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3037","id":1289258235,"node_id":"IC_kwDOACaFSM5M2IT7","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T16:03:15Z","updated_at":"2022-10-24T16:03:15Z","author_association":"CONTRIBUTOR","body":"@Manno15 I didn't realize there was an existing PR when I started working on this, I wouldn't have started working on it if I had known.  Thanks for fixing the test problem @ctubbsii.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289258235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289413337","html_url":"https://github.com/apache/accumulo/issues/2697#issuecomment-1289413337","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2697","id":1289413337,"node_id":"IC_kwDOACaFSM5M2uLZ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T18:18:03Z","updated_at":"2022-10-24T18:18:03Z","author_association":"MEMBER","body":"I was hoping to fix this for 2.1. However, I can't find a sensible path forward here. I think the problems with these SPI classes for the block cache run deeper. For example, the `getIndex` method takes a supplier of a weighable. But, a weighable is just a supplier of an integer. The expectation seems to be that `getIndex` should return a weighable block index reference, but it doesn't have to... it's not clear from the API, though, what the supplier parameter is supposed to be providing. It doesn't actually have to supply anything that represents a block index... it just has to supply a supplier of integers. Internally we don't notice how bad this is because we only ever use the BlockIndex class with it, which works fine. But, we do a bunch of casting to make it work internally. There's no correctness enforced at the API level, and it is very very confusing.\r\n\r\nHowever, I don't think we can easily change the generics to make any of this more sensible, because if we change the method generics to be class-level generics, then we have to propagate the \"Weighable\" generics parameter all the way up to the BlockCacheManager... which is very disruptive. And, it's not clear we want to make this \"Weighable\" so prominent everywhere, because it doesn't necessarily have significance to the implementer of these SPI classes. It probably would have been better if we dropped the generics entirely, and just made \"BlockIndex\", which is the only Weighable class we have, be public API, and used directly. However, that is also a disruptive change, and may restrict SPI implementers.\r\n\r\nIn addition to all these problems, trying to preserve semver/backwards compatibility with 2.0 is a huge pain. Even if we relaxed that for an SPI class, there's still the above problems that I'm not sure how to deal with, without collaborating more with somebody who understands the use case it was implemented this way for. The javadoc on `getIndex` method is very vague.\r\n\r\nSo, I don't really know how to move forward on this, and I'm just going to close this as \"Won't Fix\". Could revisit in future, but maybe it's good enough as-is, and not really a problem for anybody but me (:smiley_cat:).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289413337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289465986","html_url":"https://github.com/apache/accumulo/pull/3038#issuecomment-1289465986","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3038","id":1289465986,"node_id":"IC_kwDOACaFSM5M27CC","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T19:01:27Z","updated_at":"2022-10-24T19:01:27Z","author_association":"CONTRIBUTOR","body":"Does this fix a bug in 2.1.0? If not, I'd rather we punt this to a bugfix release and get RC1 underway.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289465986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289504794","html_url":"https://github.com/apache/accumulo/pull/3038#issuecomment-1289504794","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3038","id":1289504794,"node_id":"IC_kwDOACaFSM5M3Ega","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T19:36:33Z","updated_at":"2022-10-24T19:36:33Z","author_association":"MEMBER","body":"> Does this fix a bug in 2.1.0? If not, I'd rather we punt this to a bugfix release and get RC1 underway.\r\n\r\nIt does not fix a bug. It just makes a few lines very slightly more readable and easier to follow. Merging it won't block an RC1, though. I have another patch to improve the assembly process itself, that I'll be merging before RC1 anyway. I don't care if we include this or not, but it's trivial.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289504794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289524413","html_url":"https://github.com/apache/accumulo/issues/1730#issuecomment-1289524413","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1730","id":1289524413,"node_id":"IC_kwDOACaFSM5M3JS9","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T19:53:04Z","updated_at":"2022-10-24T19:53:04Z","author_association":"MEMBER","body":"I don't think this is a problem if these classes are going away. I'll close this, but if I've misunderstood, then please reopen.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289524413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289528617","html_url":"https://github.com/apache/accumulo/issues/1554#issuecomment-1289528617","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1554","id":1289528617,"node_id":"IC_kwDOACaFSM5M3KUp","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T19:57:28Z","updated_at":"2022-10-24T19:57:28Z","author_association":"MEMBER","body":"I haven't seen this in quite some time. I'm closing this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289528617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289530722","html_url":"https://github.com/apache/accumulo/issues/798#issuecomment-1289530722","issue_url":"https://api.github.com/repos/apache/accumulo/issues/798","id":1289530722,"node_id":"IC_kwDOACaFSM5M3K1i","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T19:59:12Z","updated_at":"2022-10-24T19:59:12Z","author_association":"MEMBER","body":"Bumping this off of 2.1, but I'm wondering if this is still a problem at all.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289530722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289532777","html_url":"https://github.com/apache/accumulo/issues/1099#issuecomment-1289532777","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1099","id":1289532777,"node_id":"IC_kwDOACaFSM5M3LVp","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T20:00:56Z","updated_at":"2022-10-24T20:00:56Z","author_association":"MEMBER","body":"Some work was done to address these already. Is there more work to be done for this, or can this issue be closed? (Closing won't preclude us from seeking out hot methods in the future. It will just wrap up this investigation.)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1289532777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290463008","html_url":"https://github.com/apache/accumulo/issues/3040#issuecomment-1290463008","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3040","id":1290463008,"node_id":"IC_kwDOACaFSM5M6ucg","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T12:26:18Z","updated_at":"2022-10-25T12:26:18Z","author_association":"MEMBER","body":"I believe Accumulo has a per-table configuration to specify the number of replicas. I do not know much about the API/configuration options for HDFS's erasure coding, but I imagine that you can set the number of replicas to 1 in the Accumulo configuration, and enable erasure coding for HDFS through it's own configuration. Getting this working as an example, may be a useful exercise for a blog post for our website.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290463008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290479157","html_url":"https://github.com/apache/accumulo/issues/3040#issuecomment-1290479157","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3040","id":1290479157,"node_id":"IC_kwDOACaFSM5M6yY1","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T12:36:47Z","updated_at":"2022-10-25T12:36:47Z","author_association":"CONTRIBUTOR","body":"It appears that the `RS-6-3-1024k` policy is available for use, but not set on any directory.\r\n\r\n```\r\nhdfs ec -getPolicy -path /accumulo\r\nThe erasure coding policy of /accumulo is unspecified\r\nhdfs ec -getPolicy -path /\r\nThe erasure coding policy of / is unspecified\r\n```\r\n\r\nWe'll need to investigate further.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290479157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290625838","html_url":"https://github.com/apache/accumulo/issues/3040#issuecomment-1290625838","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3040","id":1290625838,"node_id":"IC_kwDOACaFSM5M7WMu","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T14:12:50Z","updated_at":"2022-10-25T14:12:50Z","author_association":"CONTRIBUTOR","body":"Reference: https://hadoop.apache.org/docs/r3.3.4/hadoop-project-dist/hadoop-hdfs/HDFSErasureCoding.html","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290625838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290812447","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1290812447","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1290812447,"node_id":"IC_kwDOACaFSM5M8Dwf","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T16:10:37Z","updated_at":"2022-10-25T16:10:37Z","author_association":"MEMBER","body":"I had been seeing this with some frequency as well:\r\n![image](https://user-images.githubusercontent.com/47725857/197826191-599d7f78-5c3c-4f87-a06d-590bec04b5bb.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290812447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290827190","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1290827190","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1290827190,"node_id":"IC_kwDOACaFSM5M8HW2","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T16:22:45Z","updated_at":"2022-10-25T16:22:45Z","author_association":"MEMBER","body":"@dlmarion could this be caused by a bug in the multiplexed RPCs? Or possibly an outdated internal fork of Thrift client code we copied into our own project?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290827190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290827885","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1290827885","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1290827885,"node_id":"IC_kwDOACaFSM5M8Hht","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T16:23:21Z","updated_at":"2022-10-25T16:23:21Z","author_association":"CONTRIBUTOR","body":"unknown. looking...","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290827885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290829769","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1290829769","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1290829769,"node_id":"IC_kwDOACaFSM5M8H_J","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T16:24:58Z","updated_at":"2022-10-25T16:24:58Z","author_association":"MEMBER","body":"I was seeing this when I had external compaction enabled. Now, running a cluster with **internal** compactions, I am not seeing this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290829769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290854912","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1290854912","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1290854912,"node_id":"IC_kwDOACaFSM5M8OIA","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T16:46:54Z","updated_at":"2022-10-25T16:46:54Z","author_association":"CONTRIBUTOR","body":"But I'm seeing this in the manager, gc, and compaction coordinator logs. I'm not sure why I would be seeing it in the gc logs if it was just related to external compactions\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290854912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]