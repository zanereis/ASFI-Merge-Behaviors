[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530824196","html_url":"https://github.com/apache/accumulo/pull/1358#issuecomment-530824196","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1358","id":530824196,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDgyNDE5Ng==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T13:25:06Z","updated_at":"2019-09-12T13:25:06Z","author_association":"CONTRIBUTOR","body":"@ctubbsii Yes. Tablet appears to be a 'hot' lock.  I am actually looking at that class but it's a bit of a beast.  Anyway we can remove these external `Tablet` locks will make it easier later.\r\n\r\nThis class is a good candidate to improve:\r\n\r\n1. I believe the lock on `Tablet` is superfluous\r\n2. Update to use Java Concurrency classes (as an example for the rest of the code base)\r\n3. I do not trust this code because `commitsInProgress` is accessed by different threads but is not `volatile`.  In particular, it may be the case that `waitForCommitsToFinish` loops forever because the thread has cached the value of `commitsInProgress`\r\n4. `decrementCommitsInProgress` and `incrementCommitsInProgress` are not synchronized so incrementing and decrementing `commitsInProgress` seems suspect\r\n\r\nI say that the lock on `Tablet` is superfluous here because the `Tablet` is being `notifyAll()` when `commitsInProgress` is zero.  The thing is that the only code that cares about this `notifyAll()` is in `waitForCommitsToFinish`.  The `commitsInProgress` value is private to this class and only accessed in the local method `waitForCommitsToFinish`.  So, all the threads locking on `Tablet` will be awoken here, but none of them have any way to respond to this event, except for `waitForCommitsToFinish`, so why bother waking up every thread?  Just wake up the threads waiting on `commitsInProgress` to be zero.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530824196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530859174","html_url":"https://github.com/apache/accumulo/pull/1358#issuecomment-530859174","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1358","id":530859174,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDg1OTE3NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T14:44:00Z","updated_at":"2019-09-12T14:44:00Z","author_association":"CONTRIBUTOR","body":"The code is very complicated for Tablet, but the conceptual model is very simple.  There is a single lock that protects most (there are some exceptions) of a tablets critical in memory data.  A single lock is very easy to reason about.  Multiple locks are hard to reason about. Adding multiple locks piecemeal w/o looking at the bigger picture is not a good idea IMO, I think a complete redesign for Tablet concurrency would be needed.\r\n\r\nThis code currently expects the Tablet lock to be held when the method is called.  Currently commit sessions are rotated on minor compaction.  The single tablet lock makes this pointer manipulation and access to an individual commit session consistent.  Without the single lock one would need to carefully ensure this consistency is maintained.  If that consistency is not maintained it would lead to many bad things.\r\n\r\nLooking into this a bit I think a nice solution for the current code would be to add the following to methods that expect the Tablet lock to be held.  Adding these checks nicely documents the expectation and causes the code to fail at runtime if the expectation is not met.\r\n\r\n```java\r\n  Preconditions.checkState(Thread.holdsLock(tablet);\r\n```\r\n\r\nFor this particular code it would be :\r\n\r\n```java\r\n  Preconditions.checkState(Thread.holdsLock(committer));\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530859174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530861250","html_url":"https://github.com/apache/accumulo/pull/1358#issuecomment-530861250","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1358","id":530861250,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDg2MTI1MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T14:48:36Z","updated_at":"2019-09-12T15:12:00Z","author_association":"CONTRIBUTOR","body":"> Update to use Java Concurrency classes (as an example for the rest of the code base)\r\n\r\nI think this could be a nice solution long term solution.  Create a Java lock object in tablet and pass it around, making things very explicit in the code, making the code easier to understand.  Java's reentrant lock has the method `isHeldByCurrentThread()` that could be used for precondition checks.  Still having a single lock makes reasoning about concurrency correctness easier.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530861250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530906586","html_url":"https://github.com/apache/accumulo/issues/995#issuecomment-530906586","issue_url":"https://api.github.com/repos/apache/accumulo/issues/995","id":530906586,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDkwNjU4Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T16:37:13Z","updated_at":"2019-09-12T16:37:13Z","author_association":"CONTRIBUTOR","body":"Superseded by #1357","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530906586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530933558","html_url":"https://github.com/apache/accumulo/pull/1358#issuecomment-530933558","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1358","id":530933558,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDkzMzU1OA==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T17:49:13Z","updated_at":"2019-09-12T17:49:13Z","author_association":"CONTRIBUTOR","body":"@keith-turner Thanks for the input.\r\n\r\nSo, the downside with your proposed solution is that the locking becomes very granular.  That is to say, if a method needs to be called with the lock in hand, then any initialization of the method happens withing the context of the lock.  If the lock is internal to each class, locks can be acquired as-needed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530933558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530936898","html_url":"https://github.com/apache/accumulo/pull/1358#issuecomment-530936898","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1358","id":530936898,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDkzNjg5OA==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T17:57:38Z","updated_at":"2019-09-12T17:57:38Z","author_association":"CONTRIBUTOR","body":"Also, typically, I use `isHeldByCurrentThread()` in `private` scoped methods to ensure the lock is not lost with a future change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530936898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530941370","html_url":"https://github.com/apache/accumulo/pull/1352#issuecomment-530941370","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1352","id":530941370,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDk0MTM3MA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T18:09:40Z","updated_at":"2019-09-12T18:09:40Z","author_association":"CONTRIBUTOR","body":"I'm going to merge this unless there are objections.  When I merge forward I'll change the default from compact to flush.\r\n\r\nI working up to publishing the gc stats with metrics2 to facilitate external monitoring.  I have a couple of other changes in this area that will be coming soon, and merging this, now, will simplify future pull requests.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530941370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530943813","html_url":"https://github.com/apache/accumulo/pull/1330#issuecomment-530943813","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1330","id":530943813,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDk0MzgxMw==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T18:16:24Z","updated_at":"2019-09-12T18:16:24Z","author_association":"CONTRIBUTOR","body":"Last commit includes all suggested changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530943813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530944412","html_url":"https://github.com/apache/accumulo/pull/1358#issuecomment-530944412","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1358","id":530944412,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDk0NDQxMg==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T18:18:00Z","updated_at":"2019-09-12T18:18:00Z","author_association":"CONTRIBUTOR","body":"You can check out my work on the matter here:\r\n\r\nhttps://github.com/belugabehr/accumulo/tree/TabletLock","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530944412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530944944","html_url":"https://github.com/apache/accumulo/pull/1358#issuecomment-530944944","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1358","id":530944944,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDk0NDk0NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T18:19:20Z","updated_at":"2019-09-12T18:19:39Z","author_association":"CONTRIBUTOR","body":"> So, the downside with your proposed solution is that the locking becomes very granular. That is to say, if a method needs to be called with the lock in hand, then any initialization of the method happens withing the context of the lock. If the lock is internal to each class, locks can be acquired as needed.\r\n\r\nAnother possible path would be to move all of tablets in memory state (list of files, active scans, list of bulk imported files, list of write ahead logs, compaction state, etc) into a single class with methods for mutating the state.  All concurrency control over this state would be in this single class and hopefully this makes it clear when multiple variables need to be mutated atomically.  Having the data and concurrency protections for the data all in one place would make it much easier to reason about.  The class would contain no code for acting on the data (like the code for actually scanning a tablet would not be in this class).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/530944944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531001758","html_url":"https://github.com/apache/accumulo/pull/1357#issuecomment-531001758","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1357","id":531001758,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTAwMTc1OA==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T20:52:25Z","updated_at":"2019-09-12T20:52:25Z","author_association":"CONTRIBUTOR","body":"@keith-turner Teamwork makes the dream work.  Love it.  Have at it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531001758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531008392","html_url":"https://github.com/apache/accumulo/pull/1357#issuecomment-531008392","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1357","id":531008392,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTAwODM5Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T21:11:17Z","updated_at":"2019-09-12T21:11:17Z","author_association":"CONTRIBUTOR","body":"I pushed a small change a3107c08a82e2b6a209ca70324c35c5573e4c385.  When I was looking at this PR I noticed one of the comments was in the wrong place in the code.  So I fixed the comments and inlined that var.\r\n\r\nThanks again @belugabehr \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531008392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531009014","html_url":"https://github.com/apache/accumulo/pull/1357#issuecomment-531009014","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1357","id":531009014,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTAwOTAxNA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T21:13:10Z","updated_at":"2019-09-12T21:13:10Z","author_association":"CONTRIBUTOR","body":"I ran ConditionalWriterIT which exercises RowLocks and it passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531009014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531040596","html_url":"https://github.com/apache/accumulo/pull/1358#issuecomment-531040596","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1358","id":531040596,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTA0MDU5Ng==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T23:11:18Z","updated_at":"2019-09-12T23:11:18Z","author_association":"CONTRIBUTOR","body":"For this particular PR it's still not clear to me why `CommitSession.java` needs to lock (block) the entire tablet to keep this internal count.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531040596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531274741","html_url":"https://github.com/apache/accumulo/pull/1358#issuecomment-531274741","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1358","id":531274741,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTI3NDc0MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T15:06:22Z","updated_at":"2019-09-13T15:11:16Z","author_association":"CONTRIBUTOR","body":"> For this particular PR it's still not clear to me why CommitSession.java needs to lock (block) the entire tablet to keep this internal count.\r\n\r\nIts not that the tablet is locked just to mutate this counter.  The tablet is locked because it is  reading/writing multiple variables that need to be considered together atomically (for example it needs to get a pointer to the correct commit session and ensure the tablet state is not closed).  There are two places in the code where the lock is acquired and the count is mutated along with reading/writing other tablet state.  Below is link to those two places.\r\n\r\nhttps://github.com/apache/accumulo/blob/40d954f22b22ff437b938c6bf3607298b30e1088/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/Tablet.java#L1179\r\n\r\nhttps://github.com/apache/accumulo/blob/40d954f22b22ff437b938c6bf3607298b30e1088/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/Tablet.java#L1301\r\n\r\nEven if this code has its own lock, it would still be mutated within the tablet lock.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531274741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531365357","html_url":"https://github.com/apache/accumulo/pull/1360#issuecomment-531365357","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1360","id":531365357,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTM2NTM1Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T19:37:40Z","updated_at":"2019-09-13T19:37:40Z","author_association":"CONTRIBUTOR","body":"@EdColeman are you only interested in the last stats or the last and current stats.  Just getting the last stats could simple because those could be stored in an AtomicReference whenever they are swapped. \r\n\r\nThe current stats are trickier because another thread is changing them.  Your locking approach will make sure the current stats are visible to another thread.  I was going to propose a way to simplify the locking code using lambdas, but then I realized this was java 1.7.\r\n\r\nAnother possible approach other than the locking is to not use the thrift objects inside the GC code.  Create our own simple objects with volatile counters.  Whenever the thrift object is requested, could materialize it from the internal status object.  Not proposing to do this, its just something I thought of while thinking through the solutions space.\r\n\r\nAnother option is to do nothing.  It seems like the monitor has been reading this information without any volatile or sync.  I suppose the monitor has probably reported stale information in some circumstances.  I have seen multithreaded code that did not use volatile for a boolean read stale information for tens of minutes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531365357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531372663","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-531372663","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":531372663,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTM3MjY2Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T20:02:35Z","updated_at":"2019-09-13T20:02:35Z","author_association":"CONTRIBUTOR","body":"@jzgithub1 I recommend putting long output like this in a text file and attaching it to your comment by dragging and dropping into the comment box.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531372663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531380062","html_url":"https://github.com/apache/accumulo/issues/471#issuecomment-531380062","issue_url":"https://api.github.com/repos/apache/accumulo/issues/471","id":531380062,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTM4MDA2Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T20:27:57Z","updated_at":"2019-09-13T20:27:57Z","author_association":"CONTRIBUTOR","body":"I just saw this running random walk concurrent test on 2.0. \r\n```\r\njava.lang.Exception: Error running node Concurrent.xml\r\n\tat org.apache.accumulo.testing.randomwalk.Module.visit(Module.java:370)\r\n\tat org.apache.accumulo.testing.randomwalk.Framework.run(Framework.java:48)\r\n\tat org.apache.accumulo.testing.randomwalk.Framework.main(Framework.java:92)\r\nCaused by: java.lang.Exception: Error running node ct.BulkImport\r\n\tat org.apache.accumulo.testing.randomwalk.Module.visit(Module.java:370)\r\n\tat org.apache.accumulo.testing.randomwalk.Module$1.call(Module.java:303)\r\n\tat org.apache.accumulo.testing.randomwalk.Module$1.call(Module.java:298)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.accumulo.fate.util.LoggingRunnable.run(LoggingRunnable.java:35)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.accumulo.core.client.AccumuloException: Concurrent merge happened\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.doFateOperation(TableOperationsImpl.java:385)\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.doFateOperation(TableOperationsImpl.java:342)\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.doBulkFateOperation(TableOperationsImpl.java:329)\r\n\tat org.apache.accumulo.core.clientImpl.bulk.BulkImport.load(BulkImport.java:142)\r\n\tat org.apache.accumulo.testing.randomwalk.concurrent.BulkImport.visit(BulkImport.java:130)\r\n\t... 9 more\r\nCaused by: ThriftTableOperationException(tableId:a49, tableName:null, op:BULK_IMPORT, type:OTHER, description:Concurrent merge happened)\r\n\tat org.apache.accumulo.core.master.thrift.FateService$waitForFateOperation_result$waitForFateOperation_resultStandardScheme.read(FateService.java:4729)\r\n\tat org.apache.accumulo.core.master.thrift.FateService$waitForFateOperation_result$waitForFateOperation_resultStandardScheme.read(FateService.java:4698)\r\n\tat org.apache.accumulo.core.master.thrift.FateService$waitForFateOperation_result.read(FateService.java:4624)\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:88)\r\n\tat org.apache.accumulo.core.master.thrift.FateService$Client.recv_waitForFateOperation(FateService.java:155)\r\n\tat org.apache.accumulo.core.master.thrift.FateService$Client.waitForFateOperation(FateService.java:140)\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.waitForFateOperation(TableOperationsImpl.java:292)\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.doFateOperation(TableOperationsImpl.java:358)\r\n\t... 13 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531380062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531390457","html_url":"https://github.com/apache/accumulo/issues/1362#issuecomment-531390457","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1362","id":531390457,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTM5MDQ1Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T21:04:00Z","updated_at":"2019-09-13T21:04:00Z","author_association":"CONTRIBUTOR","body":"This was an issue with my proxy not refreshing.  A good old \"Ctrl + F5\" fixed the issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531390457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531392362","html_url":"https://github.com/apache/accumulo/issues/1361#issuecomment-531392362","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1361","id":531392362,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTM5MjM2Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T21:11:22Z","updated_at":"2019-09-13T21:11:22Z","author_association":"CONTRIBUTOR","body":"Not an issue.  Clearing browser cache fixed this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531392362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531428566","html_url":"https://github.com/apache/accumulo/pull/1360#issuecomment-531428566","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1360","id":531428566,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTQyODU2Ng==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-14T00:23:50Z","updated_at":"2019-09-14T00:25:31Z","author_association":"CONTRIBUTOR","body":"I'm interested in being able to publish the last stats via hadoop metrics.\r\n\r\n@keith-turner I'll post up an approach that uses local, thread safe stats and then converts to the thrift values when requested and we can discuss if that is a preferred path. I have a version that does this using Atomics.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531428566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531876327","html_url":"https://github.com/apache/accumulo/pull/1344#issuecomment-531876327","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1344","id":531876327,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTg3NjMyNw==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-16T17:27:33Z","updated_at":"2019-09-16T17:27:33Z","author_association":"CONTRIBUTOR","body":"This commit includes the upgrade which it should not so ignore.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531876327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531889369","html_url":"https://github.com/apache/accumulo/pull/1344#issuecomment-531889369","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1344","id":531889369,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTg4OTM2OQ==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-16T18:01:48Z","updated_at":"2019-09-16T18:01:48Z","author_association":"CONTRIBUTOR","body":"Latest commit should address all the comments.  There was a small amount of restructuring and it was done against the latest master build (came across a failing IT test so updated to latest).  My apologies - comparing from the last commit would be difficult.\r\nGist:\r\n- SortSkew usage was relocated from Ample  to MetadataSchema.   \r\n- using murmur32 for hashcode (although, even if persisted it is never used/accessed so really only avoids duplicate ~del )\r\n- added more tests","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531889369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531978744","html_url":"https://github.com/apache/accumulo/issues/1122#issuecomment-531978744","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1122","id":531978744,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTk3ODc0NA==","user":{"login":"lbschanno","id":52420215,"node_id":"MDQ6VXNlcjUyNDIwMjE1","avatar_url":"https://avatars.githubusercontent.com/u/52420215?v=4","gravatar_id":"","url":"https://api.github.com/users/lbschanno","html_url":"https://github.com/lbschanno","followers_url":"https://api.github.com/users/lbschanno/followers","following_url":"https://api.github.com/users/lbschanno/following{/other_user}","gists_url":"https://api.github.com/users/lbschanno/gists{/gist_id}","starred_url":"https://api.github.com/users/lbschanno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lbschanno/subscriptions","organizations_url":"https://api.github.com/users/lbschanno/orgs","repos_url":"https://api.github.com/users/lbschanno/repos","events_url":"https://api.github.com/users/lbschanno/events{/privacy}","received_events_url":"https://api.github.com/users/lbschanno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-16T22:13:19Z","updated_at":"2019-09-16T22:13:19Z","author_association":"CONTRIBUTOR","body":"@keith-turner I've been playing around with a couple of different approaches to this. One possible approach is using a separate ConcurrentHashMap of ThriftTransportKeys to ReentrantLocks to support key-pair granularity when fetching and modifying the connections for a particular tserver. The following example shows how the synchronized block is removed from `ThriftTransportKeys.getTransport()`. \r\n\r\n```java\r\npublic class ThriftTransportPool {\r\n  \r\n  private ConcurrentHashMap<ThriftTransportKey, CachedConnections> cache = new ConcurrentHashMap<>();\r\n  private ConcurrentHashMap<ThriftTransportKey, ReentrantLock> locks = new ConcurrentHashMap<>();\r\n  \r\n  private ReentrantLock getLock(final ThriftTransportKey key) {\r\n    return locks.computeIfAbsent(key, k -> new ReentrantLock());\r\n  }\r\n  \r\n  private TTransport getTransport(ThriftTransportKey cacheKey) throws TTransportException {\r\n    // compute hash code outside of lock, this lowers the time the lock is held\r\n    cacheKey.precomputeHashCode();\r\n    \r\n    Lock lock = getLock(cacheKey);\r\n    lock.lock();\r\n    \r\n    try {\r\n      // atomically reserve location if it exist in cache\r\n      CachedConnection cachedConnection =\r\n          getCache().computeIfAbsent(cacheKey, ck -> new CachedConnections()).reserveAny();\r\n      if (cachedConnection != null) {\r\n        log.trace(\"Using existing connection to {}\", cacheKey.getServer());\r\n        return cachedConnection.transport;\r\n      }\r\n    } finally {\r\n      lock.unlock();\r\n    }\r\n\r\n    return createNewTransport(cacheKey);\r\n  }\r\n}\r\n```\r\n\r\nBut before I go too far down this path, I wanted to check if you see any issues with this approach. \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/531978744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532242143","html_url":"https://github.com/apache/accumulo/issues/1122#issuecomment-532242143","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1122","id":532242143,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjI0MjE0Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T14:18:45Z","updated_at":"2019-09-17T14:18:45Z","author_association":"CONTRIBUTOR","body":"@lbschanno that sounds reasonable.  One thing I am curious about is how you plan to remove the lock safely when the cached connections set goes empty.  This needs to be done in such a way that threads never end up using different locks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532242143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532269688","html_url":"https://github.com/apache/accumulo/issues/1364#issuecomment-532269688","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1364","id":532269688,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjI2OTY4OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T15:20:23Z","updated_at":"2019-09-17T15:20:23Z","author_association":"CONTRIBUTOR","body":"I found the following wording in [ConcurrentHashMap.computeIfAbsent](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-)\r\n\r\n```\r\nThe entire method invocation is performed atomically, so the function is applied at most once per key.\r\n```\r\n\r\nNone of the other functions have that wording. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532269688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532276009","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-532276009","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":532276009,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjI3NjAwOQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T15:35:13Z","updated_at":"2019-09-17T15:35:13Z","author_association":"CONTRIBUTOR","body":"Do the high risk of unintended effects I will fall back to implementing the idea mentioned at the top of the the ticket:\r\n\r\n_One possible solution is instead of having a watcher for every configuration item, we have only a single configuration version field in ZooKeeper for all configuration items, and a single watcher (per process) to track that version field and reload all configurations whenever it is changed. This would require us to ensure that we increment this field whenever a configuration is changed._","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532276009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532346566","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-532346566","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":532346566,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjM0NjU2Ng==","user":{"login":"seriouslyjeez","id":25200288,"node_id":"MDQ6VXNlcjI1MjAwMjg4","avatar_url":"https://avatars.githubusercontent.com/u/25200288?v=4","gravatar_id":"","url":"https://api.github.com/users/seriouslyjeez","html_url":"https://github.com/seriouslyjeez","followers_url":"https://api.github.com/users/seriouslyjeez/followers","following_url":"https://api.github.com/users/seriouslyjeez/following{/other_user}","gists_url":"https://api.github.com/users/seriouslyjeez/gists{/gist_id}","starred_url":"https://api.github.com/users/seriouslyjeez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seriouslyjeez/subscriptions","organizations_url":"https://api.github.com/users/seriouslyjeez/orgs","repos_url":"https://api.github.com/users/seriouslyjeez/repos","events_url":"https://api.github.com/users/seriouslyjeez/events{/privacy}","received_events_url":"https://api.github.com/users/seriouslyjeez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T18:34:13Z","updated_at":"2019-09-17T18:34:13Z","author_association":"NONE","body":"I've encountered issues with too many watchers in the past.  The watcher count was a combination of ZK issues and a large number of frequent full table drops and adds.  This leads to an exceptionally large number of watches.  The high watch count impacts Accumulo as described below.\r\n\r\nOnce the watch count reaches a high enough value we start to see Zookeeper issues, mainly jute.maxbuffer and PacketLen errors (in ZK logs) along with session expiry (mostly due to communication issues due to PacketLen issues).\r\n\r\nWhile it is possible to crank up the jute.maxbuffer settings (and the ZK heap as watches grow higher), it would be much better overall if the total number of watches were much lower so that the data stored in ZK was much closer to the \"small\" chunks intended to be stored by ZK.\r\n\r\nAdditionally, at scale it may not be possible to completely eliminate the session expiry due to extended ZK communication delays.  For this Accumulo needs to be better at re-building a ZK session.  Currently Accumulo will retry an invalid ZK session, instead it should try to rebuild the invalid session.  (This is most likely a new issue)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532346566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532352923","html_url":"https://github.com/apache/accumulo/pull/1333#issuecomment-532352923","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1333","id":532352923,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjM1MjkyMw==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T18:50:41Z","updated_at":"2019-09-17T18:50:41Z","author_association":"CONTRIBUTOR","body":"@ctubbsii Are you able to take another look at this PR? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532352923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532709503","html_url":"https://github.com/apache/accumulo/issues/1364#issuecomment-532709503","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1364","id":532709503,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjcwOTUwMw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-18T14:26:28Z","updated_at":"2019-09-18T14:26:28Z","author_association":"CONTRIBUTOR","body":"I reached out to a JDK list (it was the wrong list, but some kind people helped me get to the right place).\r\n\r\nhttps://mail.openjdk.java.net/pipermail/discuss/2019-September/005151.html\r\n\r\nSo far I am getting two different opinions about the at most once execution behavior.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532709503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532848280","html_url":"https://github.com/apache/accumulo/pull/1366#issuecomment-532848280","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1366","id":532848280,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjg0ODI4MA==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-18T20:15:58Z","updated_at":"2019-09-18T20:15:58Z","author_association":"CONTRIBUTOR","body":"Also wanted to mention that the code was pretty much taken from the SimpleGarbageCollector and Ample processing of gc delete candidates.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/532848280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533271623","html_url":"https://github.com/apache/accumulo/pull/1366#issuecomment-533271623","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1366","id":533271623,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzI3MTYyMw==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-19T19:20:10Z","updated_at":"2019-09-19T19:20:10Z","author_association":"CONTRIBUTOR","body":"Includes requested updates.  Ran -Psunny tests and related IT tests.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533271623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533327075","html_url":"https://github.com/apache/accumulo/pull/1369#issuecomment-533327075","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1369","id":533327075,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzMyNzA3NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-19T22:07:12Z","updated_at":"2019-09-19T22:07:12Z","author_association":"MEMBER","body":"Should probably also be fixed in the accumulo-testing repo for 2.0 and later.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533327075/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533402357","html_url":"https://github.com/apache/accumulo/pull/1333#issuecomment-533402357","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1333","id":533402357,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzQwMjM1Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T04:40:11Z","updated_at":"2019-09-20T04:40:11Z","author_association":"MEMBER","body":"> @ctubbsii Are you able to take another look at this PR? Thanks!\r\n\r\nPossibly later today (Friday). Still playing catch-up from being at ApacheCon last week.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533402357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533647828","html_url":"https://github.com/apache/accumulo/issues/1370#issuecomment-533647828","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1370","id":533647828,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzY0NzgyOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T17:43:16Z","updated_at":"2019-09-20T17:43:16Z","author_association":"MEMBER","body":"This looks to be the result of some overly-aggressive fast-failure checks. We could remove the check entirely and let the tasks fail if the user doesn't have permission, or we can patch the check to allow `Namespace.READ` also. I'm inclined to do the latter, since the fast-failure is probably still useful.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533647828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533648445","html_url":"https://github.com/apache/accumulo/issues/1370#issuecomment-533648445","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1370","id":533648445,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzY0ODQ0NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T17:45:15Z","updated_at":"2019-09-20T17:45:15Z","author_association":"MEMBER","body":"@reggert Are you interested in working on this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533648445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533686193","html_url":"https://github.com/apache/accumulo/pull/1367#issuecomment-533686193","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1367","id":533686193,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzY4NjE5Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T19:45:54Z","updated_at":"2019-09-20T19:45:54Z","author_association":"CONTRIBUTOR","body":"Updated based on feedback but it looks like this change causes infinite retries if the load plan is bad.  I am seeing NewBulkIT.testBadLoadPlans() go forever. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533686193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533759338","html_url":"https://github.com/apache/accumulo/issues/1370#issuecomment-533759338","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1370","id":533759338,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzc1OTMzOA==","user":{"login":"reggert","id":1971881,"node_id":"MDQ6VXNlcjE5NzE4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1971881?v=4","gravatar_id":"","url":"https://api.github.com/users/reggert","html_url":"https://github.com/reggert","followers_url":"https://api.github.com/users/reggert/followers","following_url":"https://api.github.com/users/reggert/following{/other_user}","gists_url":"https://api.github.com/users/reggert/gists{/gist_id}","starred_url":"https://api.github.com/users/reggert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reggert/subscriptions","organizations_url":"https://api.github.com/users/reggert/orgs","repos_url":"https://api.github.com/users/reggert/repos","events_url":"https://api.github.com/users/reggert/events{/privacy}","received_events_url":"https://api.github.com/users/reggert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-21T02:10:15Z","updated_at":"2019-09-21T02:10:15Z","author_association":"CONTRIBUTOR","body":"Sure, I could take a stab at it. It seems like it should be a pretty straightforward fix.\r\n\r\nIs there an existing function somewhere to extract the namespace from a table name? It wouldn't be hard to write one, but there's no point reinventing the wheel if it already exists.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533759338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533762659","html_url":"https://github.com/apache/accumulo/issues/1370#issuecomment-533762659","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1370","id":533762659,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzc2MjY1OQ==","user":{"login":"reggert","id":1971881,"node_id":"MDQ6VXNlcjE5NzE4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1971881?v=4","gravatar_id":"","url":"https://api.github.com/users/reggert","html_url":"https://github.com/reggert","followers_url":"https://api.github.com/users/reggert/followers","following_url":"https://api.github.com/users/reggert/following{/other_user}","gists_url":"https://api.github.com/users/reggert/gists{/gist_id}","starred_url":"https://api.github.com/users/reggert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reggert/subscriptions","organizations_url":"https://api.github.com/users/reggert/orgs","repos_url":"https://api.github.com/users/reggert/repos","events_url":"https://api.github.com/users/reggert/events{/privacy}","received_events_url":"https://api.github.com/users/reggert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-21T03:10:04Z","updated_at":"2019-09-21T03:10:04Z","author_association":"CONTRIBUTOR","body":"Submitted pull request targeting the `1.9` branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/533762659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/534306943","html_url":"https://github.com/apache/accumulo/issues/1370#issuecomment-534306943","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1370","id":534306943,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDMwNjk0Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T22:17:45Z","updated_at":"2019-09-23T22:17:45Z","author_association":"MEMBER","body":"> Is there an existing function somewhere to extract the namespace from a table name?\r\n\r\nProbably somewhere deep in the code, used internally. Nothing that is likely intended for reuse.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/534306943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/534307192","html_url":"https://github.com/apache/accumulo/pull/1371#issuecomment-534307192","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1371","id":534307192,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDMwNzE5Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T22:18:48Z","updated_at":"2019-09-23T22:18:48Z","author_association":"MEMBER","body":"When merging forward, a similar change may need to be made in the new mapreduce code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/534307192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/534373676","html_url":"https://github.com/apache/accumulo/issues/1122#issuecomment-534373676","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1122","id":534373676,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDM3MzY3Ng==","user":{"login":"lbschanno","id":52420215,"node_id":"MDQ6VXNlcjUyNDIwMjE1","avatar_url":"https://avatars.githubusercontent.com/u/52420215?v=4","gravatar_id":"","url":"https://api.github.com/users/lbschanno","html_url":"https://github.com/lbschanno","followers_url":"https://api.github.com/users/lbschanno/followers","following_url":"https://api.github.com/users/lbschanno/following{/other_user}","gists_url":"https://api.github.com/users/lbschanno/gists{/gist_id}","starred_url":"https://api.github.com/users/lbschanno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lbschanno/subscriptions","organizations_url":"https://api.github.com/users/lbschanno/orgs","repos_url":"https://api.github.com/users/lbschanno/repos","events_url":"https://api.github.com/users/lbschanno/events{/privacy}","received_events_url":"https://api.github.com/users/lbschanno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T03:34:23Z","updated_at":"2019-09-24T03:34:23Z","author_association":"CONTRIBUTOR","body":"@keith-turner I've submitted draft PR #1374 for you to take a look at when you have a chance.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/534373676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535018409","html_url":"https://github.com/apache/accumulo/issues/1375#issuecomment-535018409","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1375","id":535018409,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTAxODQwOQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T13:19:47Z","updated_at":"2019-09-25T13:19:47Z","author_association":"MEMBER","body":"Adding some more context onto this: Szabolcs was looking at this (along with a coworker, Mat) after a ZK 3.5 upgrade inside of Hive and the AccumuloStorageHandler.\r\n\r\nZK3.5 added an \"AdminServer\" (a little jetty server). The Accumulo-hive unit tests were failing because of a port-conflict where a local ZK was running and already bound on the port that the tests were trying to bind. It was a trivial fix to just configure ZK to not start the admin server.\r\n\r\nIt would be a good idea to expose API which lets us add/remove options as necessary.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535018409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535045476","html_url":"https://github.com/apache/accumulo/pull/1366#issuecomment-535045476","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1366","id":535045476,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTA0NTQ3Ng==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T14:18:18Z","updated_at":"2019-09-25T14:49:57Z","author_association":"CONTRIBUTOR","body":"Latest commit addresses recent comments.  Big items:\r\n- refactor of continuepoint  usage\r\n- added test for no deletes to process on upgrade\r\nNote that this was tested to run out of memory and the refactor worked swimmingly.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535045476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535117657","html_url":"https://github.com/apache/accumulo/pull/1372#issuecomment-535117657","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1372","id":535117657,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTExNzY1Nw==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T17:03:43Z","updated_at":"2019-09-25T17:03:43Z","author_association":"CONTRIBUTOR","body":"From a quick review, I like the approach.\r\n\r\nDo you have any thoughts concerning a ZooKeeper logger - used in ZooReader, ZooStore,... that could log zookeeper operations - or would that be too low level and best just done with current debug logs?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535117657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535132146","html_url":"https://github.com/apache/accumulo/pull/1372#issuecomment-535132146","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1372","id":535132146,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTEzMjE0Ng==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T17:40:32Z","updated_at":"2019-09-25T17:40:32Z","author_association":"CONTRIBUTOR","body":"I like the tidyness and uniformity.  Logging can get messy but there is a loss of whether something is logged to trace, or debug, or error.  Maybe it could be reflected in the method call like logger.traceTabletMutated(...) .  And, I have to admit since @Manno15 and I are trying to understand the migration process for a ticket he is working being able to follow the \"exact\" log message back into the code is very helpful.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535132146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535184363","html_url":"https://github.com/apache/accumulo/pull/1372#issuecomment-535184363","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1372","id":535184363,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE4NDM2Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T19:52:07Z","updated_at":"2019-09-25T19:52:07Z","author_association":"CONTRIBUTOR","body":"> Do you have any thoughts concerning a ZooKeeper logger \r\n\r\nI might be in favor of that.  The only concern I would have is I would not want to duplicate any functionality the zookeeper client offers in terms of logging.  Also, would it be better to change zookeeper to have more useful logging rather than Accumulo?\r\n\r\n> follow the \"exact\" log message back into the code is very helpful.\r\n\r\nIt is interesting that this code could become an accidental guide book into the most important parts of the Accumulo code.  One that is always kept up to date.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535184363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535191591","html_url":"https://github.com/apache/accumulo/issues/1375#issuecomment-535191591","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1375","id":535191591,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE5MTU5MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T20:09:49Z","updated_at":"2019-09-25T20:09:49Z","author_association":"CONTRIBUTOR","body":"Is the following the troublesome code?\r\n\r\nhttps://github.com/apache/accumulo/blob/a60089890cff3a56dba2462b51971dcd6af69f48/minicluster/src/main/java/org/apache/accumulo/miniclusterImpl/MiniAccumuloClusterImpl.java#L395","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535191591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535194101","html_url":"https://github.com/apache/accumulo/issues/1375#issuecomment-535194101","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1375","id":535194101,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE5NDEwMQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T20:15:59Z","updated_at":"2019-09-25T20:15:59Z","author_association":"CONTRIBUTOR","body":"Would [MiniAccumuloConfig.setZooKeeperPort()](https://github.com/apache/accumulo/blob/a60089890cff3a56dba2462b51971dcd6af69f48/minicluster/src/main/java/org/apache/accumulo/minicluster/MiniAccumuloConfig.java#L94) help with this issue?  Not sure if that is the problematic port. If it is the javadoc says it will generate a random port if not set, I wonder if that is working properly.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535194101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535197369","html_url":"https://github.com/apache/accumulo/issues/1375#issuecomment-535197369","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1375","id":535197369,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE5NzM2OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T20:23:53Z","updated_at":"2019-09-25T20:23:53Z","author_association":"CONTRIBUTOR","body":"To answer my own question, I don't think `MiniAccumuloConfig.setZooKeeperPort()` will help here, its a completely different port.\r\n\r\nhttps://zookeeper.apache.org/doc/r3.5.5/zookeeperAdmin.html#sc_adminserver_config","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535197369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535267212","html_url":"https://github.com/apache/accumulo/issues/1375#issuecomment-535267212","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1375","id":535267212,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTI2NzIxMg==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T23:42:59Z","updated_at":"2019-09-25T23:42:59Z","author_association":"MEMBER","body":"Yeah, the admin port is a completely different port than the server port.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535267212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535555075","html_url":"https://github.com/apache/accumulo/pull/1366#issuecomment-535555075","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1366","id":535555075,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTU1NTA3NQ==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T15:21:37Z","updated_at":"2019-09-26T15:21:37Z","author_association":"CONTRIBUTOR","body":"Removed comment and adjusted timeout.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535555075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535613866","html_url":"https://github.com/apache/accumulo/pull/1366#issuecomment-535613866","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1366","id":535613866,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTYxMzg2Ng==","user":{"login":"hkeebler","id":49656678,"node_id":"MDQ6VXNlcjQ5NjU2Njc4","avatar_url":"https://avatars.githubusercontent.com/u/49656678?v=4","gravatar_id":"","url":"https://api.github.com/users/hkeebler","html_url":"https://github.com/hkeebler","followers_url":"https://api.github.com/users/hkeebler/followers","following_url":"https://api.github.com/users/hkeebler/following{/other_user}","gists_url":"https://api.github.com/users/hkeebler/gists{/gist_id}","starred_url":"https://api.github.com/users/hkeebler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkeebler/subscriptions","organizations_url":"https://api.github.com/users/hkeebler/orgs","repos_url":"https://api.github.com/users/hkeebler/repos","events_url":"https://api.github.com/users/hkeebler/events{/privacy}","received_events_url":"https://api.github.com/users/hkeebler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T17:46:44Z","updated_at":"2019-09-26T17:46:44Z","author_association":"CONTRIBUTOR","body":"Since this has one approval , if no other comments received by Friday I will merge.  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535613866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535671478","html_url":"https://github.com/apache/accumulo/pull/1360#issuecomment-535671478","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1360","id":535671478,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTY3MTQ3OA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T20:22:41Z","updated_at":"2019-09-26T20:22:41Z","author_association":"CONTRIBUTOR","body":"Superseded by https://github.com/apache/accumulo/pull/1376","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535671478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535692730","html_url":"https://github.com/apache/accumulo/pull/1376#issuecomment-535692730","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1376","id":535692730,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTY5MjczMA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T21:27:04Z","updated_at":"2019-09-26T21:28:06Z","author_association":"CONTRIBUTOR","body":"> @ctubbsii wrote: I'm not a fan of doing this in a maintenance branch. This has a strong feeling of new feature, and not a stabilizing bug fix change. We've flexed on this in the past, but the more it happens, the more I'm opposed. We really should stop doing new development on maintenance branches.\r\n\r\nWe need to discuss a way forward.  Until the 1.9.x branch is declared EOL, there should be a way to improve that code-base.  The metrics are a real pain point for some and up and until they move forward with a 2.x baseline, then improvements should be possible. \r\n\r\nBecause of the jump between 1.9.x and 2.x that is required by users, there are going to be people using the 1.9.x line for a while.  Maybe a solution is these types of changes go into a 1.10 release?  The goal would be to offer improvements without requiring all of the client code re-work that is required for a jump to 2.x.  And while back-porting could be done, it is safer for the users if it is in the baseline so that they can count on it being in future releases.\r\n\r\nI understand the concern about merging this forward, but that's \"my problem\" and I'll need to work though changes that are necessary to provide the same functionality across all supported versions.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535692730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535772453","html_url":"https://github.com/apache/accumulo/pull/1376#issuecomment-535772453","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1376","id":535772453,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTc3MjQ1Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T03:34:17Z","updated_at":"2019-09-27T03:34:17Z","author_association":"MEMBER","body":"> Until the 1.9.x branch is declared EOL\r\n\r\nBy definition (semver), 1.9 already *is* effectively EOL, with respect to new features (at least, those in the public API). While technically your changes don't affect the public API, and are therefore not violations of the semver rules we've agreed to, they do violate the *spirit* of it by introducing behavioral changes that aren't forwards-compatible and by changing user-facing elements, such as the configuration for things other than to fix a bug. In my personal opinion, maintenance releases should be minimal changes that provide for increasingly stable and less buggy versions of a previous \".0\" release that are as fully forwards-compatible and have as few user-facing changes as possible. We haven't always been good about this; we should strive to be better.\r\n\r\n> Because of the jump between 1.9.x and 2.x that is required by users, there are going to be people using the 1.9.x line for a while.\r\n\r\nThat's precisely why we should focus on increasingly stable maintenance releases, and not potentially create new problems for 1.9 users. Semver means: upgrade to major/minor for new features, upgrade to maintenance release for increasingly stable with the existing feature set. That's the trade-off. It's intentional. The more we blur those lines, the worse it is for users, trying to reason about risk and reward for upgrading to a particular version.\r\n\r\n> Maybe a solution is these types of changes go into a 1.10 release?\r\n\r\nThat is the right way to do new features in the world of semver. However, I'm not sure how I feel about supporting an additional release line right now. And I have no idea what that might mean for the LTS idea that was raised, or for our ability to continue to support those on 1.9 with maintenance releases, or work on 2.x. That should be discussed on the mailing list.\r\n\r\n****\r\n\r\nI do get that you're trying to target your contributions in a way that will see the light of day faster, and that you're putting in the work to support the older version, but I think there's very good reason to add them to the next development version, rather than try to put them in maintenance releases. Putting them in the next development version, rather than a maintenance branch, gives new features more time to be exercised, inspected, tested, checked for alignment with current development direction, and reviewed for correctness, prior to release. It keeps the next version moving forward, and helps releases get out the door faster than they would if we are constantly dealing with merge conflicts, and code reviews across many branches. And, it helps ensure that users can predict the level of risk associated with upgrading to a maintenance release, by providing increasingly stable maintenance releases without the complications or behavior changes associated with new features, and it ensures greater forwards-compatibility. I just don't see the urgency of forcing new features into older branches, rather than targeting them for the next stable version under development. I think it creates more work and has too many downsides.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/535772453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/536039331","html_url":"https://github.com/apache/accumulo/issues/1375#issuecomment-536039331","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1375","id":536039331,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjAzOTMzMQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T17:58:22Z","updated_at":"2019-09-27T17:58:22Z","author_association":"CONTRIBUTOR","body":"Its a hack and I am not sure if it would work.  We could always set `admin.enableServer=false`.  If older versions of ZK ignore this property and newer versions don't start the admin server, that could be a way to fix this w/o any API changes.  This change could be made for 1.9.4 and 2.0.1","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/536039331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/537505387","html_url":"https://github.com/apache/accumulo/issues/1364#issuecomment-537505387","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1364","id":537505387,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzUwNTM4Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-02T13:59:13Z","updated_at":"2019-10-02T13:59:13Z","author_association":"CONTRIBUTOR","body":"A JDK issue was opened.\r\n\r\nhttps://bugs.openjdk.java.net/browse/JDK-8231592","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/537505387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/537522318","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-537522318","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":537522318,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzUyMjMxOA==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-02T14:34:55Z","updated_at":"2019-10-02T14:37:12Z","author_association":"CONTRIBUTOR","body":"I think Curator Recipes are the way to go.  Accumulo could benefit from leaning more on the framework throughout the code base.\r\n\r\nJust keep in mind that, in this instance, as I understand the code, to avoid recreating this same situation, you must set the 'disableZkWatches' in the `Builder` class in order to create a polling mechanism instead of a watcher-per-node setup like currently exists.\r\n\r\nWatch the entire structure:\r\nhttps://curator.apache.org/curator-recipes/tree-cache.html\r\n\r\nWatch just the configurations, assuming they are all themselves created under a common root node:\r\nhttps://curator.apache.org/curator-recipes/path-cache.html","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/537522318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/537530843","html_url":"https://github.com/apache/accumulo/pull/1333#issuecomment-537530843","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1333","id":537530843,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzUzMDg0Mw==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-02T14:52:42Z","updated_at":"2019-10-02T14:52:42Z","author_association":"CONTRIBUTOR","body":"@ctubbsii Any possibility to re-examine this at your next bug bash session?\r\n\r\nIn particular, please check out:\r\n\r\nhttps://github.com/apache/accumulo/pull/1333#discussion_r323728667","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/537530843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/537537892","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-537537892","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":537537892,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzUzNzg5Mg==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-02T15:07:34Z","updated_at":"2019-10-02T15:07:34Z","author_association":"CONTRIBUTOR","body":"\r\n@belugabehr,  I like Curator too.  I have been running the TreeCacheExample alongside my Accumulo instance to check against my debug tracing of what goes on with the Accumulo Zookeeper cache.  But for now we have to stop shooting ourselves in the foot by blowing away table configurations in the ZooCache unnecessarily.  \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/537537892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538104007","html_url":"https://github.com/apache/accumulo/pull/1376#issuecomment-538104007","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1376","id":538104007,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODEwNDAwNw==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T19:59:15Z","updated_at":"2019-10-03T19:59:15Z","author_association":"CONTRIBUTOR","body":"I've submitted https://github.com/apache/accumulo/pull/1381 - that provides the same functionality against the master branch.  After review of that request will revist to see if there should be a back-port, made available as a patch or something else. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538104007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538174119","html_url":"https://github.com/apache/accumulo/issues/1364#issuecomment-538174119","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1364","id":538174119,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODE3NDExOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T00:01:50Z","updated_at":"2019-10-04T00:01:50Z","author_association":"MEMBER","body":"Not a problem. Explained by comment added in #1380 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538174119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538175247","html_url":"https://github.com/apache/accumulo/issues/1225#issuecomment-538175247","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1225","id":538175247,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODE3NTI0Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T00:06:22Z","updated_at":"2019-10-04T00:06:22Z","author_association":"MEMBER","body":"I don't think we should add in curator as a dependency for this. It's not strictly necessary to reduce the number of watchers, and would introduce a much larger changeset. Using curator was already discussed, and previously attempted, and abandoned because of too many issues. It's probably worth revisiting again, but it should probably be done incrementally, by first abstracting our ZK code and isolating it to one area of our codebase. Doing any of that is well outside the scope of this narrowly-scoped issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538175247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538587531","html_url":"https://github.com/apache/accumulo/issues/1383#issuecomment-538587531","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1383","id":538587531,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODU4NzUzMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T23:08:21Z","updated_at":"2019-10-04T23:08:21Z","author_association":"MEMBER","body":"The option I like the best is 2. There's a typo in the DispatchParameters object anyway, so we can fix that typo and evolve the API to return an object that is more than just the ScanExecutor's name... it can contain additional ScanExecutor execution environment with decisions from the dispatcher. This additional environment can be passed down into the cache code, which can skip the cache if certain flags are set.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538587531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538599485","html_url":"https://github.com/apache/accumulo/pull/1333#issuecomment-538599485","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1333","id":538599485,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODU5OTQ4NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-05T00:31:26Z","updated_at":"2019-10-05T00:31:26Z","author_association":"MEMBER","body":"> @ctubbsii Any possibility to re-examine this at your next bug bash session?\r\n> \r\n> In particular, please check out:\r\n> \r\n> [#1333 (comment)](https://github.com/apache/accumulo/pull/1333#discussion_r323728667)\r\n\r\nOnce again, sorry for the delay. I had family issues shortly after returning from ApacheCon. This is still near the top of my TODO list. I've completely lost context for this change, so I'll have to go back and read the comments to try to remember where this was at.\r\n\r\nIn the meantime, if another committer can review, that would probably help a ton. I recommend introducing yourself on the developer mailing list, and pinging other devs, to see if they can offer a review. I don't want to be a bottleneck or roadblock.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/538599485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539171793","html_url":"https://github.com/apache/accumulo/pull/1381#issuecomment-539171793","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1381","id":539171793,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTE3MTc5Mw==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-07T19:41:07Z","updated_at":"2019-10-07T19:41:07Z","author_association":"CONTRIBUTOR","body":"Update incorporates (hopefully) all of the suggestions from @ctubbsii ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539171793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539585082","html_url":"https://github.com/apache/accumulo/issues/1383#issuecomment-539585082","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1383","id":539585082,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTU4NTA4Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T16:05:02Z","updated_at":"2019-10-08T16:05:12Z","author_association":"CONTRIBUTOR","body":"There was a discussion about this issue at the hack day.  One thing that came out of that is that would be good to also consider the use case of scan hints influencing file system read flags, with any refactoring.   ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539585082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539629546","html_url":"https://github.com/apache/accumulo/issues/1323#issuecomment-539629546","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1323","id":539629546,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTYyOTU0Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T17:55:12Z","updated_at":"2019-10-08T17:55:12Z","author_association":"CONTRIBUTOR","body":"> Tservers cannot be configured to limit how many write threads they will create.\r\n\r\nThe reason for this is because metadata table writes must always be accommodated.  We could possibly track the number of active non-metadata threads and limit this to a maximum.   It might be tricky to intercept this before its queued though.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539629546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539668239","html_url":"https://github.com/apache/accumulo/issues/1383#issuecomment-539668239","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1383","id":539668239,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTY2ODIzOQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T19:35:16Z","updated_at":"2019-10-08T19:35:16Z","author_association":"CONTRIBUTOR","body":"https://issues.apache.org/jira/browse/HADOOP-16317","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539668239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539684370","html_url":"https://github.com/apache/accumulo/issues/1383#issuecomment-539684370","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1383","id":539684370,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTY4NDM3MA==","user":{"login":"GreenCee","id":23325390,"node_id":"MDQ6VXNlcjIzMzI1Mzkw","avatar_url":"https://avatars.githubusercontent.com/u/23325390?v=4","gravatar_id":"","url":"https://api.github.com/users/GreenCee","html_url":"https://github.com/GreenCee","followers_url":"https://api.github.com/users/GreenCee/followers","following_url":"https://api.github.com/users/GreenCee/following{/other_user}","gists_url":"https://api.github.com/users/GreenCee/gists{/gist_id}","starred_url":"https://api.github.com/users/GreenCee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GreenCee/subscriptions","organizations_url":"https://api.github.com/users/GreenCee/orgs","repos_url":"https://api.github.com/users/GreenCee/repos","events_url":"https://api.github.com/users/GreenCee/events{/privacy}","received_events_url":"https://api.github.com/users/GreenCee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T20:16:13Z","updated_at":"2019-10-08T20:16:13Z","author_association":"NONE","body":"Digging in, it doesn't appear that Hadoop has reached a stable enough point to have a common API applications can use to inform the IO patterns across s3a, abfs, etc.\r\nTalking through this at Hack Day also doesn't seem like this would be the right integration point for that anyhow","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539684370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539718149","html_url":"https://github.com/apache/accumulo/pull/1376#issuecomment-539718149","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1376","id":539718149,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTcxODE0OQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T21:47:28Z","updated_at":"2019-10-08T21:47:28Z","author_association":"CONTRIBUTOR","body":"After discussions and with an updated version of these changes that have been committed to the master branch (https://github.com/apache/accumulo/pull/1381) - back porting the functionality should be feasible for 1.9.4.  There will be a separate pull request that provides the back port (and also merge to 2.0) ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539718149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539720717","html_url":"https://github.com/apache/accumulo/issues/1383#issuecomment-539720717","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1383","id":539720717,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTcyMDcxNw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T21:55:54Z","updated_at":"2019-10-08T21:55:54Z","author_association":"MEMBER","body":"While there may not be an integration point available in Hadoop for informing IO patterns at this time, the fact that we know there are potentially other use cases for these hints at various layers can help inform API decisions around these hints, in order to design in a future-resilient way.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539720717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539744498","html_url":"https://github.com/apache/accumulo/issues/1336#issuecomment-539744498","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1336","id":539744498,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTc0NDQ5OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T23:19:43Z","updated_at":"2019-10-08T23:19:43Z","author_association":"MEMBER","body":"@keith-turner , I noticed you self-assigned this about a month ago. Are you still looking into this? Have you made any progress?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/539744498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540060723","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-540060723","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":540060723,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDA2MDcyMw==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-09T15:43:58Z","updated_at":"2019-10-09T16:05:08Z","author_association":"CONTRIBUTOR","body":"I think it is fair to stick with C++11 as that would give us the most bang for the buck and also alleviate one *potential* issue I found with the \"Iterator\" struct and reference management. I will further verify this with valgrind, though. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540060723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540065156","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-540065156","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":540065156,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDA2NTE1Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-09T15:53:49Z","updated_at":"2019-10-09T15:53:49Z","author_association":"CONTRIBUTOR","body":"> I think it is fair to stick with C++11\r\n\r\nI am so out of the loop on C++.  Why do you think C++11 is a good goal?  I am guessing that is whats currently available in recent Centos and Ubuntu releases.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540065156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540066545","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-540066545","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":540066545,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDA2NjU0NQ==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-09T15:57:04Z","updated_at":"2019-10-09T15:57:04Z","author_association":"CONTRIBUTOR","body":"> > I think it is fair to stick with C++11\r\n> \r\n> I am so out of the loop on C++. Why do you think C++11 is a good goal? I am guessing that is whats currently available in recent Centos and Ubuntu releases.\r\n\r\nC++14 and C++17 are well supported on most distros, but there are some older compilers on u14/16 that only support certain portions of C++11. Realistically those are EOL, but there is nothing new  in C++14 or C++17 that I would use other than std::make_unique ( https://en.cppreference.com/w/cpp/memory/unique_ptr/make_unique ). \r\n\r\nTL;DR I don't want to impact the requirements for compilation in a minor release, so I'm going with the lowest common denominator that has the greatest ROI. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540066545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540149055","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-540149055","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":540149055,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDE0OTA1NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-09T19:17:32Z","updated_at":"2019-10-09T19:17:32Z","author_association":"MEMBER","body":"@phrocker Is this something you're thinking about working on?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540149055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540256461","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-540256461","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":540256461,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDI1NjQ2MQ==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T00:02:40Z","updated_at":"2019-10-10T00:03:38Z","author_association":"CONTRIBUTOR","body":"@ctubbsii Yah I've started... since it's something I hope to use as a reference artifact in my C++ client (https://github.com/phrocker/sharkbite), I hope I'm not a liar and finish it in a reasonable amount of time -- but we all know how I forget. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540256461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540583352","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-540583352","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":540583352,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDU4MzM1Mg==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T13:32:08Z","updated_at":"2019-10-10T13:32:08Z","author_association":"MEMBER","body":"[What is RAII?](https://en.cppreference.com/w/cpp/language/raii)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540583352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540600191","html_url":"https://github.com/apache/accumulo/issues/929#issuecomment-540600191","issue_url":"https://api.github.com/repos/apache/accumulo/issues/929","id":540600191,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDYwMDE5MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T14:01:15Z","updated_at":"2019-10-10T14:01:15Z","author_association":"CONTRIBUTOR","body":"I experimented with a per table option for warming the cache after compactions.  This work was just for experimentation, still not sure of the best path forward.\r\n\r\nhttps://github.com/keith-turner/accumulo/tree/warm-cache","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540600191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540606545","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-540606545","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":540606545,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDYwNjU0NQ==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T14:12:10Z","updated_at":"2019-10-10T14:12:10Z","author_association":"CONTRIBUTOR","body":"> [What is RAII?](https://en.cppreference.com/w/cpp/language/raii)\r\n\r\nRAII ensures the lifecycle is bound to the target's scope ( destructor is called when the scope exits), so for example std::unique_ptr is a managed pointer where only one owner is allowed ( no copies ). The default deleter for it ensures that the destructor of unique_ptr calls the deleter for the type via RAII ( in a basic ref count ). If you then use that unique ptr, RAII will ensure those reference counters are decremented and we'll free memory without having to call delete. \r\n\r\nIn modern c++ delete is becoming as bad as goto ( of course you still see both -- but it must be used judiciously ). ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540606545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540699698","html_url":"https://github.com/apache/accumulo/pull/1367#issuecomment-540699698","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1367","id":540699698,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDY5OTY5OA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T17:54:02Z","updated_at":"2019-10-10T17:54:02Z","author_association":"CONTRIBUTOR","body":"I confirmed that the client will retry using Rwalk locally with multiple concurrent tests running.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/540699698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541054356","html_url":"https://github.com/apache/accumulo/issues/929#issuecomment-541054356","issue_url":"https://api.github.com/repos/apache/accumulo/issues/929","id":541054356,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTA1NDM1Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-11T12:59:34Z","updated_at":"2019-10-11T12:59:34Z","author_association":"CONTRIBUTOR","body":"Below is the commit message from the commit d659418b3ca6e1887ee8bedadee15f1e728b7642 in my branch.\r\n\r\n```\r\nThis commits adds a per table setting that will warm files in the cache after\r\na minor or major compaction.  Performance testing with lots of random scans\r\ninterleaved with major compactions showed benefits.  The benefits were seen\r\nwhile the compaction was running because the files were always in cache and\r\ndid not have to compete with the compactions for I/O.\r\n\r\nThis feature is incomplete because the following situations are not handled.\r\n\r\n * What if warming is turned on but files are not fitting in cache?  This\r\n   could be detected by checking if the first block of a file is still in\r\n   the cache after warming.  But after detecting it, I am not sure what\r\n   action to take.\r\n * Should warming be conditional on if the tablet was recently queried?\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541054356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541289857","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-541289857","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":541289857,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTI4OTg1Nw==","user":{"login":"SlickNik","id":709959,"node_id":"MDQ6VXNlcjcwOTk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/709959?v=4","gravatar_id":"","url":"https://api.github.com/users/SlickNik","html_url":"https://github.com/SlickNik","followers_url":"https://api.github.com/users/SlickNik/followers","following_url":"https://api.github.com/users/SlickNik/following{/other_user}","gists_url":"https://api.github.com/users/SlickNik/gists{/gist_id}","starred_url":"https://api.github.com/users/SlickNik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SlickNik/subscriptions","organizations_url":"https://api.github.com/users/SlickNik/orgs","repos_url":"https://api.github.com/users/SlickNik/repos","events_url":"https://api.github.com/users/SlickNik/events{/privacy}","received_events_url":"https://api.github.com/users/SlickNik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-12T06:08:19Z","updated_at":"2019-10-12T06:08:19Z","author_association":"NONE","body":"@phrocker Would love to pair on this with you if possible! It's been a long while since I've brushed off my C++, and I've been itching to give some of the newer RAII/move semantics pieces of C++11 (and later) a shot. Would also be a good avenue for me to learn more about Accumulo's use of Native Maps. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541289857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541654298","html_url":"https://github.com/apache/accumulo/issues/1383#issuecomment-541654298","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1383","id":541654298,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTY1NDI5OA==","user":{"login":"GreenCee","id":23325390,"node_id":"MDQ6VXNlcjIzMzI1Mzkw","avatar_url":"https://avatars.githubusercontent.com/u/23325390?v=4","gravatar_id":"","url":"https://api.github.com/users/GreenCee","html_url":"https://github.com/GreenCee","followers_url":"https://api.github.com/users/GreenCee/followers","following_url":"https://api.github.com/users/GreenCee/following{/other_user}","gists_url":"https://api.github.com/users/GreenCee/gists{/gist_id}","starred_url":"https://api.github.com/users/GreenCee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GreenCee/subscriptions","organizations_url":"https://api.github.com/users/GreenCee/orgs","repos_url":"https://api.github.com/users/GreenCee/repos","events_url":"https://api.github.com/users/GreenCee/events{/privacy}","received_events_url":"https://api.github.com/users/GreenCee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-14T12:40:58Z","updated_at":"2019-10-14T12:40:58Z","author_association":"NONE","body":"That's very true. Stepping back this would be the path should there be a nice high level all-DFS option in the future. For any application (Accumulo) to share it's intention to the underlying store as described in the HADOOP-16317 that would be signaled by the scan. \r\nIn some cases Accumulo may have special knowledge of the data and use like metadata table, but that won't be hard and fast and anything adaptive we'd build out of knowledge gained from explicit hints.\r\n\r\nOn the original issue, option 2 is the one I like the best as the scan seems to be the right integration to hint the intention. \r\n\r\n3 use cases I see that would be enabled. \r\n\r\n1 and 2 seems similar enough\r\n3 warrants a follow-on issue to this one so we don't chunk out too much work in this issue?\r\n\r\n1. Internal processes like garbage collector as mentioned by Keith\r\n\r\n2. Maintenance scan-type activities\r\nEvery installation I've worked on seems to always have those low-priority, low-throughput scans doing something. It'd be nice to deprioritize via scan executor and keep the cache clean\r\n\r\n3. Long running ML-type scan workloads that don't have performance SLAs \r\nKnown to be latency tolerant, but will generate a lot of sequential scans that don't benefit the cache. Additionally there is existing query load that needs to be preserved. \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541654298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541792373","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-541792373","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":541792373,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTc5MjM3Mw==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-14T16:52:46Z","updated_at":"2019-10-14T16:52:52Z","author_association":"CONTRIBUTOR","body":"@SlickNik absolutely I'll get some thoughts together on breaking this up. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541792373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541860798","html_url":"https://github.com/apache/accumulo/issues/1386#issuecomment-541860798","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1386","id":541860798,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTg2MDc5OA==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-14T19:02:43Z","updated_at":"2019-10-14T19:02:43Z","author_association":"MEMBER","body":"I will be watching for this too. Let me know if you need any help reviewing or whatever.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/541860798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/542191587","html_url":"https://github.com/apache/accumulo/issues/1383#issuecomment-542191587","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1383","id":542191587,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MjE5MTU4Nw==","user":{"login":"kubina","id":61377,"node_id":"MDQ6VXNlcjYxMzc3","avatar_url":"https://avatars.githubusercontent.com/u/61377?v=4","gravatar_id":"","url":"https://api.github.com/users/kubina","html_url":"https://github.com/kubina","followers_url":"https://api.github.com/users/kubina/followers","following_url":"https://api.github.com/users/kubina/following{/other_user}","gists_url":"https://api.github.com/users/kubina/gists{/gist_id}","starred_url":"https://api.github.com/users/kubina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kubina/subscriptions","organizations_url":"https://api.github.com/users/kubina/orgs","repos_url":"https://api.github.com/users/kubina/repos","events_url":"https://api.github.com/users/kubina/events{/privacy}","received_events_url":"https://api.github.com/users/kubina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-15T12:41:20Z","updated_at":"2019-10-15T12:41:20Z","author_association":"NONE","body":"I think adding a table level option to flag if the results of a scan should be cached or not would be a great way to help the cache from being polluted by queries that are scanning and returning a lot of single use data. It would be very useful for those tables that are scanned to satisfy user generated queries and scanned by applications to return a large collection of records that will be saved off for a data science research and development project. The latter query will often return a lot of records, take a long time to execute, and be executed vary rarely; so having a flag to indicate the such scan results should not be cached would ensure the cache maintains the results from the user generated queries.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/542191587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/544613433","html_url":"https://github.com/apache/accumulo/issues/1383#issuecomment-544613433","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1383","id":544613433,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDYxMzQzMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T17:09:37Z","updated_at":"2019-10-21T17:09:37Z","author_association":"MEMBER","body":"I think we've taken steps in recent years to put more scan-time configuration in the scan API, rather than put them in table configs. This puts more responsibility on users, but is easier for us to maintain while satisfying user expectations (because expectations are explicit in each scan, from a table config which may not be consistent across a cluster and could be in flux). Certainly, at this point, I'd prefer people use scan-time iterators rather than table-configured iterators, and I think I feel the same way for other configs, such as execution hints. That said, I think it might make sense to have something like `table.scan.defaults.execution-hints`, and other `table.scan.defaults.*` properties for scans which don't set these options explicitly.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/544613433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/545123753","html_url":"https://github.com/apache/accumulo/issues/1388#issuecomment-545123753","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1388","id":545123753,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTEyMzc1Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T19:48:02Z","updated_at":"2019-10-22T19:48:02Z","author_association":"CONTRIBUTOR","body":"This is related and could assist in #1390 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/545123753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/545667031","html_url":"https://github.com/apache/accumulo/pull/1391#issuecomment-545667031","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1391","id":545667031,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTY2NzAzMQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T22:44:29Z","updated_at":"2019-10-23T22:44:29Z","author_association":"CONTRIBUTOR","body":"Intend to work on testing - esp. the IT tests, but looking to see if there are any general comments regarding approach.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/545667031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/546997682","html_url":"https://github.com/apache/accumulo/issues/1395#issuecomment-546997682","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1395","id":546997682,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Njk5NzY4Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T15:21:06Z","updated_at":"2019-10-28T15:21:06Z","author_association":"CONTRIBUTOR","body":"Thanks @arvindshmicrosoft this should be an easy fix for the new 2.0 monitor. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/546997682/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547029542","html_url":"https://github.com/apache/accumulo/issues/1395#issuecomment-547029542","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1395","id":547029542,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzAyOTU0Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T16:28:12Z","updated_at":"2019-10-28T16:28:12Z","author_association":"CONTRIBUTOR","body":"@arvindshmicrosoft are you seeing the ugly time on any other pages?  How about the Master Server page?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547029542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547095983","html_url":"https://github.com/apache/accumulo/pull/1333#issuecomment-547095983","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1333","id":547095983,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzA5NTk4Mw==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T18:56:32Z","updated_at":"2019-10-28T18:56:32Z","author_association":"CONTRIBUTOR","body":"@phrocker @keith-turner Thank you so much for looking over.  I made the requested changes.  The only thing is that I wasn't sure what to do with that one unit test that was validating perhaps some sort of historical behavior about \"must always maintain heapSize >= maxSize once we achieve it.\"  I marked that test as 'Ignored' for now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547095983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547116623","html_url":"https://github.com/apache/accumulo/issues/1396#issuecomment-547116623","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1396","id":547116623,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzExNjYyMw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T19:50:25Z","updated_at":"2019-10-28T19:50:25Z","author_association":"CONTRIBUTOR","body":"[FileRef](https://github.com/apache/accumulo/blob/4c9429e8563d714fd3997d6b7eb9c7d0e3a8c837/server/base/src/main/java/org/apache/accumulo/server/fs/FileRef.java) is somewhat similar to what is proposed in this issue, but not quite the same.  Looking at FileRef, it would be nice to exclude serialization/deserialization code from TabletFile and make it a data only class.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547116623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547118980","html_url":"https://github.com/apache/accumulo/issues/748#issuecomment-547118980","issue_url":"https://api.github.com/repos/apache/accumulo/issues/748","id":547118980,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzExODk4MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T19:56:51Z","updated_at":"2019-10-28T19:56:51Z","author_association":"MEMBER","body":"Closing this as won't fix for now. This doesn't look that useful right now. Perhaps it will be useful in future.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547118980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547119502","html_url":"https://github.com/apache/accumulo/pull/642#issuecomment-547119502","issue_url":"https://api.github.com/repos/apache/accumulo/issues/642","id":547119502,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzExOTUwMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T19:58:06Z","updated_at":"2019-10-28T19:58:06Z","author_association":"MEMBER","body":"Closing this. It is superseded by #1389 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547119502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547127478","html_url":"https://github.com/apache/accumulo/issues/1396#issuecomment-547127478","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1396","id":547127478,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzEyNzQ3OA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T20:18:34Z","updated_at":"2019-10-28T20:18:34Z","author_association":"CONTRIBUTOR","body":"Would you also need a member (possibly boolean) to indicate that it is a metadata entry or not?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547127478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547128980","html_url":"https://github.com/apache/accumulo/issues/1396#issuecomment-547128980","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1396","id":547128980,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzEyODk4MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T20:22:16Z","updated_at":"2019-10-28T20:22:16Z","author_association":"CONTRIBUTOR","body":"> Would you also need a member (possibly boolean) to indicate that it is a metadata entry or not?\r\n\r\nPossibly. Or could have a method `Optional<String> getMetadataEntry()`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/547128980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]