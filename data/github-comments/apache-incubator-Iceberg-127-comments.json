[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965741827","html_url":"https://github.com/apache/iceberg/issues/3464#issuecomment-965741827","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3464","id":965741827,"node_id":"IC_kwDOCW7NX845kA0D","user":{"login":"emkornfield","id":17869838,"node_id":"MDQ6VXNlcjE3ODY5ODM4","avatar_url":"https://avatars.githubusercontent.com/u/17869838?v=4","gravatar_id":"","url":"https://api.github.com/users/emkornfield","html_url":"https://github.com/emkornfield","followers_url":"https://api.github.com/users/emkornfield/followers","following_url":"https://api.github.com/users/emkornfield/following{/other_user}","gists_url":"https://api.github.com/users/emkornfield/gists{/gist_id}","starred_url":"https://api.github.com/users/emkornfield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emkornfield/subscriptions","organizations_url":"https://api.github.com/users/emkornfield/orgs","repos_url":"https://api.github.com/users/emkornfield/repos","events_url":"https://api.github.com/users/emkornfield/events{/privacy}","received_events_url":"https://api.github.com/users/emkornfield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T21:00:36Z","updated_at":"2021-11-10T21:00:36Z","author_association":"CONTRIBUTOR","body":"> However, strong agree that any new implementation should leverage arrow as much as possible and should strive to work with arrow community to shore up any functionality gaps(where it makes sense for their project to do so).\r\n\r\nRegarding Arrow, has there been any thought of developing lower level components for iceberg in C++ and have python bindings to them? I'm not sure what the best mode for collaboration but one example of cross project collaboration is the parquet C++ library is still technically under the Parquet PMC governance, but lives in the Arrow repo. At some point Arrow would like to have a C++ implementation for iceberg (at least I would like to see one).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965741827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965777426","html_url":"https://github.com/apache/iceberg/pull/3502#issuecomment-965777426","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3502","id":965777426,"node_id":"IC_kwDOCW7NX845kJgS","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T21:50:34Z","updated_at":"2021-11-10T21:50:34Z","author_association":"CONTRIBUTOR","body":"@rdblue I made all of the changes you requested when you have a moment to take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965777426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965778738","html_url":"https://github.com/apache/iceberg/pull/3520#issuecomment-965778738","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3520","id":965778738,"node_id":"IC_kwDOCW7NX845kJ0y","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T21:52:46Z","updated_at":"2021-11-10T21:52:46Z","author_association":"CONTRIBUTOR","body":"> @kbendick do we need to adjust the same thing in `hive-ci.yml`?\r\n\r\nYes we do. If I don't add that one today (a bit under the weather), feel free to do it too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965778738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965811901","html_url":"https://github.com/apache/iceberg/pull/3530#issuecomment-965811901","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3530","id":965811901,"node_id":"IC_kwDOCW7NX845kR69","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T22:42:22Z","updated_at":"2021-11-10T22:42:22Z","author_association":"CONTRIBUTOR","body":"Hi @RussellSpitzer, change the test code to use the comparison result. Got similar perf gain.\r\n```\r\n  private void perfCompare(CharSequence str1, CharSequence str2) {\r\n    int count = 1_000_000;\r\n    boolean result = true;\r\n    long start = System.nanoTime();\r\n    for(int i = 0; i < count; i++) {\r\n      result = equals(str1, str2);\r\n    }\r\n    long stop = System.nanoTime();\r\n    long duration1 = stop-start;\r\n    System.out.println(\"Time: \" + (stop-start)/1000000.0 + \" msec, result: \" + result);\r\n\r\n    Comparator<CharSequence> charSequenceComparator = Comparators.charSequences();\r\n    start = System.nanoTime();\r\n    for(int i = 0; i < count; i++) {\r\n      result = charSequenceComparator.compare(str1, str2) == 0;\r\n    }\r\n    stop = System.nanoTime();\r\n    System.out.println(\"Time: \" + (stop-start)/1000000.0 + \" msec, result: \" + result);\r\n\r\n    System.out.println(\"Duration compare: \" + (double)(stop-start)/duration1 + \" times\");\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965811901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965900799","html_url":"https://github.com/apache/iceberg/issues/3464#issuecomment-965900799","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3464","id":965900799,"node_id":"IC_kwDOCW7NX845knn_","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T01:06:09Z","updated_at":"2021-11-11T01:06:09Z","author_association":"CONTRIBUTOR","body":"I'd love to see a C++ implementation of Iceberg! But I'm not sure that it is needed for a good python experience. That seems to me like a longer route. Iceberg is a fairly simple format, with most of the complexity in the actual columnar formats. Job planning doesn't usually take that long compared to actually running queries.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/965900799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966000538","html_url":"https://github.com/apache/iceberg/issues/3499#issuecomment-966000538","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3499","id":966000538,"node_id":"IC_kwDOCW7NX845k_-a","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T05:24:40Z","updated_at":"2021-11-11T05:24:40Z","author_association":"CONTRIBUTOR","body":"May I have a try?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966000538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966001673","html_url":"https://github.com/apache/iceberg/issues/3485#issuecomment-966001673","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3485","id":966001673,"node_id":"IC_kwDOCW7NX845lAQJ","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T05:27:58Z","updated_at":"2021-11-11T05:27:58Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966001673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966040011","html_url":"https://github.com/apache/iceberg/issues/3523#issuecomment-966040011","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3523","id":966040011,"node_id":"IC_kwDOCW7NX845lJnL","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T06:58:37Z","updated_at":"2021-11-11T06:58:37Z","author_association":"CONTRIBUTOR","body":"in your struct the 's_city' filed has been setted ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966040011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966185079","html_url":"https://github.com/apache/iceberg/pull/3498#issuecomment-966185079","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3498","id":966185079,"node_id":"IC_kwDOCW7NX845ltB3","user":{"login":"xingbowu","id":12458911,"node_id":"MDQ6VXNlcjEyNDU4OTEx","avatar_url":"https://avatars.githubusercontent.com/u/12458911?v=4","gravatar_id":"","url":"https://api.github.com/users/xingbowu","html_url":"https://github.com/xingbowu","followers_url":"https://api.github.com/users/xingbowu/followers","following_url":"https://api.github.com/users/xingbowu/following{/other_user}","gists_url":"https://api.github.com/users/xingbowu/gists{/gist_id}","starred_url":"https://api.github.com/users/xingbowu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xingbowu/subscriptions","organizations_url":"https://api.github.com/users/xingbowu/orgs","repos_url":"https://api.github.com/users/xingbowu/repos","events_url":"https://api.github.com/users/xingbowu/events{/privacy}","received_events_url":"https://api.github.com/users/xingbowu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T10:25:40Z","updated_at":"2021-11-11T10:25:40Z","author_association":"CONTRIBUTOR","body":"Thanks a lot for reviewing this PR in time @openinx , I have addressed them. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966185079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966245264","html_url":"https://github.com/apache/iceberg/issues/3523#issuecomment-966245264","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3523","id":966245264,"node_id":"IC_kwDOCW7NX845l7uQ","user":{"login":"xiaotianzhang01","id":17720945,"node_id":"MDQ6VXNlcjE3NzIwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/17720945?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaotianzhang01","html_url":"https://github.com/xiaotianzhang01","followers_url":"https://api.github.com/users/xiaotianzhang01/followers","following_url":"https://api.github.com/users/xiaotianzhang01/following{/other_user}","gists_url":"https://api.github.com/users/xiaotianzhang01/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaotianzhang01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaotianzhang01/subscriptions","organizations_url":"https://api.github.com/users/xiaotianzhang01/orgs","repos_url":"https://api.github.com/users/xiaotianzhang01/repos","events_url":"https://api.github.com/users/xiaotianzhang01/events{/privacy}","received_events_url":"https://api.github.com/users/xiaotianzhang01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T12:00:17Z","updated_at":"2021-11-11T12:00:17Z","author_association":"CONTRIBUTOR","body":"> in your struct the 's_city' filed has been setted ?\r\nyep, When I create a table, I use 'S_ CITY'\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966245264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966337156","html_url":"https://github.com/apache/iceberg/issues/3499#issuecomment-966337156","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3499","id":966337156,"node_id":"IC_kwDOCW7NX845mSKE","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T14:16:05Z","updated_at":"2021-11-11T14:16:05Z","author_association":"MEMBER","body":"Go for it @hililiwei ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966337156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966338095","html_url":"https://github.com/apache/iceberg/issues/3281#issuecomment-966338095","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3281","id":966338095,"node_id":"IC_kwDOCW7NX845mSYv","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T14:17:09Z","updated_at":"2021-11-11T14:17:09Z","author_association":"MEMBER","body":"Will do! Feel free to just say you are working on an issue, I don't think we usually use Assignees","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966338095/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966521072","html_url":"https://github.com/apache/iceberg/pull/3059#issuecomment-966521072","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3059","id":966521072,"node_id":"IC_kwDOCW7NX845m_Dw","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T18:17:14Z","updated_at":"2021-11-11T18:18:27Z","author_association":"MEMBER","body":"Ok so the test failure is real and is caused by the check here\r\n\r\nhttps://github.com/apache/iceberg/blob/f5a753791f4dc6aca78569a14f731feda9edf462/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/source/SparkWrite.java#L543-L544\r\n\r\nWhich uses \"isUnpartitioned\" to check whether or not to use UnpartitionedDataWriter. UnpartitionedWriter passes through \"null\" as the value of the Spec which causes an NPE\r\n\r\nhttps://github.com/apache/iceberg/blame/9f07b83725e05206219368c020c3c772771a63d0/core/src/main/java/org/apache/iceberg/DataFiles.java#L50\r\n\r\nWhere we attempt to copy through the values into the spec (which is all void transforms).\r\n\r\nBefore this patch V1 Tables with only void transforms would be considered \"partitioned\" by this code and deal with this correctly (but perhaps more confusingly.)\r\n\r\nAs far as I can tell we have a few ways to go forward here.\r\n\r\n1. The Unpartitioned Writer can get an empty version of the PartitionSpec passed through as the value, basically a struct like where all the values are empty.\r\n2. The if statement between Unpartitioned and Partitioned can check whether there are no fields in the spec rather than whether the spec is unpartitioned\r\n3. We change the copy method to always return early if the spec is unpartitioned, rather than trying to reset partition values\r\n\r\n\r\nI think I am leaning towards 1 or 3. I feel like we are dealing with an unpartitioned spec and because of V1 this means we have to be a bit careful about how we deal with that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966521072/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966526685","html_url":"https://github.com/apache/iceberg/pull/3533#issuecomment-966526685","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3533","id":966526685,"node_id":"IC_kwDOCW7NX845nAbd","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T18:25:17Z","updated_at":"2021-11-11T18:25:17Z","author_association":"CONTRIBUTOR","body":"@samarthjain @rdblue @chenjunjiedada @rymurr @nastra @RussellSpitzer @flyrain @szehon-ho @karuppayya","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966526685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966551281","html_url":"https://github.com/apache/iceberg/pull/3533#issuecomment-966551281","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3533","id":966551281,"node_id":"IC_kwDOCW7NX845nGbx","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T19:04:00Z","updated_at":"2021-11-11T19:04:00Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, what is the problem that you're fixing here?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966551281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966551983","html_url":"https://github.com/apache/iceberg/pull/3533#issuecomment-966551983","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3533","id":966551983,"node_id":"IC_kwDOCW7NX845nGmv","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T19:05:09Z","updated_at":"2021-11-11T19:07:40Z","author_association":"MEMBER","body":"> @aokolnychyi, what is the problem that you're fixing here?\r\n\r\nWe hit a bug when reading the position column over batch boundaries. In general this manifests if you attempt to read the column in any but the first batch where you get a null where a Long should be. \r\n```\r\nCaused by: java.lang.IllegalStateException: Value at index is null\r\n  at org.apache.iceberg.shaded.org.apache.arrow.vector.BigIntVector.get(BigIntVector.java:112)\r\n```\r\n\r\nThis has downstream effects of any vectorized read which uses the result of the _pos column (like applying deletes)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966551983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966587682","html_url":"https://github.com/apache/iceberg/pull/3533#issuecomment-966587682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3533","id":966587682,"node_id":"IC_kwDOCW7NX845nPUi","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T20:03:40Z","updated_at":"2021-11-11T20:03:40Z","author_association":"CONTRIBUTOR","body":"@rdblue @RussellSpitzer, it was either the exception Russell mentioned or simply wrong results. I had two identical queries with and without vectorization and they were giving different results. Based on what I see, the underlying issue is the wrong logic for handling reused batches. When container reuse was enabled and we had multiple batches, the second batch would be corrupted. I'd appreciate extra attention to that part.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966587682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966592919","html_url":"https://github.com/apache/iceberg/pull/3533#issuecomment-966592919","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3533","id":966592919,"node_id":"IC_kwDOCW7NX845nQmX","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T20:12:05Z","updated_at":"2021-11-11T20:12:35Z","author_association":"CONTRIBUTOR","body":"Here is the old logic that I think was causing the issue:\r\n\r\n```\r\nif (reuse != null) {\r\n  vec.setValueCount(0);\r\n  nulls.reset();\r\n} else {\r\n  ...\r\n}\r\n```\r\n\r\nWe never populated values beyond the first batch when container reuse was enabled (always?).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966592919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966593376","html_url":"https://github.com/apache/iceberg/pull/3488#issuecomment-966593376","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3488","id":966593376,"node_id":"IC_kwDOCW7NX845nQtg","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T20:12:49Z","updated_at":"2021-11-11T20:12:49Z","author_association":"CONTRIBUTOR","body":"I'm closing this until there is a known use case for it. While I appreciate you taking the time to build it, we don't want to add options that are not needed for real-world use. We can reopen this if a use case for it turns up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966593376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966594579","html_url":"https://github.com/apache/iceberg/issues/3523#issuecomment-966594579","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3523","id":966594579,"node_id":"IC_kwDOCW7NX845nRAT","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T20:14:45Z","updated_at":"2021-11-11T20:14:45Z","author_association":"CONTRIBUTOR","body":"Is your Spark environment case sensitive? Or are you saying that the case sensitivity is turned on for all `WRITE ORDERED BY` statements?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966594579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966789613","html_url":"https://github.com/apache/iceberg/issues/3521#issuecomment-966789613","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3521","id":966789613,"node_id":"IC_kwDOCW7NX845oAnt","user":{"login":"Initial-neko","id":40999666,"node_id":"MDQ6VXNlcjQwOTk5NjY2","avatar_url":"https://avatars.githubusercontent.com/u/40999666?v=4","gravatar_id":"","url":"https://api.github.com/users/Initial-neko","html_url":"https://github.com/Initial-neko","followers_url":"https://api.github.com/users/Initial-neko/followers","following_url":"https://api.github.com/users/Initial-neko/following{/other_user}","gists_url":"https://api.github.com/users/Initial-neko/gists{/gist_id}","starred_url":"https://api.github.com/users/Initial-neko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Initial-neko/subscriptions","organizations_url":"https://api.github.com/users/Initial-neko/orgs","repos_url":"https://api.github.com/users/Initial-neko/repos","events_url":"https://api.github.com/users/Initial-neko/events{/privacy}","received_events_url":"https://api.github.com/users/Initial-neko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T03:22:03Z","updated_at":"2021-11-26T07:08:46Z","author_association":"NONE","body":"```\r\n/**\r\n   * skip the AbstractConstraint comparison\r\n   * @param rawSchema\r\n   * @param newSchema\r\n   * @return\r\n   */\r\n  public boolean schemaCompare(TableSchema rawSchema, TableSchema newSchema){\r\n    UniqueConstraint rawPK = rawSchema.getPrimaryKey().orElse(null);\r\n    UniqueConstraint newPK = newSchema.getPrimaryKey().orElse(null);\r\n    boolean exp = rawSchema.getTableColumns().equals(newSchema.getTableColumns()) &&\r\n            rawSchema.getWatermarkSpecs().equals(newSchema.getWatermarkSpecs());\r\n    boolean exp2 = rawPK != null && newPK != null ? rawPK.getColumns().equals(newPK.getColumns()) && rawPK.getType().equals(newPK.getType()) : true;\r\n    return exp && exp2;\r\n  }\r\n```\r\n\r\nthis new compare code can solve this problem. But I'm a new member of the community. Can anyone give me some suggestions，Thanks！","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966789613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966792576","html_url":"https://github.com/apache/iceberg/pull/3533#issuecomment-966792576","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3533","id":966792576,"node_id":"IC_kwDOCW7NX845oBWA","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T03:31:06Z","updated_at":"2021-11-12T16:33:27Z","author_association":"COLLABORATOR","body":"> Here is the old logic that I think was causing the issue:\r\n> \r\n> ```\r\n> if (reuse != null) {\r\n>   vec.setValueCount(0);\r\n>   nulls.reset();\r\n> } else {\r\n>   ...\r\n> }\r\n> ```\r\n> \r\n> We never populated values beyond the first batch when container reuse was enabled (always?).\r\n\r\nThanks for the fix, I think that is it.  Could you please help to add a unit test that reuses the container?  Or do the unit tests in this PR already cover it since reusing is default behavior?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966792576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966806039","html_url":"https://github.com/apache/iceberg/pull/3457#issuecomment-966806039","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3457","id":966806039,"node_id":"IC_kwDOCW7NX845oEoX","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T04:13:28Z","updated_at":"2021-11-12T04:13:28Z","author_association":"COLLABORATOR","body":"Patch should be ready for more review\r\nFyi @aokolnychyi  this is the snapshot-based metadata scan I mentioned, not sure if it will be useful elsewhere.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966806039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966852774","html_url":"https://github.com/apache/iceberg/pull/3095#issuecomment-966852774","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3095","id":966852774,"node_id":"IC_kwDOCW7NX845oQCm","user":{"login":"MOBIN-F","id":11769953,"node_id":"MDQ6VXNlcjExNzY5OTUz","avatar_url":"https://avatars.githubusercontent.com/u/11769953?v=4","gravatar_id":"","url":"https://api.github.com/users/MOBIN-F","html_url":"https://github.com/MOBIN-F","followers_url":"https://api.github.com/users/MOBIN-F/followers","following_url":"https://api.github.com/users/MOBIN-F/following{/other_user}","gists_url":"https://api.github.com/users/MOBIN-F/gists{/gist_id}","starred_url":"https://api.github.com/users/MOBIN-F/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MOBIN-F/subscriptions","organizations_url":"https://api.github.com/users/MOBIN-F/orgs","repos_url":"https://api.github.com/users/MOBIN-F/repos","events_url":"https://api.github.com/users/MOBIN-F/events{/privacy}","received_events_url":"https://api.github.com/users/MOBIN-F/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T06:13:25Z","updated_at":"2021-11-12T09:18:17Z","author_association":"NONE","body":"> > > > > @MOBIN-F It's true, this PR translate update to -D and +I.\r\n> > > > \r\n> > > > \r\n> > > > It will query the record(1,qq). but this record is from before the update, Is that right?\r\n> > > \r\n> > > \r\n> > > If you don't query op of data, you will get only one result (1,aa).\r\n> > \r\n> > \r\n> > Sorry, I don't understand how to get only one result(1,aa). Could you tell me how to do that?\r\n> \r\n> https://ci.apache.org/projects/flink/flink-docs-release-1.13/zh/docs/dev/table/sqlclient/\r\n> \r\n> client mode can help you to do that\r\n\r\nThanks ,After testing, the PR is problematic, there will be duplicate data in batch read, not suitable for Retract stream and join scenario also have problems,\r\nI'm  trying to implement this feature according to the design documentation","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966852774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966879680","html_url":"https://github.com/apache/iceberg/pull/3095#issuecomment-966879680","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3095","id":966879680,"node_id":"IC_kwDOCW7NX845oWnA","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T07:18:56Z","updated_at":"2021-11-12T07:18:56Z","author_association":"CONTRIBUTOR","body":"> Thanks ,After testing, the PR is problematic, there will be duplicate data in batch read, not suitable for Upsert stream and join scenario also have problems,\r\n> I'm trying to implement this feature according to the design documentation\r\n\r\nThis PR is not relate to bath mode. And can you descript the detail of Upsert and join problem?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966879680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966934609","html_url":"https://github.com/apache/iceberg/pull/3095#issuecomment-966934609","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3095","id":966934609,"node_id":"IC_kwDOCW7NX845okBR","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T09:00:48Z","updated_at":"2021-11-12T09:00:48Z","author_association":"MEMBER","body":"@hameizi ,  would you mind to resolve the conflicts ?  I think I can take a look for the first round later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966934609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966954636","html_url":"https://github.com/apache/iceberg/pull/3095#issuecomment-966954636","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3095","id":966954636,"node_id":"IC_kwDOCW7NX845oo6M","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T09:30:59Z","updated_at":"2021-11-12T09:30:59Z","author_association":"CONTRIBUTOR","body":"> @hameizi , would you mind to resolve the conflicts ? I think I can take a look for the first round later.\r\n\r\n@openinx I will resolve the conflicts , but mayby take some time because there is many change in flink moudle. When do you have time to review? today?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/966954636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967118009","html_url":"https://github.com/apache/iceberg/pull/3186#issuecomment-967118009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3186","id":967118009,"node_id":"IC_kwDOCW7NX845pQy5","user":{"login":"rice668","id":6520673,"node_id":"MDQ6VXNlcjY1MjA2NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6520673?v=4","gravatar_id":"","url":"https://api.github.com/users/rice668","html_url":"https://github.com/rice668","followers_url":"https://api.github.com/users/rice668/followers","following_url":"https://api.github.com/users/rice668/following{/other_user}","gists_url":"https://api.github.com/users/rice668/gists{/gist_id}","starred_url":"https://api.github.com/users/rice668/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rice668/subscriptions","organizations_url":"https://api.github.com/users/rice668/orgs","repos_url":"https://api.github.com/users/rice668/repos","events_url":"https://api.github.com/users/rice668/events{/privacy}","received_events_url":"https://api.github.com/users/rice668/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T13:27:27Z","updated_at":"2021-11-12T13:27:27Z","author_association":"CONTRIBUTOR","body":"@rdblue I updated the code again. Could you please take a look when you have a chance ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967118009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967132303","html_url":"https://github.com/apache/iceberg/pull/3517#issuecomment-967132303","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3517","id":967132303,"node_id":"IC_kwDOCW7NX845pUSP","user":{"login":"tprelle","id":59021490,"node_id":"MDQ6VXNlcjU5MDIxNDkw","avatar_url":"https://avatars.githubusercontent.com/u/59021490?v=4","gravatar_id":"","url":"https://api.github.com/users/tprelle","html_url":"https://github.com/tprelle","followers_url":"https://api.github.com/users/tprelle/followers","following_url":"https://api.github.com/users/tprelle/following{/other_user}","gists_url":"https://api.github.com/users/tprelle/gists{/gist_id}","starred_url":"https://api.github.com/users/tprelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tprelle/subscriptions","organizations_url":"https://api.github.com/users/tprelle/orgs","repos_url":"https://api.github.com/users/tprelle/repos","events_url":"https://api.github.com/users/tprelle/events{/privacy}","received_events_url":"https://api.github.com/users/tprelle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T13:50:11Z","updated_at":"2021-11-12T13:50:11Z","author_association":"CONTRIBUTOR","body":"Hi @SreeramGarlapati @kbendick,\r\nI have some concern to link Overwrite and Delete because in table v1 so Copy on Write mode. A merge with an update will create a overwrite snapshot. So if you skip overwrite snapshot you will miss all theses changes.\r\nFor example delta.io allow user to choose to resend everything if it's copy on write mode. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967132303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967142381","html_url":"https://github.com/apache/iceberg/issues/3542#issuecomment-967142381","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3542","id":967142381,"node_id":"IC_kwDOCW7NX845pWvt","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T14:05:33Z","updated_at":"2021-11-12T14:05:33Z","author_association":"MEMBER","body":"@rdblue + @rymurr + @aokolnychyi + @openinx  What do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967142381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967144752","html_url":"https://github.com/apache/iceberg/issues/3537#issuecomment-967144752","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3537","id":967144752,"node_id":"IC_kwDOCW7NX845pXUw","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T14:09:05Z","updated_at":"2021-11-12T14:09:05Z","author_association":"MEMBER","body":"https://github.com/apache/iceberg/pull/3375\r\n\r\nCurrently in progress to add procedure support, we could add custom DDL as well but we should probably start first with just the procedure","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967144752/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967177260","html_url":"https://github.com/apache/iceberg/issues/3542#issuecomment-967177260","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3542","id":967177260,"node_id":"IC_kwDOCW7NX845pfQs","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T14:54:07Z","updated_at":"2021-11-12T14:54:07Z","author_association":"CONTRIBUTOR","body":"I agree @RussellSpitzer this has caused some confusion here recently and people thought the Spark engine was being cavalier about mappings against the spec. I think it would be good to be more precise and your suggestion looks great to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967177260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967275681","html_url":"https://github.com/apache/iceberg/pull/3533#issuecomment-967275681","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3533","id":967275681,"node_id":"IC_kwDOCW7NX845p3Sh","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T17:08:40Z","updated_at":"2021-11-12T17:08:40Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, our Spark code always reuses containers. The test I added for multiple batches triggers it and failed before.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967275681/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967328139","html_url":"https://github.com/apache/iceberg/pull/3413#issuecomment-967328139","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3413","id":967328139,"node_id":"IC_kwDOCW7NX845qEGL","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T18:30:08Z","updated_at":"2021-11-12T18:30:08Z","author_association":"CONTRIBUTOR","body":"Closed in favor of https://github.com/apache/iceberg/pull/3543","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967328139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967580130","html_url":"https://github.com/apache/iceberg/issues/3542#issuecomment-967580130","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3542","id":967580130,"node_id":"IC_kwDOCW7NX845rBni","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T21:21:08Z","updated_at":"2021-11-12T21:21:08Z","author_association":"CONTRIBUTOR","body":"Agreed. We should definitely document `NameMapping` behavior in the spec.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967580130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967705229","html_url":"https://github.com/apache/iceberg/pull/3543#issuecomment-967705229","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3543","id":967705229,"node_id":"IC_kwDOCW7NX845rgKN","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T22:35:25Z","updated_at":"2021-11-12T22:35:25Z","author_association":"CONTRIBUTOR","body":"cc @aokolnychyi @RussellSpitzer @rdblue @jackye1995\r\n\r\nCan you please take a look at this when you get a chance? I'm wondering if there are any concerns from the engine level of having cached tables expire eventually.\r\n\r\nThe actual `table` objects, when used directly or even when serialized / deserialized (provided they're not re-loaded from the cache), will not change unexpectedly. Only when they've not been accessed via operations on the `CachingCatalog` within the time frame and then loaded again will they potentially change (i.e. load the newest version).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967705229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967720730","html_url":"https://github.com/apache/iceberg/issues/3542#issuecomment-967720730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3542","id":967720730,"node_id":"IC_kwDOCW7NX845rj8a","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T23:14:33Z","updated_at":"2021-11-12T23:14:33Z","author_association":"MEMBER","body":"OK, I'll write up a PR for the change","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967720730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967724680","html_url":"https://github.com/apache/iceberg/pull/3530#issuecomment-967724680","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3530","id":967724680,"node_id":"IC_kwDOCW7NX845rk6I","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T23:24:07Z","updated_at":"2021-11-12T23:24:07Z","author_association":"CONTRIBUTOR","body":"Hi @kbendick, the concern is valid. Thanks for pointing out. But it shouldn't matter when we use `toString()` for CharSeq.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967724680/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967725102","html_url":"https://github.com/apache/iceberg/pull/3530#issuecomment-967725102","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3530","id":967725102,"node_id":"IC_kwDOCW7NX845rlAu","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T23:25:21Z","updated_at":"2021-11-12T23:25:21Z","author_association":"CONTRIBUTOR","body":"> My only concern would be what's mentioned on the comment for Comparators.charSequences() implementation:\r\n> \r\n> https://github.com/apache/iceberg/blob/b6ce66112bea752513d5317c0813c77ea980643a/api/src/main/java/org/apache/iceberg/types/Comparators.java#L335-L342\r\n> \r\n> Can we run this with path sequences with a mixture of 4-byte character and 3-byte character UTF-8 elements?\r\n> \r\n> I'm admittedly not sure if it's a huge concern for path filtering, given the examples I could find. But I don't know any languages that use anything other than the extended latin alphabet, so there might be some concerns if people have maybe certain Chinese symbols or characters from other languages?\r\n> \r\n> This page has some example elements you could possibly use to try (though cat emoji and exclamation point probably aren't in the path on any file systems so a more real world example would probably be better): https://stackoverflow.com/questions/6063148/java-unicode-where-to-find-example-n-byte-unicode-characters\r\n\r\nReading through it again, this comment shouldn't matter. We're not sorting the strings / char sequences. Just checking for equality. And you convert to `toString` for at least one of them.\r\n\r\nSo even if they are lexicographically somewhat off for ordering purposes. I don't think it would affect the correctness of equals if they were both the same mixture of 3 byte and 4 byte code points.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967725102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967728887","html_url":"https://github.com/apache/iceberg/pull/3543#issuecomment-967728887","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3543","id":967728887,"node_id":"IC_kwDOCW7NX845rl73","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T23:37:39Z","updated_at":"2021-11-12T23:37:39Z","author_association":"CONTRIBUTOR","body":"cc @nastra as well, I think you might be interested in this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967728887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967743898","html_url":"https://github.com/apache/iceberg/pull/3275#issuecomment-967743898","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3275","id":967743898,"node_id":"IC_kwDOCW7NX845rpma","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-13T00:32:33Z","updated_at":"2021-11-13T00:32:33Z","author_association":"CONTRIBUTOR","body":"About UPSERT, I don't think we have a reliable upsert that is triggered the same way across databases, so I think the two-stage approach you're using here works.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967743898/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967749772","html_url":"https://github.com/apache/iceberg/pull/2372#issuecomment-967749772","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2372","id":967749772,"node_id":"IC_kwDOCW7NX845rrCM","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-13T00:59:38Z","updated_at":"2021-11-13T00:59:38Z","author_association":"COLLABORATOR","body":"@rdblue @jackye1995 @aokolnychyi @RussellSpitzer,  The API changes are ready, now this is needed for deletes conversion. Could you please take another look if have time?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967749772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967767790","html_url":"https://github.com/apache/iceberg/pull/3533#issuecomment-967767790","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3533","id":967767790,"node_id":"IC_kwDOCW7NX845rvbu","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-13T02:55:14Z","updated_at":"2021-11-13T02:55:14Z","author_association":"CONTRIBUTOR","body":"Okay, I think we clarified the expected behavior of `NullabilityHolder`. I made the corresponding change.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967767790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967783181","html_url":"https://github.com/apache/iceberg/pull/3545#issuecomment-967783181","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3545","id":967783181,"node_id":"IC_kwDOCW7NX845rzMN","user":{"login":"xiaotianzhang01","id":17720945,"node_id":"MDQ6VXNlcjE3NzIwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/17720945?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaotianzhang01","html_url":"https://github.com/xiaotianzhang01","followers_url":"https://api.github.com/users/xiaotianzhang01/followers","following_url":"https://api.github.com/users/xiaotianzhang01/following{/other_user}","gists_url":"https://api.github.com/users/xiaotianzhang01/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaotianzhang01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaotianzhang01/subscriptions","organizations_url":"https://api.github.com/users/xiaotianzhang01/orgs","repos_url":"https://api.github.com/users/xiaotianzhang01/repos","events_url":"https://api.github.com/users/xiaotianzhang01/events{/privacy}","received_events_url":"https://api.github.com/users/xiaotianzhang01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-13T05:06:56Z","updated_at":"2021-11-13T05:06:56Z","author_association":"CONTRIBUTOR","body":"cc: @rdblue @RussellSpitzer @danielcweeks @aokolnychyi","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967783181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967797343","html_url":"https://github.com/apache/iceberg/issues/3523#issuecomment-967797343","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3523","id":967797343,"node_id":"IC_kwDOCW7NX845r2pf","user":{"login":"xiaotianzhang01","id":17720945,"node_id":"MDQ6VXNlcjE3NzIwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/17720945?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaotianzhang01","html_url":"https://github.com/xiaotianzhang01","followers_url":"https://api.github.com/users/xiaotianzhang01/followers","following_url":"https://api.github.com/users/xiaotianzhang01/following{/other_user}","gists_url":"https://api.github.com/users/xiaotianzhang01/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaotianzhang01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaotianzhang01/subscriptions","organizations_url":"https://api.github.com/users/xiaotianzhang01/orgs","repos_url":"https://api.github.com/users/xiaotianzhang01/repos","events_url":"https://api.github.com/users/xiaotianzhang01/events{/privacy}","received_events_url":"https://api.github.com/users/xiaotianzhang01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-13T07:22:04Z","updated_at":"2021-11-13T07:22:04Z","author_association":"CONTRIBUTOR","body":"Some code behaves inconsistently when I set `spark.sql.caseSensitive`  to  `false`. I think it should be configured and unified by the upper-layer engine.  but i can't configure based on the `SortOrderBuilder` class\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/967797343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968057879","html_url":"https://github.com/apache/iceberg/issues/3526#issuecomment-968057879","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3526","id":968057879,"node_id":"IC_kwDOCW7NX845s2QX","user":{"login":"ashoksri0","id":14317595,"node_id":"MDQ6VXNlcjE0MzE3NTk1","avatar_url":"https://avatars.githubusercontent.com/u/14317595?v=4","gravatar_id":"","url":"https://api.github.com/users/ashoksri0","html_url":"https://github.com/ashoksri0","followers_url":"https://api.github.com/users/ashoksri0/followers","following_url":"https://api.github.com/users/ashoksri0/following{/other_user}","gists_url":"https://api.github.com/users/ashoksri0/gists{/gist_id}","starred_url":"https://api.github.com/users/ashoksri0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashoksri0/subscriptions","organizations_url":"https://api.github.com/users/ashoksri0/orgs","repos_url":"https://api.github.com/users/ashoksri0/repos","events_url":"https://api.github.com/users/ashoksri0/events{/privacy}","received_events_url":"https://api.github.com/users/ashoksri0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-13T12:05:46Z","updated_at":"2021-11-13T12:05:46Z","author_association":"NONE","body":"hive.s3.endpoint is not needed for the aws3 after commenting it its start working,so closing this issue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968057879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968191662","html_url":"https://github.com/apache/iceberg/issues/3547#issuecomment-968191662","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3547","id":968191662,"node_id":"IC_kwDOCW7NX845tW6u","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T02:09:56Z","updated_at":"2021-11-14T02:09:56Z","author_association":"CONTRIBUTOR","body":"I have a question. If sort is supportted with  creation SQL, will it ensure the order of the whole table or only the current batch data? thank you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968191662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968192556","html_url":"https://github.com/apache/iceberg/issues/3534#issuecomment-968192556","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3534","id":968192556,"node_id":"IC_kwDOCW7NX845tXIs","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T02:18:29Z","updated_at":"2021-11-14T02:18:29Z","author_association":"CONTRIBUTOR","body":"+1, If there are Chinese doc, it will be more friendly to Chinese developers. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968192556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968193863","html_url":"https://github.com/apache/iceberg/issues/3547#issuecomment-968193863","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3547","id":968193863,"node_id":"IC_kwDOCW7NX845tXdH","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T02:34:30Z","updated_at":"2021-11-14T02:34:30Z","author_association":"MEMBER","body":"> I have a question. If sort is supportted with creation SQL, will it ensure the order of the whole table or only the current batch data? thank you.\r\n\r\nIt will act as a default sort order for the table. The insert's will use this sort order. However Iceberg also supports sort order evolution. So, when `ALTER TABLE ... WRITE ORDERED BY` it has to change table property also.  When sort oder is changed, it won't impact previous written data. Only new data will follow new sort order.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968193863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968341503","html_url":"https://github.com/apache/iceberg/pull/3548#issuecomment-968341503","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3548","id":968341503,"node_id":"IC_kwDOCW7NX845t7f_","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T18:30:29Z","updated_at":"2021-11-14T18:30:29Z","author_association":"CONTRIBUTOR","body":"> Why do we have multiple versions of Spark in the repo. Do I need to copy the same code to different versions of Spark?\r\n\r\nYou should make this change for 3.2. If anyone wants it for other versions, we can port the changes once they are reviewed.\r\n\r\n> What's the difference between the SparkCatalog and SparkSessionCatalog\r\n\r\nThe `SparkSessionCatalog` is used to override Spark's singleton session catalog, `spark_catalog`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968341503/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968342093","html_url":"https://github.com/apache/iceberg/pull/3548#issuecomment-968342093","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3548","id":968342093,"node_id":"IC_kwDOCW7NX845t7pN","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T18:35:27Z","updated_at":"2021-11-14T18:35:27Z","author_association":"CONTRIBUTOR","body":"Looks good overall, just a few minor things to fix. Thanks for picking this up, @xinbinhuang!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968342093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968342480","html_url":"https://github.com/apache/iceberg/pull/3545#issuecomment-968342480","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3545","id":968342480,"node_id":"IC_kwDOCW7NX845t7vQ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T18:38:43Z","updated_at":"2021-11-14T18:38:43Z","author_association":"CONTRIBUTOR","body":"@xiaotianzhang01, can you add test cases that demonstrate the problem you're trying to solve? I asked for clarification on #3523, but it still isn't clear what's happening. I think a couple of test cases would show the problem.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968342480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968343704","html_url":"https://github.com/apache/iceberg/pull/3539#issuecomment-968343704","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3539","id":968343704,"node_id":"IC_kwDOCW7NX845t8CY","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T18:48:47Z","updated_at":"2021-11-14T18:48:47Z","author_association":"CONTRIBUTOR","body":"What is the problem with changing the serde and format properties? The original ones cannot be used because they can't be instantiated (`FileInputFormat` is abstract). I don't see a downside to doing this. You can always set `engine.hive.enable=true` on a table to make it available.\r\n\r\nAlso, what exactly is this PR doing? Is it creating a second table and that's the source of the already exists error?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968343704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968344249","html_url":"https://github.com/apache/iceberg/pull/3501#issuecomment-968344249","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3501","id":968344249,"node_id":"IC_kwDOCW7NX845t8K5","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T18:52:29Z","updated_at":"2021-11-14T18:52:29Z","author_association":"CONTRIBUTOR","body":"@openinx can you take another look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968344249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968344851","html_url":"https://github.com/apache/iceberg/pull/3535#issuecomment-968344851","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3535","id":968344851,"node_id":"IC_kwDOCW7NX845t8UT","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T18:56:22Z","updated_at":"2021-11-14T18:56:22Z","author_association":"CONTRIBUTOR","body":"@flyrain, the data on #3287 supports the idea of using a bitmap instead of a set of long values. But this PR actually removes the streaming delete filter, which doesn't load all of the deletes into memory at the same time. Instead, it streams through the delete file to avoid keeping deletes in memory.\r\n\r\nCan you provide data comparing the memory consumption and performance of streaming deletes?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968344851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968345360","html_url":"https://github.com/apache/iceberg/pull/3531#issuecomment-968345360","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3531","id":968345360,"node_id":"IC_kwDOCW7NX845t8cQ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T18:59:43Z","updated_at":"2021-11-14T18:59:43Z","author_association":"CONTRIBUTOR","body":"Running CI.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968345360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968348153","html_url":"https://github.com/apache/iceberg/pull/3525#issuecomment-968348153","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3525","id":968348153,"node_id":"IC_kwDOCW7NX845t9H5","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T19:17:31Z","updated_at":"2021-11-14T19:17:31Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968348153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968361658","html_url":"https://github.com/apache/iceberg/pull/3522#issuecomment-968361658","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3522","id":968361658,"node_id":"IC_kwDOCW7NX845uAa6","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T20:54:45Z","updated_at":"2021-11-14T20:57:07Z","author_association":"CONTRIBUTOR","body":"I don't think this is the right approach. We purposely disable checkstyle and others because those should be run in other workflows. That is the purpose of the \"build-checks\" job in `java-ci.yml`. Looks like that doesn't ensure all Spark and Flink versions are enabled, which is one reason why some of the checks were missing. In addition, it looks like the Java CI ignores spark and flink folders. I think the core tests should always run, even if only Spark is modified.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968361658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968361801","html_url":"https://github.com/apache/iceberg/pull/3520#issuecomment-968361801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3520","id":968361801,"node_id":"IC_kwDOCW7NX845uAdJ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T20:55:48Z","updated_at":"2021-11-14T20:55:48Z","author_association":"CONTRIBUTOR","body":"@kbendick, I commented on the Spark PR. This should use the existing Java CI job instead of adding duplicate checks that will slow down Spark and Flink test builds.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968361801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968362549","html_url":"https://github.com/apache/iceberg/pull/3510#issuecomment-968362549","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3510","id":968362549,"node_id":"IC_kwDOCW7NX845uAo1","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T21:02:03Z","updated_at":"2021-11-14T21:02:03Z","author_association":"CONTRIBUTOR","body":"Are you sure this is needed? I think a couple wildcards in versions.props could accomplish the same thing?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968362549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968363463","html_url":"https://github.com/apache/iceberg/pull/3509#issuecomment-968363463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3509","id":968363463,"node_id":"IC_kwDOCW7NX845uA3H","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T21:09:04Z","updated_at":"2021-11-14T21:09:04Z","author_association":"CONTRIBUTOR","body":"Rerunning CI since I think the Javadoc failure was unrelated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968363463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968364337","html_url":"https://github.com/apache/iceberg/pull/3509#issuecomment-968364337","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3509","id":968364337,"node_id":"IC_kwDOCW7NX845uBEx","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T21:12:00Z","updated_at":"2021-11-14T21:12:00Z","author_association":"CONTRIBUTOR","body":"Thanks, @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968364337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968364896","html_url":"https://github.com/apache/iceberg/pull/3522#issuecomment-968364896","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3522","id":968364896,"node_id":"IC_kwDOCW7NX845uBNg","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T21:15:29Z","updated_at":"2021-11-14T21:15:29Z","author_association":"CONTRIBUTOR","body":"Closing since this was just fixed by #3509.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968364896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968364933","html_url":"https://github.com/apache/iceberg/pull/3520#issuecomment-968364933","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3520","id":968364933,"node_id":"IC_kwDOCW7NX845uBOF","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T21:15:43Z","updated_at":"2021-11-14T21:15:43Z","author_association":"CONTRIBUTOR","body":"Closing since this was just fixed by #3509.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968364933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968371942","html_url":"https://github.com/apache/iceberg/pull/3509#issuecomment-968371942","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3509","id":968371942,"node_id":"IC_kwDOCW7NX845uC7m","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T22:03:16Z","updated_at":"2021-11-14T22:03:16Z","author_association":"CONTRIBUTOR","body":"Thank you @openinx! This was an important find!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968371942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968372488","html_url":"https://github.com/apache/iceberg/pull/3424#issuecomment-968372488","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3424","id":968372488,"node_id":"IC_kwDOCW7NX845uDEI","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T22:07:12Z","updated_at":"2021-11-14T22:07:12Z","author_association":"CONTRIBUTOR","body":"> I think this depends on how we want to specify the protocol. I prefer documenting the JSON objects that will be sent, which probably means going through and creating serializers/deserializers for each object.\r\n\r\n@rdblue, for the purposes of this PR, is it ok if I use code generation tools and skip some of the boiler plate until we've gotten to a bit more of a final place? I'd prefer to avoid any code generation but for just discussing the PR I think it helps readability.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968372488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968374647","html_url":"https://github.com/apache/iceberg/pull/3424#issuecomment-968374647","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3424","id":968374647,"node_id":"IC_kwDOCW7NX845uDl3","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T22:23:30Z","updated_at":"2021-11-14T22:23:30Z","author_association":"CONTRIBUTOR","body":"@kbendick what do you mean? Check in generated code? Or use lombok annotations?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968374647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968375529","html_url":"https://github.com/apache/iceberg/pull/3543#issuecomment-968375529","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3543","id":968375529,"node_id":"IC_kwDOCW7NX845uDzp","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T22:29:47Z","updated_at":"2021-11-14T22:29:47Z","author_association":"CONTRIBUTOR","body":"I think that the original reason why we removed the cache was that Spark wasn't correctly invalidating table references. From the original PR, #1203:\r\n\r\n> As long as a reference to a table exists, the cache should continue to use that reference so that writes update the table for all queries.\r\n\r\nThis was finally fixed on the Spark side so Spark will invalidate its internal caches when it executes a write to a table. This relieves the need for Iceberg to keep all table references in sync underneath Spark.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968375529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968375889","html_url":"https://github.com/apache/iceberg/pull/3424#issuecomment-968375889","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3424","id":968375889,"node_id":"IC_kwDOCW7NX845uD5R","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T22:32:11Z","updated_at":"2021-11-14T22:32:11Z","author_association":"CONTRIBUTOR","body":"> @kbendick what do you mean? Check in generated code? Or use lombok annotations?\r\n\r\nUse some kind of annotations, just for sorting out the other details while working on the PR. Not necessarily lombok, but even the Jackson annotations. And again, just for the purposes of reducing boilerplate code while discussing the PR (not necessarily to be checked in with).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968375889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968430868","html_url":"https://github.com/apache/iceberg/pull/3540#issuecomment-968430868","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3540","id":968430868,"node_id":"IC_kwDOCW7NX845uRUU","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T01:32:04Z","updated_at":"2021-11-15T01:32:04Z","author_association":"MEMBER","body":"@rdblue , Yes,  it's correct. The previous unit tests only cover the parquet cases,  now we have extended them to cover all the parquet, orc, avro cases.  Thanks @rdblue for the merging !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968430868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968463794","html_url":"https://github.com/apache/iceberg/issues/3546#issuecomment-968463794","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3546","id":968463794,"node_id":"IC_kwDOCW7NX845uZWy","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T02:36:51Z","updated_at":"2021-11-15T02:36:51Z","author_association":"CONTRIBUTOR","body":"You can use S3FileIO with Hadoop catalog by setting `io-impl` catalog property as `org.apache.iceberg.aws.s3.S3FileIO`, and it will load it instead of `HadoopFileIO`: https://github.com/apache/iceberg/blob/b6ce66112bea752513d5317c0813c77ea980643a/core/src/main/java/org/apache/iceberg/hadoop/HadoopCatalog.java#L104-L105.\r\n\r\nPlease let me know if this solves your issue, thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968463794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968465627","html_url":"https://github.com/apache/iceberg/issues/3546#issuecomment-968465627","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3546","id":968465627,"node_id":"IC_kwDOCW7NX845uZzb","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T02:42:25Z","updated_at":"2021-11-15T02:42:25Z","author_association":"CONTRIBUTOR","body":"I see, it looks like you want to use Hadoop catalog layout instead of just read and write data files using the s3:// scheme. These are 2 different concepts in Iceberg. The FIleIO concept is specifically used for only reading and writing files. The HadoopCatalog is a catalog implementation that relies on Hadoop file system, so if you want to have that also support s3:// scheme, just register the scheme through your Hadoop config, something like this:\r\n\r\nhttps://github.com/hanborq/hadoop/blob/master/src/core/core-default.xml#L174-L178\r\n\r\nAnd you can choose whatever file system implementation you like for s3://, the recommended one is https://github.com/apache/hadoop/blob/trunk/hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AFileSystem.java","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968465627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968495271","html_url":"https://github.com/apache/iceberg/issues/3546#issuecomment-968495271","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3546","id":968495271,"node_id":"IC_kwDOCW7NX845uhCn","user":{"login":"chulucninh09","id":43906170,"node_id":"MDQ6VXNlcjQzOTA2MTcw","avatar_url":"https://avatars.githubusercontent.com/u/43906170?v=4","gravatar_id":"","url":"https://api.github.com/users/chulucninh09","html_url":"https://github.com/chulucninh09","followers_url":"https://api.github.com/users/chulucninh09/followers","following_url":"https://api.github.com/users/chulucninh09/following{/other_user}","gists_url":"https://api.github.com/users/chulucninh09/gists{/gist_id}","starred_url":"https://api.github.com/users/chulucninh09/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chulucninh09/subscriptions","organizations_url":"https://api.github.com/users/chulucninh09/orgs","repos_url":"https://api.github.com/users/chulucninh09/repos","events_url":"https://api.github.com/users/chulucninh09/events{/privacy}","received_events_url":"https://api.github.com/users/chulucninh09/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T03:05:33Z","updated_at":"2021-11-15T03:05:33Z","author_association":"CONTRIBUTOR","body":"Got it, but I want to try out the new S3FileIO standalone like the doc said. \r\n\r\nSince there is no compatible concept & implementation between Hadoop FileSystem and Iceberg, I have to use `S3AFileSystem` instead. Can we use `s3a://` scheme in conjunction with `io-impl` to use S3FileIO?\r\n\r\n> Iceberg allows users to write data to S3 through S3FileIO. GlueCatalog by default uses this FileIO, and other catalogs can load this FileIO using the io-impl catalog property.\r\n\r\nhttps://iceberg.apache.org/#aws/#s3-fileio\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968495271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968504150","html_url":"https://github.com/apache/iceberg/issues/3546#issuecomment-968504150","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3546","id":968504150,"node_id":"IC_kwDOCW7NX845ujNW","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T03:25:39Z","updated_at":"2021-11-15T03:25:39Z","author_association":"CONTRIBUTOR","body":"You can use any other catalog with S3FileIO standalone, except for HadoopCatalog, since it requires a Hadoop FileSystem initialization.\r\n\r\nIf you have to use HadoopCatalog, then as long as you register the scheme you want to use it can work, no matter `s3://` or `s3a://`, and they can point to the same implementation class. But I actually don't recommend HadoopCatalog especially on S3, because you will have all table information shared under the same storage prefix, and S3 is throttled by prefix.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968504150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968508742","html_url":"https://github.com/apache/iceberg/issues/3546#issuecomment-968508742","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3546","id":968508742,"node_id":"IC_kwDOCW7NX845ukVG","user":{"login":"chulucninh09","id":43906170,"node_id":"MDQ6VXNlcjQzOTA2MTcw","avatar_url":"https://avatars.githubusercontent.com/u/43906170?v=4","gravatar_id":"","url":"https://api.github.com/users/chulucninh09","html_url":"https://github.com/chulucninh09","followers_url":"https://api.github.com/users/chulucninh09/followers","following_url":"https://api.github.com/users/chulucninh09/following{/other_user}","gists_url":"https://api.github.com/users/chulucninh09/gists{/gist_id}","starred_url":"https://api.github.com/users/chulucninh09/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chulucninh09/subscriptions","organizations_url":"https://api.github.com/users/chulucninh09/orgs","repos_url":"https://api.github.com/users/chulucninh09/repos","events_url":"https://api.github.com/users/chulucninh09/events{/privacy}","received_events_url":"https://api.github.com/users/chulucninh09/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T03:39:30Z","updated_at":"2021-11-15T03:39:56Z","author_association":"CONTRIBUTOR","body":"Isn't there is `'write.object-storage.enabled'=true` config to negate S3 throttling problem? Can Hadoop Catalog use that or that only apply to Glue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968508742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968538640","html_url":"https://github.com/apache/iceberg/pull/3545#issuecomment-968538640","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3545","id":968538640,"node_id":"IC_kwDOCW7NX845uroQ","user":{"login":"xiaotianzhang01","id":17720945,"node_id":"MDQ6VXNlcjE3NzIwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/17720945?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaotianzhang01","html_url":"https://github.com/xiaotianzhang01","followers_url":"https://api.github.com/users/xiaotianzhang01/followers","following_url":"https://api.github.com/users/xiaotianzhang01/following{/other_user}","gists_url":"https://api.github.com/users/xiaotianzhang01/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaotianzhang01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaotianzhang01/subscriptions","organizations_url":"https://api.github.com/users/xiaotianzhang01/orgs","repos_url":"https://api.github.com/users/xiaotianzhang01/repos","events_url":"https://api.github.com/users/xiaotianzhang01/events{/privacy}","received_events_url":"https://api.github.com/users/xiaotianzhang01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T04:56:31Z","updated_at":"2021-11-15T04:56:31Z","author_association":"CONTRIBUTOR","body":"okey, i'm going to add a couple of test cases","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968538640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968544237","html_url":"https://github.com/apache/iceberg/pull/3552#issuecomment-968544237","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3552","id":968544237,"node_id":"IC_kwDOCW7NX845us_t","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T05:10:25Z","updated_at":"2021-11-15T05:10:25Z","author_association":"CONTRIBUTOR","body":"I can't reproduce this problem in unittest or local env, and this problem only appear in prodution env. So I will leave this PR open to prevent some user encounter the same problem for no reason. And I will not ask for merge this until more user report this problem.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968544237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968584153","html_url":"https://github.com/apache/iceberg/issues/3554#issuecomment-968584153","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3554","id":968584153,"node_id":"IC_kwDOCW7NX845u2vZ","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T06:44:08Z","updated_at":"2021-11-15T06:44:08Z","author_association":"CONTRIBUTOR","body":"ALTER TABLE ... ADD if exsits PARTITION FIELD col also","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968584153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968586593","html_url":"https://github.com/apache/iceberg/issues/3546#issuecomment-968586593","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3546","id":968586593,"node_id":"IC_kwDOCW7NX845u3Vh","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T06:50:02Z","updated_at":"2021-11-15T06:52:07Z","author_association":"CONTRIBUTOR","body":"Hadoop catalog uses the `warehouse/db/table` path pattern to figure out what are the databases and tables in the catalog. This is the internal implementation detail of the Hadoop catalog. This is equivalent to Hive catalog using Hive metastore, or DynamoDB catalog stores a row in a DynamoDB table to store such information.\r\n\r\nThe object storage mode defines how new data files are stored in Iceberg, this is the same feature across all catalogs.\r\n\r\nBy the way, another issue with using Hadoop catalog with S3 is that S3 does not support atomic file write, but Hadoop catalog relies on the atomic write of a table version hint file to ensure transaction. So it is definitely not recommended for production usage.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968586593/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968591041","html_url":"https://github.com/apache/iceberg/issues/3551#issuecomment-968591041","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3551","id":968591041,"node_id":"IC_kwDOCW7NX845u4bB","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T06:59:51Z","updated_at":"2021-11-15T06:59:51Z","author_association":"MEMBER","body":"Looks like we are trying to serialize the `RowDataWrapper` (which we don't guarantee the serialization ability) in some paths.  If we can locate the path,  then we can use the similar approach the PartitionKeySelector used to avoid the kryo serialization issues. https://github.com/apache/iceberg/blob/1d8164383baf0e343ade13b21ed0e4d4d02c56cd/flink/v1.13/flink/src/main/java/org/apache/iceberg/flink/sink/PartitionKeySelector.java#L52","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968591041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968603439","html_url":"https://github.com/apache/iceberg/issues/3546#issuecomment-968603439","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3546","id":968603439,"node_id":"IC_kwDOCW7NX845u7cv","user":{"login":"chulucninh09","id":43906170,"node_id":"MDQ6VXNlcjQzOTA2MTcw","avatar_url":"https://avatars.githubusercontent.com/u/43906170?v=4","gravatar_id":"","url":"https://api.github.com/users/chulucninh09","html_url":"https://github.com/chulucninh09","followers_url":"https://api.github.com/users/chulucninh09/followers","following_url":"https://api.github.com/users/chulucninh09/following{/other_user}","gists_url":"https://api.github.com/users/chulucninh09/gists{/gist_id}","starred_url":"https://api.github.com/users/chulucninh09/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chulucninh09/subscriptions","organizations_url":"https://api.github.com/users/chulucninh09/orgs","repos_url":"https://api.github.com/users/chulucninh09/repos","events_url":"https://api.github.com/users/chulucninh09/events{/privacy}","received_events_url":"https://api.github.com/users/chulucninh09/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T07:20:43Z","updated_at":"2021-11-15T07:29:34Z","author_association":"CONTRIBUTOR","body":"Got it now. I bet this really depends on the actual case and usage commitment.\r\n\r\nI only use single writer with batch job style, so I feel safe to use Hadoop & S3 only without any lock implementation for consitency. In case of strong consistency & atomic for multi-writer, I guess `lock-impl=DynamoDB` is enough.\r\n\r\nP.S: I want to make it more clear about why I want to use Hadoop now.\r\nHadoop has the most obvious layout and it reflect mostly the Iceberg spec (just extra `version-hint.txt`). Other catalog implementation seemed to not be defined in \"standard\" Iceberg spec, that makes those catalog implementation hard to share cross language and cross framework.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968603439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968612271","html_url":"https://github.com/apache/iceberg/issues/3507#issuecomment-968612271","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3507","id":968612271,"node_id":"IC_kwDOCW7NX845u9mv","user":{"login":"ayush-san","id":57655135,"node_id":"MDQ6VXNlcjU3NjU1MTM1","avatar_url":"https://avatars.githubusercontent.com/u/57655135?v=4","gravatar_id":"","url":"https://api.github.com/users/ayush-san","html_url":"https://github.com/ayush-san","followers_url":"https://api.github.com/users/ayush-san/followers","following_url":"https://api.github.com/users/ayush-san/following{/other_user}","gists_url":"https://api.github.com/users/ayush-san/gists{/gist_id}","starred_url":"https://api.github.com/users/ayush-san/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ayush-san/subscriptions","organizations_url":"https://api.github.com/users/ayush-san/orgs","repos_url":"https://api.github.com/users/ayush-san/repos","events_url":"https://api.github.com/users/ayush-san/events{/privacy}","received_events_url":"https://api.github.com/users/ayush-san/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T07:37:04Z","updated_at":"2021-11-15T07:37:04Z","author_association":"NONE","body":"@openinx @stevenzwu Can you please help here","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968612271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968612700","html_url":"https://github.com/apache/iceberg/issues/3551#issuecomment-968612700","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3551","id":968612700,"node_id":"IC_kwDOCW7NX845u9tc","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T07:37:53Z","updated_at":"2021-11-15T07:48:48Z","author_association":"CONTRIBUTOR","body":"> Looks like we are trying to serialize the `RowDataWrapper` (which we don't guarantee the serialization ability) in some paths. \r\n\r\nThanks @openinx for step in. I think I encounter this problem on #2898 when flink try to extract the equality fields to distribute the messages. But In #2898 I have been load the RowDataWrapper lazily and still encounter the kryo serialization issues. Maybe that happend in other path or there has other reason, but I will trying to reproduce this problem in unittest later.\r\nhttps://github.com/apache/iceberg/blob/709e0d3501257d1331cb8633ea25c8029da6f5ad/flink/src/main/java/org/apache/iceberg/flink/sink/EqualityFieldKeySelector.java#L73\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968612700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968619240","html_url":"https://github.com/apache/iceberg/pull/3470#issuecomment-968619240","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3470","id":968619240,"node_id":"IC_kwDOCW7NX845u_To","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T07:50:07Z","updated_at":"2021-11-15T07:50:07Z","author_association":"CONTRIBUTOR","body":"Ok, I'll proceed with the plan discussed at the slack channel - completing the code updates across the encryption PRs this quarter, so the community can review them (including the interface) next quarter.\r\ncc @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968619240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968653301","html_url":"https://github.com/apache/iceberg/pull/3326#issuecomment-968653301","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3326","id":968653301,"node_id":"IC_kwDOCW7NX845vHn1","user":{"login":"harshm-dev","id":57615655,"node_id":"MDQ6VXNlcjU3NjE1NjU1","avatar_url":"https://avatars.githubusercontent.com/u/57615655?v=4","gravatar_id":"","url":"https://api.github.com/users/harshm-dev","html_url":"https://github.com/harshm-dev","followers_url":"https://api.github.com/users/harshm-dev/followers","following_url":"https://api.github.com/users/harshm-dev/following{/other_user}","gists_url":"https://api.github.com/users/harshm-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/harshm-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshm-dev/subscriptions","organizations_url":"https://api.github.com/users/harshm-dev/orgs","repos_url":"https://api.github.com/users/harshm-dev/repos","events_url":"https://api.github.com/users/harshm-dev/events{/privacy}","received_events_url":"https://api.github.com/users/harshm-dev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T08:36:38Z","updated_at":"2021-11-15T08:36:38Z","author_association":"CONTRIBUTOR","body":"Any further thoughts?\r\n\r\nLet's close it - one way or the other.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968653301/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968704011","html_url":"https://github.com/apache/iceberg/pull/3230#issuecomment-968704011","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3230","id":968704011,"node_id":"IC_kwDOCW7NX845vUAL","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T09:36:28Z","updated_at":"2021-11-15T09:36:28Z","author_association":"CONTRIBUTOR","body":"closing in favor of https://github.com/apache/iceberg/pull/3543","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968704011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968797721","html_url":"https://github.com/apache/iceberg/pull/3510#issuecomment-968797721","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3510","id":968797721,"node_id":"IC_kwDOCW7NX845vq4Z","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T11:14:47Z","updated_at":"2021-11-15T11:14:47Z","author_association":"COLLABORATOR","body":"@rdblue Thanks Ryan! I seem to remember having issues in the past with using wildcards for Hive specifically -  when using `*`, it forced the 2.3.8 version on all the transitive org.apache.hive dependencies as well, and one of them didn't have this version available. But checking it again, it seems that this issue is gone, so I've changed the PR to use the wildcards for Hive and Tez. Thanks for the suggestion!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968797721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968830860","html_url":"https://github.com/apache/iceberg/pull/3469#issuecomment-968830860","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3469","id":968830860,"node_id":"IC_kwDOCW7NX845vy-M","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T11:48:18Z","updated_at":"2021-11-15T11:48:18Z","author_association":"MEMBER","body":"ping ...\r\n@aokolnychyi , @jackye1995 , @RussellSpitzer , @rdblue , @rymurr  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968830860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968921651","html_url":"https://github.com/apache/iceberg/pull/3469#issuecomment-968921651","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3469","id":968921651,"node_id":"IC_kwDOCW7NX845wJIz","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T13:41:22Z","updated_at":"2021-11-15T13:41:22Z","author_association":"MEMBER","body":"This looks fine to me, my only question would be should we be removing all the tests for the deprecated pathway before we remove that code from the codebase. Since the deprecated functions call the new ones it seems like we would be ok keeping them that way? I don't have a strong opinion here though. @aokolnychyi what do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968921651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968942009","html_url":"https://github.com/apache/iceberg/issues/3554#issuecomment-968942009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3554","id":968942009,"node_id":"IC_kwDOCW7NX845wOG5","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T14:04:34Z","updated_at":"2021-11-15T14:04:34Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @aokolnychyi @RussellSpitzer can you help? thanks\r\nbase on iceberg-spark3-runtime version 0.12.1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968942009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968948153","html_url":"https://github.com/apache/iceberg/issues/3554#issuecomment-968948153","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3554","id":968948153,"node_id":"IC_kwDOCW7NX845wPm5","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T14:10:54Z","updated_at":"2021-11-15T14:10:54Z","author_association":"MEMBER","body":"Those particles are not supported in the Spark SQL extension we use to support partition field modifications\r\n\r\nhttps://github.com/apache/iceberg/blob/master/spark/v3.2/spark-extensions/src/main/antlr/org.apache.spark.sql.catalyst.parser.extensions/IcebergSqlExtensions.g4#L70-L71\r\n\r\nWhen we switch to using the DataSourceV2 \"alterPartition\" capability which was recently added to Spark, we will be able to use the native grammar.\r\n\r\nSupports Alter Partition Interface in Spark\r\nhttps://github.com/apache/spark/blob/master/sql/catalyst/src/main/java/org/apache/spark/sql/connector/catalog/SupportsPartitionManagement.java\r\n\r\nSpark Grammar\r\nhttps://github.com/apache/spark/blob/master/sql/catalyst/src/main/antlr4/org/apache/spark/sql/catalyst/parser/SqlBase.g4#L178-L179\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/968948153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969265949","html_url":"https://github.com/apache/iceberg/pull/3556#issuecomment-969265949","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3556","id":969265949,"node_id":"IC_kwDOCW7NX845xdMd","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T19:55:23Z","updated_at":"2021-11-15T19:55:23Z","author_association":"MEMBER","body":"#3542 - @rymurr + @rdblue + @ajantha-bhat + @aokolnychyi + @openinx  Please take a look :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969265949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969343354","html_url":"https://github.com/apache/iceberg/pull/3529#issuecomment-969343354","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3529","id":969343354,"node_id":"IC_kwDOCW7NX845xwF6","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T21:34:59Z","updated_at":"2021-11-15T21:34:59Z","author_association":"CONTRIBUTOR","body":"Thanks, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969343354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969344844","html_url":"https://github.com/apache/iceberg/pull/3531#issuecomment-969344844","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3531","id":969344844,"node_id":"IC_kwDOCW7NX845xwdM","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T21:37:15Z","updated_at":"2021-11-15T21:37:15Z","author_association":"CONTRIBUTOR","body":"Thanks for the fix, @tprelle!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969344844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969345755","html_url":"https://github.com/apache/iceberg/pull/3510#issuecomment-969345755","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3510","id":969345755,"node_id":"IC_kwDOCW7NX845xwrb","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T21:38:30Z","updated_at":"2021-11-15T21:38:30Z","author_association":"CONTRIBUTOR","body":"Thanks for updating it, @marton-bod! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969345755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969346727","html_url":"https://github.com/apache/iceberg/pull/3550#issuecomment-969346727","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3550","id":969346727,"node_id":"IC_kwDOCW7NX845xw6n","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T21:39:42Z","updated_at":"2021-11-15T21:39:42Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @openinx! I'm glad we caught this and re-enabled checkstyle before we needed to fix code at the same time!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969346727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969390385","html_url":"https://github.com/apache/iceberg/pull/3556#issuecomment-969390385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3556","id":969390385,"node_id":"IC_kwDOCW7NX845x7kx","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T22:40:51Z","updated_at":"2021-11-15T22:40:51Z","author_association":"MEMBER","body":"Updated","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969390385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969396553","html_url":"https://github.com/apache/iceberg/pull/3543#issuecomment-969396553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3543","id":969396553,"node_id":"IC_kwDOCW7NX845x9FJ","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T22:51:53Z","updated_at":"2021-11-15T22:51:53Z","author_association":"MEMBER","body":"Kind of a global comment, but something I don't understand is what is the benefit of using 30 seconds over just disabling the cache entirely. I feel like we still get a weird behavior on very long queries with self joins depending on the complexity of planning since the cache would empty and still end up with the issue of \"I did something in another process and it isn't reflected.\"\r\n\r\nThis makes me kind of want to just disable the cache entirely so we only have to deal with one class of issues rather than have differing behaviors based on when the query is executed. I don't really want to give the impression that the system is eventually consistent. I think biting the bullet and just going cache-less by default is maybe a lower support request situation.\r\n\r\nI think currently my most frequent issues from users are related to this issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969396553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969411663","html_url":"https://github.com/apache/iceberg/pull/3543#issuecomment-969411663","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3543","id":969411663,"node_id":"IC_kwDOCW7NX845yAxP","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T23:05:24Z","updated_at":"2021-11-15T23:05:24Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, I think this should still work even if the planning takes a long time. The lookups happen during resolution in the analyzer, well before scan stats and pushdown happen. So we should have all tables resolved in a short period of time for a query. Quick queries would continue to use cached values for a reasonable amount of time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969411663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969433231","html_url":"https://github.com/apache/iceberg/pull/3533#issuecomment-969433231","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3533","id":969433231,"node_id":"IC_kwDOCW7NX845yGCP","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T23:25:17Z","updated_at":"2021-11-15T23:25:17Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @flyrain @rdblue @RussellSpitzer @chenjunjiedada @samarthjain @nastra @kbendick !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/969433231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]