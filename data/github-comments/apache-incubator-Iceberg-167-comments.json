[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116995949","html_url":"https://github.com/apache/iceberg/pull/4660#issuecomment-1116995949","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4660","id":1116995949,"node_id":"IC_kwDOCW7NX85ClAFt","user":{"login":"homar","id":49628,"node_id":"MDQ6VXNlcjQ5NjI4","avatar_url":"https://avatars.githubusercontent.com/u/49628?v=4","gravatar_id":"","url":"https://api.github.com/users/homar","html_url":"https://github.com/homar","followers_url":"https://api.github.com/users/homar/followers","following_url":"https://api.github.com/users/homar/following{/other_user}","gists_url":"https://api.github.com/users/homar/gists{/gist_id}","starred_url":"https://api.github.com/users/homar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/homar/subscriptions","organizations_url":"https://api.github.com/users/homar/orgs","repos_url":"https://api.github.com/users/homar/repos","events_url":"https://api.github.com/users/homar/events{/privacy}","received_events_url":"https://api.github.com/users/homar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T07:13:22Z","updated_at":"2022-05-04T07:13:22Z","author_association":"NONE","body":"@rdblue done","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116995949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117003183","html_url":"https://github.com/apache/iceberg/issues/3747#issuecomment-1117003183","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3747","id":1117003183,"node_id":"IC_kwDOCW7NX85ClB2v","user":{"login":"sanchitkashyap","id":7384947,"node_id":"MDQ6VXNlcjczODQ5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/7384947?v=4","gravatar_id":"","url":"https://api.github.com/users/sanchitkashyap","html_url":"https://github.com/sanchitkashyap","followers_url":"https://api.github.com/users/sanchitkashyap/followers","following_url":"https://api.github.com/users/sanchitkashyap/following{/other_user}","gists_url":"https://api.github.com/users/sanchitkashyap/gists{/gist_id}","starred_url":"https://api.github.com/users/sanchitkashyap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanchitkashyap/subscriptions","organizations_url":"https://api.github.com/users/sanchitkashyap/orgs","repos_url":"https://api.github.com/users/sanchitkashyap/repos","events_url":"https://api.github.com/users/sanchitkashyap/events{/privacy}","received_events_url":"https://api.github.com/users/sanchitkashyap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T07:24:01Z","updated_at":"2022-05-04T07:24:01Z","author_association":"NONE","body":"Looks duplicate of https://github.com/apache/iceberg/issues/1092. Can you try this https://github.com/apache/iceberg/issues/1092#issuecomment-638432848.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117003183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117014158","html_url":"https://github.com/apache/iceberg/issues/4365#issuecomment-1117014158","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4365","id":1117014158,"node_id":"IC_kwDOCW7NX85ClEiO","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T07:39:26Z","updated_at":"2022-05-04T07:39:26Z","author_association":"CONTRIBUTOR","body":"Hello All members,\r\n\r\nWanted to check if community is interested in taking this feature in for spark sql (looks like trino already has an open pr https://github.com/trinodb/trino/pull/10258 for it), if yes is some one actively working on this, if not I am happy to take this up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117014158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117053890","html_url":"https://github.com/apache/iceberg/pull/4690#issuecomment-1117053890","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4690","id":1117053890,"node_id":"IC_kwDOCW7NX85ClOPC","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T08:30:27Z","updated_at":"2022-05-04T08:30:27Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this! Always good to reduce the number of warnings in stdout :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117053890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117057392","html_url":"https://github.com/apache/iceberg/pull/4307#issuecomment-1117057392","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4307","id":1117057392,"node_id":"IC_kwDOCW7NX85ClPFw","user":{"login":"ulmako","id":2621219,"node_id":"MDQ6VXNlcjI2MjEyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/2621219?v=4","gravatar_id":"","url":"https://api.github.com/users/ulmako","html_url":"https://github.com/ulmako","followers_url":"https://api.github.com/users/ulmako/followers","following_url":"https://api.github.com/users/ulmako/following{/other_user}","gists_url":"https://api.github.com/users/ulmako/gists{/gist_id}","starred_url":"https://api.github.com/users/ulmako/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulmako/subscriptions","organizations_url":"https://api.github.com/users/ulmako/orgs","repos_url":"https://api.github.com/users/ulmako/repos","events_url":"https://api.github.com/users/ulmako/events{/privacy}","received_events_url":"https://api.github.com/users/ulmako/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T08:34:47Z","updated_at":"2022-05-04T08:34:47Z","author_association":"CONTRIBUTOR","body":"> I merged this in #4655. Thanks for fixing this, @ulmako!\r\n\r\nClosed because it was merged with other PR","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117057392/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117064387","html_url":"https://github.com/apache/iceberg/pull/4691#issuecomment-1117064387","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4691","id":1117064387,"node_id":"IC_kwDOCW7NX85ClQzD","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T08:43:23Z","updated_at":"2022-05-04T08:44:37Z","author_association":"CONTRIBUTOR","body":"Static Analysis warning, I think it better ImmutableList.of() @Fokko\r\n\r\n```\r\niceberg\\core\\src\\main\\java\\org\\apache\\iceberg\\io\\MultiBufferInputStream.java:179: [MixedMutabilityReturnType] This method returns both mutable and immutable collections or maps from different paths. This may be confusing for users of the method.\r\n  public List<ByteBuffer> sliceBuffers(long len) throws EOFException {\r\n                          ^\r\n    (see https://errorprone.info/bugpattern/MixedMutabilityReturnType)\r\n  Did you mean 'return ImmutableList.of();'?\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117064387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117100311","html_url":"https://github.com/apache/iceberg/issues/3828#issuecomment-1117100311","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3828","id":1117100311,"node_id":"IC_kwDOCW7NX85ClZkX","user":{"login":"steveloughran","id":162090,"node_id":"MDQ6VXNlcjE2MjA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/162090?v=4","gravatar_id":"","url":"https://api.github.com/users/steveloughran","html_url":"https://github.com/steveloughran","followers_url":"https://api.github.com/users/steveloughran/followers","following_url":"https://api.github.com/users/steveloughran/following{/other_user}","gists_url":"https://api.github.com/users/steveloughran/gists{/gist_id}","starred_url":"https://api.github.com/users/steveloughran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveloughran/subscriptions","organizations_url":"https://api.github.com/users/steveloughran/orgs","repos_url":"https://api.github.com/users/steveloughran/repos","events_url":"https://api.github.com/users/steveloughran/events{/privacy}","received_events_url":"https://api.github.com/users/steveloughran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T09:24:47Z","updated_at":"2022-05-04T09:24:47Z","author_association":"CONTRIBUTOR","body":"what happens when you use 3.3.2 artifacts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117100311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117101937","html_url":"https://github.com/apache/iceberg/issues/3830#issuecomment-1117101937","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3830","id":1117101937,"node_id":"IC_kwDOCW7NX85ClZ9x","user":{"login":"steveloughran","id":162090,"node_id":"MDQ6VXNlcjE2MjA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/162090?v=4","gravatar_id":"","url":"https://api.github.com/users/steveloughran","html_url":"https://github.com/steveloughran","followers_url":"https://api.github.com/users/steveloughran/followers","following_url":"https://api.github.com/users/steveloughran/following{/other_user}","gists_url":"https://api.github.com/users/steveloughran/gists{/gist_id}","starred_url":"https://api.github.com/users/steveloughran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveloughran/subscriptions","organizations_url":"https://api.github.com/users/steveloughran/orgs","repos_url":"https://api.github.com/users/steveloughran/repos","events_url":"https://api.github.com/users/steveloughran/events{/privacy}","received_events_url":"https://api.github.com/users/steveloughran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T09:26:41Z","updated_at":"2022-05-04T09:26:41Z","author_association":"CONTRIBUTOR","body":"you don't have to specify fs.s3a.impl for s3a to work. that's a stack overflow/spark superstition. recommend closing as invalid","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117101937/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117110626","html_url":"https://github.com/apache/iceberg/issues/4346#issuecomment-1117110626","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4346","id":1117110626,"node_id":"IC_kwDOCW7NX85ClcFi","user":{"login":"steveloughran","id":162090,"node_id":"MDQ6VXNlcjE2MjA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/162090?v=4","gravatar_id":"","url":"https://api.github.com/users/steveloughran","html_url":"https://github.com/steveloughran","followers_url":"https://api.github.com/users/steveloughran/followers","following_url":"https://api.github.com/users/steveloughran/following{/other_user}","gists_url":"https://api.github.com/users/steveloughran/gists{/gist_id}","starred_url":"https://api.github.com/users/steveloughran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveloughran/subscriptions","organizations_url":"https://api.github.com/users/steveloughran/orgs","repos_url":"https://api.github.com/users/steveloughran/repos","events_url":"https://api.github.com/users/steveloughran/events{/privacy}","received_events_url":"https://api.github.com/users/steveloughran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T09:34:05Z","updated_at":"2022-05-04T09:34:05Z","author_association":"CONTRIBUTOR","body":"fwiw, s3a and abfs in the not yet released hadoop branc&3.3 adds an [EtagSouce](https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/EtagSource.java) interface which FileStatus/LocatedFileStatus subclasses can implement. this lets you compare files, if the value is non null/empty, then files with different etags are guaranteed to be different.\r\n\r\ni know that iceberg likes to builld against very old versions of hadoop, but if you do leave space in the indices for file etags, and some pluggable mechanism to retrieve them, then etag based checking would work.\r\n \r\nnote also s3 and abfs return those etags in list operations, there's no need to do HEAD calls on each file., and i think gcs does the same, though it doesn't have support through its client yet","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117110626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117276104","html_url":"https://github.com/apache/iceberg/pull/4242#issuecomment-1117276104","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4242","id":1117276104,"node_id":"IC_kwDOCW7NX85CmEfI","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T12:51:12Z","updated_at":"2022-05-04T12:51:22Z","author_association":"CONTRIBUTOR","body":"Can you address the checkstyle failures reported by the build? https://github.com/apache/iceberg/runs/6284396922?check_suite_focus=true","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117276104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117447401","html_url":"https://github.com/apache/iceberg/pull/4307#issuecomment-1117447401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4307","id":1117447401,"node_id":"IC_kwDOCW7NX85CmuTp","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T15:06:54Z","updated_at":"2022-05-04T15:06:54Z","author_association":"CONTRIBUTOR","body":"Sorry, I thought I'd closed this one. Thanks for fixing this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117447401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117508847","html_url":"https://github.com/apache/iceberg/pull/4684#issuecomment-1117508847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4684","id":1117508847,"node_id":"IC_kwDOCW7NX85Cm9Tv","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T15:43:31Z","updated_at":"2022-05-04T15:43:31Z","author_association":"CONTRIBUTOR","body":"Thanks, @jun-he!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117508847/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117511160","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1117511160","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1117511160,"node_id":"IC_kwDOCW7NX85Cm934","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T15:45:40Z","updated_at":"2022-05-04T15:45:40Z","author_association":"CONTRIBUTOR","body":"Thanks, @flyrain!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117511160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117583352","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1117583352","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1117583352,"node_id":"IC_kwDOCW7NX85CnPf4","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T16:54:59Z","updated_at":"2022-05-04T16:54:59Z","author_association":"CONTRIBUTOR","body":"Thanks all for the review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117583352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117597202","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1117597202","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1117597202,"node_id":"IC_kwDOCW7NX85CnS4S","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T17:09:03Z","updated_at":"2022-05-04T17:09:03Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer please review again when you can. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117597202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117598282","html_url":"https://github.com/apache/iceberg/pull/4395#issuecomment-1117598282","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4395","id":1117598282,"node_id":"IC_kwDOCW7NX85CnTJK","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T17:10:20Z","updated_at":"2022-05-04T17:10:20Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer this can go in first, or together with #4588 when that proves satisfactory. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117598282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117668719","html_url":"https://github.com/apache/iceberg/pull/4688#issuecomment-1117668719","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4688","id":1117668719,"node_id":"IC_kwDOCW7NX85CnkVv","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T18:28:49Z","updated_at":"2022-05-04T18:28:49Z","author_association":"CONTRIBUTOR","body":"cc @rdblue this has been updated to make the LICENSE files match what's in their for Apache Arrow/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117668719/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117681386","html_url":"https://github.com/apache/iceberg/pull/4688#issuecomment-1117681386","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4688","id":1117681386,"node_id":"IC_kwDOCW7NX85Cnnbq","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T18:43:23Z","updated_at":"2022-05-04T18:43:23Z","author_association":"CONTRIBUTOR","body":"Awesome, great to have this done. Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117681386/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117837683","html_url":"https://github.com/apache/iceberg/pull/4638#issuecomment-1117837683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4638","id":1117837683,"node_id":"IC_kwDOCW7NX85CoNlz","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T20:05:40Z","updated_at":"2022-05-04T20:05:40Z","author_association":"CONTRIBUTOR","body":"Here's a gist comparing the output of 0.13.0 API module to the current 0.14.0-SNAPSHOT:  https://gist.github.com/kbendick/b9543ac8498bb06815a8c4e993f5c969\r\n\r\nThis was generated by running `./gradlew revapi` from this branch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117837683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117934734","html_url":"https://github.com/apache/iceberg/pull/4652#issuecomment-1117934734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4652","id":1117934734,"node_id":"IC_kwDOCW7NX85ColSO","user":{"login":"karuppayya","id":5082742,"node_id":"MDQ6VXNlcjUwODI3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5082742?v=4","gravatar_id":"","url":"https://api.github.com/users/karuppayya","html_url":"https://github.com/karuppayya","followers_url":"https://api.github.com/users/karuppayya/followers","following_url":"https://api.github.com/users/karuppayya/following{/other_user}","gists_url":"https://api.github.com/users/karuppayya/gists{/gist_id}","starred_url":"https://api.github.com/users/karuppayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karuppayya/subscriptions","organizations_url":"https://api.github.com/users/karuppayya/orgs","repos_url":"https://api.github.com/users/karuppayya/repos","events_url":"https://api.github.com/users/karuppayya/events{/privacy}","received_events_url":"https://api.github.com/users/karuppayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T21:01:35Z","updated_at":"2022-05-04T21:01:54Z","author_association":"CONTRIBUTOR","body":" @RussellSpitzer @szehon-ho @aokolnychyi @flyrain Ready for review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117934734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117945233","html_url":"https://github.com/apache/iceberg/pull/4242#issuecomment-1117945233","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4242","id":1117945233,"node_id":"IC_kwDOCW7NX85Con2R","user":{"login":"funcheetah","id":52840691,"node_id":"MDQ6VXNlcjUyODQwNjkx","avatar_url":"https://avatars.githubusercontent.com/u/52840691?v=4","gravatar_id":"","url":"https://api.github.com/users/funcheetah","html_url":"https://github.com/funcheetah","followers_url":"https://api.github.com/users/funcheetah/followers","following_url":"https://api.github.com/users/funcheetah/following{/other_user}","gists_url":"https://api.github.com/users/funcheetah/gists{/gist_id}","starred_url":"https://api.github.com/users/funcheetah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/funcheetah/subscriptions","organizations_url":"https://api.github.com/users/funcheetah/orgs","repos_url":"https://api.github.com/users/funcheetah/repos","events_url":"https://api.github.com/users/funcheetah/events{/privacy}","received_events_url":"https://api.github.com/users/funcheetah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T21:15:14Z","updated_at":"2022-05-04T21:15:39Z","author_association":"NONE","body":"> Can you address the checkstyle failures reported by the build? https://github.com/apache/iceberg/runs/6284396922?check_suite_focus=true\r\n\r\nThanks. Checkstyle failures are fixed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117945233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117966959","html_url":"https://github.com/apache/iceberg/pull/4683#issuecomment-1117966959","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4683","id":1117966959,"node_id":"IC_kwDOCW7NX85CotJv","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T21:47:44Z","updated_at":"2022-05-04T21:48:08Z","author_association":"CONTRIBUTOR","body":"Do we still need class `EqualityDeleteRowReader`? Its functionality can be archived by a filter on the `IS_DELETED` column. cc @chenjunjiedada  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117966959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117976861","html_url":"https://github.com/apache/iceberg/pull/4448#issuecomment-1117976861","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4448","id":1117976861,"node_id":"IC_kwDOCW7NX85Covkd","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T22:03:36Z","updated_at":"2022-05-04T22:03:36Z","author_association":"CONTRIBUTOR","body":"> Looks great. I think there was a `WIP` comment accidentally left in, but overall looks good to merge.\r\n\r\nJust noticed it. Removed!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1117976861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118012595","html_url":"https://github.com/apache/iceberg/pull/4637#issuecomment-1118012595","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4637","id":1118012595,"node_id":"IC_kwDOCW7NX85Co4Sz","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:06:27Z","updated_at":"2022-05-04T23:06:27Z","author_association":"COLLABORATOR","body":"Thanks @kbendick  and @RussellSpitzer for the review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118012595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118014391","html_url":"https://github.com/apache/iceberg/pull/4694#issuecomment-1118014391","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4694","id":1118014391,"node_id":"IC_kwDOCW7NX85Co4u3","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:09:49Z","updated_at":"2022-05-04T23:09:49Z","author_association":"COLLABORATOR","body":"FYI @RussellSpitzer @aokolnychyi if you guys have some cycles, thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118014391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118017075","html_url":"https://github.com/apache/iceberg/pull/2182#issuecomment-1118017075","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2182","id":1118017075,"node_id":"IC_kwDOCW7NX85Co5Yz","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:14:33Z","updated_at":"2022-05-04T23:15:58Z","author_association":"CONTRIBUTOR","body":"Hi @vvellanki @PiyushHurpadeDremio, are you still working on this? Is there any design doc to share?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118017075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118020014","html_url":"https://github.com/apache/iceberg/pull/4660#issuecomment-1118020014","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4660","id":1118020014,"node_id":"IC_kwDOCW7NX85Co6Gu","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:20:16Z","updated_at":"2022-05-04T23:20:16Z","author_association":"CONTRIBUTOR","body":"Thanks for the update, @homar.\r\n\r\nI'm debating whether this is a good idea. This adds quite a bit more content to each snapshot in metadata, especially when collecting partition summaries. The rationale for this is:\r\n\r\n> This is needed in trino in order to reliably provide number of deleted rows to the user, also when delete happens to delete no files.\r\n\r\nI'm not sure if that's a good reason to add this. If you want to rely on these summary properties, why not default to 0 if the property isn't there? Seems like the argument against that is the narrow case where the property is modified on the Iceberg side without anyone noticing, but I don't see a reason to modify these properties so the problem is very unlikely to occur.\r\n\r\nIn addition, I wouldn't expect summary properties to be used to report back. Typically, I'd recommend checking the metadata tree for things like number of deleted records. Although if you're happy with these for user reporting then it should be fine. It is just a summary and not going to the source of truth (the metadata tree).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118020014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118025263","html_url":"https://github.com/apache/iceberg/pull/4660#issuecomment-1118025263","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4660","id":1118025263,"node_id":"IC_kwDOCW7NX85Co7Yv","user":{"login":"homar","id":49628,"node_id":"MDQ6VXNlcjQ5NjI4","avatar_url":"https://avatars.githubusercontent.com/u/49628?v=4","gravatar_id":"","url":"https://api.github.com/users/homar","html_url":"https://github.com/homar","followers_url":"https://api.github.com/users/homar/followers","following_url":"https://api.github.com/users/homar/following{/other_user}","gists_url":"https://api.github.com/users/homar/gists{/gist_id}","starred_url":"https://api.github.com/users/homar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/homar/subscriptions","organizations_url":"https://api.github.com/users/homar/orgs","repos_url":"https://api.github.com/users/homar/repos","events_url":"https://api.github.com/users/homar/events{/privacy}","received_events_url":"https://api.github.com/users/homar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:31:15Z","updated_at":"2022-05-04T23:31:15Z","author_association":"NONE","body":"@rdblue thanks for your input.\r\nRegarding metadata tree, do you mean that the code below would be better/more precise than using snapshot summary ? \r\n```\r\nicebergTable.currentSnapshot().dataManifests().stream()\r\n.map(dm -> dm.deletedRowsCount()).reduce(0L, (a,b) -> a+b)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118025263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118027109","html_url":"https://github.com/apache/iceberg/pull/4660#issuecomment-1118027109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4660","id":1118027109,"node_id":"IC_kwDOCW7NX85Co71l","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:35:20Z","updated_at":"2022-05-04T23:35:20Z","author_association":"CONTRIBUTOR","body":"@homar, yeah. That's probably a better way if you don't want to rely on a special property name.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118027109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118039035","html_url":"https://github.com/apache/iceberg/pull/4674#issuecomment-1118039035","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4674","id":1118039035,"node_id":"IC_kwDOCW7NX85Co-v7","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T00:06:50Z","updated_at":"2022-05-05T00:13:41Z","author_association":"COLLABORATOR","body":"@RussellSpitzer  pointed me to this, I had a pr is orthogonal to this, to avoid duplicate computation of all_reachable_files here https://github.com/apache/iceberg/pull/3457 To me that was the bigger time consumer (exploring all reachable files), though maybe I need to re-do that pr.  Wasn't sure how much bottleneck getting all_manifests was.\r\n\r\nAnyway, agree with @RussellSpitzer that maybe cache is a better option than persist?  It'd be great to see some numbers for tables with huge snapshots for these two options vs today, if possible.  I think if , if we go with this approach, it should probably be  1) configurable , 2) able to be GC'ed sooner than later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118039035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118070274","html_url":"https://github.com/apache/iceberg/pull/3457#issuecomment-1118070274","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3457","id":1118070274,"node_id":"IC_kwDOCW7NX85CpGYC","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T01:01:52Z","updated_at":"2022-05-05T01:05:38Z","author_association":"COLLABORATOR","body":"I'm not sure if people think these changes are too hacky.\r\n\r\nAnother option I've thought, is to implement IncrementalScan (https://github.com/apache/iceberg/pull/4580) for All_files table (to be added in https://github.com/apache/iceberg/pull/4694), which will allow snapshot filtering.  Then rewrite ExpireSnapshotAction to use that table, with different filters to avoid double-scanning all_files.  It would be much cleaner that way, but a bigger refactor (and would make #4674 much harder if we go that route)\r\n\r\nI wonder was there was some reason initially to use all_manifests table and flatmap the ReadManifest task, rather than relying on all_files table?  @rdblue @aokolnychyi for any thoughts/information.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118070274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118074815","html_url":"https://github.com/apache/iceberg/pull/4693#issuecomment-1118074815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4693","id":1118074815,"node_id":"IC_kwDOCW7NX85CpHe_","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T01:12:35Z","updated_at":"2022-05-05T01:12:35Z","author_association":"CONTRIBUTOR","body":"It looks like `null` handling is incorrect in `JsonUtil::getLongOrNull`. I have a PR to update it that should likely go in first (though the same changes for `getLongOrNull` are reflected in this PR,  but not the changes for `getIntOrNull`): https://github.com/apache/iceberg/pull/4696","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118074815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118084257","html_url":"https://github.com/apache/iceberg/pull/3457#issuecomment-1118084257","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3457","id":1118084257,"node_id":"IC_kwDOCW7NX85CpJyh","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T01:35:10Z","updated_at":"2022-05-05T01:36:09Z","author_association":"COLLABORATOR","body":"Actually I think I get why, all_files table does not parallelize the planning (reading each snapshot in spark task), so maybe better to keep this way (all_manifests table and ReadManifest task).  Will take a look to see if this can be cleaned up in another way.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118084257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118097865","html_url":"https://github.com/apache/iceberg/pull/4683#issuecomment-1118097865","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4683","id":1118097865,"node_id":"IC_kwDOCW7NX85CpNHJ","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T02:08:44Z","updated_at":"2022-05-05T02:08:44Z","author_association":"COLLABORATOR","body":"@flyrain , I agree the implementation of `EqualityDeleteRowReader` can be replaced, but we are using the class for rewrite equality deletes. If we have the utilities to produce only equality deleted rows or position deleted rows, I'm OK to delete them.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118097865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118111005","html_url":"https://github.com/apache/iceberg/pull/4674#issuecomment-1118111005","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4674","id":1118111005,"node_id":"IC_kwDOCW7NX85CpQUd","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T02:39:56Z","updated_at":"2022-05-05T02:39:56Z","author_association":"MEMBER","body":"@szehon-ho :\r\n\r\n> @RussellSpitzer pointed me to this, I had a pr is orthogonal to this, to avoid duplicate computation of all_reachable_files here https://github.com/apache/iceberg/pull/3457 To me that was the bigger time consumer (exploring all reachable files), though maybe I need to re-do that pr. Wasn't sure how much bottleneck getting all_manifests was.\r\n\r\nyeah, scanning the all_manifest table twice was the major problem for me. \r\n\r\n\r\n> Anyway, agree with @RussellSpitzer that maybe cache is a better option than persist? It'd be great to see some numbers for tables with huge snapshots for these two options vs today, if possible. I think if , if we go with this approach, it should probably be 1) configurable , 2) able to be GC'ed sooner than later.\r\n\r\nSure,  I will make it configurable option to cache or not and get the performance report locally with large number of snapshots.  I will work on this over this weekend. \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118111005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118112299","html_url":"https://github.com/apache/iceberg/pull/4693#issuecomment-1118112299","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4693","id":1118112299,"node_id":"IC_kwDOCW7NX85CpQor","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T02:43:30Z","updated_at":"2022-05-05T02:43:30Z","author_association":"CONTRIBUTOR","body":"These tests failed because of a flakey Flink 1.15 test. Several tests in that file needed to be updated for Flink 1.15 as they were order dependent, and Flink no longer is returning the records in a defined ordering - and we have no ordering guarantees per the spec unless we have an `ORDER BY` clause _in the select statement_.\r\n\r\nThis PR should fix the issue: https://github.com/apache/iceberg/pull/4697","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118112299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118112986","html_url":"https://github.com/apache/iceberg/pull/4697#issuecomment-1118112986","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4697","id":1118112986,"node_id":"IC_kwDOCW7NX85CpQza","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T02:45:34Z","updated_at":"2022-05-05T02:45:34Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @openinx @stevenzwu @hililiwei @yittg this test is flaky (and technically always has been - but previously Flink was returning the records in a defined ordering).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118112986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118120476","html_url":"https://github.com/apache/iceberg/issues/4363#issuecomment-1118120476","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4363","id":1118120476,"node_id":"IC_kwDOCW7NX85CpSoc","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T03:05:10Z","updated_at":"2022-05-05T03:05:10Z","author_association":"CONTRIBUTOR","body":"@davidrimprobable Could you please list your environment in more detail? I can't reproduce the mistake for the time being.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118120476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118132913","html_url":"https://github.com/apache/iceberg/pull/4606#issuecomment-1118132913","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4606","id":1118132913,"node_id":"IC_kwDOCW7NX85CpVqx","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T03:35:00Z","updated_at":"2022-05-05T03:35:00Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118132913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118244605","html_url":"https://github.com/apache/iceberg/issues/4671#issuecomment-1118244605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4671","id":1118244605,"node_id":"IC_kwDOCW7NX85Cpw79","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T07:17:51Z","updated_at":"2022-05-05T07:17:51Z","author_association":"CONTRIBUTOR","body":"We should _really_ consider not publishing the information old iceberg-spark3-runtime.\r\n\r\nits a breaking change, but arguably it was a breaking change to move from spark3-runtime that supported Spark 3.0 and Spark 3.1 to per version runtime jar.\r\n\r\nI think far more users will find the right jar if they go to get the latest version and theres only jars for specific minor versions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118244605/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118259165","html_url":"https://github.com/apache/iceberg/pull/4602#issuecomment-1118259165","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4602","id":1118259165,"node_id":"IC_kwDOCW7NX85Cp0fd","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T07:40:16Z","updated_at":"2022-05-05T07:40:16Z","author_association":"CONTRIBUTOR","body":"@alexjo2144 Could you testing with this patch, If there is still a problem, try another way.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118259165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118260973","html_url":"https://github.com/apache/iceberg/pull/4620#issuecomment-1118260973","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4620","id":1118260973,"node_id":"IC_kwDOCW7NX85Cp07t","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T07:42:53Z","updated_at":"2022-05-05T07:42:53Z","author_association":"CONTRIBUTOR","body":"Could you take a look again, Thanks @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118260973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118264514","html_url":"https://github.com/apache/iceberg/issues/4698#issuecomment-1118264514","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4698","id":1118264514,"node_id":"IC_kwDOCW7NX85Cp1zC","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T07:47:53Z","updated_at":"2022-05-05T07:47:53Z","author_association":"CONTRIBUTOR","body":"Can refer to [spark-procedures](https://iceberg.apache.org/docs/latest/spark-procedures/)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118264514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118303420","html_url":"https://github.com/apache/iceberg/pull/4625#issuecomment-1118303420","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4625","id":1118303420,"node_id":"IC_kwDOCW7NX85Cp_S8","user":{"login":"Zhangg7723","id":18146312,"node_id":"MDQ6VXNlcjE4MTQ2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18146312?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangg7723","html_url":"https://github.com/Zhangg7723","followers_url":"https://api.github.com/users/Zhangg7723/followers","following_url":"https://api.github.com/users/Zhangg7723/following{/other_user}","gists_url":"https://api.github.com/users/Zhangg7723/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangg7723/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangg7723/subscriptions","organizations_url":"https://api.github.com/users/Zhangg7723/orgs","repos_url":"https://api.github.com/users/Zhangg7723/repos","events_url":"https://api.github.com/users/Zhangg7723/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangg7723/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T08:35:23Z","updated_at":"2022-05-05T08:35:23Z","author_association":"CONTRIBUTOR","body":"nice pr","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118303420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118323572","html_url":"https://github.com/apache/iceberg/pull/4660#issuecomment-1118323572","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4660","id":1118323572,"node_id":"IC_kwDOCW7NX85CqEN0","user":{"login":"homar","id":49628,"node_id":"MDQ6VXNlcjQ5NjI4","avatar_url":"https://avatars.githubusercontent.com/u/49628?v=4","gravatar_id":"","url":"https://api.github.com/users/homar","html_url":"https://github.com/homar","followers_url":"https://api.github.com/users/homar/followers","following_url":"https://api.github.com/users/homar/following{/other_user}","gists_url":"https://api.github.com/users/homar/gists{/gist_id}","starred_url":"https://api.github.com/users/homar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/homar/subscriptions","organizations_url":"https://api.github.com/users/homar/orgs","repos_url":"https://api.github.com/users/homar/repos","events_url":"https://api.github.com/users/homar/events{/privacy}","received_events_url":"https://api.github.com/users/homar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T08:58:01Z","updated_at":"2022-05-05T08:58:01Z","author_association":"NONE","body":"@rdblue I may be missing something but using metadata tree is not very precise/not very feasible.\r\nConsider following scenario(I will use SQL for readability):\r\n```\r\n1. CREATE TABLE orders (orderkey bigint,  orderstatus varchar);\r\n2. INSERT INTO orders VALUES(1, 'ok')\r\n3. INSERT INTO orders VALUES(2, 'invalid')\r\n4. INSERT INTO orders VALUES(3, 'ok')\r\n5. Do some OPTIMIZE/COMPACT or something that will merge these 3 data files into 1 data file\r\n6. DELETE FROM orders WHERE orderkey = 2; // this will create position delete \r\n7. DELETE FROM orders WHERE EXISTS(SELECT 1) // delete everything - so 2 rows with orderkey 1 and 3\r\n```\r\nif you now check dataManifests from currentSnapshot it will show that 3 rows were deleted. \r\nWhen in fact only 2 were deleted in the last operation and 1 in the previous one. \r\nAnd I don't see a way from the data manifest to figure out if some rows were deleted in the current snapshot or if the deletions were merged from the previous position deletes/equality deletes\r\n ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118323572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118517637","html_url":"https://github.com/apache/iceberg/pull/3249#issuecomment-1118517637","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3249","id":1118517637,"node_id":"IC_kwDOCW7NX85CqzmF","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T12:59:08Z","updated_at":"2022-05-05T12:59:08Z","author_association":"CONTRIBUTOR","body":"Thanks, @singhpk234 for the reviewing. Comments have been addressed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118517637/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118542840","html_url":"https://github.com/apache/iceberg/issues/4498#issuecomment-1118542840","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4498","id":1118542840,"node_id":"IC_kwDOCW7NX85Cq5v4","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T13:21:27Z","updated_at":"2022-05-05T13:21:27Z","author_association":"CONTRIBUTOR","body":"It's hard to unify, so close this issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118542840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118679163","html_url":"https://github.com/apache/iceberg/pull/4685#issuecomment-1118679163","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4685","id":1118679163,"node_id":"IC_kwDOCW7NX85CrbB7","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T15:13:41Z","updated_at":"2022-05-05T15:13:41Z","author_association":"CONTRIBUTOR","body":"Hey @samredai It took me a while, but I noticed that we're doing post-order traversal over the schema. This made it challenging to implement the Accessors because it would first create the object that should be set to `inner`, and then the parent objects. Instead of visiting the leaves first, I've changed the code to pre-order traversal. This way we can just recursively construct the accessors.\r\n\r\nLet's consider the following schema:\r\n```\r\nSchema: table {\r\n  2: id: required int\r\n  1: data: optional string\r\n  3: location: optional struct<5: latitude: required float, 6: longitude: required float>\r\n}\r\n```\r\n\r\nBefore it would visit:\r\n```\r\nField: 2: id: required int\r\nField: 1: data: optional string\r\nField: 5: latitude: required float\r\nField: 6: longitude: required float\r\nStruct: struct<5: latitude: required float, 6: longitude: required float>\r\nField: 3: location: optional struct<5: latitude: required float, 6: longitude: required float>\r\nStruct: struct<2: id: required int, 1: data: optional string, 3: location: optional struct<5: latitude: required float, 6: longitude: required float>>\r\n```\r\nWe first visit all the fields, and then the objects. I've changed this to pre-order:\r\n```\r\nStruct: struct<2: id: required int, 1: data: optional string, 3: location: optional struct<5: latitude: required float, 6: longitude: required float>>\r\nField: 2: id: required int\r\nField: 1: data: optional string\r\nField: 3: location: optional struct<5: latitude: required float, 6: longitude: required float>\r\nStruct: struct<5: latitude: required float, 6: longitude: required float>\r\nField: 5: latitude: required float\r\nField: 6: longitude: required float\r\n```\r\nWhich makes more sense to me and it also allows me to simplify the code. Please let me know if I'm missing anything here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118679163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118698861","html_url":"https://github.com/apache/iceberg/pull/4701#issuecomment-1118698861","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4701","id":1118698861,"node_id":"IC_kwDOCW7NX85Crf1t","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T15:28:38Z","updated_at":"2022-05-05T15:28:38Z","author_association":"MEMBER","body":"Thanks @rajarshisarkar !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118698861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118746923","html_url":"https://github.com/apache/iceberg/pull/4685#issuecomment-1118746923","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4685","id":1118746923,"node_id":"IC_kwDOCW7NX85Crrkr","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T16:05:12Z","updated_at":"2022-05-05T16:05:12Z","author_association":"CONTRIBUTOR","body":"@Fokko thanks for catching this! It makes sense to me and I don't think there are other areas that make post-order traversal a requirement.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118746923/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118760083","html_url":"https://github.com/apache/iceberg/pull/4694#issuecomment-1118760083","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4694","id":1118760083,"node_id":"IC_kwDOCW7NX85CruyT","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T16:16:33Z","updated_at":"2022-05-05T16:16:33Z","author_association":"CONTRIBUTOR","body":"Let me take a look at this one as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118760083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118953428","html_url":"https://github.com/apache/iceberg/pull/4683#issuecomment-1118953428","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4683","id":1118953428,"node_id":"IC_kwDOCW7NX85Csd_U","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T19:08:13Z","updated_at":"2022-05-05T19:08:13Z","author_association":"CONTRIBUTOR","body":"> @flyrain , I agree the implementation of `EqualityDeleteRowReader` can be replaced, but we are using the class for rewrite equality deletes. If we have the utilities to produce only equality deleted rows or position deleted rows, I'm OK to delete them.\r\n\r\nWe don't plan for that utilities in this PR. Let's not change anything about `EqualityDeleteRowReader`. Thanks for the input.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118953428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118969181","html_url":"https://github.com/apache/iceberg/pull/4707#issuecomment-1118969181","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4707","id":1118969181,"node_id":"IC_kwDOCW7NX85Csh1d","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T19:27:39Z","updated_at":"2022-05-05T19:27:39Z","author_association":"CONTRIBUTOR","body":"Looks like this was intended for internal use and we don't want the users to actually use it. \r\n\r\nrefering  : https://github.com/apache/iceberg/pull/3269#issuecomment-961520437","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1118969181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119083736","html_url":"https://github.com/apache/iceberg/pull/4674#issuecomment-1119083736","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4674","id":1119083736,"node_id":"IC_kwDOCW7NX85Cs9zY","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T21:59:31Z","updated_at":"2022-05-05T21:59:31Z","author_association":"COLLABORATOR","body":"Also FYI @aokolnychyi , if you wanted to take a look as well","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119083736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119226643","html_url":"https://github.com/apache/iceberg/pull/4629#issuecomment-1119226643","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4629","id":1119226643,"node_id":"IC_kwDOCW7NX85CtgsT","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T03:20:50Z","updated_at":"2022-05-06T03:20:50Z","author_association":"COLLABORATOR","body":"@aokolnychyi resolved all the comments, save the one about not having access to field ManifestFile 'content'.  I mean this still works as-is (just the ManifestContent=DELETES path is never taken though still returning delete files), but I can wait until that one goes in, either way.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119226643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119230305","html_url":"https://github.com/apache/iceberg/pull/4229#issuecomment-1119230305","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4229","id":1119230305,"node_id":"IC_kwDOCW7NX85Cthlh","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T03:31:31Z","updated_at":"2022-05-06T03:31:31Z","author_association":"MEMBER","body":"@openinx : Can you please help in merging this when you some time? Thanks. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119230305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119341492","html_url":"https://github.com/apache/iceberg/pull/4711#issuecomment-1119341492","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4711","id":1119341492,"node_id":"IC_kwDOCW7NX85Ct8u0","user":{"login":"ulmako","id":2621219,"node_id":"MDQ6VXNlcjI2MjEyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/2621219?v=4","gravatar_id":"","url":"https://api.github.com/users/ulmako","html_url":"https://github.com/ulmako","followers_url":"https://api.github.com/users/ulmako/followers","following_url":"https://api.github.com/users/ulmako/following{/other_user}","gists_url":"https://api.github.com/users/ulmako/gists{/gist_id}","starred_url":"https://api.github.com/users/ulmako/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulmako/subscriptions","organizations_url":"https://api.github.com/users/ulmako/orgs","repos_url":"https://api.github.com/users/ulmako/repos","events_url":"https://api.github.com/users/ulmako/events{/privacy}","received_events_url":"https://api.github.com/users/ulmako/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T07:38:00Z","updated_at":"2022-05-06T07:38:00Z","author_association":"CONTRIBUTOR","body":"@kbendick @rdblue here is the refactoring PR we talked about in #4307. Would you mind taking a look at it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119341492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119456905","html_url":"https://github.com/apache/iceberg/pull/4586#issuecomment-1119456905","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4586","id":1119456905,"node_id":"IC_kwDOCW7NX85CuY6J","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T10:05:47Z","updated_at":"2022-05-06T10:05:47Z","author_association":"CONTRIBUTOR","body":"+1 for having actual SQL to perform these actions","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119456905/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119459065","html_url":"https://github.com/apache/iceberg/pull/3883#issuecomment-1119459065","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3883","id":1119459065,"node_id":"IC_kwDOCW7NX85CuZb5","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T10:08:22Z","updated_at":"2022-05-06T10:08:22Z","author_association":"CONTRIBUTOR","body":"@amogh-jahagirdar would it make sense to link all of those smaller PRs here for a better overview?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119459065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119468656","html_url":"https://github.com/apache/iceberg/pull/4330#issuecomment-1119468656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4330","id":1119468656,"node_id":"IC_kwDOCW7NX85Cubxw","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T10:20:43Z","updated_at":"2022-05-06T10:20:43Z","author_association":"MEMBER","body":"https://github.com/apache/iceberg/pull/4700 gonna fix this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119468656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119494288","html_url":"https://github.com/apache/iceberg/pull/4714#issuecomment-1119494288","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4714","id":1119494288,"node_id":"IC_kwDOCW7NX85CuiCQ","user":{"login":"JiJiTang","id":10888658,"node_id":"MDQ6VXNlcjEwODg4NjU4","avatar_url":"https://avatars.githubusercontent.com/u/10888658?v=4","gravatar_id":"","url":"https://api.github.com/users/JiJiTang","html_url":"https://github.com/JiJiTang","followers_url":"https://api.github.com/users/JiJiTang/followers","following_url":"https://api.github.com/users/JiJiTang/following{/other_user}","gists_url":"https://api.github.com/users/JiJiTang/gists{/gist_id}","starred_url":"https://api.github.com/users/JiJiTang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiJiTang/subscriptions","organizations_url":"https://api.github.com/users/JiJiTang/orgs","repos_url":"https://api.github.com/users/JiJiTang/repos","events_url":"https://api.github.com/users/JiJiTang/events{/privacy}","received_events_url":"https://api.github.com/users/JiJiTang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T10:57:02Z","updated_at":"2022-05-06T10:57:02Z","author_association":"CONTRIBUTOR","body":"@ggershinsky for review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119494288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119570722","html_url":"https://github.com/apache/iceberg/pull/4537#issuecomment-1119570722","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4537","id":1119570722,"node_id":"IC_kwDOCW7NX85Cu0si","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T12:36:06Z","updated_at":"2022-05-06T12:36:06Z","author_association":"MEMBER","body":"(just rebased, no other changes)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119570722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119616871","html_url":"https://github.com/apache/iceberg/pull/4714#issuecomment-1119616871","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4714","id":1119616871,"node_id":"IC_kwDOCW7NX85Cu_9n","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T13:21:54Z","updated_at":"2022-05-06T13:21:54Z","author_association":"CONTRIBUTOR","body":"cc @jackye1995 @RussellSpitzer @flyrain ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119616871/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119814130","html_url":"https://github.com/apache/iceberg/pull/4696#issuecomment-1119814130","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4696","id":1119814130,"node_id":"IC_kwDOCW7NX85CvwHy","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T16:56:58Z","updated_at":"2022-05-06T16:56:58Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nGood catch, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119814130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119818873","html_url":"https://github.com/apache/iceberg/pull/4692#issuecomment-1119818873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4692","id":1119818873,"node_id":"IC_kwDOCW7NX85CvxR5","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T17:02:57Z","updated_at":"2022-05-06T17:02:57Z","author_association":"CONTRIBUTOR","body":"Hi @aokolnychyi @RussellSpitzer @rdblue wanted with check with you all if there are any high level concerns on this approach?\r\n\r\nI will add more tests, and will either make `file-as-split` generic for any scans, or rename it to make it obvious that it is limited to copy-on-write scans.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119818873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119831771","html_url":"https://github.com/apache/iceberg/pull/4448#issuecomment-1119831771","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4448","id":1119831771,"node_id":"IC_kwDOCW7NX85Cv0bb","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T17:21:02Z","updated_at":"2022-05-06T17:21:02Z","author_association":"CONTRIBUTOR","body":"This should be good to go when you get a chance. Rebased and removed unnecessary commits.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119831771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119948165","html_url":"https://github.com/apache/iceberg/pull/4711#issuecomment-1119948165","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4711","id":1119948165,"node_id":"IC_kwDOCW7NX85CwQ2F","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T19:28:54Z","updated_at":"2022-05-06T19:28:54Z","author_association":"COLLABORATOR","body":"Looks reasonable to me, if its just for tests, should we just do all the spark versions in one pr to reduce overhead?  Not sure what people think.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119948165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119950794","html_url":"https://github.com/apache/iceberg/pull/4711#issuecomment-1119950794","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4711","id":1119950794,"node_id":"IC_kwDOCW7NX85CwRfK","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T19:32:38Z","updated_at":"2022-05-06T19:32:38Z","author_association":"CONTRIBUTOR","body":"I'm ok with either all versions or back-porting by version. Technically by version is the standard but for small things we do often do multiple versions at once.\r\n\r\nSide question: Am I correct in assuming that for cherry-picking in a fork that all versions at once for smaller things is preferred for your workflow @szehon-ho? Ideally we do whatever is most practical for end users (within reason), which includes people who actively maintain forks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119950794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119964591","html_url":"https://github.com/apache/iceberg/pull/4687#issuecomment-1119964591","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4687","id":1119964591,"node_id":"IC_kwDOCW7NX85CwU2v","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T19:53:51Z","updated_at":"2022-05-06T19:53:51Z","author_association":"MEMBER","body":"@stevenzwu , @flyrain + @kbendick updated PR based on comments.\r\n\r\n@aokolnychyi could you also take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119964591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119986868","html_url":"https://github.com/apache/iceberg/pull/4711#issuecomment-1119986868","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4711","id":1119986868,"node_id":"IC_kwDOCW7NX85CwaS0","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T20:29:45Z","updated_at":"2022-05-06T20:29:45Z","author_association":"COLLABORATOR","body":"@kbendick no strong opinion or workflow (my only thought there was ease of reviewing), I'm fine to do separate prs as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119986868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119987250","html_url":"https://github.com/apache/iceberg/pull/4710#issuecomment-1119987250","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4710","id":1119987250,"node_id":"IC_kwDOCW7NX85CwaYy","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T20:30:18Z","updated_at":"2022-05-06T20:30:18Z","author_association":"MEMBER","body":"https://github.com/apache/iceberg/blob/f68d8d426661efc0d7e5686fe833b573b74eadab/core/src/test/java/org/apache/iceberg/hadoop/TestHadoopCatalog.java#L69\r\nhttps://github.com/apache/iceberg/blob/d2bb30f863d7276097c39754b9501ba27403b73c/aws/src/integration/java/org/apache/iceberg/aws/glue/TestGlueCatalogTable.java#L87","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119987250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119989254","html_url":"https://github.com/apache/iceberg/pull/4710#issuecomment-1119989254","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4710","id":1119989254,"node_id":"IC_kwDOCW7NX85Cwa4G","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T20:33:40Z","updated_at":"2022-05-06T20:33:40Z","author_association":"MEMBER","body":"Yeah, we might need an exact match down the road.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119989254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119993307","html_url":"https://github.com/apache/iceberg/pull/4687#issuecomment-1119993307","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4687","id":1119993307,"node_id":"IC_kwDOCW7NX85Cwb3b","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T20:40:59Z","updated_at":"2022-05-06T20:40:59Z","author_association":"CONTRIBUTOR","body":"The test looks good!!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1119993307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120014926","html_url":"https://github.com/apache/iceberg/pull/4694#issuecomment-1120014926","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4694","id":1120014926,"node_id":"IC_kwDOCW7NX85CwhJO","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T21:18:52Z","updated_at":"2022-05-06T21:18:52Z","author_association":"COLLABORATOR","body":"Thanks @aokolnychyi and @kbendick for review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120014926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120073714","html_url":"https://github.com/apache/iceberg/pull/4697#issuecomment-1120073714","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4697","id":1120073714,"node_id":"IC_kwDOCW7NX85Cwvfy","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T23:26:04Z","updated_at":"2022-05-06T23:26:04Z","author_association":"CONTRIBUTOR","body":"> I think the check on result size is redundant, but other than that looks good.\r\n\r\nAgreed. I left it in to make the changes as minimal as possible. I can remove it though.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120073714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120078934","html_url":"https://github.com/apache/iceberg/pull/4697#issuecomment-1120078934","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4697","id":1120078934,"node_id":"IC_kwDOCW7NX85CwwxW","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T23:44:22Z","updated_at":"2022-05-06T23:44:22Z","author_association":"MEMBER","body":"Thanks @kbendick for the patch!\r\nAlso thanks to @stevenzwu and @hililiwei for the reviews!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120078934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120079951","html_url":"https://github.com/apache/iceberg/pull/4702#issuecomment-1120079951","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4702","id":1120079951,"node_id":"IC_kwDOCW7NX85CwxBP","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T23:48:22Z","updated_at":"2022-05-06T23:50:31Z","author_association":"CONTRIBUTOR","body":"Refer to other writing methods, Possible NPE risks, I think we should try to avoid it.\r\ne.g.  [AvroFileAppender](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/avro/AvroFileAppender.java)\r\n```\r\n@Override\r\n  public void close() throws IOException {\r\n    if (writer != null) {\r\n      writer.close();\r\n      this.writer = null;\r\n      isClosed = true;\r\n    }\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120079951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120102419","html_url":"https://github.com/apache/iceberg/pull/4670#issuecomment-1120102419","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4670","id":1120102419,"node_id":"IC_kwDOCW7NX85Cw2gT","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T01:25:24Z","updated_at":"2022-05-07T01:25:24Z","author_association":"COLLABORATOR","body":"@kbendick, Do you want to merge this first or port 1.13 changes in?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120102419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120102880","html_url":"https://github.com/apache/iceberg/pull/4712#issuecomment-1120102880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4712","id":1120102880,"node_id":"IC_kwDOCW7NX85Cw2ng","user":{"login":"yittg","id":4429171,"node_id":"MDQ6VXNlcjQ0MjkxNzE=","avatar_url":"https://avatars.githubusercontent.com/u/4429171?v=4","gravatar_id":"","url":"https://api.github.com/users/yittg","html_url":"https://github.com/yittg","followers_url":"https://api.github.com/users/yittg/followers","following_url":"https://api.github.com/users/yittg/following{/other_user}","gists_url":"https://api.github.com/users/yittg/gists{/gist_id}","starred_url":"https://api.github.com/users/yittg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yittg/subscriptions","organizations_url":"https://api.github.com/users/yittg/orgs","repos_url":"https://api.github.com/users/yittg/repos","events_url":"https://api.github.com/users/yittg/events{/privacy}","received_events_url":"https://api.github.com/users/yittg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T01:27:14Z","updated_at":"2022-05-07T01:27:14Z","author_association":"CONTRIBUTOR","body":"@kbendick Thanks for pointing out this, i have updated the description.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120102880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120103632","html_url":"https://github.com/apache/iceberg/pull/4670#issuecomment-1120103632","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4670","id":1120103632,"node_id":"IC_kwDOCW7NX85Cw2zQ","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T01:30:11Z","updated_at":"2022-05-07T01:30:11Z","author_association":"CONTRIBUTOR","body":"> @kbendick, Do you want to merge this first or port 1.13 changes in?\r\n\r\nIm ok with it being merged now (thats what we normally do). But I dont have permissions to merge.\r\n\r\nIf you can get 1.13 working without issues, Id suggest maybe putting it in this PR so that its merged sooner as well.\r\n\r\nIll try to get somebody to merge this as soon as possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120103632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120105616","html_url":"https://github.com/apache/iceberg/pull/4687#issuecomment-1120105616","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4687","id":1120105616,"node_id":"IC_kwDOCW7NX85Cw3SQ","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T01:39:45Z","updated_at":"2022-05-07T01:39:45Z","author_association":"MEMBER","body":"Thanks @flyrain , @stevenzwu and @aokolnychyi for reviews!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120105616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120111232","html_url":"https://github.com/apache/iceberg/pull/4325#issuecomment-1120111232","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4325","id":1120111232,"node_id":"IC_kwDOCW7NX85Cw4qA","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T02:10:45Z","updated_at":"2022-05-07T02:11:11Z","author_association":"CONTRIBUTOR","body":"hi @RussellSpitzer , could you please take a look when you are available?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120111232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120154187","html_url":"https://github.com/apache/iceberg/pull/4658#issuecomment-1120154187","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4658","id":1120154187,"node_id":"IC_kwDOCW7NX85CxDJL","user":{"login":"Zephyr589","id":74643176,"node_id":"MDQ6VXNlcjc0NjQzMTc2","avatar_url":"https://avatars.githubusercontent.com/u/74643176?v=4","gravatar_id":"","url":"https://api.github.com/users/Zephyr589","html_url":"https://github.com/Zephyr589","followers_url":"https://api.github.com/users/Zephyr589/followers","following_url":"https://api.github.com/users/Zephyr589/following{/other_user}","gists_url":"https://api.github.com/users/Zephyr589/gists{/gist_id}","starred_url":"https://api.github.com/users/Zephyr589/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zephyr589/subscriptions","organizations_url":"https://api.github.com/users/Zephyr589/orgs","repos_url":"https://api.github.com/users/Zephyr589/repos","events_url":"https://api.github.com/users/Zephyr589/events{/privacy}","received_events_url":"https://api.github.com/users/Zephyr589/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T07:20:55Z","updated_at":"2022-05-07T07:20:55Z","author_association":"CONTRIBUTOR","body":"@hililiwei Thank you for your review. I am very glad to receive your advice, I have make some changes according to your suggestion. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120154187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120164957","html_url":"https://github.com/apache/iceberg/issues/4718#issuecomment-1120164957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4718","id":1120164957,"node_id":"IC_kwDOCW7NX85CxFxd","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T08:28:08Z","updated_at":"2022-05-07T08:28:08Z","author_association":"CONTRIBUTOR","body":"Thank @abmo-x for reporting this, was able to reproduce this issue in master as well, have added a PR for the same: \r\n-  https://github.com/apache/iceberg/pull/4720\r\n\r\nplease feel free to review as well :) !!!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120164957/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120268114","html_url":"https://github.com/apache/iceberg/pull/4719#issuecomment-1120268114","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4719","id":1120268114,"node_id":"IC_kwDOCW7NX85Cxe9S","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T19:13:25Z","updated_at":"2022-05-07T19:13:25Z","author_association":"MEMBER","body":"A Different fix will be needed for Spark 2.4","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120268114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120293063","html_url":"https://github.com/apache/iceberg/pull/4720#issuecomment-1120293063","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4720","id":1120293063,"node_id":"IC_kwDOCW7NX85CxlDH","user":{"login":"abmo-x","id":69539469,"node_id":"MDQ6VXNlcjY5NTM5NDY5","avatar_url":"https://avatars.githubusercontent.com/u/69539469?v=4","gravatar_id":"","url":"https://api.github.com/users/abmo-x","html_url":"https://github.com/abmo-x","followers_url":"https://api.github.com/users/abmo-x/followers","following_url":"https://api.github.com/users/abmo-x/following{/other_user}","gists_url":"https://api.github.com/users/abmo-x/gists{/gist_id}","starred_url":"https://api.github.com/users/abmo-x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abmo-x/subscriptions","organizations_url":"https://api.github.com/users/abmo-x/orgs","repos_url":"https://api.github.com/users/abmo-x/repos","events_url":"https://api.github.com/users/abmo-x/events{/privacy}","received_events_url":"https://api.github.com/users/abmo-x/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T21:22:45Z","updated_at":"2022-05-07T21:22:45Z","author_association":"CONTRIBUTOR","body":"Thanks @singhpk234 for a quick turn around, appreciate it!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120293063/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120387869","html_url":"https://github.com/apache/iceberg/pull/4722#issuecomment-1120387869","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4722","id":1120387869,"node_id":"IC_kwDOCW7NX85Cx8Md","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T10:01:43Z","updated_at":"2022-05-08T10:01:43Z","author_association":"MEMBER","body":"cc: @aokolnychyi , @rdblue , @szehon-ho, @RussellSpitzer  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120387869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120406659","html_url":"https://github.com/apache/iceberg/pull/4674#issuecomment-1120406659","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4674","id":1120406659,"node_id":"IC_kwDOCW7NX85CyAyD","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T12:06:52Z","updated_at":"2022-05-08T12:06:52Z","author_association":"MEMBER","body":"@RussellSpitzer, @szehon-ho, @aokolnychyi:  PR is ready for review. \r\n\r\na) I tested with local file system and local test case in IDE, without cache (22ms), with cache (18ms) with 1000 manifest list files to read. \r\nNot so much difference, probably because it is local file system. As PR avoids reading manifest list files again (verified with logs), in S3 file system probably better difference can be seen with huge number of snapshots.\r\n\r\n```\r\n@Test\r\n  public void testExpireSnapshotUsingNamedArgs() {\r\n    sql(\"CREATE TABLE %s (id bigint NOT NULL, data string) USING iceberg\", tableName);\r\n\r\n    for (int i = 0; i < 1000; i++) {\r\n      sql(\"INSERT INTO TABLE %s VALUES (1, 'a')\", tableName);\r\n    }\r\n\r\n    Table table = validationCatalog.loadTable(tableIdent);\r\n\r\n    Assert.assertEquals(\"Should be 1000 snapshots\", 1000, Iterables.size(table.snapshots()));\r\n\r\n    waitUntilAfter(table.currentSnapshot().timestampMillis());\r\n\r\n    Timestamp currentTimestamp = Timestamp.from(Instant.ofEpochMilli(System.currentTimeMillis()));\r\n\r\n    long time = System.currentTimeMillis();\r\n\r\n    List<Object[]> output = sql(\r\n        \"CALL %s.system.expire_snapshots(\" +\r\n            \"older_than => TIMESTAMP '%s',\" +\r\n            \"table => '%s',\" +\r\n            \"retain_last => 999, use_caching => false)\",\r\n        catalogName, currentTimestamp, tableIdent);\r\n\r\n    System.out.println(\"time taken in ms: \" + (System.currentTimeMillis() - time));\r\n  }\r\n\r\n  time taken in ms: 18478  -- with cache\r\n  time taken in ms: 22589  -- without cache\r\n```\r\n  \r\n**b) Also in the base code I found we use caching for `RewriteManifestsProcedure`, so I used the same pattern and syntax (keeping cache as default).**\r\nAlso found a bug in the base code and raised PR #4722 \r\n\r\nc) I have some more plans for improving the `expire_snaphots` (different idea than https://github.com/apache/iceberg/pull/3457), I will work in the subsequent PR.\r\n\r\nIdea is that add a new column \"from_snapshot_id\" while preparing the actual files, then filter out (NOT IN filter) the expired snapshot ids rows from persisted output (without scanning again) and then same logic of df.except() to find the expired files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120406659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120420694","html_url":"https://github.com/apache/iceberg/issues/4471#issuecomment-1120420694","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4471","id":1120420694,"node_id":"IC_kwDOCW7NX85CyENW","user":{"login":"peterxiong13","id":40230517,"node_id":"MDQ6VXNlcjQwMjMwNTE3","avatar_url":"https://avatars.githubusercontent.com/u/40230517?v=4","gravatar_id":"","url":"https://api.github.com/users/peterxiong13","html_url":"https://github.com/peterxiong13","followers_url":"https://api.github.com/users/peterxiong13/followers","following_url":"https://api.github.com/users/peterxiong13/following{/other_user}","gists_url":"https://api.github.com/users/peterxiong13/gists{/gist_id}","starred_url":"https://api.github.com/users/peterxiong13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peterxiong13/subscriptions","organizations_url":"https://api.github.com/users/peterxiong13/orgs","repos_url":"https://api.github.com/users/peterxiong13/repos","events_url":"https://api.github.com/users/peterxiong13/events{/privacy}","received_events_url":"https://api.github.com/users/peterxiong13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T13:37:11Z","updated_at":"2022-05-08T13:37:11Z","author_association":"NONE","body":"10","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120420694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120421521","html_url":"https://github.com/apache/iceberg/issues/4471#issuecomment-1120421521","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4471","id":1120421521,"node_id":"IC_kwDOCW7NX85CyEaR","user":{"login":"peterxiong13","id":40230517,"node_id":"MDQ6VXNlcjQwMjMwNTE3","avatar_url":"https://avatars.githubusercontent.com/u/40230517?v=4","gravatar_id":"","url":"https://api.github.com/users/peterxiong13","html_url":"https://github.com/peterxiong13","followers_url":"https://api.github.com/users/peterxiong13/followers","following_url":"https://api.github.com/users/peterxiong13/following{/other_user}","gists_url":"https://api.github.com/users/peterxiong13/gists{/gist_id}","starred_url":"https://api.github.com/users/peterxiong13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peterxiong13/subscriptions","organizations_url":"https://api.github.com/users/peterxiong13/orgs","repos_url":"https://api.github.com/users/peterxiong13/repos","events_url":"https://api.github.com/users/peterxiong13/events{/privacy}","received_events_url":"https://api.github.com/users/peterxiong13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T13:42:42Z","updated_at":"2022-05-08T13:42:42Z","author_association":"NONE","body":"","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120421521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120424248","html_url":"https://github.com/apache/iceberg/issues/3409#issuecomment-1120424248","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3409","id":1120424248,"node_id":"IC_kwDOCW7NX85CyFE4","user":{"login":"peterxiong13","id":40230517,"node_id":"MDQ6VXNlcjQwMjMwNTE3","avatar_url":"https://avatars.githubusercontent.com/u/40230517?v=4","gravatar_id":"","url":"https://api.github.com/users/peterxiong13","html_url":"https://github.com/peterxiong13","followers_url":"https://api.github.com/users/peterxiong13/followers","following_url":"https://api.github.com/users/peterxiong13/following{/other_user}","gists_url":"https://api.github.com/users/peterxiong13/gists{/gist_id}","starred_url":"https://api.github.com/users/peterxiong13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peterxiong13/subscriptions","organizations_url":"https://api.github.com/users/peterxiong13/orgs","repos_url":"https://api.github.com/users/peterxiong13/repos","events_url":"https://api.github.com/users/peterxiong13/events{/privacy}","received_events_url":"https://api.github.com/users/peterxiong13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T14:00:51Z","updated_at":"2022-05-08T14:00:51Z","author_association":"NONE","body":"","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120424248/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":2,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120424407","html_url":"https://github.com/apache/iceberg/issues/3409#issuecomment-1120424407","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3409","id":1120424407,"node_id":"IC_kwDOCW7NX85CyFHX","user":{"login":"peterxiong13","id":40230517,"node_id":"MDQ6VXNlcjQwMjMwNTE3","avatar_url":"https://avatars.githubusercontent.com/u/40230517?v=4","gravatar_id":"","url":"https://api.github.com/users/peterxiong13","html_url":"https://github.com/peterxiong13","followers_url":"https://api.github.com/users/peterxiong13/followers","following_url":"https://api.github.com/users/peterxiong13/following{/other_user}","gists_url":"https://api.github.com/users/peterxiong13/gists{/gist_id}","starred_url":"https://api.github.com/users/peterxiong13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peterxiong13/subscriptions","organizations_url":"https://api.github.com/users/peterxiong13/orgs","repos_url":"https://api.github.com/users/peterxiong13/repos","events_url":"https://api.github.com/users/peterxiong13/events{/privacy}","received_events_url":"https://api.github.com/users/peterxiong13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T14:01:46Z","updated_at":"2022-05-08T14:01:46Z","author_association":"NONE","body":"","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120424407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120441945","html_url":"https://github.com/apache/iceberg/issues/4723#issuecomment-1120441945","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4723","id":1120441945,"node_id":"IC_kwDOCW7NX85CyJZZ","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T15:48:17Z","updated_at":"2022-05-08T15:48:17Z","author_association":"CONTRIBUTOR","body":"The main problem I see is that Iceberg doesn't support transaction across multiple tables, which I assume is what this would requires.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120441945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120493312","html_url":"https://github.com/apache/iceberg/pull/4693#issuecomment-1120493312","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4693","id":1120493312,"node_id":"IC_kwDOCW7NX85CyV8A","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T21:55:16Z","updated_at":"2022-05-08T21:55:16Z","author_association":"CONTRIBUTOR","body":"I've rebased this now that https://github.com/apache/iceberg/pull/4697 has been merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120493312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120585851","html_url":"https://github.com/apache/iceberg/issues/3117#issuecomment-1120585851","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3117","id":1120585851,"node_id":"IC_kwDOCW7NX85Cysh7","user":{"login":"fi-ecavc","id":10372053,"node_id":"MDQ6VXNlcjEwMzcyMDUz","avatar_url":"https://avatars.githubusercontent.com/u/10372053?v=4","gravatar_id":"","url":"https://api.github.com/users/fi-ecavc","html_url":"https://github.com/fi-ecavc","followers_url":"https://api.github.com/users/fi-ecavc/followers","following_url":"https://api.github.com/users/fi-ecavc/following{/other_user}","gists_url":"https://api.github.com/users/fi-ecavc/gists{/gist_id}","starred_url":"https://api.github.com/users/fi-ecavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fi-ecavc/subscriptions","organizations_url":"https://api.github.com/users/fi-ecavc/orgs","repos_url":"https://api.github.com/users/fi-ecavc/repos","events_url":"https://api.github.com/users/fi-ecavc/events{/privacy}","received_events_url":"https://api.github.com/users/fi-ecavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T03:00:35Z","updated_at":"2022-05-09T03:00:35Z","author_association":"NONE","body":"Yes, the storage we use is exactly Minio (S3 compatible). More and more are adopting hive-metastore +S3. It feels weird to have to deploy Hadoop.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120585851/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120980668","html_url":"https://github.com/apache/iceberg/pull/4011#issuecomment-1120980668","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4011","id":1120980668,"node_id":"IC_kwDOCW7NX85C0M68","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T11:30:58Z","updated_at":"2022-05-09T11:30:58Z","author_association":"CONTRIBUTOR","body":"@SinghAsDev As discussed over Slack, [this feature would benefit many EMR cluster users](https://github.com/apache/iceberg/issues/3994#issuecomment-1023493891). I wanted to check with you if we can fast track this PR. In case you are keeping busy, can I collaborate with you to close this PR (as a co-author)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1120980668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1121092358","html_url":"https://github.com/apache/iceberg/pull/4660#issuecomment-1121092358","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4660","id":1121092358,"node_id":"IC_kwDOCW7NX85C0oMG","user":{"login":"homar","id":49628,"node_id":"MDQ6VXNlcjQ5NjI4","avatar_url":"https://avatars.githubusercontent.com/u/49628?v=4","gravatar_id":"","url":"https://api.github.com/users/homar","html_url":"https://github.com/homar","followers_url":"https://api.github.com/users/homar/followers","following_url":"https://api.github.com/users/homar/following{/other_user}","gists_url":"https://api.github.com/users/homar/gists{/gist_id}","starred_url":"https://api.github.com/users/homar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/homar/subscriptions","organizations_url":"https://api.github.com/users/homar/orgs","repos_url":"https://api.github.com/users/homar/repos","events_url":"https://api.github.com/users/homar/events{/privacy}","received_events_url":"https://api.github.com/users/homar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T13:19:07Z","updated_at":"2022-05-09T13:19:07Z","author_association":"NONE","body":"@rdblue could you please advise if i am doing something wrong ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1121092358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1121304920","html_url":"https://github.com/apache/iceberg/pull/4714#issuecomment-1121304920","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4714","id":1121304920,"node_id":"IC_kwDOCW7NX85C1cFY","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T16:16:15Z","updated_at":"2022-05-09T16:16:15Z","author_association":"CONTRIBUTOR","body":"Hey @JiJiTang I'm hoping you can clarify a little more about this implementation and the use case.  A few things confuse me a little:\r\n\r\n1. This appears to be a standalone kms client implementation, but I don't see how anyone could use this directly without bringing custom code (i.e. we don't dynamically load any of the aws clients individually).\r\n2. This doesn't appear to be implemented in the same pattern as the AWSClientFactory (I see there is a factory method on this implementation, but that's quite different from how other clients are accessed).\r\n\r\nThere are a lot of different configurations with AWS clients and I don't think the intent is to make Iceberg support every option, so it might be better to just maintain your own client factory with customizations like this.\r\n\r\nIf we were to support key generation, it would probably need to be integrated with the AWSClientFactory implementations and configurable via a property, but this seems to be getting into pretty narrow use cases that add additional complexity.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1121304920/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1121309746","html_url":"https://github.com/apache/iceberg/issues/4718#issuecomment-1121309746","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4718","id":1121309746,"node_id":"IC_kwDOCW7NX85C1dQy","user":{"login":"abmo-x","id":69539469,"node_id":"MDQ6VXNlcjY5NTM5NDY5","avatar_url":"https://avatars.githubusercontent.com/u/69539469?v=4","gravatar_id":"","url":"https://api.github.com/users/abmo-x","html_url":"https://github.com/abmo-x","followers_url":"https://api.github.com/users/abmo-x/followers","following_url":"https://api.github.com/users/abmo-x/following{/other_user}","gists_url":"https://api.github.com/users/abmo-x/gists{/gist_id}","starred_url":"https://api.github.com/users/abmo-x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abmo-x/subscriptions","organizations_url":"https://api.github.com/users/abmo-x/orgs","repos_url":"https://api.github.com/users/abmo-x/repos","events_url":"https://api.github.com/users/abmo-x/events{/privacy}","received_events_url":"https://api.github.com/users/abmo-x/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T16:20:25Z","updated_at":"2022-05-09T16:20:25Z","author_association":"CONTRIBUTOR","body":"Thanks @singhpk234  for the quick fix! Any idea or an ETA when this will get merged into master?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1121309746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1121361248","html_url":"https://github.com/apache/iceberg/pull/4714#issuecomment-1121361248","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4714","id":1121361248,"node_id":"IC_kwDOCW7NX85C1p1g","user":{"login":"JiJiTang","id":10888658,"node_id":"MDQ6VXNlcjEwODg4NjU4","avatar_url":"https://avatars.githubusercontent.com/u/10888658?v=4","gravatar_id":"","url":"https://api.github.com/users/JiJiTang","html_url":"https://github.com/JiJiTang","followers_url":"https://api.github.com/users/JiJiTang/followers","following_url":"https://api.github.com/users/JiJiTang/following{/other_user}","gists_url":"https://api.github.com/users/JiJiTang/gists{/gist_id}","starred_url":"https://api.github.com/users/JiJiTang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiJiTang/subscriptions","organizations_url":"https://api.github.com/users/JiJiTang/orgs","repos_url":"https://api.github.com/users/JiJiTang/repos","events_url":"https://api.github.com/users/JiJiTang/events{/privacy}","received_events_url":"https://api.github.com/users/JiJiTang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T17:12:12Z","updated_at":"2022-05-09T18:11:58Z","author_association":"CONTRIBUTOR","body":"@danielcweeks , thanks VM for the good comments.  Please find my comments as the following:\r\n\r\n1. Default AWS KMS client created by default AWSClientFactory relies on normal AWS credential provider chain which works out of box for typical AWS environment without the need of customoisation. If users need customisation then they can override the `awsKmsClient` method defined in the implementation.  \r\n2. I didn't use `AwsClientFactories.from`  because  AWSClientFactory relies on catalog properties for initialisation but Iceberg Encryption KMS client `initialise` method only brings table properties not catalog properties in the scope.\r\n\r\nIMHO, support key generation or not should be per table configuration and configured via table properties, not sure we should configure via AWSClientFactory . Apologies in advance if I understand you wrongly. Also cc @ggershinsky for more inputs.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1121361248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]