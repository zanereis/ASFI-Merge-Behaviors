[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389384410","html_url":"https://github.com/apache/brpc/issues/327#issuecomment-389384410","issue_url":"https://api.github.com/repos/apache/brpc/issues/327","id":389384410,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTM4NDQxMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-16T03:37:18Z","updated_at":"2018-05-16T03:37:18Z","author_association":"CONTRIBUTOR","body":"不支持","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389384410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389423933","html_url":"https://github.com/apache/brpc/issues/328#issuecomment-389423933","issue_url":"https://api.github.com/repos/apache/brpc/issues/328","id":389423933,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTQyMzkzMw==","user":{"login":"polyzy","id":7263718,"node_id":"MDQ6VXNlcjcyNjM3MTg=","avatar_url":"https://avatars.githubusercontent.com/u/7263718?v=4","gravatar_id":"","url":"https://api.github.com/users/polyzy","html_url":"https://github.com/polyzy","followers_url":"https://api.github.com/users/polyzy/followers","following_url":"https://api.github.com/users/polyzy/following{/other_user}","gists_url":"https://api.github.com/users/polyzy/gists{/gist_id}","starred_url":"https://api.github.com/users/polyzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyzy/subscriptions","organizations_url":"https://api.github.com/users/polyzy/orgs","repos_url":"https://api.github.com/users/polyzy/repos","events_url":"https://api.github.com/users/polyzy/events{/privacy}","received_events_url":"https://api.github.com/users/polyzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-16T07:34:33Z","updated_at":"2018-05-16T07:34:33Z","author_association":"CONTRIBUTOR","body":"@jamesge 按照您的方法报错\r\n```\r\nLinking libbrpc.dylib\r\nUndefined symbols for architecture x86_64:\r\n  \"_RegisterThriftProtocol\", referenced from:\r\n      brpc::GlobalInitializeOrDieImpl() in global.o\r\nld: symbol(s) not found for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake: *** [libbrpc.dylib] Error 1\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389423933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389449635","html_url":"https://github.com/apache/brpc/issues/328#issuecomment-389449635","issue_url":"https://api.github.com/repos/apache/brpc/issues/328","id":389449635,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTQ0OTYzNQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-16T09:07:09Z","updated_at":"2018-05-16T09:07:09Z","author_association":"MEMBER","body":"@smartczy 拉下代码再试一下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389449635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389450268","html_url":"https://github.com/apache/brpc/issues/328#issuecomment-389450268","issue_url":"https://api.github.com/repos/apache/brpc/issues/328","id":389450268,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTQ1MDI2OA==","user":{"login":"polyzy","id":7263718,"node_id":"MDQ6VXNlcjcyNjM3MTg=","avatar_url":"https://avatars.githubusercontent.com/u/7263718?v=4","gravatar_id":"","url":"https://api.github.com/users/polyzy","html_url":"https://github.com/polyzy","followers_url":"https://api.github.com/users/polyzy/followers","following_url":"https://api.github.com/users/polyzy/following{/other_user}","gists_url":"https://api.github.com/users/polyzy/gists{/gist_id}","starred_url":"https://api.github.com/users/polyzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyzy/subscriptions","organizations_url":"https://api.github.com/users/polyzy/orgs","repos_url":"https://api.github.com/users/polyzy/repos","events_url":"https://api.github.com/users/polyzy/events{/privacy}","received_events_url":"https://api.github.com/users/polyzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-16T09:09:24Z","updated_at":"2018-05-16T09:09:24Z","author_association":"CONTRIBUTOR","body":"@zyearn 安装成功，感谢！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389450268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389719541","html_url":"https://github.com/apache/brpc/issues/321#issuecomment-389719541","issue_url":"https://api.github.com/repos/apache/brpc/issues/321","id":389719541,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTcxOTU0MQ==","user":{"login":"yjhjstz","id":3832082,"node_id":"MDQ6VXNlcjM4MzIwODI=","avatar_url":"https://avatars.githubusercontent.com/u/3832082?v=4","gravatar_id":"","url":"https://api.github.com/users/yjhjstz","html_url":"https://github.com/yjhjstz","followers_url":"https://api.github.com/users/yjhjstz/followers","following_url":"https://api.github.com/users/yjhjstz/following{/other_user}","gists_url":"https://api.github.com/users/yjhjstz/gists{/gist_id}","starred_url":"https://api.github.com/users/yjhjstz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yjhjstz/subscriptions","organizations_url":"https://api.github.com/users/yjhjstz/orgs","repos_url":"https://api.github.com/users/yjhjstz/repos","events_url":"https://api.github.com/users/yjhjstz/events{/privacy}","received_events_url":"https://api.github.com/users/yjhjstz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-17T01:54:11Z","updated_at":"2018-05-17T01:54:11Z","author_association":"MEMBER","body":"其实项目下都没有这个文件。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389719541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389737586","html_url":"https://github.com/apache/brpc/issues/331#issuecomment-389737586","issue_url":"https://api.github.com/repos/apache/brpc/issues/331","id":389737586,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTczNzU4Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-17T04:01:23Z","updated_at":"2018-05-17T04:01:23Z","author_association":"CONTRIBUTOR","body":"这个需要用户自己去调用","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/389737586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390072614","html_url":"https://github.com/apache/brpc/issues/331#issuecomment-390072614","issue_url":"https://api.github.com/repos/apache/brpc/issues/331","id":390072614,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDA3MjYxNA==","user":{"login":"yanwei1983","id":17567999,"node_id":"MDQ6VXNlcjE3NTY3OTk5","avatar_url":"https://avatars.githubusercontent.com/u/17567999?v=4","gravatar_id":"","url":"https://api.github.com/users/yanwei1983","html_url":"https://github.com/yanwei1983","followers_url":"https://api.github.com/users/yanwei1983/followers","following_url":"https://api.github.com/users/yanwei1983/following{/other_user}","gists_url":"https://api.github.com/users/yanwei1983/gists{/gist_id}","starred_url":"https://api.github.com/users/yanwei1983/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanwei1983/subscriptions","organizations_url":"https://api.github.com/users/yanwei1983/orgs","repos_url":"https://api.github.com/users/yanwei1983/repos","events_url":"https://api.github.com/users/yanwei1983/events{/privacy}","received_events_url":"https://api.github.com/users/yanwei1983/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-18T02:07:48Z","updated_at":"2018-05-18T02:07:48Z","author_association":"NONE","body":"在master_service收到请求后，判断是否是internal_port然后，再去访问builtin_services的callmothed吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390072614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390083529","html_url":"https://github.com/apache/brpc/issues/328#issuecomment-390083529","issue_url":"https://api.github.com/repos/apache/brpc/issues/328","id":390083529,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDA4MzUyOQ==","user":{"login":"sinceq","id":8589514,"node_id":"MDQ6VXNlcjg1ODk1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8589514?v=4","gravatar_id":"","url":"https://api.github.com/users/sinceq","html_url":"https://github.com/sinceq","followers_url":"https://api.github.com/users/sinceq/followers","following_url":"https://api.github.com/users/sinceq/following{/other_user}","gists_url":"https://api.github.com/users/sinceq/gists{/gist_id}","starred_url":"https://api.github.com/users/sinceq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sinceq/subscriptions","organizations_url":"https://api.github.com/users/sinceq/orgs","repos_url":"https://api.github.com/users/sinceq/repos","events_url":"https://api.github.com/users/sinceq/events{/privacy}","received_events_url":"https://api.github.com/users/sinceq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-18T03:27:58Z","updated_at":"2018-05-18T03:27:58Z","author_association":"NONE","body":"@jamesge @zyearn 谢谢二位，安装成功了，感谢！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390083529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390112605","html_url":"https://github.com/apache/brpc/issues/331#issuecomment-390112605","issue_url":"https://api.github.com/repos/apache/brpc/issues/331","id":390112605,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDExMjYwNQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-18T06:53:23Z","updated_at":"2018-05-18T06:54:51Z","author_association":"CONTRIBUTOR","body":"对, `if (!server->options().security_mode() || cntl->local_side().port == server->options().internal_port) { /*allow access to builtin services*/ }`\r\n不过一般内部用的proxy只需要代理几个url，定义下[restful url](https://github.com/brpc/brpc/blob/master/docs/en/http_service.md#restful-url)就行了，http_master_service在brpc中也就被工具rpc_view用到了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390112605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390113812","html_url":"https://github.com/apache/brpc/issues/333#issuecomment-390113812","issue_url":"https://api.github.com/repos/apache/brpc/issues/333","id":390113812,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDExMzgxMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-18T06:58:58Z","updated_at":"2018-05-18T06:58:58Z","author_association":"CONTRIBUTOR","body":"原因在 #208 有提到一些。 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390113812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390373255","html_url":"https://github.com/apache/brpc/issues/240#issuecomment-390373255","issue_url":"https://api.github.com/repos/apache/brpc/issues/240","id":390373255,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDM3MzI1NQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-19T02:50:08Z","updated_at":"2018-05-19T02:50:08Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390373255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390378862","html_url":"https://github.com/apache/brpc/issues/268#issuecomment-390378862","issue_url":"https://api.github.com/repos/apache/brpc/issues/268","id":390378862,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDM3ODg2Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-19T04:50:07Z","updated_at":"2018-05-19T04:50:07Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390378862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390378863","html_url":"https://github.com/apache/brpc/issues/270#issuecomment-390378863","issue_url":"https://api.github.com/repos/apache/brpc/issues/270","id":390378863,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDM3ODg2Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-19T04:50:08Z","updated_at":"2018-05-19T04:50:08Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390378863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390381791","html_url":"https://github.com/apache/brpc/issues/273#issuecomment-390381791","issue_url":"https://api.github.com/repos/apache/brpc/issues/273","id":390381791,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDM4MTc5MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-19T05:50:07Z","updated_at":"2018-05-19T05:50:07Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390381791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390389072","html_url":"https://github.com/apache/brpc/issues/272#issuecomment-390389072","issue_url":"https://api.github.com/repos/apache/brpc/issues/272","id":390389072,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDM4OTA3Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-19T08:22:38Z","updated_at":"2018-05-19T08:22:38Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390389072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390409725","html_url":"https://github.com/apache/brpc/issues/192#issuecomment-390409725","issue_url":"https://api.github.com/repos/apache/brpc/issues/192","id":390409725,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDQwOTcyNQ==","user":{"login":"baixiaohang","id":4069691,"node_id":"MDQ6VXNlcjQwNjk2OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4069691?v=4","gravatar_id":"","url":"https://api.github.com/users/baixiaohang","html_url":"https://github.com/baixiaohang","followers_url":"https://api.github.com/users/baixiaohang/followers","following_url":"https://api.github.com/users/baixiaohang/following{/other_user}","gists_url":"https://api.github.com/users/baixiaohang/gists{/gist_id}","starred_url":"https://api.github.com/users/baixiaohang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baixiaohang/subscriptions","organizations_url":"https://api.github.com/users/baixiaohang/orgs","repos_url":"https://api.github.com/users/baixiaohang/repos","events_url":"https://api.github.com/users/baixiaohang/events{/privacy}","received_events_url":"https://api.github.com/users/baixiaohang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-19T14:44:17Z","updated_at":"2018-05-19T14:44:17Z","author_association":"NONE","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390409725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390452156","html_url":"https://github.com/apache/brpc/issues/142#issuecomment-390452156","issue_url":"https://api.github.com/repos/apache/brpc/issues/142","id":390452156,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDQ1MjE1Ng==","user":{"login":"chenguangpeng1","id":37405747,"node_id":"MDQ6VXNlcjM3NDA1NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/37405747?v=4","gravatar_id":"","url":"https://api.github.com/users/chenguangpeng1","html_url":"https://github.com/chenguangpeng1","followers_url":"https://api.github.com/users/chenguangpeng1/followers","following_url":"https://api.github.com/users/chenguangpeng1/following{/other_user}","gists_url":"https://api.github.com/users/chenguangpeng1/gists{/gist_id}","starred_url":"https://api.github.com/users/chenguangpeng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenguangpeng1/subscriptions","organizations_url":"https://api.github.com/users/chenguangpeng1/orgs","repos_url":"https://api.github.com/users/chenguangpeng1/repos","events_url":"https://api.github.com/users/chenguangpeng1/events{/privacy}","received_events_url":"https://api.github.com/users/chenguangpeng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-20T02:01:28Z","updated_at":"2018-05-20T02:01:28Z","author_association":"NONE","body":"@jamesge  1. 在读多写少的时候 确实需要读写锁  2 读写锁没有实现的原因是什么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390452156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390452171","html_url":"https://github.com/apache/brpc/issues/142#issuecomment-390452171","issue_url":"https://api.github.com/repos/apache/brpc/issues/142","id":390452171,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDQ1MjE3MQ==","user":{"login":"chenguangpeng1","id":37405747,"node_id":"MDQ6VXNlcjM3NDA1NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/37405747?v=4","gravatar_id":"","url":"https://api.github.com/users/chenguangpeng1","html_url":"https://github.com/chenguangpeng1","followers_url":"https://api.github.com/users/chenguangpeng1/followers","following_url":"https://api.github.com/users/chenguangpeng1/following{/other_user}","gists_url":"https://api.github.com/users/chenguangpeng1/gists{/gist_id}","starred_url":"https://api.github.com/users/chenguangpeng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenguangpeng1/subscriptions","organizations_url":"https://api.github.com/users/chenguangpeng1/orgs","repos_url":"https://api.github.com/users/chenguangpeng1/repos","events_url":"https://api.github.com/users/chenguangpeng1/events{/privacy}","received_events_url":"https://api.github.com/users/chenguangpeng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-20T02:01:48Z","updated_at":"2018-05-20T02:01:48Z","author_association":"NONE","body":"@jamesge  thanks","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390452171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390452424","html_url":"https://github.com/apache/brpc/issues/334#issuecomment-390452424","issue_url":"https://api.github.com/repos/apache/brpc/issues/334","id":390452424,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDQ1MjQyNA==","user":{"login":"chenguangpeng1","id":37405747,"node_id":"MDQ6VXNlcjM3NDA1NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/37405747?v=4","gravatar_id":"","url":"https://api.github.com/users/chenguangpeng1","html_url":"https://github.com/chenguangpeng1","followers_url":"https://api.github.com/users/chenguangpeng1/followers","following_url":"https://api.github.com/users/chenguangpeng1/following{/other_user}","gists_url":"https://api.github.com/users/chenguangpeng1/gists{/gist_id}","starred_url":"https://api.github.com/users/chenguangpeng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenguangpeng1/subscriptions","organizations_url":"https://api.github.com/users/chenguangpeng1/orgs","repos_url":"https://api.github.com/users/chenguangpeng1/repos","events_url":"https://api.github.com/users/chenguangpeng1/events{/privacy}","received_events_url":"https://api.github.com/users/chenguangpeng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-20T02:09:00Z","updated_at":"2018-05-20T02:09:00Z","author_association":"NONE","body":"bthread 是用户和内核线程中间层，多个taskgroup 中的 btread “读多写少” 同一资源时，互斥锁对临界区的操作会很耗费性能","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390452424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390452447","html_url":"https://github.com/apache/brpc/issues/334#issuecomment-390452447","issue_url":"https://api.github.com/repos/apache/brpc/issues/334","id":390452447,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDQ1MjQ0Nw==","user":{"login":"chenguangpeng1","id":37405747,"node_id":"MDQ6VXNlcjM3NDA1NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/37405747?v=4","gravatar_id":"","url":"https://api.github.com/users/chenguangpeng1","html_url":"https://github.com/chenguangpeng1","followers_url":"https://api.github.com/users/chenguangpeng1/followers","following_url":"https://api.github.com/users/chenguangpeng1/following{/other_user}","gists_url":"https://api.github.com/users/chenguangpeng1/gists{/gist_id}","starred_url":"https://api.github.com/users/chenguangpeng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenguangpeng1/subscriptions","organizations_url":"https://api.github.com/users/chenguangpeng1/orgs","repos_url":"https://api.github.com/users/chenguangpeng1/repos","events_url":"https://api.github.com/users/chenguangpeng1/events{/privacy}","received_events_url":"https://api.github.com/users/chenguangpeng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-20T02:09:20Z","updated_at":"2018-05-20T02:09:20Z","author_association":"NONE","body":"thanks","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390452447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390566666","html_url":"https://github.com/apache/brpc/issues/238#issuecomment-390566666","issue_url":"https://api.github.com/repos/apache/brpc/issues/238","id":390566666,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDU2NjY2Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-21T06:38:07Z","updated_at":"2018-05-21T06:38:07Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390566666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390589566","html_url":"https://github.com/apache/brpc/issues/336#issuecomment-390589566","issue_url":"https://api.github.com/repos/apache/brpc/issues/336","id":390589566,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDU4OTU2Ng==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-21T08:33:17Z","updated_at":"2018-05-21T08:33:17Z","author_association":"MEMBER","body":"还不是，等开发测试完会合入到master","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390589566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390637611","html_url":"https://github.com/apache/brpc/issues/334#issuecomment-390637611","issue_url":"https://api.github.com/repos/apache/brpc/issues/334","id":390637611,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDYzNzYxMQ==","user":{"login":"chenguangpeng1","id":37405747,"node_id":"MDQ6VXNlcjM3NDA1NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/37405747?v=4","gravatar_id":"","url":"https://api.github.com/users/chenguangpeng1","html_url":"https://github.com/chenguangpeng1","followers_url":"https://api.github.com/users/chenguangpeng1/followers","following_url":"https://api.github.com/users/chenguangpeng1/following{/other_user}","gists_url":"https://api.github.com/users/chenguangpeng1/gists{/gist_id}","starred_url":"https://api.github.com/users/chenguangpeng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenguangpeng1/subscriptions","organizations_url":"https://api.github.com/users/chenguangpeng1/orgs","repos_url":"https://api.github.com/users/chenguangpeng1/repos","events_url":"https://api.github.com/users/chenguangpeng1/events{/privacy}","received_events_url":"https://api.github.com/users/chenguangpeng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-21T12:17:00Z","updated_at":"2018-05-21T12:17:00Z","author_association":"NONE","body":"@jamesge  您好 jamesge ，有时间的时候帮忙看看，谢谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390637611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390851004","html_url":"https://github.com/apache/brpc/pull/330#issuecomment-390851004","issue_url":"https://api.github.com/repos/apache/brpc/issues/330","id":390851004,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDg1MTAwNA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-22T03:24:39Z","updated_at":"2018-05-22T03:24:53Z","author_association":"MEMBER","body":"librt problem has been already fixed in the latest version. Please merge master and push again","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390851004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390851378","html_url":"https://github.com/apache/brpc/pull/322#issuecomment-390851378","issue_url":"https://api.github.com/repos/apache/brpc/issues/322","id":390851378,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDg1MTM3OA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-22T03:27:20Z","updated_at":"2018-05-22T03:27:20Z","author_association":"MEMBER","body":"All the changes have already been fixed in the latest version. Close the pr.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/390851378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391581221","html_url":"https://github.com/apache/brpc/issues/334#issuecomment-391581221","issue_url":"https://api.github.com/repos/apache/brpc/issues/334","id":391581221,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTU4MTIyMQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-24T04:04:12Z","updated_at":"2018-05-24T04:04:12Z","author_association":"CONTRIBUTOR","body":"读写锁一般会用到引用计数，每次读还是会竞争同一个cacheline，所以性能相比不加锁还是有差距的，一般会尝试读尽量无锁的方案，比如内核中的[RCU](https://www.ibm.com/developerworks/cn/linux/l-rcu/index.html)，brpc中的[DBD](https://github.com/brpc/brpc/blob/master/docs/cn/lalb.md#doublybuffereddata). 所以brpz并没有用到读写锁，就一直没有实现了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391581221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391621259","html_url":"https://github.com/apache/brpc/issues/341#issuecomment-391621259","issue_url":"https://api.github.com/repos/apache/brpc/issues/341","id":391621259,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTYyMTI1OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-24T07:46:02Z","updated_at":"2018-05-24T07:46:02Z","author_association":"CONTRIBUTOR","body":"应该没有这个限制。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391621259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391621395","html_url":"https://github.com/apache/brpc/issues/340#issuecomment-391621395","issue_url":"https://api.github.com/repos/apache/brpc/issues/340","id":391621395,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTYyMTM5NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-24T07:46:31Z","updated_at":"2018-05-24T07:46:31Z","author_association":"CONTRIBUTOR","body":"这部分代码应该不会开源了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391621395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391939120","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-391939120","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":391939120,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTkzOTEyMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T04:40:06Z","updated_at":"2018-05-25T04:40:06Z","author_association":"CONTRIBUTOR","body":"这是日志路径上的，有特大的单条日志么？另外为了确认调用关系是完整的，检查下你自己的代码编译是否加了-fno-omit-frame-pointer，或是链接的tcmalloc使用了libunwind","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391939120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391940860","html_url":"https://github.com/apache/brpc/issues/343#issuecomment-391940860","issue_url":"https://api.github.com/repos/apache/brpc/issues/343","id":391940860,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTk0MDg2MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T04:55:14Z","updated_at":"2018-05-25T04:55:14Z","author_association":"CONTRIBUTOR","body":"这个问题分几个层面：\r\n1. 要求从接受请求开始就保证有序，这点除了[streaming rpc](https://github.com/brpc/brpc/blob/master/docs/en/streaming_rpc.md)都是保证不了的，包括来自同一个连接的请求。\r\n2. 不关心请求顺序，但要让对某一类请求的处理互斥。这一般是通过[Execution Queue](https://github.com/brpc/brpc/blob/master/docs/cn/execution_queue.md)来做到的，可以理解为对message passing或actor模式的一种实现。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391940860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391944766","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-391944766","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":391944766,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTk0NDc2Ng==","user":{"login":"milesfei","id":7608113,"node_id":"MDQ6VXNlcjc2MDgxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7608113?v=4","gravatar_id":"","url":"https://api.github.com/users/milesfei","html_url":"https://github.com/milesfei","followers_url":"https://api.github.com/users/milesfei/followers","following_url":"https://api.github.com/users/milesfei/following{/other_user}","gists_url":"https://api.github.com/users/milesfei/gists{/gist_id}","starred_url":"https://api.github.com/users/milesfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesfei/subscriptions","organizations_url":"https://api.github.com/users/milesfei/orgs","repos_url":"https://api.github.com/users/milesfei/repos","events_url":"https://api.github.com/users/milesfei/events{/privacy}","received_events_url":"https://api.github.com/users/milesfei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T05:24:44Z","updated_at":"2018-05-25T05:24:44Z","author_association":"NONE","body":"的确有特大日志，我统计了一下日志字符个数，发现长度8190的很多，应该是日志长度大于8190被截断了吧？之前编译没有加 -fno-omit-frame-pointer，但是加上之后，heap profiler还是这个样子\r\n![image](https://user-images.githubusercontent.com/7608113/40527409-d353afc0-601e-11e8-8516-ca7432f4c32c.png)\r\n请问，过长的log是不是即使放在LOG(DEBUG)也不可以？之前测试的时候，完全不打印日志，内存也会涨，上面这张图是日志等级0，同样存在 logging CharArrayStreamBuf overflow","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391944766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391995661","html_url":"https://github.com/apache/brpc/issues/321#issuecomment-391995661","issue_url":"https://api.github.com/repos/apache/brpc/issues/321","id":391995661,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTk5NTY2MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T09:24:22Z","updated_at":"2018-05-25T09:24:22Z","author_association":"CONTRIBUTOR","body":"相关代码都被移除了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391995661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391996022","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-391996022","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":391996022,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTk5NjAyMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T09:25:39Z","updated_at":"2018-05-25T09:25:39Z","author_association":"CONTRIBUTOR","body":"默认没有设置截断","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/391996022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392248192","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-392248192","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":392248192,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjI0ODE5Mg==","user":{"login":"milesfei","id":7608113,"node_id":"MDQ6VXNlcjc2MDgxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7608113?v=4","gravatar_id":"","url":"https://api.github.com/users/milesfei","html_url":"https://github.com/milesfei","followers_url":"https://api.github.com/users/milesfei/followers","following_url":"https://api.github.com/users/milesfei/following{/other_user}","gists_url":"https://api.github.com/users/milesfei/gists{/gist_id}","starred_url":"https://api.github.com/users/milesfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesfei/subscriptions","organizations_url":"https://api.github.com/users/milesfei/orgs","repos_url":"https://api.github.com/users/milesfei/repos","events_url":"https://api.github.com/users/milesfei/events{/privacy}","received_events_url":"https://api.github.com/users/milesfei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-26T09:01:45Z","updated_at":"2018-05-26T09:01:45Z","author_association":"NONE","body":"发现comlog的配置中写了日志最大长度限制，改大之后的确不截断了，但是还会有 overflow 的现象，请问如果想打印这种大log，应该怎么用？这里的overflow是bug？还是我的使用方法有问题？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392248192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392298711","html_url":"https://github.com/apache/brpc/issues/281#issuecomment-392298711","issue_url":"https://api.github.com/repos/apache/brpc/issues/281","id":392298711,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjI5ODcxMQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-27T01:27:38Z","updated_at":"2018-05-27T01:27:38Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392298711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392300650","html_url":"https://github.com/apache/brpc/issues/277#issuecomment-392300650","issue_url":"https://api.github.com/repos/apache/brpc/issues/277","id":392300650,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjMwMDY1MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-27T02:27:38Z","updated_at":"2018-05-27T02:27:38Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392300650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392388447","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-392388447","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":392388447,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjM4ODQ0Nw==","user":{"login":"milesfei","id":7608113,"node_id":"MDQ6VXNlcjc2MDgxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7608113?v=4","gravatar_id":"","url":"https://api.github.com/users/milesfei","html_url":"https://github.com/milesfei","followers_url":"https://api.github.com/users/milesfei/followers","following_url":"https://api.github.com/users/milesfei/following{/other_user}","gists_url":"https://api.github.com/users/milesfei/gists{/gist_id}","starred_url":"https://api.github.com/users/milesfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesfei/subscriptions","organizations_url":"https://api.github.com/users/milesfei/orgs","repos_url":"https://api.github.com/users/milesfei/repos","events_url":"https://api.github.com/users/milesfei/events{/privacy}","received_events_url":"https://api.github.com/users/milesfei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-27T23:43:03Z","updated_at":"2018-05-27T23:43:03Z","author_association":"NONE","body":"现在发现了一个奇怪的现象，通过 heap profiler 看到的内存只有 50M，但是memory_resident为1.3G，看到之前的issue里说，freelist占用的内存没有被统计，但是我尝试使用ReleaseFreeMemory，内存也没有下降（server的回调函数中加入ReleaseFreeMemory或者通过参数-free_memory_to_system_interval=10都没有效果），请问heap profiler还有哪部分内存没有统计到？还是ReleaseFreeMemory使用方法问题？谢谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392388447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392397706","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-392397706","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":392397706,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjM5NzcwNg==","user":{"login":"milesfei","id":7608113,"node_id":"MDQ6VXNlcjc2MDgxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7608113?v=4","gravatar_id":"","url":"https://api.github.com/users/milesfei","html_url":"https://github.com/milesfei","followers_url":"https://api.github.com/users/milesfei/followers","following_url":"https://api.github.com/users/milesfei/following{/other_user}","gists_url":"https://api.github.com/users/milesfei/gists{/gist_id}","starred_url":"https://api.github.com/users/milesfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesfei/subscriptions","organizations_url":"https://api.github.com/users/milesfei/orgs","repos_url":"https://api.github.com/users/milesfei/repos","events_url":"https://api.github.com/users/milesfei/events{/privacy}","received_events_url":"https://api.github.com/users/milesfei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T01:44:01Z","updated_at":"2018-05-28T02:42:10Z","author_association":"NONE","body":"还有另一个问题，我做了一个实验，使用rpc作为服务收请求，该服务同时还会作为client请求其他服务，中间的处理逻辑只有解析包和组装包，发现内存也会增长，1000qps持续压测，如下图（横轴：时间h，纵轴：内存M）：\r\n![line_8011](https://user-images.githubusercontent.com/7608113/40593515-8b2335ba-625b-11e8-8d84-d1b6d53e5592.jpg)\r\n通过log发现有大量的：baidu/base/baidu-rpc/src/baidu/rpc/input_messenger.cpp:214] Fail to read from fd=72 SocketId=320748157666720@xxx@xxx: Connection reset by peer\r\n请问是否是这个原因导致内存增长？谢谢\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392397706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392408919","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-392408919","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":392408919,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQwODkxOQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T03:21:11Z","updated_at":"2018-05-28T03:21:11Z","author_association":"CONTRIBUTOR","body":"看下 #313 中提到的bthread情况","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392408919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392409492","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-392409492","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":392409492,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQwOTQ5Mg==","user":{"login":"milesfei","id":7608113,"node_id":"MDQ6VXNlcjc2MDgxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7608113?v=4","gravatar_id":"","url":"https://api.github.com/users/milesfei","html_url":"https://github.com/milesfei","followers_url":"https://api.github.com/users/milesfei/followers","following_url":"https://api.github.com/users/milesfei/following{/other_user}","gists_url":"https://api.github.com/users/milesfei/gists{/gist_id}","starred_url":"https://api.github.com/users/milesfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesfei/subscriptions","organizations_url":"https://api.github.com/users/milesfei/orgs","repos_url":"https://api.github.com/users/milesfei/repos","events_url":"https://api.github.com/users/milesfei/events{/privacy}","received_events_url":"https://api.github.com/users/milesfei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T03:26:38Z","updated_at":"2018-05-28T03:26:38Z","author_association":"NONE","body":"bthread_count : 372\r\nbthread_group_status : \"1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \"\r\nbthread_key_count : 1\r\nbthread_keytable_count : 3225\r\nbthread_keytable_memory : 2476800\r\nbthread_revision : \"20bf1e1d44dea68386c8cccd67237c5614ff8590\"\r\nbthread_signal_second : 1069\r\nbthread_stack_count : 3488\r\nbthread_switch_second : 20456\r\nbthread_timer_scheduled_second : 4069\r\nbthread_timer_triggered_second : 4\r\nbthread_timer_usage : 0.0021024\r\nbthread_worker_count : 41\r\nbthread_worker_usage : 2.15443\r\nbvar_dump_interval : 10\r\nbvar_revision : \"993ab7adddcd30c5a1778c5642c246e35a7fbf3e\"\r\nbvar_sampler_collector_usage : 0.00291719\r\ngcc_version : \"4.8.2\"\r\niobuf_block_count : 517\r\niobuf_block_count_hit_tls_threshold : 4209989\r\niobuf_block_memory : 4235264\r\niobuf_newbigview_second : 253","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392409492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392410063","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-392410063","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":392410063,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQxMDA2Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T03:31:49Z","updated_at":"2018-05-28T03:31:49Z","author_association":"CONTRIBUTOR","body":"bthread还是比较多，那点内存增长是正常的。看起来这个服务的延时是比较长的？可以考虑使用异步接口。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392410063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392414179","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-392414179","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":392414179,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQxNDE3OQ==","user":{"login":"milesfei","id":7608113,"node_id":"MDQ6VXNlcjc2MDgxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7608113?v=4","gravatar_id":"","url":"https://api.github.com/users/milesfei","html_url":"https://github.com/milesfei","followers_url":"https://api.github.com/users/milesfei/followers","following_url":"https://api.github.com/users/milesfei/following{/other_user}","gists_url":"https://api.github.com/users/milesfei/gists{/gist_id}","starred_url":"https://api.github.com/users/milesfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesfei/subscriptions","organizations_url":"https://api.github.com/users/milesfei/orgs","repos_url":"https://api.github.com/users/milesfei/repos","events_url":"https://api.github.com/users/milesfei/events{/privacy}","received_events_url":"https://api.github.com/users/milesfei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T04:12:32Z","updated_at":"2018-05-28T04:12:32Z","author_association":"NONE","body":"嗯，目前的测试数据会导致服务延时较长，所以在这种情况下，如果一直发大压力，内存会持续增长？还是会有增长上限？（异步接口我一会儿试一下）\r\n目前仍然存在的一个问题是，如何在打印大log的同时控制内存不增长（有些request和response会比较大，log限长问题已经解决，需要解决内存增长问题）？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392414179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392421147","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-392421147","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":392421147,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQyMTE0Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T05:14:56Z","updated_at":"2018-05-28T05:14:56Z","author_association":"CONTRIBUTOR","body":"如果超时率很高或者平均延时显著高于正常值，那么服务就出于拥塞状态，这个其实不算是正常的状态。如果是这种情况，可以考虑让压力工具同步访问，或者限制server端的并发。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392421147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392490279","html_url":"https://github.com/apache/brpc/issues/275#issuecomment-392490279","issue_url":"https://api.github.com/repos/apache/brpc/issues/275","id":392490279,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQ5MDI3OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T10:43:14Z","updated_at":"2018-05-28T10:43:14Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392490279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392758813","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-392758813","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":392758813,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mjc1ODgxMw==","user":{"login":"milesfei","id":7608113,"node_id":"MDQ6VXNlcjc2MDgxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7608113?v=4","gravatar_id":"","url":"https://api.github.com/users/milesfei","html_url":"https://github.com/milesfei","followers_url":"https://api.github.com/users/milesfei/followers","following_url":"https://api.github.com/users/milesfei/following{/other_user}","gists_url":"https://api.github.com/users/milesfei/gists{/gist_id}","starred_url":"https://api.github.com/users/milesfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesfei/subscriptions","organizations_url":"https://api.github.com/users/milesfei/orgs","repos_url":"https://api.github.com/users/milesfei/repos","events_url":"https://api.github.com/users/milesfei/events{/privacy}","received_events_url":"https://api.github.com/users/milesfei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-29T12:30:51Z","updated_at":"2018-05-29T12:30:51Z","author_association":"NONE","body":"使用 valgrind 得到：\r\n![image](https://user-images.githubusercontent.com/7608113/40658719-b48e9830-637e-11e8-828f-3a96935e389d.png)\r\n请问是不是我使用的 client 有问题，或者使用方法有问题？\r\n使用的库文件：\r\n#include <baidu/rpc/ub_call.h>                                                                       \r\n#include <baidu/rpc/channel.h>\r\n\r\n我能想到的可能有问题的情况是：\r\nbaidu::rpc::RawBuffer req_buf(RPC_BUF_SIZE);                                                     \r\nbaidu::rpc::RawBuffer res_buf(RPC_BUF_SIZE);                                                                                                          \r\nbaidu::rpc::UBRawMcpackRequest request(&req_buf);                                                \r\nbaidu::rpc::UBRawMcpackResponse response(&res_buf);\r\n是放在栈里的，response比较大，而且请求很频繁，谢谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/392758813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393009933","html_url":"https://github.com/apache/brpc/issues/346#issuecomment-393009933","issue_url":"https://api.github.com/repos/apache/brpc/issues/346","id":393009933,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzAwOTkzMw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T02:26:16Z","updated_at":"2018-05-30T02:26:16Z","author_association":"MEMBER","body":"嗯，这个我改一下。之前编raft也遇到了同样的问题，调整了一下顺序可以暂时编过","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393009933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393010334","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-393010334","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":393010334,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzAxMDMzNA==","user":{"login":"milesfei","id":7608113,"node_id":"MDQ6VXNlcjc2MDgxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7608113?v=4","gravatar_id":"","url":"https://api.github.com/users/milesfei","html_url":"https://github.com/milesfei","followers_url":"https://api.github.com/users/milesfei/followers","following_url":"https://api.github.com/users/milesfei/following{/other_user}","gists_url":"https://api.github.com/users/milesfei/gists{/gist_id}","starred_url":"https://api.github.com/users/milesfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesfei/subscriptions","organizations_url":"https://api.github.com/users/milesfei/orgs","repos_url":"https://api.github.com/users/milesfei/repos","events_url":"https://api.github.com/users/milesfei/events{/privacy}","received_events_url":"https://api.github.com/users/milesfei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T02:28:56Z","updated_at":"2018-05-30T02:28:56Z","author_association":"NONE","body":"valgrind，用低qps压测，发现 reachable 很大，而且不释放，是为什么呢？\r\n![val_leak_summary](https://user-images.githubusercontent.com/7608113/40695511-120f2bee-63f4-11e8-80ad-7031bf8ed6fd.jpg)\r\n![val_leak_reachable](https://user-images.githubusercontent.com/7608113/40695527-2a22deb0-63f4-11e8-9c72-5d3e9fae3ff0.jpg)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393010334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393131732","html_url":"https://github.com/apache/brpc/issues/254#issuecomment-393131732","issue_url":"https://api.github.com/repos/apache/brpc/issues/254","id":393131732,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzEzMTczMg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T11:47:53Z","updated_at":"2018-05-30T11:47:53Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393131732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393137997","html_url":"https://github.com/apache/brpc/issues/344#issuecomment-393137997","issue_url":"https://api.github.com/repos/apache/brpc/issues/344","id":393137997,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzEzNzk5Nw==","user":{"login":"milesfei","id":7608113,"node_id":"MDQ6VXNlcjc2MDgxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7608113?v=4","gravatar_id":"","url":"https://api.github.com/users/milesfei","html_url":"https://github.com/milesfei","followers_url":"https://api.github.com/users/milesfei/followers","following_url":"https://api.github.com/users/milesfei/following{/other_user}","gists_url":"https://api.github.com/users/milesfei/gists{/gist_id}","starred_url":"https://api.github.com/users/milesfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesfei/subscriptions","organizations_url":"https://api.github.com/users/milesfei/orgs","repos_url":"https://api.github.com/users/milesfei/repos","events_url":"https://api.github.com/users/milesfei/events{/privacy}","received_events_url":"https://api.github.com/users/milesfei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T12:11:17Z","updated_at":"2018-05-30T12:11:36Z","author_association":"NONE","body":"今天使用 valgrind 分别压测 一小时 和 一天，低压力，下面是两次的结果对比：\r\n![heap_summary](https://user-images.githubusercontent.com/7608113/40718242-ef150b4c-6441-11e8-81e8-ac75f8c7ae2b.jpg)\r\n![leak_summary](https://user-images.githubusercontent.com/7608113/40718590-2eca881a-6443-11e8-83a4-26c222bd9bd2.jpg)\r\n\r\n现在的现象是，低压力下100qps，内存也是持续增长，涨幅并不下降（纵轴：内存M，横轴：时间h）：\r\n![line_8011](https://user-images.githubusercontent.com/7608113/40718416-75f7ef44-6442-11e8-9e83-cfa4996cc04e.jpg)\r\n\r\n在大压力下1000qps，内存增长现象：\r\n![line_8017](https://user-images.githubusercontent.com/7608113/40719267-a483b354-6445-11e8-814c-67bd2f833872.jpg)\r\n\r\n求大神指点\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393137997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393374674","html_url":"https://github.com/apache/brpc/issues/347#issuecomment-393374674","issue_url":"https://api.github.com/repos/apache/brpc/issues/347","id":393374674,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzM3NDY3NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-31T01:43:30Z","updated_at":"2018-05-31T01:43:30Z","author_association":"CONTRIBUTOR","body":"这个不用brpc来提供吧，用户自己做更灵活。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393374674/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393544668","html_url":"https://github.com/apache/brpc/issues/347#issuecomment-393544668","issue_url":"https://api.github.com/repos/apache/brpc/issues/347","id":393544668,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzU0NDY2OA==","user":{"login":"pianzhoujun","id":5374107,"node_id":"MDQ6VXNlcjUzNzQxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5374107?v=4","gravatar_id":"","url":"https://api.github.com/users/pianzhoujun","html_url":"https://github.com/pianzhoujun","followers_url":"https://api.github.com/users/pianzhoujun/followers","following_url":"https://api.github.com/users/pianzhoujun/following{/other_user}","gists_url":"https://api.github.com/users/pianzhoujun/gists{/gist_id}","starred_url":"https://api.github.com/users/pianzhoujun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pianzhoujun/subscriptions","organizations_url":"https://api.github.com/users/pianzhoujun/orgs","repos_url":"https://api.github.com/users/pianzhoujun/repos","events_url":"https://api.github.com/users/pianzhoujun/events{/privacy}","received_events_url":"https://api.github.com/users/pianzhoujun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-31T14:15:45Z","updated_at":"2018-05-31T14:15:45Z","author_association":"NONE","body":"谢谢回复。 自己做限速确定可以，现在也是这么做的，我觉得如果brpc支持的话，代码就不用分散在2块了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393544668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393751741","html_url":"https://github.com/apache/brpc/issues/348#issuecomment-393751741","issue_url":"https://api.github.com/repos/apache/brpc/issues/348","id":393751741,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzc1MTc0MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T04:03:14Z","updated_at":"2018-06-01T04:04:26Z","author_association":"CONTRIBUTOR","body":"感谢报告问题，已在本地复现。我解释一下这个问题的原因：pooled中加在load balancer中的是主socket，它其中不会有tcp连接，但会包含一个SocketPool，每次rpc使用的是socket都是从这个pool取的。这种父子结构的好处有个固定的socket代表对端，可以加到各种结构中去，而不用频繁删改；但缺点是子socket出错时要判断对应的错误是不是意味着主socket也可能挂了，像超时的话可能是子socket个例也可能是主socket问题，所以目前是没有认为主socket挂掉的。这个case的话，连续错误多次就认为主socket挂掉能解决，但从通用的角度是熔断功能的一部分，目前需要系统地排查一下。个别LB（如LA）会对错误做惩罚，对这个问题倒是免疫的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393751741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393758709","html_url":"https://github.com/apache/brpc/issues/349#issuecomment-393758709","issue_url":"https://api.github.com/repos/apache/brpc/issues/349","id":393758709,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzc1ODcwOQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T05:04:02Z","updated_at":"2018-06-01T05:04:02Z","author_association":"CONTRIBUTOR","body":"ubuntu什么版本？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393758709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393759441","html_url":"https://github.com/apache/brpc/issues/346#issuecomment-393759441","issue_url":"https://api.github.com/repos/apache/brpc/issues/346","id":393759441,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzc1OTQ0MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T05:09:51Z","updated_at":"2018-06-01T05:09:51Z","author_association":"CONTRIBUTOR","body":"直接提pr也行。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393759441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393769077","html_url":"https://github.com/apache/brpc/issues/348#issuecomment-393769077","issue_url":"https://api.github.com/repos/apache/brpc/issues/348","id":393769077,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzc2OTA3Nw==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T05:59:51Z","updated_at":"2018-06-01T06:28:26Z","author_association":"CONTRIBUTOR","body":"我看[代码](https://github.com/brpc/brpc/blob/6d153dd7ff00f960ae6895c9c5fff0ce9f07aff2/src/brpc/socket.cpp#L1371)里是有在判断连续超时次数，并试图将多次超时的错误作为Network unreachable来返回的。但是在上面的case里**controller没有接收到预期的错误码**。\r\n文档里也说明了连接断开的节点会被剔除：\r\n\r\n> 连接断开的server会被暂时隔离而不会被负载均衡算法选中，brpc会定期连接被隔离的server，以检查他们是否恢复正常，间隔由参数-health_check_interval控制:\r\n\r\n如果这个case的行为是符合预期的，我觉得很容易造成误用，希望能够排查。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393769077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393847918","html_url":"https://github.com/apache/brpc/issues/350#issuecomment-393847918","issue_url":"https://api.github.com/repos/apache/brpc/issues/350","id":393847918,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzg0NzkxOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T11:03:46Z","updated_at":"2018-06-01T11:03:46Z","author_association":"CONTRIBUTOR","body":"两种可能：pb 3.5内部bug（合理调用DebugString最终出现了this=0x0)，或链接库和头文件不符，比如头文件用了老版本pb生成的pb.h之类的。先试试从干净的repo从头编译","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/393847918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394059948","html_url":"https://github.com/apache/brpc/issues/350#issuecomment-394059948","issue_url":"https://api.github.com/repos/apache/brpc/issues/350","id":394059948,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDA1OTk0OA==","user":{"login":"yjhjstz","id":3832082,"node_id":"MDQ6VXNlcjM4MzIwODI=","avatar_url":"https://avatars.githubusercontent.com/u/3832082?v=4","gravatar_id":"","url":"https://api.github.com/users/yjhjstz","html_url":"https://github.com/yjhjstz","followers_url":"https://api.github.com/users/yjhjstz/followers","following_url":"https://api.github.com/users/yjhjstz/following{/other_user}","gists_url":"https://api.github.com/users/yjhjstz/gists{/gist_id}","starred_url":"https://api.github.com/users/yjhjstz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yjhjstz/subscriptions","organizations_url":"https://api.github.com/users/yjhjstz/orgs","repos_url":"https://api.github.com/users/yjhjstz/repos","events_url":"https://api.github.com/users/yjhjstz/events{/privacy}","received_events_url":"https://api.github.com/users/yjhjstz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-02T05:23:53Z","updated_at":"2018-06-02T05:23:53Z","author_association":"MEMBER","body":"问题解决了，是 caffe2 自带的 pb 和系统的版本不一致导致。谢谢。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394059948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394065724","html_url":"https://github.com/apache/brpc/issues/289#issuecomment-394065724","issue_url":"https://api.github.com/repos/apache/brpc/issues/289","id":394065724,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDA2NTcyNA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-06-02T07:20:09Z","updated_at":"2018-06-02T07:20:09Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394065724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394079682","html_url":"https://github.com/apache/brpc/issues/282#issuecomment-394079682","issue_url":"https://api.github.com/repos/apache/brpc/issues/282","id":394079682,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDA3OTY4Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-06-02T11:20:08Z","updated_at":"2018-06-02T11:20:08Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394079682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394217453","html_url":"https://github.com/apache/brpc/issues/282#issuecomment-394217453","issue_url":"https://api.github.com/repos/apache/brpc/issues/282","id":394217453,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDIxNzQ1Mw==","user":{"login":"fourflower","id":36431025,"node_id":"MDQ6VXNlcjM2NDMxMDI1","avatar_url":"https://avatars.githubusercontent.com/u/36431025?v=4","gravatar_id":"","url":"https://api.github.com/users/fourflower","html_url":"https://github.com/fourflower","followers_url":"https://api.github.com/users/fourflower/followers","following_url":"https://api.github.com/users/fourflower/following{/other_user}","gists_url":"https://api.github.com/users/fourflower/gists{/gist_id}","starred_url":"https://api.github.com/users/fourflower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fourflower/subscriptions","organizations_url":"https://api.github.com/users/fourflower/orgs","repos_url":"https://api.github.com/users/fourflower/repos","events_url":"https://api.github.com/users/fourflower/events{/privacy}","received_events_url":"https://api.github.com/users/fourflower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T02:23:46Z","updated_at":"2018-06-04T02:23:46Z","author_association":"NONE","body":"Done~","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394217453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394232047","html_url":"https://github.com/apache/brpc/issues/351#issuecomment-394232047","issue_url":"https://api.github.com/repos/apache/brpc/issues/351","id":394232047,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDIzMjA0Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T04:37:12Z","updated_at":"2018-06-04T04:37:12Z","author_association":"CONTRIBUTOR","body":"Bucket::_nearest_run_time和TimerThread::_nearest_run_time是两个东西，是不是有误解？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394232047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394232771","html_url":"https://github.com/apache/brpc/issues/352#issuecomment-394232771","issue_url":"https://api.github.com/repos/apache/brpc/issues/352","id":394232771,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDIzMjc3MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T04:43:48Z","updated_at":"2018-06-04T04:50:31Z","author_association":"CONTRIBUTOR","body":"processing只能管到server内部用户态的部分，像epoll通知的延时，读取延时，写出延时等等都是感知不到的，而基于little's law的话会更加通用一些。相关问题是自动设置并发度，记录在 #353 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394232771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394232940","html_url":"https://github.com/apache/brpc/issues/136#issuecomment-394232940","issue_url":"https://api.github.com/repos/apache/brpc/issues/136","id":394232940,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDIzMjk0MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T04:45:07Z","updated_at":"2018-06-04T04:45:07Z","author_association":"CONTRIBUTOR","body":"Already supported. The remaining issue was stated in #325 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394232940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394233087","html_url":"https://github.com/apache/brpc/issues/37#issuecomment-394233087","issue_url":"https://api.github.com/repos/apache/brpc/issues/37","id":394233087,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDIzMzA4Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T04:46:31Z","updated_at":"2018-06-04T04:46:31Z","author_association":"CONTRIBUTOR","body":"Already supported, the remaining issue was stated in #325 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394233087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394566941","html_url":"https://github.com/apache/brpc/issues/355#issuecomment-394566941","issue_url":"https://api.github.com/repos/apache/brpc/issues/355","id":394566941,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU2Njk0MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T03:08:23Z","updated_at":"2018-06-05T03:08:23Z","author_association":"CONTRIBUTOR","body":"可以，不同的Channel对象之间是没有直接的影响的，但底层可能会共享或复用连接。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394566941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394570764","html_url":"https://github.com/apache/brpc/issues/356#issuecomment-394570764","issue_url":"https://api.github.com/repos/apache/brpc/issues/356","id":394570764,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU3MDc2NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T03:35:20Z","updated_at":"2018-06-05T03:35:20Z","author_association":"CONTRIBUTOR","body":"我理解opentracing只是规范了API，并没有规范存储和传输格式（ABI)，由于brpc中的tracing其实并不需要用户来创建和终结span，所以我不是特别明白适配opentracing的作用，你的理解是？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394570764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394586133","html_url":"https://github.com/apache/brpc/issues/355#issuecomment-394586133","issue_url":"https://api.github.com/repos/apache/brpc/issues/355","id":394586133,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU4NjEzMw==","user":{"login":"pianzhoujun","id":5374107,"node_id":"MDQ6VXNlcjUzNzQxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5374107?v=4","gravatar_id":"","url":"https://api.github.com/users/pianzhoujun","html_url":"https://github.com/pianzhoujun","followers_url":"https://api.github.com/users/pianzhoujun/followers","following_url":"https://api.github.com/users/pianzhoujun/following{/other_user}","gists_url":"https://api.github.com/users/pianzhoujun/gists{/gist_id}","starred_url":"https://api.github.com/users/pianzhoujun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pianzhoujun/subscriptions","organizations_url":"https://api.github.com/users/pianzhoujun/orgs","repos_url":"https://api.github.com/users/pianzhoujun/repos","events_url":"https://api.github.com/users/pianzhoujun/events{/privacy}","received_events_url":"https://api.github.com/users/pianzhoujun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T05:28:28Z","updated_at":"2018-06-05T05:28:28Z","author_association":"NONE","body":"底层共享或者复用连接的时候会不会有竞争？  我看round roubin channel里面使用了DoublyBuffer？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394586133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394590954","html_url":"https://github.com/apache/brpc/issues/355#issuecomment-394590954","issue_url":"https://api.github.com/repos/apache/brpc/issues/355","id":394590954,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU5MDk1NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T05:57:45Z","updated_at":"2018-06-05T05:57:45Z","author_association":"CONTRIBUTOR","body":"你是担心性能么？这个影响很小的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394590954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394593444","html_url":"https://github.com/apache/brpc/issues/355#issuecomment-394593444","issue_url":"https://api.github.com/repos/apache/brpc/issues/355","id":394593444,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU5MzQ0NA==","user":{"login":"pianzhoujun","id":5374107,"node_id":"MDQ6VXNlcjUzNzQxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5374107?v=4","gravatar_id":"","url":"https://api.github.com/users/pianzhoujun","html_url":"https://github.com/pianzhoujun","followers_url":"https://api.github.com/users/pianzhoujun/followers","following_url":"https://api.github.com/users/pianzhoujun/following{/other_user}","gists_url":"https://api.github.com/users/pianzhoujun/gists{/gist_id}","starred_url":"https://api.github.com/users/pianzhoujun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pianzhoujun/subscriptions","organizations_url":"https://api.github.com/users/pianzhoujun/orgs","repos_url":"https://api.github.com/users/pianzhoujun/repos","events_url":"https://api.github.com/users/pianzhoujun/events{/privacy}","received_events_url":"https://api.github.com/users/pianzhoujun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T06:12:41Z","updated_at":"2018-06-05T06:12:41Z","author_association":"NONE","body":"因为我在项目中遇到了问题。 所以想请教下方案的合理性。\r\n\r\nA 和(B1,B2,B3..... Bn)建立了1组ParallelChannell连接，因为B集合有变化，所以我又新建了1组ParallelChannell，希望后面的任务使用新建的ParallelChannell，不影响原先的ParallelChannell任务下发。\r\n\r\n自测过程中，是没有问题的，上线后却出现了问题。  1个是doubly_buffer_data里面报的phtread_create_key: ResourceTemporarilyUnavaiable.   还有1个就是subcall的时候报E12错误。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394593444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394593613","html_url":"https://github.com/apache/brpc/issues/355#issuecomment-394593613","issue_url":"https://api.github.com/repos/apache/brpc/issues/355","id":394593613,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU5MzYxMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T06:13:42Z","updated_at":"2018-06-05T06:13:42Z","author_association":"CONTRIBUTOR","body":"channel太多了把","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394593613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394595937","html_url":"https://github.com/apache/brpc/issues/355#issuecomment-394595937","issue_url":"https://api.github.com/repos/apache/brpc/issues/355","id":394595937,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU5NTkzNw==","user":{"login":"pianzhoujun","id":5374107,"node_id":"MDQ6VXNlcjUzNzQxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5374107?v=4","gravatar_id":"","url":"https://api.github.com/users/pianzhoujun","html_url":"https://github.com/pianzhoujun","followers_url":"https://api.github.com/users/pianzhoujun/followers","following_url":"https://api.github.com/users/pianzhoujun/following{/other_user}","gists_url":"https://api.github.com/users/pianzhoujun/gists{/gist_id}","starred_url":"https://api.github.com/users/pianzhoujun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pianzhoujun/subscriptions","organizations_url":"https://api.github.com/users/pianzhoujun/orgs","repos_url":"https://api.github.com/users/pianzhoujun/repos","events_url":"https://api.github.com/users/pianzhoujun/events{/privacy}","received_events_url":"https://api.github.com/users/pianzhoujun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T06:26:34Z","updated_at":"2018-06-05T06:26:34Z","author_association":"NONE","body":"subchannel加起来应该有4800个了， 请问channel太多为什么会导致这个问题呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394595937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394599142","html_url":"https://github.com/apache/brpc/issues/355#issuecomment-394599142","issue_url":"https://api.github.com/repos/apache/brpc/issues/355","id":394599142,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU5OTE0Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T06:42:59Z","updated_at":"2018-06-05T06:42:59Z","author_association":"CONTRIBUTOR","body":"pthread_key有个数限制的。为什么要同时访问这么多channel？这里是不是本身有改进空间","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394599142/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394600424","html_url":"https://github.com/apache/brpc/issues/355#issuecomment-394600424","issue_url":"https://api.github.com/repos/apache/brpc/issues/355","id":394600424,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDYwMDQyNA==","user":{"login":"pianzhoujun","id":5374107,"node_id":"MDQ6VXNlcjUzNzQxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5374107?v=4","gravatar_id":"","url":"https://api.github.com/users/pianzhoujun","html_url":"https://github.com/pianzhoujun","followers_url":"https://api.github.com/users/pianzhoujun/followers","following_url":"https://api.github.com/users/pianzhoujun/following{/other_user}","gists_url":"https://api.github.com/users/pianzhoujun/gists{/gist_id}","starred_url":"https://api.github.com/users/pianzhoujun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pianzhoujun/subscriptions","organizations_url":"https://api.github.com/users/pianzhoujun/orgs","repos_url":"https://api.github.com/users/pianzhoujun/repos","events_url":"https://api.github.com/users/pianzhoujun/events{/privacy}","received_events_url":"https://api.github.com/users/pianzhoujun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T06:49:00Z","updated_at":"2018-06-05T06:49:00Z","author_association":"NONE","body":"谢谢前辈解惑，线上的点太多了，所以会有这么多channel， 后面我会改进下方案。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394600424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394677746","html_url":"https://github.com/apache/brpc/issues/356#issuecomment-394677746","issue_url":"https://api.github.com/repos/apache/brpc/issues/356","id":394677746,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDY3Nzc0Ng==","user":{"login":"billowqiu","id":720496,"node_id":"MDQ6VXNlcjcyMDQ5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/720496?v=4","gravatar_id":"","url":"https://api.github.com/users/billowqiu","html_url":"https://github.com/billowqiu","followers_url":"https://api.github.com/users/billowqiu/followers","following_url":"https://api.github.com/users/billowqiu/following{/other_user}","gists_url":"https://api.github.com/users/billowqiu/gists{/gist_id}","starred_url":"https://api.github.com/users/billowqiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billowqiu/subscriptions","organizations_url":"https://api.github.com/users/billowqiu/orgs","repos_url":"https://api.github.com/users/billowqiu/repos","events_url":"https://api.github.com/users/billowqiu/events{/privacy}","received_events_url":"https://api.github.com/users/billowqiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T11:39:19Z","updated_at":"2018-06-05T11:39:19Z","author_association":"NONE","body":"我说的opentracing可能比较容易引起误解，其实是说实现opentracing的api，从而在用户使用brpc的时候，可以根据自己内部的需要，将数据上报到实现了opentracing的[supported-tracers](http://opentracing.io/documentation/pages/supported-tracers)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394677746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394685659","html_url":"https://github.com/apache/brpc/issues/356#issuecomment-394685659","issue_url":"https://api.github.com/repos/apache/brpc/issues/356","id":394685659,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDY4NTY1OQ==","user":{"login":"billowqiu","id":720496,"node_id":"MDQ6VXNlcjcyMDQ5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/720496?v=4","gravatar_id":"","url":"https://api.github.com/users/billowqiu","html_url":"https://github.com/billowqiu","followers_url":"https://api.github.com/users/billowqiu/followers","following_url":"https://api.github.com/users/billowqiu/following{/other_user}","gists_url":"https://api.github.com/users/billowqiu/gists{/gist_id}","starred_url":"https://api.github.com/users/billowqiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billowqiu/subscriptions","organizations_url":"https://api.github.com/users/billowqiu/orgs","repos_url":"https://api.github.com/users/billowqiu/repos","events_url":"https://api.github.com/users/billowqiu/events{/privacy}","received_events_url":"https://api.github.com/users/billowqiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T12:10:47Z","updated_at":"2018-06-05T12:10:47Z","author_association":"NONE","body":"span.proto里面的SpanAnnotation和TracingSpan好像在代码中没有使用到？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394685659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394686649","html_url":"https://github.com/apache/brpc/issues/217#issuecomment-394686649","issue_url":"https://api.github.com/repos/apache/brpc/issues/217","id":394686649,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDY4NjY0OQ==","user":{"login":"billowqiu","id":720496,"node_id":"MDQ6VXNlcjcyMDQ5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/720496?v=4","gravatar_id":"","url":"https://api.github.com/users/billowqiu","html_url":"https://github.com/billowqiu","followers_url":"https://api.github.com/users/billowqiu/followers","following_url":"https://api.github.com/users/billowqiu/following{/other_user}","gists_url":"https://api.github.com/users/billowqiu/gists{/gist_id}","starred_url":"https://api.github.com/users/billowqiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billowqiu/subscriptions","organizations_url":"https://api.github.com/users/billowqiu/orgs","repos_url":"https://api.github.com/users/billowqiu/repos","events_url":"https://api.github.com/users/billowqiu/events{/privacy}","received_events_url":"https://api.github.com/users/billowqiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T12:14:42Z","updated_at":"2018-06-05T12:14:42Z","author_association":"NONE","body":"“检索历史数据不方便，效率也不高”\r\n这个是不是像tracing一样把数据集中收集存储比较好？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394686649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394688990","html_url":"https://github.com/apache/brpc/issues/264#issuecomment-394688990","issue_url":"https://api.github.com/repos/apache/brpc/issues/264","id":394688990,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDY4ODk5MA==","user":{"login":"billowqiu","id":720496,"node_id":"MDQ6VXNlcjcyMDQ5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/720496?v=4","gravatar_id":"","url":"https://api.github.com/users/billowqiu","html_url":"https://github.com/billowqiu","followers_url":"https://api.github.com/users/billowqiu/followers","following_url":"https://api.github.com/users/billowqiu/following{/other_user}","gists_url":"https://api.github.com/users/billowqiu/gists{/gist_id}","starred_url":"https://api.github.com/users/billowqiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billowqiu/subscriptions","organizations_url":"https://api.github.com/users/billowqiu/orgs","repos_url":"https://api.github.com/users/billowqiu/repos","events_url":"https://api.github.com/users/billowqiu/events{/privacy}","received_events_url":"https://api.github.com/users/billowqiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T12:23:03Z","updated_at":"2018-06-05T12:23:03Z","author_association":"NONE","body":"实现一套opentracing的api，用户自己根据内部tracing系统做上报(或者提供可选实现)，这样是不是更好一些？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394688990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394770056","html_url":"https://github.com/apache/brpc/issues/264#issuecomment-394770056","issue_url":"https://api.github.com/repos/apache/brpc/issues/264","id":394770056,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDc3MDA1Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T16:14:50Z","updated_at":"2018-06-06T06:12:16Z","author_association":"CONTRIBUTOR","body":"opentracing做的那些东西rpcz本来就做了，并不需要用户显式地参与（但可通过TRACEPRINTF宏嵌入自己的内容）。如果是统一的数据格式，我觉得倒是有意义的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/394770056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395080436","html_url":"https://github.com/apache/brpc/issues/357#issuecomment-395080436","issue_url":"https://api.github.com/repos/apache/brpc/issues/357","id":395080436,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTA4MDQzNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-06T14:04:36Z","updated_at":"2018-06-06T14:04:36Z","author_association":"CONTRIBUTOR","body":"是的，这里是假定bthread_id_t不太可能超过40亿的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395080436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395080658","html_url":"https://github.com/apache/brpc/issues/358#issuecomment-395080658","issue_url":"https://api.github.com/repos/apache/brpc/issues/358","id":395080658,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTA4MDY1OA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-06T14:05:10Z","updated_at":"2018-06-06T14:05:10Z","author_association":"CONTRIBUTOR","body":"这要自己定制logsink了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395080658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395275773","html_url":"https://github.com/apache/brpc/issues/357#issuecomment-395275773","issue_url":"https://api.github.com/repos/apache/brpc/issues/357","id":395275773,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTI3NTc3Mw==","user":{"login":"iillydan","id":1941830,"node_id":"MDQ6VXNlcjE5NDE4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1941830?v=4","gravatar_id":"","url":"https://api.github.com/users/iillydan","html_url":"https://github.com/iillydan","followers_url":"https://api.github.com/users/iillydan/followers","following_url":"https://api.github.com/users/iillydan/following{/other_user}","gists_url":"https://api.github.com/users/iillydan/gists{/gist_id}","starred_url":"https://api.github.com/users/iillydan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iillydan/subscriptions","organizations_url":"https://api.github.com/users/iillydan/orgs","repos_url":"https://api.github.com/users/iillydan/repos","events_url":"https://api.github.com/users/iillydan/events{/privacy}","received_events_url":"https://api.github.com/users/iillydan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-07T02:49:25Z","updated_at":"2018-06-07T02:49:33Z","author_association":"NONE","body":"Alright~  谢谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395275773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395301141","html_url":"https://github.com/apache/brpc/issues/360#issuecomment-395301141","issue_url":"https://api.github.com/repos/apache/brpc/issues/360","id":395301141,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTMwMTE0MQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-07T05:51:24Z","updated_at":"2018-06-07T07:04:11Z","author_association":"MEMBER","body":"已经更新了CMakeLists.txt，装完openssl，这个错误应该就没了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395301141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395351278","html_url":"https://github.com/apache/brpc/issues/358#issuecomment-395351278","issue_url":"https://api.github.com/repos/apache/brpc/issues/358","id":395351278,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTM1MTI3OA==","user":{"login":"pdu","id":278147,"node_id":"MDQ6VXNlcjI3ODE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/278147?v=4","gravatar_id":"","url":"https://api.github.com/users/pdu","html_url":"https://github.com/pdu","followers_url":"https://api.github.com/users/pdu/followers","following_url":"https://api.github.com/users/pdu/following{/other_user}","gists_url":"https://api.github.com/users/pdu/gists{/gist_id}","starred_url":"https://api.github.com/users/pdu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdu/subscriptions","organizations_url":"https://api.github.com/users/pdu/orgs","repos_url":"https://api.github.com/users/pdu/repos","events_url":"https://api.github.com/users/pdu/events{/privacy}","received_events_url":"https://api.github.com/users/pdu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-07T09:14:31Z","updated_at":"2018-06-07T09:14:31Z","author_association":"NONE","body":"@jamesge 谢谢，我用spdlog做了一个logsink。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395351278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395619743","html_url":"https://github.com/apache/brpc/issues/353#issuecomment-395619743","issue_url":"https://api.github.com/repos/apache/brpc/issues/353","id":395619743,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTYxOTc0Mw==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-08T01:47:36Z","updated_at":"2018-06-08T01:59:13Z","author_association":"CONTRIBUTOR","body":"我们看了一下NetFlix的实践，整理了一版开发文档：\r\n\r\n### 背景\r\n   由于软硬件环境是可能变化的，服务的极限负载也会随之变化。如果服务的极限负载出现变化，却没有实时更新配置的最大并发量，有可能造成性能浪费/超载。一种解决办法是参照TCP的拥塞控制，在Server端根据本身的拥塞情况，自动调节最大并发量。以保护自身不会超载。\r\n \r\n### 现状\r\n   brpc 在服务端可以在 server 级别、method级别两级设置最大并发（默认不开启），同时开启时先检查server的最大并发，再检查method的最大并发。\r\n   如果服务端达到最大并发时，会立即给client响应一个brpc::ELIMIT，此时假如client开启了重试，client会进行重试。\r\n \r\n### NetFlix的实现方案\r\n   NetFlix提供了一份拥塞控制的demo。该demo实现了多种预估最大并发的策略。这里例举其中一种：\r\n   假设某一次采样发现当前采样窗口的最小rpc的延迟为rtt，当前系统最大并发估计值为 estimatedLimit，当前系统保存的历史最小rpc延迟为minRtt，那么会对estimatedLimit按照以下公式进行修正：\r\n\r\n> newLimit = （minRtt/rtt）* estimatedLimit + estimatedLimit ^0.5\r\n\r\n \r\n\r\n其中一些具体实现细节如下：\r\n1.\t每次rpc都会进行采样，每次采样时会更新当前窗口内的最小rtt和实际的最大并发量。采样一定时间之后会尝试进行estimatedLimit的更新，可以配置为每N次尝试才实际进行一次estimatedLimit的更新\r\n2.\t如果在采样窗口期内的最大并发量 MaxInFlight 比这次预估的最大并发量小很多，这表明当前系统没有超载并且有一定空闲，不再提升estimatedLimit\r\n3.\t会对minRtt/Rtt 的值会进行修正，使其在0.5-1之间，使得estimatedLimit的值不会有太大波动\r\n4.\t修正MinRtt和 estimatedLimit 时会通过一个平滑参数进行修正，即\r\nnextMinRtt = MinRtt * smooth + (1-smooth) * newMinRtt。保证这两个值不会出现太大的波动，也能减少一些特殊的值造成的影响。\r\n \r\n### brpc下自动限流的方案设计\r\n  brpc本身就会对所有RPC进行信息收集(区别于span的采样)。比如在RPC开始、结束时会调用MethodStatus::OnRequested、MethodStatus::OnResponsed、ServerPrivateAccessor:: RemoveConcurrency、ServerPrivateAccessor:: AddConcurrency 几个函数来统计并限制最大并发。所以说可以通过修改这几个函数的逻辑来增加concurrency的自动调整。\r\n       整体方案如下：\r\n1.\t增加Server两个接口可以选择是否开启server级别和method级别的concurrency自动调整，默认不开启\r\n2.\t新增一个ConcurrencyLimiter类，用于接收采集到的延迟等信息，并封装concurrency调整逻辑\r\n3.\t修改 OnResponsed 等函数，将数据同时上报到server及method的ConcurrencyLimiter中\r\n4.\t在ConcurrencyLimiter收到上报的数据时，会选择合适的时机对最大并发量进行调整\r\n5.    调整concurrency时，依然用窗口期内的最小rtt和历史最小rtt计算。因为最小rtt可以反应请求进入server之后的等待时间\r\n6.    计算单个rpc的rtt时，直接使用controller拿到的耗时，尽管这个值可能不如client端的准确，但是这个值的变化趋势已经能够反映系统的繁忙程度\r\n7.    假如用户开启了自动限流的同时也手动指定了最大并发，那么会同时检查两个最大并发量，来判断是否应该直接返回brpc::ELIMIT\r\n8.\t应对NetFlix中的几种策略都进行测试，选择一种较为通用的策略作为默认的限流策略\r\n \r\n### 想到的一些问题：\r\n在做方案设计的时候想到了一些问题，在这里发出来，看看大家有什么好的建议\r\n1.\t如何设置初始的最大并发数\r\n初始时需要设定一个默认的最大并发，之后根据rpc延迟自动进行调整，如果这个初始值设置得过大，那么server有可能在限流还没生效之前就因为超载而重启并陷入一直重启的死循环。设置得过小也可能会返回很多不必要的brpc::ELIMIT\r\n\r\n3.\t什么时候触发concurrency的调整\r\n在Netflix的实现中，每个rpc都会上报数据(当次rpc延迟，以及监控窗口内的最大并发)，并且在上报时根据上次上报的时间等信息，来判断是否要去主动触发concurrency的更新，这里有个问题就是会出现一小段时间内的RPC都可能触发concurrency调整，但实际上只需要调整一次。所以在NetFlix的实现里，对检查concurrency的触发条件的逻辑进行了加锁。\r\n一种减少竞争的做法是使用bvar窗口的rtt数据，再开启一个定时器按时更新concurrency。\r\n \r\n4.\t不同method性能不同，可能会影响决策\r\nbrpc不区分io线程和逻辑线程，不同method的请求也都是使用同一组pthread_worker来处理。所以有一些疑问：\r\n1）\t假如有一个method的逻辑比较简单，能很快返回，其他method则延迟比较高。这个时候Server级别的MinRtt就会和这个逻辑简单的method的latency一致，那么假如其他延迟高的接口流量涨上来了，导致系统超载，Server级别MinRtt是会涨上来并且正确限流呢。\r\n2）\t回到1，经过一段时间之后，Server能不能通过自动调节，使得只有那个延迟高且流量大的method返回ELIMIT，其他method尽量不受影响正常运行 \r\n3）   为了区别对待不同性能的method，需要在method级别限制流量，那么这个时候，对于自动调整concurrency的方式，server级别的限流是不是就变成了一个可有可无的东西。\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395619743/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395661883","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-395661883","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":395661883,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTY2MTg4Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-06-08T06:31:25Z","updated_at":"2018-06-08T06:31:25Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395661883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395678300","html_url":"https://github.com/apache/brpc/issues/360#issuecomment-395678300","issue_url":"https://api.github.com/repos/apache/brpc/issues/360","id":395678300,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTY3ODMwMA==","user":{"login":"houjincheng1992","id":12387979,"node_id":"MDQ6VXNlcjEyMzg3OTc5","avatar_url":"https://avatars.githubusercontent.com/u/12387979?v=4","gravatar_id":"","url":"https://api.github.com/users/houjincheng1992","html_url":"https://github.com/houjincheng1992","followers_url":"https://api.github.com/users/houjincheng1992/followers","following_url":"https://api.github.com/users/houjincheng1992/following{/other_user}","gists_url":"https://api.github.com/users/houjincheng1992/gists{/gist_id}","starred_url":"https://api.github.com/users/houjincheng1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/houjincheng1992/subscriptions","organizations_url":"https://api.github.com/users/houjincheng1992/orgs","repos_url":"https://api.github.com/users/houjincheng1992/repos","events_url":"https://api.github.com/users/houjincheng1992/events{/privacy}","received_events_url":"https://api.github.com/users/houjincheng1992/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-08T07:46:11Z","updated_at":"2018-06-08T07:46:11Z","author_association":"NONE","body":"@zyearn hi,我是在使用make时候出现的这个问题，是因为我没有安装openssl吗?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395678300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395707157","html_url":"https://github.com/apache/brpc/issues/360#issuecomment-395707157","issue_url":"https://api.github.com/repos/apache/brpc/issues/360","id":395707157,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTcwNzE1Nw==","user":{"login":"houjincheng1992","id":12387979,"node_id":"MDQ6VXNlcjEyMzg3OTc5","avatar_url":"https://avatars.githubusercontent.com/u/12387979?v=4","gravatar_id":"","url":"https://api.github.com/users/houjincheng1992","html_url":"https://github.com/houjincheng1992","followers_url":"https://api.github.com/users/houjincheng1992/followers","following_url":"https://api.github.com/users/houjincheng1992/following{/other_user}","gists_url":"https://api.github.com/users/houjincheng1992/gists{/gist_id}","starred_url":"https://api.github.com/users/houjincheng1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/houjincheng1992/subscriptions","organizations_url":"https://api.github.com/users/houjincheng1992/orgs","repos_url":"https://api.github.com/users/houjincheng1992/repos","events_url":"https://api.github.com/users/houjincheng1992/events{/privacy}","received_events_url":"https://api.github.com/users/houjincheng1992/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-08T09:35:13Z","updated_at":"2018-06-08T09:35:13Z","author_association":"NONE","body":"找到make时候的问题了，我的brew install将openssl 安装在了/usr/local/opt/openssl/位置下，使用/usr/local/ 这样的路径就不太合适了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/395707157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396110576","html_url":"https://github.com/apache/brpc/issues/362#issuecomment-396110576","issue_url":"https://api.github.com/repos/apache/brpc/issues/362","id":396110576,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjExMDU3Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T03:07:37Z","updated_at":"2018-06-11T03:07:37Z","author_association":"CONTRIBUTOR","body":"感谢报告，将在 #345 中一并修复","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396110576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396144810","html_url":"https://github.com/apache/brpc/issues/353#issuecomment-396144810","issue_url":"https://api.github.com/repos/apache/brpc/issues/353","id":396144810,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjE0NDgxMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T07:14:12Z","updated_at":"2018-06-11T07:14:12Z","author_association":"CONTRIBUTOR","body":"1. 先偏大，编码完成后在测试阶段根据实测结果做调整\r\n2. bvar的方式在提交处减少了竞争，但整体的开销是更大的（引入了更多的数据结构和运算）。当计算比较复杂或耗时不确定时，典型如tracing, dump这些需求，这么做是值得的。但像拥塞控制整体是相对简单的运算，加锁可以接受。只是对于高QPS系统，并没有必要每个请求都更新，这时可通过限制更新间隔，如若干ms一次，在锁外就拒绝掉大部分情况（有假阳性，但影响不大），时间戳在OnResponded处可以拿到。\r\n3. 有自动并发后，Server的max-concurrency不再有意义。ServerOptions.max_concurrency可以类似[connection type](https://github.com/brpc/brpc/blob/master/src/brpc/adaptive_connection_type.h)同时支持int和string赋值，ServerOptions.max_concurrency = \"auto\"代表用自动方法，MaxConcurrencyOf如果不设置的话，同样也是自动，否则就是手动。以后也可以扩展为更多种方法。\r\n4. ConcurrencyLimiter应该可以替换固定max_concurrency，即所有出现max_concurrency的地方都应替换为ConcurrencyLimiter的实例。ConcurrencyLimiter可以类似于LoadBalancer和NamingService管理，属于内部类，用户通过字符串来配置用哪个。\r\n5. 哪些错误应该[快速地缩小窗口](https://github.com/Netflix/concurrency-limits/blob/master/concurrency-limits-core/src/main/java/com/netflix/concurrency/limits/limit/GradientLimit.java#L265)需要考虑一下。brpc的server端的错误可能是框架的，也可能是应用层的。有些是永久性的，有些是临时性的。一种保险的策略是错误默认跳过，只对非常确认和并发相关的错误才做额外的惩罚。\r\n6. minRTT的更新逻辑要明确一下。\r\n7. 一般来说很多服务接口都会根据参数不同做不同的事情，从而让一个method有非常不同的延时，但只要长短延时的比例基本稳定，自动拥塞控制算法也应能工作，否则就会比较局限。延时的长短分布，稳定情况也是并发控制最重要的问题之一，是完全使用最小RTT，还是引入一部分平均RTT，需要在开发和测试过程中进一步考虑。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396144810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396455717","html_url":"https://github.com/apache/brpc/issues/353#issuecomment-396455717","issue_url":"https://api.github.com/repos/apache/brpc/issues/353","id":396455717,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjQ1NTcxNw==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-12T03:39:32Z","updated_at":"2018-06-12T03:39:32Z","author_association":"CONTRIBUTOR","body":"总结一下当前的结论：\r\n1. 初始的最大并发先设置一个较大值后续根据测试结果调整\r\n2. 拥塞控制的提交可以先进行采样，在锁外拒绝大部分请求，再将样本通过加锁的方式提交到ConcurrencyLimiter\r\n3. **维护Server和Method两级自动并发控制**，用类似LoadBalancer的方式扩展接口\r\n\r\n还有一些问题需要在开发测试中进一步考虑的：\r\n1. 哪些情况应该快速缩小窗口\r\n2. 明确minRtt的更新逻辑和自动拥塞控制算法的选取\r\n\r\n关于 1. 快速缩小窗口：\r\n我们找了一下brpc server端的错误，看起来并没有什么哪些是非常确认和并发相关的。**所以server端具体哪方面的错误可以明确表示服务端过载，我们目前还没有太好的解决思路**。\r\n(socket的overcrowded不应该算是服务端错误，bthread的调度本身就应该由最大并发来保护)\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396455717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396462918","html_url":"https://github.com/apache/brpc/issues/353#issuecomment-396462918","issue_url":"https://api.github.com/repos/apache/brpc/issues/353","id":396462918,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjQ2MjkxOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-12T04:34:43Z","updated_at":"2018-06-12T11:22:50Z","author_association":"CONTRIBUTOR","body":"关于3. 当开启自动并发控制时，是没有Server这一层的控制的，只有Method层面的。\r\n\r\nserver端的错误有一种比较通用的思路，不管是什么层面的错误，对应的时间总是浪费掉了，所以耗费的时间可以作为通用的cost，耗时越长错误越严重。一种使用方法是把统计窗口内错误的累积耗费时间 / 正常请求个数加到minRTT上，也就是说每个正常延时平均分摊所有浪费的时间。需要更aggressive一点的话，可以乘上一个倍数再加到minRTT上。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396462918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396537627","html_url":"https://github.com/apache/brpc/issues/298#issuecomment-396537627","issue_url":"https://api.github.com/repos/apache/brpc/issues/298","id":396537627,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjUzNzYyNw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-06-12T10:07:30Z","updated_at":"2018-06-12T10:07:30Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396537627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396615704","html_url":"https://github.com/apache/brpc/issues/365#issuecomment-396615704","issue_url":"https://api.github.com/repos/apache/brpc/issues/365","id":396615704,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjYxNTcwNA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-12T14:44:41Z","updated_at":"2018-06-12T14:44:41Z","author_association":"MEMBER","body":"为什么要close，有什么结论？@renzhong ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396615704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396798410","html_url":"https://github.com/apache/brpc/issues/366#issuecomment-396798410","issue_url":"https://api.github.com/repos/apache/brpc/issues/366","id":396798410,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njc5ODQxMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T03:00:22Z","updated_at":"2018-06-13T03:00:22Z","author_association":"CONTRIBUTOR","body":"一般认为下游都挂了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396798410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396801989","html_url":"https://github.com/apache/brpc/issues/366#issuecomment-396801989","issue_url":"https://api.github.com/repos/apache/brpc/issues/366","id":396801989,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjgwMTk4OQ==","user":{"login":"wenhuiwu","id":10475862,"node_id":"MDQ6VXNlcjEwNDc1ODYy","avatar_url":"https://avatars.githubusercontent.com/u/10475862?v=4","gravatar_id":"","url":"https://api.github.com/users/wenhuiwu","html_url":"https://github.com/wenhuiwu","followers_url":"https://api.github.com/users/wenhuiwu/followers","following_url":"https://api.github.com/users/wenhuiwu/following{/other_user}","gists_url":"https://api.github.com/users/wenhuiwu/gists{/gist_id}","starred_url":"https://api.github.com/users/wenhuiwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenhuiwu/subscriptions","organizations_url":"https://api.github.com/users/wenhuiwu/orgs","repos_url":"https://api.github.com/users/wenhuiwu/repos","events_url":"https://api.github.com/users/wenhuiwu/events{/privacy}","received_events_url":"https://api.github.com/users/wenhuiwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T03:26:08Z","updated_at":"2018-06-13T03:26:08Z","author_association":"NONE","body":"我们看了一下，下游正常，但是cpu太高了，所以怀疑是不是cpu太高导致的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396801989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396802618","html_url":"https://github.com/apache/brpc/issues/366#issuecomment-396802618","issue_url":"https://api.github.com/repos/apache/brpc/issues/366","id":396802618,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjgwMjYxOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T03:31:12Z","updated_at":"2018-06-13T03:31:12Z","author_association":"CONTRIBUTOR","body":"单单cpu高也不会被上游认为“挂掉的“，可以进一步看看原因","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396802618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396804934","html_url":"https://github.com/apache/brpc/issues/353#issuecomment-396804934","issue_url":"https://api.github.com/repos/apache/brpc/issues/353","id":396804934,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjgwNDkzNA==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T03:49:48Z","updated_at":"2018-06-13T03:49:48Z","author_association":"CONTRIBUTOR","body":"好的，多谢解答，那我们就按照目前的方案启动开发了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396804934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396835654","html_url":"https://github.com/apache/brpc/issues/365#issuecomment-396835654","issue_url":"https://api.github.com/repos/apache/brpc/issues/365","id":396835654,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjgzNTY1NA==","user":{"login":"renzhong","id":1164327,"node_id":"MDQ6VXNlcjExNjQzMjc=","avatar_url":"https://avatars.githubusercontent.com/u/1164327?v=4","gravatar_id":"","url":"https://api.github.com/users/renzhong","html_url":"https://github.com/renzhong","followers_url":"https://api.github.com/users/renzhong/followers","following_url":"https://api.github.com/users/renzhong/following{/other_user}","gists_url":"https://api.github.com/users/renzhong/gists{/gist_id}","starred_url":"https://api.github.com/users/renzhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/renzhong/subscriptions","organizations_url":"https://api.github.com/users/renzhong/orgs","repos_url":"https://api.github.com/users/renzhong/repos","events_url":"https://api.github.com/users/renzhong/events{/privacy}","received_events_url":"https://api.github.com/users/renzhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T07:03:17Z","updated_at":"2018-06-13T07:03:37Z","author_association":"CONTRIBUTOR","body":"56行加上 `SOPATHS` 不行，运行时会报错，提示 gflags 同时被静态和动态依赖，我觉得我改错了，所以就关了。\r\n我理解56行的意图是把`STATIC_LINKINGS`定义的库，用静态链接，所以不需要`SOPATHS`定义的路径了，对吗？\r\n我后来还是使用了系统安装的 leveldb、gflags，使用56行的编译方式，`ldd echo_client` 只提示 glog 库找不到，自己通过 LD_PRELOAD 解决了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/396835654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/397657459","html_url":"https://github.com/apache/brpc/issues/368#issuecomment-397657459","issue_url":"https://api.github.com/repos/apache/brpc/issues/368","id":397657459,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzY1NzQ1OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T15:27:57Z","updated_at":"2018-06-15T15:27:57Z","author_association":"CONTRIBUTOR","body":"C++11中的static初始化是线程安全的，这里的问题要么是发生在main函数之后（某个线程中），要么是相关内存被写坏了，可以跑下address sanitizer","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/397657459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/397940553","html_url":"https://github.com/apache/brpc/pull/263#issuecomment-397940553","issue_url":"https://api.github.com/repos/apache/brpc/issues/263","id":397940553,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzk0MDU1Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T04:43:15Z","updated_at":"2018-06-18T04:43:15Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/397940553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]