[{"url":"https://api.github.com/repos/apache/storm/issues/comments/317111377","html_url":"https://github.com/apache/storm/pull/2228#issuecomment-317111377","issue_url":"https://api.github.com/repos/apache/storm/issues/2228","id":317111377,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzExMTM3Nw==","user":{"login":"ecararus","id":6301757,"node_id":"MDQ6VXNlcjYzMDE3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/6301757?v=4","gravatar_id":"","url":"https://api.github.com/users/ecararus","html_url":"https://github.com/ecararus","followers_url":"https://api.github.com/users/ecararus/followers","following_url":"https://api.github.com/users/ecararus/following{/other_user}","gists_url":"https://api.github.com/users/ecararus/gists{/gist_id}","starred_url":"https://api.github.com/users/ecararus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ecararus/subscriptions","organizations_url":"https://api.github.com/users/ecararus/orgs","repos_url":"https://api.github.com/users/ecararus/repos","events_url":"https://api.github.com/users/ecararus/events{/privacy}","received_events_url":"https://api.github.com/users/ecararus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-21T21:00:27Z","updated_at":"2017-07-21T21:00:27Z","author_association":"CONTRIBUTOR","body":"Hello all \r\nThanks for advice i found the issue and fixed, i would like to apologize for misleading by pointing on FluxParser(however propertied.get(key) is returning string thanks to Yaml.load nimbus.seeds is transformed to a list).  I'm using [storm-maven-plugin](https://github.com/hubrick/storm-maven-plugin) so the issue was there i'm calling NimbusClient by passing config as:\r\n```\r\n                in = new FileInputStream(properiesFileLocation);\r\n                Properties prop = new Properties();\r\n                prop.load(in);\r\n                return config.putAll(prop);\r\n```\r\n\r\nI think we can close current issue and apply validation before usage of configuration.\r\nThanks everybody for help.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317111377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317115660","html_url":"https://github.com/apache/storm/pull/2235#issuecomment-317115660","issue_url":"https://api.github.com/repos/apache/storm/issues/2235","id":317115660,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzExNTY2MA==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-21T21:22:17Z","updated_at":"2017-07-21T21:22:17Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317115660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317168217","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317168217","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317168217,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzE2ODIxNw==","user":{"login":"omerhadari","id":15015993,"node_id":"MDQ6VXNlcjE1MDE1OTkz","avatar_url":"https://avatars.githubusercontent.com/u/15015993?v=4","gravatar_id":"","url":"https://api.github.com/users/omerhadari","html_url":"https://github.com/omerhadari","followers_url":"https://api.github.com/users/omerhadari/followers","following_url":"https://api.github.com/users/omerhadari/following{/other_user}","gists_url":"https://api.github.com/users/omerhadari/gists{/gist_id}","starred_url":"https://api.github.com/users/omerhadari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omerhadari/subscriptions","organizations_url":"https://api.github.com/users/omerhadari/orgs","repos_url":"https://api.github.com/users/omerhadari/repos","events_url":"https://api.github.com/users/omerhadari/events{/privacy}","received_events_url":"https://api.github.com/users/omerhadari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T08:53:13Z","updated_at":"2017-07-22T08:53:13Z","author_association":"CONTRIBUTOR","body":"I tried looking into the failed integration test, and I believe it has nothing to do with the classes I touched (especially since it looks to have passed a few commits earlier, all of which contained minor documentation and naming changes).\r\nLet me know if there is anything more I can improve within the scope of this PR before finalizing it.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317168217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317170987","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317170987","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317170987,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzE3MDk4Nw==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T09:35:41Z","updated_at":"2017-07-22T09:35:41Z","author_association":"CONTRIBUTOR","body":"I think the changes look good. Could you squash the commits down so this PR only contains 1 commit where the message matches the PR title?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317170987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317174611","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317174611","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317174611,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzE3NDYxMQ==","user":{"login":"omerhadari","id":15015993,"node_id":"MDQ6VXNlcjE1MDE1OTkz","avatar_url":"https://avatars.githubusercontent.com/u/15015993?v=4","gravatar_id":"","url":"https://api.github.com/users/omerhadari","html_url":"https://github.com/omerhadari","followers_url":"https://api.github.com/users/omerhadari/followers","following_url":"https://api.github.com/users/omerhadari/following{/other_user}","gists_url":"https://api.github.com/users/omerhadari/gists{/gist_id}","starred_url":"https://api.github.com/users/omerhadari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omerhadari/subscriptions","organizations_url":"https://api.github.com/users/omerhadari/orgs","repos_url":"https://api.github.com/users/omerhadari/repos","events_url":"https://api.github.com/users/omerhadari/events{/privacy}","received_events_url":"https://api.github.com/users/omerhadari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T10:36:48Z","updated_at":"2017-07-22T10:36:48Z","author_association":"CONTRIBUTOR","body":"Done","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317174611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317197118","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317197118","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317197118,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzE5NzExOA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T17:09:14Z","updated_at":"2017-07-22T17:09:14Z","author_association":"CONTRIBUTOR","body":"@omerhadari There are a few conflicts and a use of a Java 8 API when cherry picking this on to 1.x-branch. Would you mind opening another PR for this for 1.x?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317197118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317202806","html_url":"https://github.com/apache/storm/pull/2085#issuecomment-317202806","issue_url":"https://api.github.com/repos/apache/storm/issues/2085","id":317202806,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzIwMjgwNg==","user":{"login":"tandrup","id":729639,"node_id":"MDQ6VXNlcjcyOTYzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/729639?v=4","gravatar_id":"","url":"https://api.github.com/users/tandrup","html_url":"https://github.com/tandrup","followers_url":"https://api.github.com/users/tandrup/followers","following_url":"https://api.github.com/users/tandrup/following{/other_user}","gists_url":"https://api.github.com/users/tandrup/gists{/gist_id}","starred_url":"https://api.github.com/users/tandrup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandrup/subscriptions","organizations_url":"https://api.github.com/users/tandrup/orgs","repos_url":"https://api.github.com/users/tandrup/repos","events_url":"https://api.github.com/users/tandrup/events{/privacy}","received_events_url":"https://api.github.com/users/tandrup/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T18:48:44Z","updated_at":"2017-07-22T18:48:44Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR ok. I've updated the pull request to pass the style checks. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317202806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317209463","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317209463","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317209463,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzIwOTQ2Mw==","user":{"login":"omerhadari","id":15015993,"node_id":"MDQ6VXNlcjE1MDE1OTkz","avatar_url":"https://avatars.githubusercontent.com/u/15015993?v=4","gravatar_id":"","url":"https://api.github.com/users/omerhadari","html_url":"https://github.com/omerhadari","followers_url":"https://api.github.com/users/omerhadari/followers","following_url":"https://api.github.com/users/omerhadari/following{/other_user}","gists_url":"https://api.github.com/users/omerhadari/gists{/gist_id}","starred_url":"https://api.github.com/users/omerhadari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omerhadari/subscriptions","organizations_url":"https://api.github.com/users/omerhadari/orgs","repos_url":"https://api.github.com/users/omerhadari/repos","events_url":"https://api.github.com/users/omerhadari/events{/privacy}","received_events_url":"https://api.github.com/users/omerhadari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T20:48:23Z","updated_at":"2017-07-22T20:48:23Z","author_association":"CONTRIBUTOR","body":"No problem, I'll open a separate PR tomorrow evening.\r\nDo let me know if this one needs any further work.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317209463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317210133","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317210133","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317210133,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzIxMDEzMw==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T20:59:50Z","updated_at":"2017-07-22T20:59:50Z","author_association":"CONTRIBUTOR","body":"No, I think this is good. Thanks for the fixes :)","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317210133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317210515","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317210515","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317210515,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzIxMDUxNQ==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T21:05:45Z","updated_at":"2017-07-22T21:05:45Z","author_association":"CONTRIBUTOR","body":"@omerhadari For some reason I can't set you as the assignee on the jira issue. Please assign the issue to yourself, that way it is easy to tell who provided the fix, and it won't show up when people search for unassigned issues.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317210515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613027878","html_url":"https://github.com/apache/storm/issues/6434#issuecomment-2613027878","issue_url":"https://api.github.com/repos/apache/storm/issues/6434","id":2613027878,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwMjc4Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T21:24:33Z","updated_at":"2025-01-24T17:18:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=omerhadari\">omerhadari</a>:</i>\n<p>For assigning to reporter </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613027878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317211856","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317211856","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317211856,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzIxMTg1Ng==","user":{"login":"omerhadari","id":15015993,"node_id":"MDQ6VXNlcjE1MDE1OTkz","avatar_url":"https://avatars.githubusercontent.com/u/15015993?v=4","gravatar_id":"","url":"https://api.github.com/users/omerhadari","html_url":"https://github.com/omerhadari","followers_url":"https://api.github.com/users/omerhadari/followers","following_url":"https://api.github.com/users/omerhadari/following{/other_user}","gists_url":"https://api.github.com/users/omerhadari/gists{/gist_id}","starred_url":"https://api.github.com/users/omerhadari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omerhadari/subscriptions","organizations_url":"https://api.github.com/users/omerhadari/orgs","repos_url":"https://api.github.com/users/omerhadari/repos","events_url":"https://api.github.com/users/omerhadari/events{/privacy}","received_events_url":"https://api.github.com/users/omerhadari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T21:33:45Z","updated_at":"2017-07-22T21:33:45Z","author_association":"CONTRIBUTOR","body":"I have no permissions to do that. I reopened the issue so that someone who can assigns it to me.\r\nWill work on the 1.x PR ASAP. Thanks for the merge.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317211856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317214757","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317214757","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317214757,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzIxNDc1Nw==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-22T22:34:47Z","updated_at":"2017-07-22T22:34:47Z","author_association":"CONTRIBUTOR","body":"Sorry, I didn't realize you had to be given rights in order to be assigned an issue. @ptgoetz can you help out?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317214757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613027883","html_url":"https://github.com/apache/storm/issues/6434#issuecomment-2613027883","issue_url":"https://api.github.com/repos/apache/storm/issues/6434","id":2613027883,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwMjc4ODM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-23T02:38:56Z","updated_at":"2025-01-24T17:18:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vesense\">vesense</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=omerhadari\" class=\"user-hover\" rel=\"omerhadari\">Omer Hadari</a> I assigned the Jira to you and added you to the Jira contributors.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613027883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317224523","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317224523","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317224523,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzIyNDUyMw==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-23T02:44:27Z","updated_at":"2017-07-23T02:44:27Z","author_association":"MEMBER","body":"@omerhadari I assigned the Jira to you and added you to the Jira contributors.\r\n@srdo I added you to the Jira committers/PMCs.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317224523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317224770","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317224770","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317224770,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzIyNDc3MA==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-23T02:51:40Z","updated_at":"2017-07-23T02:51:40Z","author_association":"MEMBER","body":"Thanks @vesense!","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317224770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317235866","html_url":"https://github.com/apache/storm/pull/2234#issuecomment-317235866","issue_url":"https://api.github.com/repos/apache/storm/issues/2234","id":317235866,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzIzNTg2Ng==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-23T07:51:33Z","updated_at":"2017-07-23T07:51:33Z","author_association":"CONTRIBUTOR","body":"Thanks @vesense ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317235866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317258244","html_url":"https://github.com/apache/storm/pull/2207#issuecomment-317258244","issue_url":"https://api.github.com/repos/apache/storm/issues/2207","id":317258244,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzI1ODI0NA==","user":{"login":"liu-zhaokun","id":25218975,"node_id":"MDQ6VXNlcjI1MjE4OTc1","avatar_url":"https://avatars.githubusercontent.com/u/25218975?v=4","gravatar_id":"","url":"https://api.github.com/users/liu-zhaokun","html_url":"https://github.com/liu-zhaokun","followers_url":"https://api.github.com/users/liu-zhaokun/followers","following_url":"https://api.github.com/users/liu-zhaokun/following{/other_user}","gists_url":"https://api.github.com/users/liu-zhaokun/gists{/gist_id}","starred_url":"https://api.github.com/users/liu-zhaokun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liu-zhaokun/subscriptions","organizations_url":"https://api.github.com/users/liu-zhaokun/orgs","repos_url":"https://api.github.com/users/liu-zhaokun/repos","events_url":"https://api.github.com/users/liu-zhaokun/events{/privacy}","received_events_url":"https://api.github.com/users/liu-zhaokun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-23T14:50:41Z","updated_at":"2017-07-23T14:50:41Z","author_association":"CONTRIBUTOR","body":"@revans2 \r\nCould you help me review this PRï¼Œthere are no committer to review it all the time.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317258244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317276630","html_url":"https://github.com/apache/storm/pull/2236#issuecomment-317276630","issue_url":"https://api.github.com/repos/apache/storm/issues/2236","id":317276630,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzI3NjYzMA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-23T19:38:19Z","updated_at":"2017-07-23T19:48:06Z","author_association":"CONTRIBUTOR","body":"+1 and thanks","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317276630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317306509","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317306509","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317306509,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzMwNjUwOQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T02:49:51Z","updated_at":"2017-07-24T02:50:16Z","author_association":"CONTRIBUTOR","body":"@revans2 \r\nI fixed the drop down issue, and also fixed issue regarding authorization check. I think it was the reason of issues what @Ethanlm observed. Please take a look at the latest commit.\r\n\r\n@Ethanlm \r\nCould you test it again if you can spend time on this? If you don't have time to test, I'll just merge this after reviewing the latest commit from @revans2 .","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317306509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317311342","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317311342","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317311342,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzMxMTM0Mg==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T03:34:41Z","updated_at":"2017-07-24T03:34:41Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR  I will test it quickly ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317311342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317314621","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317314621","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317314621,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzMxNDYyMQ==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T04:07:56Z","updated_at":"2017-07-24T04:07:56Z","author_association":"CONTRIBUTOR","body":"Just tested (3). Don't know why (3) is still not working (even with nimbus admin account). \r\n![image](https://user-images.githubusercontent.com/14900612/28507762-00ad7c36-6ffb-11e7-92c0-1883b0a5f9f8.png)\r\n(querying worker.log as nimbus admin works.)\r\n![image](https://user-images.githubusercontent.com/14900612/28507778-114f6e3c-6ffb-11e7-8d5e-73a0e9f6eaf8.png)\r\n\r\nBut I think it's fine to fix it later if it's a real problem (if it doesn't only happen on my cluster) .\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317314621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317315266","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317315266","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317315266,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzMxNTI2Ng==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T04:15:02Z","updated_at":"2017-07-24T04:15:02Z","author_association":"CONTRIBUTOR","body":"@Ethanlm \r\nYeah I think I addressed (2) and forgot to debug (3). I'll test it quickly.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317315266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317318317","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317318317","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317318317,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzMxODMxNw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T04:46:36Z","updated_at":"2017-07-24T04:46:36Z","author_association":"CONTRIBUTOR","body":"@Ethanlm \r\nI realized I missed addressing other places for parameter swapped. Just addressed and tested as well.\r\nYou can just build `storm-webapp` module and copy `storm-webapp jar` into `lib-webapp` directory.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317318317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317320133","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317320133","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317320133,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzMyMDEzMw==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T05:03:52Z","updated_at":"2017-07-24T05:03:52Z","author_association":"CONTRIBUTOR","body":"Yea~ It works now. \r\nUse nimbus admin account: \r\n![image](https://user-images.githubusercontent.com/14900612/28508825-23b838ee-7003-11e7-81dc-42bd7e23191a.png)\r\nUse \"ethan\" account (it's not authorized. Probably that why I got \"page-not-found\" while querying worker.log): \r\n![image](https://user-images.githubusercontent.com/14900612/28508831-298dbe38-7003-11e7-9014-97621e7ce83b.png)\r\n\r\nA quick question.. \"ethan\" is nimbus.user, ui.user, and logs.user. But it's not able to view worker.log. Which configuration should I set \"ethan\" to..? Thanks very much.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317320133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317320863","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317320863","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317320863,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzMyMDg2Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T05:10:31Z","updated_at":"2017-07-24T05:11:26Z","author_association":"CONTRIBUTOR","body":"@Ethanlm \r\nFor now you should include `ethan` to `logs.users` in **topology configuration**. Global configuration doesn't take effect. This behavior seems same as current logviewer.\r\nIf we need to merge global configuration of `logs.users` and `logs.groups` into topology configuration, we can file a new issue and handle it accordingly.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317320863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317321838","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317321838","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317321838,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzMyMTgzOA==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T05:18:58Z","updated_at":"2017-07-24T05:18:58Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR Thanks! It's good to learn","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317321838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317322130","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317322130","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317322130,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzMyMjEzMA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T05:21:33Z","updated_at":"2017-07-24T05:21:33Z","author_association":"CONTRIBUTOR","body":"@Ethanlm \r\nNo problem. Thanks for testing my patch thoughtfully. Please let me know if (2) becomes fixed with setting `logs.users` in the topology configuration.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317322130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613021538","html_url":"https://github.com/apache/storm/issues/6396#issuecomment-2613021538","issue_url":"https://api.github.com/repos/apache/storm/issues/6396","id":2613021538,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwMjE1Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T07:56:49Z","updated_at":"2025-01-24T17:15:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arunmahadevan\">arunmahadevan</a>:</i>\n<p>High level design:</p>\n\n<p>This builds on top of the existing state checkpointing mechanism (documented here - <a href=\"https://github.com/apache/storm/blob/master/docs/State-checkpointing.md\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/docs/State-checkpointing.md</a>). Theres nothing extra added to the underlying checkpointing mechanism itself and its pretty straightforward.</p>\n\n<p>The tuples in window (think a FIFO queue) are split into multiple partitions so that they are more manageable and can be distributed/sharded via the underlying key-value state (redis/hbase etc). The modified partitions are saved during a checkpoint. During iteration the partition are loaded on demand from the underlying state backend as they are accessed. A subset of the partitions that are most likely to be used again are cached in memory.</p>\n\n<p>During checkpoint, the following are saved :</p>\n\n<p>1. Any modified or newly created window partitions.<br/>\n2. Any state needed to recover the Trigger/Eviction policies.<br/>\n3. State thats exposed to the user where the user may have saved some values.</p>\n\n<p>Since the KV state does not guarantee any specific ordering of the keys during iteration, a separate structure is maintained to store the ordered partition Ids which is used during iteration to retrieve the partitions in order. This is also saved during the checkpoint.</p>\n\n<p>The above mechanism kicks in only if user choses to use the windowed state persistence, otherwise the current behavior (keeping the tuples in an in-memory queue) is retained.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613021538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317349250","html_url":"https://github.com/apache/storm/pull/2218#issuecomment-317349250","issue_url":"https://api.github.com/repos/apache/storm/issues/2218","id":317349250,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzM0OTI1MA==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T08:07:03Z","updated_at":"2017-07-24T08:07:03Z","author_association":"CONTRIBUTOR","body":"After some more tests (with Caffeine for caching) I found some instances where the current partition (where entries are added or being removed) could get evicted causing issues in serialization. So I added a simple caching with support for pinning that evicts the latest un-pinned partition and based on tests found it to be better and fits the current use case well. @HeartSaVioR , you may want to re-visit the changes.\r\n\r\n@roshannaik , added the high level design notes to the JIRA as well.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317349250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317358567","html_url":"https://github.com/apache/storm/pull/2218#issuecomment-317358567","issue_url":"https://api.github.com/repos/apache/storm/issues/2218","id":317358567,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzM1ODU2Nw==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T08:48:07Z","updated_at":"2017-07-24T08:48:07Z","author_association":"MEMBER","body":"@HeartSaVioR I will go through this PR in next 1-2 days and put my comments. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317358567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317410769","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317410769","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317410769,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzQxMDc2OQ==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T12:43:14Z","updated_at":"2017-07-24T12:43:14Z","author_association":"CONTRIBUTOR","body":"Still not authorized.. But I guess it's my problem.. Will try to figure it out. Thanks.\r\n\r\n![image](https://user-images.githubusercontent.com/14900612/28523809-8d57133e-7043-11e7-85cc-7cd72c94a198.png)\r\n![image](https://user-images.githubusercontent.com/14900612/28523855-b8bdc266-7043-11e7-828b-b51e1de2bef8.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317410769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317428888","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317428888","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317428888,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzQyODg4OA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T13:51:46Z","updated_at":"2017-07-24T13:51:46Z","author_association":"CONTRIBUTOR","body":"The change looks good to me and I am +1.  Will wait for @Ethanlm to work through his issues first though.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317428888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317440566","html_url":"https://github.com/apache/storm/pull/2237#issuecomment-317440566","issue_url":"https://api.github.com/repos/apache/storm/issues/2237","id":317440566,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzQ0MDU2Ng==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T14:29:23Z","updated_at":"2017-07-24T14:29:33Z","author_association":"CONTRIBUTOR","body":"@revans2  Thanks. Create a JIRA: https://issues.apache.org/jira/browse/STORM-2653","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317440566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613025749","html_url":"https://github.com/apache/storm/issues/6428#issuecomment-2613025749","issue_url":"https://api.github.com/repos/apache/storm/issues/6428","id":2613025749,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwMjU3NDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T14:47:45Z","updated_at":"2025-01-24T17:17:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ecararus\">ecararus</a>:</i>\n<p>Fix has been committed on: <a href=\"https://github.com/apache/storm/pull/2228/commits/732d0c276d4ee5c7dbf2422a5b5ed78baef5e838\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/2228/commits/732d0c276d4ee5c7dbf2422a5b5ed78baef5e838</a> should be merged to master</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613025749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317449537","html_url":"https://github.com/apache/storm/pull/2237#issuecomment-317449537","issue_url":"https://api.github.com/repos/apache/storm/issues/2237","id":317449537,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzQ0OTUzNw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T14:56:37Z","updated_at":"2017-07-24T14:56:37Z","author_association":"CONTRIBUTOR","body":"@Ethanlm Great, now we need to wait for the full 24 hours to be up in case others want to respond to the pull request.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317449537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317456458","html_url":"https://github.com/apache/storm/pull/2207#issuecomment-317456458","issue_url":"https://api.github.com/repos/apache/storm/issues/2207","id":317456458,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzQ1NjQ1OA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T15:16:47Z","updated_at":"2017-07-24T15:16:47Z","author_association":"CONTRIBUTOR","body":"I do agree with @Ethanlm that updating SECURITY.md would probably be more helpful, but if you want this to be a first step then I am happy to merge it in.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317456458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317463979","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317463979","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317463979,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzQ2Mzk3OQ==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T15:41:59Z","updated_at":"2017-07-24T15:45:35Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR @revans2  I think I figured it out. \r\nI added \"ethan@DEREKD.YSTORM.NET\" to logs.users and then it works. I traced down to the [isAuthorizedLogUser](https://github.com/apache/storm/pull/2204/files#diff-aad25f432acc108d98b3126bbd914873R74) function and found that it doesn't translate \"principal\" to \"user\" so that \"ethan@DEREKD.YSTORM.NET\" doesn't match with logs.user \"ethan\" in the configuration. @revans2 and I think the code is identical to the old code. So this should be an existing bug.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317463979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317465483","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317465483","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317465483,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzQ2NTQ4Mw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T15:46:53Z","updated_at":"2017-07-24T15:46:53Z","author_association":"CONTRIBUTOR","body":"@Ethanlm since you found this could you file a follow on JIRA to use the PrincipalToLocal plugin in the logviewer when authorizing users?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317465483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317466109","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317466109","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317466109,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzQ2NjEwOQ==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T15:49:01Z","updated_at":"2017-07-24T16:35:10Z","author_association":"CONTRIBUTOR","body":"@revans2  Yes. Sure. Should I wait until this PR being merged in?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317466109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317466977","html_url":"https://github.com/apache/storm/pull/2207#issuecomment-317466977","issue_url":"https://api.github.com/repos/apache/storm/issues/2207","id":317466977,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzQ2Njk3Nw==","user":{"login":"liu-zhaokun","id":25218975,"node_id":"MDQ6VXNlcjI1MjE4OTc1","avatar_url":"https://avatars.githubusercontent.com/u/25218975?v=4","gravatar_id":"","url":"https://api.github.com/users/liu-zhaokun","html_url":"https://github.com/liu-zhaokun","followers_url":"https://api.github.com/users/liu-zhaokun/followers","following_url":"https://api.github.com/users/liu-zhaokun/following{/other_user}","gists_url":"https://api.github.com/users/liu-zhaokun/gists{/gist_id}","starred_url":"https://api.github.com/users/liu-zhaokun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liu-zhaokun/subscriptions","organizations_url":"https://api.github.com/users/liu-zhaokun/orgs","repos_url":"https://api.github.com/users/liu-zhaokun/repos","events_url":"https://api.github.com/users/liu-zhaokun/events{/privacy}","received_events_url":"https://api.github.com/users/liu-zhaokun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T15:51:54Z","updated_at":"2017-07-24T15:51:54Z","author_association":"CONTRIBUTOR","body":"@revans2\r\nYou are right.I created several PRs which has been mergerd that is related to ACL. I will update SECURITY.md in a new PR with these changes  later.Could you help me merge this PR firstly?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317466977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680263","html_url":"https://github.com/apache/storm/issues/5182#issuecomment-2612680263","issue_url":"https://api.github.com/repos/apache/storm/issues/5182","id":2612680263,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODAyNjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T16:01:30Z","updated_at":"2025-01-24T14:36:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ethanli\">ethanli</a>:</i>\n<p>Hi <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=parth.brahmbhatt\" class=\"user-hover\" rel=\"parth.brahmbhatt\">Parth Brahmbhatt</a> We have a similar request for this feature. It seems that you haven't touched this issue for almost one year. Is that OK for me to take it over? Thanks very much!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612656855","html_url":"https://github.com/apache/storm/issues/5116#issuecomment-2612656855","issue_url":"https://api.github.com/repos/apache/storm/issues/5116","id":2612656855,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTY4NTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T18:03:47Z","updated_at":"2025-01-24T14:25:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\" class=\"user-hover\" rel=\"kabhwan\">Jungtaek Lim</a>,</p>\n\n<p>I merged this into master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612656855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317527818","html_url":"https://github.com/apache/storm/pull/2238#issuecomment-317527818","issue_url":"https://api.github.com/repos/apache/storm/issues/2238","id":317527818,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzUyNzgxOA==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T19:22:57Z","updated_at":"2017-07-24T19:22:57Z","author_association":"CONTRIBUTOR","body":"Changes:\r\n![image](https://user-images.githubusercontent.com/14900612/28540603-908a9b42-707b-11e7-8fd3-9c8d1ad5d4b3.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317527818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317538255","html_url":"https://github.com/apache/storm/pull/2218#issuecomment-317538255","issue_url":"https://api.github.com/repos/apache/storm/issues/2218","id":317538255,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzUzODI1NQ==","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T20:03:55Z","updated_at":"2017-07-24T20:03:55Z","author_association":"NONE","body":"fyi, you can emulate pinning by setting the entry's weight to zero. Then the entry will not be evicted, but is eligible for expiration, etc. Of course zero weight entries means the cache allows more entries overall, whereas pinning might still restrict overall capacity. But its not clear how to a cache should handle evictions when not enough space can be freed from unpinned entries.\r\n\r\nThe other approach is less elegant. A `CacheWriter` can intercept an eviction and a `CacheLoader` intercepts gets to fetch a missing entry. Since recursive computations are disallowed, the writer could re-put the entry asynchronously. This races with a `get`, so the loader could fetch from the map prior to some other data store. In some ways not too dissimilar to your own pinned cache.\r\n\r\nIn general pinning breaks the caching model of recomputable transient state and the eviction policy will try to avoid pollution by removing low-value entries early. Generally it can lead to O(n) evictions unless maintained in a dedicated LRU queue so that potential victims are not evaluated. Since pinning vs capacity is confusing, right now Caffeine favors zero weights since the use-cases are unclear.\r\n\r\nHope that helps. I agree your own logic may be more straightforward and preferable.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317538255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317543896","html_url":"https://github.com/apache/storm/pull/2239#issuecomment-317543896","issue_url":"https://api.github.com/repos/apache/storm/issues/2239","id":317543896,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzU0Mzg5Ng==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-24T20:26:11Z","updated_at":"2017-07-24T20:27:04Z","author_association":"CONTRIBUTOR","body":"Tested it manually.\r\n![image](https://user-images.githubusercontent.com/14900612/28543136-63cd9718-7084-11e7-9ba5-a3509cc8b13b.png)\r\nThanks @revans2 for instructions.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317543896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317605991","html_url":"https://github.com/apache/storm/pull/2224#issuecomment-317605991","issue_url":"https://api.github.com/repos/apache/storm/issues/2224","id":317605991,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzYwNTk5MQ==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T01:57:24Z","updated_at":"2017-07-25T01:57:24Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317605991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317612521","html_url":"https://github.com/apache/storm/pull/2240#issuecomment-317612521","issue_url":"https://api.github.com/repos/apache/storm/issues/2240","id":317612521,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzYxMjUyMQ==","user":{"login":"liu-zhaokun","id":25218975,"node_id":"MDQ6VXNlcjI1MjE4OTc1","avatar_url":"https://avatars.githubusercontent.com/u/25218975?v=4","gravatar_id":"","url":"https://api.github.com/users/liu-zhaokun","html_url":"https://github.com/liu-zhaokun","followers_url":"https://api.github.com/users/liu-zhaokun/followers","following_url":"https://api.github.com/users/liu-zhaokun/following{/other_user}","gists_url":"https://api.github.com/users/liu-zhaokun/gists{/gist_id}","starred_url":"https://api.github.com/users/liu-zhaokun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liu-zhaokun/subscriptions","organizations_url":"https://api.github.com/users/liu-zhaokun/orgs","repos_url":"https://api.github.com/users/liu-zhaokun/repos","events_url":"https://api.github.com/users/liu-zhaokun/events{/privacy}","received_events_url":"https://api.github.com/users/liu-zhaokun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T02:43:26Z","updated_at":"2017-07-25T02:43:26Z","author_association":"CONTRIBUTOR","body":"@revans2 \r\nHello,I have updated SECURITY.MD,review it,please.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317612521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317626974","html_url":"https://github.com/apache/storm/pull/2218#issuecomment-317626974","issue_url":"https://api.github.com/repos/apache/storm/issues/2218","id":317626974,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzYyNjk3NA==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T04:38:27Z","updated_at":"2017-07-25T04:38:27Z","author_association":"CONTRIBUTOR","body":"@ben-manes , thanks for the insights. Right now the custom logic is kind of straightforward. May be I will attempt to provide an alternate implementation on top of Caffeine which could be useful in future.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317626974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317653131","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-317653131","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":317653131,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzY1MzEzMQ==","user":{"login":"avermeer","id":17863217,"node_id":"MDQ6VXNlcjE3ODYzMjE3","avatar_url":"https://avatars.githubusercontent.com/u/17863217?v=4","gravatar_id":"","url":"https://api.github.com/users/avermeer","html_url":"https://github.com/avermeer","followers_url":"https://api.github.com/users/avermeer/followers","following_url":"https://api.github.com/users/avermeer/following{/other_user}","gists_url":"https://api.github.com/users/avermeer/gists{/gist_id}","starred_url":"https://api.github.com/users/avermeer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avermeer/subscriptions","organizations_url":"https://api.github.com/users/avermeer/orgs","repos_url":"https://api.github.com/users/avermeer/repos","events_url":"https://api.github.com/users/avermeer/events{/privacy}","received_events_url":"https://api.github.com/users/avermeer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T07:24:38Z","updated_at":"2017-07-25T07:24:38Z","author_association":"CONTRIBUTOR","body":"Hello Roshan,\n\nThank you very much for your huge work for improving Storm performances!\n\nRegarding \"competitive perf evaluation\", would you say that now the reasons\nwhy SuperCheif team moved away from Storm to their homebrewed streaming\nprocessing system in 2015 (see http://blog.librato.com/posts/superchief) no\nlonger hold?\n\nBest regards,\nAlexandre Vermeerbergen\n\n2017-07-25 8:58 GMT+02:00 Satish Duggana <notifications@github.com>:\n\n> *@satishd* commented on this pull request.\n>\n> Nice Work Roshan!\n> Had an initial look at the code and left few comments(mostly minor),\n> Overall LGTM.\n> ------------------------------\n>\n> In conf/defaults.yaml\n> <https://github.com/apache/storm/pull/2241#discussion_r129208440>:\n>\n> > @@ -146,7 +149,7 @@ supervisor.run.worker.as.user: false\n>  #how long supervisor will wait to ensure that a worker process is started\n>  supervisor.worker.start.timeout.secs: 120\n>  #how long between heartbeats until supervisor considers that worker dead and tries to restart it\n> -supervisor.worker.timeout.secs: 30\n> +supervisor.worker.timeout.secs: 30000\n>\n> Is this really a deliberate change?\n> ------------------------------\n>\n> In conf/defaults.yaml\n> <https://github.com/apache/storm/pull/2241#discussion_r129208570>:\n>\n> > @@ -253,11 +247,16 @@ topology.trident.batch.emit.interval.millis: 500\n>  topology.testing.always.try.serialize: false\n>  topology.classpath: null\n>  topology.environment: null\n> -topology.bolts.outgoing.overflow.buffer.enable: false\n> -topology.disruptor.wait.timeout.millis: 1000\n> -topology.disruptor.batch.size: 100\n> -topology.disruptor.batch.timeout.millis: 1\n> -topology.disable.loadaware.messaging: false\n> +topology.bolts.outgoing.overflow.buffer.enable: false # TODO: Roshan : Whats this ?\n> +topology.disruptor.wait.timeout.millis: 1000  # TODO: Roshan: not used, but we may/not want this behavior\n> +topology.transfer.buffer.size: 50000\n> +topology.transfer.batch.size: 10\n> +topology.executor.receive.buffer.size: 50000\n> +topology.producer.batch.size: 1000  # TODO: Roshan:  rename\n> +topology.flush.tuple.freq.millis: 5000\n>\n> nit: Better to add a comment describing about this property.\n> ------------------------------\n>\n> In conf/defaults.yaml\n> <https://github.com/apache/storm/pull/2241#discussion_r129208678>:\n>\n> > @@ -304,6 +303,7 @@ storm.cgroup.resources:\n>  storm.cgroup.hierarchy.name: \"storm\"\n>  storm.supervisor.cgroup.rootdir: \"storm\"\n>  storm.cgroup.cgexec.cmd: \"/bin/cgexec\"\n> +storm.cgroup.cgexec.cmd: \"/bin/cgexec\"\n>\n> may be an accidental copy, needs to be removed.\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/task/IOutputCollector.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129209017>:\n>\n> > @@ -30,4 +31,5 @@\n>      void ack(Tuple input);\n>      void fail(Tuple input);\n>      void resetTimeout(Tuple input);\n> +    void flush();\n>\n> May want to add some javadoc about the same. It seems we are ready to\n> break the APIs with new set of changes in this redesign.\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/daemon/worker/WorkerState.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129212155>:\n>\n> >\n> -        for (Map.Entry<Integer, List<AddressedTuple>> entry : grouped.entrySet()) {\n> -            DisruptorQueue queue = shortExecutorReceiveQueueMap.get(entry.getKey());\n> -            if (null != queue) {\n> -                queue.publish(entry.getValue());\n> -            } else {\n> -                LOG.warn(\"Received invalid messages for unknown tasks. Dropping... \");\n> +    private void transferLocalBatch(List<AddressedTuple> tupleBatch) {\n> +        try {\n> +            for (int i = 0; i < tupleBatch.size(); i++) {\n>\n> Does foreach have significant perf issue?\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/daemon/Acker.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129214432>:\n>\n> > @@ -66,6 +67,7 @@ public void prepare(Map<String, Object> topoConf, TopologyContext context, Outpu\n>\n>      @Override\n>      public void execute(Tuple input) {\n> +        long start = System.currentTimeMillis();\n>\n> nit: start is never used.\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/daemon/GrouperFactory.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129214771>:\n>\n> > @@ -137,7 +137,7 @@ public void prepare(WorkerTopologyContext context, GlobalStreamId stream, List<I\n>      public static class FieldsGrouper implements CustomStreamGrouping {\n>\n>          private Fields outFields;\n> -        private List<Integer> targetTasks;\n> +        private ArrayList<List<Integer> > targetTasks;\n>\n> nit: No need to change from List to ArrayList.\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/daemon/Task.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129215798>:\n>\n> > @@ -246,4 +291,26 @@ private void addTaskHooks() {\n>          }\n>      }\n>\n> +    private static HashMap<String, ArrayList<LoadAwareCustomStreamGrouping>> getGroupersPerStream(Map<String, Map<String, LoadAwareCustomStreamGrouping>> streamComponentToGrouper) {\n>\n> nit: This can return Map<String, List<LoadAwareCustomStreamGrouping>\n> instead of implementations.\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/daemon/Task.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129216374>:\n>\n> >      public List<Integer> getOutgoingTasks(String stream, List<Object> values) {\n>          if (debug) {\n>              LOG.info(\"Emitting Tuple: taskId={} componentId={} stream={} values={}\", taskId, componentId, stream, values);\n>          }\n>\n> -        List<Integer> outTasks = new ArrayList<>();\n> -        if (!streamComponentToGrouper.containsKey(stream)) {\n> -            throw new IllegalArgumentException(\"Unknown stream ID: \" + stream);\n> -        }\n> -        if (null != streamComponentToGrouper.get(stream)) {\n> -            // null value for __system\n> -            for (LoadAwareCustomStreamGrouping grouper : streamComponentToGrouper.get(stream).values()) {\n> +        ArrayList<Integer> outTasks = new ArrayList<>();\n> +\n> +        // TODO: PERF: expensive hashtable lookup in critical path\n>\n> Is this an expensive hit? This map may not contain many keys(no of streams\n> defined for this task).\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/executor/spout/SpoutExecutor.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129217706>:\n>\n> >          this.outputCollectors = new ArrayList<>();\n> -        for (Map.Entry<Integer, Task> entry : idToTask.entrySet()) {\n> -            Task taskData = entry.getValue();\n> +        for (int i=0; i<idToTask.size(); ++i) {\n>\n> Why did we replace with this instead of using foreach with\n> idToTask.entrySet() as that does not need any map lookups?\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/executor/spout/SpoutExecutor.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129217748>:\n>\n> >          this.outputCollectors = new ArrayList<>();\n> -        for (Map.Entry<Integer, Task> entry : idToTask.entrySet()) {\n> -            Task taskData = entry.getValue();\n> +        for (int i=0; i<idToTask.size(); ++i) {\n> +            Task taskData = idToTask.get(i);\n> +            if (taskData==null)\n>\n> Is this a valid condition? I guess taskData can never be null.\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/executor/ExecutorShutdown.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129218102>:\n>\n> >\n> -    public ExecutorShutdown(Executor executor, List<Utils.SmartThread> threads, Map<Integer, Task> taskDatas) {\n> +    public ExecutorShutdown(Executor executor, List<Utils.SmartThread> threads, ArrayList<Task> taskDatas) {\n>\n> nit: taskDatas as List\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/executor/ExecutorTransfer.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129218772>:\n>\n> >          }\n>      }\n> +\n> +    private void flushRemotes() throws InterruptedException {\n> +        workerData.flushRemotes();\n> +    }\n> +\n> +    public boolean transferLocal(AddressedTuple tuple) throws InterruptedException {\n> +        workerData.checkSerialize(serializer, tuple);\n>\n> I guess this should be done only when it is determined to be sending to\n> local task. So, this should be pushed to just before queue.publish(tuple)\n> below.\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/grouping/ShuffleGrouping.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129219489>:\n>\n> >      private ArrayList<List<Integer>> choices;\n> -    private AtomicInteger current;\n> +    private int current = 0 ;\n>\n> You changed this to non threadsafe. Is this instance not shared by\n> multiple components?\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/tuple/TupleImpl.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129220412>:\n>\n> >          }\n>      }\n>\n> -    public TupleImpl(GeneralTopologyContext context, List<Object> values, int taskId, String streamId, MessageId id) {\n> +    public TupleImpl(GeneralTopologyContext context, List<Object> values, String srcComponent, int taskId, String streamId, MessageId id) {\n>\n> Why do we need to have this to be passed in constructor as that can be\n> derived like below from the existing arguments? This constructor change is\n> spread across all usages.\n> srcComponent = context.getComponentId(taskId)\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/utils/TransferDrainer.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129222974>:\n>\n> >    private static final Logger LOG = LoggerFactory.getLogger(TransferDrainer.class);\n> -\n> -  public void add(HashMap<Integer, ArrayList<TaskMessage>> taskTupleSetMap) {\n> -    for (Map.Entry<Integer, ArrayList<TaskMessage>> entry : taskTupleSetMap.entrySet()) {\n> -      addListRefToMap(this.bundles, entry.getKey(), entry.getValue());\n> +\n> +  // Cache the msgs grouped by destination node\n> +  public void add(TaskMessage taskMsg) {\n> +    int destId = taskMsg.task();\n> +    ArrayList<TaskMessage> msgs = bundles.get(destId);\n>\n> we can have bundles.computeIfAbsent(destId, integer -> new ArrayList<>());\n> removing null check, creating list and put that into bundles map.\n> ------------------------------\n>\n> In storm-client/src/jvm/org/apache/storm/utils/TransferDrainer.java\n> <https://github.com/apache/storm/pull/2241#discussion_r129223991>:\n>\n> >    private static final Logger LOG = LoggerFactory.getLogger(TransferDrainer.class);\n> -\n> -  public void add(HashMap<Integer, ArrayList<TaskMessage>> taskTupleSetMap) {\n> -    for (Map.Entry<Integer, ArrayList<TaskMessage>> entry : taskTupleSetMap.entrySet()) {\n> -      addListRefToMap(this.bundles, entry.getKey(), entry.getValue());\n> +\n> +  // Cache the msgs grouped by destination node\n> +  public void add(TaskMessage taskMsg) {\n>\n> It seems add and send are always invoked in the same thread from\n> (JCQueue.Consumer's accept and flush) and there is no contention. Is that\n> right?\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/storm/pull/2241#pullrequestreview-51955774>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ARCSMfGDBX-tlWGOS3zMhYmPFFFA8yMYks5sRZIvgaJpZM4OiB-Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317653131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680266","html_url":"https://github.com/apache/storm/issues/5182#issuecomment-2612680266","issue_url":"https://api.github.com/repos/apache/storm/issues/5182","id":2612680266,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODAyNjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T13:34:13Z","updated_at":"2025-01-24T14:36:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ethanli\">ethanli</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=parth.brahmbhatt\" class=\"user-hover\" rel=\"parth.brahmbhatt\">Parth Brahmbhatt</a> I think I will just start working on it. Please let me know if you want to continue your work. Thanks.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317749145","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317749145","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317749145,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzc0OTE0NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T14:08:28Z","updated_at":"2017-07-25T14:08:28Z","author_association":"CONTRIBUTOR","body":"@Ethanlm Great news for me to figure it out. I just added pair of `username` & `username@domain` while testing so didn't recognize the issue.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317749145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317778234","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-317778234","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":317778234,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzc3ODIzNA==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T15:37:10Z","updated_at":"2017-07-25T15:42:46Z","author_association":"MEMBER","body":"@roshannaik Did you run any topologies with trident topologies in distributed mode with these changes?\r\nYou may want to look at travis failures some of them looks to be related.\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317778234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317783933","html_url":"https://github.com/apache/storm/pull/2242#issuecomment-317783933","issue_url":"https://api.github.com/repos/apache/storm/issues/2242","id":317783933,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzc4MzkzMw==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T15:56:07Z","updated_at":"2017-07-25T15:56:07Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/14900612/28581457-dbccf2ec-7127-11e7-8aa0-cd66a3ac8ffa.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317783933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317789325","html_url":"https://github.com/apache/storm/pull/2204#issuecomment-317789325","issue_url":"https://api.github.com/repos/apache/storm/issues/2204","id":317789325,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzc4OTMyNQ==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T16:14:20Z","updated_at":"2017-07-25T16:23:46Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR That's great. I filed a PR addressing this bug. https://github.com/apache/storm/pull/2239 Could you please review it when you get a chance? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317789325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680270","html_url":"https://github.com/apache/storm/issues/5182#issuecomment-2612680270","issue_url":"https://api.github.com/repos/apache/storm/issues/5182","id":2612680270,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODAyNzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T16:26:53Z","updated_at":"2025-01-24T14:36:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=parth.brahmbhatt\">parth.brahmbhatt</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ethanli\" class=\"user-hover\" rel=\"ethanli\">Ethan Li</a> Sorry for not replying earlier, please go ahead and assign the jira to your self. I do not plan to work on this anymore.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680273","html_url":"https://github.com/apache/storm/issues/5182#issuecomment-2612680273","issue_url":"https://api.github.com/repos/apache/storm/issues/5182","id":2612680273,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODAyNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T16:28:34Z","updated_at":"2025-01-24T14:36:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ethanli\">ethanli</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=parth.brahmbhatt\" class=\"user-hover\" rel=\"parth.brahmbhatt\">Parth Brahmbhatt</a> Thanks</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317862867","html_url":"https://github.com/apache/storm/pull/2113#issuecomment-317862867","issue_url":"https://api.github.com/repos/apache/storm/issues/2113","id":317862867,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzg2Mjg2Nw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T20:30:50Z","updated_at":"2017-07-25T20:30:50Z","author_association":"CONTRIBUTOR","body":"@srdo @kishorvpatil @jerrypeng \r\n\r\nI just rebased this on the latest master and added in a few caches in some of the internal data structures to help with performance issues we had seen in production.  Please take a look again, I really would like to get this in sooner rather then later as we have some other work we want to do on the RAS scheduler to add in generic resource support (we have a goal to officially support GPUs)","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317862867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317877327","html_url":"https://github.com/apache/storm/pull/2200#issuecomment-317877327","issue_url":"https://api.github.com/repos/apache/storm/issues/2200","id":317877327,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzg3NzMyNw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T21:25:44Z","updated_at":"2017-07-25T21:25:44Z","author_association":"CONTRIBUTOR","body":"@srdo I think I have addressed all of your concerns.  Great suggestions by the way.  Please have another look.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317877327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317879907","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-317879907","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":317879907,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzg3OTkwNw==","user":{"login":"roshannaik","id":2366541,"node_id":"MDQ6VXNlcjIzNjY1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/2366541?v=4","gravatar_id":"","url":"https://api.github.com/users/roshannaik","html_url":"https://github.com/roshannaik","followers_url":"https://api.github.com/users/roshannaik/followers","following_url":"https://api.github.com/users/roshannaik/following{/other_user}","gists_url":"https://api.github.com/users/roshannaik/gists{/gist_id}","starred_url":"https://api.github.com/users/roshannaik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roshannaik/subscriptions","organizations_url":"https://api.github.com/users/roshannaik/orgs","repos_url":"https://api.github.com/users/roshannaik/repos","events_url":"https://api.github.com/users/roshannaik/events{/privacy}","received_events_url":"https://api.github.com/users/roshannaik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T21:36:09Z","updated_at":"2017-07-25T23:27:14Z","author_association":"CONTRIBUTOR","body":"@avermeer Looks like SuperChief blog is relaying the same basic claims that Heron has marketed. Since you ask, i will share my opinions wrt Heron's claims. \r\n\r\n- Heron has never been a player in the high performance club. They have been smart about not comparing themselves with the real top performers of the day. I only included them here because they have made much noise against Storm, otherwise not interesting in a perf shootout. \r\n- They are smart about not mentioning which version of Storm they are comparing with (how does a paper with such critical info missing get accepted ?). That creates an illusion in people that their perf claims apply to all versions of Storm in general... even if Storm [publishes new perf numbers](hortonworks.com/blog/microbenchmarking-storm-1-0-performance/) comparing itself to a prior version.\r\n- Heron's threading model (1 thread per process.. based on what i gather from their articles), is really primitive for this application domain.  I don't recommend it, but by setting 'topology.workers' equal to the number of spout& bolt instances, Storm can be run in Heron mode.\r\n-  I find it much easier to debug a process with multiple components using a debugger rather starting separate debuggers for every instance of spout/bolt. Also, I would imagine, having so many processes means you have an explosion of log files to deal with when triaging. \r\n- Unclear why the recovery model (when worker process crashes) is any better ... the same kind of replay from the spout would be required. The gains may be minor if any. Making minor optimizations to the failure path and penalizing the normal operation path... is backwards.\r\n- Cant get a stack from a Storm worker ? Thats clearly false. Try it yourself. I do it all the time. Heapdumps, on the other hand, can stall the worker and if the heap size is really large the supervisor might feel the worker is having a problem. There are timeouts that you can increase to for the supervisor to wait longer. I cant imagine that Heron doesn't monitor their workers and restart them if they are not responsive.\r\n-  Heron's Backpressure model is simply too overweight, but marketed as a novel idea.\r\n- A quick read of their latest perf blog, noted in the comparison, and it was evident that they missed recognizing their real perf problem.\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317879907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317886107","html_url":"https://github.com/apache/storm/pull/2113#issuecomment-317886107","issue_url":"https://api.github.com/repos/apache/storm/issues/2113","id":317886107,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzg4NjEwNw==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T22:02:07Z","updated_at":"2017-07-25T22:02:07Z","author_association":"CONTRIBUTOR","body":"+1, though I'll admit to just skimming it this time. It would be easier to tell what changed if the non-merge-conflict-resolution changes were in separate commits.\r\n\r\nIt might make sense to drop a line to @roshannaik before merging, I think he asked on the mailing list to be made aware of changes to storm-client due to https://github.com/apache/storm/pull/2241","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317886107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317887804","html_url":"https://github.com/apache/storm/pull/2200#issuecomment-317887804","issue_url":"https://api.github.com/repos/apache/storm/issues/2200","id":317887804,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzg4NzgwNA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T22:09:23Z","updated_at":"2017-07-25T22:09:23Z","author_association":"CONTRIBUTOR","body":"Thanks, it looks great. +1","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317887804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317902249","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-317902249","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":317902249,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzkwMjI0OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T23:26:59Z","updated_at":"2017-07-25T23:26:59Z","author_association":"CONTRIBUTOR","body":"@roshannaik \r\nFirst of all, great work! The numbers are impressive.\r\n\r\nBefore going into this deeply, I would like to see the comparison between current master branch vs this patch (say, before and after) so that we can see the impact of the patch clearly. IMO this kind of comparison is required basically on every performance patch.\r\n\r\n@revans2 brought awesome analysis when introducing disruptor batching. \r\nhttps://github.com/apache/storm/pull/765#issuecomment-147124664\r\nhttps://github.com/apache/storm/pull/765#issuecomment-149987537\r\n\r\nIt should be great if we can see similar analysis for this patch too, only if you don't really mind. You can put your analysis with details on it.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317902249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317904502","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-317904502","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":317904502,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzkwNDUwMg==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T23:42:04Z","updated_at":"2017-07-25T23:42:04Z","author_association":"MEMBER","body":"Let's not be too hard on the Heron community. Yes, in the past they've not been exactly friendly in terms of marketing and technical claims,  but now that Heron is incubating as an Apache project (full disclosure: I'm a mentor), there's a chance that that might change. A collaborative relationship with the Heron community has potential benefit, an adversarial one not so much.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317904502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317906302","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-317906302","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":317906302,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzkwNjMwMg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-25T23:54:20Z","updated_at":"2017-07-26T00:03:46Z","author_association":"CONTRIBUTOR","body":"@avermeer \r\nAs @roshannaik stated, we addressed many parts of performance bottleneck on Storm 1.0.0. The paper about Heron and blog post on SuperChief referred old version of Storm so it doesn't even hold for 1.0.0.\r\n(Yes I understand they can't pick 1.0.0 to compare since 1.1.0 is released at Apr. 2016.)\r\n\r\nI think we learnt a lot and adopt some parts of them like back pressure from Heron's paper (though we implemented in different way), but personally also wonder of their points of performance gaining, especially 1 computational thread on 1 worker. Message should be serialized even across the workers in a node, and the cost of serialization/deserialization is not that cheap.\r\n\r\nUnlike TPC on SQL world, I think there's no general clear way of benchmark in Streaming, so claiming that A is N times faster than B could hide too much detail. Most of frameworks has their own characteristics hence excels on specific use case or performance test. Moreover, developer from A doesn't know about B deeply so most of time fails to set variables optimized specifically for the test.\r\n\r\nThat's why I prefer comparing with our own history much instead of comparing it with others.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317906302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317918605","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-317918605","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":317918605,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzkxODYwNQ==","user":{"login":"roshannaik","id":2366541,"node_id":"MDQ6VXNlcjIzNjY1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/2366541?v=4","gravatar_id":"","url":"https://api.github.com/users/roshannaik","html_url":"https://github.com/roshannaik","followers_url":"https://api.github.com/users/roshannaik/followers","following_url":"https://api.github.com/users/roshannaik/following{/other_user}","gists_url":"https://api.github.com/users/roshannaik/gists{/gist_id}","starred_url":"https://api.github.com/users/roshannaik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roshannaik/subscriptions","organizations_url":"https://api.github.com/users/roshannaik/orgs","repos_url":"https://api.github.com/users/roshannaik/repos","events_url":"https://api.github.com/users/roshannaik/events{/privacy}","received_events_url":"https://api.github.com/users/roshannaik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T01:18:26Z","updated_at":"2017-07-26T01:19:16Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR the current master clocks little over 3 mill/sec  for the ConstSpoutNullBolt Topo without ACKing.  On the latency end, with ACK enabled i saw numbers in multiple **seconds** with batchSz=1 for master and touching as low  ~30 microseconds with the new patch.\r\n\r\nMore analysis?  I thought I might have spent too much time providing measurements of various kinds, both in the design docs and here. :-) \r\n\r\nActually I have only presented a few pruned down numbers that I felt were interesting, in which case I was a bit meticulous to record the numbers. Given the scope of this patch, meticulously recording and cataloging all the perf tests that I have done (both high level profiler data & low level hardware perf counters) and performing the many more tests that I could have done, will take forever. I felt, ROI was -ve to rigorously pursue some of those measurements any further. \r\n\r\nIf you feel some other critical measurements are necessary, bring it up.\r\n\r\nBatching is a small aspect of this patch. I had done some quick tests to determine a default that appears to be a modest sweetspot for high throughput low latency topos, but not enough to provide a rigorous analysis. As batch size is very dependent on topology components, deployment size and ack-mode, IMO the search for a more generally optimal batch size is not important right now.\r\n\r\nI think we will have more publish worthy analysis once these changes stabilize and get more testing.\r\n\r\nOn a related note, about latency and ACK-mode, during my recent measurements, I noticed an issue in ACK mode, both in current master and optimized version, perf degrades with time (for certain batch sizes)... Something I had not noticed on the old version of master on which I had based my changes for a long time. I will share these observations soon.\r\nThis needs to be looked into before we have an official release. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317918605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/317966313","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-317966313","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":317966313,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzk2NjMxMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T06:59:02Z","updated_at":"2017-07-26T06:59:02Z","author_association":"CONTRIBUTOR","body":"@roshannaik \r\nI didn't mean to require additional load on you. I just would like to see comparison against Storm itself with suppressing variables, not competing with papers, to see impact of this patch clearly.\r\nI'll try to run performance tests (maybe ThroughputVsLatency or something in perf module) and share the result.\r\n\r\nI'll go through the code first.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/317966313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612984703","html_url":"https://github.com/apache/storm/issues/6134#issuecomment-2612984703","issue_url":"https://api.github.com/repos/apache/storm/issues/6134","id":2612984703,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5ODQ3MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T07:04:38Z","updated_at":"2025-01-24T16:57:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guangdu\">guangdu</a>:</i>\n<p>I'm not sure but seems <a href=\"https://issues.apache.org/jira/browse/STORM-2413\" title=\"New Kafka spout is ignoring retry limit\" class=\"issue-link\" data-issue-key=\"STORM-2413\"><del>STORM-2413</del></a> is the same issue and has a fix.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612984703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318023903","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318023903","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318023903,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODAyMzkwMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T11:15:17Z","updated_at":"2017-07-26T11:15:17Z","author_association":"CONTRIBUTOR","body":"Btw, we should be careful if we drop something we provided. This patch seems focus to performance optimization (especially micro), and for some spots it might not be always better. One example is disabling load aware by default.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318023903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318027352","html_url":"https://github.com/apache/storm/pull/2239#issuecomment-318027352","issue_url":"https://api.github.com/repos/apache/storm/issues/2239","id":318027352,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODAyNzM1Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T11:33:45Z","updated_at":"2017-07-26T11:33:45Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nMaybe better to address this also for 1.x branch as well.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318027352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318028023","html_url":"https://github.com/apache/storm/pull/2244#issuecomment-318028023","issue_url":"https://api.github.com/repos/apache/storm/issues/2244","id":318028023,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODAyODAyMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T11:37:12Z","updated_at":"2017-07-26T11:37:12Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318028023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318029443","html_url":"https://github.com/apache/storm/pull/2242#issuecomment-318029443","issue_url":"https://api.github.com/repos/apache/storm/issues/2242","id":318029443,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODAyOTQ0Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T11:45:04Z","updated_at":"2017-07-26T11:45:04Z","author_association":"CONTRIBUTOR","body":"Actually this issue is the subtask of topology online update, and topology version is expected to be set automatically to the increasing number.\r\nBut I also think this patch doesn't hurt in any way. When we support online update and have version, we can just overwrite `topology.version` only if user doesn't set custom version string.\r\nMoreover, supporting version as label looks like good idea indeed.\r\n\r\n+1 on this. Thanks @Ethanlm ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318029443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318046102","html_url":"https://github.com/apache/storm/pull/2239#issuecomment-318046102","issue_url":"https://api.github.com/repos/apache/storm/issues/2239","id":318046102,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODA0NjEwMg==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T13:01:10Z","updated_at":"2017-07-26T13:01:10Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR the biggest issue with addressing this on the 1.x branch is that the patch uses both a JDK8 specific feature (a default method in an interface) and breaks backwards compatibility with other IPrincipalToLocal plugins.\r\n\r\nWe could address this by having a static method that will create a principal that wraps the user name instead and passes that into the original PrincipalToLocal instance.  But it is not a clean port.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318046102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318050266","html_url":"https://github.com/apache/storm/pull/2239#issuecomment-318050266","issue_url":"https://api.github.com/repos/apache/storm/issues/2239","id":318050266,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODA1MDI2Ng==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T13:18:30Z","updated_at":"2017-07-26T13:18:30Z","author_association":"CONTRIBUTOR","body":"@revans2 You're right. Let's postpone until someone raises an issue once more.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318050266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318052694","html_url":"https://github.com/apache/storm/pull/2242#issuecomment-318052694","issue_url":"https://api.github.com/repos/apache/storm/issues/2242","id":318052694,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODA1MjY5NA==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T13:27:58Z","updated_at":"2017-07-26T16:29:24Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @HeartSaVioR ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318052694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318102321","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318102321","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318102321,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODEwMjMyMQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T16:08:56Z","updated_at":"2017-07-26T16:08:56Z","author_association":"CONTRIBUTOR","body":"-1\r\n\r\nPerhaps I am running into some odd issues here so if I can be corrected I would be happy to change my vote, but nothing I have run with this patch is better in any way.  Are all of the results from micro benchmarks?  Did anyone run a real topology with this patch before posting all of these wonderful results to twitter?  I am not one to swear but WTF?\r\n\r\nI built a stock 2.0.0-SNAPSHOT build (450ed637f92c3f387681a47b4b667f17eeecac1f) and compared it to the exact same release with this patch merged on top of it (which was a clean merge).  I am running\r\n\r\n```\r\n$ java -version\r\njava version \"1.8.0_121\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\r\n\r\nSierra 10.12.6\r\nMacBook Pro (Retina, 15-inch, Mid 2015)\r\n2.8 GHz Intel Core i7\r\n16 GB 1600 MHz DDR3\r\n```\r\n\r\nI ran the ThroughputVsLatency topology with several different options and no changes at all to the default storm.yaml.\r\n\r\nWith this patch I found that.\r\n\r\n1. Running a topology with more than one worker appears to not be able to send any messages between workers (or it takes so long most of the messages time out). So I switched all of my tests to a single worker.\r\n2. When processing a nearly idle topology (500 sentences/second) the CPU utilization was everything that my box could give it.  (8 cores fully utilized) compared to about one half of one core used by stock storm.\r\n3. The latency is absolutely horrible.  The minimum latency for a somewhat idle topology was 1 to 4 seconds to do a word count.  For a topology processing 10,000 sentences per second it dropped to 800 ms.  The maximum latency was 15 seconds for all of these cases.  Compare that to stock storm which has a min latency of around 3 to 4 ms for the normal case.\r\n4. The system bolt metrics do not work, or at lest I was not able to get any of them back.  I tried to compare memory and CPU usage through top, which worked out OK.\r\n5. memory usage is insane.  The resident memory was 2 GB for almost all of the workers no matter the throughput.  That is 1 GB more than stock storm for the same 10,000 sentences per second.\r\n6. The maximum throughput is about 1/4th what it is on stock storm.  I was able to to 100,000 sentences per second on my laptop.  I could do it both with a single worker, and with 4 worker (although the CPU usage was higher in the latter case). With this patch I was able to do 30,000 sentences per second in the best case, but on average it could only do about 25,000.\r\n\r\nI am happy to make all of my numbers public.  I also plan to run them on a Linux box to see if it is any different. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318102321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612945464","html_url":"https://github.com/apache/storm/issues/5810#issuecomment-2612945464","issue_url":"https://api.github.com/repos/apache/storm/issues/5810","id":2612945464,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDU0NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T16:49:38Z","updated_at":"2025-01-24T16:37:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cobracrowe\">cobracrowe</a>:</i>\n<p>Hi <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=RPCMoritz\" class=\"user-hover\" rel=\"RPCMoritz\">Rick Moritz</a>, Can I take up this one just to start as a fresh contributor. I might just follow up with the approach discussed in the description to log the connection closure and finally throwing the actual exception with appropriate message. Will also make sure to take care of the stack trace for the exception.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612945464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318120670","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318120670","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318120670,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODEyMDY3MA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T17:12:15Z","updated_at":"2017-07-26T17:12:15Z","author_association":"CONTRIBUTOR","body":"I ran again with this exact version (5c0db923ecd8e4e1ce0e325ee2fd0f25bae7b0c2) and got the same results.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318120670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612945469","html_url":"https://github.com/apache/storm/issues/5810#issuecomment-2612945469","issue_url":"https://api.github.com/repos/apache/storm/issues/5810","id":2612945469,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDU0Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T17:14:14Z","updated_at":"2025-01-24T16:37:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rpcmoritz\">rpcmoritz</a>:</i>\n<p>Sure, go right ahead - back then eventually our support partner provided a solution which was eerily similar to what I proposed here, but they failed to publish their code. I think the trickiest bit of this, is to add an Exception-throwing jdbc-connection for testing purposes. If you provide a patch, I'll happily review it - and hopefully we can get something merged.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612945469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318130801","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318130801","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318130801,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODEzMDgwMQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T17:49:19Z","updated_at":"2017-07-26T17:49:19Z","author_association":"CONTRIBUTOR","body":"I tried on Linux too and got very similar results.  The CPU and memory usage of the topology was lower but the actual throughput and latency of the topology was very similar.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318130801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318136515","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318136515","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318136515,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODEzNjUxNQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T18:09:10Z","updated_at":"2017-07-26T18:09:10Z","author_association":"CONTRIBUTOR","body":"@revans2 Do you mind posting your storm.yaml or are you running with defaults. We will try to see if we can reproduce this same behavior on our side. If there are any bugs we will work to fix it and but its shows great potential on the perf improvements. \r\nRegarding posting to twitter , Yes we are very excited about the patch and definitely want to share the results with the community. Not sure why you are getting upset about it. Its important that we make these perf improvements and also let the community know that there are continuous improvements in Storm. If you found a bug thats great thats why we've PR and review process in place. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318136515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318139688","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318139688","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318139688,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODEzOTY4OA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T18:21:16Z","updated_at":"2017-07-26T18:21:16Z","author_association":"CONTRIBUTOR","body":"@harshach I am running with defaults in all cases\r\n\r\nI build `mvn clean install -DskipTests`\r\npackage `cd storm-dist/binary; mvn clean package`\r\nuntar the result `tar -xzvf ./final-package/target/apache-storm-2.0.0-SNAPSHOT.tar.gz`\r\nmove the directory so I can save it if I want to switch back and forth `mv apache-storm-2.0.0-SNAPSHOT under-test`\r\nthen bring up the cluster\r\n```\r\ncd under-test;\r\n./bin/storm dev-zookeeper &\r\n./bin/storm nimbus &\r\n./bin/storm supervisor &\r\n./bin/storm ui &\r\n./bin/storm logviewer &\r\n```\r\n\r\nWait for everything to come up, and I can see the ui.\r\n\r\nThen I run some tests (I pull in the storm starter from the build because the packaged one does not build on its own).\r\n```\r\n./bin/storm jar ../../../examples/storm-starter/target/storm-starter-2.0.0-SNAPSHOT.jar org.apache.storm.starter.ThroughputVsLatency\r\n...\r\n./bin/storm jar ../../../examples/storm-starter/target/storm-starter-2.0.0-SNAPSHOT.jar org.apache.storm.starter.ThroughputVsLatency -c topology.workers=1\r\n...\r\n./bin/storm jar ../../../examples/storm-starter/target/storm-starter-2.0.0-SNAPSHOT.jar org.apache.storm.starter.ThroughputVsLatency 10000 -c topology.workers=1\r\n...\r\n./bin/storm jar ../../../examples/storm-starter/target/storm-starter-2.0.0-SNAPSHOT.jar org.apache.storm.starter.ThroughputVsLatency 10000 -c topology.workers=1 -c topology.max.spout.pending=500\r\n...\r\n./bin/storm jar ../../../examples/storm-starter/target/storm-starter-2.0.0-SNAPSHOT.jar org.apache.storm.starter.ThroughputVsLatency 10000 -c topology.workers=1 -c topology.max.spout.pending=1000\r\n```","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318139688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318211013","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318211013","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318211013,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODIxMTAxMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T23:20:59Z","updated_at":"2017-07-26T23:20:59Z","author_association":"CONTRIBUTOR","body":"First of all, I think I should be more careful about like / retweet. Sorry about that and just reverted all.\r\n\r\nRegarding tweet, I think it heavily depends on which accounts (who) tweet it.\r\n\r\nIf users or contributors are tweeting about this PR, we can take it like a gossip and no problem on it.\r\n\r\nIf committers or PMCs are doing it, that could be shown as kind of publicizing, especially this PR compares with other frameworks and claims Storm will be no 1. performer. If PMC members tweet about unsafe or not yet stable source, and if it turned out to another result, someone could feel we (Storm community) hype, regardless of intention.\r\nIf we say this PR could increase throughput by N times from before, that would be less problematic. I don't say no problem, but much less.\r\n\r\nIf we are doing it with official account (@ApacheStorm), that just matters, because the account could be shown as on behalf of Storm community or at least PMC members. I was the one wondering why official account retweeted about non-Storm related tweet like https://twitter.com/BoredElonMusk/status/889935279213223936 . \r\nIf we haven't talked about which things official account should (not) tweet, we may need to have a time to talk about.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318211013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318216570","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318216570","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318216570,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODIxNjU3MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-26T23:53:18Z","updated_at":"2017-07-26T23:54:03Z","author_association":"CONTRIBUTOR","body":"From now what I can suggest is... breaking down STORM-2306 to \"redesign messaging subsystem\" and \"switch to JCTools Queues\", and try out latter part first.\r\nThis patch mixes up everything (micro optimization, switching queue, messaging architecture change) in one, so hard to point out where the issue starts. Let's just have a new pull request only replacing Disruptor with JCQueue and see it helps. I'd rather lean on putting the minimal effort and make it better incrementally.\r\nAnd let's separate micro-optimization (converting map usage to array list, avoiding iterator, etc.) as another issue and don't address them from other issues. I think we should have better throughput even without them if newer subsystem is better and/or JCTools Queues are better than Disruptor in our case.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318216570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318238153","html_url":"https://github.com/apache/storm/pull/2240#issuecomment-318238153","issue_url":"https://api.github.com/repos/apache/storm/issues/2240","id":318238153,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODIzODE1Mw==","user":{"login":"liu-zhaokun","id":25218975,"node_id":"MDQ6VXNlcjI1MjE4OTc1","avatar_url":"https://avatars.githubusercontent.com/u/25218975?v=4","gravatar_id":"","url":"https://api.github.com/users/liu-zhaokun","html_url":"https://github.com/liu-zhaokun","followers_url":"https://api.github.com/users/liu-zhaokun/followers","following_url":"https://api.github.com/users/liu-zhaokun/following{/other_user}","gists_url":"https://api.github.com/users/liu-zhaokun/gists{/gist_id}","starred_url":"https://api.github.com/users/liu-zhaokun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liu-zhaokun/subscriptions","organizations_url":"https://api.github.com/users/liu-zhaokun/orgs","repos_url":"https://api.github.com/users/liu-zhaokun/repos","events_url":"https://api.github.com/users/liu-zhaokun/events{/privacy}","received_events_url":"https://api.github.com/users/liu-zhaokun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T02:10:55Z","updated_at":"2017-07-27T02:10:55Z","author_association":"CONTRIBUTOR","body":"Can one of the admins verify this patch?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318238153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318243571","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318243571","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318243571,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODI0MzU3MQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T02:51:29Z","updated_at":"2017-07-27T02:51:29Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR lets keep this discussion to reviews. This is not forum to discuss what one should tweet or not that's up to individuals. Nobody is trying to promote something that's not feasible lets not try to be a moral authority here to suggest what one can do or not. \r\nRegarding breaking this into multiple PRs addressing different subsystems, that's a reasonable ask. But lets wait before we go down that path we need to look into the issues raised here and reproduce the case.\r\nI am running few tests myself and I'll report my findings.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318243571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318249679","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318249679","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318249679,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODI0OTY3OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T03:38:11Z","updated_at":"2017-07-27T03:38:11Z","author_association":"CONTRIBUTOR","body":"@harshach \r\nAs I commented multiple times, this patch is mixed up of replacing queue, changing message subsystem, and micro-optimization. Three committers already had a look at the first pass (excluding @revans2 since he stopped reviewing) but we couldn't identify any critical problems unless @revans2 shared the test result. If we go on with this patch, we even don't know which part of change contribute s performance gain and how much it is.\r\n\r\nIf we were having PR only replacing JCTools, it is easy to review and identify the benefit, or pros/cons of replacing Disruptor with JCTools. The patch will be fairly simple to review and verify, and most of the issues raised here shouldn't be raised there (because I guess most of them are not from queue replacement).","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318249679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318251635","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318251635","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318251635,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODI1MTYzNQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T03:55:55Z","updated_at":"2017-07-27T03:55:55Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR I don't mind breaking this into multiple PRs if it helps reviewing and merging in. Its up to @roshannaik .","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318251635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318283342","html_url":"https://github.com/apache/storm/pull/2218#issuecomment-318283342","issue_url":"https://api.github.com/repos/apache/storm/issues/2218","id":318283342,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODI4MzM0Mg==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T07:34:01Z","updated_at":"2017-07-27T07:34:01Z","author_association":"CONTRIBUTOR","body":"@srdo, addressed your comments, let me know if I missed something.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318283342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318288539","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318288539","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318288539,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODI4ODUzOQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T07:58:48Z","updated_at":"2017-07-27T22:29:32Z","author_association":"CONTRIBUTOR","body":"@revans2 @HeartSaVioR \r\nHere are my findings https://docs.google.com/spreadsheets/d/1wPpC3YXp-vTIelRTUVoLxuxIYxUekiIHUpZ2ZEysC4Y/edit#gid=1644511...\r\n\r\n\r\n1. Looking at ThroughputvsLatency I found some issues:\r\n - By default it adds 51 total threads , that IMO is incorrect when benchmarking in a 4-core machine. \r\n \r\n - Also it adds two bolts for logging/measurements which might be impacting the numbers\r\nhttps://github.com/apache/storm/blob/master/examples/storm-starter/src/jvm/org/apache/storm/starter/...\r\nhttps://github.com/apache/storm/blob/master/examples/storm-starter/src/jvm/org/apache/storm/starter/...\r\n \r\n - It also throttles the spout\r\nhttps://github.com/apache/storm/blob/master/examples/storm-starter/src/jvm/org/apache/storm/starter/...\r\n\r\nI did the following changes:\r\n- Disable the HTTP and Logging bolts\r\n- Disable throttling spout, we want spout to run as fast as it can\r\n- reduced the executor counts\r\n\r\nIf you see lines from 51 - 75 \r\n\r\nApache Master clearly couldn't handle the faster spout and starts timing out. Perf degrades considerably and very quickly. Where as STORM-2306 not only was able to handle the faster spout and delivered stable and processing at more start out being 10x faster then improves to 35x faster compared to master.\r\n\r\n\r\n2. Also ran storm-perf topologies ConstSpoutIdNullBoltIdTopo and ConstSpoutNullBoltTopo. These topologies are trying to see whats the message throughput and latency when there are only 2 components involved without including any external dependencies. Essentially testing the messaging system.\r\n\r\nFrom line 3-45 you can see with this patch we are getting under 10ms (depends on the topology) compare to an avg of 250ms+. (with batchSize=1000)\r\n\r\n3. Also ran storm-examples ThroughputVsLatency with 2 workers. Here there is clearly a bug which is prevent inter-worker communication so don't have comparative numbers.\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318288539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318305990","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318305990","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318305990,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODMwNTk5MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T09:13:12Z","updated_at":"2017-07-27T09:26:41Z","author_association":"CONTRIBUTOR","body":"@harshach \r\nFor ThroughputvsLatency, throttling spout is intended. We set desired throughput and see histogram of latency and other metrics. (CPU, GC, etc.) There're 3 components in topology which parallelism would be set to 4 * worker count so total 12 executor threads per worker. I think we can parameterize the magic number 4 and adjust it while testing too.\r\n\r\nI have also done with some performance tests, without modifying TVL topology. The reason is that we should also care about non-performance-maximized topology. For benchmarking performance maximized topology we also have ConstSpoutIdBoltNullBoltTopo, so let's not modify TVL and verify this patch works with all the cases.\r\n\r\nSince this patch doesn't seem to handle inter-worker communication properly, the test set what we can do for now is very limited.\r\n\r\nHere's my machine spec used for performance test:\r\n\r\n```\r\njava version \"1.8.0_131\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n```\r\n\r\n```\r\nOS: Ubuntu 17.04\r\nCPU: AMD Ryzen 5 1600 3.2Ghz 6 core (with hyper-thread = 12 logical cores)\r\nRAM: Samsung DDR4 32G 19200\r\nSSD: Samsung 850 Evo\r\n```\r\n\r\nand here's my number (just pasted as raw number):\r\nhttps://docs.google.com/spreadsheets/d/1J3S4R68CsazlINF60rQn4XCy2Hx5QNzqVoWSO9qo2tc/edit?usp=sharing\r\n\r\nMy observation is that this patch looks impressive with performance maximized topology, but this also looks really bad (not acceptable) with relatively idle topology. \r\nI've observed all the things what @revans2 observed with TVL tests, one example is that with default parameter (or rate set to 10000, don't remember) of TVL, a worker for this patch showed over 300% (around 340%) of CPU usage whereas a worker for stock showed less than 70%. \r\nBut surprisingly this patch looks stable with ConstSpoutIdBoltNullBoltTopo and even CPU usage seems lower than stock in this test.\r\n\r\nWhile we often publicize micro-benchmark result, in practice users would run much idle topologies.\r\nI'm OK if things can be stabilized with adjusting parameters (if then I think default value should be set to support such case), but if not, it should be addressed before accepting the patch. I would be -1 until TVL results with various rate are not stable.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318305990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318322416","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318322416","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318322416,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODMyMjQxNg==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T10:22:02Z","updated_at":"2017-07-27T10:34:08Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR Its not 12 executors per worker.  If you don't pass a command-line argument, it sets parallelism variable here to 4 https://github.com/apache/storm/blob/master/examples/storm-starter/src/jvm/org/apache/storm/starter/ThroughputVsLatency.java#L277\r\nand multiplys with 4 here again https://github.com/apache/storm/blob/master/examples/storm-starter/src/jvm/org/apache/storm/starter/ThroughputVsLatency.java#L359 . So setting a parallelism unit 16 per component.  so with 3 components 48 + 2 metrics consumer + 1 acker = 51. \r\nThis is nothing to do with how many workers you've.\r\n\r\nI still need to look more in detail of TVL topology, before doing so want to write a real-world topology that reads from Kafka and writes another Kafka topic and test that out.  The issue here is not with idle topology  but a topology that is throttling the input rate and its not idle.  We've two metrics consumers with parallelism set to 1. How confident are we that the metrics consumers are not causing the issue. I'll look into these in more detail and update my findings here.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318322416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318325155","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318325155","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318325155,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODMyNTE1NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T10:34:49Z","updated_at":"2017-07-27T10:34:49Z","author_association":"CONTRIBUTOR","body":"@harshach The second argument is effectively representing worker count: you can see that topology set worker count as parallelism. I agree that the name is really misleading even I ran tests with topology.workers instead of passing second argument. (need to run test again...)","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318325155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612945475","html_url":"https://github.com/apache/storm/issues/5810#issuecomment-2612945475","issue_url":"https://api.github.com/repos/apache/storm/issues/5810","id":2612945475,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDU0NzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T11:00:16Z","updated_at":"2025-01-24T16:37:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cobracrowe\">cobracrowe</a>:</i>\n<p>Hi <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=RPCMoritz\" class=\"user-hover\" rel=\"RPCMoritz\">Rick Moritz</a>, Should I email the patch or attach it right here for the review??</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612945475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318330555","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318330555","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318330555,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODMzMDU1NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T11:02:04Z","updated_at":"2017-07-27T11:05:15Z","author_association":"CONTRIBUTOR","body":"Let me share a quick test result with passing `10000 1` to TVL parameter:\r\n\r\n> STORM-2306\r\n\r\n```\r\nuptime:   30 acked:   144,000 acked/sec:   4,800.00 failed:        0 99%:   3,070,230,527 99.9%:   3,221,225,471 min:      63,897,600 max:   3,380,609,023 mean: 1,299,365,069.36 stddev:  685,287,508.16 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:   60 acked:   303,000 acked/sec:  10,100.00 failed:        0 99%:   3,011,510,271 99.9%:   3,200,253,951 min:      28,540,928 max:   3,303,014,399 mean: 1,283,728,691.41 stddev:  671,791,145.42 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:   90 acked:   297,000 acked/sec:   9,900.00 failed:        0 99%:   3,047,161,855 99.9%:   3,307,208,703 min:      62,980,096 max:   3,737,124,863 mean: 1,283,141,447.64 stddev:  675,126,086.16 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  120 acked:   303,000 acked/sec:  10,100.00 failed:        0 99%:   3,047,161,855 99.9%:   3,206,545,407 min:      31,965,184 max:   3,347,054,591 mean: 1,284,140,763.79 stddev:  690,625,730.54 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  150 acked:   299,000 acked/sec:   9,966.67 failed:        0 99%:   3,072,327,679 99.9%:   3,231,711,231 min:      16,703,488 max:   3,414,163,455 mean: 1,320,620,493.23 stddev:  693,327,734.87 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  180 acked:   300,000 acked/sec:  10,000.00 failed:        0 99%:   3,042,967,551 99.9%:   3,248,488,447 min:      48,005,120 max:   3,846,176,767 mean: 1,313,068,274.86 stddev:  671,810,427.83 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  210 acked:   301,000 acked/sec:  10,033.33 failed:        0 99%:   3,061,841,919 99.9%:   3,363,831,807 min:      51,347,456 max:   3,802,136,575 mean: 1,297,807,219.57 stddev:  678,980,965.35 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  240 acked:   301,000 acked/sec:  10,033.33 failed:        0 99%:   3,019,898,879 99.9%:   3,208,642,559 min:      36,962,304 max:   3,363,831,807 mean: 1,315,037,518.24 stddev:  676,620,121.79 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  270 acked:   297,000 acked/sec:   9,900.00 failed:        0 99%:   3,026,190,335 99.9%:   3,200,253,951 min:      52,363,264 max:   3,349,151,743 mean: 1,308,161,023.51 stddev:  680,121,348.29 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  300 acked:   300,000 acked/sec:  10,000.00 failed:        0 99%:   3,021,996,031 99.9%:   3,200,253,951 min:      49,348,608 max:   3,317,694,463 mean: 1,335,928,012.31 stddev:  667,642,145.32 user:          0 sys:          0 gc:          0 mem:       0.00\r\n```\r\n\r\nCPU usage was around 150 ~ 250%, mostly around 160% which seemed to be a bit more stable, but still fluctuating with small rate 10000.\r\n\r\n> current\r\n\r\n```\r\nuptime:   30 acked:   140,440 acked/sec:   4,681.33 failed:        0 99%:      14,016,511 99.9%:      26,558,463 min:       2,449,408 max:      52,035,583 mean:    7,800,556.68 stddev:    1,790,982.79 user:     28,620 sys:      2,340 gc:          0 mem:      49.94\r\nuptime:   60 acked:   301,860 acked/sec:  10,062.00 failed:        0 99%:      11,141,119 99.9%:      15,351,807 min:       3,233,792 max:      26,181,631 mean:    7,479,081.72 stddev:    1,175,253.40 user:     30,270 sys:      6,800 gc:        190 mem:      54.88\r\nuptime:   90 acked:   301,600 acked/sec:  10,053.33 failed:        0 99%:      10,813,439 99.9%:      13,197,311 min:       3,246,080 max:      16,138,239 mean:    7,375,841.06 stddev:    1,112,541.35 user:     31,660 sys:      7,160 gc:        194 mem:      54.68\r\nuptime:  120 acked:   301,460 acked/sec:  10,048.67 failed:        0 99%:      11,042,815 99.9%:      13,828,095 min:       3,266,560 max:      17,285,119 mean:    7,400,672.94 stddev:    1,130,409.32 user:     29,650 sys:      7,330 gc:        200 mem:      47.80\r\nuptime:  150 acked:   301,500 acked/sec:  10,050.00 failed:        0 99%:      10,911,743 99.9%:      13,246,463 min:       3,248,128 max:      15,654,911 mean:    7,399,041.82 stddev:    1,118,368.85 user:     29,920 sys:      7,370 gc:        199 mem:      41.95\r\nuptime:  180 acked:   301,540 acked/sec:  10,051.33 failed:        0 99%:      10,969,087 99.9%:      13,598,719 min:       3,233,792 max:      16,302,079 mean:    7,390,435.62 stddev:    1,129,976.16 user:     29,840 sys:      7,190 gc:        201 mem:      41.16\r\nuptime:  210 acked:   301,540 acked/sec:  10,051.33 failed:        0 99%:      11,182,079 99.9%:      14,557,183 min:       3,246,080 max:      19,513,343 mean:    7,382,121.55 stddev:    1,161,863.92 user:     29,620 sys:      7,460 gc:        206 mem:     120.40\r\nuptime:  240 acked:   301,560 acked/sec:  10,052.00 failed:        0 99%:      10,903,551 99.9%:      13,303,807 min:       3,262,464 max:      15,187,967 mean:    7,361,940.07 stddev:    1,119,275.14 user:     29,830 sys:      7,150 gc:        205 mem:      63.19\r\nuptime:  270 acked:   301,360 acked/sec:  10,045.33 failed:        0 99%:      10,944,511 99.9%:      13,541,375 min:       3,274,752 max:      16,891,903 mean:    7,349,283.96 stddev:    1,132,254.05 user:     29,530 sys:      7,220 gc:        197 mem:     107.99\r\nuptime:  300 acked:   301,420 acked/sec:  10,047.33 failed:        0 99%:      11,132,927 99.9%:      13,967,359 min:       3,250,176 max:      16,957,439 mean:    7,315,955.89 stddev:    1,158,914.73 user:     29,220 sys:      7,590 gc:        210 mem:      49.34\r\n```\r\n\r\nCPU usage was around 120%, no outstanding fluctuation (+- 10%).","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318330555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612945478","html_url":"https://github.com/apache/storm/issues/5810#issuecomment-2612945478","issue_url":"https://api.github.com/repos/apache/storm/issues/5810","id":2612945478,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDU0Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T12:07:56Z","updated_at":"2025-01-24T16:37:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rpcmoritz\">rpcmoritz</a>:</i>\n<p>Ideally create a GitHub pull request linked to this JIRA-issue</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612945478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318346526","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318346526","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318346526,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODM0NjUyNg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T12:23:09Z","updated_at":"2017-07-27T12:23:09Z","author_association":"CONTRIBUTOR","body":"I have updated all the results for TVL with second parameter set to 1. Also added rate 50000.\r\nThe CPU usage from current master doesn't fluctuate from all of rates, even 50000, whereas with this patch the CPU usage sometimes fluctuate around 100%.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318346526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318374743","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318374743","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318374743,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODM3NDc0Mw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T14:14:26Z","updated_at":"2017-07-27T14:14:26Z","author_association":"CONTRIBUTOR","body":"@harshach \r\n\r\nReiterating what @HeartSaVioR said about benchmarking.  Most benchmarking is done where you push a system to its limits and see what maximum throughput it can do.  This is far from what a real user wants.  It looks good for a vendor to brag about I can do X but that other vendor over there can only do Y.  But it is close to worthless for what real users want to know.\r\n\r\nReal users are trying to balance the cost of the system in $ (CPU time + memory used become this, how many EC whatever instances do I need), the amount of data that they can push through the system and how quickly they can get results back.  Each of these variables are reflected by this test.  In most cases a user has a set load that they know they get typically, and a reasonable guess at a maximum load that they expect to see.  Also most users have a deadline by which the data is no good any more, if not they should be using batch.  And a budget that they have to spend on this project, if not call me I want to work for you and my salary requirements are very reasonable.\r\n\r\nYou need to give users tools to explore all three, and because the three are intertwined you want to be able to hold one or two of the variables constant while you measure the others.  Storm currently has no way to set a target SLA (I hope to add one eventually), but you can control the rate at which messages arrive and the parallelism of the topology, (which reflects the cost).  So the goal is to scan through various throughput values and various parallelisms to see what the latency is, and what resources are actually used.  In the read world we would adjust the heap size and parallelism accordingly.\r\n\r\nComplaining about a benchmark creating 51 threads relates to the parallelism that we want to explore.  If that is what I did wrong in the benchmark I am happy to adjust and reevaluate.  I want to understand how the parallelism impacts this code.  The thing that concerns me now is that it appears that scaling a topology is very different now, and I want to understand exactly how that works.\r\n\r\nI cannot easily roll out a change to my customers saying things might get a lot better or they might get a lot worse.  We need to make it easy for a user with a topology that may not have been ideal (but worked well), to continue to work well.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318374743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318379256","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318379256","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318379256,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODM3OTI1Ng==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T14:29:46Z","updated_at":"2017-07-27T14:29:46Z","author_association":"CONTRIBUTOR","body":"Sorry, but we also need to think about low throughput use cases.  I have several that I care about and I am seeing very long latency for low throughput.  \r\n\r\nmin in some cases is 5 seconds, max can be up to 20 seconds, average is around 10 seconds and the CPU utilization is 500%.  This too needs to be addressed.\r\n\r\n```\r\n500 1 -c topology.workers=1\r\nuptime:   30 acked:     4,000 acked/sec:     133.33 failed:        0 99%:   9,923,723,263 99.9%:   9,999,220,735 min:      79,036,416 max:  10,015,997,951 mean: 5,861,829,371.65 stddev: 2,744,502,279.38 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:   60 acked:    15,000 acked/sec:     500.00 failed:        0 99%:  14,646,509,567 99.9%:  14,973,665,279 min:      53,084,160 max:  15,023,996,927 mean: 7,410,713,531.31 stddev: 3,187,842,885.35 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:   90 acked:    16,000 acked/sec:     533.33 failed:        0 99%:  14,747,172,863 99.9%:  14,990,442,495 min:      37,486,592 max:  15,032,385,535 mean: 7,947,532,282.45 stddev: 3,104,232,967.22 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  120 acked:    14,000 acked/sec:     466.67 failed:        0 99%:  14,856,224,767 99.9%:  14,998,831,103 min:      65,208,320 max:  15,023,996,927 mean: 9,071,752,875.48 stddev: 3,337,053,852.19 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  150 acked:    13,000 acked/sec:     433.33 failed:        0 99%:  14,914,945,023 99.9%:  14,998,831,103 min:   4,999,610,368 max:  15,074,328,575 mean: 10,374,946,814.88 stddev: 2,794,778,136.42 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  180 acked:    16,000 acked/sec:     533.33 failed:        0 99%:  14,940,110,847 99.9%:  15,049,162,751 min:   5,007,998,976 max:  15,602,810,879 mean: 10,539,964,609.74 stddev: 2,796,155,497.39 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  210 acked:    15,000 acked/sec:     500.00 failed:        0 99%:  14,881,390,591 99.9%:  14,998,831,103 min:   5,003,804,672 max:  15,015,608,319 mean: 9,616,077,147.72 stddev: 2,781,415,317.06 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  240 acked:    10,000 acked/sec:     333.33 failed:        0 99%:  14,889,779,199 99.9%:  15,007,219,711 min:   5,003,804,672 max:  15,015,608,319 mean: 9,840,073,724.86 stddev: 2,806,028,726.32 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  270 acked:    16,000 acked/sec:     533.33 failed:        0 99%:  17,951,621,119 99.9%:  19,780,337,663 min:   5,003,804,672 max:  20,015,218,687 mean: 10,556,609,171.18 stddev: 3,010,780,308.43 user:          0 sys:          0 gc:          0 mem:       0.00\r\nuptime:  300 acked:    15,000 acked/sec:     500.00 failed:        0 99%:  14,898,167,807 99.9%:  14,998,831,103 min:      51,445,760 max:  15,023,996,927 mean: 9,694,508,448.06 stddev: 3,087,190,409.09 user:          0 sys:          0 gc:          0 mem:       0.00\r\n```\r\n\r\nI am fine with the goals and the design work being done for this.   If you can do better then the stuff I did for disruptor by all means rip out my code and make things better.  The low throughput issue was one I had to fix with my initial patches to disruptor.  People do care about this.  I am not trying to be a jerk, I am just trying to keep my customers happy, share some of my experience doing something similar in the past, and also hopefully make storm much much better in the end.\r\n\r\nI apologize if  I offended anyone.  It was not my intention, but I really was shocked to see a patch everyone was touting as better than sliced bread decidedly worse in every way for a topology that worked really well before.  I was able to max out the default configuration of a parallelism of 4 at 100,000 sentences per second fully acked.  The new patch could only handle 1/3rd of that, and not when there is more then 1 worker.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318379256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/318439020","html_url":"https://github.com/apache/storm/pull/2241#issuecomment-318439020","issue_url":"https://api.github.com/repos/apache/storm/issues/2241","id":318439020,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODQzOTAyMA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-27T17:58:58Z","updated_at":"2017-07-27T17:58:58Z","author_association":"CONTRIBUTOR","body":"I have run some more tests looking at modifying the parallelism of different components.\r\n\r\nFirst I kept the parallelism of everything else at 4 and modified the acker count.\r\n![chart_ackers](https://user-images.githubusercontent.com/3441321/28684646-bc460734-72ca-11e7-9434-8bdf2c263cab.png)\r\n\r\nI also kept the ackers at 2 spout and count at 4 and modified the splitter count\r\n![chart_splitters](https://user-images.githubusercontent.com/3441321/28684647-bc462f5c-72ca-11e7-91f8-0a4e1c748682.png)\r\n\r\nThe acker drop off at 5 is really scary,  but adding too many splitters also shows a lot of problems.  I am going to try something similar without the patch for comparison.\r\n\r\nOverall the numbers look really good in some situations, but it is really easy to slip into much worse territory.  @knusbaum said that he was able to get a multi-worker setup to work, so that is something else I want to explore. \r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/318439020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]