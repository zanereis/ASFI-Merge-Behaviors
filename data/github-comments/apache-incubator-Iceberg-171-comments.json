[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132269896","html_url":"https://github.com/apache/iceberg/pull/4742#issuecomment-1132269896","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4742","id":1132269896,"node_id":"IC_kwDOCW7NX85DfRFI","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T22:36:14Z","updated_at":"2022-05-19T22:36:14Z","author_association":"CONTRIBUTOR","body":"@rdblue @kbendick I've updated the PR with the comments addressed 👍🏻 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132269896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132271452","html_url":"https://github.com/apache/iceberg/pull/4742#issuecomment-1132271452","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4742","id":1132271452,"node_id":"IC_kwDOCW7NX85DfRdc","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T22:39:38Z","updated_at":"2022-05-19T22:39:38Z","author_association":"CONTRIBUTOR","body":"Thanks! I'll take another look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132271452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132280871","html_url":"https://github.com/apache/iceberg/pull/4683#issuecomment-1132280871","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4683","id":1132280871,"node_id":"IC_kwDOCW7NX85DfTwn","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T23:00:00Z","updated_at":"2022-05-19T23:00:00Z","author_association":"CONTRIBUTOR","body":"Thanks @aokolnychyi, @stevenzwu, @szehon-ho @chenjunjiedada. Resolved all comments. Please take a look again when you have a chance.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132280871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132359393","html_url":"https://github.com/apache/iceberg/pull/4808#issuecomment-1132359393","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4808","id":1132359393,"node_id":"IC_kwDOCW7NX85Dfm7h","user":{"login":"southernriver","id":20614350,"node_id":"MDQ6VXNlcjIwNjE0MzUw","avatar_url":"https://avatars.githubusercontent.com/u/20614350?v=4","gravatar_id":"","url":"https://api.github.com/users/southernriver","html_url":"https://github.com/southernriver","followers_url":"https://api.github.com/users/southernriver/followers","following_url":"https://api.github.com/users/southernriver/following{/other_user}","gists_url":"https://api.github.com/users/southernriver/gists{/gist_id}","starred_url":"https://api.github.com/users/southernriver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/southernriver/subscriptions","organizations_url":"https://api.github.com/users/southernriver/orgs","repos_url":"https://api.github.com/users/southernriver/repos","events_url":"https://api.github.com/users/southernriver/events{/privacy}","received_events_url":"https://api.github.com/users/southernriver/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T01:39:18Z","updated_at":"2022-05-20T01:39:18Z","author_association":"CONTRIBUTOR","body":"> since this was exposed as public APIs, how we assume no users use these stuffs?\r\n\r\nI thought there is no need to expose two identical duplicated functions, and keep one of them is ok.  \r\n\r\n```\r\ndefault Transaction newReplaceTableTransaction(\r\n      TableIdentifier identifier,\r\n      Schema schema,\r\n      PartitionSpec spec,\r\n      String location,\r\n      Map<String, String> properties,\r\n      boolean orCreate) \r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132359393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132362225","html_url":"https://github.com/apache/iceberg/issues/4802#issuecomment-1132362225","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4802","id":1132362225,"node_id":"IC_kwDOCW7NX85Dfnnx","user":{"login":"Zhangg7723","id":18146312,"node_id":"MDQ6VXNlcjE4MTQ2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18146312?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangg7723","html_url":"https://github.com/Zhangg7723","followers_url":"https://api.github.com/users/Zhangg7723/followers","following_url":"https://api.github.com/users/Zhangg7723/following{/other_user}","gists_url":"https://api.github.com/users/Zhangg7723/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangg7723/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangg7723/subscriptions","organizations_url":"https://api.github.com/users/Zhangg7723/orgs","repos_url":"https://api.github.com/users/Zhangg7723/repos","events_url":"https://api.github.com/users/Zhangg7723/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangg7723/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T01:46:14Z","updated_at":"2022-05-20T01:46:14Z","author_association":"CONTRIBUTOR","body":"The target size property in Iceberg is write.target-file-size-bytes","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132362225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132393748","html_url":"https://github.com/apache/iceberg/issues/4317#issuecomment-1132393748","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4317","id":1132393748,"node_id":"IC_kwDOCW7NX85DfvUU","user":{"login":"HongHuangNeu","id":5564376,"node_id":"MDQ6VXNlcjU1NjQzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5564376?v=4","gravatar_id":"","url":"https://api.github.com/users/HongHuangNeu","html_url":"https://github.com/HongHuangNeu","followers_url":"https://api.github.com/users/HongHuangNeu/followers","following_url":"https://api.github.com/users/HongHuangNeu/following{/other_user}","gists_url":"https://api.github.com/users/HongHuangNeu/gists{/gist_id}","starred_url":"https://api.github.com/users/HongHuangNeu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HongHuangNeu/subscriptions","organizations_url":"https://api.github.com/users/HongHuangNeu/orgs","repos_url":"https://api.github.com/users/HongHuangNeu/repos","events_url":"https://api.github.com/users/HongHuangNeu/events{/privacy}","received_events_url":"https://api.github.com/users/HongHuangNeu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T02:32:45Z","updated_at":"2022-05-20T02:32:45Z","author_association":"NONE","body":"How to convert ResolvedSchema to org.apache.flink.table.api.Schema? I am a bit confused.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132393748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132396666","html_url":"https://github.com/apache/iceberg/issues/4822#issuecomment-1132396666","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4822","id":1132396666,"node_id":"IC_kwDOCW7NX85DfwB6","user":{"login":"lirui-apache","id":5210788,"node_id":"MDQ6VXNlcjUyMTA3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5210788?v=4","gravatar_id":"","url":"https://api.github.com/users/lirui-apache","html_url":"https://github.com/lirui-apache","followers_url":"https://api.github.com/users/lirui-apache/followers","following_url":"https://api.github.com/users/lirui-apache/following{/other_user}","gists_url":"https://api.github.com/users/lirui-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/lirui-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lirui-apache/subscriptions","organizations_url":"https://api.github.com/users/lirui-apache/orgs","repos_url":"https://api.github.com/users/lirui-apache/repos","events_url":"https://api.github.com/users/lirui-apache/events{/privacy}","received_events_url":"https://api.github.com/users/lirui-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T02:38:28Z","updated_at":"2022-05-20T02:38:28Z","author_association":"CONTRIBUTOR","body":"By analyzing the heap dump, we also noticed some memory inefficiency regarding how column stats is stored. E.g. object overhead ratio is high because there's a map for each single metric.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132396666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132403162","html_url":"https://github.com/apache/iceberg/pull/4808#issuecomment-1132403162","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4808","id":1132403162,"node_id":"IC_kwDOCW7NX85Dfxna","user":{"login":"CodingCat","id":678008,"node_id":"MDQ6VXNlcjY3ODAwOA==","avatar_url":"https://avatars.githubusercontent.com/u/678008?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingCat","html_url":"https://github.com/CodingCat","followers_url":"https://api.github.com/users/CodingCat/followers","following_url":"https://api.github.com/users/CodingCat/following{/other_user}","gists_url":"https://api.github.com/users/CodingCat/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingCat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingCat/subscriptions","organizations_url":"https://api.github.com/users/CodingCat/orgs","repos_url":"https://api.github.com/users/CodingCat/repos","events_url":"https://api.github.com/users/CodingCat/events{/privacy}","received_events_url":"https://api.github.com/users/CodingCat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T02:54:37Z","updated_at":"2022-05-20T02:54:37Z","author_association":"CONTRIBUTOR","body":"well, it is not about needed or not, but more about how we manage breaking changes","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132403162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132416675","html_url":"https://github.com/apache/iceberg/issues/3117#issuecomment-1132416675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3117","id":1132416675,"node_id":"IC_kwDOCW7NX85Df06j","user":{"login":"canopenerda","id":740529,"node_id":"MDQ6VXNlcjc0MDUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/740529?v=4","gravatar_id":"","url":"https://api.github.com/users/canopenerda","html_url":"https://github.com/canopenerda","followers_url":"https://api.github.com/users/canopenerda/followers","following_url":"https://api.github.com/users/canopenerda/following{/other_user}","gists_url":"https://api.github.com/users/canopenerda/gists{/gist_id}","starred_url":"https://api.github.com/users/canopenerda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/canopenerda/subscriptions","organizations_url":"https://api.github.com/users/canopenerda/orgs","repos_url":"https://api.github.com/users/canopenerda/repos","events_url":"https://api.github.com/users/canopenerda/events{/privacy}","received_events_url":"https://api.github.com/users/canopenerda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T03:21:11Z","updated_at":"2022-05-20T03:21:11Z","author_association":"NONE","body":"Since the case I\r\n\r\n> > @xinbinhuang a tricky case would be flink on k8s creating/writing/reading iceberg table in hadoop catalog. How hadoop dependencies should be resolved in this case?\r\n> \r\n> As long as Hadoop is on the classpath, it should just work. The change simply try to defer the loading of Hadoop dependencies so that catalog that doesn't require Hadoop (i.e. Glue catalog) doesn't need the Hadoop jar on the classpath\r\n\r\n@xinbinhuang Since the case I mentioned is flink on k8s, it's not likely there would be hadoop on classpath in flink image.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132416675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132434162","html_url":"https://github.com/apache/iceberg/issues/4190#issuecomment-1132434162","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4190","id":1132434162,"node_id":"IC_kwDOCW7NX85Df5Ly","user":{"login":"lintingbin","id":5699014,"node_id":"MDQ6VXNlcjU2OTkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/5699014?v=4","gravatar_id":"","url":"https://api.github.com/users/lintingbin","html_url":"https://github.com/lintingbin","followers_url":"https://api.github.com/users/lintingbin/followers","following_url":"https://api.github.com/users/lintingbin/following{/other_user}","gists_url":"https://api.github.com/users/lintingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lintingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lintingbin/subscriptions","organizations_url":"https://api.github.com/users/lintingbin/orgs","repos_url":"https://api.github.com/users/lintingbin/repos","events_url":"https://api.github.com/users/lintingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lintingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T04:03:22Z","updated_at":"2022-05-20T04:03:22Z","author_association":"CONTRIBUTOR","body":"We also met this problem in our scenarios. We modify schema of the sink iceberg table frequently. Now I try to get the table schema through iceberg table refresh api to dynamically construct a DataStream<RowData> to add new columns. It is possible to add new columns, but writing new columns to iceberg sink does not take effect, because sink does not support dynamic update of schema.If iceberg flink sink writer can add iceberg table refresh function support, it will be more convenient to use. After all, it takes a minute or two to restart flink now. @stevenzwu ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132434162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132469759","html_url":"https://github.com/apache/iceberg/pull/4692#issuecomment-1132469759","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4692","id":1132469759,"node_id":"IC_kwDOCW7NX85DgB3_","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T04:54:55Z","updated_at":"2022-05-20T04:54:55Z","author_association":"CONTRIBUTOR","body":"\r\n> > However, we want to remove sorts automatically without users having to figure out if all files are already sorted or not.\r\n> \r\n> Yeah, I agree but I am afraid Iceberg can't do this on its own as we don't know whether there will be a shuffle. We can't remove the local sort if there is a subquery that is rewritten as a sort-merge join, can we?\r\n\r\nYea, we can't tell for sure, but wondering if you see value in allowing users who know what they are doing to turn this optimization on. We are experimenting with this at Pinterest already and see significant improvements.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132469759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132583000","html_url":"https://github.com/apache/iceberg/pull/4537#issuecomment-1132583000","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4537","id":1132583000,"node_id":"IC_kwDOCW7NX85DgdhY","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T07:39:59Z","updated_at":"2022-05-20T07:39:59Z","author_association":"MEMBER","body":"AC ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132583000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132649861","html_url":"https://github.com/apache/iceberg/pull/4662#issuecomment-1132649861","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4662","id":1132649861,"node_id":"IC_kwDOCW7NX85Dgt2F","user":{"login":"szlta","id":40628386,"node_id":"MDQ6VXNlcjQwNjI4Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/40628386?v=4","gravatar_id":"","url":"https://api.github.com/users/szlta","html_url":"https://github.com/szlta","followers_url":"https://api.github.com/users/szlta/followers","following_url":"https://api.github.com/users/szlta/following{/other_user}","gists_url":"https://api.github.com/users/szlta/gists{/gist_id}","starred_url":"https://api.github.com/users/szlta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szlta/subscriptions","organizations_url":"https://api.github.com/users/szlta/orgs","repos_url":"https://api.github.com/users/szlta/repos","events_url":"https://api.github.com/users/szlta/events{/privacy}","received_events_url":"https://api.github.com/users/szlta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T08:52:58Z","updated_at":"2022-05-20T08:52:58Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi , @rdblue or @RussellSpitzer could you please share your opinion on https://github.com/apache/iceberg/pull/4662#pullrequestreview-974341996 aka on the discrepancy in generating PartitionField names?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132649861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132671247","html_url":"https://github.com/apache/iceberg/pull/4741#issuecomment-1132671247","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4741","id":1132671247,"node_id":"IC_kwDOCW7NX85DgzEP","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T09:15:13Z","updated_at":"2022-05-20T09:15:13Z","author_association":"MEMBER","body":"> We need to remember to keep `remove_orphan_files` from deleting Statistics files\r\n\r\nFixed & test added.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132671247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132688670","html_url":"https://github.com/apache/iceberg/pull/3038#issuecomment-1132688670","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3038","id":1132688670,"node_id":"IC_kwDOCW7NX85Dg3Ue","user":{"login":"zinking","id":118241,"node_id":"MDQ6VXNlcjExODI0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/118241?v=4","gravatar_id":"","url":"https://api.github.com/users/zinking","html_url":"https://github.com/zinking","followers_url":"https://api.github.com/users/zinking/followers","following_url":"https://api.github.com/users/zinking/following{/other_user}","gists_url":"https://api.github.com/users/zinking/gists{/gist_id}","starred_url":"https://api.github.com/users/zinking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zinking/subscriptions","organizations_url":"https://api.github.com/users/zinking/orgs","repos_url":"https://api.github.com/users/zinking/repos","events_url":"https://api.github.com/users/zinking/events{/privacy}","received_events_url":"https://api.github.com/users/zinking/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T09:33:18Z","updated_at":"2022-05-20T09:33:38Z","author_association":"CONTRIBUTOR","body":"> Thanks @wypoon! I'm okay with this, but I'd prefer to return a better estimate based on number of rows and not compressed size at all. Interested to hear what @aokolnychyi thinks.\r\n\r\nwell, rows * schema size over estimates table sizes under some circumstances, for example TPCDS-sf1000 Q7 demographies dim table, causing broadcast join degrade to sort merge join.\r\n\r\nI guess it still works in 3.2 because of AQE. \r\n\r\ntotalSize * readcols size / total cols size  is what hive adopted. but certainly this is underestimating in some circumstances. \r\n\r\ncc @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132688670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132708166","html_url":"https://github.com/apache/iceberg/issues/4753#issuecomment-1132708166","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4753","id":1132708166,"node_id":"IC_kwDOCW7NX85Dg8FG","user":{"login":"shiyuhang0","id":52435083,"node_id":"MDQ6VXNlcjUyNDM1MDgz","avatar_url":"https://avatars.githubusercontent.com/u/52435083?v=4","gravatar_id":"","url":"https://api.github.com/users/shiyuhang0","html_url":"https://github.com/shiyuhang0","followers_url":"https://api.github.com/users/shiyuhang0/followers","following_url":"https://api.github.com/users/shiyuhang0/following{/other_user}","gists_url":"https://api.github.com/users/shiyuhang0/gists{/gist_id}","starred_url":"https://api.github.com/users/shiyuhang0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiyuhang0/subscriptions","organizations_url":"https://api.github.com/users/shiyuhang0/orgs","repos_url":"https://api.github.com/users/shiyuhang0/repos","events_url":"https://api.github.com/users/shiyuhang0/events{/privacy}","received_events_url":"https://api.github.com/users/shiyuhang0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T09:52:25Z","updated_at":"2022-05-20T09:52:25Z","author_association":"NONE","body":"thank you for your answer. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132708166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132711888","html_url":"https://github.com/apache/iceberg/pull/4825#issuecomment-1132711888","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4825","id":1132711888,"node_id":"IC_kwDOCW7NX85Dg8_Q","user":{"login":"sumeetgajjar","id":7351922,"node_id":"MDQ6VXNlcjczNTE5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7351922?v=4","gravatar_id":"","url":"https://api.github.com/users/sumeetgajjar","html_url":"https://github.com/sumeetgajjar","followers_url":"https://api.github.com/users/sumeetgajjar/followers","following_url":"https://api.github.com/users/sumeetgajjar/following{/other_user}","gists_url":"https://api.github.com/users/sumeetgajjar/gists{/gist_id}","starred_url":"https://api.github.com/users/sumeetgajjar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumeetgajjar/subscriptions","organizations_url":"https://api.github.com/users/sumeetgajjar/orgs","repos_url":"https://api.github.com/users/sumeetgajjar/repos","events_url":"https://api.github.com/users/sumeetgajjar/events{/privacy}","received_events_url":"https://api.github.com/users/sumeetgajjar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T09:55:20Z","updated_at":"2022-05-20T09:55:20Z","author_association":"CONTRIBUTOR","body":"Hi @kbendick @rdblue @ulmako,\r\nCan you please review this PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132711888/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132918669","html_url":"https://github.com/apache/iceberg/issues/4805#issuecomment-1132918669","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4805","id":1132918669,"node_id":"IC_kwDOCW7NX85DhveN","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T13:44:05Z","updated_at":"2022-05-20T13:44:05Z","author_association":"CONTRIBUTOR","body":"@krishahn kindly updated the doc based on your comments @samredai \r\n[Uploading Hive iceberg documentation.pdf…]()\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1132918669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133007549","html_url":"https://github.com/apache/iceberg/pull/4826#issuecomment-1133007549","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4826","id":1133007549,"node_id":"IC_kwDOCW7NX85DiFK9","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T14:57:10Z","updated_at":"2022-05-20T14:57:10Z","author_association":"MEMBER","body":"cc: @nastra, @snazy, @RussellSpitzer, @rdblue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133007549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133031311","html_url":"https://github.com/apache/iceberg/issues/3227#issuecomment-1133031311","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3227","id":1133031311,"node_id":"IC_kwDOCW7NX85DiK-P","user":{"login":"dhruv-pratap","id":11399509,"node_id":"MDQ6VXNlcjExMzk5NTA5","avatar_url":"https://avatars.githubusercontent.com/u/11399509?v=4","gravatar_id":"","url":"https://api.github.com/users/dhruv-pratap","html_url":"https://github.com/dhruv-pratap","followers_url":"https://api.github.com/users/dhruv-pratap/followers","following_url":"https://api.github.com/users/dhruv-pratap/following{/other_user}","gists_url":"https://api.github.com/users/dhruv-pratap/gists{/gist_id}","starred_url":"https://api.github.com/users/dhruv-pratap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhruv-pratap/subscriptions","organizations_url":"https://api.github.com/users/dhruv-pratap/orgs","repos_url":"https://api.github.com/users/dhruv-pratap/repos","events_url":"https://api.github.com/users/dhruv-pratap/events{/privacy}","received_events_url":"https://api.github.com/users/dhruv-pratap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T15:20:47Z","updated_at":"2022-05-20T15:20:47Z","author_association":"CONTRIBUTOR","body":"This tracker is essentially an epic and needs to be broken down further into smaller pieces. We need to break this down into the below pieces to begin with:\r\n\r\n1. Define a `TableBuilder` API to create a Table without `Transaction` to begin with.\r\n2. Create a table using `TableBuilder` API without `Transaction`.\r\n a. With table identifier and schema\r\n b. With PartitionSpec \r\n c. With SortOrder\r\n d. With Location\r\n e. With Properties\r\n3. Load a table which returns the `Table` instance with the current table spec.\r\n4. Define `Transaction` API for performing multiple updates to a table in a transaction.\r\n5. Extend the `TableBuilder` API to start create/replace transactions.\r\n6. Create a table in transaction using `Transaction` API\r\n7. Replace a table in transaction using `Transaction` API\r\n8. Create or Replace a table in transaction using `Transaction` API\r\n\r\nClass Diagrams:\r\n![TableBuilder](https://user-images.githubusercontent.com/11399509/169559989-40519b91-f423-41cc-add6-212c07d2e2f1.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133031311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133059573","html_url":"https://github.com/apache/iceberg/issues/3117#issuecomment-1133059573","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3117","id":1133059573,"node_id":"IC_kwDOCW7NX85DiR31","user":{"login":"xinbinhuang","id":27927454,"node_id":"MDQ6VXNlcjI3OTI3NDU0","avatar_url":"https://avatars.githubusercontent.com/u/27927454?v=4","gravatar_id":"","url":"https://api.github.com/users/xinbinhuang","html_url":"https://github.com/xinbinhuang","followers_url":"https://api.github.com/users/xinbinhuang/followers","following_url":"https://api.github.com/users/xinbinhuang/following{/other_user}","gists_url":"https://api.github.com/users/xinbinhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/xinbinhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinbinhuang/subscriptions","organizations_url":"https://api.github.com/users/xinbinhuang/orgs","repos_url":"https://api.github.com/users/xinbinhuang/repos","events_url":"https://api.github.com/users/xinbinhuang/events{/privacy}","received_events_url":"https://api.github.com/users/xinbinhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T15:49:23Z","updated_at":"2022-05-20T15:49:23Z","author_association":"CONTRIBUTOR","body":"> Since the case I\r\n> \r\n> > > @xinbinhuang a tricky case would be flink on k8s creating/writing/reading iceberg table in hadoop catalog. How hadoop dependencies should be resolved in this case?\r\n> > \r\n> > \r\n> > As long as Hadoop is on the classpath, it should just work. The change simply try to defer the loading of Hadoop dependencies so that catalog that doesn't require Hadoop (i.e. Glue catalog) doesn't need the Hadoop jar on the classpath\r\n> \r\n> @xinbinhuang Since the case I mentioned is flink on k8s, it's not likely there would be hadoop on classpath in flink image.\r\n\r\nAh I see. If you're using Hadoop catalog with k8s, this PR has nothing to do with it. Since you're using Hadoop catalog, you'll need to supply hadoop classes regardless. I'm not sure if bundle `hadoop-common` in your fat jar is good enough. You may also need to specify [`HADOOP_CLASSPATH`](https://nightlies.apache.org/flink/flink-docs-release-1.11/ops/deployment/hadoop.html#providing-hadoop-classes) when you [build the image](https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/native_kubernetes/#flink-on-kubernetes-reference)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133059573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133087637","html_url":"https://github.com/apache/iceberg/issues/4805#issuecomment-1133087637","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4805","id":1133087637,"node_id":"IC_kwDOCW7NX85DiYuV","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T16:15:22Z","updated_at":"2022-05-20T16:15:22Z","author_association":"CONTRIBUTOR","body":"> or we can link a 4.0.0 docker image where the users can try out Hive 4.0.0.\r\n\r\nIs this image already available or would we need to create one?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133087637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133119873","html_url":"https://github.com/apache/iceberg/issues/4805#issuecomment-1133119873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4805","id":1133119873,"node_id":"IC_kwDOCW7NX85DigmB","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T16:52:57Z","updated_at":"2022-05-20T16:52:57Z","author_association":"CONTRIBUTOR","body":"> > or we can link a 4.0.0 docker image where the users can try out Hive 4.0.0.\r\n> \r\n> Is this image already available or would we need to create one?\r\n\r\nI would have to ask @kgyrtkirk. He is the one who usually knows these stuff 😄 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133119873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133159898","html_url":"https://github.com/apache/iceberg/pull/4706#issuecomment-1133159898","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4706","id":1133159898,"node_id":"IC_kwDOCW7NX85DiqXa","user":{"login":"dhruv-pratap","id":11399509,"node_id":"MDQ6VXNlcjExMzk5NTA5","avatar_url":"https://avatars.githubusercontent.com/u/11399509?v=4","gravatar_id":"","url":"https://api.github.com/users/dhruv-pratap","html_url":"https://github.com/dhruv-pratap","followers_url":"https://api.github.com/users/dhruv-pratap/followers","following_url":"https://api.github.com/users/dhruv-pratap/following{/other_user}","gists_url":"https://api.github.com/users/dhruv-pratap/gists{/gist_id}","starred_url":"https://api.github.com/users/dhruv-pratap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhruv-pratap/subscriptions","organizations_url":"https://api.github.com/users/dhruv-pratap/orgs","repos_url":"https://api.github.com/users/dhruv-pratap/repos","events_url":"https://api.github.com/users/dhruv-pratap/events{/privacy}","received_events_url":"https://api.github.com/users/dhruv-pratap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T17:42:30Z","updated_at":"2022-05-20T17:42:30Z","author_association":"CONTRIBUTOR","body":"@rdblue Are we good to merge?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133159898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133160841","html_url":"https://github.com/apache/iceberg/issues/4813#issuecomment-1133160841","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4813","id":1133160841,"node_id":"IC_kwDOCW7NX85DiqmJ","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T17:43:41Z","updated_at":"2022-05-20T17:43:41Z","author_association":"CONTRIBUTOR","body":"Hi @Zhangg7723! You are right that bloom filter in the data files will be useful.\r\n\r\nIt is however somewhat difficult to get right, as a lot of tuning and potentially knowledge of NDV count would need to be known ahead of time (or waste a potentially significant amount of space in the bloom filter).\r\n\r\nI can say however, that this issue is being worked on.\r\n\r\n@huaxingao from Apple is working on this and has reached out to the original PR author. I believe they are going to merge Apple's code with that of @jshmchenxi. The two of them would know more about it than I would, but\r\n\r\n**TLDR** - This is an area of active work and not something that has been forgotten 🙂 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133160841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133168823","html_url":"https://github.com/apache/iceberg/issues/4813#issuecomment-1133168823","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4813","id":1133168823,"node_id":"IC_kwDOCW7NX85Disi3","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T17:53:57Z","updated_at":"2022-05-20T17:53:57Z","author_association":"CONTRIBUTOR","body":"I am collaborating with @jshmchenxi and will submit the new PR soon (hopefully today).\r\ncc @RussellSpitzer @aokolnychyi @flyrain @szehon-ho ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133168823/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133433245","html_url":"https://github.com/apache/iceberg/pull/4830#issuecomment-1133433245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4830","id":1133433245,"node_id":"IC_kwDOCW7NX85DjtGd","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T22:26:29Z","updated_at":"2022-05-20T22:26:29Z","author_association":"CONTRIBUTOR","body":"Looks like the file names are misleading git. `RESTSessionCatalog` is based on `RESTCatalog`, so it is more useful to diff those. The `RESTCatalog` implementation in this PR is new and should not be diffed with the previous.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133433245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133445982","html_url":"https://github.com/apache/iceberg/issues/4813#issuecomment-1133445982","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4813","id":1133445982,"node_id":"IC_kwDOCW7NX85DjwNe","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T22:53:56Z","updated_at":"2022-05-20T22:55:59Z","author_association":"CONTRIBUTOR","body":"Thank you @huaxingao! I will close this issue for now to reduce noise amongst the issues as this work is definitely on going.\r\n\r\nFeel free to open a new issue regardings the delete compaction optimization etc @Zhangg7723, but I would suggest to wait until the new PR from Huaxing and Xi is up as anything we do will have to take that into consideration.\r\n\r\nI know Huaxing said that hopefully the PR would be up today, but I would ask that you please give them another week or so at least.\r\n\r\nHuaxing is really amazing at what she does (and I'm sure Xi is too), but there's always something that comes up. And open source always has extra things to consider.\r\n\r\nBut this feature is very actively being worked on and should be under review in a very reasonable time frame. This is a priority for many people. 🙂 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133445982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133446713","html_url":"https://github.com/apache/iceberg/issues/4813#issuecomment-1133446713","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4813","id":1133446713,"node_id":"IC_kwDOCW7NX85DjwY5","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T22:55:40Z","updated_at":"2022-05-20T22:55:40Z","author_association":"CONTRIBUTOR","body":"Please do reopen this issue if you think that's necessary. I'm just looking to close issues that have been addressed and I'd think any additional optimizations that need _extra_ code should be considered after the new implementation is opened (and  ideally in a new issue so as not to bug too many folks who were tagged here 😅 ).\r\n\r\nThank you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133446713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133468295","html_url":"https://github.com/apache/iceberg/issues/4820#issuecomment-1133468295","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4820","id":1133468295,"node_id":"IC_kwDOCW7NX85Dj1qH","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T23:45:43Z","updated_at":"2022-05-20T23:45:43Z","author_association":"CONTRIBUTOR","body":"I don't know if I'll have much time to assist coming up, but the `IllegalReflectiveAccess` warning from the first screenshot is not something to be concerned about.\r\n\r\nThat is actually a very normal log, particularly in the big data world, and should be ignored.\r\n\r\nAs for why the first one appears not to be running, can you look at the Flink UI and check? Maybe the joins aren't matching up? I'm not at all familiar with the AWS example code, and I don't think any of this necessarily has Iceberg in it at the moment (if I'm not mistaken), so unfortunately I probably wouldn't be of much use. =/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133468295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133472880","html_url":"https://github.com/apache/iceberg/pull/4830#issuecomment-1133472880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4830","id":1133472880,"node_id":"IC_kwDOCW7NX85Dj2xw","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T23:59:08Z","updated_at":"2022-05-20T23:59:08Z","author_association":"CONTRIBUTOR","body":"Overall, the logic and sequencing looks sound.  The one thing I might suggest is actually creating a separate package `org...iceberg.rest.auth` and put much of the auth code there.  RESTSessionCatalog class not has a lot of internal logic that's really about OAuth2 which could be pulled out separately (e.g. `AuthSession` and the static methods supporting flows).  Some minor refactoring could help in terms of adding other auth in the future.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133472880/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133481892","html_url":"https://github.com/apache/iceberg/issues/4820#issuecomment-1133481892","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4820","id":1133481892,"node_id":"IC_kwDOCW7NX85Dj4-k","user":{"login":"jeff1evesque","id":2907085,"node_id":"MDQ6VXNlcjI5MDcwODU=","avatar_url":"https://avatars.githubusercontent.com/u/2907085?v=4","gravatar_id":"","url":"https://api.github.com/users/jeff1evesque","html_url":"https://github.com/jeff1evesque","followers_url":"https://api.github.com/users/jeff1evesque/followers","following_url":"https://api.github.com/users/jeff1evesque/following{/other_user}","gists_url":"https://api.github.com/users/jeff1evesque/gists{/gist_id}","starred_url":"https://api.github.com/users/jeff1evesque/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeff1evesque/subscriptions","organizations_url":"https://api.github.com/users/jeff1evesque/orgs","repos_url":"https://api.github.com/users/jeff1evesque/repos","events_url":"https://api.github.com/users/jeff1evesque/events{/privacy}","received_events_url":"https://api.github.com/users/jeff1evesque/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T00:30:25Z","updated_at":"2022-05-21T00:30:25Z","author_association":"NONE","body":"I'm super new to flink. I just googled Flink UI (web interface), and it seems like a nice [tool to monitor jobs](https://docs.aws.amazon.com/emr/latest/ReleaseGuide/flink-web-interface.html). I did some preliminary search on the tool, and found ways to configure it with [standard Flink UI](https://stackoverflow.com/questions/46988499/flink-webui-when-running-from-ide).  I'll check to see if PyFlink includes it, or how to configure it within my PyCharm setup.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133481892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133528160","html_url":"https://github.com/apache/iceberg/pull/4831#issuecomment-1133528160","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4831","id":1133528160,"node_id":"IC_kwDOCW7NX85DkERg","user":{"login":"jshmchenxi","id":11854435,"node_id":"MDQ6VXNlcjExODU0NDM1","avatar_url":"https://avatars.githubusercontent.com/u/11854435?v=4","gravatar_id":"","url":"https://api.github.com/users/jshmchenxi","html_url":"https://github.com/jshmchenxi","followers_url":"https://api.github.com/users/jshmchenxi/followers","following_url":"https://api.github.com/users/jshmchenxi/following{/other_user}","gists_url":"https://api.github.com/users/jshmchenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/jshmchenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jshmchenxi/subscriptions","organizations_url":"https://api.github.com/users/jshmchenxi/orgs","repos_url":"https://api.github.com/users/jshmchenxi/repos","events_url":"https://api.github.com/users/jshmchenxi/events{/privacy}","received_events_url":"https://api.github.com/users/jshmchenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T04:22:04Z","updated_at":"2022-05-21T04:22:04Z","author_association":"CONTRIBUTOR","body":"@huaxingao Thanks for continuing this work!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133528160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133528840","html_url":"https://github.com/apache/iceberg/pull/2582#issuecomment-1133528840","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2582","id":1133528840,"node_id":"IC_kwDOCW7NX85DkEcI","user":{"login":"jshmchenxi","id":11854435,"node_id":"MDQ6VXNlcjExODU0NDM1","avatar_url":"https://avatars.githubusercontent.com/u/11854435?v=4","gravatar_id":"","url":"https://api.github.com/users/jshmchenxi","html_url":"https://github.com/jshmchenxi","followers_url":"https://api.github.com/users/jshmchenxi/followers","following_url":"https://api.github.com/users/jshmchenxi/following{/other_user}","gists_url":"https://api.github.com/users/jshmchenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/jshmchenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jshmchenxi/subscriptions","organizations_url":"https://api.github.com/users/jshmchenxi/orgs","repos_url":"https://api.github.com/users/jshmchenxi/repos","events_url":"https://api.github.com/users/jshmchenxi/events{/privacy}","received_events_url":"https://api.github.com/users/jshmchenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T04:27:28Z","updated_at":"2022-05-21T04:27:28Z","author_association":"CONTRIBUTOR","body":"Close in favor of #4831","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133528840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133528879","html_url":"https://github.com/apache/iceberg/pull/2642#issuecomment-1133528879","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2642","id":1133528879,"node_id":"IC_kwDOCW7NX85DkEcv","user":{"login":"jshmchenxi","id":11854435,"node_id":"MDQ6VXNlcjExODU0NDM1","avatar_url":"https://avatars.githubusercontent.com/u/11854435?v=4","gravatar_id":"","url":"https://api.github.com/users/jshmchenxi","html_url":"https://github.com/jshmchenxi","followers_url":"https://api.github.com/users/jshmchenxi/followers","following_url":"https://api.github.com/users/jshmchenxi/following{/other_user}","gists_url":"https://api.github.com/users/jshmchenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/jshmchenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jshmchenxi/subscriptions","organizations_url":"https://api.github.com/users/jshmchenxi/orgs","repos_url":"https://api.github.com/users/jshmchenxi/repos","events_url":"https://api.github.com/users/jshmchenxi/events{/privacy}","received_events_url":"https://api.github.com/users/jshmchenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T04:27:52Z","updated_at":"2022-05-21T04:27:52Z","author_association":"CONTRIBUTOR","body":"Close in favor of #4831","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133528879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133529134","html_url":"https://github.com/apache/iceberg/pull/2643#issuecomment-1133529134","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2643","id":1133529134,"node_id":"IC_kwDOCW7NX85DkEgu","user":{"login":"jshmchenxi","id":11854435,"node_id":"MDQ6VXNlcjExODU0NDM1","avatar_url":"https://avatars.githubusercontent.com/u/11854435?v=4","gravatar_id":"","url":"https://api.github.com/users/jshmchenxi","html_url":"https://github.com/jshmchenxi","followers_url":"https://api.github.com/users/jshmchenxi/followers","following_url":"https://api.github.com/users/jshmchenxi/following{/other_user}","gists_url":"https://api.github.com/users/jshmchenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/jshmchenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jshmchenxi/subscriptions","organizations_url":"https://api.github.com/users/jshmchenxi/orgs","repos_url":"https://api.github.com/users/jshmchenxi/repos","events_url":"https://api.github.com/users/jshmchenxi/events{/privacy}","received_events_url":"https://api.github.com/users/jshmchenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T04:29:51Z","updated_at":"2022-05-21T04:29:51Z","author_association":"CONTRIBUTOR","body":"Close in favor of #4831","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133529134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133561012","html_url":"https://github.com/apache/iceberg/pull/4325#issuecomment-1133561012","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4325","id":1133561012,"node_id":"IC_kwDOCW7NX85DkMS0","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T08:05:47Z","updated_at":"2022-05-21T08:05:47Z","author_association":"CONTRIBUTOR","body":"> One suggestion for the logging,\r\n> \r\n> A couple fixes I think may be required for the tests\r\n\r\nUpdated according to the latest feedback. Thx. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133561012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133593390","html_url":"https://github.com/apache/iceberg/pull/4759#issuecomment-1133593390","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4759","id":1133593390,"node_id":"IC_kwDOCW7NX85DkUMu","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T10:07:37Z","updated_at":"2022-05-21T10:07:37Z","author_association":"CONTRIBUTOR","body":"Will this result in more and more files? Because it doesn't seem to merge small files at the target file size we configured.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133593390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133762779","html_url":"https://github.com/apache/iceberg/pull/4575#issuecomment-1133762779","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4575","id":1133762779,"node_id":"IC_kwDOCW7NX85Dk9jb","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T20:17:03Z","updated_at":"2022-05-21T20:17:03Z","author_association":"CONTRIBUTOR","body":"This has been fully replaced now that #4830 is posted. I'm going to close it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133762779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133796964","html_url":"https://github.com/apache/iceberg/pull/4795#issuecomment-1133796964","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4795","id":1133796964,"node_id":"IC_kwDOCW7NX85DlF5k","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-22T01:20:54Z","updated_at":"2022-05-22T01:23:55Z","author_association":"CONTRIBUTOR","body":"Hi @CodingCat \r\n\r\nI’m trying to understand the situation you’re trying to solve for a bit more.\r\n\r\n> Because currentSnapshot() will trigger the refresh of metadata and may show the snapshot id committed by someone else in another concurrent thread eventually\r\n\r\nAs mentioned on Slack, the metadata refresh on commit is to ensure that the state of the table is the same as it was when the write was prepared. This is how ACID compliance is achieved.\r\n\r\nI’m not sure I understand what you’re trying to achieve. I understand you’d like to expose the snapshotId as it was when the current thread (or let’s just say writer) prepared its write, ie prior to the commit.\r\n\r\nBut what do you intend to do with that information? That’s not clear. And for us to make a change that would allow users to potentially violate ACID compliance would need a much more motivating factor.\r\n\r\n> I think the scenario is more pervasive than our own case, e.g. each notebook attached to the Databricks' notebook cluster is basically handled by a thread. In such an scenario, users may fall into some race condition to get the snapshot id committed by their own notebook with just currentSnapshot().snapshotId\r\n\r\nWhat catalog are you using? You mention Databricks, and most people I’ve encountered using Iceberg on Databricks are using the `HadoopCatalog`. Which should _not_ be used in a production environment as there’s no locking mechanism to keep the current snapshot updateable by only one writer at a time (be it across threads or across Spark applications).\r\n\r\nIt sounds like maybe you’re trying to get around the lack of a lock, but I worry that you’ll have conflicting writes and clobber the previous writers work.\r\n\r\nWhat do you intend to do with this thread local snapshot Id (particularly once it becomes outdated via some other writer).\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133796964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133822775","html_url":"https://github.com/apache/iceberg/pull/4816#issuecomment-1133822775","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4816","id":1133822775,"node_id":"IC_kwDOCW7NX85DlMM3","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-22T05:38:39Z","updated_at":"2022-05-22T05:38:39Z","author_association":"CONTRIBUTOR","body":"It looks like some type of auto-formatting ran across the project (maybe from your IDE?). I would try to `tox -e format` it and if that doesn't work then just restore all the files that shouldn't change as part of this PR, which is everything besides `base.py` I think.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133822775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133824859","html_url":"https://github.com/apache/iceberg/issues/4212#issuecomment-1133824859","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4212","id":1133824859,"node_id":"IC_kwDOCW7NX85DlMtb","user":{"login":"itaise","id":64745584,"node_id":"MDQ6VXNlcjY0NzQ1NTg0","avatar_url":"https://avatars.githubusercontent.com/u/64745584?v=4","gravatar_id":"","url":"https://api.github.com/users/itaise","html_url":"https://github.com/itaise","followers_url":"https://api.github.com/users/itaise/followers","following_url":"https://api.github.com/users/itaise/following{/other_user}","gists_url":"https://api.github.com/users/itaise/gists{/gist_id}","starred_url":"https://api.github.com/users/itaise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itaise/subscriptions","organizations_url":"https://api.github.com/users/itaise/orgs","repos_url":"https://api.github.com/users/itaise/repos","events_url":"https://api.github.com/users/itaise/events{/privacy}","received_events_url":"https://api.github.com/users/itaise/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-22T05:59:09Z","updated_at":"2022-05-22T05:59:09Z","author_association":"NONE","body":"@rdblue  can you or anyone else advise regarding that? thank you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1133824859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134010849","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1134010849","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1134010849,"node_id":"IC_kwDOCW7NX85Dl6Hh","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-22T23:03:13Z","updated_at":"2022-05-22T23:03:13Z","author_association":"CONTRIBUTOR","body":"@kbendick and @RussellSpitzer thank you for your reviews and suggestions.\r\nI have removed `DeleteCounter` from `BitmapPositionDeleteIndex`. I have implemented the suggestion to extract the custom metric from Spark after running a DataFrame query (although this turned out to be trickier than expected due to async issues (that did not surface locally but surfaced in the CI)). I think the PR is much better now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134010849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134046692","html_url":"https://github.com/apache/iceberg/pull/4795#issuecomment-1134046692","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4795","id":1134046692,"node_id":"IC_kwDOCW7NX85DmC3k","user":{"login":"CodingCat","id":678008,"node_id":"MDQ6VXNlcjY3ODAwOA==","avatar_url":"https://avatars.githubusercontent.com/u/678008?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingCat","html_url":"https://github.com/CodingCat","followers_url":"https://api.github.com/users/CodingCat/followers","following_url":"https://api.github.com/users/CodingCat/following{/other_user}","gists_url":"https://api.github.com/users/CodingCat/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingCat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingCat/subscriptions","organizations_url":"https://api.github.com/users/CodingCat/orgs","repos_url":"https://api.github.com/users/CodingCat/repos","events_url":"https://api.github.com/users/CodingCat/events{/privacy}","received_events_url":"https://api.github.com/users/CodingCat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T00:59:23Z","updated_at":"2022-05-23T01:07:04Z","author_association":"CONTRIBUTOR","body":"Hi, @kbendick \r\n\r\nThanks for looking at this! I found there are some confusions about what I want to achieve here, please check the inlined answer\r\n\r\n> I’m not sure I understand what you’re trying to achieve. I understand you’d like to expose the snapshotId as it was when the current thread (or let’s just say writer) prepared its write, ie prior to the commit.\r\n\r\nI am trying to expose the snapshot id *AFTER* the commit, you can check the change at [here](https://github.com/apache/iceberg/pull/4795/files#diff-3c27b7c7615fcf206c99e3e441c0621561c0a19ac3e9a26bb142329879425151R332\r\n) \r\n\r\nthe problem I am trying to resolve is from the following workflow\r\n\r\n```\r\nThreadA committed \r\n\r\nThreadB committed\r\n\r\nThreadA want to do something with the snapshot id it just committed\r\n\r\n```\r\n\r\nas I said in the description, currently there is no way (at least no easy way) for ThreadA to do this, as long as it calls currentSnapshotId(), it will get the latest snapshotId generated by ThreadB because of the refreshing of metadata. this PR is just to expose this information to ThreadA\r\n\r\nit will not break ACID. When ThreadA commits another version, it will be still based on the latest snapshot id from ThreadB since I didn't change that part at all\r\n\r\nin short, this PR is just to expose some information from iceberg\r\n\r\n> \r\n> > I think the scenario is more pervasive than our own case, e.g. each notebook attached to the Databricks' notebook cluster is basically handled by a thread. In such an scenario, users may fall into some race condition to get the snapshot id committed by their own notebook with just currentSnapshot().snapshotId\r\n> \r\n> What catalog are you using? You mention Databricks, and most people I’ve encountered using Iceberg on Databricks are using the `HadoopCatalog`. Which should _not_ be used in a production environment as there’s no locking mechanism to keep the current snapshot updateable by only one writer at a time (be it across threads or across Spark applications).\r\n> \r\n> It sounds like maybe you’re trying to get around the lack of a lock, but I worry that you’ll have conflicting writes and clobber the previous writers work.\r\n\r\nI am using HadoopCatalog but not really getting around of lack of lock here (the lock problem was resolved by https://github.com/apache/iceberg/pull/3663 where you can use some DynamoDB based lockManager with HadoopTableOperation\r\n\r\n\r\n> \r\n> What do you intend to do with this thread local snapshot Id (particularly once it becomes outdated via some other writer).\r\n\r\nwe have multiple scenarios needing this local snapshot id, the simplest example might be we have multiple threads committing to the same table, we want to audit this information (with information like which thread generated which version)...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134046692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134116897","html_url":"https://github.com/apache/iceberg/pull/4815#issuecomment-1134116897","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4815","id":1134116897,"node_id":"IC_kwDOCW7NX85DmUAh","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T02:58:59Z","updated_at":"2022-05-23T02:58:59Z","author_association":"CONTRIBUTOR","body":"@rdblue I incorporated your review so far and also updated the PR to add complete coverage. This is ready for another look, thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134116897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134117966","html_url":"https://github.com/apache/iceberg/pull/4815#issuecomment-1134117966","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4815","id":1134117966,"node_id":"IC_kwDOCW7NX85DmURO","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T03:01:40Z","updated_at":"2022-05-23T03:01:40Z","author_association":"CONTRIBUTOR","body":"cc: @emkornfield @Fokko @kbendick @dramaticlly @dhruv-pratap","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134117966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134135758","html_url":"https://github.com/apache/iceberg/issues/4834#issuecomment-1134135758","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4834","id":1134135758,"node_id":"IC_kwDOCW7NX85DmYnO","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T03:31:52Z","updated_at":"2022-05-23T03:31:52Z","author_association":"MEMBER","body":"Yes, they have their own config properties so you can put both types of files in different places if you like","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134135758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134194826","html_url":"https://github.com/apache/iceberg/issues/4834#issuecomment-1134194826","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4834","id":1134194826,"node_id":"IC_kwDOCW7NX85DmnCK","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T05:21:59Z","updated_at":"2022-05-23T05:21:59Z","author_association":"MEMBER","body":"Yes, these are the table properties supported for that.\r\nhttps://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/TableProperties.java#L239-L247","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134194826/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134197511","html_url":"https://github.com/apache/iceberg/pull/4806#issuecomment-1134197511","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4806","id":1134197511,"node_id":"IC_kwDOCW7NX85DmnsH","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T05:26:47Z","updated_at":"2022-05-23T05:26:47Z","author_association":"MEMBER","body":"@openinx is it going in the right direction?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134197511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134234838","html_url":"https://github.com/apache/iceberg/issues/4835#issuecomment-1134234838","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4835","id":1134234838,"node_id":"IC_kwDOCW7NX85DmwzW","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T06:27:14Z","updated_at":"2022-05-23T06:27:26Z","author_association":"MEMBER","body":"I have found the reason.\r\n```\r\nA problem occurred evaluating settings 'iceberg'.\r\n> Found unsupported Flink versions: [1.12]\r\n```\r\n\r\nI will analyze further and fix it.\r\nhttps://github.com/apache/iceberg/runs/6547196620?check_suite_focus=true","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134234838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134238993","html_url":"https://github.com/apache/iceberg/issues/4837#issuecomment-1134238993","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4837","id":1134238993,"node_id":"IC_kwDOCW7NX85Dmx0R","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T06:32:49Z","updated_at":"2022-05-23T06:32:49Z","author_association":"MEMBER","body":"yes, this example can be improved.\r\n\r\nYou can replace `Catalog` with `HiveCatalog` and go ahead. Feel free to open a PR on the example improvement. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134238993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134262128","html_url":"https://github.com/apache/iceberg/issues/4837#issuecomment-1134262128","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4837","id":1134262128,"node_id":"IC_kwDOCW7NX85Dm3dw","user":{"login":"ElapsedSoul","id":70566807,"node_id":"MDQ6VXNlcjcwNTY2ODA3","avatar_url":"https://avatars.githubusercontent.com/u/70566807?v=4","gravatar_id":"","url":"https://api.github.com/users/ElapsedSoul","html_url":"https://github.com/ElapsedSoul","followers_url":"https://api.github.com/users/ElapsedSoul/followers","following_url":"https://api.github.com/users/ElapsedSoul/following{/other_user}","gists_url":"https://api.github.com/users/ElapsedSoul/gists{/gist_id}","starred_url":"https://api.github.com/users/ElapsedSoul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElapsedSoul/subscriptions","organizations_url":"https://api.github.com/users/ElapsedSoul/orgs","repos_url":"https://api.github.com/users/ElapsedSoul/repos","events_url":"https://api.github.com/users/ElapsedSoul/events{/privacy}","received_events_url":"https://api.github.com/users/ElapsedSoul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T07:02:53Z","updated_at":"2022-05-23T07:03:12Z","author_association":"NONE","body":"> \r\n\r\n\r\n\r\n> yes, this example can be improved.\r\n> \r\n> You can replace `Catalog` with `HiveCatalog` and go ahead. Feel free to open a PR on the example improvement.\r\n\r\nThank you for your help.\r\n@ajantha-bhat \r\nThen how can I get the Table table instance for a table I want?\r\nThe final goal for me,  it is to rewritedatafiles of the table.\r\nNow I found out there no eg.  for me to work out .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134262128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134433310","html_url":"https://github.com/apache/iceberg/pull/4841#issuecomment-1134433310","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4841","id":1134433310,"node_id":"IC_kwDOCW7NX85DnhQe","user":{"login":"lcspinter","id":47777102,"node_id":"MDQ6VXNlcjQ3Nzc3MTAy","avatar_url":"https://avatars.githubusercontent.com/u/47777102?v=4","gravatar_id":"","url":"https://api.github.com/users/lcspinter","html_url":"https://github.com/lcspinter","followers_url":"https://api.github.com/users/lcspinter/followers","following_url":"https://api.github.com/users/lcspinter/following{/other_user}","gists_url":"https://api.github.com/users/lcspinter/gists{/gist_id}","starred_url":"https://api.github.com/users/lcspinter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lcspinter/subscriptions","organizations_url":"https://api.github.com/users/lcspinter/orgs","repos_url":"https://api.github.com/users/lcspinter/repos","events_url":"https://api.github.com/users/lcspinter/events{/privacy}","received_events_url":"https://api.github.com/users/lcspinter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T09:39:20Z","updated_at":"2022-05-23T09:39:20Z","author_association":"CONTRIBUTOR","body":"cc: @pvary @szlta ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134433310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134438730","html_url":"https://github.com/apache/iceberg/issues/4839#issuecomment-1134438730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4839","id":1134438730,"node_id":"IC_kwDOCW7NX85DnilK","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T09:43:26Z","updated_at":"2022-05-23T09:43:26Z","author_association":"CONTRIBUTOR","body":"I don't think this is currently supported. In fact we have a potential use case where having this would be helpful and I was planning to work on a prototype for this exact feature this week.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134438730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134440204","html_url":"https://github.com/apache/iceberg/issues/4837#issuecomment-1134440204","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4837","id":1134440204,"node_id":"IC_kwDOCW7NX85Dni8M","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T09:44:51Z","updated_at":"2022-05-23T09:44:51Z","author_association":"CONTRIBUTOR","body":"@ElapsedSoul you might want to also get started with https://tabular.io/blog/java-api-part-1/ and https://tabular.io/blog/java-api-part-2/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134440204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134441704","html_url":"https://github.com/apache/iceberg/pull/4838#issuecomment-1134441704","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4838","id":1134441704,"node_id":"IC_kwDOCW7NX85DnjTo","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T09:46:13Z","updated_at":"2022-05-23T09:46:13Z","author_association":"CONTRIBUTOR","body":"@rdblue could you merge this one please?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134441704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134456788","html_url":"https://github.com/apache/iceberg/issues/4839#issuecomment-1134456788","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4839","id":1134456788,"node_id":"IC_kwDOCW7NX85Dnm_U","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T09:56:02Z","updated_at":"2022-05-23T09:56:40Z","author_association":"CONTRIBUTOR","body":"[doubt] wouldn't [ResolvingFileIO](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/io/ResolvingFileIO.java) work here ?\r\n\r\nThis fileIo based on the location decides which FileIO impl should it use and stores, the instantiated fileIo in a local cache to avoid re-instantiation, we can certainly diff paths for meta-data & data","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134456788/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134465433","html_url":"https://github.com/apache/iceberg/issues/4837#issuecomment-1134465433","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4837","id":1134465433,"node_id":"IC_kwDOCW7NX85DnpGZ","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T10:02:20Z","updated_at":"2022-05-23T10:02:34Z","author_association":"MEMBER","body":"Once you have a catalog, you can load the table using identifier\r\n\r\n```\r\nimport org.apache.iceberg.Table;\r\nimport org.apache.iceberg.catalog.TableIdentifier;\r\n\r\nTableIdentifier name = TableIdentifier.of(\"db1\", \"t1\");\r\n\r\n// or to load an existing table, use the following line\r\nTable table = catalog.loadTable(name);\r\n```\r\n\r\nonce you have the table object, call rewrite data files actions like this.\r\nhttps://iceberg.apache.org/docs/latest/maintenance/#compact-data-files\r\n\r\nYou can also check out the code and look for package names and info.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134465433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134495446","html_url":"https://github.com/apache/iceberg/pull/4774#issuecomment-1134495446","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4774","id":1134495446,"node_id":"IC_kwDOCW7NX85DnwbW","user":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T10:25:42Z","updated_at":"2022-05-23T10:25:42Z","author_association":"CONTRIBUTOR","body":"Thanks @kbendick @samredai \r\nif needed, i will add ASF header ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134495446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134496289","html_url":"https://github.com/apache/iceberg/pull/4774#issuecomment-1134496289","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4774","id":1134496289,"node_id":"IC_kwDOCW7NX85Dnwoh","user":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T10:26:29Z","updated_at":"2022-05-24T02:05:33Z","author_association":"CONTRIBUTOR","body":"cc @rdblue  @openinx could you help review this thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134496289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134512854","html_url":"https://github.com/apache/iceberg/issues/4839#issuecomment-1134512854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4839","id":1134512854,"node_id":"IC_kwDOCW7NX85Dn0rW","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T10:44:42Z","updated_at":"2022-05-23T10:44:42Z","author_association":"CONTRIBUTOR","body":"IIUC `ResolvingFileIO` has the capability to use different schemes, where `s3` / `s3n` / `s3a` all resolve to `S3FileIO` and `fs` resolves to `HadoopFileIO`. There's no differentiation between which FileIO implemenentation should be used for data and metadata files.\r\n\r\nI think the idea behind this ticket is that users would have the capability to explicitly specify which FileIO implementation should be used for data files and which one for metadata files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134512854/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134554058","html_url":"https://github.com/apache/iceberg/issues/4839#issuecomment-1134554058","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4839","id":1134554058,"node_id":"IC_kwDOCW7NX85Dn-vK","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T11:28:34Z","updated_at":"2022-05-23T11:28:34Z","author_association":"CONTRIBUTOR","body":"> There's no differentiation between which FileIO implemenentation should be used for data and metadata files.\r\n\r\nAgree with you, As per my understanding, wouldn't this differentiation be automatically be done by the `location` produced for meta-data & data path as :\r\nmeta-data path would be : `file://mnt/meta-data`\r\ndata path would be : `s3://<bucket>/prefix`\r\n(this can be controled via conf's such as `write.metadata.path`). \r\n\r\nNow a user when uses ResolvingFileIO it will implicitly use `HadoopFileIO` for meta-data (i.e paths like `file://mnt/meta-data`), S3FileIO for data (i.e paths like `s3://<bucket>/prefix`).\r\n\r\n> I think the idea behind this ticket is that users would have the capability to explicitly specify which FileIO implementation should be used for data files and which one for metadata files.\r\n\r\nThis sounds like an interesting use case as to why would we want two diff FileIO's when let's say both data / meta-data share the same schemes. One case comes to mind that we want to seperate tuned SDK for S3FileIO obj which would read heavy data files and other has light weight meta-data files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134554058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134566590","html_url":"https://github.com/apache/iceberg/issues/4839#issuecomment-1134566590","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4839","id":1134566590,"node_id":"IC_kwDOCW7NX85DoBy-","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T11:41:37Z","updated_at":"2022-05-23T11:41:37Z","author_association":"CONTRIBUTOR","body":"The use case I have in mind for example is: what if users would like to use S3+GCS or simply have different S3 locations for data and metadata files. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134566590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134574043","html_url":"https://github.com/apache/iceberg/issues/4839#issuecomment-1134574043","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4839","id":1134574043,"node_id":"IC_kwDOCW7NX85DoDnb","user":{"login":"johndb2016","id":17661631,"node_id":"MDQ6VXNlcjE3NjYxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/17661631?v=4","gravatar_id":"","url":"https://api.github.com/users/johndb2016","html_url":"https://github.com/johndb2016","followers_url":"https://api.github.com/users/johndb2016/followers","following_url":"https://api.github.com/users/johndb2016/following{/other_user}","gists_url":"https://api.github.com/users/johndb2016/gists{/gist_id}","starred_url":"https://api.github.com/users/johndb2016/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johndb2016/subscriptions","organizations_url":"https://api.github.com/users/johndb2016/orgs","repos_url":"https://api.github.com/users/johndb2016/repos","events_url":"https://api.github.com/users/johndb2016/events{/privacy}","received_events_url":"https://api.github.com/users/johndb2016/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T11:50:11Z","updated_at":"2022-05-23T11:50:56Z","author_association":"NONE","body":"yep, ResolvingFileIO works for my case, but much better if iceberg  provides the capability to set custom FileIO for data & meta individually.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134574043/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134657590","html_url":"https://github.com/apache/iceberg/pull/3991#issuecomment-1134657590","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3991","id":1134657590,"node_id":"IC_kwDOCW7NX85DoYA2","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T13:08:42Z","updated_at":"2022-05-23T13:08:42Z","author_association":"CONTRIBUTOR","body":"hi @openinx  , could you please take a look when you are available?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134657590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134672985","html_url":"https://github.com/apache/iceberg/pull/4841#issuecomment-1134672985","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4841","id":1134672985,"node_id":"IC_kwDOCW7NX85DobxZ","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T13:20:58Z","updated_at":"2022-05-23T13:20:58Z","author_association":"CONTRIBUTOR","body":"LGTM too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134672985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134792155","html_url":"https://github.com/apache/iceberg/pull/4747#issuecomment-1134792155","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4747","id":1134792155,"node_id":"IC_kwDOCW7NX85Do43b","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T15:04:28Z","updated_at":"2022-05-23T15:04:28Z","author_association":"MEMBER","body":"@rdblue, @RussellSpitzer:  Can we merge this PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134792155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134793328","html_url":"https://github.com/apache/iceberg/pull/4229#issuecomment-1134793328","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4229","id":1134793328,"node_id":"IC_kwDOCW7NX85Do5Jw","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T15:05:29Z","updated_at":"2022-05-23T15:05:29Z","author_association":"MEMBER","body":"cc: @szehon-ho ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134793328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134957923","html_url":"https://github.com/apache/iceberg/pull/4836#issuecomment-1134957923","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4836","id":1134957923,"node_id":"IC_kwDOCW7NX85DphVj","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T17:40:08Z","updated_at":"2022-05-23T17:40:08Z","author_association":"MEMBER","body":"Let's be sure to backport this to 3.1 and 3.0 as well (2.4 may also be vulnerable?)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1134957923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135018865","html_url":"https://github.com/apache/iceberg/pull/4811#issuecomment-1135018865","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4811","id":1135018865,"node_id":"IC_kwDOCW7NX85DpwNx","user":{"login":"dhruv-pratap","id":11399509,"node_id":"MDQ6VXNlcjExMzk5NTA5","avatar_url":"https://avatars.githubusercontent.com/u/11399509?v=4","gravatar_id":"","url":"https://api.github.com/users/dhruv-pratap","html_url":"https://github.com/dhruv-pratap","followers_url":"https://api.github.com/users/dhruv-pratap/followers","following_url":"https://api.github.com/users/dhruv-pratap/following{/other_user}","gists_url":"https://api.github.com/users/dhruv-pratap/gists{/gist_id}","starred_url":"https://api.github.com/users/dhruv-pratap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhruv-pratap/subscriptions","organizations_url":"https://api.github.com/users/dhruv-pratap/orgs","repos_url":"https://api.github.com/users/dhruv-pratap/repos","events_url":"https://api.github.com/users/dhruv-pratap/events{/privacy}","received_events_url":"https://api.github.com/users/dhruv-pratap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T18:45:04Z","updated_at":"2022-05-23T18:45:04Z","author_association":"CONTRIBUTOR","body":"I tried to test out the instructions in contribution.md. `make test` works fine, but `make lint` is skipping everything. I have feeling it might be something to do with the working directory settings that are environment specific.\r\n```logs\r\n(venv) ➜  python git:(fd-move-to-pre-commit) make lint\r\npre-commit run \r\ntrim trailing whitespace.............................(no files to check)Skipped\r\nfix end of files.....................................(no files to check)Skipped\r\ncheck docstring is first.............................(no files to check)Skipped\r\ndebug statements (python)............................(no files to check)Skipped\r\ncheck yaml...........................................(no files to check)Skipped\r\ncheck python ast.....................................(no files to check)Skipped\r\nblack................................................(no files to check)Skipped\r\nisort................................................(no files to check)Skipped\r\nmypy.................................................(no files to check)Skipped\r\npycln................................................(no files to check)Skipped\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135018865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135084091","html_url":"https://github.com/apache/iceberg/pull/4841#issuecomment-1135084091","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4841","id":1135084091,"node_id":"IC_kwDOCW7NX85DqAI7","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T19:59:51Z","updated_at":"2022-05-23T19:59:51Z","author_association":"CONTRIBUTOR","body":"If you wanted to add a test for this, we might be able to generate data using Spark with some combination of `spark.sql.parquet.binaryAsString` and/or `spark.sql.parquet.writeLegacyFormat`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135084091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135125402","html_url":"https://github.com/apache/iceberg/pull/4795#issuecomment-1135125402","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4795","id":1135125402,"node_id":"IC_kwDOCW7NX85DqKOa","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T20:50:14Z","updated_at":"2022-05-23T20:50:14Z","author_association":"CONTRIBUTOR","body":"> I am using HadoopCatalog but not really getting around of lack of lock here (the lock problem was resolved by https://github.com/apache/iceberg/pull/3663 where you can use some DynamoDB based lockManager with HadoopTableOperation\r\n\r\nOk. That's good you're using a lock. I'm not sure how well exercised that code path is in practice, but you are using it. So that's good.\r\n\r\n> we have multiple scenarios needing this local snapshot id, the simplest example might be we have multiple threads committing to the same table, we want to audit this information (with information like which thread generated which version)...\r\n\r\nIs there another possible way to solve this problem? I do worry that exposing the snapshot ID this way will be dangerous for other users, who might use the (outdated) snapshot ID for the wrong purpose. I understand that _you_ are using it for purposes that sound like they don't violate any integrity concerns (based on what you said), but we have to think of the general case. Exposing it as simply the latest snapshot id in the thread leaves it open to the user to have to do the correct thing with the no longer current snapshot ID.\r\n\r\nIf you add the thread ID to the snapshot summary, you'd be able to query the `snapshots` table and see it there. Is that a possibility?\r\n\r\nAnother possibility I can think of is emitting an event on commit.\r\n\r\nThe TLDR of my concern is that while you might very well know what you're doing with this information, there will likely be others who come along and do not use it properly. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135125402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135130550","html_url":"https://github.com/apache/iceberg/pull/4795#issuecomment-1135130550","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4795","id":1135130550,"node_id":"IC_kwDOCW7NX85DqLe2","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T20:56:50Z","updated_at":"2022-05-23T20:59:14Z","author_association":"CONTRIBUTOR","body":"Actually, I think there's an existing way that the thread ID could be exposed in the snapshot summary. Look into the `SnapshotSummary.EXTRA_METADATA_PREFIX`. Basically, in the spark `options` used on write, you'd add `snapshot-property.${desired_summary_key}` = `${desired_value_for_key}`. And then on write, in the snapshot summary, `desired_summary_key = desired_value_for_key` will be written.\r\n\r\nSee here where the options are added: https://github.com/apache/iceberg/blob/feeb94b255b705382282e04fbeb1efdc3210d6cc/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/SparkWriteConf.java#L168-L175\r\n\r\nAnd here where the key is defined: \r\nhttps://github.com/apache/iceberg/blob/feeb94b255b705382282e04fbeb1efdc3210d6cc/core/src/main/java/org/apache/iceberg/SnapshotSummary.java#L60","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135130550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135141442","html_url":"https://github.com/apache/iceberg/pull/4811#issuecomment-1135141442","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4811","id":1135141442,"node_id":"IC_kwDOCW7NX85DqOJC","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T21:10:56Z","updated_at":"2022-05-23T21:10:56Z","author_association":"CONTRIBUTOR","body":"@dhruv-pratap Thanks for giving it a try! By default, pre-commit will only check the changed files (based on git). I've changed this to check all the files every time (to avoid confusion). Since the codebase is still relatively small, it almost runs instantly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135141442/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135144304","html_url":"https://github.com/apache/iceberg/pull/4843#issuecomment-1135144304","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4843","id":1135144304,"node_id":"IC_kwDOCW7NX85DqO1w","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T21:14:39Z","updated_at":"2022-05-23T21:14:39Z","author_association":"CONTRIBUTOR","body":"Thanks, @danielcweeks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135144304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135168675","html_url":"https://github.com/apache/iceberg/pull/4795#issuecomment-1135168675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4795","id":1135168675,"node_id":"IC_kwDOCW7NX85DqUyj","user":{"login":"CodingCat","id":678008,"node_id":"MDQ6VXNlcjY3ODAwOA==","avatar_url":"https://avatars.githubusercontent.com/u/678008?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingCat","html_url":"https://github.com/CodingCat","followers_url":"https://api.github.com/users/CodingCat/followers","following_url":"https://api.github.com/users/CodingCat/following{/other_user}","gists_url":"https://api.github.com/users/CodingCat/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingCat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingCat/subscriptions","organizations_url":"https://api.github.com/users/CodingCat/orgs","repos_url":"https://api.github.com/users/CodingCat/repos","events_url":"https://api.github.com/users/CodingCat/events{/privacy}","received_events_url":"https://api.github.com/users/CodingCat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T21:49:17Z","updated_at":"2022-05-23T21:49:17Z","author_association":"CONTRIBUTOR","body":"> Actually, I think there's an existing way that the thread ID could be exposed in the snapshot summary. Look into the `SnapshotSummary.EXTRA_METADATA_PREFIX`. Basically, in the spark `options` used on write, you'd add `snapshot-property.${desired_summary_key}` = `${desired_value_for_key}`. And then on write, in the snapshot summary, `desired_summary_key = desired_value_for_key` will be written.\r\n> \r\n> See here where the options are added:\r\n> \r\n> https://github.com/apache/iceberg/blob/feeb94b255b705382282e04fbeb1efdc3210d6cc/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/SparkWriteConf.java#L168-L175\r\n> \r\n> And here where the key is defined:\r\n> \r\n> https://github.com/apache/iceberg/blob/feeb94b255b705382282e04fbeb1efdc3210d6cc/core/src/main/java/org/apache/iceberg/SnapshotSummary.java#L60\r\n\r\nwell, the reason I didn't go into this obviously easier path is that we there is no way for me to add this snapshot tag when we do DELETE and UPSERT (or I didn't find it?) \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135168675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135169639","html_url":"https://github.com/apache/iceberg/pull/4833#issuecomment-1135169639","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4833","id":1135169639,"node_id":"IC_kwDOCW7NX85DqVBn","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T21:50:43Z","updated_at":"2022-05-23T21:51:03Z","author_association":"CONTRIBUTOR","body":"I'm going to merge this before CI finishes because the last update was a whitespace change and shouldn't affect the results.\r\n\r\nThanks for reviewing, @danielcweeks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135169639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135170626","html_url":"https://github.com/apache/iceberg/pull/4795#issuecomment-1135170626","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4795","id":1135170626,"node_id":"IC_kwDOCW7NX85DqVRC","user":{"login":"CodingCat","id":678008,"node_id":"MDQ6VXNlcjY3ODAwOA==","avatar_url":"https://avatars.githubusercontent.com/u/678008?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingCat","html_url":"https://github.com/CodingCat","followers_url":"https://api.github.com/users/CodingCat/followers","following_url":"https://api.github.com/users/CodingCat/following{/other_user}","gists_url":"https://api.github.com/users/CodingCat/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingCat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingCat/subscriptions","organizations_url":"https://api.github.com/users/CodingCat/orgs","repos_url":"https://api.github.com/users/CodingCat/repos","events_url":"https://api.github.com/users/CodingCat/events{/privacy}","received_events_url":"https://api.github.com/users/CodingCat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T21:52:10Z","updated_at":"2022-05-23T21:52:10Z","author_association":"CONTRIBUTOR","body":"I am wondering what type of risk the user may run into when he got a local snapshot id? when working on this PR, my consideration is that as long as iceberg's ACID model doesn't break, users cannot use this snapshot id to do anything except read it...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135170626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135176095","html_url":"https://github.com/apache/iceberg/pull/4832#issuecomment-1135176095","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4832","id":1135176095,"node_id":"IC_kwDOCW7NX85DqWmf","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T21:59:44Z","updated_at":"2022-05-23T21:59:44Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, @danielcweeks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135176095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135190360","html_url":"https://github.com/apache/iceberg/pull/4806#issuecomment-1135190360","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4806","id":1135190360,"node_id":"IC_kwDOCW7NX85DqaFY","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T22:15:52Z","updated_at":"2022-05-23T22:16:15Z","author_association":"CONTRIBUTOR","body":"@findepi Do you have more context on what the issue is here.  I may be reading this wrong but the new and old approaches appear to be equivalent.  Both approaches result in a function returning an iterator that is only traversed once.  If the intent is to allow for multiple iterations, `.collect(Collectors.toList())` would be preferable to avoid recomputing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135190360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135218332","html_url":"https://github.com/apache/iceberg/pull/4569#issuecomment-1135218332","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4569","id":1135218332,"node_id":"IC_kwDOCW7NX85Dqg6c","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T23:03:20Z","updated_at":"2022-05-23T23:03:20Z","author_association":"COLLABORATOR","body":"Thanks @kbendick for the review, rebased.  Re: Spark versions, the main fix is in core so I think the Spark side is agnostic (I added the Spark 3.2 test mainly as an end-to-end).  \r\n\r\nAnyway it's the same fix as on the master branch to #4520, and I can look at adding some tests for other Spark versions over there.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135218332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135239351","html_url":"https://github.com/apache/iceberg/pull/4795#issuecomment-1135239351","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4795","id":1135239351,"node_id":"IC_kwDOCW7NX85DqmC3","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T23:33:38Z","updated_at":"2022-05-23T23:34:18Z","author_association":"CONTRIBUTOR","body":"@CodingCat, I agree with @kbendick that the right way to do this is to add metadata to the snapshot so that you can identify it later. Also, if you already have an operation that is going to commit a snapshot (a `SnapshotProducer`) then you can use `apply` to write the changes and return the uncommitted snapshot. Here's an example:\r\n\r\n```java\r\nAppendFiles append = table.newAppend()\r\n...\r\nlong snapshotId = append.apply().snapshotId();\r\nappend.commit();\r\n```\r\n\r\nThere should be no need to use a threadlocal. if you have the operation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135239351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135240763","html_url":"https://github.com/apache/iceberg/pull/4845#issuecomment-1135240763","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4845","id":1135240763,"node_id":"IC_kwDOCW7NX85DqmY7","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T23:35:38Z","updated_at":"2022-05-23T23:35:38Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, @danielcweeks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135240763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135241075","html_url":"https://github.com/apache/iceberg/pull/4846#issuecomment-1135241075","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4846","id":1135241075,"node_id":"IC_kwDOCW7NX85Dqmdz","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T23:36:05Z","updated_at":"2022-05-23T23:36:05Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, @danielcweeks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135241075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135245701","html_url":"https://github.com/apache/iceberg/pull/4795#issuecomment-1135245701","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4795","id":1135245701,"node_id":"IC_kwDOCW7NX85DqnmF","user":{"login":"CodingCat","id":678008,"node_id":"MDQ6VXNlcjY3ODAwOA==","avatar_url":"https://avatars.githubusercontent.com/u/678008?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingCat","html_url":"https://github.com/CodingCat","followers_url":"https://api.github.com/users/CodingCat/followers","following_url":"https://api.github.com/users/CodingCat/following{/other_user}","gists_url":"https://api.github.com/users/CodingCat/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingCat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingCat/subscriptions","organizations_url":"https://api.github.com/users/CodingCat/orgs","repos_url":"https://api.github.com/users/CodingCat/repos","events_url":"https://api.github.com/users/CodingCat/events{/privacy}","received_events_url":"https://api.github.com/users/CodingCat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T23:43:47Z","updated_at":"2022-05-23T23:43:47Z","author_association":"CONTRIBUTOR","body":"ok, but could you share if there is any existing way for me to add metadata for DELETE and MERGE operation ? (where I have no way to do something like `df.write.option(\"snapshot-summary.key\", \"value\")`?)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135245701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135294638","html_url":"https://github.com/apache/iceberg/issues/4837#issuecomment-1135294638","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4837","id":1135294638,"node_id":"IC_kwDOCW7NX85Dqziu","user":{"login":"ElapsedSoul","id":70566807,"node_id":"MDQ6VXNlcjcwNTY2ODA3","avatar_url":"https://avatars.githubusercontent.com/u/70566807?v=4","gravatar_id":"","url":"https://api.github.com/users/ElapsedSoul","html_url":"https://github.com/ElapsedSoul","followers_url":"https://api.github.com/users/ElapsedSoul/followers","following_url":"https://api.github.com/users/ElapsedSoul/following{/other_user}","gists_url":"https://api.github.com/users/ElapsedSoul/gists{/gist_id}","starred_url":"https://api.github.com/users/ElapsedSoul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElapsedSoul/subscriptions","organizations_url":"https://api.github.com/users/ElapsedSoul/orgs","repos_url":"https://api.github.com/users/ElapsedSoul/repos","events_url":"https://api.github.com/users/ElapsedSoul/events{/privacy}","received_events_url":"https://api.github.com/users/ElapsedSoul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T01:15:16Z","updated_at":"2022-05-24T01:15:16Z","author_association":"NONE","body":"Thanks for @ajantha-bhat ,\r\nI put the demo code here:\r\n```java\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.apache.iceberg.Table;\r\nimport org.apache.iceberg.catalog.TableIdentifier;\r\nimport org.apache.iceberg.hive.HiveCatalog;\r\nimport org.apache.iceberg.spark.actions.SparkActions;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\npublic class IcebergMergeFile {\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        SparkSession spark = SparkSession\r\n        .builder()\r\n        .appName(\"IcebergMergeFile\")\r\n        .getOrCreate();\r\n\r\n        HiveCatalog catalog = new HiveCatalog();\r\n        catalog.setConf(spark.sparkContext().hadoopConfiguration());\r\n\r\n        Map <String, String> properties = new HashMap<String, String>();\r\n        properties.put(\"uri\", \"thrift://127.0.0.1:9083\");\r\n\r\n        catalog.initialize(\"hive\", properties);\r\n\r\n        TableIdentifier name = TableIdentifier.of(\"ice_database\", \"ice_t1\");\r\n\r\n        // or to load an existing table, use the following line\r\n        Table table = catalog.loadTable(name);\r\n        SparkActions\r\n            .get()\r\n            .rewriteDataFiles(table)\r\n            .option(\"target-file-size-bytes\", Long.toString(500 * 1024 * 1024)) // 500 MB\r\n            .execute();\r\n\r\n        spark.stop();\r\n    }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135294638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135296045","html_url":"https://github.com/apache/iceberg/issues/4837#issuecomment-1135296045","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4837","id":1135296045,"node_id":"IC_kwDOCW7NX85Dqz4t","user":{"login":"ElapsedSoul","id":70566807,"node_id":"MDQ6VXNlcjcwNTY2ODA3","avatar_url":"https://avatars.githubusercontent.com/u/70566807?v=4","gravatar_id":"","url":"https://api.github.com/users/ElapsedSoul","html_url":"https://github.com/ElapsedSoul","followers_url":"https://api.github.com/users/ElapsedSoul/followers","following_url":"https://api.github.com/users/ElapsedSoul/following{/other_user}","gists_url":"https://api.github.com/users/ElapsedSoul/gists{/gist_id}","starred_url":"https://api.github.com/users/ElapsedSoul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElapsedSoul/subscriptions","organizations_url":"https://api.github.com/users/ElapsedSoul/orgs","repos_url":"https://api.github.com/users/ElapsedSoul/repos","events_url":"https://api.github.com/users/ElapsedSoul/events{/privacy}","received_events_url":"https://api.github.com/users/ElapsedSoul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T01:18:10Z","updated_at":"2022-05-24T01:18:35Z","author_association":"NONE","body":"> @ElapsedSoul you might want to also get started with https://tabular.io/blog/java-api-part-1/ and https://tabular.io/blog/java-api-part-2/\r\n\r\nThanks for your website, to let me know more clearly about the metadata in iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135296045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135296204","html_url":"https://github.com/apache/iceberg/pull/3677#issuecomment-1135296204","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3677","id":1135296204,"node_id":"IC_kwDOCW7NX85Dqz7M","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T01:18:28Z","updated_at":"2022-05-24T01:18:28Z","author_association":"CONTRIBUTOR","body":"Updated this PR to remove all of the jsonschema validation logic (to be revisited later, hopefully using the OpenAPI spec for the REST catalog), and also replaced attrs with the built-in dataclass decorator. The last thing I've done here is move all of the serialization/deserialization logic (initially this PR had them as methods on the `TableMetadata` class) out into a `serialization.py` file that includes `FromDict`, `ToDict`, `FromByteStream`, `FromInputFile`, and `ToInputFile` classes of staticmethods.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135296204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135317507","html_url":"https://github.com/apache/iceberg/pull/4692#issuecomment-1135317507","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4692","id":1135317507,"node_id":"IC_kwDOCW7NX85Dq5ID","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T02:00:52Z","updated_at":"2022-05-24T02:01:33Z","author_association":"CONTRIBUTOR","body":"> Yea, we can't tell for sure, but wondering if you see value in allowing users who know what they are doing to turn this optimization on.\r\n\r\nI'd be open for that but I feel like we need to think a little bit more about how to expose this.\r\n\r\n@SinghAsDev, do you happen to have some performance numbers to share? I'd image a local sort be fairly cheap unless there is a shuffle spill or substantial GC time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135317507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135383263","html_url":"https://github.com/apache/iceberg/pull/4836#issuecomment-1135383263","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4836","id":1135383263,"node_id":"IC_kwDOCW7NX85DrJLf","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T04:12:48Z","updated_at":"2022-05-24T04:12:48Z","author_association":"CONTRIBUTOR","body":"Sure thing!!, Added a [PR](https://github.com/apache/iceberg/pull/4850) for backporting this to (3.1 / 3.0 / 2.4).\r\n\r\nThanks @RussellSpitzer  !!!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135383263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135385069","html_url":"https://github.com/apache/iceberg/pull/4795#issuecomment-1135385069","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4795","id":1135385069,"node_id":"IC_kwDOCW7NX85DrJnt","user":{"login":"CodingCat","id":678008,"node_id":"MDQ6VXNlcjY3ODAwOA==","avatar_url":"https://avatars.githubusercontent.com/u/678008?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingCat","html_url":"https://github.com/CodingCat","followers_url":"https://api.github.com/users/CodingCat/followers","following_url":"https://api.github.com/users/CodingCat/following{/other_user}","gists_url":"https://api.github.com/users/CodingCat/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingCat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingCat/subscriptions","organizations_url":"https://api.github.com/users/CodingCat/orgs","repos_url":"https://api.github.com/users/CodingCat/repos","events_url":"https://api.github.com/users/CodingCat/events{/privacy}","received_events_url":"https://api.github.com/users/CodingCat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T04:15:41Z","updated_at":"2022-05-24T04:15:41Z","author_association":"CONTRIBUTOR","body":"after looking at the code again, i don't think there is any existing way for me to do this, \r\n\r\nI would like to work on a PR to implement something similar to https://github.com/delta-io/delta/blob/8974685f574394628cf9b5c5457093e7cbcd3d23/core/src/main/scala/org/apache/spark/sql/delta/sources/DeltaSQLConf.scala#L62-L66, where you can set something in the sessionstate.conf and then when we commit from SparkWrite take that information and set with SnapshotUpdate.set(k, v), how does it sound to you ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135385069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135391008","html_url":"https://github.com/apache/iceberg/pull/4836#issuecomment-1135391008","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4836","id":1135391008,"node_id":"IC_kwDOCW7NX85DrLEg","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T04:26:10Z","updated_at":"2022-05-24T04:26:10Z","author_association":"MEMBER","body":"@nastra : We need to take this for 0.13.X branch as well for 0.13.2 release I guess. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135391008/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135432202","html_url":"https://github.com/apache/iceberg/issues/4804#issuecomment-1135432202","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4804","id":1135432202,"node_id":"IC_kwDOCW7NX85DrVIK","user":{"login":"akshayar","id":9114243,"node_id":"MDQ6VXNlcjkxMTQyNDM=","avatar_url":"https://avatars.githubusercontent.com/u/9114243?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayar","html_url":"https://github.com/akshayar","followers_url":"https://api.github.com/users/akshayar/followers","following_url":"https://api.github.com/users/akshayar/following{/other_user}","gists_url":"https://api.github.com/users/akshayar/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayar/subscriptions","organizations_url":"https://api.github.com/users/akshayar/orgs","repos_url":"https://api.github.com/users/akshayar/repos","events_url":"https://api.github.com/users/akshayar/events{/privacy}","received_events_url":"https://api.github.com/users/akshayar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T05:37:14Z","updated_at":"2022-05-24T05:37:14Z","author_association":"NONE","body":"Yes, the issue is with credential. However what puzzles me is that it works fine for EMR on EKS when the job runs on EC2. While when I run on Fargate nodes it fails. \r\nFor Fargate run what what should I do ?\r\nI am not using --conf spark.sql.catalog.my_catalog.lock-impl=org.apache.iceberg.aws.glue.DynamoLockManager as I am not doing concurrent writes. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135432202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135440438","html_url":"https://github.com/apache/iceberg/pull/4799#issuecomment-1135440438","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4799","id":1135440438,"node_id":"IC_kwDOCW7NX85DrXI2","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T05:52:44Z","updated_at":"2022-05-24T05:52:44Z","author_association":"CONTRIBUTOR","body":"LGTM as well @singhpk234 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135440438/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135486687","html_url":"https://github.com/apache/iceberg/issues/2869#issuecomment-1135486687","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2869","id":1135486687,"node_id":"IC_kwDOCW7NX85Dribf","user":{"login":"Cqz666","id":50294123,"node_id":"MDQ6VXNlcjUwMjk0MTIz","avatar_url":"https://avatars.githubusercontent.com/u/50294123?v=4","gravatar_id":"","url":"https://api.github.com/users/Cqz666","html_url":"https://github.com/Cqz666","followers_url":"https://api.github.com/users/Cqz666/followers","following_url":"https://api.github.com/users/Cqz666/following{/other_user}","gists_url":"https://api.github.com/users/Cqz666/gists{/gist_id}","starred_url":"https://api.github.com/users/Cqz666/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cqz666/subscriptions","organizations_url":"https://api.github.com/users/Cqz666/orgs","repos_url":"https://api.github.com/users/Cqz666/repos","events_url":"https://api.github.com/users/Cqz666/events{/privacy}","received_events_url":"https://api.github.com/users/Cqz666/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T07:00:56Z","updated_at":"2022-05-24T07:00:56Z","author_association":"NONE","body":"Is there any progress on this issue？","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135486687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135530435","html_url":"https://github.com/apache/iceberg/pull/4806#issuecomment-1135530435","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4806","id":1135530435,"node_id":"IC_kwDOCW7NX85DrtHD","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T07:50:32Z","updated_at":"2022-05-24T07:50:32Z","author_association":"MEMBER","body":"@danielcweeks \r\n\r\nThe point is that this is not correct Java code\r\n```java\r\nStream s = ...\r\nIterable i = s::iterator;\r\n```\r\n\r\nit compiles, because `Stream::iterator` method handle can be fit as an implementation of the `Iterable` interface, but it's not a correct implementation of that interface. `Iterable.iterator` method can be invoked multiple times, while `s.iterator` only once.\r\n\r\nThe change fixes the above, but i see also the downside: it's now possible to invoke the costly operation twice without code failing. Before the change, the Stream would probably report some exception on the second traversal.\r\n\r\n> f the intent is to allow for multiple iterations, .collect(Collectors.toList()) would be preferable to avoid recomputing.\r\n\r\nI think the interface intent was to avoid loading all data into memory at once. \r\n\r\nA yet different approach would be to let `encryption.decrypt` take `Iterator` (or `Stream`) instead of `Iterable.`\r\nI think this one is actually best, but would prefer to have buy-in first before going that route. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135530435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135593694","html_url":"https://github.com/apache/iceberg/pull/4518#issuecomment-1135593694","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4518","id":1135593694,"node_id":"IC_kwDOCW7NX85Dr8je","user":{"login":"steveloughran","id":162090,"node_id":"MDQ6VXNlcjE2MjA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/162090?v=4","gravatar_id":"","url":"https://api.github.com/users/steveloughran","html_url":"https://github.com/steveloughran","followers_url":"https://api.github.com/users/steveloughran/followers","following_url":"https://api.github.com/users/steveloughran/following{/other_user}","gists_url":"https://api.github.com/users/steveloughran/gists{/gist_id}","starred_url":"https://api.github.com/users/steveloughran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveloughran/subscriptions","organizations_url":"https://api.github.com/users/steveloughran/orgs","repos_url":"https://api.github.com/users/steveloughran/repos","events_url":"https://api.github.com/users/steveloughran/events{/privacy}","received_events_url":"https://api.github.com/users/steveloughran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T08:54:12Z","updated_at":"2022-05-24T08:54:12Z","author_association":"CONTRIBUTOR","body":"> it affects the corresponding time of the first access. \r\n\r\nif you are talking about any accessed timestamps in filesystems, know the cloud stores don't have them. and s3 objects creation times are when a multipart upload was initiated, not completed. not relevant for smaller files, but for many mb/gb ones, it is","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135593694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135732913","html_url":"https://github.com/apache/iceberg/pull/4838#issuecomment-1135732913","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4838","id":1135732913,"node_id":"IC_kwDOCW7NX85Dseix","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T10:25:39Z","updated_at":"2022-05-24T10:25:39Z","author_association":"MEMBER","body":"@openinx : Can you please help merge this. Some people are asking for flink 1.15 nightly builds in slack channel. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135732913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135772459","html_url":"https://github.com/apache/iceberg/issues/4804#issuecomment-1135772459","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4804","id":1135772459,"node_id":"IC_kwDOCW7NX85DsoMr","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T11:03:54Z","updated_at":"2022-05-24T11:04:16Z","author_association":"CONTRIBUTOR","body":"Can you please check the following:\r\n1. Is the AWS SDK v2 library present in the classpath with no conflict? If it is in the classpath, can you please explicitly try providing the access key specified either via environment variable (`AWS_ACCESS_KEY_ID`) or system property (`aws.accessKeyId`) for testing purpose.\r\n2. Does a normal Spark (non-Iceberg) job runs properly?\r\n\r\nAlso, can you please provide the reproduction steps so that I can replicate this issue at my end.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135772459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135819149","html_url":"https://github.com/apache/iceberg/pull/4537#issuecomment-1135819149","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4537","id":1135819149,"node_id":"IC_kwDOCW7NX85DszmN","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T11:52:23Z","updated_at":"2022-05-24T11:52:23Z","author_association":"MEMBER","body":"the build has passed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1135819149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]