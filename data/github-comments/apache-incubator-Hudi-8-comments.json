[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375134365","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-375134365","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":375134365,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTEzNDM2NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T23:58:24Z","updated_at":"2018-03-21T23:58:24Z","author_association":"CONTRIBUTOR","body":"@jianxu FYI since this might cause merging/syncing with internal repo.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375134365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375143800","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-375143800","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":375143800,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE0MzgwMA==","user":{"login":"jianxu","id":10394074,"node_id":"MDQ6VXNlcjEwMzk0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/10394074?v=4","gravatar_id":"","url":"https://api.github.com/users/jianxu","html_url":"https://github.com/jianxu","followers_url":"https://api.github.com/users/jianxu/followers","following_url":"https://api.github.com/users/jianxu/following{/other_user}","gists_url":"https://api.github.com/users/jianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/jianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jianxu/subscriptions","organizations_url":"https://api.github.com/users/jianxu/orgs","repos_url":"https://api.github.com/users/jianxu/repos","events_url":"https://api.github.com/users/jianxu/events{/privacy}","received_events_url":"https://api.github.com/users/jianxu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T00:58:13Z","updated_at":"2018-03-22T00:58:13Z","author_association":"CONTRIBUTOR","body":"thanks  @n3nash!  @bvaradar is there way to apply the coding style change without manually indent for some cases? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375143800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375152377","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-375152377","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":375152377,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE1MjM3Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T01:51:58Z","updated_at":"2018-03-22T01:51:58Z","author_association":"CONTRIBUTOR","body":"@jianxu : Other than multi-line lambda expressions and very deep-nested generics based expressions, the indentations should work automatically if you use the style/intellij-java-google-style.xml (in this PR) as code-style (for intellij) and do Reformat-Code. \r\n\r\nFor IntelliJ Ultimate 2017.3, the way to setupis Preferences -> Editor -> Code Style -> Java -> Import Schema (under Settings icon) -> IntelliJ IDEA Code Style XML  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375152377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375165783","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-375165783","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":375165783,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE2NTc4Mw==","user":{"login":"jianxu","id":10394074,"node_id":"MDQ6VXNlcjEwMzk0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/10394074?v=4","gravatar_id":"","url":"https://api.github.com/users/jianxu","html_url":"https://github.com/jianxu","followers_url":"https://api.github.com/users/jianxu/followers","following_url":"https://api.github.com/users/jianxu/following{/other_user}","gists_url":"https://api.github.com/users/jianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/jianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jianxu/subscriptions","organizations_url":"https://api.github.com/users/jianxu/orgs","repos_url":"https://api.github.com/users/jianxu/repos","events_url":"https://api.github.com/users/jianxu/events{/privacy}","received_events_url":"https://api.github.com/users/jianxu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T03:14:18Z","updated_at":"2018-03-22T03:14:18Z","author_association":"CONTRIBUTOR","body":"@bvaradar  Thanks for the info, maybe also update https://github.com/uber/hudi/blob/master/docs/dev_setup.md ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375165783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375176949","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-375176949","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":375176949,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE3Njk0OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T04:34:25Z","updated_at":"2018-03-22T04:34:25Z","author_association":"CONTRIBUTOR","body":"Thanks @jianxu. I have updated the doc.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375176949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375186559","html_url":"https://github.com/apache/hudi/pull/361#issuecomment-375186559","issue_url":"https://api.github.com/repos/apache/hudi/issues/361","id":375186559,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE4NjU1OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T05:41:40Z","updated_at":"2018-03-22T05:41:40Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Please take a pass at this PR too tomorrow when you look over the other 2.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375186559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375208808","html_url":"https://github.com/apache/hudi/pull/350#issuecomment-375208808","issue_url":"https://api.github.com/repos/apache/hudi/issues/350","id":375208808,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTIwODgwOA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T07:54:11Z","updated_at":"2018-03-22T07:54:11Z","author_association":"CONTRIBUTOR","body":"The sizeEstimator, which is using twitter ObjectSizeCalculator, shows a min of 95 ms and max of 180 ms as below : \r\n\r\n18/03/22 07:18:49 INFO collection.ExternalSpillableMap: Estimated Payload size => 1049008 Time taken 126\r\n18/03/22 07:18:49 INFO collection.ExternalSpillableMap: Estimated Payload size => 1037889 Time taken 180\r\n18/03/22 07:18:49 INFO collection.ExternalSpillableMap: Estimated Payload size => 1038006 Time taken 95\r\n\r\nFor now, I will live with calculating the payload size once at the beginning, if that shows problems will invest in a config based every N records size estimate.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375208808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375366036","html_url":"https://github.com/apache/hudi/pull/358#issuecomment-375366036","issue_url":"https://api.github.com/repos/apache/hudi/issues/358","id":375366036,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTM2NjAzNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T16:17:49Z","updated_at":"2018-03-22T16:17:49Z","author_association":"MEMBER","body":"@bvaradar this is a good starter review. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375366036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375391136","html_url":"https://github.com/apache/hudi/pull/358#issuecomment-375391136","issue_url":"https://api.github.com/repos/apache/hudi/issues/358","id":375391136,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTM5MTEzNg==","user":{"login":"jianxu","id":10394074,"node_id":"MDQ6VXNlcjEwMzk0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/10394074?v=4","gravatar_id":"","url":"https://api.github.com/users/jianxu","html_url":"https://github.com/jianxu","followers_url":"https://api.github.com/users/jianxu/followers","following_url":"https://api.github.com/users/jianxu/following{/other_user}","gists_url":"https://api.github.com/users/jianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/jianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jianxu/subscriptions","organizations_url":"https://api.github.com/users/jianxu/orgs","repos_url":"https://api.github.com/users/jianxu/repos","events_url":"https://api.github.com/users/jianxu/events{/privacy}","received_events_url":"https://api.github.com/users/jianxu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T17:28:16Z","updated_at":"2018-03-22T17:28:16Z","author_association":"CONTRIBUTOR","body":"Synced with @ovj the current approach is very simple and would achieve what we want. cc @vinothchandar @bvaradar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375391136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375474223","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-375474223","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":375474223,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQ3NDIyMw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T22:10:58Z","updated_at":"2018-03-22T22:10:58Z","author_association":"CONTRIBUTOR","body":"@bvaradar it LGTM. Can you hold off on merging this till I merge the 1 large PR I have. I would like to avoid dealing with conflicts if possible, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375474223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375494460","html_url":"https://github.com/apache/hudi/pull/350#issuecomment-375494460","issue_url":"https://api.github.com/repos/apache/hudi/issues/350","id":375494460,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQ5NDQ2MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T23:49:54Z","updated_at":"2018-03-22T23:49:54Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I did a little more testing and realized it's really difficult to come up with a concrete object size for an entry in the hashmap in the JVM since objects can be shared etc. I'm thinking if spillableMap should be made config based for now ? Need to spend more time to understand how to do object sizing so that records don't spill to disk when they are not needed to. WDYT ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375494460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375529134","html_url":"https://github.com/apache/hudi/pull/350#issuecomment-375529134","issue_url":"https://api.github.com/repos/apache/hudi/issues/350","id":375529134,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTUyOTEzNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T03:04:45Z","updated_at":"2018-03-23T03:04:45Z","author_association":"MEMBER","body":">>I'm thinking if spillableMap should be made config based for now\r\nMeaning, you want to control if we use spillable map or totally in-memory hashmap? \r\n\r\n>> I did a little more testing and realized it's really difficult to come up with a concrete object size for an entry in the hashmap in the JVM since objects can be shared etc.\r\nCan we especially hard if we hold avro records with a shared schema object... Is this a new problem with the twitter estimator? we were using Spark's estimator in other places right.. \r\n\r\nCan you provide me more context in to whats going wrong","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375529134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375531074","html_url":"https://github.com/apache/hudi/pull/347#issuecomment-375531074","issue_url":"https://api.github.com/repos/apache/hudi/issues/347","id":375531074,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTUzMTA3NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T03:16:09Z","updated_at":"2018-03-23T03:16:09Z","author_association":"MEMBER","body":"Option #4 (lmk what you think) \r\n- We pull out `BucketInfo` which is what holds things like fileLocation etc  as a top level class\r\n- We save up the number of records needed to write a file of configure size, when computed once during UpsertPartitioner construction, into BucketInfo (or open to another member in Partitioner itself)\r\n- We pass BucketInfo from driver to each executor and let it do its thing\r\n- For createHandle, we directly chop off files based on number of records (which will factor in compression ratio automatically) set in BucketInfo or fallback using a configured compression fraction if not set (i.e initial bulkInsert)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375531074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375538169","html_url":"https://github.com/apache/hudi/pull/350#issuecomment-375538169","issue_url":"https://api.github.com/repos/apache/hudi/issues/350","id":375538169,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTUzODE2OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T04:03:42Z","updated_at":"2018-03-23T04:18:38Z","author_association":"CONTRIBUTOR","body":"All sizes in bytes.\r\nYeah, so say we have a Map[HoodieRecords], in most scenarios, what ends up happening is a HoodieRecord holds a payload which might in turn hold a GenericRecord. The size of such a HoodieRecord is 1049008. When I drill into the HoodieRecord, it turns out that schema is around 100000 and the rest is 49008. If you estimate the size of hoodie record, we would assume it to be 1049008. But actually, the schema object is shared amongst all payloads of all HoodieRecords, so ideally, the real payload size is 49008. I've been able to address this issue in the `HoodieRecordConverter` by performing some Class field look ups, you might have noticed this during your review, and subtracting the sizeOfSchema from the sizeOfRecord to get the actual HoodieRecord size in the heap, which is 49008. So all good uptill now but still a little hacky. During some more offline tests, I realized that for a more complex payload which hold nested schemas, I cannot do any such optimizations an hence end up over-estimating the size of the record. The downside of overestimating is we spillToDisk much sooner/often than we would have if we were using a regular HashMap<>. \r\n\r\n@vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375538169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375541796","html_url":"https://github.com/apache/hudi/pull/347#issuecomment-375541796","issue_url":"https://api.github.com/repos/apache/hudi/issues/347","id":375541796,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTU0MTc5Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T04:30:33Z","updated_at":"2018-03-23T04:30:33Z","author_association":"CONTRIBUTOR","body":"I'm fine with this approach too. Ideally, I was looking for something that requires less refactor and can be a quick way to fix this compression issue so I can spend time starting to run a dataset end to end, tune the compaction process and move towards running this in prod, hence this PR and my suggested approaches..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375541796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375545487","html_url":"https://github.com/apache/hudi/pull/358#issuecomment-375545487","issue_url":"https://api.github.com/repos/apache/hudi/issues/358","id":375545487,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTU0NTQ4Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T04:59:06Z","updated_at":"2018-03-23T04:59:06Z","author_association":"MEMBER","body":"Introducing a config may not be a bad idea - with default as current level. So clients have the ability to control this if they choose not to cache here","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375545487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375545678","html_url":"https://github.com/apache/hudi/pull/358#issuecomment-375545678","issue_url":"https://api.github.com/repos/apache/hudi/issues/358","id":375545678,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTU0NTY3OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T05:00:31Z","updated_at":"2018-03-23T05:00:31Z","author_association":"MEMBER","body":"Merging for now.. But I encourage us come up with more long term solutions in first cut moving forward.. or sit together and do a bug bash week of some sort to fix such issues that keep accumulating","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375545678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375548984","html_url":"https://github.com/apache/hudi/pull/347#issuecomment-375548984","issue_url":"https://api.github.com/repos/apache/hudi/issues/347","id":375548984,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTU0ODk4NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T05:25:37Z","updated_at":"2018-03-23T05:25:37Z","author_association":"MEMBER","body":"Understand where you are coming from. Unfortunately this is not straightforward.  If thats your stated short term goal, I suggest just introduce a config for compression ratio, set it as desired and move on.. \r\nWould that work? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375548984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375549388","html_url":"https://github.com/apache/hudi/pull/350#issuecomment-375549388","issue_url":"https://api.github.com/repos/apache/hudi/issues/350","id":375549388,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTU0OTM4OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T05:28:42Z","updated_at":"2018-03-23T05:28:42Z","author_association":"MEMBER","body":"I think holding it serialized could address some of these concerns? Taking a page out of Spark's book, this is why serialized in-memory storage is better/more compact at more CPU cost.. is that an option? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375549388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375554061","html_url":"https://github.com/apache/hudi/pull/347#issuecomment-375554061","issue_url":"https://api.github.com/repos/apache/hudi/issues/347","id":375554061,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTU1NDA2MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T06:01:58Z","updated_at":"2018-03-23T06:01:58Z","author_association":"CONTRIBUTOR","body":"Yeah, let me do that for now. Once I start to run some datasets and am able to do validations, I can spend time on this again.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375554061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375711326","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-375711326","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":375711326,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTcxMTMyNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T15:52:29Z","updated_at":"2018-03-26T05:18:30Z","author_association":"CONTRIBUTOR","body":"@vinothchandar :  Both specifications are aligned to the extent they are not contradicting each other. But there are some exceptions. \r\n\r\n1. there is an issue with checkstyle causing a generic indentation rule to fail for some nested lambda expressions (have added suppression for one case). \r\n2. There are below caveats as I could not express some checkstyle rules in code-style (but felt should be good to have). They are:\r\n   (a) Moving top-level non-public classes to separate files\r\n   (b) Using default in switch\r\n   (c) Local Variables Naming\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375711326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375820319","html_url":"https://github.com/apache/hudi/issues/364#issuecomment-375820319","issue_url":"https://api.github.com/repos/apache/hudi/issues/364","id":375820319,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTgyMDMxOQ==","user":{"login":"jianxu","id":10394074,"node_id":"MDQ6VXNlcjEwMzk0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/10394074?v=4","gravatar_id":"","url":"https://api.github.com/users/jianxu","html_url":"https://github.com/jianxu","followers_url":"https://api.github.com/users/jianxu/followers","following_url":"https://api.github.com/users/jianxu/following{/other_user}","gists_url":"https://api.github.com/users/jianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/jianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jianxu/subscriptions","organizations_url":"https://api.github.com/users/jianxu/orgs","repos_url":"https://api.github.com/users/jianxu/repos","events_url":"https://api.github.com/users/jianxu/events{/privacy}","received_events_url":"https://api.github.com/users/jianxu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T23:01:34Z","updated_at":"2018-03-23T23:01:34Z","author_association":"CONTRIBUTOR","body":"Thanks @n3nash !  Just to 1 additional note: the cap should apply to both `clean` instants and `commit` instants.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375820319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375824021","html_url":"https://github.com/apache/hudi/issues/364#issuecomment-375824021","issue_url":"https://api.github.com/repos/apache/hudi/issues/364","id":375824021,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTgyNDAyMQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T23:26:55Z","updated_at":"2018-03-23T23:27:18Z","author_association":"CONTRIBUTOR","body":"@n3nash , @jianxu : Can you link stack-trace or heap-dump when OOM occured ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375824021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375991104","html_url":"https://github.com/apache/hudi/pull/361#issuecomment-375991104","issue_url":"https://api.github.com/repos/apache/hudi/issues/361","id":375991104,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTk5MTEwNA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-25T18:13:39Z","updated_at":"2018-03-25T18:13:39Z","author_association":"CONTRIBUTOR","body":"@vinothchandar addressed your comments, please take anther pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375991104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375991256","html_url":"https://github.com/apache/hudi/pull/350#issuecomment-375991256","issue_url":"https://api.github.com/repos/apache/hudi/issues/350","id":375991256,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTk5MTI1Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-25T18:15:35Z","updated_at":"2018-03-25T18:15:35Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Found out a better (and simple) way to accurately size an entry in a map and works well for any type of payload. I've incorporated that and your comments, please take a pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/375991256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376049230","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-376049230","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":376049230,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjA0OTIzMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-26T05:19:56Z","updated_at":"2018-03-26T05:19:56Z","author_association":"MEMBER","body":"sg.. can you rebase this once #350 is merged.. I think this is what @n3nash is hinting at. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376049230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376599328","html_url":"https://github.com/apache/hudi/pull/350#issuecomment-376599328","issue_url":"https://api.github.com/repos/apache/hudi/issues/350","id":376599328,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjU5OTMyOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-27T17:00:26Z","updated_at":"2018-03-27T17:00:26Z","author_association":"MEMBER","body":"@n3nash we can move it back to IOHandle if that eases things. May be a static helper closer to the Map itself? since this math can be reused for compaction too? My original comment was on not having the a lot getter/setters for these spark props, which the localizing of variables addressed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376599328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376680885","html_url":"https://github.com/apache/hudi/pull/355#issuecomment-376680885","issue_url":"https://api.github.com/repos/apache/hudi/issues/355","id":376680885,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjY4MDg4NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-27T21:25:40Z","updated_at":"2018-03-27T21:25:40Z","author_association":"MEMBER","body":"are the tests passing locally for you? seems CI failed? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376680885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376732620","html_url":"https://github.com/apache/hudi/pull/350#issuecomment-376732620","issue_url":"https://api.github.com/repos/apache/hudi/issues/350","id":376732620,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjczMjYyMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-28T01:48:11Z","updated_at":"2018-03-28T01:48:11Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Revised the PR. Unfortunately, cannot get spark defaults since they are hard-coded. I've added link to the places where they are hardcoded in the spark code in the comments. If there are more changes you propose, can we merge this and create a follow up ticket which I can take up in the following week ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376732620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376918883","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-376918883","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":376918883,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjkxODg4Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-28T15:01:24Z","updated_at":"2018-03-28T15:01:24Z","author_association":"MEMBER","body":"@n3nash can @bvaradar merge this now?  @bvaradar please rebase this based off latest master since a few commits have a gone in.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376918883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376924142","html_url":"https://github.com/apache/hudi/pull/355#issuecomment-376924142","issue_url":"https://api.github.com/repos/apache/hudi/issues/355","id":376924142,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjkyNDE0Mg==","user":{"login":"xjodoin","id":235402,"node_id":"MDQ6VXNlcjIzNTQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/235402?v=4","gravatar_id":"","url":"https://api.github.com/users/xjodoin","html_url":"https://github.com/xjodoin","followers_url":"https://api.github.com/users/xjodoin/followers","following_url":"https://api.github.com/users/xjodoin/following{/other_user}","gists_url":"https://api.github.com/users/xjodoin/gists{/gist_id}","starred_url":"https://api.github.com/users/xjodoin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xjodoin/subscriptions","organizations_url":"https://api.github.com/users/xjodoin/orgs","repos_url":"https://api.github.com/users/xjodoin/repos","events_url":"https://api.github.com/users/xjodoin/events{/privacy}","received_events_url":"https://api.github.com/users/xjodoin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-28T15:15:48Z","updated_at":"2018-03-28T15:15:48Z","author_association":"CONTRIBUTOR","body":"2/3 pass when the test failed I have this error\r\nfile:/tmp/junit8856697672772882793/2016/03/15/df7621af-b5e6-4e81-9771-7d88fb7ef636_0_20180328093139.parquet is not a Parquet file (too small)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376924142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376969026","html_url":"https://github.com/apache/hudi/pull/355#issuecomment-376969026","issue_url":"https://api.github.com/repos/apache/hudi/issues/355","id":376969026,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk2OTAyNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-28T17:28:11Z","updated_at":"2018-03-28T17:29:10Z","author_association":"CONTRIBUTOR","body":"This error generally happens when the parquet file wasn't completely written or the task failed much before and resulted in this exception. Can you look at the stack trace and see what's causing this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376969026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376970858","html_url":"https://github.com/apache/hudi/pull/355#issuecomment-376970858","issue_url":"https://api.github.com/repos/apache/hudi/issues/355","id":376970858,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk3MDg1OA==","user":{"login":"xjodoin","id":235402,"node_id":"MDQ6VXNlcjIzNTQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/235402?v=4","gravatar_id":"","url":"https://api.github.com/users/xjodoin","html_url":"https://github.com/xjodoin","followers_url":"https://api.github.com/users/xjodoin/followers","following_url":"https://api.github.com/users/xjodoin/following{/other_user}","gists_url":"https://api.github.com/users/xjodoin/gists{/gist_id}","starred_url":"https://api.github.com/users/xjodoin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xjodoin/subscriptions","organizations_url":"https://api.github.com/users/xjodoin/orgs","repos_url":"https://api.github.com/users/xjodoin/repos","events_url":"https://api.github.com/users/xjodoin/events{/privacy}","received_events_url":"https://api.github.com/users/xjodoin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-28T17:33:49Z","updated_at":"2018-03-28T17:33:49Z","author_association":"CONTRIBUTOR","body":"is on the new test I wrote \r\n\r\nshouldCompactTableWithSpecificRecord(com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage)  Time elapsed: 1.242 sec  <<< ERROR!\r\ncom.uber.hoodie.exception.HoodieInsertException: Failed to insert for commit time 20180328170857\r\n\tat com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage.insertNewDataSpecificRecord(TestHoodieClientOnCopyOnWriteStorage.java:1631)\r\n\tat com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage.shouldCompactTableWithSpecificRecord(TestHoodieClientOnCopyOnWriteStorage.java:1625)\r\nCaused by: org.apache.spark.SparkException: \r\nJob aborted due to stage failure: Task 0 in stage 15.0 failed 1 times, most recent failure: Lost task 0.0 in stage 15.0 (TID 30, localhost, executor driver): com.uber.hoodie.exception.HoodieUpsertException: Error upserting bucketType UPDATE for partition :0\r\n\tat com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpsertPartition(HoodieCopyOnWriteTable.java:512)\r\n\tat com.uber.hoodie.table.HoodieCopyOnWriteTable.handleInsertPartition(HoodieCopyOnWriteTable.java:520)\r\n\tat com.uber.hoodie.HoodieWriteClient.lambda$upsertRecordsInternal$7ef77fd$1(HoodieWriteClient.java:448)\r\n\tat org.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\r\n\tat org.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$26.apply(RDD.scala:843)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$26.apply(RDD.scala:843)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:287)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$8.apply(RDD.scala:336)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$8.apply(RDD.scala:334)\r\n\tat org.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:973)\r\n\tat org.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:948)\r\n\tat org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:888)\r\n\tat org.apache.spark.storage.BlockManager.doPutIterator(BlockManager.scala:948)\r\n\tat org.apache.spark.storage.BlockManager.getOrElseUpdate(BlockManager.scala:694)\r\n\tat org.apache.spark.rdd.RDD.getOrCompute(RDD.scala:334)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:285)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:287)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:99)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:282)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.IOException: Could not read footer: java.lang.RuntimeException: file:/tmp/junit8422691166231571669/2016/03/15/2ad1c216-eaf7-40e0-8324-38e493a00110_0_20180328170857.parquet is not a Parquet file (too small)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readAllFootersInParallel(ParquetFileReader.java:248)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readAllFootersInParallelUsingSummaryFiles(ParquetFileReader.java:189)\r\n\tat org.apache.parquet.hadoop.ParquetReader.<init>(ParquetReader.java:115)\r\n\tat org.apache.parquet.hadoop.ParquetReader.<init>(ParquetReader.java:48)\r\n\tat org.apache.parquet.hadoop.ParquetReader$Builder.build(ParquetReader.java:207)\r\n\tat com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpdateInternal(HoodieCopyOnWriteTable.java:450)\r\n\tat com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpdate(HoodieCopyOnWriteTable.java:430)\r\n\tat com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpsertPartition(HoodieCopyOnWriteTable.java:504)\r\n\t... 29 more\r\nCaused by: java.lang.RuntimeException: file:/tmp/junit8422691166231571669/2016/03/15/2ad1c216-eaf7-40e0-8324-38e493a00110_0_20180328170857.parquet is not a Parquet file (too small)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:413)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader$2.call(ParquetFileReader.java:238)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader$2.call(ParquetFileReader.java:234)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t... 3 more","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376970858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376979914","html_url":"https://github.com/apache/hudi/issues/364#issuecomment-376979914","issue_url":"https://api.github.com/repos/apache/hudi/issues/364","id":376979914,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk3OTkxNA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-28T18:01:42Z","updated_at":"2018-03-28T18:01:42Z","author_association":"CONTRIBUTOR","body":"```\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.Arrays.copyOf(Arrays.java:3236)\r\n\tat java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:118)\r\n\tat java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\r\n\tat java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:153)\r\n\tat java.io.DataOutputStream.write(DataOutputStream.java:107)\r\n\tat java.io.FilterOutputStream.write(FilterOutputStream.java:97)\r\n\tat com.uber.hoodie.common.table.log.block.HoodieAvroDataBlock.lambda$getBytes$0(HoodieAvroDataBlock.java:92)\r\n\tat com.uber.hoodie.common.table.log.block.HoodieAvroDataBlock$$Lambda$100/1958503496.accept(Unknown Source)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1249)\r\n\tat com.uber.hoodie.common.table.log.block.HoodieAvroDataBlock.getBytes(HoodieAvroDataBlock.java:79)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/376979914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377041044","html_url":"https://github.com/apache/hudi/pull/355#issuecomment-377041044","issue_url":"https://api.github.com/repos/apache/hudi/issues/355","id":377041044,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzA0MTA0NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-28T21:21:07Z","updated_at":"2018-03-28T21:21:07Z","author_association":"CONTRIBUTOR","body":"I applied this PR internally. Had to move the SpecificRecord.avsc to src/main/... for the class to be generated. You might want to clean install to see if the current place the .avsc file code generates the class. After that, I ran your test case in a loop and it runs fine and unable to re-produce this problem. Can you try to step through the code and debug to see why it's breaking ? Something to note there is the FileSystem being used to create the file and/or read the file. Please make sure either the LocalFS or the DFS (either one of them) is used throughout the lifetime of the test. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377041044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377314417","html_url":"https://github.com/apache/hudi/issues/364#issuecomment-377314417","issue_url":"https://api.github.com/repos/apache/hudi/issues/364","id":377314417,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNDQxNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:38:50Z","updated_at":"2018-03-29T17:38:50Z","author_association":"MEMBER","body":"Not sure if I want to rush into caping yet. Can we get into why the archival failed for 1-2 days? How much memory was used, how much was needed? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377314417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377314623","html_url":"https://github.com/apache/hudi/issues/354#issuecomment-377314623","issue_url":"https://api.github.com/repos/apache/hudi/issues/354","id":377314623,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNDYyMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:39:33Z","updated_at":"2018-03-29T17:39:33Z","author_association":"MEMBER","body":"Merged. closing ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377314623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377314873","html_url":"https://github.com/apache/hudi/issues/353#issuecomment-377314873","issue_url":"https://api.github.com/repos/apache/hudi/issues/353","id":377314873,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNDg3Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:40:20Z","updated_at":"2018-03-29T17:40:20Z","author_association":"MEMBER","body":"@n3nash I think this is done too. Reopen if not ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377314873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377315034","html_url":"https://github.com/apache/hudi/issues/352#issuecomment-377315034","issue_url":"https://api.github.com/repos/apache/hudi/issues/352","id":377315034,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNTAzNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:40:50Z","updated_at":"2018-03-29T17:40:50Z","author_association":"MEMBER","body":"we have a WIP for this #347 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377315034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377315174","html_url":"https://github.com/apache/hudi/pull/347#issuecomment-377315174","issue_url":"https://api.github.com/repos/apache/hudi/issues/347","id":377315174,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNTE3NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:41:15Z","updated_at":"2018-03-29T17:41:15Z","author_association":"MEMBER","body":"closing for now , keeping the issue open ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377315174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377315305","html_url":"https://github.com/apache/hudi/issues/351#issuecomment-377315305","issue_url":"https://api.github.com/repos/apache/hudi/issues/351","id":377315305,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNTMwNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:41:42Z","updated_at":"2018-03-29T17:41:42Z","author_association":"MEMBER","body":"@n3nash reopen if needed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377315305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377315417","html_url":"https://github.com/apache/hudi/issues/348#issuecomment-377315417","issue_url":"https://api.github.com/repos/apache/hudi/issues/348","id":377315417,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNTQxNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:42:07Z","updated_at":"2018-03-29T17:42:07Z","author_association":"MEMBER","body":"@xjodoin reopen if still problem persists.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377315417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377317205","html_url":"https://github.com/apache/hudi/issues/342#issuecomment-377317205","issue_url":"https://api.github.com/repos/apache/hudi/issues/342","id":377317205,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNzIwNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:48:10Z","updated_at":"2018-03-29T17:48:10Z","author_association":"MEMBER","body":"#305 should have fixed this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377317205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377317854","html_url":"https://github.com/apache/hudi/issues/333#issuecomment-377317854","issue_url":"https://api.github.com/repos/apache/hudi/issues/333","id":377317854,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNzg1NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:50:26Z","updated_at":"2018-03-29T17:50:26Z","author_association":"MEMBER","body":"we discussed this f2f.. FWIW, this is the correct and expected behavior.. we don't expect a key to be present multiple times in the partition .. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377317854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377317997","html_url":"https://github.com/apache/hudi/issues/324#issuecomment-377317997","issue_url":"https://api.github.com/repos/apache/hudi/issues/324","id":377317997,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxNzk5Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:50:56Z","updated_at":"2018-03-29T17:50:56Z","author_association":"MEMBER","body":"this is merged. #331 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377317997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377318306","html_url":"https://github.com/apache/hudi/issues/301#issuecomment-377318306","issue_url":"https://api.github.com/repos/apache/hudi/issues/301","id":377318306,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxODMwNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:51:56Z","updated_at":"2018-03-29T17:51:56Z","author_association":"MEMBER","body":"@n3nash reopen if needed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377318306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377318862","html_url":"https://github.com/apache/hudi/issues/274#issuecomment-377318862","issue_url":"https://api.github.com/repos/apache/hudi/issues/274","id":377318862,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxODg2Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:53:48Z","updated_at":"2018-03-29T17:53:48Z","author_association":"MEMBER","body":"This has been fixed as well. if we can append, now we will create a new file.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377318862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377319104","html_url":"https://github.com/apache/hudi/issues/270#issuecomment-377319104","issue_url":"https://api.github.com/repos/apache/hudi/issues/270","id":377319104,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMxOTEwNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T17:54:36Z","updated_at":"2018-03-29T17:54:36Z","author_association":"MEMBER","body":"@n3nash can you add more details on when the estimation is wrong","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377319104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377321337","html_url":"https://github.com/apache/hudi/issues/260#issuecomment-377321337","issue_url":"https://api.github.com/repos/apache/hudi/issues/260","id":377321337,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMyMTMzNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T18:01:49Z","updated_at":"2018-03-29T18:01:49Z","author_association":"MEMBER","body":"@ovj where are we with this ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377321337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377322035","html_url":"https://github.com/apache/hudi/issues/174#issuecomment-377322035","issue_url":"https://api.github.com/repos/apache/hudi/issues/174","id":377322035,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMyMjAzNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T18:04:15Z","updated_at":"2018-03-29T18:04:15Z","author_association":"MEMBER","body":"@n3nash looks like this is a lot of what we ended up doing recently..\r\n@prazanna has this written down already :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377322035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377322149","html_url":"https://github.com/apache/hudi/issues/173#issuecomment-377322149","issue_url":"https://api.github.com/repos/apache/hudi/issues/173","id":377322149,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMyMjE0OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T18:04:40Z","updated_at":"2018-03-29T18:04:40Z","author_association":"MEMBER","body":"@n3nash I think it does now.. Can you confirm and close this? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377322149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377322555","html_url":"https://github.com/apache/hudi/issues/160#issuecomment-377322555","issue_url":"https://api.github.com/repos/apache/hudi/issues/160","id":377322555,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMyMjU1NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T18:06:03Z","updated_at":"2018-03-29T18:06:03Z","author_association":"MEMBER","body":"Hi are you stil hitting this issue? We were unable to repro this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377322555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377327723","html_url":"https://github.com/apache/hudi/issues/134#issuecomment-377327723","issue_url":"https://api.github.com/repos/apache/hudi/issues/134","id":377327723,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMyNzcyMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T18:23:11Z","updated_at":"2018-03-29T18:23:11Z","author_association":"MEMBER","body":"@n3nash has implemented a bitcask style spillable map ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377327723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377327781","html_url":"https://github.com/apache/hudi/issues/172#issuecomment-377327781","issue_url":"https://api.github.com/repos/apache/hudi/issues/172","id":377327781,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMyNzc4MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T18:23:25Z","updated_at":"2018-03-29T18:23:25Z","author_association":"MEMBER","body":"@n3nash ping..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377327781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377328089","html_url":"https://github.com/apache/hudi/issues/96#issuecomment-377328089","issue_url":"https://api.github.com/repos/apache/hudi/issues/96","id":377328089,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzMyODA4OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-29T18:24:33Z","updated_at":"2018-03-29T18:24:33Z","author_association":"MEMBER","body":"This should be working now.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377328089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377567458","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-377567458","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":377567458,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzU2NzQ1OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-30T16:47:31Z","updated_at":"2018-03-30T16:47:31Z","author_association":"MEMBER","body":"@jianxu any concerns before I merge this?  @n3nash ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377567458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377571845","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-377571845","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":377571845,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzU3MTg0NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-30T17:06:14Z","updated_at":"2018-03-30T17:06:14Z","author_association":"CONTRIBUTOR","body":"@vinothchandar No objections from my end. @bvaradar  BTW, does this take care of unused imports too ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377571845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377576044","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-377576044","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":377576044,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzU3NjA0NA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-30T17:25:54Z","updated_at":"2018-03-30T17:25:54Z","author_association":"CONTRIBUTOR","body":"@n3nash : Thanks. Added both Unused and Redundant Imports in checkstyle and corresponding code-style. If there are any other rules missing, we can add them in future PRs. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377576044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377585589","html_url":"https://github.com/apache/hudi/pull/360#issuecomment-377585589","issue_url":"https://api.github.com/repos/apache/hudi/issues/360","id":377585589,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzU4NTU4OQ==","user":{"login":"jianxu","id":10394074,"node_id":"MDQ6VXNlcjEwMzk0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/10394074?v=4","gravatar_id":"","url":"https://api.github.com/users/jianxu","html_url":"https://github.com/jianxu","followers_url":"https://api.github.com/users/jianxu/followers","following_url":"https://api.github.com/users/jianxu/following{/other_user}","gists_url":"https://api.github.com/users/jianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/jianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jianxu/subscriptions","organizations_url":"https://api.github.com/users/jianxu/orgs","repos_url":"https://api.github.com/users/jianxu/repos","events_url":"https://api.github.com/users/jianxu/events{/privacy}","received_events_url":"https://api.github.com/users/jianxu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-30T18:07:46Z","updated_at":"2018-03-30T18:07:46Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar sounds good to me.  Let's also make sure all pending PRs are rebased after this change is merged.\r\n\r\ncc @kaushikd49 @ovj please try to rebase your changes on top of this PR and also setup your IDEs correspondingly.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377585589/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377975558","html_url":"https://github.com/apache/hudi/issues/260#issuecomment-377975558","issue_url":"https://api.github.com/repos/apache/hudi/issues/260","id":377975558,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Nzk3NTU1OA==","user":{"login":"ovj","id":899843,"node_id":"MDQ6VXNlcjg5OTg0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/899843?v=4","gravatar_id":"","url":"https://api.github.com/users/ovj","html_url":"https://github.com/ovj","followers_url":"https://api.github.com/users/ovj/followers","following_url":"https://api.github.com/users/ovj/following{/other_user}","gists_url":"https://api.github.com/users/ovj/gists{/gist_id}","starred_url":"https://api.github.com/users/ovj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ovj/subscriptions","organizations_url":"https://api.github.com/users/ovj/orgs","repos_url":"https://api.github.com/users/ovj/repos","events_url":"https://api.github.com/users/ovj/events{/privacy}","received_events_url":"https://api.github.com/users/ovj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-02T16:49:31Z","updated_at":"2018-04-02T16:49:31Z","author_association":"CONTRIBUTOR","body":"@vinothchandar So the suggestion was to have our custom WriteStatus and that will avoid caching records on success. This is what we are using internally.\r\ncc @jianxu \r\n\r\nClosing this as no change is needed in hoodie.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377975558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377996667","html_url":"https://github.com/apache/hudi/issues/287#issuecomment-377996667","issue_url":"https://api.github.com/repos/apache/hudi/issues/287","id":377996667,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Nzk5NjY2Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-02T18:06:42Z","updated_at":"2018-04-02T18:06:42Z","author_association":"CONTRIBUTOR","body":"Resolved by commit https://github.com/uber/hudi/commit/788e4f2d2eeeeee685b9f5d2e09b56be230e34d4","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377996667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377997093","html_url":"https://github.com/apache/hudi/issues/329#issuecomment-377997093","issue_url":"https://api.github.com/repos/apache/hudi/issues/329","id":377997093,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Nzk5NzA5Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-02T18:08:12Z","updated_at":"2018-04-02T18:08:12Z","author_association":"CONTRIBUTOR","body":"PR : https://github.com/uber/hudi/pull/372","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/377997093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378080427","html_url":"https://github.com/apache/hudi/pull/368#issuecomment-378080427","issue_url":"https://api.github.com/repos/apache/hudi/issues/368","id":378080427,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODA4MDQyNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-02T23:30:05Z","updated_at":"2018-04-02T23:30:05Z","author_association":"MEMBER","body":"This looks good. @xjodoin can you please rebase again","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378080427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378088981","html_url":"https://github.com/apache/hudi/pull/370#issuecomment-378088981","issue_url":"https://api.github.com/repos/apache/hudi/issues/370","id":378088981,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODA4ODk4MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-03T00:23:01Z","updated_at":"2018-04-03T03:25:03Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Please take a pass at the approach, comments and java docs and code cleaning coming soon after we agree on the approach.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378088981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378136092","html_url":"https://github.com/apache/hudi/pull/361#issuecomment-378136092","issue_url":"https://api.github.com/repos/apache/hudi/issues/361","id":378136092,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODEzNjA5Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-03T05:52:05Z","updated_at":"2018-04-03T05:54:56Z","author_association":"CONTRIBUTOR","body":"@bvaradar thanks for digging into the root-cause and great analysis! I looked at the code too and you're right, the rewind implementation in DFSInputStream results in clearing up the current block reader. I made some local code changes and tried using the BufferedFSInputStream and it indeed works much better but still not as performant as the prefetching and buffering implemented in this PR ( I'm wondering what might be the difference but haven't dug into it). \r\nI think the question is the the memory implications of using the BufferedFSInputStream and how large should we choose the buffer size to be. In my tests I chose it to be 256MB (that's the HDFS block size). @vinothchandar ^ WDYT ?\r\n\r\nTo help understand my changes, here is the PR for those temporary : https://github.com/uber/hudi/pull/373/files","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378136092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378468648","html_url":"https://github.com/apache/hudi/pull/365#issuecomment-378468648","issue_url":"https://api.github.com/repos/apache/hudi/issues/365","id":378468648,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODQ2ODY0OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T03:25:47Z","updated_at":"2018-04-04T03:25:47Z","author_association":"CONTRIBUTOR","body":"@n3nash: Regarding the performance difference, I see that you have reduced the number of readFully() calls from 2 to 1 for each round when dealing with OLD_MAGIC vs NEW_MAGIC. Could this explain the perf difference you are seeing ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378468648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378468717","html_url":"https://github.com/apache/hudi/pull/365#issuecomment-378468717","issue_url":"https://api.github.com/repos/apache/hudi/issues/365","id":378468717,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODQ2ODcxNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T03:26:15Z","updated_at":"2018-04-04T03:26:15Z","author_association":"CONTRIBUTOR","body":"oops. Wrong PR. @n3nash : Please skip the comment","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378468717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378468788","html_url":"https://github.com/apache/hudi/pull/361#issuecomment-378468788","issue_url":"https://api.github.com/repos/apache/hudi/issues/361","id":378468788,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODQ2ODc4OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T03:26:46Z","updated_at":"2018-04-04T03:26:46Z","author_association":"CONTRIBUTOR","body":"@n3nash: Regarding the performance difference, I see that you have reduced the number of readFully() calls from 2 to 1 for each round when dealing with OLD_MAGIC vs NEW_MAGIC. Could this explain the perf difference you are seeing ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378468788/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378480006","html_url":"https://github.com/apache/hudi/pull/370#issuecomment-378480006","issue_url":"https://api.github.com/repos/apache/hudi/issues/370","id":378480006,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODQ4MDAwNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T04:54:47Z","updated_at":"2018-04-04T04:54:47Z","author_association":"CONTRIBUTOR","body":"@bvaradar Thanks for your comments. Unfortunately, the PR wasn't ready for review yet apart from just discussing the approach. Since we agree on the approach and hopefully so does @vinothchandar, I'm going to make necessary code changes now. You might need to do another pass because of this, thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378480006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378494284","html_url":"https://github.com/apache/hudi/pull/370#issuecomment-378494284","issue_url":"https://api.github.com/repos/apache/hudi/issues/370","id":378494284,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODQ5NDI4NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T06:27:38Z","updated_at":"2018-04-04T06:27:38Z","author_association":"CONTRIBUTOR","body":"@bvaradar @vinothchandar Cleaned up the code, please take a pass at it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378494284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378646058","html_url":"https://github.com/apache/hudi/pull/372#issuecomment-378646058","issue_url":"https://api.github.com/repos/apache/hudi/issues/372","id":378646058,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODY0NjA1OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T15:40:17Z","updated_at":"2018-04-04T15:40:17Z","author_association":"MEMBER","body":"@xjodoin fyi.. this will impact your PR..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378646058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378661389","html_url":"https://github.com/apache/hudi/pull/361#issuecomment-378661389","issue_url":"https://api.github.com/repos/apache/hudi/issues/361","id":378661389,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODY2MTM4OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T16:25:30Z","updated_at":"2018-04-04T17:52:27Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Not sure if you missed to look at my comment earlier. Please look at my comment above of using BufferedFSInputStream or not, based on that I will make changes in this PR or make a PR similar to this https://github.com/uber/hudi/pull/373","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378661389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378678721","html_url":"https://github.com/apache/hudi/issues/364#issuecomment-378678721","issue_url":"https://api.github.com/repos/apache/hudi/issues/364","id":378678721,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODY3ODcyMQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T17:22:09Z","updated_at":"2018-04-04T17:22:09Z","author_association":"CONTRIBUTOR","body":"We know why that happened, it's because our jobs were failing due to a different reason. Ideally, we shouldn't run into this issue, but the concern was that if we do, this ends up taking a huge amount of memory on the driver (12G) and even then fails, so this is worth exploring.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378678721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378687707","html_url":"https://github.com/apache/hudi/pull/361#issuecomment-378687707","issue_url":"https://api.github.com/repos/apache/hudi/issues/361","id":378687707,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODY4NzcwNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T17:50:41Z","updated_at":"2018-04-04T17:50:41Z","author_association":"MEMBER","body":"yeah I think I did miss that. apologies. \r\n\r\nI am in favor of using a cleaner byte stream abstraction. We can have the buffer size be configurable? I am bit concerned about having this large a buffer for RecordReader and also theoretically, a few MB should be enough to amortize the seek costs (the main issue of this PR) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378687707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378766508","html_url":"https://github.com/apache/hudi/pull/370#issuecomment-378766508","issue_url":"https://api.github.com/repos/apache/hudi/issues/370","id":378766508,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODc2NjUwOA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T22:35:42Z","updated_at":"2018-04-04T22:35:42Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar addressed CR comments.\r\n\r\n@vinothchandar I started making changes for `BufferedIteratorTransform` but realized it's easier to reason in the code with function and payload separated, kept it that way. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378766508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378831195","html_url":"https://github.com/apache/hudi/pull/361#issuecomment-378831195","issue_url":"https://api.github.com/repos/apache/hudi/issues/361","id":378831195,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODgzMTE5NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T06:16:19Z","updated_at":"2018-04-05T06:16:19Z","author_association":"CONTRIBUTOR","body":"Moved the PR to https://github.com/uber/hudi/pull/373. Let's discuss there.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378831195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378831580","html_url":"https://github.com/apache/hudi/pull/373#issuecomment-378831580","issue_url":"https://api.github.com/repos/apache/hudi/issues/373","id":378831580,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODgzMTU4MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T06:18:42Z","updated_at":"2018-04-05T06:18:58Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar I'm keeping the BufferedInputStream changes local to the LogReader for now. We can open another issue whether we want to make this change in HoodieWrapperFileSystem sine that will require wider testing. \r\nAlso, I'm open to suggestions for the DEFAULT_BUFFER_SIZE. I don't feel like making it configurable to user since it's something more internal. I'm going to test with 8 MB in the production system tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/378831580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379132250","html_url":"https://github.com/apache/hudi/pull/373#issuecomment-379132250","issue_url":"https://api.github.com/repos/apache/hudi/issues/373","id":379132250,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTEzMjI1MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-06T02:37:11Z","updated_at":"2018-04-06T02:37:11Z","author_association":"CONTRIBUTOR","body":"Results from testing in production\r\n\r\n**8 MB block size** \r\n\r\n**18/04/05 21:17:34** INFO log.HoodieLogFileReader: Log HoodieLogFile {.....} has a corrupted block at 14\r\n**18/04/05 21:18:04** INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {....} starts at 8240687\r\n18/04/05 21:18:04 INFO log.HoodieLogFileReader: Log HoodieLogFile {.....} has a corrupted block at 14\r\n18/04/05 21:18:34 INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {.....} starts at 8240687\r\n\r\n**64 MB block size**\r\n\r\n**18/04/05 21:41:29** INFO log.HoodieLogFileReader: Log HoodieLogFile {....} has a corrupted block at 14\r\n**18/04/05 21:41:56** INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {....} starts at 8240687\r\n18/04/05 21:41:57 INFO log.HoodieLogFileReader: Log HoodieLogFile {....} has a corrupted block at 14\r\n18/04/05 21:42:31 INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {....} starts at 8240687\r\n\r\n**256 MB block size**\r\n\r\n**18/04/05 21:49:20** INFO log.HoodieLogFileReader: Log HoodieLogFile {....} has a corrupted block at 14\r\n**18/04/05 21:49:48** INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {....} starts at 8240687\r\n18/04/05 21:49:48 INFO log.HoodieLogFileReader: Log HoodieLogFile {....} has a corrupted block at 14\r\n18/04/05 21:50:17 INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {....} starts at 8240687\r\n\r\n**256 MB block size old PR** \r\n\r\n**18/04/05 22:36:41** INFO log.HoodieLogFileReader: Log HoodieLogFile {....} has a corrupted block at 14\r\n**18/04/05 22:37:09** INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {....} starts at 8240687\r\n18/04/05 22:37:10 INFO log.HoodieLogFileReader: Log HoodieLogFile {....} has a corrupted block at 14\r\n18/04/05 22:37:34 INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {....} starts at 8240687\r\n\r\nSummary for corrupt block of around 8.5MB\r\n\r\n| Block_Size | Approx Time Taken (secs) |\r\n|-------------|--------------------------|\r\n| 8 MB          | 90  |\r\n| 64 MB | 25 |\r\n| 256 MB | 28 | ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379132250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379270401","html_url":"https://github.com/apache/hudi/pull/373#issuecomment-379270401","issue_url":"https://api.github.com/repos/apache/hudi/issues/373","id":379270401,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTI3MDQwMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-06T14:28:10Z","updated_at":"2018-04-06T14:28:10Z","author_association":"MEMBER","body":"So something like 64MB should work? its still kind of weird though 64MB seeking takes 20 sec. Is it due to some sys call overhead","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379270401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379325102","html_url":"https://github.com/apache/hudi/pull/373#issuecomment-379325102","issue_url":"https://api.github.com/repos/apache/hudi/issues/373","id":379325102,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTMyNTEwMg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-06T17:40:08Z","updated_at":"2018-04-06T17:40:46Z","author_association":"CONTRIBUTOR","body":"Yeah, 20 secs is way too large, I'm going to delve into what's going on soon. BTW, 64 MB works in this example since the corrupted bytes are > 8 MB and < 64 MB. At any point when the corrupted bytes are > BLOCK_SIZE, we will see a much higher amount of time taken to find the corrupt block. So, if we want to be really safe, we want to keep the BLOCK_SIZE as large as the LOG_BLOCK_SIZE. WDYT ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379325102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379638496","html_url":"https://github.com/apache/hudi/pull/373#issuecomment-379638496","issue_url":"https://api.github.com/repos/apache/hudi/issues/373","id":379638496,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTYzODQ5Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T05:40:53Z","updated_at":"2018-04-09T05:41:21Z","author_association":"CONTRIBUTOR","body":"Tried a few things like use System.copy(..) instead of inputStream.readFully(..) twice but doesn't reduce the time by a lot. Essentially, each byte results in a read of (6 bytes + 4 bytes) for each MAGIC header. So, a 8.5 MB corrupt block results in 10*8000000 bytes and corresponding all operations for each byte (compare MAGIC headers) etc. To avoid large times for corrupt blocks the best buffer size is to set to BLOCK_SIZE which is 256 MB. This will add a 256MB memory overhead. The build is failing with OOM, looking into why that's happening on jenkins not on my local.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379638496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379882765","html_url":"https://github.com/apache/hudi/pull/370#issuecomment-379882765","issue_url":"https://api.github.com/repos/apache/hudi/issues/370","id":379882765,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg4Mjc2NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T20:25:32Z","updated_at":"2018-04-09T20:25:32Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Refactored, please take a pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/379882765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380330024","html_url":"https://github.com/apache/hudi/issues/173#issuecomment-380330024","issue_url":"https://api.github.com/repos/apache/hudi/issues/173","id":380330024,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDMzMDAyNA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T05:17:37Z","updated_at":"2018-04-11T05:17:37Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @n3nash : Instead of using preCombine, shouldn't we be using HoodieRecordPayload.combineAndGetUpdateValue ? \r\n\r\nFor example in the scenario where Commit C1 is followed by delta-commits DC1...DC3, the later (HoodieRecordPayload.combineAndGetUpdateValue) will guarantee that the merge effect is same as the case where each of these delta commits DC1 was replaced with commits (merged and compacted).\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380330024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380506949","html_url":"https://github.com/apache/hudi/issues/306#issuecomment-380506949","issue_url":"https://api.github.com/repos/apache/hudi/issues/306","id":380506949,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDUwNjk0OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T16:05:03Z","updated_at":"2018-04-11T16:05:03Z","author_association":"CONTRIBUTOR","body":"@n3nash : Where is this reverse iteration helpful ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380506949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380626644","html_url":"https://github.com/apache/hudi/pull/365#issuecomment-380626644","issue_url":"https://api.github.com/repos/apache/hudi/issues/365","id":380626644,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYyNjY0NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T23:26:34Z","updated_at":"2018-04-11T23:26:34Z","author_association":"CONTRIBUTOR","body":"@vinothchandar please take a pass at this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380626644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380904062","html_url":"https://github.com/apache/hudi/issues/333#issuecomment-380904062","issue_url":"https://api.github.com/repos/apache/hudi/issues/333","id":380904062,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDkwNDA2Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T18:37:36Z","updated_at":"2018-04-12T18:37:36Z","author_association":"MEMBER","body":"who's picking this up. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380904062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380908082","html_url":"https://github.com/apache/hudi/issues/333#issuecomment-380908082","issue_url":"https://api.github.com/repos/apache/hudi/issues/333","id":380908082,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDkwODA4Mg==","user":{"login":"suniluber","id":24902490,"node_id":"MDQ6VXNlcjI0OTAyNDkw","avatar_url":"https://avatars.githubusercontent.com/u/24902490?v=4","gravatar_id":"","url":"https://api.github.com/users/suniluber","html_url":"https://github.com/suniluber","followers_url":"https://api.github.com/users/suniluber/followers","following_url":"https://api.github.com/users/suniluber/following{/other_user}","gists_url":"https://api.github.com/users/suniluber/gists{/gist_id}","starred_url":"https://api.github.com/users/suniluber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suniluber/subscriptions","organizations_url":"https://api.github.com/users/suniluber/orgs","repos_url":"https://api.github.com/users/suniluber/repos","events_url":"https://api.github.com/users/suniluber/events{/privacy}","received_events_url":"https://api.github.com/users/suniluber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T18:51:13Z","updated_at":"2018-04-12T18:51:13Z","author_association":"CONTRIBUTOR","body":"i have made the update to the code and added tests. will send a pull request soon.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380908082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380955566","html_url":"https://github.com/apache/hudi/issues/376#issuecomment-380955566","issue_url":"https://api.github.com/repos/apache/hudi/issues/376","id":380955566,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDk1NTU2Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T21:52:18Z","updated_at":"2018-04-12T21:52:18Z","author_association":"CONTRIBUTOR","body":"@n3nash @vinothchandar : FYI ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/380955566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381445009","html_url":"https://github.com/apache/hudi/pull/373#issuecomment-381445009","issue_url":"https://api.github.com/repos/apache/hudi/issues/373","id":381445009,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTQ0NTAwOQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-15T22:59:23Z","updated_at":"2018-04-15T22:59:23Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Please take a pass at this now. Updated time taken : \r\n\r\n| Block_Size | Approx Time Taken (secs) |\r\n|-------------|--------------------------|\r\n| 16 MB          | 1  |\r\n| 64 MB | 1 |\r\n| 256 MB | 1 | \r\n\r\n16 MB block\r\n\r\n18/04/15 22:54:33 INFO log.HoodieLogFileReader: Log HoodieLogFile {....log.1} has a corrupted block at 14\r\n18/04/15 22:54:33 INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {....log.1} starts at 8240687\r\n18/04/15 22:54:34 INFO log.HoodieLogFileReader: Log HoodieLogFile {...log.1} has a corrupted block at 14\r\n18/04/15 22:54:35 INFO log.HoodieLogFileReader: Next available block in HoodieLogFile {..log.1} starts at 8240687\r\n\r\nThe extra time spent was in the fact that for each byte scan the code was throwing an Exception. Throwing and catching exceptions is an expensive operation. Some more info here : http://java-performance.info/throwing-an-exception-in-java-is-very-slow/. I've refactored the code to avoid throwing exceptions and instead return boolean. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381445009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381725516","html_url":"https://github.com/apache/hudi/pull/365#issuecomment-381725516","issue_url":"https://api.github.com/repos/apache/hudi/issues/365","id":381725516,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTcyNTUxNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T19:44:07Z","updated_at":"2018-04-16T19:44:07Z","author_association":"CONTRIBUTOR","body":"@vinothchandar ping","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381725516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381759732","html_url":"https://github.com/apache/hudi/pull/379#issuecomment-381759732","issue_url":"https://api.github.com/repos/apache/hudi/issues/379","id":381759732,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc1OTczMg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T21:43:19Z","updated_at":"2018-04-16T21:43:19Z","author_association":"CONTRIBUTOR","body":"@n3nash , @vinothchandar : This PR is ready for your review.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381759732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381781288","html_url":"https://github.com/apache/hudi/pull/380#issuecomment-381781288","issue_url":"https://api.github.com/repos/apache/hudi/issues/380","id":381781288,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc4MTI4OA==","user":{"login":"CLAassistant","id":11571300,"node_id":"MDQ6VXNlcjExNTcxMzAw","avatar_url":"https://avatars.githubusercontent.com/u/11571300?v=4","gravatar_id":"","url":"https://api.github.com/users/CLAassistant","html_url":"https://github.com/CLAassistant","followers_url":"https://api.github.com/users/CLAassistant/followers","following_url":"https://api.github.com/users/CLAassistant/following{/other_user}","gists_url":"https://api.github.com/users/CLAassistant/gists{/gist_id}","starred_url":"https://api.github.com/users/CLAassistant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CLAassistant/subscriptions","organizations_url":"https://api.github.com/users/CLAassistant/orgs","repos_url":"https://api.github.com/users/CLAassistant/repos","events_url":"https://api.github.com/users/CLAassistant/events{/privacy}","received_events_url":"https://api.github.com/users/CLAassistant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T23:28:11Z","updated_at":"2018-04-25T19:49:56Z","author_association":"NONE","body":"[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/uber/hudi?pullRequest=380) <br/>All committers have signed the CLA.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381781288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381787237","html_url":"https://github.com/apache/hudi/pull/380#issuecomment-381787237","issue_url":"https://api.github.com/repos/apache/hudi/issues/380","id":381787237,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTc4NzIzNw==","user":{"login":"ovj","id":899843,"node_id":"MDQ6VXNlcjg5OTg0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/899843?v=4","gravatar_id":"","url":"https://api.github.com/users/ovj","html_url":"https://github.com/ovj","followers_url":"https://api.github.com/users/ovj/followers","following_url":"https://api.github.com/users/ovj/following{/other_user}","gists_url":"https://api.github.com/users/ovj/gists{/gist_id}","starred_url":"https://api.github.com/users/ovj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ovj/subscriptions","organizations_url":"https://api.github.com/users/ovj/orgs","repos_url":"https://api.github.com/users/ovj/repos","events_url":"https://api.github.com/users/ovj/events{/privacy}","received_events_url":"https://api.github.com/users/ovj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T00:03:03Z","updated_at":"2018-04-17T00:03:03Z","author_association":"CONTRIBUTOR","body":"Also @bvaradar.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/381787237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382167532","html_url":"https://github.com/apache/hudi/pull/380#issuecomment-382167532","issue_url":"https://api.github.com/repos/apache/hudi/issues/380","id":382167532,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE2NzUzMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T21:58:14Z","updated_at":"2018-04-17T21:58:14Z","author_association":"MEMBER","body":"@suniluber can you sign the CLA ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382167532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382169118","html_url":"https://github.com/apache/hudi/pull/380#issuecomment-382169118","issue_url":"https://api.github.com/repos/apache/hudi/issues/380","id":382169118,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE2OTExOA==","user":{"login":"suniluber","id":24902490,"node_id":"MDQ6VXNlcjI0OTAyNDkw","avatar_url":"https://avatars.githubusercontent.com/u/24902490?v=4","gravatar_id":"","url":"https://api.github.com/users/suniluber","html_url":"https://github.com/suniluber","followers_url":"https://api.github.com/users/suniluber/followers","following_url":"https://api.github.com/users/suniluber/following{/other_user}","gists_url":"https://api.github.com/users/suniluber/gists{/gist_id}","starred_url":"https://api.github.com/users/suniluber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suniluber/subscriptions","organizations_url":"https://api.github.com/users/suniluber/orgs","repos_url":"https://api.github.com/users/suniluber/repos","events_url":"https://api.github.com/users/suniluber/events{/privacy}","received_events_url":"https://api.github.com/users/suniluber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T22:02:38Z","updated_at":"2018-04-17T22:02:38Z","author_association":"CONTRIBUTOR","body":"@vinothchandar signed the CLA.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382169118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382177483","html_url":"https://github.com/apache/hudi/pull/361#issuecomment-382177483","issue_url":"https://api.github.com/repos/apache/hudi/issues/361","id":382177483,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE3NzQ4Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T22:33:50Z","updated_at":"2018-04-17T22:33:50Z","author_association":"MEMBER","body":"Closing this since #373 is in more final shape ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382177483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382177987","html_url":"https://github.com/apache/hudi/pull/368#issuecomment-382177987","issue_url":"https://api.github.com/repos/apache/hudi/issues/368","id":382177987,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE3Nzk4Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T22:35:50Z","updated_at":"2018-04-17T22:35:50Z","author_association":"MEMBER","body":"@xjodoin Ping.. checking again ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382177987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382179711","html_url":"https://github.com/apache/hudi/issues/381#issuecomment-382179711","issue_url":"https://api.github.com/repos/apache/hudi/issues/381","id":382179711,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE3OTcxMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T22:42:39Z","updated_at":"2018-04-17T22:42:39Z","author_association":"MEMBER","body":"So the parquet versions mismatch?  Short answer is hudi is not on spark 2.3 and this probably ends up bringing in some conflicting jars.. \r\n\r\nDo you specifically need spark 2.3? (we want to upgrade, but have not pushed on it yet) \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382179711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382179957","html_url":"https://github.com/apache/hudi/pull/365#issuecomment-382179957","issue_url":"https://api.github.com/repos/apache/hudi/issues/365","id":382179957,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE3OTk1Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T22:43:36Z","updated_at":"2018-04-17T22:43:36Z","author_association":"MEMBER","body":"@bvaradar can you tkae this review? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382179957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382192546","html_url":"https://github.com/apache/hudi/pull/373#issuecomment-382192546","issue_url":"https://api.github.com/repos/apache/hudi/issues/373","id":382192546,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE5MjU0Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T23:40:01Z","updated_at":"2018-04-17T23:40:01Z","author_association":"CONTRIBUTOR","body":"@vinothchandar made renames and left one comment","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/382192546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]