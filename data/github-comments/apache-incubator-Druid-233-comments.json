[{"url":"https://api.github.com/repos/apache/druid/issues/comments/480568828","html_url":"https://github.com/apache/druid/pull/3859#issuecomment-480568828","issue_url":"https://api.github.com/repos/apache/druid/issues/3859","id":480568828,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDU2ODgyOA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-07T08:09:14Z","updated_at":"2019-04-07T08:09:14Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480568828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480652316","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-480652316","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":480652316,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDY1MjMxNg==","user":{"login":"wc188996","id":12324219,"node_id":"MDQ6VXNlcjEyMzI0MjE5","avatar_url":"https://avatars.githubusercontent.com/u/12324219?v=4","gravatar_id":"","url":"https://api.github.com/users/wc188996","html_url":"https://github.com/wc188996","followers_url":"https://api.github.com/users/wc188996/followers","following_url":"https://api.github.com/users/wc188996/following{/other_user}","gists_url":"https://api.github.com/users/wc188996/gists{/gist_id}","starred_url":"https://api.github.com/users/wc188996/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wc188996/subscriptions","organizations_url":"https://api.github.com/users/wc188996/orgs","repos_url":"https://api.github.com/users/wc188996/repos","events_url":"https://api.github.com/users/wc188996/events{/privacy}","received_events_url":"https://api.github.com/users/wc188996/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T01:21:22Z","updated_at":"2019-04-08T01:36:57Z","author_association":"NONE","body":"> I see it's an `Imply` distributive, I think it's not an issue of `Apache Druid` project but of `Imply` project then.\r\n\r\nHi,the problem is applies to `Apache Druid` project,too.\r\nThe extension directory of Druid:\r\n<img width=\"954\" alt=\"å±å¹•å¿«ç…§ 2019-04-08 09 08 20\" src=\"https://user-images.githubusercontent.com/12324219/55692962-f9332080-59de-11e9-9048-301f2b1cf72f.png\">\r\n\r\nThe configuration  of  \"druid-cassandra-storage\"\r\n<img width=\"893\" alt=\"å±å¹•å¿«ç…§ 2019-04-08 09 06 35\" src=\"https://user-images.githubusercontent.com/12324219/55692968-018b5b80-59df-11e9-8a36-96d712ecbcdc.png\">\r\n\r\nand the error is occurred!\r\n<img width=\"1191\" alt=\"å±å¹•å¿«ç…§ 2019-04-08 09 35 56\" src=\"https://user-images.githubusercontent.com/12324219/55693461-cfc7c400-59e1-11e9-8c7f-ef8ba5a0747e.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480652316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480700559","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-480700559","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":480700559,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDcwMDU1OQ==","user":{"login":"wc188996","id":12324219,"node_id":"MDQ6VXNlcjEyMzI0MjE5","avatar_url":"https://avatars.githubusercontent.com/u/12324219?v=4","gravatar_id":"","url":"https://api.github.com/users/wc188996","html_url":"https://github.com/wc188996","followers_url":"https://api.github.com/users/wc188996/followers","following_url":"https://api.github.com/users/wc188996/following{/other_user}","gists_url":"https://api.github.com/users/wc188996/gists{/gist_id}","starred_url":"https://api.github.com/users/wc188996/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wc188996/subscriptions","organizations_url":"https://api.github.com/users/wc188996/orgs","repos_url":"https://api.github.com/users/wc188996/repos","events_url":"https://api.github.com/users/wc188996/events{/privacy}","received_events_url":"https://api.github.com/users/wc188996/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T06:28:13Z","updated_at":"2019-04-08T06:32:18Z","author_association":"NONE","body":"> you can try to set this config in \"common.runtime.properties file\":\r\n> druid.extensions.pullList = [\"io.druid.extensions.contrib:druid-cassandra-storage:0.12.1\"]\r\n> \r\n> it should be work!\r\n\r\nHi,I wanna  know the version of `Apache Druid` which is running with the \"druid-cassandra-storage\" ?  0.12.1? \r\nThanks!\r\nMaybe \"druid-cassandra-storage\" 's version  is not match  `Apache Druid` 's version? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480700559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480705740","html_url":"https://github.com/apache/druid/issues/5882#issuecomment-480705740","issue_url":"https://api.github.com/repos/apache/druid/issues/5882","id":480705740,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDcwNTc0MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T06:49:08Z","updated_at":"2019-04-08T06:49:08Z","author_association":"MEMBER","body":"@clintropolis should this issue be closed?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480705740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480718601","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-480718601","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":480718601,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDcxODYwMQ==","user":{"login":"peferron","id":7009852,"node_id":"MDQ6VXNlcjcwMDk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/7009852?v=4","gravatar_id":"","url":"https://api.github.com/users/peferron","html_url":"https://github.com/peferron","followers_url":"https://api.github.com/users/peferron/followers","following_url":"https://api.github.com/users/peferron/following{/other_user}","gists_url":"https://api.github.com/users/peferron/gists{/gist_id}","starred_url":"https://api.github.com/users/peferron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peferron/subscriptions","organizations_url":"https://api.github.com/users/peferron/orgs","repos_url":"https://api.github.com/users/peferron/repos","events_url":"https://api.github.com/users/peferron/events{/privacy}","received_events_url":"https://api.github.com/users/peferron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T07:35:59Z","updated_at":"2019-04-08T14:38:39Z","author_association":"CONTRIBUTOR","body":"From your description, it sounds like it could handle the \"top songs by unique viewers\" query we discussed earlier, by processing pairs of {SongID, UserID}. Essentially like a topN with HLL but with accuracy guarantees, and still better performance than an exact query. If that's the case then it sounds extremely useful. I'd love to see how you plan to implement that.\r\n\r\nIt would be especially useful if additional aggregations could be computed at the same time, such as computing the total (non-distinct) count for each key: `SELECT IPAddress, COUNT(DISTINCT UserID), COUNT(*) GROUP BY 1 ORDER BY 2 DESC LIMIT 10`. In my experience it's common to compute multiple metrics in the same query in Druid. This looks like something that would be implemented in the Druid extension rather than the sketch itself though, although the sketch may need to expose some APIs to support that.\r\n\r\nOnce you have a draft extension ready I'll be happy to run it against some of our real-world datasets if that helps. I'll even pick some dimensions where topN fails badly for comparison ðŸ˜„. I won't have time to help developing the extension itself, unfortunately.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480718601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480762276","html_url":"https://github.com/apache/druid/pull/6768#issuecomment-480762276","issue_url":"https://api.github.com/repos/apache/druid/issues/6768","id":480762276,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDc2MjI3Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T09:45:48Z","updated_at":"2019-04-08T09:45:48Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think thatâ€™s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480762276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480939628","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-480939628","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":480939628,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDkzOTYyOA==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T18:00:55Z","updated_at":"2019-04-08T18:04:02Z","author_association":"CONTRIBUTOR","body":"@peferron \r\n> top songs by unique viewers\r\n\r\nYes.  \r\n\r\n> additional aggregations could be computed at the same time\r\n\r\nYes, with a caveat.  For the example you gave: `SELECT IPAddress, COUNT(DISTINCT UserID), COUNT(*) GROUP BY 1 ORDER BY 2 DESC LIMIT 10` A sketch could be constructed to handle that specific query.  However, handling arbitrary additional aggregations at query-time is more challenging as we would have to assume that the additional fields are simple counters, and restrict the type of aggregation to a simple addition.   \r\n\r\nThe more generic we try to make this, the more challenging it will be to configure and the performance will be impacted.  \r\n\r\n1. Can we start with just the \"top songs by unique users\" and characterize that first?  \r\n\r\n2. Will you need an actual published artifact Jar to test this.  Or would a jar generated from a branch be OK for your testing?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480939628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480955567","html_url":"https://github.com/apache/druid/issues/4032#issuecomment-480955567","issue_url":"https://api.github.com/repos/apache/druid/issues/4032","id":480955567,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDk1NTU2Nw==","user":{"login":"yurmix","id":1529282,"node_id":"MDQ6VXNlcjE1MjkyODI=","avatar_url":"https://avatars.githubusercontent.com/u/1529282?v=4","gravatar_id":"","url":"https://api.github.com/users/yurmix","html_url":"https://github.com/yurmix","followers_url":"https://api.github.com/users/yurmix/followers","following_url":"https://api.github.com/users/yurmix/following{/other_user}","gists_url":"https://api.github.com/users/yurmix/gists{/gist_id}","starred_url":"https://api.github.com/users/yurmix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurmix/subscriptions","organizations_url":"https://api.github.com/users/yurmix/orgs","repos_url":"https://api.github.com/users/yurmix/repos","events_url":"https://api.github.com/users/yurmix/events{/privacy}","received_events_url":"https://api.github.com/users/yurmix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T18:43:30Z","updated_at":"2019-04-08T18:43:30Z","author_association":"CONTRIBUTOR","body":"@jihoonson This sounds like a very useful feature. \r\nI think this can be relevant to one of my lookup use-cases (multi-value lookups).\r\nIn retrospective, do you still consider it a sound technical solution? Would it be a good work to continue upon?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480955567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480997190","html_url":"https://github.com/apache/druid/issues/5882#issuecomment-480997190","issue_url":"https://api.github.com/repos/apache/druid/issues/5882","id":480997190,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDk5NzE5MA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T20:34:51Z","updated_at":"2019-04-08T20:34:51Z","author_association":"MEMBER","body":"I haven't done anything to fix the root issue directly, which is that the coordinator can make bad decisions and doesn't undo them when the cluster state changes. Ideally I think load queues would be reset in some manner when a historical appears or disappears, because the decisions it previously made are perhaps no longer valid.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480997190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481001908","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-481001908","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":481001908,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTAwMTkwOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T20:48:14Z","updated_at":"2019-04-08T20:48:14Z","author_association":"CONTRIBUTOR","body":"@surekhasaharan Can you please add the definition of `is_overshadowed` to the proposal? (To the \"Proposed changes\" section.) It sounds like we are settling on something like 'published segments that are overshadowed by some other published segment'. I would be fine with it being false for unpublished segments, if that makes it easier to implement. If that's what you do, then just make sure to include it in the docs, please. Maybe document it as something like:\r\n\r\n> `is_overshadowed` is true for segments that are published and that are overshadowed by _other_ published segments. Currently, `is_overshadowed` is always false for unpublished segments, although this may change in the future. You can filter for segments that \"should be published\" by filtering for `is_published = 1 AND is_overshadowed = 0`. Segments can briefly be both published and overshadowed if they were recently replaced, but have not been unpublished yet.\r\n\r\nI am ok with leaving `is_published` and `is_available` unchanged, and adding an `is_overshadowed` defined as above. I'm also fine with leaving out active/actual at this time and potentially adding them in a later change. If this is what you're proposing @surekhasaharan then I am ðŸ‘  on it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481001908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481011070","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-481011070","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":481011070,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTAxMTA3MA==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T21:15:46Z","updated_at":"2019-04-08T21:16:09Z","author_association":"NONE","body":"thanks @gianm for articulating the definition of `is_overshadowed` . Added the definition of `is_overshadowed` in the proposal. Yeah, the impression I got from the discussion is that `is_overshadowed` means \"overshadowed by other published segments\" and I am planing to leave `is_overshadowed` false for unpublished segments. Will add this definition to the `sys.segments` docs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481011070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481020711","html_url":"https://github.com/apache/druid/pull/7427#issuecomment-481020711","issue_url":"https://api.github.com/repos/apache/druid/issues/7427","id":481020711,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTAyMDcxMQ==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T21:47:13Z","updated_at":"2019-04-08T21:47:13Z","author_association":"CONTRIBUTOR","body":"Merging master added some weird commits in the middle.  Closing and will reopen with a cleaner commit history.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481020711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481021756","html_url":"https://github.com/apache/druid/issues/7134#issuecomment-481021756","issue_url":"https://api.github.com/repos/apache/druid/issues/7134","id":481021756,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTAyMTc1Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T21:50:50Z","updated_at":"2019-04-08T21:50:50Z","author_association":"CONTRIBUTOR","body":"@clintropolis,\r\n\r\n> The primary incompatibility is that the typeString of the current extension allows arbitrary renaming of columns in the ORC file, as only position and type seem to be significant. I'm not certain but I presume the reason this is allowed is detailed in these Hive issues HIVE-7189 and HIVE-4243 which chronicle how Hive would write ORC files without their real column names, instead just using _col0, _col1, etc. However, flattenSpec expressions would be a way to handle this with the new extension, as the fields could be extracted from the generic name _col0 or whatever into the desired column name manually. If we feel that we really need to continue to support the old way the extension worked, I could investigate possible mechanisms to retain this functionality of providing a typeString schema and extracting column names from it, but I don't feel that it is necessary.\r\n\r\nI agree here - in my experience writing the typeString is tough for people, and making it optional is a good thing. It sounds like flattenSpecs are going to be able to do all the stuff that typeStrings used to be able to do, which is nice because it's better aligned with how JSON/Avro/Parquet work.\r\n\r\n> Another incompatibility would be related to how the current extension handles OrcMap types. It provides a type of flattening 'magic' for maps of primitives that appear in the row with a name controlled by mapFieldNameFormat. Since the new extension would use flattenSpec, these names could be replicated to preserve existing Druid schemas with field extraction expressions.\r\n\r\nI feel similarly about this as the typeString thing. The move to 'core' seems like a good time to better align ORC with how other input formats work.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481021756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481021853","html_url":"https://github.com/apache/druid/issues/7134#issuecomment-481021853","issue_url":"https://api.github.com/repos/apache/druid/issues/7134","id":481021853,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTAyMTg1Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T21:51:14Z","updated_at":"2019-04-08T21:51:14Z","author_association":"CONTRIBUTOR","body":"For the reasons mentioned in my last comment I am ðŸ‘ on the proposal. Will do another pass through the code too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481021853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481040558","html_url":"https://github.com/apache/druid/pull/7425#issuecomment-481040558","issue_url":"https://api.github.com/repos/apache/druid/issues/7425","id":481040558,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA0MDU1OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T23:10:46Z","updated_at":"2019-04-08T23:10:46Z","author_association":"CONTRIBUTOR","body":"Does it make sense to add this to the web console within this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481040558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481041614","html_url":"https://github.com/apache/druid/issues/7238#issuecomment-481041614","issue_url":"https://api.github.com/repos/apache/druid/issues/7238","id":481041614,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA0MTYxNA==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T23:15:48Z","updated_at":"2019-04-08T23:16:09Z","author_association":"CONTRIBUTOR","body":"@jihoonson I think `maxRowsPerSegment`, `maxTotalRows`, and `maxTotalSegments` are all necessary since they protect against different cases.\r\n\r\n- `maxRowsPerSegment` exists so that a specific segment doesn't have too much data\r\n- `maxTotalRows` exists for the case where there is a moderately high number of segments each with a large amount of data\r\n- `maxTotalSegments` exists for the cases when there is an extremely high number of segments with a small amount of data\r\n\r\nAs an example, if we use the `maxTotalRows = maxTotalSegments * maxRowsPerSegment` calculation with the existing 5M `maxRowsPerSegment` default and the proposed 1K `maxTotalSegments` default, our calculated `maxTotalRows` is 5B which seems a bit high.\r\n\r\nDo you agree?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481041614/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481042377","html_url":"https://github.com/apache/druid/issues/7399#issuecomment-481042377","issue_url":"https://api.github.com/repos/apache/druid/issues/7399","id":481042377,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA0MjM3Nw==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T23:19:39Z","updated_at":"2019-04-08T23:19:39Z","author_association":"CONTRIBUTOR","body":"What's the issue here?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481042377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481048780","html_url":"https://github.com/apache/druid/pull/7421#issuecomment-481048780","issue_url":"https://api.github.com/repos/apache/druid/issues/7421","id":481048780,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA0ODc4MA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T23:51:08Z","updated_at":"2019-04-08T23:51:08Z","author_association":"CONTRIBUTOR","body":"Looks good, thank you for addressing the feedback changes ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481048780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481050440","html_url":"https://github.com/apache/druid/issues/7404#issuecomment-481050440","issue_url":"https://api.github.com/repos/apache/druid/issues/7404","id":481050440,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA1MDQ0MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T23:59:57Z","updated_at":"2019-04-08T23:59:57Z","author_association":"CONTRIBUTOR","body":"Cool, @b-slim, that is good to hear, it sounds like it's fairly battle tested in that case.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481050440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481050858","html_url":"https://github.com/apache/druid/issues/7108#issuecomment-481050858","issue_url":"https://api.github.com/repos/apache/druid/issues/7108","id":481050858,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA1MDg1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T00:01:56Z","updated_at":"2019-04-09T00:01:56Z","author_association":"CONTRIBUTOR","body":"Should be fixed by #7429. Thanks for the report!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481050858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481061957","html_url":"https://github.com/apache/druid/issues/7134#issuecomment-481061957","issue_url":"https://api.github.com/repos/apache/druid/issues/7134","id":481061957,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA2MTk1Nw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T01:04:16Z","updated_at":"2019-04-09T01:04:16Z","author_association":"MEMBER","body":">I agree here - in my experience writing the typeString is tough for people, and making it optional is a good thing.\r\n\r\nTo clarify, my current PR eliminates `typeString`, so 'optional' isn't really correct since it would always be ignored. Do you think it necessary to have a compatibility layer of some sort to collect the column names from a `typeString` and map them to the actual column names defined in the `OrcStruct`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481061957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481062975","html_url":"https://github.com/apache/druid/issues/7134#issuecomment-481062975","issue_url":"https://api.github.com/repos/apache/druid/issues/7134","id":481062975,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA2Mjk3NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T01:10:08Z","updated_at":"2019-04-09T01:10:08Z","author_association":"CONTRIBUTOR","body":"> To clarify, my current PR eliminates typeString, so 'optional' isn't really correct since it would always be ignored. Do you think it necessary to have a compatibility layer of some sort to collect the column names from a typeString and map them to the actual column names defined in the OrcStruct?\r\n\r\nNo, I don't. By 'making it optional is good' I really meant 'making it not required is good'. I think removing it is ok, especially given that we're moving this from contrib to core, and it's a good time to make changes like this that improve maintainability. And nobody has spoken up recently as needing it. If it turns out a compat layer is needed for some reason then it could be built.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481062975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481063334","html_url":"https://github.com/apache/druid/pull/6928#issuecomment-481063334","issue_url":"https://api.github.com/repos/apache/druid/issues/6928","id":481063334,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA2MzMzNA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T01:12:18Z","updated_at":"2019-04-09T01:12:18Z","author_association":"MEMBER","body":"Oops, I didn't realize this PR existed and also fixed this issue in #7222 which has been merged, so this PR can probably be closed. Sorry about that!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481063334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481063682","html_url":"https://github.com/apache/druid/issues/7108#issuecomment-481063682","issue_url":"https://api.github.com/repos/apache/druid/issues/7108","id":481063682,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA2MzY4Mg==","user":{"login":"hnakamor","id":47343933,"node_id":"MDQ6VXNlcjQ3MzQzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/47343933?v=4","gravatar_id":"","url":"https://api.github.com/users/hnakamor","html_url":"https://github.com/hnakamor","followers_url":"https://api.github.com/users/hnakamor/followers","following_url":"https://api.github.com/users/hnakamor/following{/other_user}","gists_url":"https://api.github.com/users/hnakamor/gists{/gist_id}","starred_url":"https://api.github.com/users/hnakamor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hnakamor/subscriptions","organizations_url":"https://api.github.com/users/hnakamor/orgs","repos_url":"https://api.github.com/users/hnakamor/repos","events_url":"https://api.github.com/users/hnakamor/events{/privacy}","received_events_url":"https://api.github.com/users/hnakamor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T01:14:21Z","updated_at":"2019-04-09T01:14:21Z","author_association":"CONTRIBUTOR","body":"@gianm Thank you for fixing this bug! I'm happy to contribute a little.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481063682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481068250","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-481068250","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":481068250,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA2ODI1MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T01:39:18Z","updated_at":"2019-04-09T01:39:18Z","author_association":"CONTRIBUTOR","body":"The current proposal (add `is_overshadowed` representing published segments that are overshadowed by other published segments, with overshadowing info provided by the coordinator when polling) looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481068250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481075451","html_url":"https://github.com/apache/druid/pull/7351#issuecomment-481075451","issue_url":"https://api.github.com/repos/apache/druid/issues/7351","id":481075451,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA3NTQ1MQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T02:19:14Z","updated_at":"2019-04-09T02:19:14Z","author_association":"CONTRIBUTOR","body":"Jihoon is currently on vacation, I'll merge this and do a follow-on PR that addresses my comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481075451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481076249","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-481076249","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":481076249,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA3NjI0OQ==","user":{"login":"wc188996","id":12324219,"node_id":"MDQ6VXNlcjEyMzI0MjE5","avatar_url":"https://avatars.githubusercontent.com/u/12324219?v=4","gravatar_id":"","url":"https://api.github.com/users/wc188996","html_url":"https://github.com/wc188996","followers_url":"https://api.github.com/users/wc188996/followers","following_url":"https://api.github.com/users/wc188996/following{/other_user}","gists_url":"https://api.github.com/users/wc188996/gists{/gist_id}","starred_url":"https://api.github.com/users/wc188996/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wc188996/subscriptions","organizations_url":"https://api.github.com/users/wc188996/orgs","repos_url":"https://api.github.com/users/wc188996/repos","events_url":"https://api.github.com/users/wc188996/events{/privacy}","received_events_url":"https://api.github.com/users/wc188996/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T02:23:12Z","updated_at":"2019-04-09T02:23:12Z","author_association":"NONE","body":"This is a version matching issue. The \"druid-cassandra-storage:0.12.x\" does not match the version of the `Apache Druid` v0.13.0.\r\nThank you very much, egor-ryashin\r\nThis error no longer appears in my Druid index log,but there is a new error #7426 like yours  .","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481076249/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481089808","html_url":"https://github.com/apache/druid/issues/7426#issuecomment-481089808","issue_url":"https://api.github.com/repos/apache/druid/issues/7426","id":481089808,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTA4OTgwOA==","user":{"login":"wc188996","id":12324219,"node_id":"MDQ6VXNlcjEyMzI0MjE5","avatar_url":"https://avatars.githubusercontent.com/u/12324219?v=4","gravatar_id":"","url":"https://api.github.com/users/wc188996","html_url":"https://github.com/wc188996","followers_url":"https://api.github.com/users/wc188996/followers","following_url":"https://api.github.com/users/wc188996/following{/other_user}","gists_url":"https://api.github.com/users/wc188996/gists{/gist_id}","starred_url":"https://api.github.com/users/wc188996/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wc188996/subscriptions","organizations_url":"https://api.github.com/users/wc188996/orgs","repos_url":"https://api.github.com/users/wc188996/repos","events_url":"https://api.github.com/users/wc188996/events{/privacy}","received_events_url":"https://api.github.com/users/wc188996/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T03:42:07Z","updated_at":"2019-04-09T08:49:42Z","author_association":"NONE","body":"I found `<groupId>com.github.stephenc.high-scale-lib</groupId>` in `extensions-contrib/cassandra-storage/pom.xml:117`, \r\nThen checked the pom.xml file mentioned in `extensions-contrib/cassandra-storage/pom.xml:33` \r\n`<relativePath>../../pom.xml</relativePath>` . I didn't find any dependency of `high-scale-lib` in this file.\r\n\r\nI've downloaded the `high-scale-lib-1.1.4.jar`  to `druid/extensions/druid-cassandra-storage` for walking around,thanks to egor-ryashin for your previous efforts #7387,But no data was writen to the cassandra deep storage.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481089808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481103056","html_url":"https://github.com/apache/druid/pull/7334#issuecomment-481103056","issue_url":"https://api.github.com/repos/apache/druid/issues/7334","id":481103056,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTEwMzA1Ng==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T05:03:11Z","updated_at":"2019-04-09T05:03:11Z","author_association":"MEMBER","body":"@QiuMM Thanks for your comments :+1: They have all been fixed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481103056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481112318","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-481112318","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":481112318,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTExMjMxOA==","user":{"login":"peferron","id":7009852,"node_id":"MDQ6VXNlcjcwMDk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/7009852?v=4","gravatar_id":"","url":"https://api.github.com/users/peferron","html_url":"https://github.com/peferron","followers_url":"https://api.github.com/users/peferron/followers","following_url":"https://api.github.com/users/peferron/following{/other_user}","gists_url":"https://api.github.com/users/peferron/gists{/gist_id}","starred_url":"https://api.github.com/users/peferron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peferron/subscriptions","organizations_url":"https://api.github.com/users/peferron/orgs","repos_url":"https://api.github.com/users/peferron/repos","events_url":"https://api.github.com/users/peferron/events{/privacy}","received_events_url":"https://api.github.com/users/peferron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T05:53:45Z","updated_at":"2019-04-09T05:53:45Z","author_association":"CONTRIBUTOR","body":"> The more generic we try to make this, the more challenging it will be to configure and the performance will be impacted.\r\n\r\nUnderstood. Extra aggregations can still be computed in a follow-up query anyway, such as `SELECT COUNT(*), AVG(SomeColumn) WHERE IPAddress IN ('a', 'b', 'c')` where `a`, `b` and `c` are top IP addresses previously returned by the FUN query. This can work decently well with Druid indexes. One advantage of this approach is that the FUN query returns faster since it's not loaded with extra aggregations, so you can immediately show up the top items & unique counts to the user, with extra metrics following up later. In some cases that's better UX than a longer initial wait followed up by showing up everything at once. That's a bit off-topic but hopefully there's some value in listing the different ways in which this sketch could be used within Druid.\r\n\r\n> Can we start with just the \"top songs by unique users\" and characterize that first?\r\n\r\nSure. Are you looking for any specific patterns in the test data? I assume that Yahoo already has large datasets & Druid clusters that could be used, so I'm trying to see what I could bring to the table here.\r\n\r\n> Will you need an actual published artifact Jar to test this.  Or would a jar generated from a branch be OK for your testing?\r\n\r\nThe best would be a branch that I can check out to build the extension from source.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481112318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481127928","html_url":"https://github.com/apache/druid/issues/7126#issuecomment-481127928","issue_url":"https://api.github.com/repos/apache/druid/issues/7126","id":481127928,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTEyNzkyOA==","user":{"login":"trtg","id":1320184,"node_id":"MDQ6VXNlcjEzMjAxODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1320184?v=4","gravatar_id":"","url":"https://api.github.com/users/trtg","html_url":"https://github.com/trtg","followers_url":"https://api.github.com/users/trtg/followers","following_url":"https://api.github.com/users/trtg/following{/other_user}","gists_url":"https://api.github.com/users/trtg/gists{/gist_id}","starred_url":"https://api.github.com/users/trtg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trtg/subscriptions","organizations_url":"https://api.github.com/users/trtg/orgs","repos_url":"https://api.github.com/users/trtg/repos","events_url":"https://api.github.com/users/trtg/events{/privacy}","received_events_url":"https://api.github.com/users/trtg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T07:00:44Z","updated_at":"2019-04-09T07:01:15Z","author_association":"NONE","body":"What is the state of this release? I.e. when it will be downloadable? It's no longer marked as WIP and on the release page it's no longer tagged as a RC, so is it going to be marked as the current stable release soon?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481127928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481200088","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-481200088","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":481200088,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTIwMDA4OA==","user":{"login":"Freya0214","id":39218654,"node_id":"MDQ6VXNlcjM5MjE4NjU0","avatar_url":"https://avatars.githubusercontent.com/u/39218654?v=4","gravatar_id":"","url":"https://api.github.com/users/Freya0214","html_url":"https://github.com/Freya0214","followers_url":"https://api.github.com/users/Freya0214/followers","following_url":"https://api.github.com/users/Freya0214/following{/other_user}","gists_url":"https://api.github.com/users/Freya0214/gists{/gist_id}","starred_url":"https://api.github.com/users/Freya0214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Freya0214/subscriptions","organizations_url":"https://api.github.com/users/Freya0214/orgs","repos_url":"https://api.github.com/users/Freya0214/repos","events_url":"https://api.github.com/users/Freya0214/events{/privacy}","received_events_url":"https://api.github.com/users/Freya0214/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T10:44:10Z","updated_at":"2019-04-09T10:44:10Z","author_association":"NONE","body":"> This is a version matching issue. The \"druid-cassandra-storage:0.12.x\" does not match the version of the Apache Druid v0.13.0.\r\n> Thank you very much, egor-ryashin\r\n> This error no longer appears in my Druid index log,but there is a new error #7426 like yours  .\r\n\r\nYeah, it's that, fixing makes work for me ðŸ‘","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481200088/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481299784","html_url":"https://github.com/apache/druid/pull/6928#issuecomment-481299784","issue_url":"https://api.github.com/repos/apache/druid/issues/6928","id":481299784,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTI5OTc4NA==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T15:25:10Z","updated_at":"2019-04-09T15:25:10Z","author_association":"CONTRIBUTOR","body":"No worries. I'm happy that the changes are in. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481299784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481326108","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-481326108","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":481326108,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTMyNjEwOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T16:32:12Z","updated_at":"2019-04-09T16:32:12Z","author_association":"MEMBER","body":"My goal is to create criteria that can be more or less easily and unambiguously used during code reviews. Such as \"Druid cluster operators should react to this logging statement? Yes/No\" criteria for WARN/INFO pair.\r\n\r\nProbably the criteria should be topic-based. For example, \"on query nodes (historicals/brokers/routers/indexing processes on middle managers), nothing per-query, per-HTTP request/response, or per-segment should be on INFO level, only DEBUG\".","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481326108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481326881","html_url":"https://github.com/apache/druid/issues/6814#issuecomment-481326881","issue_url":"https://api.github.com/repos/apache/druid/issues/6814","id":481326881,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTMyNjg4MQ==","user":{"login":"dylwylie","id":3107079,"node_id":"MDQ6VXNlcjMxMDcwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3107079?v=4","gravatar_id":"","url":"https://api.github.com/users/dylwylie","html_url":"https://github.com/dylwylie","followers_url":"https://api.github.com/users/dylwylie/followers","following_url":"https://api.github.com/users/dylwylie/following{/other_user}","gists_url":"https://api.github.com/users/dylwylie/gists{/gist_id}","starred_url":"https://api.github.com/users/dylwylie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dylwylie/subscriptions","organizations_url":"https://api.github.com/users/dylwylie/orgs","repos_url":"https://api.github.com/users/dylwylie/repos","events_url":"https://api.github.com/users/dylwylie/events{/privacy}","received_events_url":"https://api.github.com/users/dylwylie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T16:34:35Z","updated_at":"2019-04-09T16:34:35Z","author_association":"CONTRIBUTOR","body":"We've been evaluating the Datasketches implementation of HLL versus Druid's own implementation. \r\n\r\nIn early testing we've noticed that performance in the datasketches version seem significantly worse with various configurations.\r\n\r\nCurious if anyone else has seem similar results? When aggregating from a column of HLL values it looks like proportionally a lot more time is spent on:\r\n\r\n`org.apache.druid.query.aggregation.datasketches.hll.HllSketchObjectStrategy.fromByteBuffer`\r\n\r\nMaybe the benchmarks don't consider deserialisation time hence why we see contradictory results? Happy to put together more detailed information.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481326881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481353896","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-481353896","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":481353896,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTM1Mzg5Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T17:29:50Z","updated_at":"2019-04-09T17:29:50Z","author_association":"MEMBER","body":"@surekhasaharan what do you think about \"includeOvershadowedStatus\", \"SegmentWithOvershadowedStatus\" instead of \"overshadowInfo\"?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481353896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481355063","html_url":"https://github.com/apache/druid/pull/7279#issuecomment-481355063","issue_url":"https://api.github.com/repos/apache/druid/issues/7279","id":481355063,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTM1NTA2Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T17:32:56Z","updated_at":"2019-04-09T17:32:56Z","author_association":"MEMBER","body":"@gianm do you want to leave more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481355063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481363935","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-481363935","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":481363935,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTM2MzkzNQ==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T17:56:36Z","updated_at":"2019-04-09T17:56:36Z","author_association":"NONE","body":"@leventov `includeOvershadowedStatus` instead of `includeOvershadowInfo` seems fine to me for the query param in coordinator api. So the api would be GET `/druid/coordinator/v1/metadata/segments?includeOvershadowedStatus`.  Did you mean to name the class \"SegmentWithOvershadowedStatus \" instead of \"SegmentWithOvershadowInfo\"? Yeah that also sounds good.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481363935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481367682","html_url":"https://github.com/apache/druid/issues/7134#issuecomment-481367682","issue_url":"https://api.github.com/repos/apache/druid/issues/7134","id":481367682,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTM2NzY4Mg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T18:06:57Z","updated_at":"2019-04-09T18:06:57Z","author_association":"MEMBER","body":"Completed in #7138","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481367682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481373474","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-481373474","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":481373474,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTM3MzQ3NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T18:23:30Z","updated_at":"2019-04-09T18:23:30Z","author_association":"MEMBER","body":"@surekhasaharan then the proposal looks good to me too.\r\n\r\nIf you plan to rename \"used segments\" to \"published segments\" across the codebase, I think it would be easier to do this after #7306 is merged, see https://github.com/apache/incubator-druid/pull/7306#issuecomment-477783437.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481373474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481420961","html_url":"https://github.com/apache/druid/issues/7426#issuecomment-481420961","issue_url":"https://api.github.com/repos/apache/druid/issues/7426","id":481420961,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTQyMDk2MQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T20:24:55Z","updated_at":"2019-04-09T20:24:55Z","author_association":"CONTRIBUTOR","body":"@leventov as you've worked on #4313, probably, you understand better how to fix it. Right now I think that `maven exclusion` should be removed","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481420961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481431004","html_url":"https://github.com/apache/druid/issues/7433#issuecomment-481431004","issue_url":"https://api.github.com/repos/apache/druid/issues/7433","id":481431004,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTQzMTAwNA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T20:52:27Z","updated_at":"2019-04-09T20:52:27Z","author_association":"MEMBER","body":"The [javadocs of `LogicalSegment` have a description](https://github.com/apache/incubator-druid/pull/7023/files#diff-ec8cfaaebeb1363bd421d9bca78d6d24R26)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481431004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481452781","html_url":"https://github.com/apache/druid/issues/7126#issuecomment-481452781","issue_url":"https://api.github.com/repos/apache/druid/issues/7126","id":481452781,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTQ1Mjc4MQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-09T21:48:06Z","updated_at":"2019-04-09T21:48:06Z","author_association":"CONTRIBUTOR","body":"@sascha-coenen Thanks, it should be min() there.\r\n\r\n@trtg 0.14.0 is released now, the vote passed yesterday but we needed to wait ~24 hours for the artifacts to propagate across mirrors","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481452781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481485819","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-481485819","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":481485819,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTQ4NTgxOQ==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T00:13:44Z","updated_at":"2019-04-10T00:13:44Z","author_association":"NONE","body":"@leventov I do not plan on renaming \"used\" to \"published\" with this issue, this is solely focused on adding the overshadowed support. Sure, it would be best to change that terminology as a follow up PR after #7306.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481485819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481486344","html_url":"https://github.com/apache/druid/pull/7425#issuecomment-481486344","issue_url":"https://api.github.com/repos/apache/druid/issues/7425","id":481486344,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTQ4NjM0NA==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T00:16:20Z","updated_at":"2019-04-10T00:16:20Z","author_association":"NONE","body":"> Does it make sense to add this to the web console within this PR?\r\n\r\nI think it'd be better to do as a separate PR, which should be merged after this one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481486344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481522884","html_url":"https://github.com/apache/druid/pull/7435#issuecomment-481522884","issue_url":"https://api.github.com/repos/apache/druid/issues/7435","id":481522884,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTUyMjg4NA==","user":{"login":"shuqi7","id":29443129,"node_id":"MDQ6VXNlcjI5NDQzMTI5","avatar_url":"https://avatars.githubusercontent.com/u/29443129?v=4","gravatar_id":"","url":"https://api.github.com/users/shuqi7","html_url":"https://github.com/shuqi7","followers_url":"https://api.github.com/users/shuqi7/followers","following_url":"https://api.github.com/users/shuqi7/following{/other_user}","gists_url":"https://api.github.com/users/shuqi7/gists{/gist_id}","starred_url":"https://api.github.com/users/shuqi7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuqi7/subscriptions","organizations_url":"https://api.github.com/users/shuqi7/orgs","repos_url":"https://api.github.com/users/shuqi7/repos","events_url":"https://api.github.com/users/shuqi7/events{/privacy}","received_events_url":"https://api.github.com/users/shuqi7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T03:53:04Z","updated_at":"2019-04-10T03:53:04Z","author_association":"CONTRIBUTOR","body":"> Please do not use that version\r\n\r\nI was using the APIs which are only available after 6.9.0, which allows custom rendering of the pagination items. May I know the reason why 6.9.2 is not recommended?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481522884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481554338","html_url":"https://github.com/apache/druid/issues/6920#issuecomment-481554338","issue_url":"https://api.github.com/repos/apache/druid/issues/6920","id":481554338,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTU1NDMzOA==","user":{"login":"havannavar","id":1104650,"node_id":"MDQ6VXNlcjExMDQ2NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1104650?v=4","gravatar_id":"","url":"https://api.github.com/users/havannavar","html_url":"https://github.com/havannavar","followers_url":"https://api.github.com/users/havannavar/followers","following_url":"https://api.github.com/users/havannavar/following{/other_user}","gists_url":"https://api.github.com/users/havannavar/gists{/gist_id}","starred_url":"https://api.github.com/users/havannavar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/havannavar/subscriptions","organizations_url":"https://api.github.com/users/havannavar/orgs","repos_url":"https://api.github.com/users/havannavar/repos","events_url":"https://api.github.com/users/havannavar/events{/privacy}","received_events_url":"https://api.github.com/users/havannavar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T06:38:51Z","updated_at":"2019-04-10T06:38:51Z","author_association":"NONE","body":"This is resolved, as @gianm said, after the first transaction, everything went well","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481554338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481606885","html_url":"https://github.com/apache/druid/issues/1263#issuecomment-481606885","issue_url":"https://api.github.com/repos/apache/druid/issues/1263","id":481606885,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTYwNjg4NQ==","user":{"login":"jbguerraz","id":861556,"node_id":"MDQ6VXNlcjg2MTU1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/861556?v=4","gravatar_id":"","url":"https://api.github.com/users/jbguerraz","html_url":"https://github.com/jbguerraz","followers_url":"https://api.github.com/users/jbguerraz/followers","following_url":"https://api.github.com/users/jbguerraz/following{/other_user}","gists_url":"https://api.github.com/users/jbguerraz/gists{/gist_id}","starred_url":"https://api.github.com/users/jbguerraz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbguerraz/subscriptions","organizations_url":"https://api.github.com/users/jbguerraz/orgs","repos_url":"https://api.github.com/users/jbguerraz/repos","events_url":"https://api.github.com/users/jbguerraz/events{/privacy}","received_events_url":"https://api.github.com/users/jbguerraz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T09:05:22Z","updated_at":"2019-04-10T09:05:22Z","author_association":"NONE","body":"Same here, would be happy to replace zookeeper with etcd :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481606885/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481665868","html_url":"https://github.com/apache/druid/pull/7388#issuecomment-481665868","issue_url":"https://api.github.com/repos/apache/druid/issues/7388","id":481665868,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTY2NTg2OA==","user":{"login":"xueyumusic","id":95261,"node_id":"MDQ6VXNlcjk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/95261?v=4","gravatar_id":"","url":"https://api.github.com/users/xueyumusic","html_url":"https://github.com/xueyumusic","followers_url":"https://api.github.com/users/xueyumusic/followers","following_url":"https://api.github.com/users/xueyumusic/following{/other_user}","gists_url":"https://api.github.com/users/xueyumusic/gists{/gist_id}","starred_url":"https://api.github.com/users/xueyumusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xueyumusic/subscriptions","organizations_url":"https://api.github.com/users/xueyumusic/orgs","repos_url":"https://api.github.com/users/xueyumusic/repos","events_url":"https://api.github.com/users/xueyumusic/events{/privacy}","received_events_url":"https://api.github.com/users/xueyumusic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T12:15:54Z","updated_at":"2019-04-10T12:15:54Z","author_association":"CONTRIBUTOR","body":"Hi, @clintropolis @justinborromeo Thanks a lot for review! I updated the codes according to your comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481665868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481774311","html_url":"https://github.com/apache/druid/issues/7433#issuecomment-481774311","issue_url":"https://api.github.com/repos/apache/druid/issues/7433","id":481774311,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTc3NDMxMQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T16:57:20Z","updated_at":"2019-04-10T16:58:10Z","author_association":"CONTRIBUTOR","body":"Thanks @clintropolis \r\nI wonder if I understand that correctly, `trueInterval` is the narrowest enclosing interval possible?\r\n![image](https://user-images.githubusercontent.com/14215045/55897735-c731e200-5bc9-11e9-9deb-3a7185753833.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481774311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481789642","html_url":"https://github.com/apache/druid/pull/6581#issuecomment-481789642","issue_url":"https://api.github.com/repos/apache/druid/issues/6581","id":481789642,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTc4OTY0Mg==","user":{"login":"edgan8","id":2577963,"node_id":"MDQ6VXNlcjI1Nzc5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2577963?v=4","gravatar_id":"","url":"https://api.github.com/users/edgan8","html_url":"https://github.com/edgan8","followers_url":"https://api.github.com/users/edgan8/followers","following_url":"https://api.github.com/users/edgan8/following{/other_user}","gists_url":"https://api.github.com/users/edgan8/gists{/gist_id}","starred_url":"https://api.github.com/users/edgan8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgan8/subscriptions","organizations_url":"https://api.github.com/users/edgan8/orgs","repos_url":"https://api.github.com/users/edgan8/repos","events_url":"https://api.github.com/users/edgan8/events{/privacy}","received_events_url":"https://api.github.com/users/edgan8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T17:38:57Z","updated_at":"2019-04-10T17:38:57Z","author_association":"CONTRIBUTOR","body":"@jon-wei do you have an update on when / how this will be included in a future build? Just curious if I should follow-up on anything.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481789642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481804621","html_url":"https://github.com/apache/druid/issues/4032#issuecomment-481804621","issue_url":"https://api.github.com/repos/apache/druid/issues/4032","id":481804621,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTgwNDYyMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T18:17:43Z","updated_at":"2019-04-10T18:17:43Z","author_association":"CONTRIBUTOR","body":"Hi @yurmix, I think this proposal is still worth and someday I would like to continue my work. But, I don't have a slot available for this for now. Please feel free to take it if you want.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481804621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481840010","html_url":"https://github.com/apache/druid/pull/4885#issuecomment-481840010","issue_url":"https://api.github.com/repos/apache/druid/issues/4885","id":481840010,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTg0MDAxMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T19:59:40Z","updated_at":"2019-04-10T19:59:40Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think thatâ€™s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481840010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481844441","html_url":"https://github.com/apache/druid/issues/5859#issuecomment-481844441","issue_url":"https://api.github.com/repos/apache/druid/issues/5859","id":481844441,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTg0NDQ0MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T20:13:22Z","updated_at":"2019-04-10T20:13:22Z","author_association":"CONTRIBUTOR","body":"@KenjiTakahashi thanks but I still don't understand how it works.. And also I'm wondering how useful your validation is. Is it very important to create the expected number of segments in your use case?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481844441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481850459","html_url":"https://github.com/apache/druid/issues/4032#issuecomment-481850459","issue_url":"https://api.github.com/repos/apache/druid/issues/4032","id":481850459,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTg1MDQ1OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T20:31:39Z","updated_at":"2019-04-10T20:31:39Z","author_association":"CONTRIBUTOR","body":"@yurmix for multi-value lookups, would you be thinking about extending the lookup framework to support multiple values for the same key? Or avoiding the lookup framework entirely?\r\n\r\nBy the way, I've been thinking recently about reviving proposals for joins in Druid and had been considering a few goals for a solution, below.\r\n\r\n- Integrate with Druid SQL so you can use the \"JOIN\" keyword. Druid SQL usage would be the main motivator for this feature, and so having nice SQL syntax is more important than having nice JSON syntax.\r\n- Only the left-most datasource could be a distributed, multi-server datasource. This is so the join doesn't require a system to shuffle data between servers.\r\n- All other datasources, other than the leftmost, being joined should be lookup tables (we should allow JOIN onto a lookup table, why not), broadcast datasources, queries, or literal datasources (like an array of rows embedded in the query).\r\n- If one of the datasources being joined is a query datasource, I'm thinking the broker should run the query first, and then convert it to a literal datasource before sending it down to the historicals. Druid SQL already has something like this special cased for semi-joins. It should hopefully allow us to remove the special case and just handle semi-joins like any other join.\r\n- Start with left/right/inner equijoins only (using a hash-based algorithm).\r\n- Later on, add support for non-equijoins.\r\n- Later still, add support for shuffling data between servers.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481850459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481866416","html_url":"https://github.com/apache/druid/pull/7435#issuecomment-481866416","issue_url":"https://api.github.com/repos/apache/druid/issues/7435","id":481866416,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTg2NjQxNg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T21:09:31Z","updated_at":"2019-04-10T21:09:31Z","author_association":"CONTRIBUTOR","body":"This is great, thank you for the change ðŸ‘ \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481866416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481873554","html_url":"https://github.com/apache/druid/pull/7388#issuecomment-481873554","issue_url":"https://api.github.com/repos/apache/druid/issues/7388","id":481873554,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTg3MzU1NA==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T21:32:51Z","updated_at":"2019-04-10T21:32:51Z","author_association":"CONTRIBUTOR","body":"@xueyumusic Could you also add the LPAD and RPAD functions to the [SQL doc](https://github.com/apache/incubator-druid/blob/master/docs/content/querying/sql.md)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481873554/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481893073","html_url":"https://github.com/apache/druid/issues/7438#issuecomment-481893073","issue_url":"https://api.github.com/repos/apache/druid/issues/7438","id":481893073,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTg5MzA3Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T22:43:07Z","updated_at":"2019-04-10T22:43:38Z","author_association":"CONTRIBUTOR","body":"Hi @egor-ryashin, `index_parallel` task supports only text formats and `IngestSegmentFirehose` currently. Probably the error message should be improved.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481893073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481894550","html_url":"https://github.com/apache/druid/issues/7438#issuecomment-481894550","issue_url":"https://api.github.com/repos/apache/druid/issues/7438","id":481894550,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTg5NDU1MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T22:47:13Z","updated_at":"2019-04-10T22:47:13Z","author_association":"CONTRIBUTOR","body":"I think this is hitting the same extension classloading issue discussed here: https://github.com/apache/incubator-druid/pull/6430#pullrequestreview-197849152","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481894550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481914167","html_url":"https://github.com/apache/druid/pull/7425#issuecomment-481914167","issue_url":"https://api.github.com/repos/apache/druid/issues/7425","id":481914167,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTkxNDE2Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T23:54:23Z","updated_at":"2019-04-10T23:54:54Z","author_association":"CONTRIBUTOR","body":"Can you update the PR description so that it refers to `includeOvershadowedStatus` and `SegmentWithOvershadowedStatus`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481914167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481914674","html_url":"https://github.com/apache/druid/pull/7425#issuecomment-481914674","issue_url":"https://api.github.com/repos/apache/druid/issues/7425","id":481914674,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTkxNDY3NA==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T23:57:01Z","updated_at":"2019-04-10T23:57:01Z","author_association":"NONE","body":"Yes, missed here, done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481914674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481962129","html_url":"https://github.com/apache/druid/pull/7446#issuecomment-481962129","issue_url":"https://api.github.com/repos/apache/druid/issues/7446","id":481962129,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTk2MjEyOQ==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T04:39:47Z","updated_at":"2019-04-11T04:39:47Z","author_association":"CONTRIBUTOR","body":"Doesn't this do the same as #7416?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481962129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481962934","html_url":"https://github.com/apache/druid/pull/7446#issuecomment-481962934","issue_url":"https://api.github.com/repos/apache/druid/issues/7446","id":481962934,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTk2MjkzNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T04:44:08Z","updated_at":"2019-04-11T04:44:08Z","author_association":"CONTRIBUTOR","body":"@gianm UT is broken","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481962934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481971269","html_url":"https://github.com/apache/druid/pull/7446#issuecomment-481971269","issue_url":"https://api.github.com/repos/apache/druid/issues/7446","id":481971269,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTk3MTI2OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T05:32:12Z","updated_at":"2019-04-11T05:32:12Z","author_association":"CONTRIBUTOR","body":"Oops, I didn't notice #7416. It is the same thing, but yours is better since it removes more stuff.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481971269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481971382","html_url":"https://github.com/apache/druid/pull/7416#issuecomment-481971382","issue_url":"https://api.github.com/repos/apache/druid/issues/7416","id":481971382,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTk3MTM4Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T05:32:45Z","updated_at":"2019-04-11T05:32:45Z","author_association":"CONTRIBUTOR","body":"Love the pure delete. No lines added!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481971382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/481975026","html_url":"https://github.com/apache/druid/pull/7388#issuecomment-481975026","issue_url":"https://api.github.com/repos/apache/druid/issues/7388","id":481975026,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTk3NTAyNg==","user":{"login":"xueyumusic","id":95261,"node_id":"MDQ6VXNlcjk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/95261?v=4","gravatar_id":"","url":"https://api.github.com/users/xueyumusic","html_url":"https://github.com/xueyumusic","followers_url":"https://api.github.com/users/xueyumusic/followers","following_url":"https://api.github.com/users/xueyumusic/following{/other_user}","gists_url":"https://api.github.com/users/xueyumusic/gists{/gist_id}","starred_url":"https://api.github.com/users/xueyumusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xueyumusic/subscriptions","organizations_url":"https://api.github.com/users/xueyumusic/orgs","repos_url":"https://api.github.com/users/xueyumusic/repos","events_url":"https://api.github.com/users/xueyumusic/events{/privacy}","received_events_url":"https://api.github.com/users/xueyumusic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T05:51:17Z","updated_at":"2019-04-11T05:51:17Z","author_association":"CONTRIBUTOR","body":"Thanks for review! @justinborromeo , updated according to your comments","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/481975026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482151609","html_url":"https://github.com/apache/druid/issues/7439#issuecomment-482151609","issue_url":"https://api.github.com/repos/apache/druid/issues/7439","id":482151609,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjE1MTYwOQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T15:02:03Z","updated_at":"2019-04-11T15:02:03Z","author_association":"CONTRIBUTOR","body":"Please be aware of the impact of re-using segments on the coordinator's timeline logic. When you manually flag all segments that umbrella a time interval as \"used\" then the coordinator has to consider them ALL when doing the \"what should be loaded?\" logic. And I don't remember if it was fixed where those segments had to be loaded before it was able to make that distinction. This can cause a lot of churn on the coordinator during such an operation for datasources with a lot of segments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482151609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482196655","html_url":"https://github.com/apache/druid/issues/7433#issuecomment-482196655","issue_url":"https://api.github.com/repos/apache/druid/issues/7433","id":482196655,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjE5NjY1NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T16:49:52Z","updated_at":"2019-04-11T16:49:52Z","author_association":"MEMBER","body":"There should be Javadoc links to the explanation from the fields of TimelineObjectHolder.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482196655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482201538","html_url":"https://github.com/apache/druid/pull/7447#issuecomment-482201538","issue_url":"https://api.github.com/repos/apache/druid/issues/7447","id":482201538,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjIwMTUzOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T17:00:18Z","updated_at":"2019-04-11T17:00:18Z","author_association":"MEMBER","body":"I think this PR should had a `Design Review` tag. Such PRs shouldn't be merged 10 hours after opening.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482201538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482247719","html_url":"https://github.com/apache/druid/issues/7444#issuecomment-482247719","issue_url":"https://api.github.com/repos/apache/druid/issues/7444","id":482247719,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjI0NzcxOQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T18:41:44Z","updated_at":"2019-04-11T18:41:44Z","author_association":"CONTRIBUTOR","body":"Refer to documentation [here](https://datasketches.github.io/docs/Theta/ThetaSketchSetOps.html) and [here](https://datasketches.github.io/docs/Theta/ThetaAccuracyPlots.html).\r\n\r\nWhen you print the results via toString() you should be able to see the 95% confidence upper and lower bounds from the sketch itself.  What the sketch is telling you is that given the configuration of your sketches and the cardinalities of your input streams, the \"true\" answer should be within those bounds with 95% confidence.  And theoretically this is the best you can do given the above.\r\n\r\nTheta sketches retain only a small sample of the input streams that that they see.  When you perform an intersection it reduces that small sample to an even smaller set, possibly zero!  And as you might guess, extracting useful information about your input streams with zero samples is rather difficult:\r\n\r\n![We_do_sketches](https://user-images.githubusercontent.com/12941506/55978742-66e08600-5c45-11e9-9721-e746dafc7e87.png)\r\n\r\nSuccessive intersections will quickly reduce your number of samples available to estimate from and thus will dramatically increase the error.  Also attempting to intersect one sketch from a large cardinality set with another sketch from a very small cardinality set will also increase your error (see the 2nd link above).  \r\n\r\n**So what can you do?**\r\n\r\n- Organize your intersections (and AnotB ops) to be performed as the very last step.  For example,\r\ninstead of `AU(B^C)` use `(AUB)^(AUC)`. This keeps the internal sample set as large as possible until the very end.\r\n- If you know which streams have large cardinality, use large sketches for these sketches. Internally we use sketches of 2^20 for our large cardinality streams (there is generally only a few of them) and then 2^14 for everything else.\r\n- Always query the resulting sketch from a set expression to obtain the upper and lower bounds.   This will tell you right away what your error confidence interval is.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482247719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482249849","html_url":"https://github.com/apache/druid/pull/7447#issuecomment-482249849","issue_url":"https://api.github.com/repos/apache/druid/issues/7447","id":482249849,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjI0OTg0OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T18:47:56Z","updated_at":"2019-04-11T18:48:21Z","author_association":"MEMBER","body":"The design with `SQLMetadataSegmentManager` enforcing leadership changes on its callers doesn't feel right to me. It forces all callers to handle this situation, while it doesn't feel to me that they should. For example, REST endpoints in `MetadataResource` shouldn't be responsible for this, rather, the user is responsible for querying the right Coordinator (the current leader).\r\n\r\nI think that upon losing leadership Coordinator should just stop polling database, but still offering the last view of the segments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482249849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482261214","html_url":"https://github.com/apache/druid/pull/7449#issuecomment-482261214","issue_url":"https://api.github.com/repos/apache/druid/issues/7449","id":482261214,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjI2MTIxNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T19:09:11Z","updated_at":"2019-04-11T19:09:11Z","author_association":"CONTRIBUTOR","body":"@vogievetsky this needs to be more obvious, i.e. right beside the run button","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482261214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482270756","html_url":"https://github.com/apache/druid/pull/6972#issuecomment-482270756","issue_url":"https://api.github.com/repos/apache/druid/issues/6972","id":482270756,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjI3MDc1Ng==","user":{"login":"mohammadjkhan","id":18354068,"node_id":"MDQ6VXNlcjE4MzU0MDY4","avatar_url":"https://avatars.githubusercontent.com/u/18354068?v=4","gravatar_id":"","url":"https://api.github.com/users/mohammadjkhan","html_url":"https://github.com/mohammadjkhan","followers_url":"https://api.github.com/users/mohammadjkhan/followers","following_url":"https://api.github.com/users/mohammadjkhan/following{/other_user}","gists_url":"https://api.github.com/users/mohammadjkhan/gists{/gist_id}","starred_url":"https://api.github.com/users/mohammadjkhan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohammadjkhan/subscriptions","organizations_url":"https://api.github.com/users/mohammadjkhan/orgs","repos_url":"https://api.github.com/users/mohammadjkhan/repos","events_url":"https://api.github.com/users/mohammadjkhan/events{/privacy}","received_events_url":"https://api.github.com/users/mohammadjkhan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T19:21:19Z","updated_at":"2019-04-11T19:21:19Z","author_association":"CONTRIBUTOR","body":"@jon-wei\r\n* LDAP is supposed to be source of truth for users/groups and not roles/permissions. The standard way to implement LDAP is to manage roles and permissions at the application/framework level as rules for managing roles/permissions can (and most likely will) be different from one application to another within an enterprise, and so they aren't managed within LDAP. Also, they are not 1:1. So it's normal/common to have a mix model of where some information is kept/managed at the application level and some information is stored in LDAP\r\n\r\n* The basic authenticator shares logic related to how basic auth credentials are retrieved from the http request; how those credentials are authenticated can be different, and the CredentialsValidator interface now provides a way support for more ways of validating basic auth credentials down the road. As described in our proposal the current basic security extension limits clients to use druid internal metadata store for authentication, and one of the goals/proposals is to refactor basic security extension authenticator to make it a bit more pluggable/configurable as to how to validate requests with basic authentication credentials. Moving in to separate contrib extension will result in duplication of logic related to how basic auth credentials are processed from the http request. \r\n\r\n* How druid authorizes a user in a basic auth credential request can be managed the same way regardless of how they got authenticated (db, ldap, etc). Basically, they differ in authentication methods, but not authorization. Also, it provides a way to reuse roles/permissions. For instance, an admin user and a user belonging to an admin group can be mapped to same role in the metastore. So, it makes sense to share the role definitions \r\n\r\n* If LDAP implementations evolve over time, the changes will be only limited to LDAPCredentialsValidator in how we interact with ldap and authenticate the user. How we retrieve/process basic auth credentails from the http request and authorize the user should stay the same. I think the druid basic auth security module as a whole will be evolved over time to support more ways of authenticating HTTP Basic Authentication requests, not just against db or ldap. How Spring security has achieved that is a really good example.\r\n\r\n* Some of the design decisions were adopted to preserve backward compatibility and not introduce any breaking changes. Leaving the BasicHTTPAuthenticator mostly as is to continue leveraging and make use of the \"basic\" json type name and introduced CredentialsValidator as a way authenticate a basic auth credential request either against db or ldap, default is db","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482270756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482289512","html_url":"https://github.com/apache/druid/pull/6581#issuecomment-482289512","issue_url":"https://api.github.com/repos/apache/druid/issues/6581","id":482289512,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjI4OTUxMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T19:59:30Z","updated_at":"2019-04-11T19:59:30Z","author_association":"CONTRIBUTOR","body":"@edgan8 This'll be available as a contrib extension starting in 0.15.0. No need to do anything on your end!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482289512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482329733","html_url":"https://github.com/apache/druid/pull/7350#issuecomment-482329733","issue_url":"https://api.github.com/repos/apache/druid/issues/7350","id":482329733,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjMyOTczMw==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T21:33:36Z","updated_at":"2019-04-11T21:33:36Z","author_association":"NONE","body":"@leventov @drcrallen do you have any more comments on this ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482329733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482349313","html_url":"https://github.com/apache/druid/pull/7451#issuecomment-482349313","issue_url":"https://api.github.com/repos/apache/druid/issues/7451","id":482349313,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjM0OTMxMw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T22:25:16Z","updated_at":"2019-04-11T22:25:16Z","author_association":"CONTRIBUTOR","body":"This looks great thank you ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482349313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482349617","html_url":"https://github.com/apache/druid/pull/7440#issuecomment-482349617","issue_url":"https://api.github.com/repos/apache/druid/issues/7440","id":482349617,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjM0OTYxNw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T22:26:26Z","updated_at":"2019-04-11T22:26:26Z","author_association":"CONTRIBUTOR","body":"Looks great, thank you ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482349617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482354638","html_url":"https://github.com/apache/druid/pull/7449#issuecomment-482354638","issue_url":"https://api.github.com/repos/apache/druid/issues/7449","id":482354638,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjM1NDYzOA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T22:45:58Z","updated_at":"2019-04-11T22:45:58Z","author_association":"CONTRIBUTOR","body":"@fjy noted: made the button more explicit (see updated screenshot in description)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482354638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482427744","html_url":"https://github.com/apache/druid/issues/7403#issuecomment-482427744","issue_url":"https://api.github.com/repos/apache/druid/issues/7403","id":482427744,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQyNzc0NA==","user":{"login":"love1693294577","id":21165046,"node_id":"MDQ6VXNlcjIxMTY1MDQ2","avatar_url":"https://avatars.githubusercontent.com/u/21165046?v=4","gravatar_id":"","url":"https://api.github.com/users/love1693294577","html_url":"https://github.com/love1693294577","followers_url":"https://api.github.com/users/love1693294577/followers","following_url":"https://api.github.com/users/love1693294577/following{/other_user}","gists_url":"https://api.github.com/users/love1693294577/gists{/gist_id}","starred_url":"https://api.github.com/users/love1693294577/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/love1693294577/subscriptions","organizations_url":"https://api.github.com/users/love1693294577/orgs","repos_url":"https://api.github.com/users/love1693294577/repos","events_url":"https://api.github.com/users/love1693294577/events{/privacy}","received_events_url":"https://api.github.com/users/love1693294577/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T03:53:40Z","updated_at":"2019-04-12T03:53:40Z","author_association":"NONE","body":"> Hi,\r\n> \r\n> You have to run something like this:\r\n> \r\n> ```\r\n> curl -X 'POST' -H 'Content-Type:application/json' -d @view.json \"http://10.244.68.107:8090/druid/indexer/v1/supervisor\"\r\n> ```\r\n> Have a nice day!\r\n\r\n\r\nyes \r\n\r\n[groupBy_[xxx_view2]_ad3ca90c-30b0-4be2-9169-739114c583b7]]\r\norg.apache.druid.query.materializedview.DataSourceOptimizer - +++++++derivatives+++++++[]\r\n\r\nthis is my Configuration\r\n'http://xx.xx.xx.xx:8082/druid/v2/?pretty=' \r\n{\r\n\"type\":\"derivativeDataSource\",\r\n\"baseDataSource\":\"xx_view2\",\r\n\"dataSource\":\"xx_view_11\",\r\n\"dimensionsSpec\":{\r\n\"dimensions\":[\r\n\"xx\",\r\n\"xx\"\r\n]\r\n},\r\n\"metricsSpec\" : [\r\n{ \"name\": \"xx\",\r\n\"type\": \"doubleSum\",\r\n\"fieldName\":\"xx\"}\r\n],\r\n\"tuningConfig\": {\r\n\"type\":\"hadoop\",\r\n\"jobProperties\" : {\r\n\"mapreduce.job.user.classpath.first\":\"true\",\r\n\"mapreduce.reduce.speculative\" : \"false\",\r\n\"mapreduce.map.speculative\": \"false\"\r\n}\r\n}\r\n}\r\nsubmit task\r\ncurl -XPOST -H'Content-Type: application/json' -d @xx.json http://xx.xx.xx.xx:8090/druid/indexer/v1/supervisor\r\n\r\nquery\r\n'{\"queryType\":\"view\",\"query\":{\"queryType\":\"groupBy\",\"dataSource\":\"xxx_view2\",\"granularity\":\"all\",\"descending\":\"true\",\"limitSpec\":{\"type\":\"default\",\"limit\":1},\"context\":{\"priority\":1,\"timeout\":10000000,\"queryId\":\"c7156e24-ad74-4a4b-ae24-2df660cd8287\",\"groupByStrategy\":\"v2\"},\"dimensions\":[\"xx\"],\"aggregations\":[{\"type\":\"longSum\",\"name\":\"xx\",\"fieldName\":\"xx\"}],\"intervals\":[\"2017-04-26T00:00:00.000+08:00/2017-04-28T00:00:00.000+08:00\"]}\r\n\r\nI can't get an optimized materialized view\r\n\r\nThis is my log\r\n2019-04-11T11:54:21,057 INFO [qtp1556201248-110[topN_[xx_view2]_c7156e24-ad74-4a4b-ae24-2df660cd8287]] org.apache.druid.query.materializedview.DataSourceOptimizer - +++++++derivatives+++++++[]\r\n\r\nI am wondering why the derivatives are null, as normal, will get derivatives","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482427744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482428382","html_url":"https://github.com/apache/druid/issues/7411#issuecomment-482428382","issue_url":"https://api.github.com/repos/apache/druid/issues/7411","id":482428382,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQyODM4Mg==","user":{"login":"love1693294577","id":21165046,"node_id":"MDQ6VXNlcjIxMTY1MDQ2","avatar_url":"https://avatars.githubusercontent.com/u/21165046?v=4","gravatar_id":"","url":"https://api.github.com/users/love1693294577","html_url":"https://github.com/love1693294577","followers_url":"https://api.github.com/users/love1693294577/followers","following_url":"https://api.github.com/users/love1693294577/following{/other_user}","gists_url":"https://api.github.com/users/love1693294577/gists{/gist_id}","starred_url":"https://api.github.com/users/love1693294577/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/love1693294577/subscriptions","organizations_url":"https://api.github.com/users/love1693294577/orgs","repos_url":"https://api.github.com/users/love1693294577/repos","events_url":"https://api.github.com/users/love1693294577/events{/privacy}","received_events_url":"https://api.github.com/users/love1693294577/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T03:57:55Z","updated_at":"2019-04-12T03:58:56Z","author_association":"NONE","body":"helloï¼Œmaterialized-view get all derivatives for datasource in query is null ï¼Œ\r\n\r\nHave you ever met?\r\n\r\n[groupBy_[xxx_view2]_ad3ca90c-30b0-4be2-9169-739114c583b7]]\r\norg.apache.druid.query.materializedview.DataSourceOptimizer - +++++++derivatives+++++++[]\r\n\r\nthis is my Configuration\r\n'http://xx.xx.xx.xx:8082/druid/v2/?pretty=' \r\n{\r\n\"type\":\"derivativeDataSource\",\r\n\"baseDataSource\":\"xx_view2\",\r\n\"dataSource\":\"xx_view_11\",\r\n\"dimensionsSpec\":{\r\n\"dimensions\":[\r\n\"xx\",\r\n\"xx\"\r\n]\r\n},\r\n\"metricsSpec\" : [\r\n{ \"name\": \"xx\",\r\n\"type\": \"doubleSum\",\r\n\"fieldName\":\"xx\"}\r\n],\r\n\"tuningConfig\": {\r\n\"type\":\"hadoop\",\r\n\"jobProperties\" : {\r\n\"mapreduce.job.user.classpath.first\":\"true\",\r\n\"mapreduce.reduce.speculative\" : \"false\",\r\n\"mapreduce.map.speculative\": \"false\"\r\n}\r\n}\r\n}\r\nsubmit task\r\ncurl -XPOST -H'Content-Type: application/json' -d @xx.json http://xx.xx.xx.xx:8090/druid/indexer/v1/supervisor\r\n\r\nquery\r\n'{\"queryType\":\"view\",\"query\":{\"queryType\":\"groupBy\",\"dataSource\":\"xxx_view2\",\"granularity\":\"all\",\"descending\":\"true\",\"limitSpec\":{\"type\":\"default\",\"limit\":1},\"context\":{\"priority\":1,\"timeout\":10000000,\"queryId\":\"c7156e24-ad74-4a4b-ae24-2df660cd8287\",\"groupByStrategy\":\"v2\"},\"dimensions\":[\"xx\"],\"aggregations\":[{\"type\":\"longSum\",\"name\":\"xx\",\"fieldName\":\"xx\"}],\"intervals\":[\"2017-04-26T00:00:00.000+08:00/2017-04-28T00:00:00.000+08:00\"]}\r\n\r\nI can't get an optimized materialized view\r\n\r\nThis is my log\r\n2019-04-11T11:54:21,057 INFO [qtp1556201248-110[topN_[xx_view2]_c7156e24-ad74-4a4b-ae24-2df660cd8287]] org.apache.druid.query.materializedview.DataSourceOptimizer - +++++++derivatives+++++++[]\r\n\r\nI am wondering why the derivatives are null, as normal, will get derivatives","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482428382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482461337","html_url":"https://github.com/apache/druid/issues/7439#issuecomment-482461337","issue_url":"https://api.github.com/repos/apache/druid/issues/7439","id":482461337,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ2MTMzNw==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T06:58:57Z","updated_at":"2019-04-12T06:58:57Z","author_association":"NONE","body":"thanks @drcrallen for heads up. The proposal mentions \"The API to reload data should mark any non-overshadowed segments as used.\" So I think that would avoid the needless churn. I also added some more details to the \"Proposed Changes\" section and added a sub-section \"Handling overshadowed segments while reloading data\" to clarify reload API behavior.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482461337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482484430","html_url":"https://github.com/apache/druid/issues/7411#issuecomment-482484430","issue_url":"https://api.github.com/repos/apache/druid/issues/7411","id":482484430,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ4NDQzMA==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T08:19:53Z","updated_at":"2019-04-12T08:19:53Z","author_association":"CONTRIBUTOR","body":"@mihai-cazacu-adswizz Is there any segments of derivativeDataSource in interval [2019-03-12T11:00:00.000Z/2019-03-12T12:00:00.000Z] ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482484430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482486032","html_url":"https://github.com/apache/druid/issues/7411#issuecomment-482486032","issue_url":"https://api.github.com/repos/apache/druid/issues/7411","id":482486032,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ4NjAzMg==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T08:25:02Z","updated_at":"2019-04-12T08:25:02Z","author_association":"CONTRIBUTOR","body":"@love1693294577 Is there any data of derivativeDataSource created after you submit the supervisor request?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482486032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482497640","html_url":"https://github.com/apache/druid/issues/6925#issuecomment-482497640","issue_url":"https://api.github.com/repos/apache/druid/issues/6925","id":482497640,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ5NzY0MA==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T09:02:52Z","updated_at":"2019-04-12T09:02:52Z","author_association":"CONTRIBUTOR","body":"@chenhaiyan could you post here the task schema, the orc file schema and Druid version?\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482497640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482537642","html_url":"https://github.com/apache/druid/issues/6826#issuecomment-482537642","issue_url":"https://api.github.com/repos/apache/druid/issues/6826","id":482537642,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjUzNzY0Mg==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T11:19:33Z","updated_at":"2019-04-12T11:19:33Z","author_association":"CONTRIBUTOR","body":"@leventov I guess it's resolved?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482537642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482538627","html_url":"https://github.com/apache/druid/issues/6825#issuecomment-482538627","issue_url":"https://api.github.com/repos/apache/druid/issues/6825","id":482538627,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjUzODYyNw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T11:23:27Z","updated_at":"2019-04-12T11:23:27Z","author_association":"CONTRIBUTOR","body":"@chinalinux2012 could you provide the task spec and data sample?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482538627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482567151","html_url":"https://github.com/apache/druid/issues/6786#issuecomment-482567151","issue_url":"https://api.github.com/repos/apache/druid/issues/6786","id":482567151,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjU2NzE1MQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T13:06:11Z","updated_at":"2019-04-12T13:06:11Z","author_association":"CONTRIBUTOR","body":"@panqingcui could you post here Druid version and router configuration?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482567151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482572055","html_url":"https://github.com/apache/druid/issues/6776#issuecomment-482572055","issue_url":"https://api.github.com/repos/apache/druid/issues/6776","id":482572055,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjU3MjA1NQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T13:21:18Z","updated_at":"2019-04-12T13:21:18Z","author_association":"CONTRIBUTOR","body":"Related https://github.com/apache/incubator-druid/issues/5273","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482572055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482629784","html_url":"https://github.com/apache/druid/pull/6972#issuecomment-482629784","issue_url":"https://api.github.com/repos/apache/druid/issues/6972","id":482629784,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjYyOTc4NA==","user":{"login":"mohammadjkhan","id":18354068,"node_id":"MDQ6VXNlcjE4MzU0MDY4","avatar_url":"https://avatars.githubusercontent.com/u/18354068?v=4","gravatar_id":"","url":"https://api.github.com/users/mohammadjkhan","html_url":"https://github.com/mohammadjkhan","followers_url":"https://api.github.com/users/mohammadjkhan/followers","following_url":"https://api.github.com/users/mohammadjkhan/following{/other_user}","gists_url":"https://api.github.com/users/mohammadjkhan/gists{/gist_id}","starred_url":"https://api.github.com/users/mohammadjkhan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohammadjkhan/subscriptions","organizations_url":"https://api.github.com/users/mohammadjkhan/orgs","repos_url":"https://api.github.com/users/mohammadjkhan/repos","events_url":"https://api.github.com/users/mohammadjkhan/events{/privacy}","received_events_url":"https://api.github.com/users/mohammadjkhan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T16:02:24Z","updated_at":"2019-04-12T16:02:24Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 @jon-wei \r\n\r\nTo summarize some of the comments and feedbacks in this PR, and to establish a consensus/direction for next steps, the following are being adopted within this PR that Iâ€™m now working on:\r\n1. Remove all Authenticator and Escalator rolling credential update logic/feature.\r\n2. Keep LDAP functionality within existing basic auth extension as already done in the PR\r\n3. Expose additional LDAP config properties for SSLContext so users can configure/set the keystore, truststore, protocol, etc\r\n4. Separate out the authorizer checks between metadata-backed store user and LDAP group since the incoming request would be authorized against only one or the other\r\n\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482629784/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482634353","html_url":"https://github.com/apache/druid/issues/6763#issuecomment-482634353","issue_url":"https://api.github.com/repos/apache/druid/issues/6763","id":482634353,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjYzNDM1Mw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T16:15:57Z","updated_at":"2019-04-12T16:15:57Z","author_association":"CONTRIBUTOR","body":"@huahuang12 I wonder whether you have managed to resolve the issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482634353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482636258","html_url":"https://github.com/apache/druid/issues/6834#issuecomment-482636258","issue_url":"https://api.github.com/repos/apache/druid/issues/6834","id":482636258,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjYzNjI1OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T16:21:40Z","updated_at":"2019-04-12T16:21:40Z","author_association":"MEMBER","body":"In addition to previous questions: was it considered to use binary communication protocol instead of JSON?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482636258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482636979","html_url":"https://github.com/apache/druid/issues/6759#issuecomment-482636979","issue_url":"https://api.github.com/repos/apache/druid/issues/6759","id":482636979,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjYzNjk3OQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T16:23:57Z","updated_at":"2019-04-12T16:23:57Z","author_association":"CONTRIBUTOR","body":"> known options[[derby]]\r\n\r\nit says it didn't load the `mysql` extension, only `derby` capability is available.\r\n@mprior10 I believe you've already resolved the issue, right?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482636979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482648760","html_url":"https://github.com/apache/druid/issues/7458#issuecomment-482648760","issue_url":"https://api.github.com/repos/apache/druid/issues/7458","id":482648760,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjY0ODc2MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T17:01:02Z","updated_at":"2019-04-12T17:01:02Z","author_association":"CONTRIBUTOR","body":"There was discussion previously about what can/should be done in an extension vs what must be done in core druid. Can you highlight what is needed as far as changes to the core code vs what changes can be put in extensions?\r\n\r\nIdeally there would be an extension point that showcases the new behavior, and if that ends up working well it becomes adopted as the core mechanism (see things like the caffeine cache extension and data-sketches as examples of this methodology).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482648760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482675286","html_url":"https://github.com/apache/druid/issues/7437#issuecomment-482675286","issue_url":"https://api.github.com/repos/apache/druid/issues/7437","id":482675286,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjY3NTI4Ng==","user":{"login":"agahemre","id":6897511,"node_id":"MDQ6VXNlcjY4OTc1MTE=","avatar_url":"https://avatars.githubusercontent.com/u/6897511?v=4","gravatar_id":"","url":"https://api.github.com/users/agahemre","html_url":"https://github.com/agahemre","followers_url":"https://api.github.com/users/agahemre/followers","following_url":"https://api.github.com/users/agahemre/following{/other_user}","gists_url":"https://api.github.com/users/agahemre/gists{/gist_id}","starred_url":"https://api.github.com/users/agahemre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agahemre/subscriptions","organizations_url":"https://api.github.com/users/agahemre/orgs","repos_url":"https://api.github.com/users/agahemre/repos","events_url":"https://api.github.com/users/agahemre/events{/privacy}","received_events_url":"https://api.github.com/users/agahemre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T18:23:28Z","updated_at":"2019-04-12T18:23:28Z","author_association":"NONE","body":"I have been able to drop these segments from metadata store by using this API: \r\n\r\n/druid/coordinator/v1/datasources/{dataSourceName}/segments/{segmentId} where segmentId is the id that historical nodes complains about not finding in the path it should be, and for this reason I am closing the issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482675286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482689404","html_url":"https://github.com/apache/druid/issues/7458#issuecomment-482689404","issue_url":"https://api.github.com/repos/apache/druid/issues/7458","id":482689404,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjY4OTQwNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T19:08:07Z","updated_at":"2019-07-22T19:13:31Z","author_association":"MEMBER","body":"> There was discussion previously about what can/should be done in an extension vs what must be done in core druid.\r\n\r\nCould you please link to that discussion?\r\n\r\n> Can you highlight what is needed as far as changes to the core code vs what changes can be put in extensions?\r\n\r\nThe whole algorithm described in this proposal needs to be in core. Something that may not need to be core is query metrics-based balancing (as opposed to the current cost-based balancing). (Out of scope of this proposal.)\r\n\r\nA fallback option to the old behavior should be present, but it should be off by default and removed timely because I don't see any point in supporting the old behavior. The old (current) implementation has many problems (see issues referenced in this proposal, but there are many more, at some point into the development of the new algorithm I stopped putting them into separate issues) and I don't see why would anybody want to use it instead of the new algorithm, other than for the sake of stability, when some rough edges will be found in the new algorithm. On the other hand, the new algorithm is not that different from the current implementation (as, for example, metrics-based vs. cost-based balancing, again) and it's expected to work at least as well as the current implementation in all cases.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482689404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482709590","html_url":"https://github.com/apache/druid/issues/7461#issuecomment-482709590","issue_url":"https://api.github.com/repos/apache/druid/issues/7461","id":482709590,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjcwOTU5MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T20:20:26Z","updated_at":"2019-04-12T20:20:26Z","author_association":"CONTRIBUTOR","body":"I think this is happening because HllSketchBuildBufferAggregator's `get(buf, position)` method does not copy data out from `buf` to the heap. topN and groupBy v2 (which works similarly) both call `get` on BufferAggregators from segment processing threads, then transfer those objects to another thread for merging (in this case, TopNBinaryFn is doing that merge). Those objects cannot reference the underlying buffer, because if they do, they may find themselves reading garbage as the underlying buffer is reused.\r\n\r\nWe should update the javadocs for BufferAggregator to make this clear and audit existing implementations to make sure they aren't referencing the underlying buffers.\r\n\r\n@AlexanderSaydakov @leerho have either of you seen something like this in one of your prod deployments? I would expect that you should if you are using topNs or groupBy v2's.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482709590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482710359","html_url":"https://github.com/apache/druid/issues/6814#issuecomment-482710359","issue_url":"https://api.github.com/repos/apache/druid/issues/6814","id":482710359,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjcxMDM1OQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T20:23:03Z","updated_at":"2019-04-12T20:24:29Z","author_association":"CONTRIBUTOR","body":"@Dylan1312 \r\nSorry, I didn't see your comment until just now.  I would be very interested in understanding what you are observing:\r\n\r\n- What is your configuration of the HLL sketch? What is LgK? HLL4,6,8?\r\n- What properties are you measuring, merge time? You mention deserialization time, but if you data is off-heap, there shouldn't be much deserialization.  So I'm a bit confused.\r\n- You say it is \"worse\"... could you report your measurements?  how much slower?\r\n- What  the size of the data (# of sketch merges)\r\n- Do you happen to know anything about the distribution of your data?  Long-tail? Lots of small values? or large values?\r\n- Are you also comparing the accuracy? \r\n\r\nCheers,\r\nLee","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482710359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482724282","html_url":"https://github.com/apache/druid/issues/6751#issuecomment-482724282","issue_url":"https://api.github.com/repos/apache/druid/issues/6751","id":482724282,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjcyNDI4Mg==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T21:10:23Z","updated_at":"2019-04-12T21:50:40Z","author_association":"CONTRIBUTOR","body":"~@vogievetsky I wonder if it still persists? couldn't reproduce it straight away.~ Reproduced (it wasn't reproduced in `CalciteQueryTest` though.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482724282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482727132","html_url":"https://github.com/apache/druid/issues/6814#issuecomment-482727132","issue_url":"https://api.github.com/repos/apache/druid/issues/6814","id":482727132,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjcyNzEzMg==","user":{"login":"dylwylie","id":3107079,"node_id":"MDQ6VXNlcjMxMDcwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3107079?v=4","gravatar_id":"","url":"https://api.github.com/users/dylwylie","html_url":"https://github.com/dylwylie","followers_url":"https://api.github.com/users/dylwylie/followers","following_url":"https://api.github.com/users/dylwylie/following{/other_user}","gists_url":"https://api.github.com/users/dylwylie/gists{/gist_id}","starred_url":"https://api.github.com/users/dylwylie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dylwylie/subscriptions","organizations_url":"https://api.github.com/users/dylwylie/orgs","repos_url":"https://api.github.com/users/dylwylie/repos","events_url":"https://api.github.com/users/dylwylie/events{/privacy}","received_events_url":"https://api.github.com/users/dylwylie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T21:21:11Z","updated_at":"2019-04-12T21:25:25Z","author_association":"CONTRIBUTOR","body":"Hi Lee,\r\n\r\nThanks for the response!\r\n\r\n- I've tried various configurations, each of HLL4,6&8 and lgK values of 6&12 for each.\r\n\r\n- I'm comparing the time to complete timeseries queries over a small number of segments.\r\n\r\nOne using a hyperUnique (Druid's native hll) aggregator on a column of hyperUnique hll sketches, versus various queries each using a single HLLSketchMerge aggregator against a column ingested with HLLSketchBuild.\r\n\r\nI noticed that the aggregator spends a significant portion of its time passing a bytebuffer to HLLSketch::wrap, deserialization may be the wrong term :).\r\n\r\n- With ~18.5M sketches and an historical with a single core I see:\r\n        - An HLL8 sketch queried with lgK 6 takes around 2.5seconds to complete.\r\n        - A hyperunique sketch takes around 1.6seconds to complete.\r\n\r\n- I collected what I'm using fairly ad-hoc from a stream of data so I'm not sure. I expect the distribution to be fairly even but this is something I can investigate more.\r\n\r\n- I haven't specifically looked at accuracy but I'm seeing both give sketches give answers within 0.4% of each other.\r\n\r\nBest regards,\r\nDylan","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482727132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482731045","html_url":"https://github.com/apache/druid/pull/7463#issuecomment-482731045","issue_url":"https://api.github.com/repos/apache/druid/issues/7463","id":482731045,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjczMTA0NQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T21:36:45Z","updated_at":"2019-04-12T21:36:45Z","author_association":"CONTRIBUTOR","body":"This looks great, ðŸ‘ thank you for this change.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482731045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]