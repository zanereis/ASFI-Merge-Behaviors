[{"url":"https://api.github.com/repos/apache/solr/issues/comments/950439234","html_url":"https://github.com/apache/solr/pull/331#issuecomment-950439234","issue_url":"https://api.github.com/repos/apache/solr/issues/331","id":950439234,"node_id":"IC_kwDOFFj3yM44po1C","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T01:05:01Z","updated_at":"2021-10-25T01:05:01Z","author_association":"CONTRIBUTOR","body":"I wouldn't of done as separate PRs but whatever; it's fine.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/950439234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/950906557","html_url":"https://github.com/apache/solr/pull/364#issuecomment-950906557","issue_url":"https://api.github.com/repos/apache/solr/issues/364","id":950906557,"node_id":"IC_kwDOFFj3yM44ra69","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T13:04:03Z","updated_at":"2021-10-25T13:04:03Z","author_association":"CONTRIBUTOR","body":"> I actually wanted to rename this page to simply \"Solr SQL\" - what's the value of keeping \"interface\"?\r\n\r\nThat makes sense to me!    I think maybe you could think about a \"query interface\" as separate from a \"streaming interface\" and finally a \"sql interface\", but honestly I like just Solr SQL!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/950906557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/950916473","html_url":"https://github.com/apache/solr/pull/364#issuecomment-950916473","issue_url":"https://api.github.com/repos/apache/solr/issues/364","id":950916473,"node_id":"IC_kwDOFFj3yM44rdV5","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T13:13:52Z","updated_at":"2021-10-25T13:13:52Z","author_association":"CONTRIBUTOR","body":"Okay, I was looking and I went with the name `sql-query`, as it's really about SQL querying!  ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/950916473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/950957116","html_url":"https://github.com/apache/solr/pull/364#issuecomment-950957116","issue_url":"https://api.github.com/repos/apache/solr/issues/364","id":950957116,"node_id":"IC_kwDOFFj3yM44rnQ8","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T13:58:27Z","updated_at":"2021-10-25T13:58:27Z","author_association":"CONTRIBUTOR","body":"Okay, I've finished my changes to the page.   WDYT?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/950957116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/951088242","html_url":"https://github.com/apache/solr/pull/288#issuecomment-951088242","issue_url":"https://api.github.com/repos/apache/solr/issues/288","id":951088242,"node_id":"IC_kwDOFFj3yM44sHRy","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T16:17:56Z","updated_at":"2021-10-25T16:17:56Z","author_association":"CONTRIBUTOR","body":"Thanks @makosten for the diagrams to illustrate process flow, and @epugh for tagging me, this is an intriguing area of the code!\r\n\r\n> ... distribute to request to the leaders of the other shards if the route is missing ...\r\n\r\nThat seems intuitively right. From what I've learnt so far from code reading, the issue is that https://github.com/apache/lucene-solr/blob/releases/lucene-solr/8.10.1/solr/core/src/java/org/apache/solr/update/processor/DistributedZkUpdateProcessor.java#L609 picks a shard even if it does not have sufficient information to do so i.e. in the absence of the route it picks based on id which statistically will only sometimes pick the right shard and distribution to all shard leaders is necessary to be sure it reaches the right shard.\r\n\r\n> ... If you do that and the test fails (presumably), I could help debug to see why. ...\r\n\r\nI'd be interested too in looking more into this.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/951088242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/951348468","html_url":"https://github.com/apache/solr/pull/355#issuecomment-951348468","issue_url":"https://api.github.com/repos/apache/solr/issues/355","id":951348468,"node_id":"IC_kwDOFFj3yM44tGz0","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T21:31:14Z","updated_at":"2021-10-25T21:31:14Z","author_association":"CONTRIBUTOR","body":"This is mostly ready to go, minus the ref guide updates, will get those done soon.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/951348468/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/951734509","html_url":"https://github.com/apache/solr/pull/368#issuecomment-951734509","issue_url":"https://api.github.com/repos/apache/solr/issues/368","id":951734509,"node_id":"IC_kwDOFFj3yM44ulDt","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T09:05:15Z","updated_at":"2021-10-26T09:05:15Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution. Please complete the description and the checklist, and add an entry to `solr/CHANGES.txt`.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/951734509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/952089422","html_url":"https://github.com/apache/solr/pull/355#issuecomment-952089422","issue_url":"https://api.github.com/repos/apache/solr/issues/355","id":952089422,"node_id":"IC_kwDOFFj3yM44v7tO","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T16:06:19Z","updated_at":"2021-10-26T16:06:19Z","author_association":"CONTRIBUTOR","body":"> A concern with enabling BasicAuth is that it is less secure than OIDC which has a expiry of tokens, while a password is long-lived. To mitigate this added surface area, I wonder how easy it would be to \"lock down\" what a BasicAuth user can do in the system, such as limiting the role's permissions to block any request except /admin/system/info and /admin/collection?cmd=CLUSTERSTATUS. I think this is doable in authorization..\r\n\r\nNot sure why this is a concern? Locking down endpoints to a specific role (or roles) is why we have the authorization framework. The introduction of the `MultiAuthPlugin` really has no bearing on how people choose to configure their permissions.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/952089422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/953053969","html_url":"https://github.com/apache/solr/pull/355#issuecomment-953053969","issue_url":"https://api.github.com/repos/apache/solr/issues/355","id":953053969,"node_id":"IC_kwDOFFj3yM44znMR","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T15:39:54Z","updated_at":"2021-10-27T15:39:54Z","author_association":"CONTRIBUTOR","body":"> Not sure why this is a concern? Locking down endpoints to a specific role (or roles) is why we have the authorization framework. The introduction of the `MultiAuthPlugin` really has no bearing on how people choose to configure their permissions.\r\n\r\nYes, probably you have a small set of BasicAuth users for tools, and if those tools only need R/O access to some endpoints then the security is good. But if you want all of bin/solr features to use BasicAuth, then you need to give that user several WRITE/ADMIN permissions, and a PW leak becomes a real convern.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/953053969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/953256267","html_url":"https://github.com/apache/solr/pull/372#issuecomment-953256267","issue_url":"https://api.github.com/repos/apache/solr/issues/372","id":953256267,"node_id":"IC_kwDOFFj3yM440YlL","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T19:47:54Z","updated_at":"2021-10-27T19:47:54Z","author_association":"CONTRIBUTOR","body":"I discovered that the `ZookeeperReadAPI` clas exposes ZK on `/cluster/zk/data`, and it uses `ZK_READ_PERM` in the `@EndPoint` annotation. What if someone requests `/cluster/zk/data/security.json`, then they should really have `SECURITY_READ_PERM`. But I think with the `@EndPoint` way of assigning permissions, there is no way of assigning more fine-grained permissions based on path. @noblepaul is it possible to lock down only the `/security.json` path by declaring another method with `@EndPoint(path = \"/cluster/zk/data/security.json\"...` and permission `SECURITY_READ_PERM`? Will it take precedence over the `path = \"/cluster/zk/data/*\"` one?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/953256267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/953335179","html_url":"https://github.com/apache/solr/pull/369#issuecomment-953335179","issue_url":"https://api.github.com/repos/apache/solr/issues/369","id":953335179,"node_id":"IC_kwDOFFj3yM440r2L","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T21:45:55Z","updated_at":"2021-10-27T21:45:55Z","author_association":"CONTRIBUTOR","body":"Do we need more than the CHANGES line? It should go without saying that Java-level `@Deprecated` stuff can be removed in a major version, so no need to state that again in major-changes-in-solr-9 like we do for removed config-options and HTTP APIs?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/953335179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/953442337","html_url":"https://github.com/apache/solr/pull/349#issuecomment-953442337","issue_url":"https://api.github.com/repos/apache/solr/issues/349","id":953442337,"node_id":"IC_kwDOFFj3yM441GAh","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-28T02:09:31Z","updated_at":"2021-10-28T02:09:31Z","author_association":"CONTRIBUTOR","body":"@joel-bernstein I know you've had some concerns about what sort of things happen without a JIRA so I request your opinion here.  The point of this PR is to:\r\n* Downgrade many dependency declarations from \"api\" scope to lesser (typically implementation) to thus have modules state more clearly what they actually need\r\n** in some source files, switched to a Java 11 idiom to avoid a needless dependency on some deps by the module it's a part of\r\n* organize solr-core's build.gradle file -- for example keep the Hadoop Auth stuff together\r\n* solr-core & solrj's build.gradle file: use transitive dependencies, finally.  Thus remove dependency declarations that become needless.  We didn't allow ourselves this in the previous build system to avoid unwittingly adding a transitive but our current build system ensures we are aware of them, at least at a whole-project level in `versions.lock`.  This was a big part of what I wanted to do.\r\n\r\nHowever there are some things that I didn't intend (didn't set out to do) that should nevertheless happen any way (based on the transitive dependency tree), but maybe slightly muddy the refactor/tune-up aspect of this JIRA-less PR:\r\n* Janino is upgraded from 3.0.9 to 3.0.11.\r\n* net.hydromatic:eigenbase-properties isn't needed from Calcite after all?  (in tests we trust?)\r\n* kerby-kdc isn't needed for Hadoop Auth testing after all (in tests we trust)\r\n\r\nWDYT?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/953442337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/953847165","html_url":"https://github.com/apache/solr/pull/330#issuecomment-953847165","issue_url":"https://api.github.com/repos/apache/solr/issues/330","id":953847165,"node_id":"IC_kwDOFFj3yM442o19","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-28T13:30:15Z","updated_at":"2021-10-28T13:36:37Z","author_association":"CONTRIBUTOR","body":"I just found another today: `org.apache.solr.handler.ContentStreamLoader`.  There is another CSL that is used!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/953847165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/953847811","html_url":"https://github.com/apache/solr/pull/368#issuecomment-953847811","issue_url":"https://api.github.com/repos/apache/solr/issues/368","id":953847811,"node_id":"IC_kwDOFFj3yM442pAD","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-28T13:31:00Z","updated_at":"2021-10-28T13:31:00Z","author_association":"CONTRIBUTOR","body":"Closing, see JIRA","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/953847811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/954160826","html_url":"https://github.com/apache/solr/pull/376#issuecomment-954160826","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":954160826,"node_id":"IC_kwDOFFj3yM4431a6","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-28T20:04:46Z","updated_at":"2021-10-28T20:04:46Z","author_association":"MEMBER","body":"Hi, @dsmiley @NazerkeBS!\r\nYou review is quite appreciated! ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/954160826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/954949205","html_url":"https://github.com/apache/solr/pull/377#issuecomment-954949205","issue_url":"https://api.github.com/repos/apache/solr/issues/377","id":954949205,"node_id":"IC_kwDOFFj3yM44615V","user":{"login":"anshumg","id":3208161,"node_id":"MDQ6VXNlcjMyMDgxNjE=","avatar_url":"https://avatars.githubusercontent.com/u/3208161?v=4","gravatar_id":"","url":"https://api.github.com/users/anshumg","html_url":"https://github.com/anshumg","followers_url":"https://api.github.com/users/anshumg/followers","following_url":"https://api.github.com/users/anshumg/following{/other_user}","gists_url":"https://api.github.com/users/anshumg/gists{/gist_id}","starred_url":"https://api.github.com/users/anshumg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anshumg/subscriptions","organizations_url":"https://api.github.com/users/anshumg/orgs","repos_url":"https://api.github.com/users/anshumg/repos","events_url":"https://api.github.com/users/anshumg/events{/privacy}","received_events_url":"https://api.github.com/users/anshumg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-29T18:14:51Z","updated_at":"2021-10-29T18:14:51Z","author_association":"CONTRIBUTOR","body":"This looks good @markrmiller . I assume the per-test numbers are based on your local runs? ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/954949205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/955015726","html_url":"https://github.com/apache/solr/pull/378#issuecomment-955015726","issue_url":"https://api.github.com/repos/apache/solr/issues/378","id":955015726,"node_id":"IC_kwDOFFj3yM447GIu","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-29T20:02:57Z","updated_at":"2021-10-29T20:02:57Z","author_association":"CONTRIBUTOR","body":"I'm not clear how you determined what changes to make here.  I read the link you pointed to but it's not apparent how to connect that to your PR.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/955015726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/955042286","html_url":"https://github.com/apache/solr/pull/378#issuecomment-955042286","issue_url":"https://api.github.com/repos/apache/solr/issues/378","id":955042286,"node_id":"IC_kwDOFFj3yM447Mnu","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-29T20:54:47Z","updated_at":"2021-10-29T20:54:47Z","author_association":"CONTRIBUTOR","body":"The changes are the warnings that arise from `./gradlew assemble --warning-mode all` (typical gradle logging toggles like `--stacktrace` can help here too)\r\n\r\nWhat I think the documentation suggests is that `project(':solr:server').configurations.getByName('libExt')` in the prometheus module needs to be replaced with a  proper dependency on solr-server?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/955042286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/955586812","html_url":"https://github.com/apache/solr/pull/376#issuecomment-955586812","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":955586812,"node_id":"IC_kwDOFFj3yM449Rj8","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-30T20:14:51Z","updated_at":"2021-10-30T20:14:51Z","author_association":"MEMBER","body":"I don't like `SRI.addCloseHookStrict()` too, @dsmiley. As another band-aid I can put that atomic boolean wrapper into `JoinQuery` only. WDYT, @madrob ?     \r\nThe question closer to the root cause is why `SRI.getInheritableThreadLocalProvider().clean()` not only cleans threadlocal (which make sense for thread returning into the pool) but also closes SRI which it hasn't created.  ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/955586812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/955826088","html_url":"https://github.com/apache/solr/pull/288#issuecomment-955826088","issue_url":"https://api.github.com/repos/apache/solr/issues/288","id":955826088,"node_id":"IC_kwDOFFj3yM44-L-o","user":{"login":"makosten","id":19311245,"node_id":"MDQ6VXNlcjE5MzExMjQ1","avatar_url":"https://avatars.githubusercontent.com/u/19311245?v=4","gravatar_id":"","url":"https://api.github.com/users/makosten","html_url":"https://github.com/makosten","followers_url":"https://api.github.com/users/makosten/followers","following_url":"https://api.github.com/users/makosten/following{/other_user}","gists_url":"https://api.github.com/users/makosten/gists{/gist_id}","starred_url":"https://api.github.com/users/makosten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makosten/subscriptions","organizations_url":"https://api.github.com/users/makosten/orgs","repos_url":"https://api.github.com/users/makosten/repos","events_url":"https://api.github.com/users/makosten/events{/privacy}","received_events_url":"https://api.github.com/users/makosten/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-01T00:36:43Z","updated_at":"2021-11-01T00:36:43Z","author_association":"CONTRIBUTOR","body":"@cpoerschke You nailed it! The CompositeId Router has some inconsistent behavior. It's strict on the router field when adding but if the route is missing when deleting by id, it returns the slice based on the unique id hash. I updated the CompositeIdRouter to return null for getTargetSlice for this condition, in which case it is run on the current slice, and then flag the request to be broadcast to the other shard leaders.\r\n\r\nThis also affected the Implicit Router as it will now broadcast the delete-by-id request if the route is missing, so I updated a failing test. I'd like some feedback on this, as maybe the old behavior is more desirable for the Implicit router.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/955826088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/956217370","html_url":"https://github.com/apache/solr/pull/364#issuecomment-956217370","issue_url":"https://api.github.com/repos/apache/solr/issues/364","id":956217370,"node_id":"IC_kwDOFFj3yM44_rga","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-01T13:07:05Z","updated_at":"2021-11-01T13:07:05Z","author_association":"CONTRIBUTOR","body":"Once last ping!   I'd love to merge this today, and would love a LGTM ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/956217370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/956423330","html_url":"https://github.com/apache/solr/pull/376#issuecomment-956423330","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":956423330,"node_id":"IC_kwDOFFj3yM45Adyi","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-01T17:16:12Z","updated_at":"2021-11-01T17:16:12Z","author_association":"CONTRIBUTOR","body":"When I was working on SOLR-15555, the current behavior of closing the SRI helped me find a bug, so I'm reasonably confident that we don't want to change things to strict. If we do, then we should treat it like SolrCore close, where if there are too many calls to it then we log it and ask the person to create an issue - it more than likely means a bug in our code already.\r\n\r\n`SRI.getInheritableThreadLocalProvider().clean()` is supposed to remove the context done by `set` - looks like this came from SOLR-14384 and maybe we didn't get all of the usages there?\r\n\r\nI'm still speaking in generalities here, but I'm getting more and more convinced that the problem isn't with SRI.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/956423330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/957397496","html_url":"https://github.com/apache/solr/pull/383#issuecomment-957397496","issue_url":"https://api.github.com/repos/apache/solr/issues/383","id":957397496,"node_id":"IC_kwDOFFj3yM45ELn4","user":{"login":"radu-gheorghe","id":1482088,"node_id":"MDQ6VXNlcjE0ODIwODg=","avatar_url":"https://avatars.githubusercontent.com/u/1482088?v=4","gravatar_id":"","url":"https://api.github.com/users/radu-gheorghe","html_url":"https://github.com/radu-gheorghe","followers_url":"https://api.github.com/users/radu-gheorghe/followers","following_url":"https://api.github.com/users/radu-gheorghe/following{/other_user}","gists_url":"https://api.github.com/users/radu-gheorghe/gists{/gist_id}","starred_url":"https://api.github.com/users/radu-gheorghe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/radu-gheorghe/subscriptions","organizations_url":"https://api.github.com/users/radu-gheorghe/orgs","repos_url":"https://api.github.com/users/radu-gheorghe/repos","events_url":"https://api.github.com/users/radu-gheorghe/events{/privacy}","received_events_url":"https://api.github.com/users/radu-gheorghe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-02T12:04:08Z","updated_at":"2021-11-02T12:04:08Z","author_association":"CONTRIBUTOR","body":"I'm not sure if a Jira is needed for this small change, but I can surely create one if needed. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/957397496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/958100164","html_url":"https://github.com/apache/solr/pull/349#issuecomment-958100164","issue_url":"https://api.github.com/repos/apache/solr/issues/349","id":958100164,"node_id":"IC_kwDOFFj3yM45G3LE","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-02T19:26:01Z","updated_at":"2021-11-02T19:26:01Z","author_association":"CONTRIBUTOR","body":"I'll commit this tonight.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/958100164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/958288006","html_url":"https://github.com/apache/solr/pull/160#issuecomment-958288006","issue_url":"https://api.github.com/repos/apache/solr/issues/160","id":958288006,"node_id":"IC_kwDOFFj3yM45HlCG","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-02T22:29:19Z","updated_at":"2021-11-02T22:29:19Z","author_association":"CONTRIBUTOR","body":"what is wrong with `import static org.apache.solr.common.ConfigNode.Helpers.*;`","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/958288006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/958681681","html_url":"https://github.com/apache/solr/pull/375#issuecomment-958681681","issue_url":"https://api.github.com/repos/apache/solr/issues/375","id":958681681,"node_id":"IC_kwDOFFj3yM45JFJR","user":{"login":"markrmiller","id":448788,"node_id":"MDQ6VXNlcjQ0ODc4OA==","avatar_url":"https://avatars.githubusercontent.com/u/448788?v=4","gravatar_id":"","url":"https://api.github.com/users/markrmiller","html_url":"https://github.com/markrmiller","followers_url":"https://api.github.com/users/markrmiller/followers","following_url":"https://api.github.com/users/markrmiller/following{/other_user}","gists_url":"https://api.github.com/users/markrmiller/gists{/gist_id}","starred_url":"https://api.github.com/users/markrmiller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markrmiller/subscriptions","organizations_url":"https://api.github.com/users/markrmiller/orgs","repos_url":"https://api.github.com/users/markrmiller/repos","events_url":"https://api.github.com/users/markrmiller/events{/privacy}","received_events_url":"https://api.github.com/users/markrmiller/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T06:22:08Z","updated_at":"2021-11-03T06:22:08Z","author_association":"MEMBER","body":"Seems to be a test problem: https://ci-builds.apache.org/job/Solr/job/Solr-Check-main/","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/958681681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/958724294","html_url":"https://github.com/apache/solr/pull/349#issuecomment-958724294","issue_url":"https://api.github.com/repos/apache/solr/issues/349","id":958724294,"node_id":"IC_kwDOFFj3yM45JPjG","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T08:02:33Z","updated_at":"2021-11-03T08:02:33Z","author_association":"CONTRIBUTOR","body":"> I'm confused about versions.props. I thought this pinned our versions but it seems not because this is what is in there:\r\n> org.codehaus.janino:*=3.0.9\r\n> Yet Gradle selected 3.0.11.\r\n\r\nIt's not gradle - it's palantir's consistent versions. \"versions.props: lower bounds for dependencies\" - it'll select the highest version across all the required versions.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/958724294/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/958959533","html_url":"https://github.com/apache/solr/pull/300#issuecomment-958959533","issue_url":"https://api.github.com/repos/apache/solr/issues/300","id":958959533,"node_id":"IC_kwDOFFj3yM45KI-t","user":{"login":"markrmiller","id":448788,"node_id":"MDQ6VXNlcjQ0ODc4OA==","avatar_url":"https://avatars.githubusercontent.com/u/448788?v=4","gravatar_id":"","url":"https://api.github.com/users/markrmiller","html_url":"https://github.com/markrmiller","followers_url":"https://api.github.com/users/markrmiller/followers","following_url":"https://api.github.com/users/markrmiller/following{/other_user}","gists_url":"https://api.github.com/users/markrmiller/gists{/gist_id}","starred_url":"https://api.github.com/users/markrmiller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markrmiller/subscriptions","organizations_url":"https://api.github.com/users/markrmiller/orgs","repos_url":"https://api.github.com/users/markrmiller/repos","events_url":"https://api.github.com/users/markrmiller/events{/privacy}","received_events_url":"https://api.github.com/users/markrmiller/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T11:54:21Z","updated_at":"2021-11-03T11:54:21Z","author_association":"MEMBER","body":"Won't do. Will avoid ideal solution for these rarer of cases, will do waits / hacks / alternatives in line with current approaches in individual issues as necessary.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/958959533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/958967962","html_url":"https://github.com/apache/solr/pull/311#issuecomment-958967962","issue_url":"https://api.github.com/repos/apache/solr/issues/311","id":958967962,"node_id":"IC_kwDOFFj3yM45KLCa","user":{"login":"markrmiller","id":448788,"node_id":"MDQ6VXNlcjQ0ODc4OA==","avatar_url":"https://avatars.githubusercontent.com/u/448788?v=4","gravatar_id":"","url":"https://api.github.com/users/markrmiller","html_url":"https://github.com/markrmiller","followers_url":"https://api.github.com/users/markrmiller/followers","following_url":"https://api.github.com/users/markrmiller/following{/other_user}","gists_url":"https://api.github.com/users/markrmiller/gists{/gist_id}","starred_url":"https://api.github.com/users/markrmiller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markrmiller/subscriptions","organizations_url":"https://api.github.com/users/markrmiller/orgs","repos_url":"https://api.github.com/users/markrmiller/repos","events_url":"https://api.github.com/users/markrmiller/events{/privacy}","received_events_url":"https://api.github.com/users/markrmiller/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T12:06:39Z","updated_at":"2021-11-03T12:06:39Z","author_association":"MEMBER","body":"This can be worked around using the system property that disables all secure random usage.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/958967962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/959285752","html_url":"https://github.com/apache/solr/pull/375#issuecomment-959285752","issue_url":"https://api.github.com/repos/apache/solr/issues/375","id":959285752,"node_id":"IC_kwDOFFj3yM45LYn4","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T14:40:52Z","updated_at":"2021-11-03T14:40:52Z","author_association":"CONTRIBUTOR","body":"> Seems to be a test problem: https://ci-builds.apache.org/job/Solr/job/Solr-Check-main/\r\n\r\nYep, there are java unit tests that should also have been removed. Will handle now.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/959285752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/959367416","html_url":"https://github.com/apache/solr/pull/338#issuecomment-959367416","issue_url":"https://api.github.com/repos/apache/solr/issues/338","id":959367416,"node_id":"IC_kwDOFFj3yM45Lsj4","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T15:05:02Z","updated_at":"2021-11-03T15:05:02Z","author_association":"CONTRIBUTOR","body":"I think this looks fine to me, but I'm thinking about whether it makes more sense to return a useful error message in this case rather than silently defaulting to no parent query. @dsmiley you've had a lot of time with block joins, do you have opinion here?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/959367416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/959382186","html_url":"https://github.com/apache/solr/pull/160#issuecomment-959382186","issue_url":"https://api.github.com/repos/apache/solr/issues/160","id":959382186,"node_id":"IC_kwDOFFj3yM45LwKq","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T15:09:24Z","updated_at":"2021-11-03T15:09:24Z","author_association":"CONTRIBUTOR","body":"It's a wildcard import and we generally stay away from those as a project.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/959382186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/959616329","html_url":"https://github.com/apache/solr/pull/393#issuecomment-959616329","issue_url":"https://api.github.com/repos/apache/solr/issues/393","id":959616329,"node_id":"IC_kwDOFFj3yM45MpVJ","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T16:18:26Z","updated_at":"2021-11-03T16:18:26Z","author_association":"CONTRIBUTOR","body":"Quick read through and LGTM","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/959616329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/959652732","html_url":"https://github.com/apache/solr/pull/288#issuecomment-959652732","issue_url":"https://api.github.com/repos/apache/solr/issues/288","id":959652732,"node_id":"IC_kwDOFFj3yM45MyN8","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T16:29:06Z","updated_at":"2021-11-03T16:29:06Z","author_association":"CONTRIBUTOR","body":"> This also affected the Implicit Router as it will now broadcast the delete-by-id request if the route is missing, so I updated a failing test. I'd like some feedback on this, as maybe the old behavior is more desirable for the Implicit router.\r\n\r\nFrom the _\"... does not automatically route ...\"_ mention at https://solr.apache.org/guide/8_10/collection-management.html#create-parameters documentation I think the existing behaviour for the implicit router makes sense i.e. routing of both indexing and delete-by-id requests is the caller's responsibility.\r\n\r\n(If we wanted to change that behaviour, hypothetically, then doing so separately (e.g. as a follow-up issue and pull request) might be clearest and non-backwards compatibility would need to be considered and communicated e.g. users currently doing round-robins on delete-by-id external to Solr can cease doing that and users which use the implicit routing to (temporarily?) have the same document id on multiple shards would benefit from a way to opt-out of the delete-by-id broadcasting.)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/959652732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/959941548","html_url":"https://github.com/apache/solr/pull/394#issuecomment-959941548","issue_url":"https://api.github.com/repos/apache/solr/issues/394","id":959941548,"node_id":"IC_kwDOFFj3yM45N4us","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T20:12:23Z","updated_at":"2021-11-03T20:12:23Z","author_association":"CONTRIBUTOR","body":"I don't think `\"role\": null` works unless you `\"blockUnknown\": false` ... otherwise, requests would never make it to the endpoint, but let me verify with just the basic auth plugin ...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/959941548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/959942709","html_url":"https://github.com/apache/solr/pull/376#issuecomment-959942709","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":959942709,"node_id":"IC_kwDOFFj3yM45N5A1","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T20:12:57Z","updated_at":"2021-11-03T20:13:14Z","author_association":"MEMBER","body":"@madrob, honestly, I hardly follow.  \r\n> we don't want to change things to strict. .. then we log it and ask the person to create an issue\r\n\r\nwe do logging when refcount==-1, but when refcount==0 it's regular closing, and core should be closed even with no WARN log. And that's what happen here when `/export?q={!join}`, and btw and user can close almost any core of reachable instance. \r\nI'm not sure what you mean in usages of `SRI.getInheritableThreadLocalProvider().clean()`. I still think this `clean()` shouldn't close SRI, but just clean pool's threadlocal. I have an idea how to test it. But I don't know how to distinguish between old and potentially new test failures if I commit it. Does it sounds like an idea for the third attempt?  \r\n ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/959942709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/959956128","html_url":"https://github.com/apache/solr/pull/394#issuecomment-959956128","issue_url":"https://api.github.com/repos/apache/solr/issues/394","id":959956128,"node_id":"IC_kwDOFFj3yM45N8Sg","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T20:19:40Z","updated_at":"2021-11-03T20:26:37Z","author_association":"CONTRIBUTOR","body":"Yeah, just verified ... `\"role\": null` doesn't do anything when just using the `BasicAuthPlugin` unless `\"blockUnknown\": false` ... here's my config:\r\n```\r\nauthentication\":{\r\n    \"blockUnknown\":true,\r\n    \"class\":\"solr.BasicAuthPlugin\",\r\n    \"credentials\":{\r\n      \"admin\":\"BLAH BLAH BLAH\"},\r\n    \"\":{\"v\":6}},\r\n  \"authorization\":{\r\n    \"class\":\"solr.RuleBasedAuthorizationPlugin\",\r\n    \"permissions\":[\r\n     {\r\n        \"name\": \"k8s-probe-0\",\r\n        \"role\": null,\r\n        \"collection\": null,\r\n        \"path\": \"/admin/info/system\"\r\n      }, ...\r\n```\r\nNow curl that endpoint using: `curl http://localhost:8983/solr/admin/info/system`\r\n```\r\n<html>\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html;charset=ISO-8859-1\"/>\r\n<title>Error 401 require authentication</title>\r\n</head>\r\n<body><h2>HTTP ERROR 401 require authentication</h2>\r\n<table>\r\n<tr><th>URI:</th><td>/solr/admin/info/system</td></tr>\r\n<tr><th>STATUS:</th><td>401</td></tr>\r\n<tr><th>MESSAGE:</th><td>require authentication</td></tr>\r\n<tr><th>SERVLET:</th><td>default</td></tr>\r\n</table>\r\n\r\n</body>\r\n</html>\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/959956128/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/959966356","html_url":"https://github.com/apache/solr/pull/394#issuecomment-959966356","issue_url":"https://api.github.com/repos/apache/solr/issues/394","id":959966356,"node_id":"IC_kwDOFFj3yM45N-yU","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T20:24:48Z","updated_at":"2021-11-03T20:24:48Z","author_association":"CONTRIBUTOR","body":"Thanks!   WE are getting closer to our magic future of just having everything delegate credential look ups!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/959966356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/960003705","html_url":"https://github.com/apache/solr/pull/376#issuecomment-960003705","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":960003705,"node_id":"IC_kwDOFFj3yM45OH55","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T20:41:32Z","updated_at":"2021-11-03T20:41:32Z","author_association":"CONTRIBUTOR","body":"I thought the problem here was that we end up calling close too many times, right? So like on SolrCore, if we call close on  the hook multiple times we could log about it instead of silently ignoring the other times.\r\n\r\nclean closing SRI is fine because it's supposed to be mirrored by creating a new entry on the SRI stack during `set`. So if something is calling `clean` to call `close`, that means it didn't call `set` before.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/960003705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/960589892","html_url":"https://github.com/apache/solr/pull/375#issuecomment-960589892","issue_url":"https://api.github.com/repos/apache/solr/issues/375","id":960589892,"node_id":"IC_kwDOFFj3yM45QXBE","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T09:31:58Z","updated_at":"2021-11-04T09:31:58Z","author_association":"CONTRIBUTOR","body":"I can confirm that the build is now good again :)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/960589892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/960791729","html_url":"https://github.com/apache/solr/pull/391#issuecomment-960791729","issue_url":"https://api.github.com/repos/apache/solr/issues/391","id":960791729,"node_id":"IC_kwDOFFj3yM45RISx","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T12:21:59Z","updated_at":"2021-11-04T12:21:59Z","author_association":"CONTRIBUTOR","body":"Than you for this!    It looks great...   I appreciate your going through the process, and hopefully that sets you up for your next contribution ;-).    ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/960791729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/961186594","html_url":"https://github.com/apache/solr/pull/288#issuecomment-961186594","issue_url":"https://api.github.com/repos/apache/solr/issues/288","id":961186594,"node_id":"IC_kwDOFFj3yM45Sosi","user":{"login":"makosten","id":19311245,"node_id":"MDQ6VXNlcjE5MzExMjQ1","avatar_url":"https://avatars.githubusercontent.com/u/19311245?v=4","gravatar_id":"","url":"https://api.github.com/users/makosten","html_url":"https://github.com/makosten","followers_url":"https://api.github.com/users/makosten/followers","following_url":"https://api.github.com/users/makosten/following{/other_user}","gists_url":"https://api.github.com/users/makosten/gists{/gist_id}","starred_url":"https://api.github.com/users/makosten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makosten/subscriptions","organizations_url":"https://api.github.com/users/makosten/orgs","repos_url":"https://api.github.com/users/makosten/repos","events_url":"https://api.github.com/users/makosten/events{/privacy}","received_events_url":"https://api.github.com/users/makosten/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T16:03:21Z","updated_at":"2021-11-04T16:03:21Z","author_association":"CONTRIBUTOR","body":"On the unintentional impact to ImplicitIdRouter, I was thinking adding a property to the router as whether to do the broadcast to avoid isinstanceof CompositeIdRouter. But, there are other places in DistributedZkUpdateProcessor that do exactly that.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/961186594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/961198543","html_url":"https://github.com/apache/solr/pull/288#issuecomment-961198543","issue_url":"https://api.github.com/repos/apache/solr/issues/288","id":961198543,"node_id":"IC_kwDOFFj3yM45SrnP","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T16:16:35Z","updated_at":"2021-11-04T16:16:35Z","author_association":"CONTRIBUTOR","body":"Thanks @cpoerschke for digging into this PR ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/961198543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/961576928","html_url":"https://github.com/apache/solr/pull/385#issuecomment-961576928","issue_url":"https://api.github.com/repos/apache/solr/issues/385","id":961576928,"node_id":"IC_kwDOFFj3yM45UH_g","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T02:21:37Z","updated_at":"2021-11-05T03:00:06Z","author_association":"CONTRIBUTOR","body":"The condition on small offset was added in 1f7777693769bad1cd8fc40b339d00c43f16f9d1, and I think in a pinch this could stand to simply be removed (to restore the initial unconditional linear overrequest boost according to the overrequest function `f(x)=1.1*x + 4`, initially introduced* in 7b5df8a10391f5b824e8ea1793917ff60b64b8a8).\r\n\r\n*EDIT: I misidentified the initial introduction of the `f(x)=1.1*x + 4`; it's been refactored around a few times, but was already present in the commit that introduced JSON Facets: 3dc5ed33c5f13309c22716c7d18b726d8a093622\r\n\r\n@dsmiley, could you take a quick look at this? I think there's some sense to the assertion that larger numbers of requested values actually need _less_ overrequest (though I still don't think the distinction between offset and limit is relevant). Intuitively I'd also think that perhaps we'd want to boost extremely low gross-limit requests by _more_ than 4 (the proposal currently in this PR has a floor of 12 for shard requests).\r\n\r\nUltimately I think there a three options that might make sense:\r\n1. revert the overrequest function change from 1f7777693769bad1cd8fc40b339d00c43f16f9d1, going back to the original, unconditional linear boost\r\n2. change to a function something like what's proposed in this PR, which decays for larger gross limits\r\n3. switch to a static additive boost (+12 or something) that would help small requests, and \"decay\" (relative to the overall requested size) for higher gross limits.\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/961576928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/961602247","html_url":"https://github.com/apache/solr/pull/385#issuecomment-961602247","issue_url":"https://api.github.com/repos/apache/solr/issues/385","id":961602247,"node_id":"IC_kwDOFFj3yM45UOLH","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T03:33:10Z","updated_at":"2021-11-05T03:33:10Z","author_association":"CONTRIBUTOR","body":"I like it -- especially treating offset+limit the same as limit, and for monotonically increasing the over request to a point.   but I'm not the ideal reviewer.  @yonik , @joel-bernstein and @hossman come to mind.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/961602247/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/961963576","html_url":"https://github.com/apache/solr/pull/376#issuecomment-961963576","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":961963576,"node_id":"IC_kwDOFFj3yM45VmY4","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T14:58:02Z","updated_at":"2021-11-05T15:09:10Z","author_association":"MEMBER","body":"> the problem here was that we end up calling close too many times, right? \r\n\r\nExactly `SRI.closeHook()` is invoked twice, one from the request thread, the second one due to cleaning pool's thread. \r\n\r\n> if we call close on the hook multiple times we could log about it instead of silently ignoring the other times.\r\n\r\nThat's almost what's done in wrapper for closeable. PR: https://github.com/mkhludnev/solr/commit/36fd4aa0d6d98cb4a8db25d5add99aee599c9535#diff-7b4f31855280c776cee1dde2117f04a2fa9fcaf971d2a1b15cfd3f9978896394R210 ok. I can move ``AtomicBoolean closed`` into SRI. And then, you propose to just log it, without preventing closing core? How it helps users who have core closed after `/export?q={!join}`? \r\n\r\n> clean closing SRI is fine because it's supposed to be mirrored by creating a new entry on the SRI stack during set. \r\n\r\nNot really. We have single SRI instance, it get into request's thread stack and into pool's thread stack. That's how single SRI have `set` twice. Both stacks should be clean for sure, but closeables needs to be invoked once IMO.    \r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/961963576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/962098372","html_url":"https://github.com/apache/solr/pull/288#issuecomment-962098372","issue_url":"https://api.github.com/repos/apache/solr/issues/288","id":962098372,"node_id":"IC_kwDOFFj3yM45WHTE","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T17:53:34Z","updated_at":"2021-11-05T17:53:34Z","author_association":"CONTRIBUTOR","body":"Added two commits with small tweaks, yet to complete running full test suite locally but assuming it passes LGTM here.\r\n\r\n@makosten - would you like to go add a `solr/CHANGES.txt` entry also?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/962098372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/962163811","html_url":"https://github.com/apache/solr/pull/372#issuecomment-962163811","issue_url":"https://api.github.com/repos/apache/solr/issues/372","id":962163811,"node_id":"IC_kwDOFFj3yM45WXRj","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T19:31:05Z","updated_at":"2021-11-05T19:31:05Z","author_association":"CONTRIBUTOR","body":"I think this is almost ready for merge now.\r\n\r\nPerhaps TODO:\r\n* Updated RefGuide? Which page(s)?\r\n* Make AdminUI display proper error messages instead of just a red bar on top in case of 403 error. Perhaps a generic box saying \"Your user does not have the necessary role(s).\"","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/962163811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/962178847","html_url":"https://github.com/apache/solr/pull/372#issuecomment-962178847","issue_url":"https://api.github.com/repos/apache/solr/issues/372","id":962178847,"node_id":"IC_kwDOFFj3yM45Wa8f","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T19:57:09Z","updated_at":"2021-11-05T19:57:09Z","author_association":"CONTRIBUTOR","body":"> * Make AdminUI display proper error messages instead of just a red bar on top in case of 403 error. Perhaps a generic box saying \"Your user does not have the necessary role(s).\"\r\n\r\nThis is now in. A simple generic message, that is cleared on next successful Ajax request.\r\n<img width=\"816\" alt=\"Skjermbilde 2021-11-05 kl  20 56 09\" src=\"https://user-images.githubusercontent.com/409128/140570888-dd788a43-9d6d-4b20-bb5f-99635b082e67.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/962178847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/962421732","html_url":"https://github.com/apache/solr/pull/376#issuecomment-962421732","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":962421732,"node_id":"IC_kwDOFFj3yM45XWPk","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T09:03:13Z","updated_at":"2021-11-06T09:03:13Z","author_association":"MEMBER","body":"rolled back `SRI.addCloseHookStrict()` pushed more accurate version:\r\n\r\n1. SRI.InheritableThreadlocal clears SRI but doesn't close SRI\r\n2. introduced `SRI.closed`. it fails only test but just logs error if closeHooks() are repeatedly called.  \r\n\r\nOpinions, @madrob, @dsmiley , @NazerkeBS ? ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/962421732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/962658431","html_url":"https://github.com/apache/solr/pull/265#issuecomment-962658431","issue_url":"https://api.github.com/repos/apache/solr/issues/265","id":962658431,"node_id":"IC_kwDOFFj3yM45YQB_","user":{"login":"gus-asf","id":46900717,"node_id":"MDQ6VXNlcjQ2OTAwNzE3","avatar_url":"https://avatars.githubusercontent.com/u/46900717?v=4","gravatar_id":"","url":"https://api.github.com/users/gus-asf","html_url":"https://github.com/gus-asf","followers_url":"https://api.github.com/users/gus-asf/followers","following_url":"https://api.github.com/users/gus-asf/following{/other_user}","gists_url":"https://api.github.com/users/gus-asf/gists{/gist_id}","starred_url":"https://api.github.com/users/gus-asf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gus-asf/subscriptions","organizations_url":"https://api.github.com/users/gus-asf/orgs","repos_url":"https://api.github.com/users/gus-asf/repos","events_url":"https://api.github.com/users/gus-asf/events{/privacy}","received_events_url":"https://api.github.com/users/gus-asf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:24:23Z","updated_at":"2021-11-07T18:24:23Z","author_association":"CONTRIBUTOR","body":"continued with https://github.com/apache/solr/pull/397","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/962658431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/962659255","html_url":"https://github.com/apache/solr/pull/376#issuecomment-962659255","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":962659255,"node_id":"IC_kwDOFFj3yM45YQO3","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:30:22Z","updated_at":"2021-11-07T18:30:22Z","author_association":"CONTRIBUTOR","body":"Thanks for pushing forward on this Mikhail!\r\n\r\nI ran tests and found that `org.apache.solr.client.solrj.io.stream.CloudAuthStreamTest#testDaemonUpdateStreamInsufficientCredentials` failed -- somehow setRequestInfo was being called with an already-closed SRI.  The call occurred in `org.apache.solr.common.util.ExecutorUtil.InheritableThreadLocalProvider#set` for SRI.  It appears that daemonStream has a lifespan that surpasses the parent request.  That makes sense -- it'a a daemon.  Maybe that executor shouldn't inherit the SRI because it's in the background and will exceed the parent request?  I lean this way.  Any opinion @joel-bernstein ?  Or we could switch to a refCount approach so that this case and maybe others will close only once it's removed from the last SRI ThreadLocal stack.  I just started playing with that but I fear there is a race between the original request closing down and the new daemon thread in the pool grabbing a reference to the SRI that will be closed in any millisecond... either could win to increase/decrease the refCount, meaning that sometimes the SRI would be inherited and sometimes not -- clearly not good.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/962659255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/962915819","html_url":"https://github.com/apache/solr/pull/372#issuecomment-962915819","issue_url":"https://api.github.com/repos/apache/solr/issues/372","id":962915819,"node_id":"IC_kwDOFFj3yM45ZO3r","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T08:23:51Z","updated_at":"2021-11-08T08:23:51Z","author_association":"CONTRIBUTOR","body":"Here is a matrix of what permissions each Admin screen now requires. If something seems odd, shout out.\r\nhttps://docs.google.com/spreadsheets/d/1s2xokDxw9IkXr7ZA5n06RPDj6EwvpbsZ7zUeKpvRC3Q/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/962915819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/963105309","html_url":"https://github.com/apache/solr/pull/376#issuecomment-963105309","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":963105309,"node_id":"IC_kwDOFFj3yM45Z9Id","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T12:31:11Z","updated_at":"2021-11-08T12:31:11Z","author_association":"MEMBER","body":"Sigh.. \r\nIt seems `SRI.closed` can't be introduced. If a request thread spins off `MDCAwareThreadPool` it's not obvious who should close `SRI`. In master branch, it's closed twice. In this branch it's closed in the request thread. The problem that request thread might close it before it will be used in thread pool. At least it's what happen in code right now. It may make harm some cases, but it's out of scope of this issue.    \r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/963105309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/963146439","html_url":"https://github.com/apache/solr/pull/372#issuecomment-963146439","issue_url":"https://api.github.com/repos/apache/solr/issues/372","id":963146439,"node_id":"IC_kwDOFFj3yM45aHLH","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T13:23:18Z","updated_at":"2021-11-08T13:23:18Z","author_association":"CONTRIBUTOR","body":"I put two comments into your spreadsheet...    I wonder if we should link to that spreadsheet from the Ref Guide?  It's a great visual to map out what permissions do what!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/963146439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/963291176","html_url":"https://github.com/apache/solr/pull/402#issuecomment-963291176","issue_url":"https://api.github.com/repos/apache/solr/issues/402","id":963291176,"node_id":"IC_kwDOFFj3yM45aqgo","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T15:49:38Z","updated_at":"2021-11-08T15:49:38Z","author_association":"CONTRIBUTOR","body":"Thanks for this...   I know this is a small PR, but if you want to get in the habit of having the PR Description be filled in, that always helps folks!   The link back to the JIRA issue and just update the Description/Solution/Test sections.   a \"not applicable\" is fine!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/963291176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/963311471","html_url":"https://github.com/apache/solr/pull/401#issuecomment-963311471","issue_url":"https://api.github.com/repos/apache/solr/issues/401","id":963311471,"node_id":"IC_kwDOFFj3yM45avdv","user":{"login":"kmheibel","id":7119904,"node_id":"MDQ6VXNlcjcxMTk5MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7119904?v=4","gravatar_id":"","url":"https://api.github.com/users/kmheibel","html_url":"https://github.com/kmheibel","followers_url":"https://api.github.com/users/kmheibel/followers","following_url":"https://api.github.com/users/kmheibel/following{/other_user}","gists_url":"https://api.github.com/users/kmheibel/gists{/gist_id}","starred_url":"https://api.github.com/users/kmheibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmheibel/subscriptions","organizations_url":"https://api.github.com/users/kmheibel/orgs","repos_url":"https://api.github.com/users/kmheibel/repos","events_url":"https://api.github.com/users/kmheibel/events{/privacy}","received_events_url":"https://api.github.com/users/kmheibel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T16:10:09Z","updated_at":"2021-11-08T17:41:49Z","author_association":"CONTRIBUTOR","body":"https://issues.apache.org/jira/browse/LUCENE-9229\r\n\r\nFixed broken link to the doc for jdk9 Arrays.equals method.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/963311471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/963393925","html_url":"https://github.com/apache/solr/pull/400#issuecomment-963393925","issue_url":"https://api.github.com/repos/apache/solr/issues/400","id":963393925,"node_id":"IC_kwDOFFj3yM45bDmF","user":{"login":"kmheibel","id":7119904,"node_id":"MDQ6VXNlcjcxMTk5MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7119904?v=4","gravatar_id":"","url":"https://api.github.com/users/kmheibel","html_url":"https://github.com/kmheibel","followers_url":"https://api.github.com/users/kmheibel/followers","following_url":"https://api.github.com/users/kmheibel/following{/other_user}","gists_url":"https://api.github.com/users/kmheibel/gists{/gist_id}","starred_url":"https://api.github.com/users/kmheibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmheibel/subscriptions","organizations_url":"https://api.github.com/users/kmheibel/orgs","repos_url":"https://api.github.com/users/kmheibel/repos","events_url":"https://api.github.com/users/kmheibel/events{/privacy}","received_events_url":"https://api.github.com/users/kmheibel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T17:30:39Z","updated_at":"2021-11-08T17:42:11Z","author_association":"CONTRIBUTOR","body":"https://issues.apache.org/jira/browse/LUCENE-9229\r\n\r\nFixed link to esri from the javadoc","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/963393925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/963402629","html_url":"https://github.com/apache/solr/pull/402#issuecomment-963402629","issue_url":"https://api.github.com/repos/apache/solr/issues/402","id":963402629,"node_id":"IC_kwDOFFj3yM45bFuF","user":{"login":"kmheibel","id":7119904,"node_id":"MDQ6VXNlcjcxMTk5MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7119904?v=4","gravatar_id":"","url":"https://api.github.com/users/kmheibel","html_url":"https://github.com/kmheibel","followers_url":"https://api.github.com/users/kmheibel/followers","following_url":"https://api.github.com/users/kmheibel/following{/other_user}","gists_url":"https://api.github.com/users/kmheibel/gists{/gist_id}","starred_url":"https://api.github.com/users/kmheibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmheibel/subscriptions","organizations_url":"https://api.github.com/users/kmheibel/orgs","repos_url":"https://api.github.com/users/kmheibel/repos","events_url":"https://api.github.com/users/kmheibel/events{/privacy}","received_events_url":"https://api.github.com/users/kmheibel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T17:41:19Z","updated_at":"2021-11-08T17:41:19Z","author_association":"CONTRIBUTOR","body":"https://issues.apache.org/jira/browse/LUCENE-9229\r\n\r\nFixed 3 broken links in the javadoc\r\n\r\n1) A link to guava relocated by google.\r\n\r\n2) Two links relocated away from \"aggregateknowledge\".","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/963402629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/963932414","html_url":"https://github.com/apache/solr/pull/377#issuecomment-963932414","issue_url":"https://api.github.com/repos/apache/solr/issues/377","id":963932414,"node_id":"IC_kwDOFFj3yM45dHD-","user":{"login":"markrmiller","id":448788,"node_id":"MDQ6VXNlcjQ0ODc4OA==","avatar_url":"https://avatars.githubusercontent.com/u/448788?v=4","gravatar_id":"","url":"https://api.github.com/users/markrmiller","html_url":"https://github.com/markrmiller","followers_url":"https://api.github.com/users/markrmiller/followers","following_url":"https://api.github.com/users/markrmiller/following{/other_user}","gists_url":"https://api.github.com/users/markrmiller/gists{/gist_id}","starred_url":"https://api.github.com/users/markrmiller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markrmiller/subscriptions","organizations_url":"https://api.github.com/users/markrmiller/orgs","repos_url":"https://api.github.com/users/markrmiller/repos","events_url":"https://api.github.com/users/markrmiller/events{/privacy}","received_events_url":"https://api.github.com/users/markrmiller/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T08:45:12Z","updated_at":"2021-11-09T08:45:12Z","author_association":"MEMBER","body":"Whatever I had to use to get consistent passes, though the hdfs ones are likely not all necessary due to the workaround hack done in minicluster shutdown done to deal with their bad shutdown ordering, but I leave them as a precaution.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/963932414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964007288","html_url":"https://github.com/apache/solr/pull/372#issuecomment-964007288","issue_url":"https://api.github.com/repos/apache/solr/issues/372","id":964007288,"node_id":"IC_kwDOFFj3yM45dZV4","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T10:17:43Z","updated_at":"2021-11-09T10:17:43Z","author_association":"CONTRIBUTOR","body":"I plan to merge this on Thursday.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964007288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964248384","html_url":"https://github.com/apache/solr/pull/402#issuecomment-964248384","issue_url":"https://api.github.com/repos/apache/solr/issues/402","id":964248384,"node_id":"IC_kwDOFFj3yM45eUNA","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T15:17:05Z","updated_at":"2021-11-09T15:17:05Z","author_association":"CONTRIBUTOR","body":"Thanks. For future PRs, please fill in the description field and complete the checklist. The title of the PR should start with the JIRA issue number, e.g. \"SOLR-1234 my feature\".\r\n\r\nFor minor dead-link fixes like these we don't need individual JIRA issues, but for future larger works, separate JIRAs can be created.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964248384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964255928","html_url":"https://github.com/apache/solr/pull/72#issuecomment-964255928","issue_url":"https://api.github.com/repos/apache/solr/issues/72","id":964255928,"node_id":"IC_kwDOFFj3yM45eWC4","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T15:24:52Z","updated_at":"2021-11-09T15:24:52Z","author_association":"CONTRIBUTOR","body":"Can this be closed? The corresponding jira is closed.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964255928/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964256724","html_url":"https://github.com/apache/solr/pull/146#issuecomment-964256724","issue_url":"https://api.github.com/repos/apache/solr/issues/146","id":964256724,"node_id":"IC_kwDOFFj3yM45eWPU","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T15:25:42Z","updated_at":"2021-11-09T15:25:42Z","author_association":"CONTRIBUTOR","body":"Jira SOLR-15258 is closed, can this PR also be closed?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964256724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964367898","html_url":"https://github.com/apache/solr/pull/317#issuecomment-964367898","issue_url":"https://api.github.com/repos/apache/solr/issues/317","id":964367898,"node_id":"IC_kwDOFFj3yM45exYa","user":{"login":"markrmiller","id":448788,"node_id":"MDQ6VXNlcjQ0ODc4OA==","avatar_url":"https://avatars.githubusercontent.com/u/448788?v=4","gravatar_id":"","url":"https://api.github.com/users/markrmiller","html_url":"https://github.com/markrmiller","followers_url":"https://api.github.com/users/markrmiller/followers","following_url":"https://api.github.com/users/markrmiller/following{/other_user}","gists_url":"https://api.github.com/users/markrmiller/gists{/gist_id}","starred_url":"https://api.github.com/users/markrmiller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markrmiller/subscriptions","organizations_url":"https://api.github.com/users/markrmiller/orgs","repos_url":"https://api.github.com/users/markrmiller/repos","events_url":"https://api.github.com/users/markrmiller/events{/privacy}","received_events_url":"https://api.github.com/users/markrmiller/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T17:23:54Z","updated_at":"2021-11-09T17:23:54Z","author_association":"MEMBER","body":"See https://issues.apache.org/jira/browse/SOLR-15639","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964367898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964531376","html_url":"https://github.com/apache/solr/pull/146#issuecomment-964531376","issue_url":"https://api.github.com/repos/apache/solr/issues/146","id":964531376,"node_id":"IC_kwDOFFj3yM45fZSw","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T20:49:59Z","updated_at":"2021-11-09T20:49:59Z","author_association":"CONTRIBUTOR","body":"SOLR-15258 is a refactoring that we might say can include this or maybe not; it doesn't matter I suppose.  It's 9.0 only so there is more fluidity.  I suppose a separate issue feels better.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964531376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964539548","html_url":"https://github.com/apache/solr/pull/146#issuecomment-964539548","issue_url":"https://api.github.com/repos/apache/solr/issues/146","id":964539548,"node_id":"IC_kwDOFFj3yM45fbSc","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T21:01:16Z","updated_at":"2021-11-09T21:01:16Z","author_association":"CONTRIBUTOR","body":"The answer made me no wiser :) To me it looked like this is committed elsewhere without being closed. But you're saying this PR should get another JIRA number and remains to be merged? I did not look closely.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964539548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964542435","html_url":"https://github.com/apache/solr/pull/372#issuecomment-964542435","issue_url":"https://api.github.com/repos/apache/solr/issues/372","id":964542435,"node_id":"IC_kwDOFFj3yM45fb_j","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T21:05:02Z","updated_at":"2021-11-09T21:05:02Z","author_association":"CONTRIBUTOR","body":"There spreadsheet confuses me a bit.  There there are two columns that have a blue for the same row, are both needed or just one to show the screen?\r\n\r\nSo does the Schema screen requires \"read\" to show the screen?  That's an interesting screen... it can expose data in terms of field values in term statistics but otherwise it's mostly a \"config-read\" tool.  I don't recall how this screen maps to handlers.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964542435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964582922","html_url":"https://github.com/apache/solr/pull/376#issuecomment-964582922","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":964582922,"node_id":"IC_kwDOFFj3yM45fl4K","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T21:57:06Z","updated_at":"2021-11-09T21:57:06Z","author_association":"MEMBER","body":"we have (at least) two tread pool usages https://github.com/mkhludnev/solr/blob/SOLR-15635-clear_SRI_twice/solr/solrj/src/java/org/apache/solr/client/solrj/io/stream/DaemonStream.java#L208\r\nhttps://github.com/apache/solr/blob/9903d00b0fb6216f836bb580f42d0081b7b41584/solr/core/src/java/org/apache/solr/handler/export/ExportBuffers.java#L207\r\nit both occurrences there are just `shutdown/Now()` without `awaitTermination()` it introduces races in closing SRI. @joel-bernstein in your opinion, can we call `awaitTermination()` there both? In this case request thread could close SRI synchronously. As an alternative idea, we can do SRI nesting before launching those pools, but it should be a special kind of SRI, which will be closed by the pool? Is it a good band-aid?  ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964582922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964774703","html_url":"https://github.com/apache/solr/pull/376#issuecomment-964774703","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":964774703,"node_id":"IC_kwDOFFj3yM45gUsv","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T04:25:20Z","updated_at":"2021-11-10T04:25:20Z","author_association":"CONTRIBUTOR","body":"> can we call awaitTermination() \r\n\r\nIn at least daemon() -- no; it misses the point.\r\n\r\nThinking about this more... I see a way to fix the race I described in the scenario I described last.  In org.apache.solr.common.util.ExecutorUtil.InheritableThreadLocalProvider#store (which is called by the thread submitting to the threadPool, increase a refCount there.  Then, it doesn't matter wether the Solr request thread finishes first or if the pool's Runnable completes first.  Whichever happens last will do the actual close'ing.  Make sense?\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964774703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/964836909","html_url":"https://github.com/apache/solr/pull/376#issuecomment-964836909","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":964836909,"node_id":"IC_kwDOFFj3yM45gj4t","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T06:55:22Z","updated_at":"2021-11-10T06:55:22Z","author_association":"MEMBER","body":"> In at least daemon() -- no; it misses the point.\r\n\r\nYep. I'm missing the point. 1) Why that daemon is shut down right there? Why it's done asynchronously w/o awaitTerm? \r\n\r\n> org.apache.solr.common.util.ExecutorUtil.InheritableThreadLocalProvider#store (which is called by the thread submitting to the threadPool, increase a refCount there. \r\n\r\nwell... not really. In ITHP.store() there's no incremented refcount yet. Pool just can initiate core closing via hook. \r\n\r\nI can try to stack new SRI right before spinning the pools, delegating closing to those pools.   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/964836909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/965069597","html_url":"https://github.com/apache/solr/pull/159#issuecomment-965069597","issue_url":"https://api.github.com/repos/apache/solr/issues/159","id":965069597,"node_id":"IC_kwDOFFj3yM45hcsd","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T12:07:56Z","updated_at":"2021-11-10T12:07:56Z","author_association":"CONTRIBUTOR","body":"@cpoerschke I wanted to get this sorted, any chance you could be another set of eyes????","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/965069597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/965075092","html_url":"https://github.com/apache/solr/pull/358#issuecomment-965075092","issue_url":"https://api.github.com/repos/apache/solr/issues/358","id":965075092,"node_id":"IC_kwDOFFj3yM45heCU","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T12:15:41Z","updated_at":"2021-11-10T12:15:41Z","author_association":"CONTRIBUTOR","body":"@turnertg I responsed to @janhoy feedback, and added attribution.  Is `turnertg` work?  I'd like to merge this tomorrow!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/965075092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/965143019","html_url":"https://github.com/apache/solr/pull/376#issuecomment-965143019","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":965143019,"node_id":"IC_kwDOFFj3yM45hunr","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T13:31:56Z","updated_at":"2021-11-10T13:31:56Z","author_association":"CONTRIBUTOR","body":"> Yep. I'm missing the point. 1) Why that daemon is shut down right there? Why it's done asynchronously w/o awaitTerm?\r\n\r\nBy definition, a daemon lives beyond the request thread, and that's what this particular streaming expression is expressly for (by-design).  Reminder: ExecutorService.shutdown() doesn't cancel the already running tasks, but it ensures it closes itself once the task(s) are done.\r\n\r\n> well... not really. In ITHP.store() there's no incremented refcount yet.\r\n\r\nI'm making a proposal; there are no refCounts yet -- indeed.  I have some WIP that I could commit here.  Let me know if you'd like to see.\r\n\r\n> I can try to stack new SRI right before spinning the pools, delegating closing to those pools.\r\n\r\nI don't really follow but maybe you can show or explain further?  If you're saying this pool will create a *new* SolrRequestInfo (special in some way)... I'm not sure I like It but we'll see I guess.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/965143019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/965575096","html_url":"https://github.com/apache/solr/pull/146#issuecomment-965575096","issue_url":"https://api.github.com/repos/apache/solr/issues/146","id":965575096,"node_id":"IC_kwDOFFj3yM45jYG4","user":{"login":"NazerkeBS","id":33206532,"node_id":"MDQ6VXNlcjMzMjA2NTMy","avatar_url":"https://avatars.githubusercontent.com/u/33206532?v=4","gravatar_id":"","url":"https://api.github.com/users/NazerkeBS","html_url":"https://github.com/NazerkeBS","followers_url":"https://api.github.com/users/NazerkeBS/followers","following_url":"https://api.github.com/users/NazerkeBS/following{/other_user}","gists_url":"https://api.github.com/users/NazerkeBS/gists{/gist_id}","starred_url":"https://api.github.com/users/NazerkeBS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NazerkeBS/subscriptions","organizations_url":"https://api.github.com/users/NazerkeBS/orgs","repos_url":"https://api.github.com/users/NazerkeBS/repos","events_url":"https://api.github.com/users/NazerkeBS/events{/privacy}","received_events_url":"https://api.github.com/users/NazerkeBS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T17:32:05Z","updated_at":"2021-11-10T17:32:05Z","author_association":"CONTRIBUTOR","body":"@janhoy this PR is not committed before. I think jira number is confusing  here as SOLR-15258 is already closed. \r\nI will create a jira issue and link this PR with that. But still it remains to be merged. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/965575096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/965756774","html_url":"https://github.com/apache/solr/pull/409#issuecomment-965756774","issue_url":"https://api.github.com/repos/apache/solr/issues/409","id":965756774,"node_id":"IC_kwDOFFj3yM45kEdm","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T21:23:33Z","updated_at":"2021-11-10T21:23:33Z","author_association":"CONTRIBUTOR","body":"@erikhatcher you want to review?   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/965756774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/965761293","html_url":"https://github.com/apache/solr/pull/376#issuecomment-965761293","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":965761293,"node_id":"IC_kwDOFFj3yM45kFkN","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T21:30:53Z","updated_at":"2021-11-10T21:30:53Z","author_association":"MEMBER","body":"> I don't really follow but maybe you can show or explain further?\r\n\r\nAnyway. I tried. it didn't worked out. I'd be happy to have a look on your approach. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/965761293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/965775501","html_url":"https://github.com/apache/solr/pull/408#issuecomment-965775501","issue_url":"https://api.github.com/repos/apache/solr/issues/408","id":965775501,"node_id":"IC_kwDOFFj3yM45kJCN","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T21:47:20Z","updated_at":"2021-11-10T21:47:20Z","author_association":"CONTRIBUTOR","body":"Just a contribution tip: please fill out the PR template, and feel free to remove what isn't relevant depending on the PR.  As you contribute more, delete it entirely.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/965775501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/966142399","html_url":"https://github.com/apache/solr/pull/338#issuecomment-966142399","issue_url":"https://api.github.com/repos/apache/solr/issues/338","id":966142399,"node_id":"IC_kwDOFFj3yM45lim_","user":{"login":"sayandigital","id":24439178,"node_id":"MDQ6VXNlcjI0NDM5MTc4","avatar_url":"https://avatars.githubusercontent.com/u/24439178?v=4","gravatar_id":"","url":"https://api.github.com/users/sayandigital","html_url":"https://github.com/sayandigital","followers_url":"https://api.github.com/users/sayandigital/followers","following_url":"https://api.github.com/users/sayandigital/following{/other_user}","gists_url":"https://api.github.com/users/sayandigital/gists{/gist_id}","starred_url":"https://api.github.com/users/sayandigital/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sayandigital/subscriptions","organizations_url":"https://api.github.com/users/sayandigital/orgs","repos_url":"https://api.github.com/users/sayandigital/repos","events_url":"https://api.github.com/users/sayandigital/events{/privacy}","received_events_url":"https://api.github.com/users/sayandigital/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T09:23:58Z","updated_at":"2021-11-11T09:23:58Z","author_association":"CONTRIBUTOR","body":"> I pushed a commit that re-did your tests. The syntax was already wrong/weird (with 'q' instead of \"of\", and with the extra '{' creating an imbalance. I also wanted to test the parent QParser and to use one of Solr's test utilities to expressly test for a bad request instead of a RuntimeException generally.\r\n> \r\n> You still need to redo the formatting. I think you should also remove the needless newline you put at the beginning and end of the changed method. You might consider starting all-over and force-pushing.\r\n\r\nhttp://localhost:8983/solr/films/select?q={!child%20q={} - This is the query shared in the jira which is invalid","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/966142399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/966260473","html_url":"https://github.com/apache/solr/pull/372#issuecomment-966260473","issue_url":"https://api.github.com/repos/apache/solr/issues/372","id":966260473,"node_id":"IC_kwDOFFj3yM45l_b5","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T12:24:19Z","updated_at":"2021-11-11T12:24:19Z","author_association":"CONTRIBUTOR","body":"Added 'health' permission to refguide docs. Going to merge this now. It's a 9.0 only change, and we can open futher PRs to refine and adjust if needed.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/966260473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/966267268","html_url":"https://github.com/apache/solr/pull/376#issuecomment-966267268","issue_url":"https://api.github.com/repos/apache/solr/issues/376","id":966267268,"node_id":"IC_kwDOFFj3yM45mBGE","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T12:35:18Z","updated_at":"2021-11-11T12:35:18Z","author_association":"MEMBER","body":"Well cool! You've got it, @dsmiley. I slightly improved the test. When it's a time to commit it?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/966267268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/966340369","html_url":"https://github.com/apache/solr/pull/146#issuecomment-966340369","issue_url":"https://api.github.com/repos/apache/solr/issues/146","id":966340369,"node_id":"IC_kwDOFFj3yM45mS8R","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T14:20:06Z","updated_at":"2021-11-11T14:20:06Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification :) ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/966340369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/966370502","html_url":"https://github.com/apache/solr/pull/338#issuecomment-966370502","issue_url":"https://api.github.com/repos/apache/solr/issues/338","id":966370502,"node_id":"IC_kwDOFFj3yM45maTG","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T14:58:32Z","updated_at":"2021-11-11T14:58:32Z","author_association":"CONTRIBUTOR","body":"Feel free to add another line of test code to test that one.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/966370502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/967063294","html_url":"https://github.com/apache/solr/pull/218#issuecomment-967063294","issue_url":"https://api.github.com/repos/apache/solr/issues/218","id":967063294,"node_id":"IC_kwDOFFj3yM45pDb-","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T12:09:53Z","updated_at":"2021-11-12T12:09:53Z","author_association":"CONTRIBUTOR","body":"I think I am slightly confused, I was expecting these \"apispec.json\" files to go away, but they are over in solrj????\r\n\r\nhttps://github.com/gerlowskija/solr/blob/SOLR_15536_shards_v2_apis_using_annotation_framework/solr/solrj/src/resources/apispec/collections.collection.shards.shard.Commands.json\r\n\r\nDo we define the apis on both places?  Or am I jumping the gun and you just haven't gotton to deleting the related .json file?   Great to see progress...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/967063294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/967070550","html_url":"https://github.com/apache/solr/pull/218#issuecomment-967070550","issue_url":"https://api.github.com/repos/apache/solr/issues/218","id":967070550,"node_id":"IC_kwDOFFj3yM45pFNW","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T12:21:23Z","updated_at":"2021-11-12T12:21:23Z","author_association":"CONTRIBUTOR","body":"> I think I am slightly confused, I was expecting these \"apispec.json\" files to go away, but they are over in solrj????\r\n> \r\n> https://github.com/gerlowskija/solr/blob/SOLR_15536_shards_v2_apis_using_annotation_framework/solr/solrj/src/resources/apispec/collections.collection.shards.shard.Commands.json\r\n> \r\n> Do we define the apis on both places? Or am I jumping the gun and you just haven't gotton to deleting the related .json file? Great to see progress...\r\n\r\nNever mind, I didn't scroll far enough down...?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/967070550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/967072572","html_url":"https://github.com/apache/solr/pull/218#issuecomment-967072572","issue_url":"https://api.github.com/repos/apache/solr/issues/218","id":967072572,"node_id":"IC_kwDOFFj3yM45pFs8","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T12:25:08Z","updated_at":"2021-11-12T12:25:08Z","author_association":"CONTRIBUTOR","body":"Okay, one more morning thought....   Do we actually need the `captureConvertedV1Params` and the mapping between V1 and V2 tests?   Do we care that V2 is different then V1????    Especially now that it's \"experimental\" and we might make a LOT of changes...     DO we limit ourselves by having this mapping check?    I'm curious how having these tests (which also look complex and a LOT of work) help us build a better V2 API?   \r\n\r\nA part of me wants to pick a common use case for the API, and draw out the steps and the related API calls, and see where we are overly verbose or overly terse to inform our V2 structure ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/967072572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/967472441","html_url":"https://github.com/apache/solr/pull/408#issuecomment-967472441","issue_url":"https://api.github.com/repos/apache/solr/issues/408","id":967472441,"node_id":"IC_kwDOFFj3yM45qnU5","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T20:16:27Z","updated_at":"2021-11-12T20:16:27Z","author_association":"CONTRIBUTOR","body":"Could you please add a brief CHANGES.txt entry?:\r\nI suggest this wording:  Custom node request handlers/endpoints that weren't in packages can now be located in JARs in solr-home/lib, not just WEB-INF/lib.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/967472441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/968089083","html_url":"https://github.com/apache/solr/pull/218#issuecomment-968089083","issue_url":"https://api.github.com/repos/apache/solr/issues/218","id":968089083,"node_id":"IC_kwDOFFj3yM45s937","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-13T15:49:25Z","updated_at":"2021-11-13T15:49:25Z","author_association":"CONTRIBUTOR","body":"> Do we actually need the captureConvertedV1Params and the mapping between V1 and V2 tests? Do we care that V2 is different then V1????\r\n\r\nI think so, but maybe you can correct me.  Here's the case I'd make for them:\r\n\r\nRight now our v2 APIs are mostly written as a thin interface that calls out to existing v1 functionality.  e.g. `AddReplicaAPI` doesn't really have replica-adding logic - it just shuffles some parameters around and calls the v1 logic that already exists in `CollectionsHandler.handleRequestBody`.\r\n\r\nSo to have confidence in our v2 API, we need to verify two things:\r\n1. That `CollectionsHandler.handleRequestBody` works as expected.\r\n2. That the \"parameter shuffling\" AddReplicaAPI does before calling `handleRequestBody` is correct.\r\n\r\nThe first is already verified by many tests throughout the codebase.  So that box is checked.  We should already have lots of confidence in `/solr/admin/collections?action=ADDREPLICA`.\r\n\r\nThat just leaves (2).\r\n\r\nTo trust AddReplicaAPIs replica-property support, we need to verify that AddReplicaAPI's JSON map of properties gets flattened and prefixed with `property.`.  To trust AddReplicaAPI's handling of nodeset values we need to verify that they are converted from the nice JSON list that AddReplicaAPI offers to the comma-delimited string that v1 requires. And so on.\r\n\r\nThat's what the tests in this PR are doing.  They're not ensuring that v1 and v2 are the same - they don't have to be.  They're ensuring that when a v2 API makes use of v1 code, it's invoking that code correctly.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/968089083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/968384024","html_url":"https://github.com/apache/solr/pull/330#issuecomment-968384024","issue_url":"https://api.github.com/repos/apache/solr/issues/330","id":968384024,"node_id":"IC_kwDOFFj3yM45uF4Y","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-14T23:19:35Z","updated_at":"2021-11-14T23:19:35Z","author_association":"CONTRIBUTOR","body":"@bszabo97 shall I reference you in CHANGES.txt, and by what name?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/968384024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/968444755","html_url":"https://github.com/apache/solr/pull/397#issuecomment-968444755","issue_url":"https://api.github.com/repos/apache/solr/issues/397","id":968444755,"node_id":"IC_kwDOFFj3yM45uUtT","user":{"login":"gus-asf","id":46900717,"node_id":"MDQ6VXNlcjQ2OTAwNzE3","avatar_url":"https://avatars.githubusercontent.com/u/46900717?v=4","gravatar_id":"","url":"https://api.github.com/users/gus-asf","html_url":"https://github.com/gus-asf","followers_url":"https://api.github.com/users/gus-asf/followers","following_url":"https://api.github.com/users/gus-asf/following{/other_user}","gists_url":"https://api.github.com/users/gus-asf/gists{/gist_id}","starred_url":"https://api.github.com/users/gus-asf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gus-asf/subscriptions","organizations_url":"https://api.github.com/users/gus-asf/orgs","repos_url":"https://api.github.com/users/gus-asf/repos","events_url":"https://api.github.com/users/gus-asf/events{/privacy}","received_events_url":"https://api.github.com/users/gus-asf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T01:56:45Z","updated_at":"2021-11-15T01:56:45Z","author_association":"CONTRIBUTOR","body":"meh did that wrong. easier just to remake this.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/968444755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/968653829","html_url":"https://github.com/apache/solr/pull/330#issuecomment-968653829","issue_url":"https://api.github.com/repos/apache/solr/issues/330","id":968653829,"node_id":"IC_kwDOFFj3yM45vHwF","user":{"login":"bszabo97","id":79325622,"node_id":"MDQ6VXNlcjc5MzI1NjIy","avatar_url":"https://avatars.githubusercontent.com/u/79325622?v=4","gravatar_id":"","url":"https://api.github.com/users/bszabo97","html_url":"https://github.com/bszabo97","followers_url":"https://api.github.com/users/bszabo97/followers","following_url":"https://api.github.com/users/bszabo97/following{/other_user}","gists_url":"https://api.github.com/users/bszabo97/gists{/gist_id}","starred_url":"https://api.github.com/users/bszabo97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bszabo97/subscriptions","organizations_url":"https://api.github.com/users/bszabo97/orgs","repos_url":"https://api.github.com/users/bszabo97/repos","events_url":"https://api.github.com/users/bszabo97/events{/privacy}","received_events_url":"https://api.github.com/users/bszabo97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T08:37:20Z","updated_at":"2021-11-15T08:37:20Z","author_association":"CONTRIBUTOR","body":"I would highly appreciate that, thank you! My name is Bence Szabo.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/968653829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/969144721","html_url":"https://github.com/apache/solr/pull/159#issuecomment-969144721","issue_url":"https://api.github.com/repos/apache/solr/issues/159","id":969144721,"node_id":"IC_kwDOFFj3yM45w_mR","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T17:32:01Z","updated_at":"2021-11-15T17:32:01Z","author_association":"CONTRIBUTOR","body":"> @cpoerschke I wanted to get this sorted, any chance you could be another set of eyes????\r\n\r\nFrom looking at the changes I'm wondering if [RequestUtil](https://github.com/apache/lucene-solr/blob/releases/lucene-solr/8.11.0/solr/core/src/java/org/apache/solr/request/json/RequestUtil.java#L51-L52) might be an alternative place for the logic since the _\"don't expand macros on the shard\"_ logic already happens there.\r\n\r\nFrom reading about the context of the changes on https://issues.apache.org/jira/browse/SOLR-10059 on 2017-03-01 there's a mention of multi-collection requests, I don't yet fully understand how that fits into the bigger picture.\r\n\r\nFrom running the new tests locally, hmm, they don't pass here at the moment.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/969144721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/969173065","html_url":"https://github.com/apache/solr/pull/414#issuecomment-969173065","issue_url":"https://api.github.com/repos/apache/solr/issues/414","id":969173065,"node_id":"IC_kwDOFFj3yM45xGhJ","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-15T18:01:18Z","updated_at":"2021-11-15T18:01:18Z","author_association":"CONTRIBUTOR","body":"@sigram , you might be interested too, but I can't add you as a reviewer.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/969173065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/970077080","html_url":"https://github.com/apache/solr/pull/285#issuecomment-970077080","issue_url":"https://api.github.com/repos/apache/solr/issues/285","id":970077080,"node_id":"IC_kwDOFFj3yM450jOY","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T09:20:42Z","updated_at":"2021-11-16T09:20:42Z","author_association":"CONTRIBUTOR","body":"Re-ran the new tests and also the full test suite locally, it all passed.\r\n\r\nProceeding to merge. As always, happy to action any post commit code review feedback.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/970077080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/970563175","html_url":"https://github.com/apache/solr/pull/419#issuecomment-970563175","issue_url":"https://api.github.com/repos/apache/solr/issues/419","id":970563175,"node_id":"IC_kwDOFFj3yM452Z5n","user":{"login":"ctargett","id":450148,"node_id":"MDQ6VXNlcjQ1MDE0OA==","avatar_url":"https://avatars.githubusercontent.com/u/450148?v=4","gravatar_id":"","url":"https://api.github.com/users/ctargett","html_url":"https://github.com/ctargett","followers_url":"https://api.github.com/users/ctargett/followers","following_url":"https://api.github.com/users/ctargett/following{/other_user}","gists_url":"https://api.github.com/users/ctargett/gists{/gist_id}","starred_url":"https://api.github.com/users/ctargett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctargett/subscriptions","organizations_url":"https://api.github.com/users/ctargett/orgs","repos_url":"https://api.github.com/users/ctargett/repos","events_url":"https://api.github.com/users/ctargett/events{/privacy}","received_events_url":"https://api.github.com/users/ctargett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T18:43:36Z","updated_at":"2021-11-16T18:43:36Z","author_association":"CONTRIBUTOR","body":"I had filed an issue for this (SOLR-15800), so updated the PR title to include that so they get linked.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/970563175/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/970819371","html_url":"https://github.com/apache/solr/pull/420#issuecomment-970819371","issue_url":"https://api.github.com/repos/apache/solr/issues/420","id":970819371,"node_id":"IC_kwDOFFj3yM453Ycr","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T23:24:51Z","updated_at":"2021-11-16T23:24:51Z","author_association":"CONTRIBUTOR","body":"@sigram  as well","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/970819371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/971449610","html_url":"https://github.com/apache/solr/pull/403#issuecomment-971449610","issue_url":"https://api.github.com/repos/apache/solr/issues/403","id":971449610,"node_id":"IC_kwDOFFj3yM455yUK","user":{"login":"chatman","id":4598004,"node_id":"MDQ6VXNlcjQ1OTgwMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4598004?v=4","gravatar_id":"","url":"https://api.github.com/users/chatman","html_url":"https://github.com/chatman","followers_url":"https://api.github.com/users/chatman/followers","following_url":"https://api.github.com/users/chatman/following{/other_user}","gists_url":"https://api.github.com/users/chatman/gists{/gist_id}","starred_url":"https://api.github.com/users/chatman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chatman/subscriptions","organizations_url":"https://api.github.com/users/chatman/orgs","repos_url":"https://api.github.com/users/chatman/repos","events_url":"https://api.github.com/users/chatman/events{/privacy}","received_events_url":"https://api.github.com/users/chatman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-17T10:38:17Z","updated_at":"2021-11-17T10:38:47Z","author_association":"CONTRIBUTOR","body":"In this PR, only a single role can be assigned to a node, and I'm fixing that. Changes to come soon, hence this is not yet ready for reviewing. Sorry for the confusion. Also, merging this PR can't happen now, until the SIP-15 has been voted for.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/971449610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/971454944","html_url":"https://github.com/apache/solr/pull/403#issuecomment-971454944","issue_url":"https://api.github.com/repos/apache/solr/issues/403","id":971454944,"node_id":"IC_kwDOFFj3yM455zng","user":{"login":"murblanc","id":43050504,"node_id":"MDQ6VXNlcjQzMDUwNTA0","avatar_url":"https://avatars.githubusercontent.com/u/43050504?v=4","gravatar_id":"","url":"https://api.github.com/users/murblanc","html_url":"https://github.com/murblanc","followers_url":"https://api.github.com/users/murblanc/followers","following_url":"https://api.github.com/users/murblanc/following{/other_user}","gists_url":"https://api.github.com/users/murblanc/gists{/gist_id}","starred_url":"https://api.github.com/users/murblanc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/murblanc/subscriptions","organizations_url":"https://api.github.com/users/murblanc/orgs","repos_url":"https://api.github.com/users/murblanc/repos","events_url":"https://api.github.com/users/murblanc/events{/privacy}","received_events_url":"https://api.github.com/users/murblanc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-17T10:45:33Z","updated_at":"2021-11-17T10:45:33Z","author_association":"MEMBER","body":"> In this PR, only a single role can be assigned to a node, and I'm fixing that. Changes to come soon, hence this is not yet ready for reviewing. Sorry for the confusion. Also, merging this PR can't happen now, until the SIP-15 has been voted for.\r\n\r\nWhile you're at it Ishan, please fix the formatting of the many `if(...` that lack a space after the if and change them into:\r\n`if (...`.\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/971454944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/971457263","html_url":"https://github.com/apache/solr/pull/403#issuecomment-971457263","issue_url":"https://api.github.com/repos/apache/solr/issues/403","id":971457263,"node_id":"IC_kwDOFFj3yM4550Lv","user":{"login":"chatman","id":4598004,"node_id":"MDQ6VXNlcjQ1OTgwMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4598004?v=4","gravatar_id":"","url":"https://api.github.com/users/chatman","html_url":"https://github.com/chatman","followers_url":"https://api.github.com/users/chatman/followers","following_url":"https://api.github.com/users/chatman/following{/other_user}","gists_url":"https://api.github.com/users/chatman/gists{/gist_id}","starred_url":"https://api.github.com/users/chatman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chatman/subscriptions","organizations_url":"https://api.github.com/users/chatman/orgs","repos_url":"https://api.github.com/users/chatman/repos","events_url":"https://api.github.com/users/chatman/events{/privacy}","received_events_url":"https://api.github.com/users/chatman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-17T10:49:01Z","updated_at":"2021-11-17T10:49:01Z","author_association":"CONTRIBUTOR","body":"> While you're at it Ishan, please fix the formatting of the many if(... that lack a space after the if and change them into:\r\n\r\nSure, Ilan. :-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/971457263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/971607650","html_url":"https://github.com/apache/solr/pull/403#issuecomment-971607650","issue_url":"https://api.github.com/repos/apache/solr/issues/403","id":971607650,"node_id":"IC_kwDOFFj3yM456Y5i","user":{"login":"chatman","id":4598004,"node_id":"MDQ6VXNlcjQ1OTgwMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4598004?v=4","gravatar_id":"","url":"https://api.github.com/users/chatman","html_url":"https://github.com/chatman","followers_url":"https://api.github.com/users/chatman/followers","following_url":"https://api.github.com/users/chatman/following{/other_user}","gists_url":"https://api.github.com/users/chatman/gists{/gist_id}","starred_url":"https://api.github.com/users/chatman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chatman/subscriptions","organizations_url":"https://api.github.com/users/chatman/orgs","repos_url":"https://api.github.com/users/chatman/repos","events_url":"https://api.github.com/users/chatman/events{/privacy}","received_events_url":"https://api.github.com/users/chatman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-17T13:58:43Z","updated_at":"2021-11-17T13:58:43Z","author_association":"CONTRIBUTOR","body":"TODO items:\r\n* deprecate ADDROLE and REMOVEROLE commands\r\n* throw exception when a node containing cores is started without a data role\r\n* the /api/cluster/roles should also list nodes that didn't have -Dsolr.node.roles (they are assumed to have data role)\r\n\r\nI think except for these items, this PR is ready for reviewing. FYI @noblepaul @murblanc @hiteshk25. It should only be merged once the SIP-15 voting has concluded.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/971607650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]