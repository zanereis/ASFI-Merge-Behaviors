[{"url":"https://api.github.com/repos/apache/drill/issues/comments/404278981","html_url":"https://github.com/apache/drill/pull/1355#issuecomment-404278981","issue_url":"https://api.github.com/repos/apache/drill/issues/1355","id":404278981,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDI3ODk4MQ==","user":{"login":"karthik-man","id":430469,"node_id":"MDQ6VXNlcjQzMDQ2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/430469?v=4","gravatar_id":"","url":"https://api.github.com/users/karthik-man","html_url":"https://github.com/karthik-man","followers_url":"https://api.github.com/users/karthik-man/followers","following_url":"https://api.github.com/users/karthik-man/following{/other_user}","gists_url":"https://api.github.com/users/karthik-man/gists{/gist_id}","starred_url":"https://api.github.com/users/karthik-man/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthik-man/subscriptions","organizations_url":"https://api.github.com/users/karthik-man/orgs","repos_url":"https://api.github.com/users/karthik-man/repos","events_url":"https://api.github.com/users/karthik-man/events{/privacy}","received_events_url":"https://api.github.com/users/karthik-man/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T19:10:47Z","updated_at":"2018-07-11T19:10:47Z","author_association":"NONE","body":"@sachouche I added 2  more comments. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404278981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404280150","html_url":"https://github.com/apache/drill/pull/1373#issuecomment-404280150","issue_url":"https://api.github.com/repos/apache/drill/issues/1373","id":404280150,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDI4MDE1MA==","user":{"login":"Ben-Zvi","id":5465159,"node_id":"MDQ6VXNlcjU0NjUxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/5465159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ben-Zvi","html_url":"https://github.com/Ben-Zvi","followers_url":"https://api.github.com/users/Ben-Zvi/followers","following_url":"https://api.github.com/users/Ben-Zvi/following{/other_user}","gists_url":"https://api.github.com/users/Ben-Zvi/gists{/gist_id}","starred_url":"https://api.github.com/users/Ben-Zvi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ben-Zvi/subscriptions","organizations_url":"https://api.github.com/users/Ben-Zvi/orgs","repos_url":"https://api.github.com/users/Ben-Zvi/repos","events_url":"https://api.github.com/users/Ben-Zvi/events{/privacy}","received_events_url":"https://api.github.com/users/Ben-Zvi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T19:15:07Z","updated_at":"2018-07-11T19:15:07Z","author_association":"CONTRIBUTOR","body":"An alternative is to set the record count to zero on the vector container when the outcome is not OK or OK_NEW_SCHEMA. (Instead of checking each time on update() )\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404280150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404304605","html_url":"https://github.com/apache/drill/pull/1373#issuecomment-404304605","issue_url":"https://api.github.com/repos/apache/drill/issues/1373","id":404304605,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDMwNDYwNQ==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T20:49:09Z","updated_at":"2018-07-11T20:49:09Z","author_association":"CONTRIBUTOR","body":"@Ben-Zvi How about we move the update to sniffNonEmptyBatch under the case OK when recordCount is not zero ?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404304605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404308474","html_url":"https://github.com/apache/drill/pull/1355#issuecomment-404308474","issue_url":"https://api.github.com/repos/apache/drill/issues/1355","id":404308474,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDMwODQ3NA==","user":{"login":"karthik-man","id":430469,"node_id":"MDQ6VXNlcjQzMDQ2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/430469?v=4","gravatar_id":"","url":"https://api.github.com/users/karthik-man","html_url":"https://github.com/karthik-man","followers_url":"https://api.github.com/users/karthik-man/followers","following_url":"https://api.github.com/users/karthik-man/following{/other_user}","gists_url":"https://api.github.com/users/karthik-man/gists{/gist_id}","starred_url":"https://api.github.com/users/karthik-man/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthik-man/subscriptions","organizations_url":"https://api.github.com/users/karthik-man/orgs","repos_url":"https://api.github.com/users/karthik-man/repos","events_url":"https://api.github.com/users/karthik-man/events{/privacy}","received_events_url":"https://api.github.com/users/karthik-man/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T21:03:09Z","updated_at":"2018-07-11T21:03:09Z","author_association":"NONE","body":"@ilooner @sachouche Looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404308474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404316509","html_url":"https://github.com/apache/drill/pull/1355#issuecomment-404316509","issue_url":"https://api.github.com/repos/apache/drill/issues/1355","id":404316509,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDMxNjUwOQ==","user":{"login":"sachouche","id":29960235,"node_id":"MDQ6VXNlcjI5OTYwMjM1","avatar_url":"https://avatars.githubusercontent.com/u/29960235?v=4","gravatar_id":"","url":"https://api.github.com/users/sachouche","html_url":"https://github.com/sachouche","followers_url":"https://api.github.com/users/sachouche/followers","following_url":"https://api.github.com/users/sachouche/following{/other_user}","gists_url":"https://api.github.com/users/sachouche/gists{/gist_id}","starred_url":"https://api.github.com/users/sachouche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachouche/subscriptions","organizations_url":"https://api.github.com/users/sachouche/orgs","repos_url":"https://api.github.com/users/sachouche/repos","events_url":"https://api.github.com/users/sachouche/events{/privacy}","received_events_url":"https://api.github.com/users/sachouche/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T21:30:51Z","updated_at":"2018-07-11T21:30:51Z","author_association":"CONTRIBUTOR","body":"@bitblender and @ilooner,\r\nThank you guys for the review!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404316509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404336471","html_url":"https://github.com/apache/drill/pull/1367#issuecomment-404336471","issue_url":"https://api.github.com/repos/apache/drill/issues/1367","id":404336471,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDMzNjQ3MQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T22:59:17Z","updated_at":"2018-07-11T22:59:17Z","author_association":"CONTRIBUTOR","body":"@vrozov, can you take another look at this PR to see if I have addressed your concerns?\r\n\r\nTurned out that I was able to find an existing `MaterializedField.clone()` method. Since only the `PartitionerTemplate` seems to have an issue, I just inserted the extra call directly there, avoiding the need to modify any other files.\r\n\r\nIf we can test this fix using PR #1244, then perhaps we can get this fix into this week's batch commit, PR #1244 into next week's, after which I can do the final PR for this batch of changes.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404336471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404337181","html_url":"https://github.com/apache/drill/pull/1244#issuecomment-404337181","issue_url":"https://api.github.com/repos/apache/drill/issues/1244","id":404337181,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDMzNzE4MQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T23:02:54Z","updated_at":"2018-07-11T23:02:54Z","author_association":"CONTRIBUTOR","body":"Revised the vector-clone fix. Found a simpler solution that requires just one line of code change. @vrozov or @bitblender, please run a pre-commit test on this PR. If test pass, then PR #1367 can perhaps be included in the next batch commit, this PR in the following one (since it has already obtained an approval). Then, in two weeks, I can provide the final PR for the result set loader work. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404337181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404338361","html_url":"https://github.com/apache/drill/pull/1333#issuecomment-404338361","issue_url":"https://api.github.com/repos/apache/drill/issues/1333","id":404338361,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDMzODM2MQ==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T23:09:29Z","updated_at":"2018-07-11T23:09:29Z","author_association":"MEMBER","body":"@parthchandra Please review","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404338361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404339576","html_url":"https://github.com/apache/drill/pull/1348#issuecomment-404339576","issue_url":"https://api.github.com/repos/apache/drill/issues/1348","id":404339576,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDMzOTU3Ng==","user":{"login":"agirish","id":2224090,"node_id":"MDQ6VXNlcjIyMjQwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/2224090?v=4","gravatar_id":"","url":"https://api.github.com/users/agirish","html_url":"https://github.com/agirish","followers_url":"https://api.github.com/users/agirish/followers","following_url":"https://api.github.com/users/agirish/following{/other_user}","gists_url":"https://api.github.com/users/agirish/gists{/gist_id}","starred_url":"https://api.github.com/users/agirish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agirish/subscriptions","organizations_url":"https://api.github.com/users/agirish/orgs","repos_url":"https://api.github.com/users/agirish/repos","events_url":"https://api.github.com/users/agirish/events{/privacy}","received_events_url":"https://api.github.com/users/agirish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T23:16:16Z","updated_at":"2018-07-11T23:16:16Z","author_association":"MEMBER","body":"@paul-rogers , regarding graceful shutdown, i think we can support it under K8S. Currently under K8S, the Drill container isn't even aware that it's being kicked out. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404339576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404339810","html_url":"https://github.com/apache/drill/pull/1348#issuecomment-404339810","issue_url":"https://api.github.com/repos/apache/drill/issues/1348","id":404339810,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDMzOTgxMA==","user":{"login":"agirish","id":2224090,"node_id":"MDQ6VXNlcjIyMjQwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/2224090?v=4","gravatar_id":"","url":"https://api.github.com/users/agirish","html_url":"https://github.com/agirish","followers_url":"https://api.github.com/users/agirish/followers","following_url":"https://api.github.com/users/agirish/following{/other_user}","gists_url":"https://api.github.com/users/agirish/gists{/gist_id}","starred_url":"https://api.github.com/users/agirish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agirish/subscriptions","organizations_url":"https://api.github.com/users/agirish/orgs","repos_url":"https://api.github.com/users/agirish/repos","events_url":"https://api.github.com/users/agirish/events{/privacy}","received_events_url":"https://api.github.com/users/agirish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T23:17:45Z","updated_at":"2018-07-11T23:17:45Z","author_association":"MEMBER","body":"@arina-ielchiieva , i'll work on implementing the Docker continuous integration support (it requires configurations on the Docker Hub website). It's pretty helpful - users will be able to get to try out the latest master on Docker. For now, it's a manual process. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404339810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404342192","html_url":"https://github.com/apache/drill/pull/1348#issuecomment-404342192","issue_url":"https://api.github.com/repos/apache/drill/issues/1348","id":404342192,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDM0MjE5Mg==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T23:31:18Z","updated_at":"2018-07-11T23:31:18Z","author_association":"CONTRIBUTOR","body":"@Agirish @paul-rogers @arina-ielchiieva Is this going to be merged? Or do we want to make the production enhancements Paul identified first?\r\n\r\nI suggest we merge this now, since having a docker image for people to play with locally is a step forward, and create JIRAs for the production enhancements Paul pointed out and do them separately. Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404342192/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404342618","html_url":"https://github.com/apache/drill/pull/1348#issuecomment-404342618","issue_url":"https://api.github.com/repos/apache/drill/issues/1348","id":404342618,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDM0MjYxOA==","user":{"login":"agirish","id":2224090,"node_id":"MDQ6VXNlcjIyMjQwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/2224090?v=4","gravatar_id":"","url":"https://api.github.com/users/agirish","html_url":"https://github.com/agirish","followers_url":"https://api.github.com/users/agirish/followers","following_url":"https://api.github.com/users/agirish/following{/other_user}","gists_url":"https://api.github.com/users/agirish/gists{/gist_id}","starred_url":"https://api.github.com/users/agirish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agirish/subscriptions","organizations_url":"https://api.github.com/users/agirish/orgs","repos_url":"https://api.github.com/users/agirish/repos","events_url":"https://api.github.com/users/agirish/events{/privacy}","received_events_url":"https://api.github.com/users/agirish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T23:33:39Z","updated_at":"2018-07-11T23:33:39Z","author_association":"MEMBER","body":"I agree we should get this merged. You all suggested to include docs, so i'll quickly pull in this file: https://github.com/Agirish/drill/blob/docker_doc/docs/dev/Docker.md into this PR - that's the only pending change. \r\n\r\nStandalone mode support on Docker, and the whole of K8S support can tracked by separate JIRAs (i'll file them shortly). ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404342618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404345535","html_url":"https://github.com/apache/drill/pull/1348#issuecomment-404345535","issue_url":"https://api.github.com/repos/apache/drill/issues/1348","id":404345535,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDM0NTUzNQ==","user":{"login":"agirish","id":2224090,"node_id":"MDQ6VXNlcjIyMjQwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/2224090?v=4","gravatar_id":"","url":"https://api.github.com/users/agirish","html_url":"https://github.com/agirish","followers_url":"https://api.github.com/users/agirish/followers","following_url":"https://api.github.com/users/agirish/following{/other_user}","gists_url":"https://api.github.com/users/agirish/gists{/gist_id}","starred_url":"https://api.github.com/users/agirish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agirish/subscriptions","organizations_url":"https://api.github.com/users/agirish/orgs","repos_url":"https://api.github.com/users/agirish/repos","events_url":"https://api.github.com/users/agirish/events{/privacy}","received_events_url":"https://api.github.com/users/agirish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T23:52:09Z","updated_at":"2018-07-11T23:52:09Z","author_association":"MEMBER","body":"Kindly take a look at the Docker.md file and let me know if any changes are required.  ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404345535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404350897","html_url":"https://github.com/apache/drill/pull/1375#issuecomment-404350897","issue_url":"https://api.github.com/repos/apache/drill/issues/1375","id":404350897,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDM1MDg5Nw==","user":{"login":"karthik-man","id":430469,"node_id":"MDQ6VXNlcjQzMDQ2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/430469?v=4","gravatar_id":"","url":"https://api.github.com/users/karthik-man","html_url":"https://github.com/karthik-man","followers_url":"https://api.github.com/users/karthik-man/followers","following_url":"https://api.github.com/users/karthik-man/following{/other_user}","gists_url":"https://api.github.com/users/karthik-man/gists{/gist_id}","starred_url":"https://api.github.com/users/karthik-man/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthik-man/subscriptions","organizations_url":"https://api.github.com/users/karthik-man/orgs","repos_url":"https://api.github.com/users/karthik-man/repos","events_url":"https://api.github.com/users/karthik-man/events{/privacy}","received_events_url":"https://api.github.com/users/karthik-man/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T00:24:05Z","updated_at":"2018-07-12T00:24:05Z","author_association":"NONE","body":"@Ben-Zvi @ppadma Can one of you please take a look at this. This is an important fix that should be in 1.14","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404350897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404355666","html_url":"https://github.com/apache/drill/pull/1367#issuecomment-404355666","issue_url":"https://api.github.com/repos/apache/drill/issues/1367","id":404355666,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDM1NTY2Ng==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T00:54:53Z","updated_at":"2018-07-12T00:54:53Z","author_association":"MEMBER","body":"@paul-rogers I am somewhat OK with the code changes granted that they fix the issue. My concerns are (in random order)\r\n\r\n- Usage of the `clone()` where copy constructor should be used (see [Copy Constructor versus Cloning](https://www.artima.com/intv/bloch13.html))\r\n- Improper implementation of `clone()` by  the `MaterializedField`\r\n- Unclear semantics when `MaterializedField` needs to be cloned\r\n- Should not by the time `InitializedBatch` is called, `MaterializedField` for incoming vectors be fully initialized? If they are, what causes changes in outgoing vectors `MaterializedField` and if they are not, how changes to `MaterializedField` in incoming vectors will be propagated to outgoing vectors `MaterializedField` once they refer to a deep copy? ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404355666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404387515","html_url":"https://github.com/apache/drill/pull/1367#issuecomment-404387515","issue_url":"https://api.github.com/repos/apache/drill/issues/1367","id":404387515,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDM4NzUxNQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T04:42:05Z","updated_at":"2018-07-12T04:42:05Z","author_association":"CONTRIBUTOR","body":"@vrozov, as usual, you zeroed in on two issues.\r\n\r\nFirst, it turns out that we have both a `clone()` and `cloneEmpty()`. I should have used `cloneEmpty()`. This is a problem with not being able to run the pre-commit tests, I can't catch such bone-headed errors...\r\n\r\nSecond, the `clone()` method does not even make sense. It will clear out child fields for the `MaterializedField`, but *not* the subtypes for the major type. This is very likely a bug. Why have we never caught it? Turns out that `clone()` is not called.\r\n\r\nThe same bug exists for all of the `withPathAndType()` variations: we preserve subtypes. But, the semantics of the (mostly broken) union vectors appear to want a new vector to be given a materialized field without subtypes; subtypes are added later as the types are needed. Is that behavior itself a bug or a feature? We can't be sure because union vectors are not supported my much of Drill.\r\n\r\nThis makes this a hard case. Since the behavior is murky, I'd suggest leaving well enough alone, and just fixing the one problem we know about: passing a fully-populated materialized field to a new vector.\r\n\r\nMight be worthwhile filing a JIRA to track this issue. (Though, we never seem to fix such tickets...)\r\n\r\nRunning tests with the other PR (with the above fix) should tell us if the fix works, since that PR found the issue.\r\n\r\nTo your fundamental question, please see the discussion in the original PR and in the description for details. The story is, in essence:\r\n\r\n* There is a fully-built vector coming into the partitioner.\r\n* When that incoming vector was built, the code for a map added children to the `MaterializedField`, and for unions, added a subtype to the `MajorType`.\r\n* For whatever reason, the partition wants to make a new copy of that vector using the same structure.\r\n* If we reuse the same vector, then the new code will modify it as we build up the maps or unions, causing concurrent modifications to the source vector's field while building the destination.\r\n* If we do a simple copy, we'll carry over child fields and subtypes, which will likely cause problems as we build up the new vector's structure.\r\n\r\nThe original code would only work for non-nullable, fixed-width types (with no internal structure) I have no idea why it started to fail with my result set loader changes. Probably because, to get things to work, I had to fix bugs in the vector code in which we were not properly maintaining the material field structure, which caused problems with the new code tried to copy a vector structure to create the \"overflow vector.\"","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404387515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404465852","html_url":"https://github.com/apache/drill/pull/1298#issuecomment-404465852","issue_url":"https://api.github.com/repos/apache/drill/issues/1298","id":404465852,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDQ2NTg1Mg==","user":{"login":"jbimbert","id":7976371,"node_id":"MDQ6VXNlcjc5NzYzNzE=","avatar_url":"https://avatars.githubusercontent.com/u/7976371?v=4","gravatar_id":"","url":"https://api.github.com/users/jbimbert","html_url":"https://github.com/jbimbert","followers_url":"https://api.github.com/users/jbimbert/followers","following_url":"https://api.github.com/users/jbimbert/following{/other_user}","gists_url":"https://api.github.com/users/jbimbert/gists{/gist_id}","starred_url":"https://api.github.com/users/jbimbert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbimbert/subscriptions","organizations_url":"https://api.github.com/users/jbimbert/orgs","repos_url":"https://api.github.com/users/jbimbert/repos","events_url":"https://api.github.com/users/jbimbert/events{/privacy}","received_events_url":"https://api.github.com/users/jbimbert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T10:23:48Z","updated_at":"2018-07-12T10:23:48Z","author_association":"CONTRIBUTOR","body":"Checkstyle passed on modifications. ParquetRGFilterEvaluator.java now compliant with checkstyle.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404465852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404499562","html_url":"https://github.com/apache/drill/pull/1348#issuecomment-404499562","issue_url":"https://api.github.com/repos/apache/drill/issues/1348","id":404499562,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDQ5OTU2Mg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T12:45:34Z","updated_at":"2018-07-12T12:45:34Z","author_association":"MEMBER","body":"To summarize in this Jira we are aiming to add docker support only for Drill in embedded mode.\r\n@Agirish \r\n1. Please create follow up Jira with future docker enhancements (support for distributed mode, making docker official and ability to build on docker env etc).\r\n2. Please add clarifications I have mentioned in PR comment about detach, port forwarding, naming, docker machine and querying custom files.\r\n\r\nOnce all that is done, I believe we can approve the PR and merge it.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404499562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404524244","html_url":"https://github.com/apache/drill/pull/1298#issuecomment-404524244","issue_url":"https://api.github.com/repos/apache/drill/issues/1298","id":404524244,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDUyNDI0NA==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T14:06:32Z","updated_at":"2018-07-12T14:06:32Z","author_association":"MEMBER","body":"@jbimbert Drill usually \r\n- puts a single space between `if` and `(` or between `switch` and `(`.\r\n- use single space only\r\nPlease try to fix all newly introduced occurrences that do not comply with the formatting agreement\r\n\r\n@arina-ielchiieva Without drill checkstyle enforcing common formatting, you may need to point all cases that do not comply with the preferred formatting and need to be fixed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404524244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404601810","html_url":"https://github.com/apache/drill/pull/1233#issuecomment-404601810","issue_url":"https://api.github.com/repos/apache/drill/issues/1233","id":404601810,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDYwMTgxMA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T18:11:34Z","updated_at":"2018-07-12T18:11:34Z","author_association":"MEMBER","body":"@kkhatua any update on this?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404601810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404602471","html_url":"https://github.com/apache/drill/pull/1298#issuecomment-404602471","issue_url":"https://api.github.com/repos/apache/drill/issues/1298","id":404602471,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDYwMjQ3MQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T18:13:38Z","updated_at":"2018-07-12T18:13:38Z","author_association":"MEMBER","body":"@jbimbert thanks for making the changes, +1 from me. Let's wait for @vrozov approval as well.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404602471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404604656","html_url":"https://github.com/apache/drill/pull/1348#issuecomment-404604656","issue_url":"https://api.github.com/repos/apache/drill/issues/1348","id":404604656,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDYwNDY1Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T18:20:59Z","updated_at":"2018-07-12T18:21:25Z","author_association":"MEMBER","body":"+1, LGTM. Please don't forget to create a follow up Jira for the enhancements.\r\nYou might also want to squash the commits :)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404604656/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404605233","html_url":"https://github.com/apache/drill/pull/1348#issuecomment-404605233","issue_url":"https://api.github.com/repos/apache/drill/issues/1348","id":404605233,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDYwNTIzMw==","user":{"login":"agirish","id":2224090,"node_id":"MDQ6VXNlcjIyMjQwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/2224090?v=4","gravatar_id":"","url":"https://api.github.com/users/agirish","html_url":"https://github.com/agirish","followers_url":"https://api.github.com/users/agirish/followers","following_url":"https://api.github.com/users/agirish/following{/other_user}","gists_url":"https://api.github.com/users/agirish/gists{/gist_id}","starred_url":"https://api.github.com/users/agirish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agirish/subscriptions","organizations_url":"https://api.github.com/users/agirish/orgs","repos_url":"https://api.github.com/users/agirish/repos","events_url":"https://api.github.com/users/agirish/events{/privacy}","received_events_url":"https://api.github.com/users/agirish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T18:22:59Z","updated_at":"2018-07-12T18:42:18Z","author_association":"MEMBER","body":"I've created DRILL-6600, DRILL-6599, DRILL-6598 & DRILL-6597 to track the enhancements. And I've also squashed my commits. \r\n\r\n@arina-ielchiieva, thanks for your review! ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404605233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404638107","html_url":"https://github.com/apache/drill/pull/1371#issuecomment-404638107","issue_url":"https://api.github.com/repos/apache/drill/issues/1371","id":404638107,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDYzODEwNw==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T20:20:38Z","updated_at":"2018-07-12T20:20:38Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva / @paul-rogers  Done the final changes. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404638107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404660067","html_url":"https://github.com/apache/drill/pull/1244#issuecomment-404660067","issue_url":"https://api.github.com/repos/apache/drill/issues/1244","id":404660067,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY2MDA2Nw==","user":{"login":"karthik-man","id":430469,"node_id":"MDQ6VXNlcjQzMDQ2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/430469?v=4","gravatar_id":"","url":"https://api.github.com/users/karthik-man","html_url":"https://github.com/karthik-man","followers_url":"https://api.github.com/users/karthik-man/followers","following_url":"https://api.github.com/users/karthik-man/following{/other_user}","gists_url":"https://api.github.com/users/karthik-man/gists{/gist_id}","starred_url":"https://api.github.com/users/karthik-man/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthik-man/subscriptions","organizations_url":"https://api.github.com/users/karthik-man/orgs","repos_url":"https://api.github.com/users/karthik-man/repos","events_url":"https://api.github.com/users/karthik-man/events{/privacy}","received_events_url":"https://api.github.com/users/karthik-man/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T21:42:35Z","updated_at":"2018-07-12T21:42:35Z","author_association":"NONE","body":"@vrozov @paul-rogers I have started a test run. Will update the PR once it is done.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404660067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404663922","html_url":"https://github.com/apache/drill/pull/1361#issuecomment-404663922","issue_url":"https://api.github.com/repos/apache/drill/issues/1361","id":404663922,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY2MzkyMg==","user":{"login":"sachouche","id":29960235,"node_id":"MDQ6VXNlcjI5OTYwMjM1","avatar_url":"https://avatars.githubusercontent.com/u/29960235?v=4","gravatar_id":"","url":"https://api.github.com/users/sachouche","html_url":"https://github.com/sachouche","followers_url":"https://api.github.com/users/sachouche/followers","following_url":"https://api.github.com/users/sachouche/following{/other_user}","gists_url":"https://api.github.com/users/sachouche/gists{/gist_id}","starred_url":"https://api.github.com/users/sachouche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachouche/subscriptions","organizations_url":"https://api.github.com/users/sachouche/orgs","repos_url":"https://api.github.com/users/sachouche/repos","events_url":"https://api.github.com/users/sachouche/events{/privacy}","received_events_url":"https://api.github.com/users/sachouche/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T21:58:47Z","updated_at":"2018-07-12T21:58:47Z","author_association":"CONTRIBUTOR","body":"@vrozov \r\nMade the requested modifications.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404663922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404679309","html_url":"https://github.com/apache/drill/pull/1373#issuecomment-404679309","issue_url":"https://api.github.com/repos/apache/drill/issues/1373","id":404679309,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY3OTMwOQ==","user":{"login":"Ben-Zvi","id":5465159,"node_id":"MDQ6VXNlcjU0NjUxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/5465159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ben-Zvi","html_url":"https://github.com/Ben-Zvi","followers_url":"https://api.github.com/users/Ben-Zvi/followers","following_url":"https://api.github.com/users/Ben-Zvi/following{/other_user}","gists_url":"https://api.github.com/users/Ben-Zvi/gists{/gist_id}","starred_url":"https://api.github.com/users/Ben-Zvi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ben-Zvi/subscriptions","organizations_url":"https://api.github.com/users/Ben-Zvi/orgs","repos_url":"https://api.github.com/users/Ben-Zvi/repos","events_url":"https://api.github.com/users/Ben-Zvi/events{/privacy}","received_events_url":"https://api.github.com/users/Ben-Zvi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T23:15:22Z","updated_at":"2018-07-12T23:15:22Z","author_association":"CONTRIBUTOR","body":"@ilooner please review. Latest changes: Applied suggestion from @ppadma (call *update()* inside *sniffNonEmptyBatch()* ) . And added tests that send records with uninitialized Vector Container to either side (for either STOP or NONE outcomes).\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404679309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404691245","html_url":"https://github.com/apache/drill/pull/1379#issuecomment-404691245","issue_url":"https://api.github.com/repos/apache/drill/issues/1379","id":404691245,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY5MTI0NQ==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T00:37:02Z","updated_at":"2018-07-13T00:37:02Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva / @sohami  could you please review this?\r\n(Thanks for finding the bug and giving pointers to the fix)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404691245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404696194","html_url":"https://github.com/apache/drill/pull/1336#issuecomment-404696194","issue_url":"https://api.github.com/repos/apache/drill/issues/1336","id":404696194,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY5NjE5NA==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T01:13:38Z","updated_at":"2018-07-13T01:18:07Z","author_association":"CONTRIBUTOR","body":"@vvysotskyi @arina-ielchiieva I have updated the PR. I found a few more places where methods previously expected to print to stdout, so I ended up changing more methods to make log and print versions of the methods available. Now the scope of the PR is:\r\n\r\n- **VectorUtil.showVectorAccessibleContent()** uses a logger and has been renamed to **VectorUtil.logVectorAccessibleContent()**. Additionally the missing log statement was added.\r\n- Print and log variants of methods were created for BaseTestQuery.printResult(), QueryUtils. testRunAndPrint(), QueryBuilder.print(), ClusterTest.runAndLog(), ClientFixture.runQueriesAndLog(). Log methods output to the default log appender. Print methods allow a selected few loggers to output directly to stdout allowing results to be printed to the console for debugging. Log method variants can be called from tests and left in test code. Print method variants should only be used for debugging tests and should not be committed.\r\n- LoggingResultsListener was created in addition to the PrintingResultsListener in order to enable the creation of log and print variants of all methods that output results.\r\n- PrintingUtils.java was added in order to encapsulate the code for turning on logging to stdout, so the same boilerplate is not repeated everywhere.\r\n- Removed obsolete QueryTestUtil.TEST_QUERY_PRINTING_SILENT property. All code should use loggers which are silent by default, and the LogFixture or XXXprintXXX methods can be used to output results to the console for debugging if the developer desires.\r\n- Added some more documentation for logging.\r\n\r\nDisallowing System.out will be done in this Jira https://issues.apache.org/jira/browse/DRILL-6464\r\n\r\nPlease let me know if you have anymore comments.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404696194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404713253","html_url":"https://github.com/apache/drill/pull/1367#issuecomment-404713253","issue_url":"https://api.github.com/repos/apache/drill/issues/1367","id":404713253,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDcxMzI1Mw==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T03:14:17Z","updated_at":"2018-07-13T03:14:17Z","author_association":"CONTRIBUTOR","body":"@paul-rogers - I have couple of questions related to this change and your last comment:\r\n1) I don't understand what you mean by `clone` method will clear out the child field. Isn't `MaterializedField::clone` is taking care of [cloning the children fields](https://github.com/apache/drill/blob/master/exec/vector/src/main/java/org/apache/drill/exec/record/MaterializedField.java#L145) as well ? Instead `cloneEmpty` is throwing away the children fields.\r\n\r\n2) The main issue with the original PR and the logic of building outgoing batch from incoming batch of Partition Sender is something like below:\r\n\r\n- In original PR there is a change for NullableValueVectors to add the `values` and `bits` vector materialized field as child field of parent vector field. See [here](https://github.com/apache/drill/pull/1244/files#diff-646d5ac291e14369d72634752edaae84R111). From your comment it looks like because the internal `values` ValueVector mode needs to be required so you are creating another Materialized Field with that mode for internal `values` vector and adding it as child of parent vector field. But AFAIK based on the usage seen, the children of a Materialized Field is only used in case of container Type vector like Map not in case of composite vector like NullableValueVectors. For those the internal `values` and `bits` vector holds on to the parent Materialized Field. Now with change even for Nullable ValueVectors the children component of parent field will be populated. This will probably affect the serde component and compatibility too ?\r\n\r\n- Now coming to the main issue. Earlier for each incoming of the partition sender, there are multiple threads which are trying to create outgoing batches but using the same Materialized from incoming batch vectors. Since outgoing batch will have same schema as incoming batch.\r\n\r\n- When a ValueVector in incoming batch is of Map type then while creating a new ValueVector of Map type in outgoing batch it passes the Materialized Field from input Map Vector. In the constructor of [AbstractMapVector](https://github.com/apache/drill/blob/master/exec/vector/src/main/java/org/apache/drill/exec/vector/complex/AbstractMapVector.java#L49), it clones the input field and then iterate over the children of **not** the cloned field but the original input field (which is from same incoming vector). This looks to be a bug where it should [iterate on cloned field children rather than input field children](https://github.com/apache/drill/blob/master/exec/vector/src/main/java/org/apache/drill/exec/vector/complex/AbstractMapVector.java#L51).\r\n\r\n- With above if there is a child of the Map vector which is of Nullable type, then that child vector will get reference to the children field from actual input field to parent MapVector (not the reference to cloned children field).\r\n\r\n- With [new change](https://github.com/apache/drill/pull/1244/files#diff-646d5ac291e14369d72634752edaae84R111) in NullableValueVector it will try to modify it's input Materialized Field to add children for `bit` and `values` vector field.\r\n\r\n- So combination of above bug in Map vector and the new change will cause the concurrent modification exception as NullableValueVector child of MapVector will modify the Materialized field of incoming ValueVector not the new clone Materialized Field created for the outgoing vector.\r\n\r\nWith your current fix I think you should still use `clone` instead of `cloneEmpty` since we need to preserve the children information too in outgoing batches of PartitionSender.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404713253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404718050","html_url":"https://github.com/apache/drill/pull/1307#issuecomment-404718050","issue_url":"https://api.github.com/repos/apache/drill/issues/1307","id":404718050,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDcxODA1MA==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T03:52:14Z","updated_at":"2018-07-13T03:52:14Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva / @vdiravka - From the comments and changes looks like this change is ready to merge but there is no ready-to-commit label in JIRA so I have not picked it. Please confirm.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404718050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404756224","html_url":"https://github.com/apache/drill/pull/1307#issuecomment-404756224","issue_url":"https://api.github.com/repos/apache/drill/issues/1307","id":404756224,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDc1NjIyNA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T07:53:34Z","updated_at":"2018-07-13T07:53:34Z","author_association":"MEMBER","body":"@sohami, yes, please DO NOT merge it in since Hive Mapr version is not published yet.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404756224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404765907","html_url":"https://github.com/apache/drill/pull/1371#issuecomment-404765907","issue_url":"https://api.github.com/repos/apache/drill/issues/1371","id":404765907,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDc2NTkwNw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T08:33:32Z","updated_at":"2018-07-13T10:39:32Z","author_association":"MEMBER","body":"@kkhatua could you please add unit tests, similar to the queries you showed in description.\r\nYou can add with `@Unlikely` but still it's better to have them.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404765907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404825163","html_url":"https://github.com/apache/drill/pull/1380#issuecomment-404825163","issue_url":"https://api.github.com/repos/apache/drill/issues/1380","id":404825163,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDgyNTE2Mw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T12:54:51Z","updated_at":"2018-07-13T12:54:51Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404825163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404876965","html_url":"https://github.com/apache/drill/pull/1382#issuecomment-404876965","issue_url":"https://api.github.com/repos/apache/drill/issues/1382","id":404876965,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDg3Njk2NQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T16:01:11Z","updated_at":"2018-07-13T16:01:11Z","author_association":"MEMBER","body":"Looks like is was mechanical error. @vdiravka nice catch! Though I am not sure to validate this we need to add that many files, total with 100000 rows? Can we create unit test using only one small file? If not, I would say, we might consider removing the test.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404876965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404892801","html_url":"https://github.com/apache/drill/pull/1382#issuecomment-404892801","issue_url":"https://api.github.com/repos/apache/drill/issues/1382","id":404892801,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDg5MjgwMQ==","user":{"login":"vdiravka","id":11904420,"node_id":"MDQ6VXNlcjExOTA0NDIw","avatar_url":"https://avatars.githubusercontent.com/u/11904420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdiravka","html_url":"https://github.com/vdiravka","followers_url":"https://api.github.com/users/vdiravka/followers","following_url":"https://api.github.com/users/vdiravka/following{/other_user}","gists_url":"https://api.github.com/users/vdiravka/gists{/gist_id}","starred_url":"https://api.github.com/users/vdiravka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdiravka/subscriptions","organizations_url":"https://api.github.com/users/vdiravka/orgs","repos_url":"https://api.github.com/users/vdiravka/repos","events_url":"https://api.github.com/users/vdiravka/events{/privacy}","received_events_url":"https://api.github.com/users/vdiravka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T17:00:37Z","updated_at":"2018-07-13T17:00:37Z","author_association":"MEMBER","body":"@arina-ielchiieva Yes, it is mechanical issue. \r\n`recordsToReadInThisPass` is `numNonNullValues` (see `NullableColumnReader#processPagesBulk():284`)\r\nBut `recordsReadInThisIteration` is `numNullValues` + `numNonNullValues`. \r\nIn `NullableColumnReader#readField()` the only `numNonNullValues` should be used.\r\n\r\nIt is hard to reproduce the issue with one small file. But since it was the mechanical error, I think it is fine do not add unit test for this issue. I have updated the PR.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404892801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404895013","html_url":"https://github.com/apache/drill/pull/1382#issuecomment-404895013","issue_url":"https://api.github.com/repos/apache/drill/issues/1382","id":404895013,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDg5NTAxMw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T17:08:49Z","updated_at":"2018-07-13T17:08:49Z","author_association":"MEMBER","body":"@vdiravka, thanks for the explanation. LGTM, +1.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404895013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404905251","html_url":"https://github.com/apache/drill/pull/1379#issuecomment-404905251","issue_url":"https://api.github.com/repos/apache/drill/issues/1379","id":404905251,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDkwNTI1MQ==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T17:48:05Z","updated_at":"2018-07-13T17:48:05Z","author_association":"CONTRIBUTOR","body":"Done with the change","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404905251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404909514","html_url":"https://github.com/apache/drill/pull/1371#issuecomment-404909514","issue_url":"https://api.github.com/repos/apache/drill/issues/1371","id":404909514,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDkwOTUxNA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T18:04:05Z","updated_at":"2018-07-13T18:04:05Z","author_association":"CONTRIBUTOR","body":"Added a unit test that groups and counts the number of IS_NULLABLE values. Originally, the query would have returned only 1 group (`IS_NULLABLE = false`). After the patch, there are 2 records for both boolean values.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404909514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404932368","html_url":"https://github.com/apache/drill/pull/1336#issuecomment-404932368","issue_url":"https://api.github.com/repos/apache/drill/issues/1336","id":404932368,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDkzMjM2OA==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T19:34:52Z","updated_at":"2018-07-13T19:34:52Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva Thanks for catching mistakes, I have applied the review comments.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404932368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404944699","html_url":"https://github.com/apache/drill/pull/1379#issuecomment-404944699","issue_url":"https://api.github.com/repos/apache/drill/issues/1379","id":404944699,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk0NDY5OQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T20:27:34Z","updated_at":"2018-07-13T20:27:34Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404944699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404945249","html_url":"https://github.com/apache/drill/pull/1371#issuecomment-404945249","issue_url":"https://api.github.com/repos/apache/drill/issues/1371","id":404945249,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk0NTI0OQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T20:29:57Z","updated_at":"2018-07-13T20:29:57Z","author_association":"MEMBER","body":"Once minor comment to remove space, also please squash the commits. +1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404945249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404946291","html_url":"https://github.com/apache/drill/pull/1336#issuecomment-404946291","issue_url":"https://api.github.com/repos/apache/drill/issues/1336","id":404946291,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk0NjI5MQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T20:34:05Z","updated_at":"2018-07-13T20:34:05Z","author_association":"MEMBER","body":"Looks like there are some compilation errors:\r\n```\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /home/travis/build/apache/drill/exec/java-exec/src/test/java/org/apache/drill/exec/physical/impl/lateraljoin/TestE2EUnnestAndLateral.java:[396,6] error: cannot find symbol\r\n[ERROR]   symbol:   method test(String)\r\n  location: class TestE2EUnnestAndLateral\r\n/home/travis/build/apache/drill/exec/java-exec/src/test/java/org/apache/drill/exec/physical/impl/lateraljoin/TestE2EUnnestAndLateral.java:[432,6] error: cannot find symbol\r\n```\r\nThe changes look good though, thanks for making changes after code review, Putting +1 here, can be merged when compilation errors are addressed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404946291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404967213","html_url":"https://github.com/apache/drill/pull/1336#issuecomment-404967213","issue_url":"https://api.github.com/repos/apache/drill/issues/1336","id":404967213,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk2NzIxMw==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T22:14:58Z","updated_at":"2018-07-13T22:14:58Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva / @ilooner \r\nRemoving ready-to-commit tag until compilation issue is fixed. Please add it once compilation issue is fixed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404967213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404968576","html_url":"https://github.com/apache/drill/pull/1244#issuecomment-404968576","issue_url":"https://api.github.com/repos/apache/drill/issues/1244","id":404968576,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk2ODU3Ng==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T22:22:51Z","updated_at":"2018-07-13T22:22:51Z","author_association":"CONTRIBUTOR","body":"@paul-rogers - I have posted couple of questions for this change on other PR (https://github.com/apache/drill/pull/1367)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404968576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404975183","html_url":"https://github.com/apache/drill/pull/1296#issuecomment-404975183","issue_url":"https://api.github.com/repos/apache/drill/issues/1296","id":404975183,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk3NTE4Mw==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T23:06:09Z","updated_at":"2018-07-13T23:06:09Z","author_association":"CONTRIBUTOR","body":"For some reason github won't let me respond next to one of your comments, so putting response here:\r\n\r\nSearched for usages of **fs.default.name** there was one other usage in ExternalSortBatch, so I replaced it to use the new constant in DrillFileSystem.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404975183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404976675","html_url":"https://github.com/apache/drill/pull/1296#issuecomment-404976675","issue_url":"https://api.github.com/repos/apache/drill/issues/1296","id":404976675,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk3NjY3NQ==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T23:16:43Z","updated_at":"2018-07-13T23:16:43Z","author_association":"CONTRIBUTOR","body":"Created a jira for the HiveDrillNativeParquetRowGroupScan issue here https://issues.apache.org/jira/browse/DRILL-6609","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404976675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404977655","html_url":"https://github.com/apache/drill/pull/1296#issuecomment-404977655","issue_url":"https://api.github.com/repos/apache/drill/issues/1296","id":404977655,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk3NzY1NQ==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T23:23:04Z","updated_at":"2018-07-13T23:23:04Z","author_association":"CONTRIBUTOR","body":"@vdiravka addressed your comments, and  I pushed a few more changes after your last pass. I added the DrillFileSystemCache class to use instead of the hadoop FileSystem cache.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404977655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404987283","html_url":"https://github.com/apache/drill/pull/1367#issuecomment-404987283","issue_url":"https://api.github.com/repos/apache/drill/issues/1367","id":404987283,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk4NzI4Mw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T01:01:11Z","updated_at":"2018-07-14T01:01:11Z","author_association":"CONTRIBUTOR","body":"@sohami, thanks for your comments and questions. Unfortunately, I cannot debug the use case and so you may have a deeper understanding than I do. I'm working from experience gained some six months ago when working with the result set loader, and that knowledge is getting rusty.\r\n\r\n> In original PR there is a change for NullableValueVectors to add the values and bits vector materialized field as child field of parent vector field. ... From your comment it looks like because the internal values ValueVector mode needs to be required so you are creating another Materialized Field with that mode for internal values vector and adding it as child of parent vector field.\r\n\r\nThe reason for that change is that the result set loader code that clones a vector needs to know the actual type. That code walks the vector tree, using the `MaterializedField` to get the type. If a `values` vector (which has no `bits` vector) reports its type as `Nullable`, then the clone will create a `bits` vector, which causes havoc.\r\n\r\nI'm thinking that I should change the cloning code. Rather than believing the `MaterializedField`, I can use the vector class type itself. That will be more clunky and slow, but it will eliminate the need to change the existing vector code.\r\n\r\nGiven how long this discussion has gone on, that I can't do the required tests, and that we can't we discuss this in person, I'm thinking that the alternative approach may be more expedient.\r\n\r\nI suppose a larger question is whether the final bits of the result set loader are even still useful. Much work has been done on batch sizing since this work started. Is it still worth while finishing up this code so we can control the batch size for readers? Parquet has its own solution. Is it worth worrying about the others?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404987283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404987313","html_url":"https://github.com/apache/drill/pull/1367#issuecomment-404987313","issue_url":"https://api.github.com/repos/apache/drill/issues/1367","id":404987313,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk4NzMxMw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T01:01:34Z","updated_at":"2018-07-14T01:01:34Z","author_association":"CONTRIBUTOR","body":"Closing this PR. Will try a different approach since we're not converging on a solution.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404987313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/404987892","html_url":"https://github.com/apache/drill/pull/1244#issuecomment-404987892","issue_url":"https://api.github.com/repos/apache/drill/issues/1244","id":404987892,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDk4Nzg5Mg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T01:10:04Z","updated_at":"2018-07-14T01:10:04Z","author_association":"CONTRIBUTOR","body":"@sohami, the cost of my proposed fix has exceeded its benefit -- we're just not converging. I've closed that PR and will look for another solution. Rather than use the `MaterializedField` to get the type, I'll ad code that does a switch statement on the vector type to learn the \"real\" type, leaving the `MaterializedField` to hold the pretend type for the `values` field of a `Nullable` vector.\r\n\r\nThis should not be hard: we already have generated code that parses the vector type. I can use this to manufacture a `MajorType` that matches the vector class; bypassing the need for correct `MaterializedField` data, and thus eliminating the need to change the vector code.\r\n\r\nRevision to be done soon.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/404987892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405155695","html_url":"https://github.com/apache/drill/pull/1259#issuecomment-405155695","issue_url":"https://api.github.com/repos/apache/drill/issues/1259","id":405155695,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTE1NTY5NQ==","user":{"login":"xiexingguang","id":6290305,"node_id":"MDQ6VXNlcjYyOTAzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/6290305?v=4","gravatar_id":"","url":"https://api.github.com/users/xiexingguang","html_url":"https://github.com/xiexingguang","followers_url":"https://api.github.com/users/xiexingguang/followers","following_url":"https://api.github.com/users/xiexingguang/following{/other_user}","gists_url":"https://api.github.com/users/xiexingguang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiexingguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiexingguang/subscriptions","organizations_url":"https://api.github.com/users/xiexingguang/orgs","repos_url":"https://api.github.com/users/xiexingguang/repos","events_url":"https://api.github.com/users/xiexingguang/events{/privacy}","received_events_url":"https://api.github.com/users/xiexingguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T06:04:23Z","updated_at":"2018-07-16T06:04:23Z","author_association":"NONE","body":"it means , once Upgrade Parquet MR dependencies , filter push down can support  type of varchar ?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405155695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405213446","html_url":"https://github.com/apache/drill/pull/1259#issuecomment-405213446","issue_url":"https://api.github.com/repos/apache/drill/issues/1259","id":405213446,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTIxMzQ0Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T11:04:30Z","updated_at":"2018-07-16T11:04:30Z","author_association":"MEMBER","body":"@xiexingguang no, support for varchar push down is not fully implemented yet.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405213446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405302803","html_url":"https://github.com/apache/drill/pull/1367#issuecomment-405302803","issue_url":"https://api.github.com/repos/apache/drill/issues/1367","id":405302803,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTMwMjgwMw==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T16:18:15Z","updated_at":"2018-07-16T16:18:15Z","author_association":"CONTRIBUTOR","body":"> The reason for that change is that the result set loader code that clones a vector needs to know the actual type. That code walks the vector tree, using the MaterializedField to get the type. If a values vector (which has no bits vector) reports its type as Nullable, then the clone will create a bits vector, which causes havoc.\r\n\r\nAs of now NullableVectors takes care of creating it's internal `values` and `bits` vector correctly. That is to say it creates correct `values` vector of required type even though the MaterializedField of that vector points to parent field. \r\nWhen you traverse the MaterializedField tree to construct a new vector based on it, for Nullable Vector without your change will not have any children fields. So probably based on DataMode of Materialized Field you will know that the vector is of Nullable Type and you will create a NullableValueVector.  Internally this NullableValueVector should create correct `values` vector (i.e. without bit vector) even though it's field will be same as parent NullableVector field. I don't think you have to create `values` vector separately ? May be I am missing something, would be helpful if you can point me to cloning code inside ResultSetLoader.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405302803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405387336","html_url":"https://github.com/apache/drill/pull/1114#issuecomment-405387336","issue_url":"https://api.github.com/repos/apache/drill/issues/1114","id":405387336,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTM4NzMzNg==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T21:26:44Z","updated_at":"2018-07-16T21:26:44Z","author_association":"CONTRIBUTOR","body":"I fixed several of the comments here.  I'm still working on unit tests.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405387336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405405601","html_url":"https://github.com/apache/drill/pull/1296#issuecomment-405405601","issue_url":"https://api.github.com/repos/apache/drill/issues/1296","id":405405601,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQwNTYwMQ==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T22:52:49Z","updated_at":"2018-07-16T22:52:49Z","author_association":"NONE","body":"@vdiravka any more review comments?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405405601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405437843","html_url":"https://github.com/apache/drill/pull/1259#issuecomment-405437843","issue_url":"https://api.github.com/repos/apache/drill/issues/1259","id":405437843,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQzNzg0Mw==","user":{"login":"xiexingguang","id":6290305,"node_id":"MDQ6VXNlcjYyOTAzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/6290305?v=4","gravatar_id":"","url":"https://api.github.com/users/xiexingguang","html_url":"https://github.com/xiexingguang","followers_url":"https://api.github.com/users/xiexingguang/followers","following_url":"https://api.github.com/users/xiexingguang/following{/other_user}","gists_url":"https://api.github.com/users/xiexingguang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiexingguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiexingguang/subscriptions","organizations_url":"https://api.github.com/users/xiexingguang/orgs","repos_url":"https://api.github.com/users/xiexingguang/repos","events_url":"https://api.github.com/users/xiexingguang/events{/privacy}","received_events_url":"https://api.github.com/users/xiexingguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T02:18:00Z","updated_at":"2018-07-17T02:18:00Z","author_association":"NONE","body":"@arina-ielchiieva     varchar push down  function  seems  import for us,  do you have a plan to supoort it fully ? if do have  plan, please  inform us .tks","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405437843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405457988","html_url":"https://github.com/apache/drill/pull/1367#issuecomment-405457988","issue_url":"https://api.github.com/repos/apache/drill/issues/1367","id":405457988,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQ1Nzk4OA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T04:45:34Z","updated_at":"2018-07-17T04:45:34Z","author_association":"CONTRIBUTOR","body":"@sohami, the problem is simply that each value vector can stand alone: the `values` vector is, itself, a perfectly valid vector. However, the `MaterializedField` metadata for the `values` vector is inconsistent with the vector class. I considered this a bug. But, given the hassle with this PR, we may want to declare that inconsistency a feature.\r\n\r\nIn the result set loader code, I tried to use the vector metadata to recursively manage vectors: a required int vector (say) was to be handled the same whether it is a \"top-level\" or nested `values` vector. The result was nice, simple code.\r\n\r\nI will instead revise the code use the class of the vector as accurate metadata, and not rely on the unreliable metadata. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405457988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405479402","html_url":"https://github.com/apache/drill/pull/1244#issuecomment-405479402","issue_url":"https://api.github.com/repos/apache/drill/issues/1244","id":405479402,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQ3OTQwMg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T06:55:41Z","updated_at":"2018-07-17T06:55:41Z","author_association":"CONTRIBUTOR","body":"Revised with an alternative fix to the \"lying nullable vector values\" metadata problem.\r\n\r\nRebased on latest master.\r\n\r\nShould be ready for another attempt at merging to master; another pre-commit test run.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405479402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405541429","html_url":"https://github.com/apache/drill/pull/1336#issuecomment-405541429","issue_url":"https://api.github.com/repos/apache/drill/issues/1336","id":405541429,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTU0MTQyOQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T10:51:03Z","updated_at":"2018-07-17T10:51:03Z","author_association":"MEMBER","body":"@ilooner could you please fix compilation errors?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405541429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405589356","html_url":"https://github.com/apache/drill/pull/1259#issuecomment-405589356","issue_url":"https://api.github.com/repos/apache/drill/issues/1259","id":405589356,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTU4OTM1Ng==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T13:51:48Z","updated_at":"2018-07-17T13:51:48Z","author_association":"MEMBER","body":"@xiexingguang Please create new JIRA. PR is a place to discuss code modifications.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405589356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405595858","html_url":"https://github.com/apache/drill/pull/1264#issuecomment-405595858","issue_url":"https://api.github.com/repos/apache/drill/issues/1264","id":405595858,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTU5NTg1OA==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T14:11:17Z","updated_at":"2018-07-17T14:11:17Z","author_association":"MEMBER","body":"I'd recommend splitting this PR in two. The first PR to shade newer version of guava and the second PR to change drill code to use the shaded jar. The first PR needs to be merged first, so shaded jar can be published to maven.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405595858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405638005","html_url":"https://github.com/apache/drill/pull/1296#issuecomment-405638005","issue_url":"https://api.github.com/repos/apache/drill/issues/1296","id":405638005,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTYzODAwNQ==","user":{"login":"vdiravka","id":11904420,"node_id":"MDQ6VXNlcjExOTA0NDIw","avatar_url":"https://avatars.githubusercontent.com/u/11904420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdiravka","html_url":"https://github.com/vdiravka","followers_url":"https://api.github.com/users/vdiravka/followers","following_url":"https://api.github.com/users/vdiravka/following{/other_user}","gists_url":"https://api.github.com/users/vdiravka/gists{/gist_id}","starred_url":"https://api.github.com/users/vdiravka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdiravka/subscriptions","organizations_url":"https://api.github.com/users/vdiravka/orgs","repos_url":"https://api.github.com/users/vdiravka/repos","events_url":"https://api.github.com/users/vdiravka/events{/privacy}","received_events_url":"https://api.github.com/users/vdiravka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T16:08:41Z","updated_at":"2018-07-17T16:08:41Z","author_association":"MEMBER","body":"+1 LGTM","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405638005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405771475","html_url":"https://github.com/apache/drill/pull/1381#issuecomment-405771475","issue_url":"https://api.github.com/repos/apache/drill/issues/1381","id":405771475,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTc3MTQ3NQ==","user":{"login":"HanumathRao","id":5264087,"node_id":"MDQ6VXNlcjUyNjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/5264087?v=4","gravatar_id":"","url":"https://api.github.com/users/HanumathRao","html_url":"https://github.com/HanumathRao","followers_url":"https://api.github.com/users/HanumathRao/followers","following_url":"https://api.github.com/users/HanumathRao/following{/other_user}","gists_url":"https://api.github.com/users/HanumathRao/gists{/gist_id}","starred_url":"https://api.github.com/users/HanumathRao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HanumathRao/subscriptions","organizations_url":"https://api.github.com/users/HanumathRao/orgs","repos_url":"https://api.github.com/users/HanumathRao/repos","events_url":"https://api.github.com/users/HanumathRao/events{/privacy}","received_events_url":"https://api.github.com/users/HanumathRao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T00:34:46Z","updated_at":"2018-07-18T00:34:46Z","author_association":"CONTRIBUTOR","body":"@amansinha100  As discussed I have modified the code. Can you please take a look and let me know if there any other changes required.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405771475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405818208","html_url":"https://github.com/apache/drill/pull/1336#issuecomment-405818208","issue_url":"https://api.github.com/repos/apache/drill/issues/1336","id":405818208,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTgxODIwOA==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T05:58:56Z","updated_at":"2018-07-18T05:58:56Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva Compilation issue is fixed, missed renaming two method calls. Adding back ready to commit tag.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405818208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405840207","html_url":"https://github.com/apache/drill/pull/1373#issuecomment-405840207","issue_url":"https://api.github.com/repos/apache/drill/issues/1373","id":405840207,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTg0MDIwNw==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T07:42:10Z","updated_at":"2018-07-18T07:42:10Z","author_association":"CONTRIBUTOR","body":"@Ben-Zvi please fix failures and address minor review comment. Ideally we can merge this before DRILL-6453.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405840207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405840660","html_url":"https://github.com/apache/drill/pull/1384#issuecomment-405840660","issue_url":"https://api.github.com/repos/apache/drill/issues/1384","id":405840660,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTg0MDY2MA==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T07:44:01Z","updated_at":"2018-07-18T07:44:01Z","author_association":"CONTRIBUTOR","body":"@Ben-Zvi please review. This should be merged before DRILL-6453.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405840660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405874956","html_url":"https://github.com/apache/drill/pull/1296#issuecomment-405874956","issue_url":"https://api.github.com/repos/apache/drill/issues/1296","id":405874956,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTg3NDk1Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T09:46:04Z","updated_at":"2018-07-18T09:46:04Z","author_association":"MEMBER","body":"@ilooner removed ready-to-commit label since I want to make sure we address comment about concurrency.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405874956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405886995","html_url":"https://github.com/apache/drill/pull/1384#issuecomment-405886995","issue_url":"https://api.github.com/repos/apache/drill/issues/1384","id":405886995,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTg4Njk5NQ==","user":{"login":"KazydubB","id":38408110,"node_id":"MDQ6VXNlcjM4NDA4MTEw","avatar_url":"https://avatars.githubusercontent.com/u/38408110?v=4","gravatar_id":"","url":"https://api.github.com/users/KazydubB","html_url":"https://github.com/KazydubB","followers_url":"https://api.github.com/users/KazydubB/followers","following_url":"https://api.github.com/users/KazydubB/following{/other_user}","gists_url":"https://api.github.com/users/KazydubB/gists{/gist_id}","starred_url":"https://api.github.com/users/KazydubB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KazydubB/subscriptions","organizations_url":"https://api.github.com/users/KazydubB/orgs","repos_url":"https://api.github.com/users/KazydubB/repos","events_url":"https://api.github.com/users/KazydubB/events{/privacy}","received_events_url":"https://api.github.com/users/KazydubB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T10:33:12Z","updated_at":"2018-07-18T10:33:12Z","author_association":"MEMBER","body":"@ilooner, was verifying my changes with your fix and found that there is a failing test:\r\n```\r\nFailed tests: \r\n  TestDrillbitResilience.memoryLeaksWhenCancelled:914->assertCancelledWithoutException:556->assertStateCompleted:542 Query state is incorrect (expected: CANCELED, actual: FAILED) AND/OR \r\nException thrown: org.apache.drill.common.exceptions.UserRemoteException: SYSTEM ERROR: IllegalStateException: Batch data read operation (getRecordCount()) attempted when last next() call on batch [#4207, HashJoinBatch] returned STOP (not OK or OK_NEW_SCHEMA).\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405886995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405893185","html_url":"https://github.com/apache/drill/pull/1386#issuecomment-405893185","issue_url":"https://api.github.com/repos/apache/drill/issues/1386","id":405893185,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTg5MzE4NQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T11:00:58Z","updated_at":"2018-07-18T11:00:58Z","author_association":"MEMBER","body":"@vvysotskyi could you please review?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405893185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405911162","html_url":"https://github.com/apache/drill/pull/1386#issuecomment-405911162","issue_url":"https://api.github.com/repos/apache/drill/issues/1386","id":405911162,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkxMTE2Mg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T12:19:05Z","updated_at":"2018-07-18T12:19:05Z","author_association":"MEMBER","body":"Please note currently Travis checks do not pass since #1384 should be merged first.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405911162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405923205","html_url":"https://github.com/apache/drill/pull/1385#issuecomment-405923205","issue_url":"https://api.github.com/repos/apache/drill/issues/1385","id":405923205,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkyMzIwNQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T13:05:28Z","updated_at":"2018-07-18T13:05:28Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405923205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405924429","html_url":"https://github.com/apache/drill/pull/1385#issuecomment-405924429","issue_url":"https://api.github.com/repos/apache/drill/issues/1385","id":405924429,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkyNDQyOQ==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T13:09:39Z","updated_at":"2018-07-18T13:09:39Z","author_association":"MEMBER","body":"@arina-ielchiieva, thanks for the review!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405924429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405931381","html_url":"https://github.com/apache/drill/pull/1114#issuecomment-405931381","issue_url":"https://api.github.com/repos/apache/drill/issues/1114","id":405931381,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkzMTM4MQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T13:30:46Z","updated_at":"2018-07-18T13:30:46Z","author_association":"MEMBER","body":"@cgivre looks like PR is ready to commit. Please squash the commits and leave one with proper commit message. Maybe add extra unit tests as Paul asked if you have time.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405931381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405957791","html_url":"https://github.com/apache/drill/pull/1114#issuecomment-405957791","issue_url":"https://api.github.com/repos/apache/drill/issues/1114","id":405957791,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk1Nzc5MQ==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T14:48:03Z","updated_at":"2018-07-18T14:48:03Z","author_association":"CONTRIBUTOR","body":"Commits squashed and proper commit message added.  \n\nRegarding the unit tests, is there an example of a unit test for when we are expecting Drill to throw an exception?\n\n> On Jul 18, 2018, at 09:30, Arina Ielchiieva <notifications@github.com> wrote:\n> \n> @cgivre <https://github.com/cgivre> looks like PR is ready to commit. Please squash the commits and leave one with proper commit message. Maybe add extra unit tests as Paul asked if you have time.\n> \n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/drill/pull/1114#issuecomment-405931381>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AFQfvv8-OJCdbadInSD8XoAFueSBUTH1ks5uHziKgaJpZM4R7EFM>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405957791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/405991291","html_url":"https://github.com/apache/drill/pull/1384#issuecomment-405991291","issue_url":"https://api.github.com/repos/apache/drill/issues/1384","id":405991291,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk5MTI5MQ==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T16:23:00Z","updated_at":"2018-07-18T16:23:00Z","author_association":"CONTRIBUTOR","body":"@KazydubB I saw that bug as well after opening the PR and pushed a fix. The test is passing now on both my laptop and jenkins. Please give it another try.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/405991291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406009671","html_url":"https://github.com/apache/drill/pull/1387#issuecomment-406009671","issue_url":"https://api.github.com/repos/apache/drill/issues/1387","id":406009671,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjAwOTY3MQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T17:22:38Z","updated_at":"2018-07-18T17:22:38Z","author_association":"MEMBER","body":"@vvysotskyi could you please review?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406009671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406022366","html_url":"https://github.com/apache/drill/pull/1381#issuecomment-406022366","issue_url":"https://api.github.com/repos/apache/drill/issues/1381","id":406022366,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjAyMjM2Ng==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T18:04:39Z","updated_at":"2018-07-18T18:04:39Z","author_association":"NONE","body":"@amansinha100 , @HanumathRao since it has an overall +1, I added the ready-to-commit label on the JIRA","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406022366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406028909","html_url":"https://github.com/apache/drill/pull/1384#issuecomment-406028909","issue_url":"https://api.github.com/repos/apache/drill/issues/1384","id":406028909,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjAyODkwOQ==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T18:25:54Z","updated_at":"2018-07-18T18:25:54Z","author_association":"NONE","body":"Spoke with @Ben-Zvi - he will review this shortly.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406028909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406040097","html_url":"https://github.com/apache/drill/pull/1264#issuecomment-406040097","issue_url":"https://api.github.com/repos/apache/drill/issues/1264","id":406040097,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjA0MDA5Nw==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T19:03:15Z","updated_at":"2018-07-18T19:03:15Z","author_association":"MEMBER","body":"Shaded jar needs to be published to maven no matter what. In case of a single PR, publishing to maven needs to happen **before** PR is merged. In the case of two PR, there is no such dependency. The first PR can be merged without publishing shaded jars to maven. Otherwise LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406040097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406226667","html_url":"https://github.com/apache/drill/pull/1298#issuecomment-406226667","issue_url":"https://api.github.com/repos/apache/drill/issues/1298","id":406226667,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjIyNjY2Nw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T10:11:46Z","updated_at":"2018-07-19T10:11:46Z","author_association":"MEMBER","body":"@vrozov what status of this PR?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406226667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406254685","html_url":"https://github.com/apache/drill/pull/1126#issuecomment-406254685","issue_url":"https://api.github.com/repos/apache/drill/issues/1126","id":406254685,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjI1NDY4NQ==","user":{"login":"vstorona-origin","id":13219901,"node_id":"MDQ6VXNlcjEzMjE5OTAx","avatar_url":"https://avatars.githubusercontent.com/u/13219901?v=4","gravatar_id":"","url":"https://api.github.com/users/vstorona-origin","html_url":"https://github.com/vstorona-origin","followers_url":"https://api.github.com/users/vstorona-origin/followers","following_url":"https://api.github.com/users/vstorona-origin/following{/other_user}","gists_url":"https://api.github.com/users/vstorona-origin/gists{/gist_id}","starred_url":"https://api.github.com/users/vstorona-origin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vstorona-origin/subscriptions","organizations_url":"https://api.github.com/users/vstorona-origin/orgs","repos_url":"https://api.github.com/users/vstorona-origin/repos","events_url":"https://api.github.com/users/vstorona-origin/events{/privacy}","received_events_url":"https://api.github.com/users/vstorona-origin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T12:11:01Z","updated_at":"2018-07-19T12:11:01Z","author_association":"CONTRIBUTOR","body":"@paul-rogers thanks for the review. I solved all the issues. Also, I rebased to the latest master and solved conflicts. Can you take a look at changes? \r\n\r\nAlso, I found a problem with a DRILL-6104, because of it I have had conflicts with a master branch. The problem was with proto files. In DRILL-6104 was edited generated files in `drill-protocol` module without regeneration. I updated the proto file with an information about my plugin and DRILL-6104.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406254685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406256293","html_url":"https://github.com/apache/drill/pull/1126#issuecomment-406256293","issue_url":"https://api.github.com/repos/apache/drill/issues/1126","id":406256293,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjI1NjI5Mw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T12:17:31Z","updated_at":"2018-07-19T12:17:31Z","author_association":"MEMBER","body":"@cgivre FYI.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406256293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406257354","html_url":"https://github.com/apache/drill/pull/1126#issuecomment-406257354","issue_url":"https://api.github.com/repos/apache/drill/issues/1126","id":406257354,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjI1NzM1NA==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T12:21:39Z","updated_at":"2018-07-19T12:21:39Z","author_association":"CONTRIBUTOR","body":"Thanks Arina and sorry about that.  For the future and for me to learn, what file should I have updated, or how should I have updated the protocols correctly?\nThanks,\n\n\n> On Jul 19, 2018, at 08:17, Arina Ielchiieva <notifications@github.com> wrote:\n> \n> @cgivre <https://github.com/cgivre> FYI.\n> \n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/drill/pull/1126#issuecomment-406256293>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AFQfvm88GBcfYjOuW0qPVUwlFWgBJkTrks5uIHjfgaJpZM4SPxHQ>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406257354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406259571","html_url":"https://github.com/apache/drill/pull/1126#issuecomment-406259571","issue_url":"https://api.github.com/repos/apache/drill/issues/1126","id":406259571,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjI1OTU3MQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T12:30:18Z","updated_at":"2018-07-23T12:46:51Z","author_association":"MEMBER","body":"@cgivre that's easy :)\r\n1. make changes only in .proto files (https://github.com/apache/drill/tree/master/protocol/src/main/protobuf).\r\n2. regenerate them following the instruction (https://github.com/apache/drill/blob/master/protocol/readme.txt).\r\n3. commit the changes.\r\n\r\nAlso you'll need to regenerate c++ UserBitShared.pb.h, instruction can be found in appropriate module.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406259571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406304211","html_url":"https://github.com/apache/drill/pull/1387#issuecomment-406304211","issue_url":"https://api.github.com/repos/apache/drill/issues/1387","id":406304211,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjMwNDIxMQ==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T14:51:41Z","updated_at":"2018-07-19T14:51:41Z","author_association":"MEMBER","body":"@vvysotskyi In Apache, when one of the community members decides to review a PR and submits his/her comments, as a courtesy to the community and that member, the PR should not be merged without giving the other reviewer and other community members an opportunity to take a look at the updated PR and PR contributor's responses.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406304211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406307162","html_url":"https://github.com/apache/drill/pull/1298#issuecomment-406307162","issue_url":"https://api.github.com/repos/apache/drill/issues/1298","id":406307162,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjMwNzE2Mg==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T14:59:56Z","updated_at":"2018-07-19T14:59:56Z","author_association":"MEMBER","body":"I am waiting for @jbimbert to address review comments and notify that the PR is ready for the review.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406307162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406321039","html_url":"https://github.com/apache/drill/pull/1298#issuecomment-406321039","issue_url":"https://api.github.com/repos/apache/drill/issues/1298","id":406321039,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjMyMTAzOQ==","user":{"login":"jbimbert","id":7976371,"node_id":"MDQ6VXNlcjc5NzYzNzE=","avatar_url":"https://avatars.githubusercontent.com/u/7976371?v=4","gravatar_id":"","url":"https://api.github.com/users/jbimbert","html_url":"https://github.com/jbimbert","followers_url":"https://api.github.com/users/jbimbert/followers","following_url":"https://api.github.com/users/jbimbert/following{/other_user}","gists_url":"https://api.github.com/users/jbimbert/gists{/gist_id}","starred_url":"https://api.github.com/users/jbimbert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbimbert/subscriptions","organizations_url":"https://api.github.com/users/jbimbert/orgs","repos_url":"https://api.github.com/users/jbimbert/repos","events_url":"https://api.github.com/users/jbimbert/events{/privacy}","received_events_url":"https://api.github.com/users/jbimbert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T15:38:52Z","updated_at":"2018-07-19T15:38:52Z","author_association":"CONTRIBUTOR","body":"@vrozov  Hello, please review this PR","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406321039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406335645","html_url":"https://github.com/apache/drill/pull/1126#issuecomment-406335645","issue_url":"https://api.github.com/repos/apache/drill/issues/1126","id":406335645,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjMzNTY0NQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T16:24:02Z","updated_at":"2018-07-19T16:24:02Z","author_association":"MEMBER","body":"@cgivre I am not sure if Vlad's changes make into the release. Maybe you should go ahead and create Jira and PR with protobuf fix?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406335645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406336866","html_url":"https://github.com/apache/drill/pull/1384#issuecomment-406336866","issue_url":"https://api.github.com/repos/apache/drill/issues/1384","id":406336866,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjMzNjg2Ng==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T16:28:04Z","updated_at":"2018-07-19T16:28:04Z","author_association":"CONTRIBUTOR","body":"@Ben-Zvi addressed comments. Please let me know if you have more comments.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406336866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406342056","html_url":"https://github.com/apache/drill/pull/1387#issuecomment-406342056","issue_url":"https://api.github.com/repos/apache/drill/issues/1387","id":406342056,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjM0MjA1Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T16:45:48Z","updated_at":"2018-07-19T16:45:48Z","author_association":"MEMBER","body":"@vrozov sorry about that but it was a release blocker and you had only minor style comments which I have addressed. I have asked  Volodymyr to merge changes to unblock the release since I'll be out for couple of days. If you see anything critical please file a Jira.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406342056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406347053","html_url":"https://github.com/apache/drill/pull/1389#issuecomment-406347053","issue_url":"https://api.github.com/repos/apache/drill/issues/1389","id":406347053,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjM0NzA1Mw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T17:02:54Z","updated_at":"2018-07-19T17:02:54Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406347053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406352339","html_url":"https://github.com/apache/drill/pull/1387#issuecomment-406352339","issue_url":"https://api.github.com/repos/apache/drill/issues/1387","id":406352339,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjM1MjMzOQ==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T17:21:04Z","updated_at":"2018-07-19T17:21:04Z","author_association":"MEMBER","body":"@arina-ielchiieva\r\n- `Long` vs `long` is not a \"minor style\" concern.\r\n- In Apache a contributor/PMC/VP can't ask another committer to merge his/her changes, it is clearly against \"Apache way\" where a committer represents him/herself only.\r\n- In Apache, while there may be a blocker for a release, there are no milestones.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406352339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406359589","html_url":"https://github.com/apache/drill/pull/1244#issuecomment-406359589","issue_url":"https://api.github.com/repos/apache/drill/issues/1244","id":406359589,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjM1OTU4OQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T17:46:39Z","updated_at":"2018-07-19T17:46:39Z","author_association":"CONTRIBUTOR","body":"@vrozov or @sohami: Can you take a look at the latest commit with an alternative solution for inconsistent metadata? If this fix is OK, then I'll mark this as ready to commit, since it previously received a +1. Thanks! ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406359589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406364011","html_url":"https://github.com/apache/drill/pull/1244#issuecomment-406364011","issue_url":"https://api.github.com/repos/apache/drill/issues/1244","id":406364011,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjM2NDAxMQ==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T18:01:43Z","updated_at":"2018-07-19T18:01:43Z","author_association":"MEMBER","body":"@paul-rogers Did you try to pull changes from PR #1383?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406364011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406365905","html_url":"https://github.com/apache/drill/pull/1333#issuecomment-406365905","issue_url":"https://api.github.com/repos/apache/drill/issues/1333","id":406365905,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjM2NTkwNQ==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T18:08:17Z","updated_at":"2018-07-19T18:08:17Z","author_association":"MEMBER","body":"@parthchandra rebased and resolved conflicts. Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406365905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406380183","html_url":"https://github.com/apache/drill/pull/1244#issuecomment-406380183","issue_url":"https://api.github.com/repos/apache/drill/issues/1244","id":406380183,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjM4MDE4Mw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T18:58:27Z","updated_at":"2018-07-19T18:58:27Z","author_association":"CONTRIBUTOR","body":"@vrozov, not needed. The latest commit provides a different solution. The ResultSetLoader unit tests pass. Next step is for someone at MapR to try the pre-commit tests. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406380183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406400270","html_url":"https://github.com/apache/drill/pull/1387#issuecomment-406400270","issue_url":"https://api.github.com/repos/apache/drill/issues/1387","id":406400270,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjQwMDI3MA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T20:14:53Z","updated_at":"2018-07-19T20:15:14Z","author_association":"MEMBER","body":"@vrozov \r\n1. I did not introduce Long and just kept previous code to ensure backward compatibility, I don't think it's a major concern plus I filed Jira for future enhancement. If you feel we should revert the commit, we can do that.\r\n2. Volodymyr did the review and merged the changes, though he should have waiting for your approval. Again sorry about that.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406400270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406432426","html_url":"https://github.com/apache/drill/pull/1384#issuecomment-406432426","issue_url":"https://api.github.com/repos/apache/drill/issues/1384","id":406432426,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjQzMjQyNg==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T22:22:01Z","updated_at":"2018-07-19T22:22:01Z","author_association":"CONTRIBUTOR","body":"Thanks for the +1 . \r\n\r\nWith respect to your comment, calling prefetchFirstBatchFromBothSides from buildSchema was actually the source of the problem. Doing so would trigger the operator state to be BatchState.FIRST after calling buildSchema which would cause an **OK_SCHEMA** to NOT be sent. This then cause downstream operators to never build a correct schema and return incorrect data types in some cases. That was the crux of the issue.\r\n\r\nThis change fixes that issue by separating prefetching data to two phases:\r\n\r\n  - Schema sniffing\r\n  - Data sniffing\r\n\r\nThe schemas need to be sniffed in the buildSchema call so we can have the schema. After sniffing schemas that state of the operator is BUILD_SCHEMA and OK_NEW_SCHEMA is emitted. Then data sniffing needs to happen in the call to innerNext() after the operator has emitted an OK_NEW_SCHEMA message.\r\n\r\nOther binary operators don't have this issue because they don't live within their memory limit, and as a consequence do not need to collect statistics about the data through sniffing.\r\n\r\nFurthermore, doing the sniffing in two stages is not a hack. It is required for functional correctness for queries like the one added in the unit test and for the reasons described above.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406432426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/406440668","html_url":"https://github.com/apache/drill/pull/1387#issuecomment-406440668","issue_url":"https://api.github.com/repos/apache/drill/issues/1387","id":406440668,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjQ0MDY2OA==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T23:06:32Z","updated_at":"2018-07-19T23:06:32Z","author_association":"MEMBER","body":"@arina-ielchiieva The goal of the comments is to avoid the same happening in the future (not to fix something that is already done, so no need to revert the commit, especially that it fixes DRILL-6603) whether it is for PR that I review or it is reviewed by somebody else (in Apex, for example, there is a [merging PR rule](http://apex.apache.org/contributing.html) that a PR can't be merged unless all reviewers sign off with a grace period of 48 hours.)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/406440668/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]