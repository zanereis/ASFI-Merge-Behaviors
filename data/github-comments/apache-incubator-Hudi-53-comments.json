[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615260642","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-615260642","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":615260642,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTI2MDY0Mg==","user":{"login":"dahirainbow","id":63859907,"node_id":"MDQ6VXNlcjYzODU5OTA3","avatar_url":"https://avatars.githubusercontent.com/u/63859907?v=4","gravatar_id":"","url":"https://api.github.com/users/dahirainbow","html_url":"https://github.com/dahirainbow","followers_url":"https://api.github.com/users/dahirainbow/followers","following_url":"https://api.github.com/users/dahirainbow/following{/other_user}","gists_url":"https://api.github.com/users/dahirainbow/gists{/gist_id}","starred_url":"https://api.github.com/users/dahirainbow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dahirainbow/subscriptions","organizations_url":"https://api.github.com/users/dahirainbow/orgs","repos_url":"https://api.github.com/users/dahirainbow/repos","events_url":"https://api.github.com/users/dahirainbow/events{/privacy}","received_events_url":"https://api.github.com/users/dahirainbow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T14:00:10Z","updated_at":"2020-04-17T14:00:10Z","author_association":"NONE","body":"hi,please add me: dahirainbow@outlook.com","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615260642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615272042","html_url":"https://github.com/apache/hudi/pull/1513#issuecomment-615272042","issue_url":"https://api.github.com/repos/apache/hudi/issues/1513","id":615272042,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTI3MjA0Mg==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T14:21:09Z","updated_at":"2020-04-17T14:21:09Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I tried few more combinations, looks like only the case when default value is null was not covered with avro-1.8.2. Rest looks good to me. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615272042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615383799","html_url":"https://github.com/apache/hudi/pull/1513#issuecomment-615383799","issue_url":"https://api.github.com/repos/apache/hudi/issues/1513","id":615383799,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTM4Mzc5OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T17:56:25Z","updated_at":"2020-04-17T17:56:25Z","author_association":"MEMBER","body":"@pratyakshsharma can you please open a PR with these additional test cases :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615383799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615390839","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-615390839","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":615390839,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTM5MDgzOQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T18:13:13Z","updated_at":"2020-04-17T18:13:13Z","author_association":"MEMBER","body":"@c-f-cooper @superguhua @jenu9417 @dahirainbow welcome and done","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615390839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615434579","html_url":"https://github.com/apache/hudi/pull/1513#issuecomment-615434579","issue_url":"https://api.github.com/repos/apache/hudi/issues/1513","id":615434579,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTQzNDU3OQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T19:50:43Z","updated_at":"2020-04-17T19:50:43Z","author_association":"CONTRIBUTOR","body":"> @pratyakshsharma can you please open a PR with these additional test cases :) \r\n\r\nSure. https://issues.apache.org/jira/browse/HUDI-803 tracks this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615434579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615473505","html_url":"https://github.com/apache/hudi/issues/1491#issuecomment-615473505","issue_url":"https://api.github.com/repos/apache/hudi/issues/1491","id":615473505,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTQ3MzUwNQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T21:32:34Z","updated_at":"2020-04-17T21:41:14Z","author_association":"MEMBER","body":"Hi @tverdokhlebd, glad to hear that your problem has been solved.\r\n\r\n> Upsert was hanging without this parameter \r\n\r\nWhen do upsert operation, hudi need to buffer input records in memory, the size of the buffer is controlled by the option `hoodie.memory.merge.max.size`. if the value of that option is small, hudi will spill contents to disk, in that case, the upsert performance will decline. \r\n\r\n>  without \"hoodie.memory.merge.max.size\" parameter and got error (heap size).\r\n\r\nbut, I can't understand why without that parameter, will get error(heap size), have you encountered a similar situation before? @vinothchandar \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615473505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615494434","html_url":"https://github.com/apache/hudi/pull/1526#issuecomment-615494434","issue_url":"https://api.github.com/repos/apache/hudi/issues/1526","id":615494434,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTQ5NDQzNA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T22:39:21Z","updated_at":"2020-04-17T22:39:21Z","author_association":"MEMBER","body":"Thanks for your contribution, left minor comments. Visit https://lamber-ken.github.io/docs/quick-start-guide.html","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615494434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615497198","html_url":"https://github.com/apache/hudi/pull/1526#issuecomment-615497198","issue_url":"https://api.github.com/repos/apache/hudi/issues/1526","id":615497198,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTQ5NzE5OA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T22:51:17Z","updated_at":"2020-04-17T22:52:42Z","author_association":"MEMBER","body":"hi @bhasudha, do you have any suggestions? you can visit https://lamber-ken.github.io/docs/quick-start-guide.html","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615497198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615501557","html_url":"https://github.com/apache/hudi/pull/1527#issuecomment-615501557","issue_url":"https://api.github.com/repos/apache/hudi/issues/1527","id":615501557,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTUwMTU1Nw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T23:10:31Z","updated_at":"2020-04-17T23:10:31Z","author_association":"MEMBER","body":"LGTM, thanks @baobaoyeye ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615501557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615522191","html_url":"https://github.com/apache/hudi/pull/1527#issuecomment-615522191","issue_url":"https://api.github.com/repos/apache/hudi/issues/1527","id":615522191,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTUyMjE5MQ==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-18T00:35:29Z","updated_at":"2020-04-18T00:35:29Z","author_association":"CONTRIBUTOR","body":"Please merge @lamber-ken, and how about changing the title to `[MINOR] use Option and fix description in toString method `?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615522191/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615559297","html_url":"https://github.com/apache/hudi/pull/1527#issuecomment-615559297","issue_url":"https://api.github.com/repos/apache/hudi/issues/1527","id":615559297,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTU1OTI5Nw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-18T04:50:20Z","updated_at":"2020-04-18T04:50:20Z","author_association":"MEMBER","body":"> Please merge @lamber-ken, and how about changing the title to `[MINOR] use Option and fix description in toString method `?\r\n\r\nGot, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615559297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615844051","html_url":"https://github.com/apache/hudi/issues/1482#issuecomment-615844051","issue_url":"https://api.github.com/repos/apache/hudi/issues/1482","id":615844051,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTg0NDA1MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-18T11:18:15Z","updated_at":"2020-04-18T11:18:15Z","author_association":"CONTRIBUTOR","body":"@venkee14 : did the above changes work? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615844051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615885170","html_url":"https://github.com/apache/hudi/pull/1512#issuecomment-615885170","issue_url":"https://api.github.com/repos/apache/hudi/issues/1512","id":615885170,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTg4NTE3MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-18T14:59:03Z","updated_at":"2020-04-18T14:59:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1512?src=pr&el=h1) Report\n> Merging [#1512](https://codecov.io/gh/apache/incubator-hudi/pull/1512?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/75523657a4b5c67209e48c1c989a4dd017b4fdd1&el=desc) will **increase** coverage by `0.06%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1512/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1512?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1512      +/-   ##\n============================================\n+ Coverage     72.28%   72.35%   +0.06%     \n- Complexity      294      296       +2     \n============================================\n  Files           374      374              \n  Lines         16365    16378      +13     \n  Branches       1648     1649       +1     \n============================================\n+ Hits          11830    11850      +20     \n+ Misses         3804     3798       -6     \n+ Partials        731      730       -1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1512?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/incubator-hudi/pull/1512/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `72.44% <ø> (ø)` | `37.00 <0.00> (ø)` | |\n| [...org/apache/hudi/common/model/HoodieFileFormat.java](https://codecov.io/gh/apache/incubator-hudi/pull/1512/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUZpbGVGb3JtYXQuamF2YQ==) | `100.00% <100.00%> (ø)` | `2.00 <0.00> (+2.00)` | |\n| [...rg/apache/hudi/common/table/HoodieTableConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1512/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL0hvb2RpZVRhYmxlQ29uZmlnLmphdmE=) | `50.00% <100.00%> (+1.56%)` | `0.00 <0.00> (ø)` | |\n| [...pache/hudi/common/table/HoodieTableMetaClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1512/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL0hvb2RpZVRhYmxlTWV0YUNsaWVudC5qYXZh) | `84.17% <100.00%> (+0.41%)` | `0.00 <0.00> (ø)` | |\n| [...main/scala/org/apache/hudi/DataSourceOptions.scala](https://codecov.io/gh/apache/incubator-hudi/pull/1512/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGF0YVNvdXJjZU9wdGlvbnMuc2NhbGE=) | `93.54% <100.00%> (+0.28%)` | `0.00 <0.00> (ø)` | |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/incubator-hudi/pull/1512/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllU3BhcmtTcWxXcml0ZXIuc2NhbGE=) | `53.37% <100.00%> (+0.57%)` | `0.00 <0.00> (ø)` | |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1512/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `78.24% <100.00%> (+0.10%)` | `11.00 <0.00> (ø)` | |\n| [...src/main/java/org/apache/hudi/metrics/Metrics.java](https://codecov.io/gh/apache/incubator-hudi/pull/1512/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzLmphdmE=) | `72.22% <0.00%> (+13.88%)` | `0.00% <0.00%> (ø%)` | |\n| [...g/apache/hudi/metrics/InMemoryMetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1512/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9Jbk1lbW9yeU1ldHJpY3NSZXBvcnRlci5qYXZh) | `80.00% <0.00%> (+40.00%)` | `0.00% <0.00%> (ø%)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1512?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1512?src=pr&el=footer). Last update [7552365...6a2fdaf](https://codecov.io/gh/apache/incubator-hudi/pull/1512?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615885170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615908872","html_url":"https://github.com/apache/hudi/pull/1512#issuecomment-615908872","issue_url":"https://api.github.com/repos/apache/hudi/issues/1512","id":615908872,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTkwODg3Mg==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-18T17:32:46Z","updated_at":"2020-04-18T17:32:46Z","author_association":"MEMBER","body":"Hi @vinothchandar, apologies for the delay.\r\n\r\n> different partitions use different formats\r\n\r\nI know hive support that feature, it's easy for hive. If we want to support different partitions use different format, we alos need to store these partition file format infomation to `hoodie.properties` file as shown bellow, these are required when read / write.\r\n\r\nAt present, I can't think of a better way, correct me if I'm wrong or do you have any good ideas?\r\n```\r\n// hoodie.properties\r\nhoodie.table.name=hudi_mor_table\r\nhoodie.archivelog.folder=archived\r\nhoodie.table.type=COPY_ON_WRITE\r\nhoodie.timeline.layout.version=0\r\n\r\nhoodie.table.base.file.format.partition.2020.01.08=ORC\r\nhoodie.table.base.file.format.partition.2020.01.09=PARQUET\r\nhoodie.table.base.file.format.partition.2020.01.10=PARQUET\r\nhoodie.table.base.file.format.partition.2020.01.11=ORC\r\nhoodie.table.base.file.format.partition.2020.01.12=ORC\r\n\r\n\r\n// sync to hive, need to set fileformat\r\nALTER TABLE day_table PARTITION (dt='20200805') SET FILEFORMAT rcfile;\r\n```\r\n\r\n<br>\r\n\r\n> store things like index.type ..\r\n\r\nI found a jira about it, \"Persist the HoodieIndex type in the hoodie.properties file\" [1],\r\nIt seems to be another topic : )\r\n\r\n[1] https://issues.apache.org/jira/browse/HUDI-37\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615908872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616025885","html_url":"https://github.com/apache/hudi/pull/1530#issuecomment-616025885","issue_url":"https://api.github.com/repos/apache/hudi/issues/1530","id":616025885,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjAyNTg4NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-19T04:19:45Z","updated_at":"2020-04-19T04:24:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1530?src=pr&el=h1) Report\n> Merging [#1530](https://codecov.io/gh/apache/incubator-hudi/pull/1530?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/75523657a4b5c67209e48c1c989a4dd017b4fdd1&el=desc) will **increase** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1530/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1530?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1530      +/-   ##\n============================================\n+ Coverage     72.28%   72.30%   +0.01%     \n  Complexity      294      294              \n============================================\n  Files           374      374              \n  Lines         16365    16365              \n  Branches       1648     1648              \n============================================\n+ Hits          11830    11833       +3     \n+ Misses         3804     3801       -3     \n  Partials        731      731              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1530?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/incubator-hudi/pull/1530/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `89.65% <0.00%> (+10.34%)` | `0.00% <0.00%> (ø%)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1530?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1530?src=pr&el=footer). Last update [7552365...2a3a0ff](https://codecov.io/gh/apache/incubator-hudi/pull/1530?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616025885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616051296","html_url":"https://github.com/apache/hudi/pull/1526#issuecomment-616051296","issue_url":"https://api.github.com/repos/apache/hudi/issues/1526","id":616051296,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjA1MTI5Ng==","user":{"login":"vingov","id":1142498,"node_id":"MDQ6VXNlcjExNDI0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1142498?v=4","gravatar_id":"","url":"https://api.github.com/users/vingov","html_url":"https://github.com/vingov","followers_url":"https://api.github.com/users/vingov/followers","following_url":"https://api.github.com/users/vingov/following{/other_user}","gists_url":"https://api.github.com/users/vingov/gists{/gist_id}","starred_url":"https://api.github.com/users/vingov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vingov/subscriptions","organizations_url":"https://api.github.com/users/vingov/orgs","repos_url":"https://api.github.com/users/vingov/repos","events_url":"https://api.github.com/users/vingov/events{/privacy}","received_events_url":"https://api.github.com/users/vingov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-19T06:22:13Z","updated_at":"2020-04-19T06:22:13Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @EdwinGuo! This is a good start, I am working on a similar task to add documentation and python package for hudi - [HUDI-783]( https://issues.apache.org/jira/browse/HUDI-783)\r\n\r\nI checked the updated quick-start-guide, I feel its a bit confusing when we add the python example just below the scala example, instead if we follow a style guide like the [official spark documentation](https://spark.apache.org/docs/latest/sql-getting-started.html), having tabs for each language code, it will be easy for the users to follow.\r\n\r\nThoughts?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616051296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616061593","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-616061593","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":616061593,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjA2MTU5Mw==","user":{"login":"ohmk","id":736502,"node_id":"MDQ6VXNlcjczNjUwMg==","avatar_url":"https://avatars.githubusercontent.com/u/736502?v=4","gravatar_id":"","url":"https://api.github.com/users/ohmk","html_url":"https://github.com/ohmk","followers_url":"https://api.github.com/users/ohmk/followers","following_url":"https://api.github.com/users/ohmk/following{/other_user}","gists_url":"https://api.github.com/users/ohmk/gists{/gist_id}","starred_url":"https://api.github.com/users/ohmk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohmk/subscriptions","organizations_url":"https://api.github.com/users/ohmk/orgs","repos_url":"https://api.github.com/users/ohmk/repos","events_url":"https://api.github.com/users/ohmk/events{/privacy}","received_events_url":"https://api.github.com/users/ohmk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-19T07:04:48Z","updated_at":"2020-04-19T07:04:48Z","author_association":"NONE","body":"Please add: ohmura.kei@gmail.com\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616061593/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616121562","html_url":"https://github.com/apache/hudi/pull/1526#issuecomment-616121562","issue_url":"https://api.github.com/repos/apache/hudi/issues/1526","id":616121562,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjEyMTU2Mg==","user":{"login":"EdwinGuo","id":8300535,"node_id":"MDQ6VXNlcjgzMDA1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/8300535?v=4","gravatar_id":"","url":"https://api.github.com/users/EdwinGuo","html_url":"https://github.com/EdwinGuo","followers_url":"https://api.github.com/users/EdwinGuo/followers","following_url":"https://api.github.com/users/EdwinGuo/following{/other_user}","gists_url":"https://api.github.com/users/EdwinGuo/gists{/gist_id}","starred_url":"https://api.github.com/users/EdwinGuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdwinGuo/subscriptions","organizations_url":"https://api.github.com/users/EdwinGuo/orgs","repos_url":"https://api.github.com/users/EdwinGuo/repos","events_url":"https://api.github.com/users/EdwinGuo/events{/privacy}","received_events_url":"https://api.github.com/users/EdwinGuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-19T12:26:24Z","updated_at":"2020-04-19T12:26:24Z","author_association":"CONTRIBUTOR","body":"> Thanks for the contribution @EdwinGuo! This is a good start, I am working on a similar task to add documentation and python package for hudi - [HUDI-783](https://issues.apache.org/jira/browse/HUDI-783)\r\n> \r\n> I checked the updated quick-start-guide, I feel its a bit confusing when we add the python example just below the scala example, instead if we follow a style guide like the [official spark documentation](https://spark.apache.org/docs/latest/sql-getting-started.html), having tabs for each language code, it will be easy for the users to follow.\r\n> \r\n> Thoughts?\r\n\r\nHi @vingov  Thanks for the comments. I agree with you and in fact, I was discussing this point with @lamber-ken and I'm investigating how to enable the tab feature. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616121562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616178030","html_url":"https://github.com/apache/hudi/pull/1433#issuecomment-616178030","issue_url":"https://api.github.com/repos/apache/hudi/issues/1433","id":616178030,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjE3ODAzMA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-19T16:37:35Z","updated_at":"2020-04-19T16:37:35Z","author_association":"CONTRIBUTOR","body":"LGTM. @vinothchandar : do you want to review or can we go ahead and merge it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616178030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616222245","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-616222245","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":616222245,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjIyMjI0NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-19T20:43:45Z","updated_at":"2020-04-25T00:48:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1100?src=pr&el=h1) Report\n> Merging [#1100](https://codecov.io/gh/apache/incubator-hudi/pull/1100?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/19cc15c0987043175685aaeb45facb15af23e34f&el=desc) will **decrease** coverage by `0.52%`.\n> The diff coverage is `63.62%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1100/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1100?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1100      +/-   ##\n============================================\n- Coverage     71.66%   71.13%   -0.53%     \n- Complexity      294      566     +272     \n============================================\n  Files           378      422      +44     \n  Lines         16551    17796    +1245     \n  Branches       1670     1793     +123     \n============================================\n+ Hits          11861    12659     +798     \n- Misses         3959     4339     +380     \n- Partials        731      798      +67     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1100?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...c/main/java/org/apache/hudi/hive/HiveSyncTool.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS1oaXZlLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGl2ZS9IaXZlU3luY1Rvb2wuamF2YQ==) | `71.73% <0.00%> (-2.42%)` | `0.00 <0.00> (ø)` | |\n| [...in/java/org/apache/hudi/hive/HoodieHiveClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS1oaXZlLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGl2ZS9Ib29kaWVIaXZlQ2xpZW50LmphdmE=) | `74.36% <0.00%> (-0.27%)` | `0.00 <0.00> (ø)` | |\n| [...src/main/java/org/apache/hudi/DataSourceUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9EYXRhU291cmNlVXRpbHMuamF2YQ==) | `55.55% <0.00%> (-1.15%)` | `0.00 <0.00> (ø)` | |\n| [...src/main/java/org/apache/hudi/QuickstartUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9RdWlja3N0YXJ0VXRpbHMuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...va/org/apache/hudi/keygen/ComplexKeyGenerator.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9rZXlnZW4vQ29tcGxleEtleUdlbmVyYXRvci5qYXZh) | `91.66% <ø> (+4.82%)` | `0.00 <0.00> (ø)` | |\n| [...apache/hudi/keygen/NonpartitionedKeyGenerator.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9rZXlnZW4vTm9ucGFydGl0aW9uZWRLZXlHZW5lcmF0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...apache/hudi/testsuite/DFSSparkAvroDeltaWriter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS10ZXN0LXN1aXRlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3Rlc3RzdWl0ZS9ERlNTcGFya0F2cm9EZWx0YVdyaXRlci5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...hudi/testsuite/dag/SimpleWorkflowDagGenerator.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS10ZXN0LXN1aXRlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3Rlc3RzdWl0ZS9kYWcvU2ltcGxlV29ya2Zsb3dEYWdHZW5lcmF0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...pache/hudi/testsuite/dag/nodes/BulkInsertNode.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS10ZXN0LXN1aXRlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3Rlc3RzdWl0ZS9kYWcvbm9kZXMvQnVsa0luc2VydE5vZGUuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...org/apache/hudi/testsuite/dag/nodes/CleanNode.java](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree#diff-aHVkaS10ZXN0LXN1aXRlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3Rlc3RzdWl0ZS9kYWcvbm9kZXMvQ2xlYW5Ob2RlLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| ... and [97 more](https://codecov.io/gh/apache/incubator-hudi/pull/1100/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1100?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1100?src=pr&el=footer). Last update [19cc15c...7db66af](https://codecov.io/gh/apache/incubator-hudi/pull/1100?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616222245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616297099","html_url":"https://github.com/apache/hudi/pull/1530#issuecomment-616297099","issue_url":"https://api.github.com/repos/apache/hudi/issues/1530","id":616297099,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjI5NzA5OQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T04:11:34Z","updated_at":"2020-04-20T04:11:34Z","author_association":"MEMBER","body":"@yanghua Thank you for taking care of the review. To better coordinate, just want to clarify the steps I'm taking for migrating the APIs:\r\n\r\n1. (This PR) Introduce `org.apache.hudi.common.testutils.HoodieCommonTestHarness` to allow incrementally migrate its subclasses, and complete migrations for `hudi-hadoop-mr`\r\n2. Migrate all subclasses of `HoodieClientTestHarness` (this completes `hudi-cli`)\r\n3. Migrate the remaining `HoodieCommonTestHarness` subclasses (this will merge `org.apache.hudi.common.HoodieCommonTestHarness` to the interim one in 1) )\r\n4. Migrate the remaining tests in `hudi-client`, `hudi-utilities`, and `hudi-common` \r\n\r\nI'll try to keep the PR diff less than 500 +/- to make the review less daunting..but in case of 2) where all subclasses need to go at once, the diff may go up for that PR... just as a heads-up. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616297099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616302909","html_url":"https://github.com/apache/hudi/pull/1530#issuecomment-616302909","issue_url":"https://api.github.com/repos/apache/hudi/issues/1530","id":616302909,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjMwMjkwOQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T04:35:31Z","updated_at":"2020-04-20T04:35:31Z","author_association":"CONTRIBUTOR","body":"> @yanghua Thank you for taking care of the review. To better coordinate, just want to clarify the steps I'm taking for migrating the APIs:\r\n> \r\n> 1. (This PR) Introduce `org.apache.hudi.common.testutils.HoodieCommonTestHarness` to allow incrementally migrate its subclasses, and complete migrations for `hudi-hadoop-mr`\r\n> 2. Migrate all subclasses of `HoodieClientTestHarness` (this completes `hudi-cli`)\r\n> 3. Migrate the remaining `HoodieCommonTestHarness` subclasses (this will merge `org.apache.hudi.common.HoodieCommonTestHarness` to the interim one in 1) )\r\n> 4. Migrate the remaining tests in `hudi-client`, `hudi-utilities`, and `hudi-common`\r\n> \r\n> I'll try to keep the PR diff less than 500 +/- to make the review less daunting..but in case of 2) where all subclasses need to go at once, the diff may go up for that PR... just as a heads-up.\r\n\r\nSounds reasonable.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616302909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616455775","html_url":"https://github.com/apache/hudi/pull/1532#issuecomment-616455775","issue_url":"https://api.github.com/repos/apache/hudi/issues/1532","id":616455775,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjQ1NTc3NQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T10:23:56Z","updated_at":"2020-04-20T10:23:56Z","author_association":"CONTRIBUTOR","body":"@bvaradar please take a pass. Have tried to implement the usage of given parameter in an optional way so that it does not break the current functionality.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616455775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616526186","html_url":"https://github.com/apache/hudi/pull/1535#issuecomment-616526186","issue_url":"https://api.github.com/repos/apache/hudi/issues/1535","id":616526186,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjUyNjE4Ng==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T12:39:23Z","updated_at":"2020-04-20T12:39:23Z","author_association":"CONTRIBUTOR","body":"hi @yanghua, could you please take a look, thanks ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616526186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616533827","html_url":"https://github.com/apache/hudi/pull/1536#issuecomment-616533827","issue_url":"https://api.github.com/repos/apache/hudi/issues/1536","id":616533827,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjUzMzgyNw==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T12:54:55Z","updated_at":"2020-04-20T12:54:55Z","author_association":"CONTRIBUTOR","body":"@lamber-ken Thanks for reporting this, please take a look when you are free. Thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616533827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616631319","html_url":"https://github.com/apache/hudi/pull/1512#issuecomment-616631319","issue_url":"https://api.github.com/repos/apache/hudi/issues/1512","id":616631319,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjYzMTMxOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T15:34:17Z","updated_at":"2020-04-20T15:34:17Z","author_association":"CONTRIBUTOR","body":"@lamber-ken : Storing per-partition specific metadata in hoodie.properties wont work as we are not versioning hoodie.properties. There is no atomicity guarantees across different cloud storages   for writers. \r\n\r\nI think supporting different file formats within a table is not a priority but if we have to do, then we can instead store in .hoodie_partition_metadata first time we create it per partition. Hudi Hive Sync needs to then read this for each new partition getting added to hive to register the correct input format for that partition. I am not sure how Spark, Presto and Impala would work in this case. We need to evaluate before venturing out to supporting this.\r\n\r\nComing back to the original objective of this PR, since hoodie.properties is effectively write-once, we can use it to store default file format of the hoodie table. As part of HoodieTableMetaClient.initTableType alone, we should set the file format of table once. TO support existing tables,  we can keep the default storage layout as \"PARQUET\" and if the setting is not present in hoodie.properties (for already created tables), we should use \"PARQUET\" as default.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616631319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616634319","html_url":"https://github.com/apache/hudi/pull/1503#issuecomment-616634319","issue_url":"https://api.github.com/repos/apache/hudi/issues/1503","id":616634319,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjYzNDMxOQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T15:39:09Z","updated_at":"2020-04-20T15:39:09Z","author_association":"MEMBER","body":"@bvaradar @n3nash any code that is reused from other projects here? (asking since this is Hive and combine input splits)..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616634319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616635927","html_url":"https://github.com/apache/hudi/pull/1536#issuecomment-616635927","issue_url":"https://api.github.com/repos/apache/hudi/issues/1536","id":616635927,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjYzNTkyNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T15:41:54Z","updated_at":"2020-04-20T15:41:54Z","author_association":"MEMBER","body":"an accompanying test case would be great!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616635927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616637515","html_url":"https://github.com/apache/hudi/pull/1537#issuecomment-616637515","issue_url":"https://api.github.com/repos/apache/hudi/issues/1537","id":616637515,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjYzNzUxNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T15:44:33Z","updated_at":"2020-04-20T15:44:33Z","author_association":"MEMBER","body":"thanks for the catch @Jecarm ..\r\n\r\n@nsivabalan can you please review this. This deserves a JIRA since its an actual bug fix.. (performance should improve, correctness should be the same)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616637515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616649362","html_url":"https://github.com/apache/hudi/pull/1538#issuecomment-616649362","issue_url":"https://api.github.com/repos/apache/hudi/issues/1538","id":616649362,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY0OTM2Mg==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T16:03:05Z","updated_at":"2020-04-20T16:03:05Z","author_association":"CONTRIBUTOR","body":"Few observations related to issues we have faced recently: \r\n\r\n1. If we specify \\\"default\\\": null in string schema for a field or specify NullNode.getInstance() for default value when defining a field and then invoke field.defaultValue(), it returns a NullNode instance which in turn gives JsonProperties.Null instance when field.defaultVal() is invoked. \r\nWhen we try to validate such a record in rewrite() function in HoodieAvroUtils class, the validate function internally tries to resolve a union type schema. At this point JsonProperties.Null type value is not handled. Rest of the data types are handled. \r\n\r\nRest all the cases, defaultVal() either returns proper data type or it comes as null i.e defaultValue variable of Field class is null.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616649362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616650031","html_url":"https://github.com/apache/hudi/pull/1538#issuecomment-616650031","issue_url":"https://api.github.com/repos/apache/hudi/issues/1538","id":616650031,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY1MDAzMQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T16:04:10Z","updated_at":"2020-04-20T16:04:10Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Please take a pass. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616650031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616657717","html_url":"https://github.com/apache/hudi/pull/1513#issuecomment-616657717","issue_url":"https://api.github.com/repos/apache/hudi/issues/1513","id":616657717,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY1NzcxNw==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T16:16:28Z","updated_at":"2020-04-20T16:16:28Z","author_association":"CONTRIBUTOR","body":"> Sure. https://issues.apache.org/jira/browse/HUDI-803 tracks this.\r\n\r\nhttps://github.com/apache/incubator-hudi/pull/1538 is raised for this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616657717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616684125","html_url":"https://github.com/apache/hudi/pull/1503#issuecomment-616684125","issue_url":"https://api.github.com/repos/apache/hudi/issues/1503","id":616684125,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY4NDEyNQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T16:59:32Z","updated_at":"2020-04-20T16:59:32Z","author_association":"CONTRIBUTOR","body":"@vinothchandar no new class, for the existing class -> https://github.com/apache/incubator-hudi/blob/master/LICENSE#L206\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616684125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616684234","html_url":"https://github.com/apache/hudi/issues/1491#issuecomment-616684234","issue_url":"https://api.github.com/repos/apache/hudi/issues/1491","id":616684234,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY4NDIzNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T16:59:43Z","updated_at":"2020-04-20T16:59:43Z","author_association":"MEMBER","body":"@lamber-ken  since this has come up a few times, worth tracking a jira for 0.6 that can help get a better default for this?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616684234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616686836","html_url":"https://github.com/apache/hudi/pull/1526#issuecomment-616686836","issue_url":"https://api.github.com/repos/apache/hudi/issues/1526","id":616686836,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY4NjgzNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T17:04:14Z","updated_at":"2020-04-20T17:04:14Z","author_association":"MEMBER","body":"@vingov does this supercede your work? Or you could add more on top? Trying to understand how’d these two are related.. \r\n\r\nIn any case, do you mind reviewing this since you have this working at uber anyway. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616686836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616687122","html_url":"https://github.com/apache/hudi/pull/1537#issuecomment-616687122","issue_url":"https://api.github.com/repos/apache/hudi/issues/1537","id":616687122,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjY4NzEyMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T17:04:42Z","updated_at":"2020-04-20T17:04:42Z","author_association":"CONTRIBUTOR","body":"LGTM. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616687122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616729550","html_url":"https://github.com/apache/hudi/issues/1491#issuecomment-616729550","issue_url":"https://api.github.com/repos/apache/hudi/issues/1491","id":616729550,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjcyOTU1MA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T18:23:29Z","updated_at":"2020-04-20T18:23:29Z","author_association":"MEMBER","body":"> @lamber-ken since this has come up a few times, worth tracking a jira for 0.6 that can help get a better default for this?\r\n\r\nAgree, https://issues.apache.org/jira/browse/HUDI-818","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616729550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616768714","html_url":"https://github.com/apache/hudi/pull/1526#issuecomment-616768714","issue_url":"https://api.github.com/repos/apache/hudi/issues/1526","id":616768714,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjc2ODcxNA==","user":{"login":"vingov","id":1142498,"node_id":"MDQ6VXNlcjExNDI0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1142498?v=4","gravatar_id":"","url":"https://api.github.com/users/vingov","html_url":"https://github.com/vingov","followers_url":"https://api.github.com/users/vingov/followers","following_url":"https://api.github.com/users/vingov/following{/other_user}","gists_url":"https://api.github.com/users/vingov/gists{/gist_id}","starred_url":"https://api.github.com/users/vingov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vingov/subscriptions","organizations_url":"https://api.github.com/users/vingov/orgs","repos_url":"https://api.github.com/users/vingov/repos","events_url":"https://api.github.com/users/vingov/events{/privacy}","received_events_url":"https://api.github.com/users/vingov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-20T19:43:00Z","updated_at":"2020-04-20T19:43:00Z","author_association":"CONTRIBUTOR","body":"@vinothchandar - This is similar to the blog post draft I have prepared, which explains the usage of the hudi reader/writer with pyspark. I will review the example code.\r\n\r\n@EdwinGuo - If adding a python code tab is difficult with markdown, let's go with a separate page for explaining the python usage.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616768714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616877781","html_url":"https://github.com/apache/hudi/issues/1528#issuecomment-616877781","issue_url":"https://api.github.com/repos/apache/hudi/issues/1528","id":616877781,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjg3Nzc4MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T00:21:25Z","updated_at":"2020-04-21T00:21:25Z","author_association":"MEMBER","body":"@jenu9417 Thanks for taking the time to report this. \r\n\r\na) is weird.. The logs do indicate that tasks got scheduled atleast.. but I think the job died before getting to write any data.. Do you have access to Spark UI? to see how the jobs are doing..\r\n\r\nb) So `.parquet()` does not use hudi at all (I suspect).. It uses the Spark parquet datasource and you can look at official spark docs to understand how you can partition that write (I think `.partitionBy(\"batch\")`). `.save()` will invoke the save method of the datasource you configured using `format(...)`.. Spark docs will do a better job of explaining this than me :) \r\n\r\n>The query was throwing error that there are no such field called _hoodie_commit_time\r\n\r\nparquet and hudi are different things.. Only hudi datasets have this field \r\n\r\nc) `.hoodie` will contain all the metadata\r\n\r\nd) You can find more on compaction here https://cwiki.apache.org/confluence/display/HUDI/Design+And+Architecture#DesignAndArchitecture-Compaction ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616877781/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616904151","html_url":"https://github.com/apache/hudi/pull/1538#issuecomment-616904151","issue_url":"https://api.github.com/repos/apache/hudi/issues/1538","id":616904151,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjkwNDE1MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T01:57:37Z","updated_at":"2020-05-16T11:03:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1538?src=pr&el=h1) Report\n> Merging [#1538](https://codecov.io/gh/apache/incubator-hudi/pull/1538?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/09fd6f64c527e6a822c4e17dc4e61b8fdee28189&el=desc) will **decrease** coverage by `55.62%`.\n> The diff coverage is `8.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1538/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1538?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #1538       +/-   ##\n=============================================\n- Coverage     72.32%   16.69%   -55.63%     \n- Complexity      294      796      +502     \n=============================================\n  Files           374      340       -34     \n  Lines         16366    15025     -1341     \n  Branches       1649     1499      -150     \n=============================================\n- Hits          11836     2509     -9327     \n- Misses         3798    12186     +8388     \n+ Partials        732      330      -402     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1538?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../org/apache/hudi/client/CompactionAdminClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0NvbXBhY3Rpb25BZG1pbkNsaWVudC5qYXZh) | `0.00% <ø> (-70.62%)` | `0.00 <0.00> (ø)` | |\n| [.../java/org/apache/hudi/client/HoodieReadClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVJlYWRDbGllbnQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00 <0.00> (ø)` | |\n| [...org/apache/hudi/client/utils/SparkConfigUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L3V0aWxzL1NwYXJrQ29uZmlnVXRpbHMuamF2YQ==) | `8.00% <0.00%> (-77.72%)` | `2.00 <0.00> (+2.00)` | :arrow_down: |\n| [...org/apache/hudi/config/HoodieCompactionConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZUNvbXBhY3Rpb25Db25maWcuamF2YQ==) | `54.90% <ø> (-26.48%)` | `3.00 <0.00> (+3.00)` | :arrow_down: |\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZVdyaXRlQ29uZmlnLmphdmE=) | `43.29% <0.00%> (-41.36%)` | `47.00 <0.00> (+47.00)` | :arrow_down: |\n| [...g/apache/hudi/execution/BulkInsertMapFunction.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhlY3V0aW9uL0J1bGtJbnNlcnRNYXBGdW5jdGlvbi5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00 <0.00> (ø)` | |\n| [...c/main/java/org/apache/hudi/index/HoodieIndex.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvSG9vZGllSW5kZXguamF2YQ==) | `41.17% <ø> (-47.06%)` | `3.00 <0.00> (+3.00)` | :arrow_down: |\n| [...pache/hudi/index/bloom/HoodieGlobalBloomIndex.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvYmxvb20vSG9vZGllR2xvYmFsQmxvb21JbmRleC5qYXZh) | `0.00% <0.00%> (-91.67%)` | `0.00 <0.00> (ø)` | |\n| [...n/java/org/apache/hudi/index/hbase/HBaseIndex.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvaGJhc2UvSEJhc2VJbmRleC5qYXZh) | `0.00% <0.00%> (-83.26%)` | `0.00 <0.00> (ø)` | |\n| [...n/java/org/apache/hudi/io/AppendHandleFactory.java](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vQXBwZW5kSGFuZGxlRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| ... and [392 more](https://codecov.io/gh/apache/incubator-hudi/pull/1538/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1538?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1538?src=pr&el=footer). Last update [09fd6f6...00f6ef8](https://codecov.io/gh/apache/incubator-hudi/pull/1538?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616904151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616917937","html_url":"https://github.com/apache/hudi/pull/765#issuecomment-616917937","issue_url":"https://api.github.com/repos/apache/hudi/issues/765","id":616917937,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjkxNzkzNw==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T02:45:00Z","updated_at":"2020-04-21T02:45:00Z","author_association":"CONTRIBUTOR","body":"@haiminh87 Still working on this? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616917937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616938485","html_url":"https://github.com/apache/hudi/pull/1541#issuecomment-616938485","issue_url":"https://api.github.com/repos/apache/hudi/issues/1541","id":616938485,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjkzODQ4NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T04:04:29Z","updated_at":"2020-04-21T04:04:29Z","author_association":"CONTRIBUTOR","body":"Hi @afilipchik thanks for your contribution. The correct prefix is \"MINOR\". IMHO, the change of this PR should be filed in JIRA.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616938485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616939586","html_url":"https://github.com/apache/hudi/pull/1543#issuecomment-616939586","issue_url":"https://api.github.com/repos/apache/hudi/issues/1543","id":616939586,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjkzOTU4Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T04:08:48Z","updated_at":"2020-04-21T04:09:20Z","author_association":"CONTRIBUTOR","body":"@dengziming : Thanks for your contribution. This is addressing the same issue as https://github.com/apache/incubator-hudi/pull/1525. Do you have any specific comments/concerns with https://github.com/apache/incubator-hudi/pull/1525 . Feel free to review https://github.com/apache/incubator-hudi/pull/1525 too","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616939586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616952742","html_url":"https://github.com/apache/hudi/pull/1544#issuecomment-616952742","issue_url":"https://api.github.com/repos/apache/hudi/issues/1544","id":616952742,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjk1Mjc0Mg==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T04:59:51Z","updated_at":"2020-04-21T04:59:51Z","author_association":"CONTRIBUTOR","body":"@leesf  please help review this patch.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616952742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616968792","html_url":"https://github.com/apache/hudi/issues/1528#issuecomment-616968792","issue_url":"https://api.github.com/repos/apache/hudi/issues/1528","id":616968792,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjk2ODc5Mg==","user":{"login":"jenu9417","id":35403660,"node_id":"MDQ6VXNlcjM1NDAzNjYw","avatar_url":"https://avatars.githubusercontent.com/u/35403660?v=4","gravatar_id":"","url":"https://api.github.com/users/jenu9417","html_url":"https://github.com/jenu9417","followers_url":"https://api.github.com/users/jenu9417/followers","following_url":"https://api.github.com/users/jenu9417/following{/other_user}","gists_url":"https://api.github.com/users/jenu9417/gists{/gist_id}","starred_url":"https://api.github.com/users/jenu9417/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenu9417/subscriptions","organizations_url":"https://api.github.com/users/jenu9417/orgs","repos_url":"https://api.github.com/users/jenu9417/repos","events_url":"https://api.github.com/users/jenu9417/events{/privacy}","received_events_url":"https://api.github.com/users/jenu9417/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T05:55:52Z","updated_at":"2020-04-21T05:55:52Z","author_association":"NONE","body":"@vinothchandar \r\nThanks for replying in detail.\r\nAs you pointed out, premature termination of job seems to be the problem. Since this was a POC and dry run, I was using a timer for closing the job after x seconds, which seems to close the job before write phase is finished.\r\n\r\nBut now, the problem is why is write taking more than 40secs, even for as simple as 10 records, where average record size is less than a KB.\r\n\r\n```\r\n91975 [dispatcher-event-loop-0] INFO  org.apache.spark.scheduler.TaskSetManager  - Starting task 625.0 in stage 19.0 (TID 11130, localhost, executor driver, partition 625, PROCESS_LOCAL, 7193 bytes)\r\n91975 [Executor task launch worker for task 11130] INFO  org.apache.spark.executor.Executor  - Running task 625.0 in stage 19.0 (TID 11130)\r\n91975 [task-result-getter-0] INFO  org.apache.spark.scheduler.TaskSetManager  - Finished task 624.0 in stage 19.0 (TID 11129) in 16 ms on localhost (executor driver) (624/1500)\r\n```\r\nFrom the logs, above set of lines were continuously repeating for multiple times.\r\nThe stage number was increasing and the same 1500 tasks were run again and again. I presume, these 1500 are partitions in rdd? If so, is it possible/advisable to reduce the number of partitions in the RDD.\r\n\r\nAnd what all would be the general suggestions to speed up write here.\r\n\r\nHappy to provide any other supporting data, if needed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616968792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616990309","html_url":"https://github.com/apache/hudi/pull/1543#issuecomment-616990309","issue_url":"https://api.github.com/repos/apache/hudi/issues/1543","id":616990309,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjk5MDMwOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T06:54:08Z","updated_at":"2020-04-21T06:54:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1543?src=pr&el=h1) Report\n> Merging [#1543](https://codecov.io/gh/apache/incubator-hudi/pull/1543?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/ddd105bb3119174b613c6917ee25795f2939f430&el=desc) will **decrease** coverage by `0.69%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1543/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1543?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1543      +/-   ##\n============================================\n- Coverage     72.35%   71.66%   -0.70%     \n  Complexity      294      294              \n============================================\n  Files           374      378       +4     \n  Lines         16377    16535     +158     \n  Branches       1650     1672      +22     \n============================================\n  Hits          11849    11849              \n- Misses         3797     3954     +157     \n- Partials        731      732       +1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1543?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...i/common/table/timeline/HoodieDefaultTimeline.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZURlZmF1bHRUaW1lbGluZS5qYXZh) | `92.30% <ø> (-0.12%)` | `0.00 <0.00> (ø)` | |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `78.13% <ø> (ø)` | `11.00 <0.00> (ø)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <ø> (ø)` | `18.00 <0.00> (ø)` | |\n| [...di/hadoop/realtime/HoodieRealtimeRecordReader.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0hvb2RpZVJlYWx0aW1lUmVjb3JkUmVhZGVyLmphdmE=) | `70.00% <0.00%> (-14.22%)` | `0.00% <0.00%> (ø%)` | |\n| [...hudi/hadoop/hive/HoodieCombineHiveInputFormat.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL2hpdmUvSG9vZGllQ29tYmluZUhpdmVJbnB1dEZvcm1hdC5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [.../hadoop/realtime/RealtimeUnmergedRecordReader.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL1JlYWx0aW1lVW5tZXJnZWRSZWNvcmRSZWFkZXIuamF2YQ==) | `96.96% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...apache/hudi/common/util/collection/ArrayUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9BcnJheVV0aWxzLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...di/hadoop/hive/HoodieCombineRealtimeFileSplit.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL2hpdmUvSG9vZGllQ29tYmluZVJlYWx0aW1lRmlsZVNwbGl0LmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...op/realtime/HoodieCombineRealtimeRecordReader.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0hvb2RpZUNvbWJpbmVSZWFsdGltZVJlY29yZFJlYWRlci5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...di/hadoop/hive/HoodieCombineRealtimeHiveSplit.java](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL2hpdmUvSG9vZGllQ29tYmluZVJlYWx0aW1lSGl2ZVNwbGl0LmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| ... and [1 more](https://codecov.io/gh/apache/incubator-hudi/pull/1543/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1543?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1543?src=pr&el=footer). Last update [2a2f31d...1a6841f](https://codecov.io/gh/apache/incubator-hudi/pull/1543?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/616990309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617028414","html_url":"https://github.com/apache/hudi/issues/1528#issuecomment-617028414","issue_url":"https://api.github.com/repos/apache/hudi/issues/1528","id":617028414,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzAyODQxNA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T08:16:47Z","updated_at":"2020-04-21T08:16:47Z","author_association":"MEMBER","body":"hi @jenu9417, default parallelism is `1500`, you can adjust according to the actual situation.\r\n```\r\n// parallelisms\r\n\"hoodie.insert.shuffle.parallelism\" -> \"10\",\r\n\"hoodie.upsert.shuffle.parallelism\" -> \"10\",\r\n\"hoodie.delete.shuffle.parallelism\" -> \"10\",\r\n\"hoodie.bulkinsert.shuffle.parallelism\" -> \"10\"\r\n\r\n\r\n// demo\r\nexport SPARK_HOME=/work/BigData/install/spark/spark-2.4.4-bin-hadoop2.7\r\n${SPARK_HOME}/bin/spark-shell \\\r\n    --driver-memory 6G \\\r\n    --packages org.apache.hudi:hudi-spark-bundle_2.11:0.5.1-incubating,org.apache.spark:spark-avro_2.11:2.4.4 \\\r\n    --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'\r\n\r\nval tableName = \"hudi_mor_table\"\r\nval basePath = \"file:///tmp/hudi_mor_tablen\"\r\n\r\nval hudiOptions = Map[String,String](\r\n  \"hoodie.insert.shuffle.parallelism\" -> \"10\",\r\n  \"hoodie.upsert.shuffle.parallelism\" -> \"10\",\r\n  \"hoodie.delete.shuffle.parallelism\" -> \"10\",\r\n  \"hoodie.bulkinsert.shuffle.parallelism\" -> \"10\",\r\n  \"hoodie.datasource.write.recordkey.field\" -> \"key\",\r\n  \"hoodie.datasource.write.partitionpath.field\" -> \"dt\", \r\n  \"hoodie.table.name\" -> tableName,\r\n  \"hoodie.datasource.write.precombine.field\" -> \"timestamp\",\r\n  \"hoodie.table.base.file.format\" -> \"PARQUET\"\r\n)\r\n\r\nval inputDF = spark.range(1, 5).\r\n   withColumn(\"key\", $\"id\").\r\n   withColumn(\"data\", lit(\"data\")).\r\n   withColumn(\"timestamp\", current_timestamp()).\r\n   withColumn(\"dt\", date_format($\"timestamp\", \"yyyy-MM-dd\"))\r\n\r\ninputDF.write.format(\"org.apache.hudi\").\r\n  options(hudiOptions).\r\n  mode(\"Overwrite\").\r\n  save(basePath)\r\n\r\nspark.read.format(\"org.apache.hudi\").load(basePath + \"/*/*\").show();\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617028414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617055212","html_url":"https://github.com/apache/hudi/pull/1512#issuecomment-617055212","issue_url":"https://api.github.com/repos/apache/hudi/issues/1512","id":617055212,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzA1NTIxMg==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T09:09:15Z","updated_at":"2020-04-21T09:10:44Z","author_association":"MEMBER","body":"@vinothchandar, all review comments are addressed and fixed, thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617055212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617120267","html_url":"https://github.com/apache/hudi/pull/1536#issuecomment-617120267","issue_url":"https://api.github.com/repos/apache/hudi/issues/1536","id":617120267,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzEyMDI2Nw==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T11:28:25Z","updated_at":"2020-04-21T11:28:25Z","author_association":"CONTRIBUTOR","body":"Added some UnitTests @vinothchandar @lamber-ken ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617120267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617160405","html_url":"https://github.com/apache/hudi/pull/1526#issuecomment-617160405","issue_url":"https://api.github.com/repos/apache/hudi/issues/1526","id":617160405,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzE2MDQwNQ==","user":{"login":"EdwinGuo","id":8300535,"node_id":"MDQ6VXNlcjgzMDA1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/8300535?v=4","gravatar_id":"","url":"https://api.github.com/users/EdwinGuo","html_url":"https://github.com/EdwinGuo","followers_url":"https://api.github.com/users/EdwinGuo/followers","following_url":"https://api.github.com/users/EdwinGuo/following{/other_user}","gists_url":"https://api.github.com/users/EdwinGuo/gists{/gist_id}","starred_url":"https://api.github.com/users/EdwinGuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdwinGuo/subscriptions","organizations_url":"https://api.github.com/users/EdwinGuo/orgs","repos_url":"https://api.github.com/users/EdwinGuo/repos","events_url":"https://api.github.com/users/EdwinGuo/events{/privacy}","received_events_url":"https://api.github.com/users/EdwinGuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T12:53:32Z","updated_at":"2020-04-21T12:53:32Z","author_association":"CONTRIBUTOR","body":"@vingov  I had copied the https://github.com/apache/spark/blob/15462e1a8fa8da54ac51f4d21f567f3c288e6701/docs/js/main.js and reference the js lib like: https://raw.githubusercontent.com/apache/spark/46be1e01e977788f00f1f5aa8d64bc5f191bc578/docs/sql-getting-started.md but I got no luck. Maybe re-orgnize the page with spark-shell code snippet on the top of the quick start guide and pyspark on the bottom of the page?  @lamber-ken  what do you think?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617160405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617163716","html_url":"https://github.com/apache/hudi/issues/1491#issuecomment-617163716","issue_url":"https://api.github.com/repos/apache/hudi/issues/1491","id":617163716,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzE2MzcxNg==","user":{"login":"tverdokhlebd","id":10245067,"node_id":"MDQ6VXNlcjEwMjQ1MDY3","avatar_url":"https://avatars.githubusercontent.com/u/10245067?v=4","gravatar_id":"","url":"https://api.github.com/users/tverdokhlebd","html_url":"https://github.com/tverdokhlebd","followers_url":"https://api.github.com/users/tverdokhlebd/followers","following_url":"https://api.github.com/users/tverdokhlebd/following{/other_user}","gists_url":"https://api.github.com/users/tverdokhlebd/gists{/gist_id}","starred_url":"https://api.github.com/users/tverdokhlebd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tverdokhlebd/subscriptions","organizations_url":"https://api.github.com/users/tverdokhlebd/orgs","repos_url":"https://api.github.com/users/tverdokhlebd/repos","events_url":"https://api.github.com/users/tverdokhlebd/events{/privacy}","received_events_url":"https://api.github.com/users/tverdokhlebd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T12:59:58Z","updated_at":"2020-04-21T13:03:13Z","author_association":"NONE","body":"@lamber-ken, I have tested on 4GB driver memory (local[12]) file \"2.csv\" (5M records):\r\n\r\n1. bulk_insert with *.parallelism 80 and without \"hoodie.memory.merge.max.size\"  - no errors\r\n2. upsert with *.parallelism 80 and without \"hoodie.memory.merge.max.size\" - no errors\r\n3. upsert with *.parallelism 75 and without \"hoodie.memory.merge.max.size\" - java heap/gc overhead limit errors\r\n4. upsert with *.parallelism 75 and with \"hoodie.memory.merge.max.size\" - no errors\r\n5. upsert with *.parallelism 75 and with \"hoodie.memory.merge.max.size\" - issue communicating with driver in heartbeater error\r\n\r\nSo, the parameter \"hoodie.memory.merge.max.size\" does not guarantee that process will go without errors.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617163716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617371930","html_url":"https://github.com/apache/hudi/pull/1484#issuecomment-617371930","issue_url":"https://api.github.com/repos/apache/hudi/issues/1484","id":617371930,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzM3MTkzMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T19:38:24Z","updated_at":"2020-04-21T19:38:24Z","author_association":"CONTRIBUTOR","body":"@v3nkatesh any updates on this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617371930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617372061","html_url":"https://github.com/apache/hudi/issues/1539#issuecomment-617372061","issue_url":"https://api.github.com/repos/apache/hudi/issues/1539","id":617372061,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzM3MjA2MQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T19:38:38Z","updated_at":"2020-04-21T19:38:38Z","author_association":"CONTRIBUTOR","body":"@tooptoop4 Thanks for pointing this. Its a typo. Please use  ```org.apache.hudi.hadoop.HoodieParquetInputFormat```. We will go ahead and fix the page. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617372061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617372534","html_url":"https://github.com/apache/hudi/issues/1539#issuecomment-617372534","issue_url":"https://api.github.com/repos/apache/hudi/issues/1539","id":617372534,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzM3MjUzNA==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T19:39:28Z","updated_at":"2020-04-21T19:39:28Z","author_association":"CONTRIBUTOR","body":"https://cwiki.apache.org/confluence/display/HUDI/Migration+Guide+From+com.uber.hoodie+to+org.apache.hudi is fixed now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617372534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617372917","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-617372917","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":617372917,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzM3MjkxNw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T19:40:09Z","updated_at":"2020-04-21T19:40:31Z","author_association":"CONTRIBUTOR","body":"LGTM, thanks @liujianhuiouc for the contribution and persistence on this issue. Can you please merge your 5 commits into 1 and I'll merge the diff ? :) @vinothchandar yes, this does not change existing functionality but just add more information, as @bvaradar pointed out, can be used to optimize rollback code","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617372917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617373494","html_url":"https://github.com/apache/hudi/pull/1476#issuecomment-617373494","issue_url":"https://api.github.com/repos/apache/hudi/issues/1476","id":617373494,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzM3MzQ5NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T19:41:13Z","updated_at":"2020-04-21T19:41:13Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617373494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617422244","html_url":"https://github.com/apache/hudi/pull/1530#issuecomment-617422244","issue_url":"https://api.github.com/repos/apache/hudi/issues/1530","id":617422244,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzQyMjI0NA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T21:24:40Z","updated_at":"2020-04-21T21:24:40Z","author_association":"MEMBER","body":"@yanghua Please kindly check the last 2 commits for the latest changes.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617422244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617474888","html_url":"https://github.com/apache/hudi/pull/1524#issuecomment-617474888","issue_url":"https://api.github.com/repos/apache/hudi/issues/1524","id":617474888,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzQ3NDg4OA==","user":{"login":"afilipchik","id":1406795,"node_id":"MDQ6VXNlcjE0MDY3OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1406795?v=4","gravatar_id":"","url":"https://api.github.com/users/afilipchik","html_url":"https://github.com/afilipchik","followers_url":"https://api.github.com/users/afilipchik/followers","following_url":"https://api.github.com/users/afilipchik/following{/other_user}","gists_url":"https://api.github.com/users/afilipchik/gists{/gist_id}","starred_url":"https://api.github.com/users/afilipchik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afilipchik/subscriptions","organizations_url":"https://api.github.com/users/afilipchik/orgs","repos_url":"https://api.github.com/users/afilipchik/repos","events_url":"https://api.github.com/users/afilipchik/events{/privacy}","received_events_url":"https://api.github.com/users/afilipchik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T00:12:36Z","updated_at":"2020-04-22T00:12:36Z","author_association":"CONTRIBUTOR","body":"Wow, rebased on top of master and now it is million changes :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617474888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617481634","html_url":"https://github.com/apache/hudi/pull/1515#issuecomment-617481634","issue_url":"https://api.github.com/repos/apache/hudi/issues/1515","id":617481634,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzQ4MTYzNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T00:38:36Z","updated_at":"2020-04-22T00:38:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1515?src=pr&el=h1) Report\n> Merging [#1515](https://codecov.io/gh/apache/incubator-hudi/pull/1515?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/644c1cc8bd1965271c4433edccb17aa8fda5f403&el=desc) will **decrease** coverage by `0.55%`.\n> The diff coverage is `66.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1515/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1515?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1515      +/-   ##\n============================================\n- Coverage     72.17%   71.62%   -0.56%     \n- Complexity      289      294       +5     \n============================================\n  Files           372      378       +6     \n  Lines         16267    16552     +285     \n  Branches       1637     1672      +35     \n============================================\n+ Hits          11741    11855     +114     \n- Misses         3791     3965     +174     \n+ Partials        735      732       -3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1515?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../org/apache/hudi/table/HoodieCommitArchiveLog.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllQ29tbWl0QXJjaGl2ZUxvZy5qYXZh) | `76.43% <66.66%> (-1.06%)` | `0.00 <0.00> (ø)` | |\n| [...di/hadoop/realtime/HoodieRealtimeRecordReader.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0hvb2RpZVJlYWx0aW1lUmVjb3JkUmVhZGVyLmphdmE=) | `70.00% <0.00%> (-14.22%)` | `0.00% <0.00%> (ø%)` | |\n| [...ain/java/org/apache/hudi/avro/HoodieAvroUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXZyby9Ib29kaWVBdnJvVXRpbHMuamF2YQ==) | `84.82% <0.00%> (-7.18%)` | `0.00% <0.00%> (ø%)` | |\n| [...lities/checkpointing/KafkaConnectHdfsProvider.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2NoZWNrcG9pbnRpbmcvS2Fma2FDb25uZWN0SGRmc1Byb3ZpZGVyLmphdmE=) | `89.28% <0.00%> (-3.03%)` | `14.00% <0.00%> (+2.00%)` | :arrow_down: |\n| [...i/common/table/timeline/TimelineMetadataUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL1RpbWVsaW5lTWV0YWRhdGFVdGlscy5qYXZh) | `93.02% <0.00%> (-2.22%)` | `0.00% <0.00%> (ø%)` | |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `78.13% <0.00%> (-1.01%)` | `11.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `64.70% <0.00%> (-0.71%)` | `22.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...ain/java/org/apache/hudi/io/HoodieWriteHandle.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vSG9vZGllV3JpdGVIYW5kbGUuamF2YQ==) | `74.46% <0.00%> (-0.54%)` | `0.00% <0.00%> (ø%)` | |\n| [...i/common/table/timeline/HoodieDefaultTimeline.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZURlZmF1bHRUaW1lbGluZS5qYXZh) | `92.30% <0.00%> (-0.12%)` | `0.00% <0.00%> (ø%)` | |\n| [...in/java/org/apache/hudi/io/HoodieAppendHandle.java](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vSG9vZGllQXBwZW5kSGFuZGxlLmphdmE=) | `84.17% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| ... and [26 more](https://codecov.io/gh/apache/incubator-hudi/pull/1515/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1515?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1515?src=pr&el=footer). Last update [644c1cc...7500d06](https://codecov.io/gh/apache/incubator-hudi/pull/1515?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617481634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617524571","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-617524571","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":617524571,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzUyNDU3MQ==","user":{"login":"liujianhuiouc","id":13215934,"node_id":"MDQ6VXNlcjEzMjE1OTM0","avatar_url":"https://avatars.githubusercontent.com/u/13215934?v=4","gravatar_id":"","url":"https://api.github.com/users/liujianhuiouc","html_url":"https://github.com/liujianhuiouc","followers_url":"https://api.github.com/users/liujianhuiouc/followers","following_url":"https://api.github.com/users/liujianhuiouc/following{/other_user}","gists_url":"https://api.github.com/users/liujianhuiouc/gists{/gist_id}","starred_url":"https://api.github.com/users/liujianhuiouc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujianhuiouc/subscriptions","organizations_url":"https://api.github.com/users/liujianhuiouc/orgs","repos_url":"https://api.github.com/users/liujianhuiouc/repos","events_url":"https://api.github.com/users/liujianhuiouc/events{/privacy}","received_events_url":"https://api.github.com/users/liujianhuiouc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T03:18:36Z","updated_at":"2020-04-22T03:18:36Z","author_association":"NONE","body":"squash the commits @n3nash ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617524571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617540306","html_url":"https://github.com/apache/hudi/pull/1514#issuecomment-617540306","issue_url":"https://api.github.com/repos/apache/hudi/issues/1514","id":617540306,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzU0MDMwNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T04:21:43Z","updated_at":"2020-04-22T04:21:43Z","author_association":"MEMBER","body":"cc @umehrot2  can you please help review this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617540306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617549092","html_url":"https://github.com/apache/hudi/pull/1543#issuecomment-617549092","issue_url":"https://api.github.com/repos/apache/hudi/issues/1543","id":617549092,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzU0OTA5Mg==","user":{"login":"dengziming","id":26023240,"node_id":"MDQ6VXNlcjI2MDIzMjQw","avatar_url":"https://avatars.githubusercontent.com/u/26023240?v=4","gravatar_id":"","url":"https://api.github.com/users/dengziming","html_url":"https://github.com/dengziming","followers_url":"https://api.github.com/users/dengziming/followers","following_url":"https://api.github.com/users/dengziming/following{/other_user}","gists_url":"https://api.github.com/users/dengziming/gists{/gist_id}","starred_url":"https://api.github.com/users/dengziming/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dengziming/subscriptions","organizations_url":"https://api.github.com/users/dengziming/orgs","repos_url":"https://api.github.com/users/dengziming/repos","events_url":"https://api.github.com/users/dengziming/events{/privacy}","received_events_url":"https://api.github.com/users/dengziming/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T04:54:19Z","updated_at":"2020-04-22T04:54:19Z","author_association":"MEMBER","body":"@bvaradar Thank you for your comment, this is a redundant work and I will close it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617549092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617556695","html_url":"https://github.com/apache/hudi/pull/1536#issuecomment-617556695","issue_url":"https://api.github.com/repos/apache/hudi/issues/1536","id":617556695,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzU1NjY5NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T05:20:01Z","updated_at":"2020-04-22T05:20:01Z","author_association":"MEMBER","body":"@lamber-ken I will let you and @leesf coordinate and take this to finish line","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617556695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617566396","html_url":"https://github.com/apache/hudi/pull/1538#issuecomment-617566396","issue_url":"https://api.github.com/repos/apache/hudi/issues/1538","id":617566396,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzU2NjM5Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T05:53:02Z","updated_at":"2020-04-22T05:53:02Z","author_association":"MEMBER","body":"@pratyakshsharma Got it.. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617566396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617567072","html_url":"https://github.com/apache/hudi/pull/1536#issuecomment-617567072","issue_url":"https://api.github.com/repos/apache/hudi/issues/1536","id":617567072,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzU2NzA3Mg==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T05:55:06Z","updated_at":"2020-04-22T05:55:06Z","author_association":"MEMBER","body":"> @lamber-ken I will let you and @leesf coordinate and take this to finish line\r\n\r\nOK, @leesf thanks, will merge after CI passes","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617567072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617574467","html_url":"https://github.com/apache/hudi/pull/765#issuecomment-617574467","issue_url":"https://api.github.com/repos/apache/hudi/issues/765","id":617574467,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzU3NDQ2Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T06:17:35Z","updated_at":"2020-04-22T06:17:35Z","author_association":"MEMBER","body":"@pratyakshsharma Nope.. all yours if you want to take a run at it","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617574467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617575183","html_url":"https://github.com/apache/hudi/issues/1528#issuecomment-617575183","issue_url":"https://api.github.com/repos/apache/hudi/issues/1528","id":617575183,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzU3NTE4Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T06:19:40Z","updated_at":"2020-04-22T06:19:40Z","author_association":"MEMBER","body":"+1 defaults are for a large production setup.. if you want to play around, I suggest following the quickstart will sets these configs up for smaller scale and avoids these overheads","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617575183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617580627","html_url":"https://github.com/apache/hudi/pull/1530#issuecomment-617580627","issue_url":"https://api.github.com/repos/apache/hudi/issues/1530","id":617580627,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzU4MDYyNw==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T06:35:20Z","updated_at":"2020-04-22T06:35:20Z","author_association":"MEMBER","body":"@yanghua noted. Will revert the styles back in the next migration PR. thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617580627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617606373","html_url":"https://github.com/apache/hudi/pull/1542#issuecomment-617606373","issue_url":"https://api.github.com/repos/apache/hudi/issues/1542","id":617606373,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzYwNjM3Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T07:36:05Z","updated_at":"2020-04-22T07:36:05Z","author_association":"MEMBER","body":"Randomly saw this in test logs..\r\n\r\n```\r\n298541 [main] WARN  org.apache.hudi.common.HoodieClientTestHarness  - Closing file-system instance used in previous test-run\r\n298630 [main] WARN  org.apache.hudi.table.action.clean.CleanActionExecutor  - Failed to perform previous clean operation, instant: [==>000000023__clean__INFLIGHT]\r\norg.apache.hudi.exception.HoodieIOException: Not an Avro data file\r\n\tat org.apache.hudi.table.action.clean.CleanActionExecutor.runPendingClean(CleanActionExecutor.java:212)\r\n\tat org.apache.hudi.table.action.clean.CleanActionExecutor.lambda$execute$5(CleanActionExecutor.java:261)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.apache.hudi.table.action.clean.CleanActionExecutor.execute(CleanActionExecutor.java:258)\r\n\tat org.apache.hudi.table.HoodieCopyOnWriteTable.clean(HoodieCopyOnWriteTable.java:197)\r\n\tat org.apache.hudi.client.HoodieWriteClient.clean(HoodieWriteClient.java:630)\r\n\tat org.apache.hudi.table.TestCleaner.runCleaner(TestCleaner.java:425)\r\n\tat org.apache.hudi.table.TestCleaner.runCleaner(TestCleaner.java:414)\r\n\tat org.apache.hudi.table.TestCleaner.testCleanPreviousCorruptedCleanFiles(TestCleaner.java:1000)\r\n```\r\n\r\n(May be totally a false alarm, but just saying we should understand if all these are expected)..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617606373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617608459","html_url":"https://github.com/apache/hudi/pull/1542#issuecomment-617608459","issue_url":"https://api.github.com/repos/apache/hudi/issues/1542","id":617608459,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzYwODQ1OQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T07:40:35Z","updated_at":"2020-04-22T07:40:35Z","author_association":"MEMBER","body":"> Randomly saw this in test logs..\r\n> \r\n> ```\r\n> 298541 [main] WARN  org.apache.hudi.common.HoodieClientTestHarness  - Closing file-system instance used in previous test-run\r\n> 298630 [main] WARN  org.apache.hudi.table.action.clean.CleanActionExecutor  - Failed to perform previous clean operation, instant: [==>000000023__clean__INFLIGHT]\r\n> org.apache.hudi.exception.HoodieIOException: Not an Avro data file\r\n> \tat org.apache.hudi.table.action.clean.CleanActionExecutor.runPendingClean(CleanActionExecutor.java:212)\r\n> \tat org.apache.hudi.table.action.clean.CleanActionExecutor.lambda$execute$5(CleanActionExecutor.java:261)\r\n> \tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n> \tat org.apache.hudi.table.action.clean.CleanActionExecutor.execute(CleanActionExecutor.java:258)\r\n> \tat org.apache.hudi.table.HoodieCopyOnWriteTable.clean(HoodieCopyOnWriteTable.java:197)\r\n> \tat org.apache.hudi.client.HoodieWriteClient.clean(HoodieWriteClient.java:630)\r\n> \tat org.apache.hudi.table.TestCleaner.runCleaner(TestCleaner.java:425)\r\n> \tat org.apache.hudi.table.TestCleaner.runCleaner(TestCleaner.java:414)\r\n> \tat org.apache.hudi.table.TestCleaner.testCleanPreviousCorruptedCleanFiles(TestCleaner.java:1000)\r\n> ```\r\n> \r\n> (May be totally a false alarm, but just saying we should understand if all these are expected)..\r\n\r\nThese are expected, in `TestCleaner#testCleanPreviousCorruptedCleanFiles` test case, create a corrupted clean files first, then run cleaner.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617608459/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617644020","html_url":"https://github.com/apache/hudi/pull/1548#issuecomment-617644020","issue_url":"https://api.github.com/repos/apache/hudi/issues/1548","id":617644020,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzY0NDAyMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T08:49:48Z","updated_at":"2020-04-22T08:49:48Z","author_association":"MEMBER","body":"@bvaradar @n3nash please read through the compaction flow once.\r\n\r\nI intend to clean up more by moving all the code we have for completing compaction, commit/deltacommit into their own utils classes closer to the action itself.. I did not do it now, to make the review easier on the eyes.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617644020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617669268","html_url":"https://github.com/apache/hudi/issues/1550#issuecomment-617669268","issue_url":"https://api.github.com/repos/apache/hudi/issues/1550","id":617669268,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzY2OTI2OA==","user":{"login":"badion","id":4816615,"node_id":"MDQ6VXNlcjQ4MTY2MTU=","avatar_url":"https://avatars.githubusercontent.com/u/4816615?v=4","gravatar_id":"","url":"https://api.github.com/users/badion","html_url":"https://github.com/badion","followers_url":"https://api.github.com/users/badion/followers","following_url":"https://api.github.com/users/badion/following{/other_user}","gists_url":"https://api.github.com/users/badion/gists{/gist_id}","starred_url":"https://api.github.com/users/badion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/badion/subscriptions","organizations_url":"https://api.github.com/users/badion/orgs","repos_url":"https://api.github.com/users/badion/repos","events_url":"https://api.github.com/users/badion/events{/privacy}","received_events_url":"https://api.github.com/users/badion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T09:38:22Z","updated_at":"2020-04-22T09:38:22Z","author_association":"NONE","body":"As a note, Hudi 0.5.2, was packaged from master 1 day ago\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617669268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617692524","html_url":"https://github.com/apache/hudi/issues/1549#issuecomment-617692524","issue_url":"https://api.github.com/repos/apache/hudi/issues/1549","id":617692524,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzY5MjUyNA==","user":{"login":"ninadphatak-amazon","id":38244072,"node_id":"MDQ6VXNlcjM4MjQ0MDcy","avatar_url":"https://avatars.githubusercontent.com/u/38244072?v=4","gravatar_id":"","url":"https://api.github.com/users/ninadphatak-amazon","html_url":"https://github.com/ninadphatak-amazon","followers_url":"https://api.github.com/users/ninadphatak-amazon/followers","following_url":"https://api.github.com/users/ninadphatak-amazon/following{/other_user}","gists_url":"https://api.github.com/users/ninadphatak-amazon/gists{/gist_id}","starred_url":"https://api.github.com/users/ninadphatak-amazon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ninadphatak-amazon/subscriptions","organizations_url":"https://api.github.com/users/ninadphatak-amazon/orgs","repos_url":"https://api.github.com/users/ninadphatak-amazon/repos","events_url":"https://api.github.com/users/ninadphatak-amazon/events{/privacy}","received_events_url":"https://api.github.com/users/ninadphatak-amazon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T10:27:32Z","updated_at":"2020-04-22T10:27:32Z","author_association":"NONE","body":"And this is on 0.5.2","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617692524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617735742","html_url":"https://github.com/apache/hudi/pull/765#issuecomment-617735742","issue_url":"https://api.github.com/repos/apache/hudi/issues/765","id":617735742,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzczNTc0Mg==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T12:02:01Z","updated_at":"2020-04-22T12:02:01Z","author_association":"CONTRIBUTOR","body":"> @pratyakshsharma Nope.. all yours if you want to take a run at it\r\n\r\nSure, will be working on it next then :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617735742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617737506","html_url":"https://github.com/apache/hudi/pull/1433#issuecomment-617737506","issue_url":"https://api.github.com/repos/apache/hudi/issues/1433","id":617737506,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzczNzUwNg==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T12:05:21Z","updated_at":"2020-04-22T12:05:21Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Let us close this? :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617737506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617739210","html_url":"https://github.com/apache/hudi/pull/1515#issuecomment-617739210","issue_url":"https://api.github.com/repos/apache/hudi/issues/1515","id":617739210,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzczOTIxMA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T12:08:33Z","updated_at":"2020-04-22T12:08:33Z","author_association":"CONTRIBUTOR","body":"LGTM.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617739210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617743201","html_url":"https://github.com/apache/hudi/pull/1538#issuecomment-617743201","issue_url":"https://api.github.com/repos/apache/hudi/issues/1538","id":617743201,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzc0MzIwMQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T12:15:58Z","updated_at":"2020-04-22T12:15:58Z","author_association":"CONTRIBUTOR","body":"> I need to wrap my head around some of this myself.. So please give me sometime to review..\r\n\r\nSure. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617743201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617744298","html_url":"https://github.com/apache/hudi/pull/1551#issuecomment-617744298","issue_url":"https://api.github.com/repos/apache/hudi/issues/1551","id":617744298,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzc0NDI5OA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T12:18:15Z","updated_at":"2020-04-22T12:18:15Z","author_association":"MEMBER","body":"LGTM, let's wait @leesf make a final pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617744298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617745980","html_url":"https://github.com/apache/hudi/pull/1547#issuecomment-617745980","issue_url":"https://api.github.com/repos/apache/hudi/issues/1547","id":617745980,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzc0NTk4MA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T12:22:05Z","updated_at":"2020-04-22T12:22:05Z","author_association":"CONTRIBUTOR","body":"LGTM. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617745980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617887802","html_url":"https://github.com/apache/hudi/pull/1548#issuecomment-617887802","issue_url":"https://api.github.com/repos/apache/hudi/issues/1548","id":617887802,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzg4NzgwMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T16:30:12Z","updated_at":"2020-04-22T16:30:12Z","author_association":"MEMBER","body":"CI does seem to have passed.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617887802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617895350","html_url":"https://github.com/apache/hudi/issues/1552#issuecomment-617895350","issue_url":"https://api.github.com/repos/apache/hudi/issues/1552","id":617895350,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzg5NTM1MA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T16:43:21Z","updated_at":"2020-04-22T16:43:21Z","author_association":"MEMBER","body":"Hi @harshi2506, please share the Spark stage UI, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617895350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617906795","html_url":"https://github.com/apache/hudi/issues/1552#issuecomment-617906795","issue_url":"https://api.github.com/repos/apache/hudi/issues/1552","id":617906795,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzkwNjc5NQ==","user":{"login":"harshi2506","id":64137937,"node_id":"MDQ6VXNlcjY0MTM3OTM3","avatar_url":"https://avatars.githubusercontent.com/u/64137937?v=4","gravatar_id":"","url":"https://api.github.com/users/harshi2506","html_url":"https://github.com/harshi2506","followers_url":"https://api.github.com/users/harshi2506/followers","following_url":"https://api.github.com/users/harshi2506/following{/other_user}","gists_url":"https://api.github.com/users/harshi2506/gists{/gist_id}","starred_url":"https://api.github.com/users/harshi2506/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshi2506/subscriptions","organizations_url":"https://api.github.com/users/harshi2506/orgs","repos_url":"https://api.github.com/users/harshi2506/repos","events_url":"https://api.github.com/users/harshi2506/events{/privacy}","received_events_url":"https://api.github.com/users/harshi2506/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T17:03:32Z","updated_at":"2020-04-22T17:03:32Z","author_association":"NONE","body":"HI @lamber-ken , thanks for the response, attaching the screenshots\r\n<img width=\"1431\" alt=\"Screenshot 2020-04-22 at 10 31 32 PM\" src=\"https://user-images.githubusercontent.com/64137937/80011182-24ed4f80-84e9-11ea-8a44-938a8d352b6f.png\">\r\n<img width=\"1418\" alt=\"Screenshot 2020-04-22 at 10 31 43 PM\" src=\"https://user-images.githubusercontent.com/64137937/80011201-29b20380-84e9-11ea-86af-f526ff2d44d7.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617906795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617965381","html_url":"https://github.com/apache/hudi/issues/1552#issuecomment-617965381","issue_url":"https://api.github.com/repos/apache/hudi/issues/1552","id":617965381,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzk2NTM4MQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T18:52:54Z","updated_at":"2020-04-22T18:52:54Z","author_association":"MEMBER","body":"From the detailed commit metadata and above spark ui, we know\r\n\r\n1. write about 700 million records at first commit.\r\n2. upsert 2633 records and touched 255 partitions.\r\n\r\n**Key point**: small input upsert to large old data file slide, and touched many partitions.\r\n\r\nThis is a different case, so the `hoodie.memory.merge.max.size` option will not work, \r\nSo I think it takes a lot of time to read the old file, WDYT? @vinothchandar \r\n\r\n![image](https://user-images.githubusercontent.com/20113411/80020370-7f97a300-850b-11ea-9489-8e7002e98cda.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617965381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617976874","html_url":"https://github.com/apache/hudi/issues/1552#issuecomment-617976874","issue_url":"https://api.github.com/repos/apache/hudi/issues/1552","id":617976874,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzk3Njg3NA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T19:14:56Z","updated_at":"2020-04-24T21:33:27Z","author_association":"MEMBER","body":"hi @harshi2506, based on the above analysis, please try to increate the upsert parallelism(`hoodie.upsert.shuffle.parallelism`) and spark executor instances, for example\r\n```\r\nexport SPARK_HOME=/work/BigData/install/spark/spark-2.4.4-bin-hadoop2.7\r\n${SPARK_HOME}/bin/spark-shell \\\r\n  --master yarn \\\r\n  --driver-memory 6G \\\r\n  --num-executors 10 \\\r\n  --executor-cores 5 \\\r\n  --packages org.apache.hudi:hudi-spark-bundle:0.5.1-incubating,org.apache.spark:spark-avro_2.11:2.4.4 \\\r\n  --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'\r\n\r\nimport org.apache.spark.sql.functions._\r\n\r\nval tableName = \"hudi_mor_table\"\r\nval basePath = \"file:///tmp/hudi_mor_tablen\"\r\n\r\nval hudiOptions = Map[String,String](\r\n  \"hoodie.upsert.shuffle.parallelism\" -> \"200\",\r\n  \"hoodie.datasource.write.recordkey.field\" -> \"id\",\r\n  \"hoodie.datasource.write.partitionpath.field\" -> \"key\", \r\n  \"hoodie.table.name\" -> tableName,\r\n  \"hoodie.datasource.write.precombine.field\" -> \"timestamp\",\r\n  \"hoodie.memory.merge.max.size\" -> \"2004857600000\"\r\n)\r\n\r\nval inputDF = spark.range(1, 300).\r\n   withColumn(\"key\", $\"id\").\r\n   withColumn(\"data\", lit(\"data\")).\r\n   withColumn(\"timestamp\", current_timestamp()).\r\n   withColumn(\"dt\", date_format($\"timestamp\", \"yyyy-MM-dd\"))\r\n\r\ninputDF.write.format(\"org.apache.hudi\").\r\n  options(hudiOptions).\r\n  mode(\"Append\").\r\n  save(basePath)\r\n\r\nspark.read.format(\"org.apache.hudi\").load(basePath + \"/*/*\").show();\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/617976874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618015542","html_url":"https://github.com/apache/hudi/pull/1289#issuecomment-618015542","issue_url":"https://api.github.com/repos/apache/hudi/issues/1289","id":618015542,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODAxNTU0Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T20:15:30Z","updated_at":"2020-04-22T20:15:30Z","author_association":"MEMBER","body":"@prashantwason this will be a good candidate to fast track into the next release. are you still working on this? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618015542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618015872","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-618015872","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":618015872,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODAxNTg3Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T20:16:15Z","updated_at":"2020-04-22T20:16:15Z","author_association":"MEMBER","body":"@nsivabalan any ETAs on when this will be open for a full final review? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618015872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618017951","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-618017951","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":618017951,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODAxNzk1MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T20:20:16Z","updated_at":"2020-04-22T20:20:16Z","author_association":"MEMBER","body":"@lamber-ken we are hoping to get this into the next release as well . any etas on final review? :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618017951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618024238","html_url":"https://github.com/apache/hudi/issues/1552#issuecomment-618024238","issue_url":"https://api.github.com/repos/apache/hudi/issues/1552","id":618024238,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODAyNDIzOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T20:33:00Z","updated_at":"2020-04-22T20:33:00Z","author_association":"MEMBER","body":"@harshi2506 the pause is weird.. As you can see the wall clock time itself is small.. i.e if you subtract the time lost pausing.. \r\n\r\nIs this reproducible? i.e happens every time? What version of hudi are you running?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618024238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618028676","html_url":"https://github.com/apache/hudi/issues/1550#issuecomment-618028676","issue_url":"https://api.github.com/repos/apache/hudi/issues/1550","id":618028676,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODAyODY3Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T20:42:00Z","updated_at":"2020-04-22T20:42:00Z","author_association":"MEMBER","body":"@badion This does seem directly related to the complex types issue fixed recently.. 0.5.1-2 we moved out of databricks-avro and to spark-avro and this seems like a miss. \r\n\r\nAre you interested in a custom patch for this on top of 0.5.2? Not sure I follow the last sentence.. Please clarify, happy to get this moving along for you.. \r\n\r\ncc @umehrot2 @zhedoubushishi as well to chime in \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618028676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618031058","html_url":"https://github.com/apache/hudi/pull/1433#issuecomment-618031058","issue_url":"https://api.github.com/repos/apache/hudi/issues/1433","id":618031058,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODAzMTA1OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T20:47:04Z","updated_at":"2020-04-22T20:47:04Z","author_association":"MEMBER","body":"@pratyakshsharma sorry .. fell off my radar since I was not an assignee.. I do have some concerns.. Review coming by your day time :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618031058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618035688","html_url":"https://github.com/apache/hudi/issues/1546#issuecomment-618035688","issue_url":"https://api.github.com/repos/apache/hudi/issues/1546","id":618035688,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODAzNTY4OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T20:55:34Z","updated_at":"2020-04-22T20:55:34Z","author_association":"MEMBER","body":"Hmmm fairly certain this is a packaging issue and some kind of class mismatch between hudi's hive and spark's hive? \r\n\r\nOur docker setup uses spark 2.3 with Hive 2.x and does all that you are doing.. So if I have to guess, I think it may be due to Hive 1.x? are you able to quickly retest with Hive 2.x? \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618035688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618035770","html_url":"https://github.com/apache/hudi/issues/1546#issuecomment-618035770","issue_url":"https://api.github.com/repos/apache/hudi/issues/1546","id":618035770,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODAzNTc3MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T20:55:45Z","updated_at":"2020-04-22T20:55:45Z","author_association":"MEMBER","body":"over to you @lamber-ken :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618035770/reactions","total_count":2,"+1":0,"-1":0,"laugh":2,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618068101","html_url":"https://github.com/apache/hudi/issues/1552#issuecomment-618068101","issue_url":"https://api.github.com/repos/apache/hudi/issues/1552","id":618068101,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODA2ODEwMQ==","user":{"login":"harshi2506","id":64137937,"node_id":"MDQ6VXNlcjY0MTM3OTM3","avatar_url":"https://avatars.githubusercontent.com/u/64137937?v=4","gravatar_id":"","url":"https://api.github.com/users/harshi2506","html_url":"https://github.com/harshi2506","followers_url":"https://api.github.com/users/harshi2506/followers","following_url":"https://api.github.com/users/harshi2506/following{/other_user}","gists_url":"https://api.github.com/users/harshi2506/gists{/gist_id}","starred_url":"https://api.github.com/users/harshi2506/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshi2506/subscriptions","organizations_url":"https://api.github.com/users/harshi2506/orgs","repos_url":"https://api.github.com/users/harshi2506/repos","events_url":"https://api.github.com/users/harshi2506/events{/privacy}","received_events_url":"https://api.github.com/users/harshi2506/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T22:13:54Z","updated_at":"2020-04-22T23:34:16Z","author_association":"NONE","body":"@vinothchandar yes, it is happening every time, I tried it 3 times and its always the same. I see a hoodie commit being added in atmost 5-6 minutes and then it takes almost an hour to complete the EMR step. I am using AWS EMR, HUDI Version: 0.5.0-incubating.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618068101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618070975","html_url":"https://github.com/apache/hudi/issues/1552#issuecomment-618070975","issue_url":"https://api.github.com/repos/apache/hudi/issues/1552","id":618070975,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODA3MDk3NQ==","user":{"login":"harshi2506","id":64137937,"node_id":"MDQ6VXNlcjY0MTM3OTM3","avatar_url":"https://avatars.githubusercontent.com/u/64137937?v=4","gravatar_id":"","url":"https://api.github.com/users/harshi2506","html_url":"https://github.com/harshi2506","followers_url":"https://api.github.com/users/harshi2506/followers","following_url":"https://api.github.com/users/harshi2506/following{/other_user}","gists_url":"https://api.github.com/users/harshi2506/gists{/gist_id}","starred_url":"https://api.github.com/users/harshi2506/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshi2506/subscriptions","organizations_url":"https://api.github.com/users/harshi2506/orgs","repos_url":"https://api.github.com/users/harshi2506/repos","events_url":"https://api.github.com/users/harshi2506/events{/privacy}","received_events_url":"https://api.github.com/users/harshi2506/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T22:22:02Z","updated_at":"2020-04-22T22:48:27Z","author_association":"NONE","body":"hi @lamber-ken, I am already setting parallelism to 200\r\n`hudiOptions = (HoodieWriteConfig.TABLE_NAME -> \"table_name\",\r\n          DataSourceWriteOptions.STORAGE_TYPE_OPT_KEY -> \"COPY_ON_WRITE\",\r\n          DataSourceWriteOptions.RECORDKEY_FIELD_OPT_KEY -> \"primaryKey\",\r\n          DataSourceWriteOptions.PRECOMBINE_FIELD_OPT_KEY -> \"dedupeKey\",\r\n          DataSourceWriteOptions.PARTITIONPATH_FIELD_OPT_KEY -> \"partition_key\"(date in format(yyyy/mm/dd)),\r\n          \"hoodie.upsert.shuffle.parallelism\" ->\"200\",\r\n          DataSourceWriteOptions.OPERATION_OPT_KEY -> DataSourceWriteOptions.UPSERT_OPERATION_OPT_VAL)\r\ninputDF.write.format(\"org.apache.hudi\").options(hudiOptions).mode(SaveMode.Append).save(load_path)`\r\nI will try setting the spark executor instances. Thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618070975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618082468","html_url":"https://github.com/apache/hudi/issues/1546#issuecomment-618082468","issue_url":"https://api.github.com/repos/apache/hudi/issues/1546","id":618082468,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODA4MjQ2OA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T22:59:03Z","updated_at":"2020-04-22T22:59:03Z","author_association":"MEMBER","body":"> over to you @lamber-ken :)\r\n\r\nLoving to accept it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618082468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618086091","html_url":"https://github.com/apache/hudi/pull/1526#issuecomment-618086091","issue_url":"https://api.github.com/repos/apache/hudi/issues/1526","id":618086091,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODA4NjA5MQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T23:12:01Z","updated_at":"2020-04-22T23:12:01Z","author_association":"MEMBER","body":"> @vingov I had copied the https://github.com/apache/spark/blob/15462e1a8fa8da54ac51f4d21f567f3c288e6701/docs/js/main.js and reference the js lib like: https://raw.githubusercontent.com/apache/spark/46be1e01e977788f00f1f5aa8d64bc5f191bc578/docs/sql-getting-started.md but I got no luck. Maybe re-orgnize the page with spark-shell code snippet on the top of the quick start guide and pyspark on the bottom of the page? @lamber-ken what do you think?\r\n\r\nFirst of all, this is a good contribution 👍, it's not a good idea to just copy the `main.js`.\r\nOK, If you have any difficulty doing this, pull this into a separate page is better. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618086091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618092361","html_url":"https://github.com/apache/hudi/pull/1540#issuecomment-618092361","issue_url":"https://api.github.com/repos/apache/hudi/issues/1540","id":618092361,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODA5MjM2MQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T23:33:17Z","updated_at":"2020-04-22T23:33:17Z","author_association":"MEMBER","body":"> +1 on the change itself.. For completeness let's also bring MergeHandle under the same factory implementation?\r\n\r\nI tried to fit in MergeHandle. But it doesn't seem to fit the pattern because constructor args requires recordItr at construction time. Other handles don't deal with recordItr directly. LazyInsertIterable deals with recordItr for these handles.  \r\n\r\nWe need to make major changes to move recordItr from MergeHandle into UpdateHandler to fit it into the pattern. If you agree this is the right approach, I can implement it.\r\n\r\nWhat do you think? Let me know if you have other suggestions. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618092361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618094863","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-618094863","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":618094863,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODA5NDg2Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T23:42:30Z","updated_at":"2020-04-22T23:42:30Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : I am done for the most part. Just that unit tests are failing in travis, but succeeds locally. I need to fix that. but the patch in general is good to be reviewed. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618094863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618113749","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-618113749","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":618113749,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODExMzc0OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T00:51:30Z","updated_at":"2020-04-23T00:52:41Z","author_association":"CONTRIBUTOR","body":"@yanghua @bvaradar @vinothchandar I've fixed this PR since it was failing builds due to multiple pom issues, I've rebased the code from the last time we did this (lots of code has changed naturally) and cleaned up some of the code. \r\n\r\nThis test suite now has test cases that one can use to run end to end tests in junit. At the moment, the test suite does not run in docker due to Spark 2.4 bringing in Hive 1.x dependencies and our code using Hive 2.x to spin up local hive server nodes. There is a hacky approach that we are using at Uber which will be upstreamed in the next couple of weeks (https://issues.apache.org/jira/browse/HUDI-830) and as part of that we can discuss how to solve it (the right way to solve without any hacks is to move to spark 3.x since they upgraded the Hive libs there but that might take a while etc). Once that is done, we can even run this as an integration test.\r\n\r\nThe following is my suggestion for a plan for this : \r\n1) Land this PR which provides an initial test suite to test basic end to end functionality. This allows folks to atleast start using this framework to test large PRs but spending minimal amount of time to enhance the test suite (especially since lots of refactoring is happening). Last I checked, @yanghua I think you went over the PR and were okay to merge. @vinothchandar @bvaradar unless we have major concerns on the PR, we can merge it and then take incremental pr's\r\n2) There are many tickets under HUDI-289, all the enhancements to the test suite from Uber will follow in subsequent PR's in the next 2-3 weeks. I'm working with the necessary folks along with some of the enhancements that I want to do in the coming weeks.\r\n3) @yanghua need you to lead the Azure pipelines for the test suite and other tickets assigned to you under the umbrella ticket.\r\n\r\nAdditionally, since the test suite actually tests all end to end functionality, the main class tests take a while to run. Also, without the test suite we are nearing the max time allowed to run unit tests on travis (50 mins), so I've separated out the test suite unit tests into a different job, just like the integration tests.  \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618113749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618119493","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-618119493","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":618119493,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODExOTQ5Mw==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T01:12:23Z","updated_at":"2020-04-23T01:12:23Z","author_association":"CONTRIBUTOR","body":"@n3nash well done !","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/618119493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]