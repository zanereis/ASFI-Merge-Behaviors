[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511754238","html_url":"https://github.com/apache/pinot/pull/10623#issuecomment-1511754238","issue_url":"https://api.github.com/repos/apache/pinot/issues/10623","id":1511754238,"node_id":"IC_kwDOATCU_c5aG4n-","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T17:04:00Z","updated_at":"2023-04-20T13:20:22Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10623](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d7b8369) into [master](https://codecov.io/gh/apache/pinot/commit/4457e614efc8b734d9fa9935cca45878284173c2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4457e61) will **decrease** coverage by `21.10%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10623       +/-   ##\n=============================================\n- Coverage     34.95%   13.86%   -21.10%     \n+ Complexity      462      439       -23     \n=============================================\n  Files          2105     2054       -51     \n  Lines        113340   111171     -2169     \n  Branches      17088    16829      -259     \n=============================================\n- Hits          39622    15417    -24205     \n- Misses        70277    94498    +24221     \n+ Partials       3441     1256     -2185     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests2 | `13.86% <0.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ment/local/segment/index/bloom/BloomIndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2Jsb29tL0Jsb29tSW5kZXhUeXBlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../segment/index/dictionary/DictionaryIndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2RpY3Rpb25hcnkvRGljdGlvbmFyeUluZGV4VHlwZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [.../local/segment/index/forward/ForwardIndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2ZvcndhcmQvRm9yd2FyZEluZGV4VHlwZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [.../segment/local/segment/index/fst/FstIndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2ZzdC9Gc3RJbmRleFR5cGUuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ot/segment/local/segment/index/h3/H3IndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2gzL0gzSW5kZXhUeXBlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...ocal/segment/index/inverted/InvertedIndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2ludmVydGVkL0ludmVydGVkSW5kZXhUeXBlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...egment/local/segment/index/json/JsonIndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2pzb24vSnNvbkluZGV4VHlwZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...al/segment/index/nullvalue/NullValueIndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L251bGx2YWx1ZS9OdWxsVmFsdWVJbmRleFR5cGUuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ment/local/segment/index/range/RangeIndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L3JhbmdlL1JhbmdlSW5kZXhUeXBlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...egment/local/segment/index/text/TextIndexType.java](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L3RleHQvVGV4dEluZGV4VHlwZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| ... and [5 more](https://codecov.io/gh/apache/pinot/pull/10623?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [784 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10623/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511754238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511828859","html_url":"https://github.com/apache/pinot/pull/10553#issuecomment-1511828859","issue_url":"https://api.github.com/repos/apache/pinot/issues/10553","id":1511828859,"node_id":"IC_kwDOATCU_c5aHK17","user":{"login":"klsince","id":61892277,"node_id":"MDQ6VXNlcjYxODkyMjc3","avatar_url":"https://avatars.githubusercontent.com/u/61892277?v=4","gravatar_id":"","url":"https://api.github.com/users/klsince","html_url":"https://github.com/klsince","followers_url":"https://api.github.com/users/klsince/followers","following_url":"https://api.github.com/users/klsince/following{/other_user}","gists_url":"https://api.github.com/users/klsince/gists{/gist_id}","starred_url":"https://api.github.com/users/klsince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klsince/subscriptions","organizations_url":"https://api.github.com/users/klsince/orgs","repos_url":"https://api.github.com/users/klsince/repos","events_url":"https://api.github.com/users/klsince/events{/privacy}","received_events_url":"https://api.github.com/users/klsince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T17:53:31Z","updated_at":"2023-04-17T17:53:31Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing @saurabhd336, and as to your question: the overwriting logic is more like merging, as it is done for those top level config keys. So need to keep the original _tableConfig to derive tier specific index configs correctly, otherwise we may accumulate index configs from different tiers.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511828859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511836576","html_url":"https://github.com/apache/pinot/pull/10589#issuecomment-1511836576","issue_url":"https://api.github.com/repos/apache/pinot/issues/10589","id":1511836576,"node_id":"IC_kwDOATCU_c5aHMug","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T17:58:13Z","updated_at":"2023-04-17T17:58:13Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang thoughts here?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511836576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511860442","html_url":"https://github.com/apache/pinot/pull/10626#issuecomment-1511860442","issue_url":"https://api.github.com/repos/apache/pinot/issues/10626","id":1511860442,"node_id":"IC_kwDOATCU_c5aHSja","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T18:13:09Z","updated_at":"2023-04-17T21:19:56Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10626?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10626](https://codecov.io/gh/apache/pinot/pull/10626?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7b545ea) into [master](https://codecov.io/gh/apache/pinot/commit/c7e05a7b58f5435080ab26e9ef8888e2b07dd974?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c7e05a7) will **increase** coverage by `7.31%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10626      +/-   ##\n============================================\n+ Coverage     27.66%   34.97%   +7.31%     \n- Complexity       58      462     +404     \n============================================\n  Files          2090     2106      +16     \n  Lines        112578   113016     +438     \n  Branches      16972    17028      +56     \n============================================\n+ Hits          31145    39532    +8387     \n+ Misses        78333    70052    -8281     \n- Partials       3100     3432     +332     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.47% <0.00%> (+0.01%)` | :arrow_up: |\n| integration2 | `24.02% <0.00%> (-0.10%)` | :arrow_down: |\n| unittests2 | `13.88% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10626?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...t/query/runtime/plan/ServerRequestPlanVisitor.java](https://codecov.io/gh/apache/pinot/pull/10626?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL1NlcnZlclJlcXVlc3RQbGFuVmlzaXRvci5qYXZh) | `0.00% <0.00%> (ø)` | |\n\n... and [310 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10626/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511860442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512173261","html_url":"https://github.com/apache/pinot/pull/10627#issuecomment-1512173261","issue_url":"https://api.github.com/repos/apache/pinot/issues/10627","id":1512173261,"node_id":"IC_kwDOATCU_c5aIe7N","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T22:32:05Z","updated_at":"2023-04-18T00:28:17Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10627?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10627](https://codecov.io/gh/apache/pinot/pull/10627?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (170e48c) into [master](https://codecov.io/gh/apache/pinot/commit/27a8a26c585b4219830d5a111efcf2a343a54319?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (27a8a26) will **increase** coverage by `44.08%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10627       +/-   ##\n=============================================\n+ Coverage     24.49%   68.58%   +44.08%     \n- Complexity       49     6498     +6449     \n=============================================\n  Files          2090     2106       +16     \n  Lines        112578   113074      +496     \n  Branches      16972    17042       +70     \n=============================================\n+ Hits          27578    77553    +49975     \n+ Misses        82089    30001    -52088     \n- Partials       2911     5520     +2609     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.44% <ø> (-0.05%)` | :arrow_down: |\n| unittests1 | `68.02% <ø> (?)` | |\n| unittests2 | `13.89% <ø> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 1508 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10627/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512173261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512229539","html_url":"https://github.com/apache/pinot/pull/10418#issuecomment-1512229539","issue_url":"https://api.github.com/repos/apache/pinot/issues/10418","id":1512229539,"node_id":"IC_kwDOATCU_c5aIsqj","user":{"login":"jugomezv","id":109560870,"node_id":"U_kgDOBofEJg","avatar_url":"https://avatars.githubusercontent.com/u/109560870?v=4","gravatar_id":"","url":"https://api.github.com/users/jugomezv","html_url":"https://github.com/jugomezv","followers_url":"https://api.github.com/users/jugomezv/followers","following_url":"https://api.github.com/users/jugomezv/following{/other_user}","gists_url":"https://api.github.com/users/jugomezv/gists{/gist_id}","starred_url":"https://api.github.com/users/jugomezv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugomezv/subscriptions","organizations_url":"https://api.github.com/users/jugomezv/orgs","repos_url":"https://api.github.com/users/jugomezv/repos","events_url":"https://api.github.com/users/jugomezv/events{/privacy}","received_events_url":"https://api.github.com/users/jugomezv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T23:21:56Z","updated_at":"2023-04-17T23:21:56Z","author_association":"CONTRIBUTOR","body":"> My thinking was more towards my first comment. Both what is on master and this PR are not fundamentally right. But this version at least gives you true positives; if it says lag > 0, it is definitely > 0. I would argue that makes it more useful even in this intermediate state.\r\n> \r\n> That said, my feelings aren't that strong, and I'm mostly commenting as an interested observer. If you're both comfortable with/prefer a completely separate patch, that's totally fine with me.\r\n\r\nNow that this change is merged, do you still observe the issue?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512229539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512241405","html_url":"https://github.com/apache/pinot/pull/10418#issuecomment-1512241405","issue_url":"https://api.github.com/repos/apache/pinot/issues/10418","id":1512241405,"node_id":"IC_kwDOATCU_c5aIvj9","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T23:43:07Z","updated_at":"2023-04-17T23:43:13Z","author_association":"CONTRIBUTOR","body":"> Now that this change is merged, do you still observe the issue?\r\n\r\ndue to some internal dependencies, we're a little blocked getting this change into our custom stream ingestion plugin. So we still haven't implemented `getLastMessageMetadata`. But I'll let definitely you know when we do.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512241405/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512252037","html_url":"https://github.com/apache/pinot/issues/10628#issuecomment-1512252037","issue_url":"https://api.github.com/repos/apache/pinot/issues/10628","id":1512252037,"node_id":"IC_kwDOATCU_c5aIyKF","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T23:59:27Z","updated_at":"2023-04-18T00:09:32Z","author_association":"CONTRIBUTOR","body":"Yes, I came across this issue earlier (this function was the same before I moved it out from the `AggregateOperator` to `AggregationUtils`) when I tried to fix the initialize function for all aggregations to cast to double (like the `merge` functions do today). Didn't try to find the right fix for this since this was an existing issue at the time.\r\n\r\nI think the problem here is that the aggregation functions typecast to double, and that doesn't work with boolean, so we should handle booleans separately for this case. for MIN, we should set it to 'false' if any value is 'false' otherwise 'true'. Similarly for max. I can take up a fix for this. cc @walterddr any additional thoughts?\r\n\r\nTried generating a plan for a similar query:\r\n\r\n```\r\nQuery: SELECT COUNT(*) FROM a WHERE a.col1 NOT IN (SELECT a.col1 FROM a)\r\nExplain: \r\nExecution Plan\r\nLogicalAggregate(group=[{}], EXPR$0=[$SUM0($0)])\r\n  LogicalExchange(distribution=[hash])\r\n    LogicalAggregate(group=[{}], EXPR$0=[COUNT()])\r\n      LogicalFilter(condition=[IS NOT TRUE($2)])\r\n        LogicalJoin(condition=[=($0, $1)], joinType=[left])\r\n          LogicalExchange(distribution=[hash[0]])\r\n            LogicalProject(col10=[$0])\r\n              LogicalTableScan(table=[[a]])\r\n          LogicalExchange(distribution=[hash[0]])\r\n            LogicalAggregate(group=[{0}], agg#0=[MIN($1)])\r\n              LogicalExchange(distribution=[hash[0]])\r\n                LogicalAggregate(group=[{0}], agg#0=[MIN($1)])\r\n                  LogicalProject(col1=[$0], $f1=[true])\r\n                    LogicalTableScan(table=[[a]])\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512252037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512267055","html_url":"https://github.com/apache/pinot/pull/10629#issuecomment-1512267055","issue_url":"https://api.github.com/repos/apache/pinot/issues/10629","id":1512267055,"node_id":"IC_kwDOATCU_c5aI10v","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T00:15:56Z","updated_at":"2023-04-18T00:23:39Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10629](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4103c08) into [master](https://codecov.io/gh/apache/pinot/commit/178aa200a78d5ecebff163529c965739ac2594e4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (178aa20) will **increase** coverage by `40.80%`.\n> The diff coverage is `84.21%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10629       +/-   ##\n=============================================\n+ Coverage     27.74%   68.54%   +40.80%     \n- Complexity       58     6491     +6433     \n=============================================\n  Files          2090     2105       +15     \n  Lines        112642   113051      +409     \n  Branches      16987    17040       +53     \n=============================================\n+ Hits          31247    77495    +46248     \n+ Misses        78272    30020    -48252     \n- Partials       3123     5536     +2413     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.38% <0.00%> (-0.08%)` | :arrow_down: |\n| integration2 | `?` | |\n| unittests1 | `67.99% <84.21%> (?)` | |\n| unittests2 | `13.88% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...he/pinot/query/mailbox/InMemoryMailboxService.java](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Jbk1lbW9yeU1haWxib3hTZXJ2aWNlLmphdmE=) | `78.12% <70.00%> (+78.12%)` | :arrow_up: |\n| [...apache/pinot/query/mailbox/GrpcMailboxService.java](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9HcnBjTWFpbGJveFNlcnZpY2UuamF2YQ==) | `79.48% <80.00%> (+79.48%)` | :arrow_up: |\n| [...ache/pinot/query/mailbox/GrpcReceivingMailbox.java](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9HcnBjUmVjZWl2aW5nTWFpbGJveC5qYXZh) | `84.21% <100.00%> (+84.21%)` | :arrow_up: |\n| [...apache/pinot/query/mailbox/GrpcSendingMailbox.java](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9HcnBjU2VuZGluZ01haWxib3guamF2YQ==) | `87.50% <100.00%> (+87.50%)` | :arrow_up: |\n| [.../pinot/query/mailbox/InMemoryReceivingMailbox.java](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Jbk1lbW9yeVJlY2VpdmluZ01haWxib3guamF2YQ==) | `88.88% <100.00%> (+88.88%)` | :arrow_up: |\n| [...he/pinot/query/mailbox/InMemorySendingMailbox.java](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Jbk1lbW9yeVNlbmRpbmdNYWlsYm94LmphdmE=) | `89.47% <100.00%> (+89.47%)` | :arrow_up: |\n| [...he/pinot/query/mailbox/channel/ChannelManager.java](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9jaGFubmVsL0NoYW5uZWxNYW5hZ2VyLmphdmE=) | `100.00% <100.00%> (+100.00%)` | :arrow_up: |\n| [...pinot/query/mailbox/channel/GrpcMailboxServer.java](https://codecov.io/gh/apache/pinot/pull/10629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9jaGFubmVsL0dycGNNYWlsYm94U2VydmVyLmphdmE=) | `80.00% <100.00%> (+80.00%)` | :arrow_up: |\n\n... and [1548 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10629/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512267055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512281335","html_url":"https://github.com/apache/pinot/issues/10628#issuecomment-1512281335","issue_url":"https://api.github.com/repos/apache/pinot/issues/10628","id":1512281335,"node_id":"IC_kwDOATCU_c5aI5T3","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T00:41:31Z","updated_at":"2023-04-18T00:42:52Z","author_association":"CONTRIBUTOR","body":"@ankitsultana @walterddr we could potentially do something like this:\r\n\r\n```\r\n  public interface Merger {\r\n    /**\r\n     * Initializes the merger based on the first input\r\n     */\r\n    default Object initialize(Object other, DataSchema.ColumnDataType dataType) {\r\n      // TODO: Initialize as a double so that if only one row is returned it matches the type when many rows are\r\n      //       returned\r\n      return other == null ? dataType.getNullPlaceholder() : other;\r\n    }\r\n\r\n    /**\r\n     * Merges the existing aggregate (the result of {@link #initialize(Object, DataSchema.ColumnDataType)}) with\r\n     * the new value coming in (which may be an aggregate in and of itself).\r\n     */\r\n    Object merge(Object agg, Object value);\r\n  }\r\n\r\n  public abstract static class BaseMerger implements AggregationUtils.Merger {\r\n    public final DataSchema.ColumnDataType _dataType;\r\n\r\n    BaseMerger(DataSchema.ColumnDataType dataType) {\r\n      _dataType = dataType;\r\n    }\r\n  }\r\n```\r\n\r\nWe can have all the mergers extend the above `BaseMerger` so that they get the `_dataType`. Then we can use the `_dataType` within the min and max functions to implement it differently:\r\n\r\n```\r\n  private static class MergeMins extends BaseMerger {\r\n\r\n    MergeMins(DataSchema.ColumnDataType dataType) {\r\n      super(dataType);\r\n    }\r\n\r\n    @Override\r\n    public Object merge(Object left, Object right) {\r\n      if (_dataType == DataSchema.ColumnDataType.BOOLEAN) {\r\n        return (Boolean) left && (Boolean) right;\r\n      }\r\n      return Math.min(((Number) left).doubleValue(), ((Number) right).doubleValue());\r\n    }\r\n  }\r\n```\r\n\r\nwdyt?\r\n\r\nI checked how this works in the v1 engine, and it looks like we setup the ColumnType `Boolean` with storedType as INT and in the aggregation functions in v1 we look at the stored type to decide how to aggregate. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512281335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512289056","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1512289056","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1512289056,"node_id":"IC_kwDOATCU_c5aI7Mg","user":{"login":"swaminathanmanish","id":126024920,"node_id":"U_kgDOB4L82A","avatar_url":"https://avatars.githubusercontent.com/u/126024920?v=4","gravatar_id":"","url":"https://api.github.com/users/swaminathanmanish","html_url":"https://github.com/swaminathanmanish","followers_url":"https://api.github.com/users/swaminathanmanish/followers","following_url":"https://api.github.com/users/swaminathanmanish/following{/other_user}","gists_url":"https://api.github.com/users/swaminathanmanish/gists{/gist_id}","starred_url":"https://api.github.com/users/swaminathanmanish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swaminathanmanish/subscriptions","organizations_url":"https://api.github.com/users/swaminathanmanish/orgs","repos_url":"https://api.github.com/users/swaminathanmanish/repos","events_url":"https://api.github.com/users/swaminathanmanish/events{/privacy}","received_events_url":"https://api.github.com/users/swaminathanmanish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T00:56:28Z","updated_at":"2023-04-18T00:56:28Z","author_association":"CONTRIBUTOR","body":"@snleee - Please review. Thanks !","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512289056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512348290","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1512348290","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1512348290,"node_id":"IC_kwDOATCU_c5aJJqC","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T02:31:19Z","updated_at":"2023-04-19T19:08:25Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10630](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (284bb1c) into [master](https://codecov.io/gh/apache/pinot/commit/178aa200a78d5ecebff163529c965739ac2594e4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (178aa20) will **increase** coverage by `42.61%`.\n> The diff coverage is `62.50%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10630       +/-   ##\n=============================================\n+ Coverage     27.74%   70.35%   +42.61%     \n- Complexity       58     6495     +6437     \n=============================================\n  Files          2090     2107       +17     \n  Lines        112642   113460      +818     \n  Branches      16987    17101      +114     \n=============================================\n+ Hits          31247    79820    +48573     \n+ Misses        78272    28044    -50228     \n- Partials       3123     5596     +2473     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.43% <41.66%> (-0.02%)` | :arrow_down: |\n| integration2 | `24.12% <0.00%> (+0.21%)` | :arrow_up: |\n| unittests1 | `67.88% <0.00%> (?)` | |\n| unittests2 | `13.88% <20.83%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...n/restlet/resources/EndReplaceSegmentsRequest.java](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvRW5kUmVwbGFjZVNlZ21lbnRzUmVxdWVzdC5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...t/segment/local/utils/ConsistentDataPushUtils.java](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91dGlscy9Db25zaXN0ZW50RGF0YVB1c2hVdGlscy5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `58.23% <40.00%> (+8.02%)` | :arrow_up: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `70.98% <83.33%> (+27.86%)` | :arrow_up: |\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | `53.94% <100.00%> (+3.73%)` | :arrow_up: |\n| [.../tasks/BaseMultipleSegmentsConversionExecutor.java](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvQmFzZU11bHRpcGxlU2VnbWVudHNDb252ZXJzaW9uRXhlY3V0b3IuamF2YQ==) | `83.00% <100.00%> (+0.97%)` | :arrow_up: |\n| [...ot/plugin/minion/tasks/SegmentConversionUtils.java](https://codecov.io/gh/apache/pinot/pull/10630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvU2VnbWVudENvbnZlcnNpb25VdGlscy5qYXZh) | `77.33% <100.00%> (+0.62%)` | :arrow_up: |\n\n... and [1483 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10630/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512348290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512369939","html_url":"https://github.com/apache/pinot/issues/10628#issuecomment-1512369939","issue_url":"https://api.github.com/repos/apache/pinot/issues/10628","id":1512369939,"node_id":"IC_kwDOATCU_c5aJO8T","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T03:07:26Z","updated_at":"2023-04-18T03:07:26Z","author_association":"CONTRIBUTOR","body":"hmm. can we explain the plan with ANTI JOIN and see what node it is generating? \r\n- what prompts the aggregate function to be used here as MIN(bool)? \r\n- we added `BOOL_AND` and `BOOL_OR` aggregate function #9848 which is exactly `MIN(BOOL)` and `MAX(BOOL)` on the correct data type, which we should be using when generating AggregateOperator from AggregateNode","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512369939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512411042","html_url":"https://github.com/apache/pinot/pull/10623#issuecomment-1512411042","issue_url":"https://api.github.com/repos/apache/pinot/issues/10623","id":1512411042,"node_id":"IC_kwDOATCU_c5aJY-i","user":{"login":"shounakmk219","id":25409127,"node_id":"MDQ6VXNlcjI1NDA5MTI3","avatar_url":"https://avatars.githubusercontent.com/u/25409127?v=4","gravatar_id":"","url":"https://api.github.com/users/shounakmk219","html_url":"https://github.com/shounakmk219","followers_url":"https://api.github.com/users/shounakmk219/followers","following_url":"https://api.github.com/users/shounakmk219/following{/other_user}","gists_url":"https://api.github.com/users/shounakmk219/gists{/gist_id}","starred_url":"https://api.github.com/users/shounakmk219/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shounakmk219/subscriptions","organizations_url":"https://api.github.com/users/shounakmk219/orgs","repos_url":"https://api.github.com/users/shounakmk219/repos","events_url":"https://api.github.com/users/shounakmk219/events{/privacy}","received_events_url":"https://api.github.com/users/shounakmk219/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T04:17:45Z","updated_at":"2023-04-18T04:17:45Z","author_association":"COLLABORATOR","body":"> What is this \"new format\"? Is there a document on this? Or, at least a description in the PR? If we are versioning the tableconfig, then let us use version numbers instead of \"old\" and \"new\" (and sometime later \"newer\" ) formats.\r\n\r\n@mcvsubbu I have filed an issue and updated the PR description. My bad for not updating it earlier. The PR is not yet ready for a review but wanted to take some initial feedback from @gortiz hence created a draft. Marked it WIP now.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512411042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512529716","html_url":"https://github.com/apache/pinot/issues/10552#issuecomment-1512529716","issue_url":"https://api.github.com/repos/apache/pinot/issues/10552","id":1512529716,"node_id":"IC_kwDOATCU_c5aJ180","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T06:46:28Z","updated_at":"2023-04-18T06:46:28Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang : We saw this again today for one of our clusters. I saw this:\r\n\r\n1. In the logs there was a message for the 235th segment of the a Kafka partition:\r\n\r\n```\r\n2023-04-18 06:31:11.871 [my_table__224__236__20230418T0520Z] INFO  o.a.pinot.segment.local.utils.tablestate.TableStateUtils  - Found 1 unloaded segments: [my_table__64__235__20230417T2021Z] for table: my_table_REALTIME\r\n```\r\n\r\n2. In the thread-dump I saw that the consumeLoop had started consuming for the 236th segment already and was waiting on all segments to be loaded:\r\n\r\n```\r\n\"my_table_v3__64__236__20230418T0511Z\" #1992 daemon prio=5 os_prio=0 cpu=1911.79ms elapsed=4383.52s tid=0x00007efb10016800 nid=0x967 waiting on condition  [0x00007ee0714fa000]\r\n   java.lang.Thread.State: TIMED_WAITING (sleeping)\r\n        at java.lang.Thread.sleep(java.base@11.0.15/Native Method)\r\n        at org.apache.pinot.core.data.manager.realtime.LLRealtimeSegmentDataManager.consumeLoop(LLRealtimeSegmentDataManager.java:406)\r\n        at org.apache.pinot.core.data.manager.realtime.LLRealtimeSegmentDataManager$PartitionConsumer.run(LLRealtimeSegmentDataManager.java:647)\r\n        at java.lang.Thread.run(java.base@11.0.15/Thread.java:829)\r\n```\r\n\r\nThis seems like a deadlock. We can't even reset segments to get out of this since it gets stuck in acquiring the `_partitionGroupConsumerSemaphore`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512529716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512694132","html_url":"https://github.com/apache/pinot/pull/10623#issuecomment-1512694132","issue_url":"https://api.github.com/repos/apache/pinot/issues/10623","id":1512694132,"node_id":"IC_kwDOATCU_c5aKeF0","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T08:42:43Z","updated_at":"2023-04-18T08:42:43Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu this _new_ format was introduced in #10183. The issue includes a [PEP](https://docs.google.com/document/d/1L_GJ2tAgZVxI_Ssa59--Mso3mK_HeAS7s7G9261-sOE)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512694132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512734050","html_url":"https://github.com/apache/pinot/issues/10554#issuecomment-1512734050","issue_url":"https://api.github.com/repos/apache/pinot/issues/10554","id":1512734050,"node_id":"IC_kwDOATCU_c5aKn1i","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T09:09:31Z","updated_at":"2023-04-18T09:09:31Z","author_association":"CONTRIBUTOR","body":"Another good catch @jadami10. #10632 should fix this. I guess you didn't see the elevated heap usage because the error was to load the dictionary on heap while other indexes were created, so the heap usage was limited in time.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512734050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512804319","html_url":"https://github.com/apache/pinot/pull/10632#issuecomment-1512804319","issue_url":"https://api.github.com/repos/apache/pinot/issues/10632","id":1512804319,"node_id":"IC_kwDOATCU_c5aK4_f","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T10:06:29Z","updated_at":"2023-04-18T10:06:29Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10632?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10632](https://codecov.io/gh/apache/pinot/pull/10632?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (61db808) into [master](https://codecov.io/gh/apache/pinot/commit/44fe6940e19cbf29d2f5f606124c2f6b77e85360?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (44fe694) will **decrease** coverage by `0.05%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10632      +/-   ##\n============================================\n- Coverage     27.79%   27.74%   -0.05%     \n  Complexity       58       58              \n============================================\n  Files          2090     2090              \n  Lines        112648   112647       -1     \n  Branches      16988    16988              \n============================================\n- Hits          31307    31255      -52     \n- Misses        78232    78268      +36     \n- Partials       3109     3124      +15     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.52% <0.00%> (-0.07%)` | :arrow_down: |\n| integration2 | `23.88% <0.00%> (-0.09%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10632?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../segment/index/dictionary/DictionaryIndexType.java](https://codecov.io/gh/apache/pinot/pull/10632?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2RpY3Rpb25hcnkvRGljdGlvbmFyeUluZGV4VHlwZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...t/index/loader/bloomfilter/BloomFilterHandler.java](https://codecov.io/gh/apache/pinot/pull/10632?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2xvYWRlci9ibG9vbWZpbHRlci9CbG9vbUZpbHRlckhhbmRsZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...pinot/segment/spi/index/DictionaryIndexConfig.java](https://codecov.io/gh/apache/pinot/pull/10632?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L0RpY3Rpb25hcnlJbmRleENvbmZpZy5qYXZh) | `0.00% <ø> (ø)` | |\n\n... and [53 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10632/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1512804319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513019946","html_url":"https://github.com/apache/pinot/pull/10620#issuecomment-1513019946","issue_url":"https://api.github.com/repos/apache/pinot/issues/10620","id":1513019946,"node_id":"IC_kwDOATCU_c5aLtoq","user":{"login":"INNOCENT-BOY","id":38196564,"node_id":"MDQ6VXNlcjM4MTk2NTY0","avatar_url":"https://avatars.githubusercontent.com/u/38196564?v=4","gravatar_id":"","url":"https://api.github.com/users/INNOCENT-BOY","html_url":"https://github.com/INNOCENT-BOY","followers_url":"https://api.github.com/users/INNOCENT-BOY/followers","following_url":"https://api.github.com/users/INNOCENT-BOY/following{/other_user}","gists_url":"https://api.github.com/users/INNOCENT-BOY/gists{/gist_id}","starred_url":"https://api.github.com/users/INNOCENT-BOY/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/INNOCENT-BOY/subscriptions","organizations_url":"https://api.github.com/users/INNOCENT-BOY/orgs","repos_url":"https://api.github.com/users/INNOCENT-BOY/repos","events_url":"https://api.github.com/users/INNOCENT-BOY/events{/privacy}","received_events_url":"https://api.github.com/users/INNOCENT-BOY/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T12:30:12Z","updated_at":"2023-04-18T12:56:40Z","author_association":"CONTRIBUTOR","body":"Hi @Jackie-Jiang , I performed lots of tests. The reason why report parseException is not thread content between read threads and write thread. The root cause is QueryParser is not thread safe, so we can't share QueryParser instance between all request on the same consuming segment. And I have given an suitable solution. Each request on consuming segments that have text index will generate their own QueryParser instance. This instance will destroy after executing parse statement. The speed of parse is very fast. So this fix vesion won't bring burden to JVM memory. Meanwhile it won't make read path single-threaded. Hope your review and reply, @Jackie-Jiang .","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513019946/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513495617","html_url":"https://github.com/apache/pinot/issues/10628#issuecomment-1513495617","issue_url":"https://api.github.com/repos/apache/pinot/issues/10628","id":1513495617,"node_id":"IC_kwDOATCU_c5aNhxB","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T16:51:39Z","updated_at":"2023-04-18T16:51:39Z","author_association":"CONTRIBUTOR","body":"> what prompts the aggregate function to be used here as MIN(bool)?\r\n\r\nAs an example take this query:\r\n\r\n```\r\nexplain plan for select userUUID, deviceOS from userAttributes_OFFLINE where userUUID NOT IN (SELECT userUUID FROM userGroups_OFFLINE WHERE groupUUID = 'group-1')\r\n```\r\n\r\nThis will have this plan:\r\n\r\n```\r\nExecution Plan\r\nLogicalProject(userUUID=[$1], deviceOS=[$0])\r\n  LogicalFilter(condition=[IS NOT TRUE($4)])\r\n    LogicalJoin(condition=[=($2, $3)], joinType=[left])\r\n      LogicalExchange(distribution=[hash[2]])\r\n        LogicalProject(deviceOS=[$4], userUUID=[$6], userUUID0=[$6])\r\n          LogicalTableScan(table=[[userAttributes_OFFLINE]])\r\n      LogicalExchange(distribution=[hash[0]])\r\n        LogicalAggregate(group=[{0}], agg#0=[MIN($1)])\r\n          LogicalExchange(distribution=[hash[0]])\r\n            LogicalAggregate(group=[{0}], agg#0=[MIN($1)])\r\n              LogicalProject(userUUID=[$4], $f1=[true])\r\n                LogicalFilter(condition=[=($3, 'group-1')])\r\n                  LogicalTableScan(table=[[userGroups_OFFLINE]])\r\n```\r\n\r\nFor NOT IN Calcite creates a left-join and adds a virtual column called f0 to the right-side which has all values as true. After the join, only those rows are kept that have this column value as false. In this particular case since the columns are assumed to be non-nullable, if the left-side has a userUUID which is not there in the result-set of the right side of the join, the value of this virtual column is assumed to be false.\r\n\r\nI think nullability might also have a role to play here. One could ask why should the default value be false and not-null (in this case it could be because all columns are non-nullable on master right now).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513495617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513497818","html_url":"https://github.com/apache/pinot/issues/10628#issuecomment-1513497818","issue_url":"https://api.github.com/repos/apache/pinot/issues/10628","id":1513497818,"node_id":"IC_kwDOATCU_c5aNiTa","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T16:53:30Z","updated_at":"2023-04-18T16:57:38Z","author_association":"CONTRIBUTOR","body":"> * we added `BOOL_AND` and `BOOL_OR` aggregate function [support BOOL_AND and BOOL_OR aggregate functions #9848](https://github.com/apache/pinot/pull/9848) which is exactly `MIN(BOOL)` and `MAX(BOOL)` on the correct data type, which we should be using when generating AggregateOperator from AggregateNode\r\n\r\nWe could probably map to the BOOL_AND/BOOL_OR within the `AggregateOperator` based on the column data type. I don't think modifying the logical plan to use BOOL_AND/BOOL_OR will be easy (and there may be many corner cases to worry about)\r\n\r\n```\r\n    public static final Map<String, Function<DataSchema.ColumnDataType, AggregationUtils.Merger>> MERGERS =\r\n        ImmutableMap.<String, Function<DataSchema.ColumnDataType, AggregationUtils.Merger>>builder()\r\n            .put(\"SUM\", cdt -> AggregationUtils::mergeSum)\r\n            .put(\"$SUM\", cdt -> AggregationUtils::mergeSum)\r\n            .put(\"$SUM0\", cdt -> AggregationUtils::mergeSum)\r\n            .put(\"MIN\", cdt -> AggregationUtils::mergeMin)\r\n            .put(\"MIN\", cdt -> {\r\n              if (cdt == DataSchema.ColumnDataType.BOOLEAN) {\r\n                return AggregationUtils::mergeBoolAnd;\r\n              } else {\r\n                return AggregationUtils::mergeMin;\r\n              }})\r\n...\r\n...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513497818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513504795","html_url":"https://github.com/apache/pinot/pull/10620#issuecomment-1513504795","issue_url":"https://api.github.com/repos/apache/pinot/issues/10620","id":1513504795,"node_id":"IC_kwDOATCU_c5aNkAb","user":{"login":"INNOCENT-BOY","id":38196564,"node_id":"MDQ6VXNlcjM4MTk2NTY0","avatar_url":"https://avatars.githubusercontent.com/u/38196564?v=4","gravatar_id":"","url":"https://api.github.com/users/INNOCENT-BOY","html_url":"https://github.com/INNOCENT-BOY","followers_url":"https://api.github.com/users/INNOCENT-BOY/followers","following_url":"https://api.github.com/users/INNOCENT-BOY/following{/other_user}","gists_url":"https://api.github.com/users/INNOCENT-BOY/gists{/gist_id}","starred_url":"https://api.github.com/users/INNOCENT-BOY/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/INNOCENT-BOY/subscriptions","organizations_url":"https://api.github.com/users/INNOCENT-BOY/orgs","repos_url":"https://api.github.com/users/INNOCENT-BOY/repos","events_url":"https://api.github.com/users/INNOCENT-BOY/events{/privacy}","received_events_url":"https://api.github.com/users/INNOCENT-BOY/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T16:59:14Z","updated_at":"2023-04-18T16:59:14Z","author_association":"CONTRIBUTOR","body":"> Hi @Jackie-Jiang , I performed lots of tests. The reason why report parseException is not thread content between read threads and write thread. The root cause is QueryParser is not thread safe, so we can't share QueryParser instance between all request on the same consuming segment. And I have given an suitable solution. Each request on consuming segments that have text index will generate their own QueryParser instance. This instance will destroy after executing parse statement. The speed of parse is very fast. So this fix vesion won't bring burden to JVM memory. Meanwhile it won't make read path single-threaded. Hope your review and reply, @Jackie-Jiang .\r\n\r\n<img width=\"708\" alt=\"image\" src=\"https://user-images.githubusercontent.com/38196564/232850363-5ab117dc-7f81-426d-b970-ff54d4032290.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513504795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513506064","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1513506064","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1513506064,"node_id":"IC_kwDOATCU_c5aNkUQ","user":{"login":"GSharayu","id":21273286,"node_id":"MDQ6VXNlcjIxMjczMjg2","avatar_url":"https://avatars.githubusercontent.com/u/21273286?v=4","gravatar_id":"","url":"https://api.github.com/users/GSharayu","html_url":"https://github.com/GSharayu","followers_url":"https://api.github.com/users/GSharayu/followers","following_url":"https://api.github.com/users/GSharayu/following{/other_user}","gists_url":"https://api.github.com/users/GSharayu/gists{/gist_id}","starred_url":"https://api.github.com/users/GSharayu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GSharayu/subscriptions","organizations_url":"https://api.github.com/users/GSharayu/orgs","repos_url":"https://api.github.com/users/GSharayu/repos","events_url":"https://api.github.com/users/GSharayu/events{/privacy}","received_events_url":"https://api.github.com/users/GSharayu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T17:00:14Z","updated_at":"2023-04-18T17:00:14Z","author_association":"CONTRIBUTOR","body":"I had a similar use case where we wanted to avoid a check if all the `to segments` will be online or not. We were planning to add a boolean flag to the endReplacementAPI call to skip the toSegments online check. cc @jtao15 can add more to this ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513506064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513523744","html_url":"https://github.com/apache/pinot/issues/10628#issuecomment-1513523744","issue_url":"https://api.github.com/repos/apache/pinot/issues/10628","id":1513523744,"node_id":"IC_kwDOATCU_c5aNoog","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T17:12:37Z","updated_at":"2023-04-18T17:12:37Z","author_association":"CONTRIBUTOR","body":"ah. i think this was the issue\r\n```\r\n  LogicalFilter(condition=[IS NOT TRUE($4)])\r\n\r\n...\r\n            LogicalAggregate(group=[{0}], agg#0=[MIN($1)])\r\n              LogicalProject(userUUID=[$4], $f1=[true])\r\n```\r\n^ the only reason why this is generated a LEFT JOIN is to handle the IS_NOT_TRUE --> b/c it is utilizing the nullability of LEFT JOIN to potentially give the IS_NOT_TRUE function a false result -->otherwise based on the plan it will always be true and thus the filter is useless. \r\n\r\nhowever in Pinot's use case this should actually be sufficient to use INNER JOIN b/c the left userUUID we can guarantee to be non-nullable (otherwise we can throw?) thus we don't need to handle this situation. was wondering if that's better.\r\n\r\n@somandal was adding the BOOL_AND and BOOL_OR resolves the issue? it is \"one\" solution but i don't think it is ideal b/c it makes several extra operators that does basically nothing :-/\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513523744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513536612","html_url":"https://github.com/apache/pinot/issues/10628#issuecomment-1513536612","issue_url":"https://api.github.com/repos/apache/pinot/issues/10628","id":1513536612,"node_id":"IC_kwDOATCU_c5aNrxk","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T17:18:56Z","updated_at":"2023-04-18T17:19:08Z","author_association":"CONTRIBUTOR","body":"> however in Pinot's use case this should actually be sufficient to use INNER JOIN b/c the left userUUID we can guarantee to be non-nullable (otherwise we can throw?) thus we don't need to handle this situation. was wondering if that's better.\r\n> \r\n> @somandal was adding the BOOL_AND and BOOL_OR resolves the issue? it is \"one\" solution but i don't think it is ideal b/c it makes several extra operators that does basically nothing :-/\r\n\r\nBOOL_AND/BOOL_OR should solve the issue (have to actually try it out) but yes this may not be the ideal solution for this problem. Are you recommending a rule rewrite for this scenario?\r\n\r\nIn general though, if a plan tries to run MIN/MAX on a Boolean column though, shouldn't the aggregation functions handle this scenario correctly? I still think adding a fix to handle bools correctly is a useful fix to add. Today won't queries that run MIN()/MAX() on a boolean column fail?\r\n\r\n> but i don't think it is ideal b/c it makes several extra operators that does basically nothing :-/\r\n\r\nI didn't understand this part, why do you say it makes extra operators that does basically nothing? The nodes and operators will still be the exact same as specified in the plan, we just decide which function to use based on the type. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513536612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513562159","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1513562159","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1513562159,"node_id":"IC_kwDOATCU_c5aNyAv","user":{"login":"swaminathanmanish","id":126024920,"node_id":"U_kgDOB4L82A","avatar_url":"https://avatars.githubusercontent.com/u/126024920?v=4","gravatar_id":"","url":"https://api.github.com/users/swaminathanmanish","html_url":"https://github.com/swaminathanmanish","followers_url":"https://api.github.com/users/swaminathanmanish/followers","following_url":"https://api.github.com/users/swaminathanmanish/following{/other_user}","gists_url":"https://api.github.com/users/swaminathanmanish/gists{/gist_id}","starred_url":"https://api.github.com/users/swaminathanmanish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swaminathanmanish/subscriptions","organizations_url":"https://api.github.com/users/swaminathanmanish/orgs","repos_url":"https://api.github.com/users/swaminathanmanish/repos","events_url":"https://api.github.com/users/swaminathanmanish/events{/privacy}","received_events_url":"https://api.github.com/users/swaminathanmanish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T17:38:58Z","updated_at":"2023-04-18T17:38:58Z","author_association":"CONTRIBUTOR","body":"> I had a similar use case where we wanted to avoid a check if all the `to segments` will be online or not. We were planning to add a boolean flag to the endReplacementAPI call to skip the toSegments online check. cc @jtao15 can add more to this\r\n\r\nThanks for the context. Please let me know if this PR will handle your usecase as well. We still wanted to enforce the checks on toSegments, but provide the flexibility to pass in a subset of toSegments (cc @snleee). ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513562159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513565769","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1513565769","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1513565769,"node_id":"IC_kwDOATCU_c5aNy5J","user":{"login":"jtao15","id":50065407,"node_id":"MDQ6VXNlcjUwMDY1NDA3","avatar_url":"https://avatars.githubusercontent.com/u/50065407?v=4","gravatar_id":"","url":"https://api.github.com/users/jtao15","html_url":"https://github.com/jtao15","followers_url":"https://api.github.com/users/jtao15/followers","following_url":"https://api.github.com/users/jtao15/following{/other_user}","gists_url":"https://api.github.com/users/jtao15/gists{/gist_id}","starred_url":"https://api.github.com/users/jtao15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtao15/subscriptions","organizations_url":"https://api.github.com/users/jtao15/orgs","repos_url":"https://api.github.com/users/jtao15/repos","events_url":"https://api.github.com/users/jtao15/events{/privacy}","received_events_url":"https://api.github.com/users/jtao15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T17:42:06Z","updated_at":"2023-04-18T17:42:06Z","author_association":"CONTRIBUTOR","body":"@swaminathanmanish For me to understand the use case, is it possible to avoid generating empty files in your offline data source? I feel like it would be cleaner to avoid generating empty files instead of  changing the protocol.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513565769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513574128","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1513574128","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1513574128,"node_id":"IC_kwDOATCU_c5aN07w","user":{"login":"jtao15","id":50065407,"node_id":"MDQ6VXNlcjUwMDY1NDA3","avatar_url":"https://avatars.githubusercontent.com/u/50065407?v=4","gravatar_id":"","url":"https://api.github.com/users/jtao15","html_url":"https://github.com/jtao15","followers_url":"https://api.github.com/users/jtao15/followers","following_url":"https://api.github.com/users/jtao15/following{/other_user}","gists_url":"https://api.github.com/users/jtao15/gists{/gist_id}","starred_url":"https://api.github.com/users/jtao15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtao15/subscriptions","organizations_url":"https://api.github.com/users/jtao15/orgs","repos_url":"https://api.github.com/users/jtao15/repos","events_url":"https://api.github.com/users/jtao15/events{/privacy}","received_events_url":"https://api.github.com/users/jtao15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T17:49:43Z","updated_at":"2023-04-18T17:49:43Z","author_association":"CONTRIBUTOR","body":"@GSharayu @swaminathanmanish I think our use case is different, we have a benchmarking service, and would like to use the HWs smarter for consistent push enabled table. The ideal is to create the table first, and push the segments before allocating the HWs for benchmarking. We would like to skip the externalview check or make the check configurable. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513574128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513576438","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1513576438","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1513576438,"node_id":"IC_kwDOATCU_c5aN1f2","user":{"login":"swaminathanmanish","id":126024920,"node_id":"U_kgDOB4L82A","avatar_url":"https://avatars.githubusercontent.com/u/126024920?v=4","gravatar_id":"","url":"https://api.github.com/users/swaminathanmanish","html_url":"https://github.com/swaminathanmanish","followers_url":"https://api.github.com/users/swaminathanmanish/followers","following_url":"https://api.github.com/users/swaminathanmanish/following{/other_user}","gists_url":"https://api.github.com/users/swaminathanmanish/gists{/gist_id}","starred_url":"https://api.github.com/users/swaminathanmanish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swaminathanmanish/subscriptions","organizations_url":"https://api.github.com/users/swaminathanmanish/orgs","repos_url":"https://api.github.com/users/swaminathanmanish/repos","events_url":"https://api.github.com/users/swaminathanmanish/events{/privacy}","received_events_url":"https://api.github.com/users/swaminathanmanish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T17:51:48Z","updated_at":"2023-04-18T18:12:27Z","author_association":"CONTRIBUTOR","body":"> @swaminathanmanish For me to understand the use case, is it possible to avoid generating empty files in your offline data source? I feel like it would be cleaner to avoid generating empty files instead of changing the protocol.\r\n\r\nSure, for our ingestion usecase, we want to do a global atomic switch (fromSegments to toSegments), for data consistency reasons. We plan to do this in the Minion task generator, where we have the old & new segment names, since we use fixed name generator. We initiate the \"start phase\" when tasks are created and \"end phase\" after all tasks have been executed, in the generator. However the files are read only in the executor and can be empty (empty rows). Hence we need to be able to provide a subset of toSegments for the end phase. \r\n\r\nNote that this is a subset from the original toSegment list.\r\nGiven the 2 separate phases and things can happen between the phases, we felt this is a valid usecase. \r\n\r\nCould you describe your concerns if you have, about this change ? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513576438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513590838","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1513590838","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1513590838,"node_id":"IC_kwDOATCU_c5aN5A2","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T18:04:55Z","updated_at":"2023-04-18T18:04:55Z","author_association":"CONTRIBUTOR","body":"It should be simple to add. The concern is that it is backward incompatible (LIKE will be case sensitive after the change), but it is the correct thing to do. We need to clearly point out the behavior change to the users.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513590838/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513603392","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1513603392","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1513603392,"node_id":"IC_kwDOATCU_c5aN8FA","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T18:14:16Z","updated_at":"2023-04-18T18:16:51Z","author_association":"CONTRIBUTOR","body":"@jtao15 @GSharayu I think that your use case can be modeled as:\r\n\r\n```\r\n// bypass the external view check\r\nendReplacementProtocol(lineageId, [] <- empty list);\r\n\r\n// old behavior for backward compatibility - check everything\r\nendReplacementProtocol(lineageId, null);\r\n```\r\nThe above will bypass the external view's existence check. How do you think? In that way, we can avoid adding another boolean flag and this PR will cover your exact need.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513603392/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513614841","html_url":"https://github.com/apache/pinot/pull/10635#issuecomment-1513614841","issue_url":"https://api.github.com/repos/apache/pinot/issues/10635","id":1513614841,"node_id":"IC_kwDOATCU_c5aN-35","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T18:23:26Z","updated_at":"2023-04-24T19:48:35Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10635?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10635](https://codecov.io/gh/apache/pinot/pull/10635?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (be1d054) into [master](https://codecov.io/gh/apache/pinot/commit/49149472630159d7a7f5f49cdf81cbf9b0bd5e00?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4914947) will **decrease** coverage by `37.85%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10635       +/-   ##\n=============================================\n- Coverage     70.27%   32.42%   -37.85%     \n+ Complexity     6514      462     -6052     \n=============================================\n  Files          2108     2108               \n  Lines        113904   113904               \n  Branches      17192    17192               \n=============================================\n- Hits          80049    36938    -43111     \n- Misses        28249    73706    +45457     \n+ Partials       5606     3260     -2346     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `23.95% <ø> (+0.01%)` | :arrow_up: |\n| unittests1 | `?` | |\n| unittests2 | `13.84% <ø> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 1324 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10635/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513614841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513652680","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1513652680","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1513652680,"node_id":"IC_kwDOATCU_c5aOIHI","user":{"login":"jtao15","id":50065407,"node_id":"MDQ6VXNlcjUwMDY1NDA3","avatar_url":"https://avatars.githubusercontent.com/u/50065407?v=4","gravatar_id":"","url":"https://api.github.com/users/jtao15","html_url":"https://github.com/jtao15","followers_url":"https://api.github.com/users/jtao15/followers","following_url":"https://api.github.com/users/jtao15/following{/other_user}","gists_url":"https://api.github.com/users/jtao15/gists{/gist_id}","starred_url":"https://api.github.com/users/jtao15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtao15/subscriptions","organizations_url":"https://api.github.com/users/jtao15/orgs","repos_url":"https://api.github.com/users/jtao15/repos","events_url":"https://api.github.com/users/jtao15/events{/privacy}","received_events_url":"https://api.github.com/users/jtao15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T18:56:08Z","updated_at":"2023-04-18T18:56:41Z","author_association":"CONTRIBUTOR","body":"@snleee I thought `endReplacementProtocol(lineageId, [] <- empty list);` will also update the segmentsTo in lineage entry to empty. Did I miss anything here?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513652680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513691057","html_url":"https://github.com/apache/pinot/pull/10634#issuecomment-1513691057","issue_url":"https://api.github.com/repos/apache/pinot/issues/10634","id":1513691057,"node_id":"IC_kwDOATCU_c5aORex","user":{"login":"apucher","id":25439965,"node_id":"MDQ6VXNlcjI1NDM5OTY1","avatar_url":"https://avatars.githubusercontent.com/u/25439965?v=4","gravatar_id":"","url":"https://api.github.com/users/apucher","html_url":"https://github.com/apucher","followers_url":"https://api.github.com/users/apucher/followers","following_url":"https://api.github.com/users/apucher/following{/other_user}","gists_url":"https://api.github.com/users/apucher/gists{/gist_id}","starred_url":"https://api.github.com/users/apucher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apucher/subscriptions","organizations_url":"https://api.github.com/users/apucher/orgs","repos_url":"https://api.github.com/users/apucher/repos","events_url":"https://api.github.com/users/apucher/events{/privacy}","received_events_url":"https://api.github.com/users/apucher/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T19:31:33Z","updated_at":"2023-04-18T19:31:47Z","author_association":"CONTRIBUTOR","body":"Unfortunately, this potentially gives admin-like powers (i.e. table un-specific access) to users with limited sets of tables.\r\n\r\nWe should review the required permissions from the UI side. Maybe there's a limited view we can expose","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513691057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513694877","html_url":"https://github.com/apache/pinot/issues/10615#issuecomment-1513694877","issue_url":"https://api.github.com/repos/apache/pinot/issues/10615","id":1513694877,"node_id":"IC_kwDOATCU_c5aOSad","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T19:35:11Z","updated_at":"2023-04-18T19:35:11Z","author_association":"CONTRIBUTOR","body":"Trying to understand the proposal here. Are you suggesting removing the 4 unused enums?\r\nIn long term, we want to use `indexes` config and remove `IndexType`, so I'm okay removing the unused one and add some comments stating that the remaining 4 are for backward compatibility purpose","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513694877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513700000","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1513700000","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1513700000,"node_id":"IC_kwDOATCU_c5aOTqg","user":{"login":"swaminathanmanish","id":126024920,"node_id":"U_kgDOB4L82A","avatar_url":"https://avatars.githubusercontent.com/u/126024920?v=4","gravatar_id":"","url":"https://api.github.com/users/swaminathanmanish","html_url":"https://github.com/swaminathanmanish","followers_url":"https://api.github.com/users/swaminathanmanish/followers","following_url":"https://api.github.com/users/swaminathanmanish/following{/other_user}","gists_url":"https://api.github.com/users/swaminathanmanish/gists{/gist_id}","starred_url":"https://api.github.com/users/swaminathanmanish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swaminathanmanish/subscriptions","organizations_url":"https://api.github.com/users/swaminathanmanish/orgs","repos_url":"https://api.github.com/users/swaminathanmanish/repos","events_url":"https://api.github.com/users/swaminathanmanish/events{/privacy}","received_events_url":"https://api.github.com/users/swaminathanmanish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T19:40:05Z","updated_at":"2023-04-18T20:07:23Z","author_association":"CONTRIBUTOR","body":"> @GSharayu @swaminathanmanish I think our use case is different, we have a benchmarking service, and would like to use the HWs smarter for consistent push enabled table. The ideal is to create the table first, and push the segments before allocating the HWs for benchmarking. We would like to skip the externalview check or make the check configurable.\r\n\r\n\r\n> @snleee I thought `endReplacementProtocol(lineageId, [] <- empty list);` will also update the segmentsTo in lineage entry to empty. Did I miss anything here?\r\n\r\nYes you are right. The lineage entry will be updated with the new toSegments list. For your usecase, we want to just skip the waitForSegmentsBecomeOnline check ? \r\nCan the boolean be part of the new EndReplaceSegment object ? \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513700000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513734499","html_url":"https://github.com/apache/pinot/issues/10467#issuecomment-1513734499","issue_url":"https://api.github.com/repos/apache/pinot/issues/10467","id":1513734499,"node_id":"IC_kwDOATCU_c5aOcFj","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T20:07:20Z","updated_at":"2023-04-18T20:07:20Z","author_association":"CONTRIBUTOR","body":"@tibrewalpratik17 Can you check what content is stored within the `_tmp` folder? You'll need to directly log onto the server. The `_tmp` folder should contain the temporary mmap files for the consuming segment, so it is quite surprising that it can take 60% of the disk.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513734499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513740743","html_url":"https://github.com/apache/pinot/issues/10467#issuecomment-1513740743","issue_url":"https://api.github.com/repos/apache/pinot/issues/10467","id":1513740743,"node_id":"IC_kwDOATCU_c5aOdnH","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T20:13:13Z","updated_at":"2023-04-18T20:13:13Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang the content of the `_tmp` folder was of this nature for the table I am talking about:\r\n\r\n```\r\n922G\tcol1.dict\r\n0\tcol1.sv.unsorted.fwd\r\n27G\tcol2.dict\r\n0\tcol2.sv.sorted.fwd\r\n```\r\n\r\nI had to manually delete this folder to get the server started again. Here `col1` and `col2` are just `STRING` based columns.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513740743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513792564","html_url":"https://github.com/apache/pinot/pull/10630#issuecomment-1513792564","issue_url":"https://api.github.com/repos/apache/pinot/issues/10630","id":1513792564,"node_id":"IC_kwDOATCU_c5aOqQ0","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T21:04:01Z","updated_at":"2023-04-18T21:04:01Z","author_association":"CONTRIBUTOR","body":"@jtao15 Yes, you're right. I didn't go over this PR in detail when I wrote the comment above. Yes, we need the separate flag (bypassing the external view check) for your use case.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513792564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513815262","html_url":"https://github.com/apache/pinot/issues/10552#issuecomment-1513815262","issue_url":"https://api.github.com/repos/apache/pinot/issues/10552","id":1513815262,"node_id":"IC_kwDOATCU_c5aOvze","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T21:28:21Z","updated_at":"2023-04-18T21:28:21Z","author_association":"CONTRIBUTOR","body":"@ankitsultana is the 235th segment trying to transfer from `OFFLINE` to `CONSUMING` state? If so, that might explain the deadlock. When server starts consuming the 236th segment, 235th segment should be already in `ONLINE` state in ideal state. But server side might still be processing the `OFFLINE` to `CONSUMING` state, which is blocked by 236th segment because we only allow one consuming segment at the same time","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513815262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513818128","html_url":"https://github.com/apache/pinot/issues/10467#issuecomment-1513818128","issue_url":"https://api.github.com/repos/apache/pinot/issues/10467","id":1513818128,"node_id":"IC_kwDOATCU_c5aOwgQ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T21:31:36Z","updated_at":"2023-04-18T21:31:36Z","author_association":"CONTRIBUTOR","body":"Based on the file name, these are the dictionary file of the column. I have no idea why they are so large. Do you know the content of `col1`? Is it expected to be this size? The dictionary contains the unique values of the column.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513818128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513820765","html_url":"https://github.com/apache/pinot/pull/10614#issuecomment-1513820765","issue_url":"https://api.github.com/repos/apache/pinot/issues/10614","id":1513820765,"node_id":"IC_kwDOATCU_c5aOxJd","user":{"login":"MeihanLi","id":42751784,"node_id":"MDQ6VXNlcjQyNzUxNzg0","avatar_url":"https://avatars.githubusercontent.com/u/42751784?v=4","gravatar_id":"","url":"https://api.github.com/users/MeihanLi","html_url":"https://github.com/MeihanLi","followers_url":"https://api.github.com/users/MeihanLi/followers","following_url":"https://api.github.com/users/MeihanLi/following{/other_user}","gists_url":"https://api.github.com/users/MeihanLi/gists{/gist_id}","starred_url":"https://api.github.com/users/MeihanLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MeihanLi/subscriptions","organizations_url":"https://api.github.com/users/MeihanLi/orgs","repos_url":"https://api.github.com/users/MeihanLi/repos","events_url":"https://api.github.com/users/MeihanLi/events{/privacy}","received_events_url":"https://api.github.com/users/MeihanLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T21:34:36Z","updated_at":"2023-04-18T21:34:36Z","author_association":"CONTRIBUTOR","body":"> LGTM otherwise\r\n\r\nThanks @Jackie-Jiang , comments are all addressed. Can you help take another look. Thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513820765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513851768","html_url":"https://github.com/apache/pinot/pull/10636#issuecomment-1513851768","issue_url":"https://api.github.com/repos/apache/pinot/issues/10636","id":1513851768,"node_id":"IC_kwDOATCU_c5aO4t4","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T22:10:45Z","updated_at":"2023-05-08T21:43:43Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10636](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b8a15ad) into [master](https://app.codecov.io/gh/apache/pinot/commit/53cb451ea9bdb9f375bfdb9775348f8d5e7b23c4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (53cb451) will **increase** coverage by `0.15%`.\n> The diff coverage is `86.31%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10636      +/-   ##\n============================================\n+ Coverage     70.28%   70.43%   +0.15%     \n- Complexity     6430     6462      +32     \n============================================\n  Files          2112     2140      +28     \n  Lines        113994   115088    +1094     \n  Branches      17219    17348     +129     \n============================================\n+ Hits          80121    81063     +942     \n- Misses        28275    28384     +109     \n- Partials       5598     5641      +43     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.20% <5.30%> (-0.12%)` | :arrow_down: |\n| integration2 | `23.92% <5.86%> (-0.18%)` | :arrow_down: |\n| unittests1 | `68.04% <85.71%> (+0.20%)` | :arrow_up: |\n| unittests2 | `13.74% <0.27%> (-0.08%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...va/org/apache/pinot/spi/utils/CommonConstants.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `26.74% <0.00%> (-0.32%)` | :arrow_down: |\n| [...regation/groupby/DummyAggregationResultHolder.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L0R1bW15QWdncmVnYXRpb25SZXN1bHRIb2xkZXIuamF2YQ==) | `14.28% <14.28%> (ø)` | |\n| [.../aggregation/groupby/DummyGroupByResultHolder.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L0R1bW15R3JvdXBCeVJlc3VsdEhvbGRlci5qYXZh) | `25.00% <25.00%> (ø)` | |\n| [...org/apache/pinot/core/common/ObjectSerDeUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vT2JqZWN0U2VyRGVVdGlscy5qYXZh) | `89.92% <53.33%> (-1.46%)` | :arrow_down: |\n| [...ls/argminmax/ArgMinMaxProjectionValSetWrapper.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi91dGlscy9hcmdtaW5tYXgvQXJnTWluTWF4UHJvamVjdGlvblZhbFNldFdyYXBwZXIuamF2YQ==) | `60.00% <60.00%> (ø)` | |\n| [...ils/argminmax/ArgMinMaxMeasuringValSetWrapper.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi91dGlscy9hcmdtaW5tYXgvQXJnTWluTWF4TWVhc3VyaW5nVmFsU2V0V3JhcHBlci5qYXZh) | `66.66% <66.66%> (ø)` | |\n| [...gation/utils/argminmax/ArgMinMaxWrapperValSet.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi91dGlscy9hcmdtaW5tYXgvQXJnTWluTWF4V3JhcHBlclZhbFNldC5qYXZh) | `72.22% <72.22%> (ø)` | |\n| [...y/aggregation/utils/argminmax/ArgMinMaxObject.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi91dGlscy9hcmdtaW5tYXgvQXJnTWluTWF4T2JqZWN0LmphdmE=) | `81.48% <81.48%> (ø)` | |\n| [...re/query/utils/rewriter/ResultRewriterFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9yZXdyaXRlci9SZXN1bHRSZXdyaXRlckZhY3RvcnkuamF2YQ==) | `84.21% <84.21%> (ø)` | |\n| [...n/function/ParentArgMinMaxAggregationFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QYXJlbnRBcmdNaW5NYXhBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `87.55% <87.55%> (ø)` | |\n| ... and [13 more](https://app.codecov.io/gh/apache/pinot/pull/10636?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [131 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10636/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513851768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513905597","html_url":"https://github.com/apache/pinot/pull/10639#issuecomment-1513905597","issue_url":"https://api.github.com/repos/apache/pinot/issues/10639","id":1513905597,"node_id":"IC_kwDOATCU_c5aPF29","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T23:23:43Z","updated_at":"2023-05-02T18:34:10Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10639?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10639](https://app.codecov.io/gh/apache/pinot/pull/10639?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (724aec9) into [master](https://app.codecov.io/gh/apache/pinot/commit/f6c6d14540500867a167859a05e6822b60ce25c2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f6c6d14) will **decrease** coverage by `56.55%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10639       +/-   ##\n=============================================\n- Coverage     70.35%   13.81%   -56.55%     \n+ Complexity     6464      439     -6025     \n=============================================\n  Files          2103     2060       -43     \n  Lines        112769   111585     -1184     \n  Branches      16981    16930       -51     \n=============================================\n- Hits          79341    15411    -63930     \n- Misses        27877    94915    +67038     \n+ Partials       5551     1259     -4292     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.81% <0.00%> (-0.07%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `0.00% <0.00%> (-67.42%)` | :arrow_down: |\n| [...ent/local/dedup/BaseTableDedupMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9CYXNlVGFibGVEZWR1cE1ldGFkYXRhTWFuYWdlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...up/ConcurrentMapPartitionDedupMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9Db25jdXJyZW50TWFwUGFydGl0aW9uRGVkdXBNZXRhZGF0YU1hbmFnZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [.../dedup/ConcurrentMapTableDedupMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9Db25jdXJyZW50TWFwVGFibGVEZWR1cE1ldGFkYXRhTWFuYWdlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [.../local/dedup/TableDedupMetadataManagerFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9UYWJsZURlZHVwTWV0YWRhdGFNYW5hZ2VyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...org/apache/pinot/spi/config/table/DedupConfig.java](https://app.codecov.io/gh/apache/pinot/pull/10639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0RlZHVwQ29uZmlnLmphdmE=) | `0.00% <0.00%> (-83.34%)` | :arrow_down: |\n\n... and [1697 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10639/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513905597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513915548","html_url":"https://github.com/apache/pinot/pull/10640#issuecomment-1513915548","issue_url":"https://api.github.com/repos/apache/pinot/issues/10640","id":1513915548,"node_id":"IC_kwDOATCU_c5aPISc","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T23:41:39Z","updated_at":"2023-04-18T23:41:39Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10640?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10640](https://codecov.io/gh/apache/pinot/pull/10640?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (da0bd2c) into [master](https://codecov.io/gh/apache/pinot/commit/2bde942a4cc5a6ddc45f497a674908da88bea41a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2bde942) will **decrease** coverage by `38.21%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10640       +/-   ##\n=============================================\n- Coverage     70.28%   32.07%   -38.21%     \n+ Complexity     6507      453     -6054     \n=============================================\n  Files          2105     2105               \n  Lines        113348   113348               \n  Branches      17089    17089               \n=============================================\n- Hits          79662    36357    -43305     \n- Misses        28101    73700    +45599     \n+ Partials       5585     3291     -2294     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.47% <ø> (+0.02%)` | :arrow_up: |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.85% <ø> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 1330 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10640/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513915548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513916811","html_url":"https://github.com/apache/pinot/pull/10641#issuecomment-1513916811","issue_url":"https://api.github.com/repos/apache/pinot/issues/10641","id":1513916811,"node_id":"IC_kwDOATCU_c5aPImL","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T23:44:12Z","updated_at":"2023-04-18T23:44:12Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10641?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10641](https://codecov.io/gh/apache/pinot/pull/10641?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ef736d4) into [master](https://codecov.io/gh/apache/pinot/commit/2bde942a4cc5a6ddc45f497a674908da88bea41a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2bde942) will **decrease** coverage by `56.42%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10641       +/-   ##\n=============================================\n- Coverage     70.28%   13.86%   -56.42%     \n+ Complexity     6507      439     -6068     \n=============================================\n  Files          2105     2051       -54     \n  Lines        113348   110861     -2487     \n  Branches      17089    16792      -297     \n=============================================\n- Hits          79662    15374    -64288     \n- Misses        28101    94230    +66129     \n+ Partials       5585     1257     -4328     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.86% <ø> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 1663 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10641/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513916811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513925019","html_url":"https://github.com/apache/pinot/pull/10614#issuecomment-1513925019","issue_url":"https://api.github.com/repos/apache/pinot/issues/10614","id":1513925019,"node_id":"IC_kwDOATCU_c5aPKmb","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T23:59:04Z","updated_at":"2023-04-18T23:59:14Z","author_association":"CONTRIBUTOR","body":"@MeihanLi Can you help update the pinot documentation to include this new feature?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513925019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513941488","html_url":"https://github.com/apache/pinot/pull/10623#issuecomment-1513941488","issue_url":"https://api.github.com/repos/apache/pinot/issues/10623","id":1513941488,"node_id":"IC_kwDOATCU_c5aPOnw","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T00:15:32Z","updated_at":"2023-04-19T00:16:22Z","author_association":"CONTRIBUTOR","body":"I think we should do two things:\r\n- Deprecate methods in `TableConfigBuilder` that do not construct the \"new\" format.\r\n- Determine why/how we want to expose a controller API that returns the internal representation in the \"new\" format. Maybe one way of doing this is to bump the version of the controller API (to say, V2).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513941488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513942681","html_url":"https://github.com/apache/pinot/pull/10614#issuecomment-1513942681","issue_url":"https://api.github.com/repos/apache/pinot/issues/10614","id":1513942681,"node_id":"IC_kwDOATCU_c5aPO6Z","user":{"login":"MeihanLi","id":42751784,"node_id":"MDQ6VXNlcjQyNzUxNzg0","avatar_url":"https://avatars.githubusercontent.com/u/42751784?v=4","gravatar_id":"","url":"https://api.github.com/users/MeihanLi","html_url":"https://github.com/MeihanLi","followers_url":"https://api.github.com/users/MeihanLi/followers","following_url":"https://api.github.com/users/MeihanLi/following{/other_user}","gists_url":"https://api.github.com/users/MeihanLi/gists{/gist_id}","starred_url":"https://api.github.com/users/MeihanLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MeihanLi/subscriptions","organizations_url":"https://api.github.com/users/MeihanLi/orgs","repos_url":"https://api.github.com/users/MeihanLi/repos","events_url":"https://api.github.com/users/MeihanLi/events{/privacy}","received_events_url":"https://api.github.com/users/MeihanLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T00:16:13Z","updated_at":"2023-04-19T06:46:49Z","author_association":"CONTRIBUTOR","body":"> @MeihanLi Can you help update the pinot documentation to include this new feature?\r\n\r\nThanks Jackie for merging it, documentation is updated here: https://github.com/pinot-contrib/pinot-docs/pull/164","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1513942681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514023056","html_url":"https://github.com/apache/pinot/pull/10614#issuecomment-1514023056","issue_url":"https://api.github.com/repos/apache/pinot/issues/10614","id":1514023056,"node_id":"IC_kwDOATCU_c5aPiiQ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T01:53:41Z","updated_at":"2023-04-19T01:53:41Z","author_association":"CONTRIBUTOR","body":"@MeihanLi By reading the pinot doc, I just realized that we already have a set of configs (`pinot.broker.http.server.thread.pool.corePoolSize` and `pinot.broker.http.server.thread.pool.maxPoolSize`) for http servers, which can be applied to all components. Are they for the same purpose? If so, are we able to integrate the new config at the same place? Currently they are applied in 2 different places, which is quite hard to manage.\r\n\r\ncc @apucher who has more context on how to config the rest server","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514023056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514032795","html_url":"https://github.com/apache/pinot/issues/10633#issuecomment-1514032795","issue_url":"https://api.github.com/repos/apache/pinot/issues/10633","id":1514032795,"node_id":"IC_kwDOATCU_c5aPk6b","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T02:06:58Z","updated_at":"2023-04-19T02:06:58Z","author_association":"CONTRIBUTOR","body":"For the context, the query override logic is in `BaseBrokerRequestHandler.handleTimestampIndexOverride()`.\r\nI'll vote for option 2 - making timestamp an actual index type. The current approach works, but is very hard to manage because it requires modifying table config, schema and query transparently.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514032795/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514037992","html_url":"https://github.com/apache/pinot/issues/10637#issuecomment-1514037992","issue_url":"https://api.github.com/repos/apache/pinot/issues/10637","id":1514037992,"node_id":"IC_kwDOATCU_c5aPmLo","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T02:16:23Z","updated_at":"2023-04-19T02:16:23Z","author_association":"CONTRIBUTOR","body":"Interesting.. We use `Math` library to calculate these values, and there should be no change between these 2 versions. Could it be caused by different jvm?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514037992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514066204","html_url":"https://github.com/apache/pinot/pull/10614#issuecomment-1514066204","issue_url":"https://api.github.com/repos/apache/pinot/issues/10614","id":1514066204,"node_id":"IC_kwDOATCU_c5aPtEc","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T03:00:01Z","updated_at":"2023-04-19T03:00:01Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang : Yeah I had added those. Those configs control the thread-pool for the sync APIs afaiu. We mainly use them for tuning the thread-pool size for the pinot-controllers.\r\n\r\nI think we don't really need to support that config for brokers. We could consider removing support for it to reduce confusion.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514066204/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514129085","html_url":"https://github.com/apache/pinot/pull/10642#issuecomment-1514129085","issue_url":"https://api.github.com/repos/apache/pinot/issues/10642","id":1514129085,"node_id":"IC_kwDOATCU_c5aP8a9","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T04:54:32Z","updated_at":"2023-04-19T05:19:19Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10642?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10642](https://codecov.io/gh/apache/pinot/pull/10642?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9f40e4f) into [master](https://codecov.io/gh/apache/pinot/commit/f2afe21b9962a0d676a7887edc999bcbee6c441d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f2afe21) will **increase** coverage by `0.00%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@            Coverage Diff            @@\n##             master   #10642   +/-   ##\n=========================================\n  Coverage     70.31%   70.32%           \n  Complexity     6495     6495           \n=========================================\n  Files          2106     2106           \n  Lines        113381   113374    -7     \n  Branches      17090    17089    -1     \n=========================================\n- Hits          79728    79725    -3     \n+ Misses        28059    28052    -7     \n- Partials       5594     5597    +3     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.39% <0.00%> (+<0.01%)` | :arrow_up: |\n| integration2 | `23.94% <0.00%> (-0.02%)` | :arrow_down: |\n| unittests1 | `67.86% <ø> (-0.02%)` | :arrow_down: |\n| unittests2 | `13.87% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10642?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...roller/helix/core/relocation/SegmentRelocator.java](https://codecov.io/gh/apache/pinot/pull/10642?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vU2VnbWVudFJlbG9jYXRvci5qYXZh) | `67.83% <0.00%> (+0.98%)` | :arrow_up: |\n\n... and [26 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10642/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514129085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514159842","html_url":"https://github.com/apache/pinot/pull/10638#issuecomment-1514159842","issue_url":"https://api.github.com/repos/apache/pinot/issues/10638","id":1514159842,"node_id":"IC_kwDOATCU_c5aQD7i","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T05:39:20Z","updated_at":"2023-04-19T05:39:20Z","author_association":"CONTRIBUTOR","body":"Label: `pinot-client` ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514159842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514197855","html_url":"https://github.com/apache/pinot/pull/10643#issuecomment-1514197855","issue_url":"https://api.github.com/repos/apache/pinot/issues/10643","id":1514197855,"node_id":"IC_kwDOATCU_c5aQNNf","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T06:29:20Z","updated_at":"2023-05-16T18:56:50Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10643](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (396e2c1) into [master](https://app.codecov.io/gh/apache/pinot/commit/579082c8030d9c1d9f61cd078229fca96f4d35ee?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (579082c) will **decrease** coverage by `50.75%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10643       +/-   ##\n=============================================\n- Coverage     64.40%   13.66%   -50.75%     \n+ Complexity     6446      439     -6007     \n=============================================\n  Files          2098     2103        +5     \n  Lines        113315   113521      +206     \n  Branches      17204    17255       +51     \n=============================================\n- Hits          72984    15511    -57473     \n- Misses        35082    96740    +61658     \n+ Partials       5249     1270     -3979     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests1 | `?` | |\n| unittests2 | `13.66% <0.00%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/pinot/core/common/ObjectSerDeUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vT2JqZWN0U2VyRGVVdGlscy5qYXZh) | `0.00% <0.00%> (-90.68%)` | :arrow_down: |\n| [...gregation/function/AggregationFunctionFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-83.34%)` | :arrow_down: |\n| [...ion/function/PercentileKLLAggregationFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlS0xMQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...n/function/PercentileKLLMVAggregationFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlS0xMTVZBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../function/PercentileRawKLLAggregationFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlUmF3S0xMQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...unction/PercentileRawKLLMVAggregationFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlUmF3S0xMTVZBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...inot/segment/local/customobject/SerializedKLL.java](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9jdXN0b21vYmplY3QvU2VyaWFsaXplZEtMTC5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...che/pinot/segment/spi/AggregationFunctionType.java](https://app.codecov.io/gh/apache/pinot/pull/10643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL0FnZ3JlZ2F0aW9uRnVuY3Rpb25UeXBlLmphdmE=) | `0.00% <0.00%> (-91.59%)` | :arrow_down: |\n\n... and [1444 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10643/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514197855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514229317","html_url":"https://github.com/apache/pinot/pull/10623#issuecomment-1514229317","issue_url":"https://api.github.com/repos/apache/pinot/issues/10623","id":1514229317,"node_id":"IC_kwDOATCU_c5aQU5F","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T07:02:48Z","updated_at":"2023-04-19T07:02:48Z","author_association":"CONTRIBUTOR","body":"> I think we should do two things:\r\n> \r\n> * Deprecate methods in `TableConfigBuilder` that do not construct the \"new\" format.\r\n> * Determine why/how we want to expose a controller API that returns the internal representation in the \"new\" format. Maybe one way of doing this is to bump the version of the controller API (to say, V2).\r\n\r\nAbout the _why_ part:\r\n\r\nThe scope of this PR is to offer a way to make it easier to update TableConfigs to the latest syntax. This is something the users can do by their self, but given that it is an error prone but deterministic process, a tool is recommended.\r\n\r\nThe new config method is easier to understand by humans and machines, so that is the why we want to expose a controller API. I don't get the _internal_ representation comment. Nothing is internal in the new config. Users can use this new syntax to configure indexes and in fact I created a PR changing the documentation in order to suggest users to use the new version (see https://github.com/pinot-contrib/pinot-docs/pull/162).\r\n\r\nAbout the _how_ part:\r\n\r\nI think deprecating methods and versioning the REST api is something interesting that we can discuss, but it is out of the scope of the task.\r\nWe invested large amounts of time trying to keep backward compatibility.\r\nTherefore that theoretical v2 should support anything supported by v1, which make me thing that adding versioning here is not a blocker and can be done in another PR where we can discuss how to do that.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514229317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514292529","html_url":"https://github.com/apache/pinot/issues/10644#issuecomment-1514292529","issue_url":"https://api.github.com/repos/apache/pinot/issues/10644","id":1514292529,"node_id":"IC_kwDOATCU_c5aQkUx","user":{"login":"yuanbenson","id":25168272,"node_id":"MDQ6VXNlcjI1MTY4Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/25168272?v=4","gravatar_id":"","url":"https://api.github.com/users/yuanbenson","html_url":"https://github.com/yuanbenson","followers_url":"https://api.github.com/users/yuanbenson/followers","following_url":"https://api.github.com/users/yuanbenson/following{/other_user}","gists_url":"https://api.github.com/users/yuanbenson/gists{/gist_id}","starred_url":"https://api.github.com/users/yuanbenson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuanbenson/subscriptions","organizations_url":"https://api.github.com/users/yuanbenson/orgs","repos_url":"https://api.github.com/users/yuanbenson/repos","events_url":"https://api.github.com/users/yuanbenson/events{/privacy}","received_events_url":"https://api.github.com/users/yuanbenson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T07:51:23Z","updated_at":"2023-04-19T07:51:23Z","author_association":"CONTRIBUTOR","body":"@snleee Thanks for bringing this up. Could you please help with PR review and #bugfix tagging? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514292529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514302380","html_url":"https://github.com/apache/pinot/issues/10615#issuecomment-1514302380","issue_url":"https://api.github.com/repos/apache/pinot/issues/10615","id":1514302380,"node_id":"IC_kwDOATCU_c5aQmus","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T07:59:33Z","updated_at":"2023-04-19T07:59:33Z","author_association":"CONTRIBUTOR","body":"I'm just describing the problems I found to open a discussion looking for solutions.\r\nRecently, I was involved in at least two discussion about the _timestamp index_ or the _sorted index_ where different people had different assumptions about the _indexTypes_ values and their meaning and I wanted to make clear how are they used from code's perspective in order to use that as a base on which we can build the _business_ or _product_ terms we want to define to talk with users and even between devs.\r\n\r\nAbout what to do with them. The options I see are:\r\n1. Remove them\r\n2. Ignore them (like what we do right now, but in a more consistent way)\r\n3. Honor them.\r\n\r\nI think the second is the better right now. Easier to implement and the one that doesn't actually impact existent table configs. It is not great from the developer perspective, but it is not that harmful.\r\n\r\n## Remove them\r\n\r\nAs you say, we cannot just remove literals without breaking backward compatibility.\r\nAt most, we may remove literals that were never documented.\r\nIf we do that, Pinot won't be able to read TableConfigs that were using undocumented things, but we can consider that if they are not documented, they are not part of the stable config and therefore there is no backward compatibility break.\r\n\r\n## Ignore them\r\n\r\nBut even if we do not remove them, we can use them in a deterministic way. \r\nFor example, we annotate them as deprecated and ensure that we don't use them anywhere (including tests).\r\nWe can also include a warning when they are using, to indicate users that these literals are actually doing nothing.\r\n\r\nSpecially in the case of _timestamp_, we should actually ignore the field and actually do the check if _timestampConfig_ is not null, which is what actually enable the _index_.\r\n\r\n## Honor them\r\n\r\nAnother alternative would be just the opposite.\r\nModify the code to actually change its behavior when these literals are present.\r\nThat would also be a backward incompatible change, but it may be seen as a bugfix, given that if the user included `range` in their `indexTypes`, we can assume they though that a range index was going to be created.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514302380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514562923","html_url":"https://github.com/apache/pinot/pull/10646#issuecomment-1514562923","issue_url":"https://api.github.com/repos/apache/pinot/issues/10646","id":1514562923,"node_id":"IC_kwDOATCU_c5aRmVr","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T11:22:22Z","updated_at":"2023-04-19T12:06:25Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10646?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10646](https://codecov.io/gh/apache/pinot/pull/10646?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5434e11) into [master](https://codecov.io/gh/apache/pinot/commit/8dab8034cf588be5d4d6c92db55dbbf3ebc51f7f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8dab803) will **decrease** coverage by `1.34%`.\n> The diff coverage is `71.42%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10646      +/-   ##\n============================================\n- Coverage     70.29%   68.96%   -1.34%     \n+ Complexity     6503     6495       -8     \n============================================\n  Files          2105     2106       +1     \n  Lines        113349   113397      +48     \n  Branches      17089    17092       +3     \n============================================\n- Hits          79674    78199    -1475     \n- Misses        28091    29694    +1603     \n+ Partials       5584     5504      -80     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `24.09% <23.80%> (+0.06%)` | :arrow_up: |\n| unittests1 | `67.87% <71.42%> (-0.01%)` | :arrow_down: |\n| unittests2 | `13.87% <0.00%> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ot/common/request/context/RequestContextUtils.java](https://codecov.io/gh/apache/pinot/pull/10646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L1JlcXVlc3RDb250ZXh0VXRpbHMuamF2YQ==) | `65.14% <50.00%> (ø)` | |\n| [...request/context/predicate/RegexpLikePredicate.java](https://codecov.io/gh/apache/pinot/pull/10646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9SZWdleHBMaWtlUHJlZGljYXRlLmphdmE=) | `62.50% <57.14%> (-2.21%)` | :arrow_down: |\n| [.../pinot/common/function/scalar/StringFunctions.java](https://codecov.io/gh/apache/pinot/pull/10646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vc2NhbGFyL1N0cmluZ0Z1bmN0aW9ucy5qYXZh) | `78.86% <83.33%> (-0.09%)` | :arrow_down: |\n\n... and [161 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10646/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514562923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514883233","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1514883233","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1514883233,"node_id":"IC_kwDOATCU_c5aS0ih","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:54:04Z","updated_at":"2023-04-19T14:54:04Z","author_association":"CONTRIBUTOR","body":"this is to me not a backward compatibility but more like a long-overdue bug fix. :-P","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1514883233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515146396","html_url":"https://github.com/apache/pinot/pull/10535#issuecomment-1515146396","issue_url":"https://api.github.com/repos/apache/pinot/issues/10535","id":1515146396,"node_id":"IC_kwDOATCU_c5aT0yc","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T17:58:42Z","updated_at":"2023-04-19T17:58:42Z","author_association":"CONTRIBUTOR","body":"@xiangfu0 : Can you add tests which demonstrate what the plan is going to look like for queries with set-ops?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515146396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515192807","html_url":"https://github.com/apache/pinot/pull/10645#issuecomment-1515192807","issue_url":"https://api.github.com/repos/apache/pinot/issues/10645","id":1515192807,"node_id":"IC_kwDOATCU_c5aUAHn","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T18:35:29Z","updated_at":"2023-04-19T18:35:29Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10645?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10645](https://codecov.io/gh/apache/pinot/pull/10645?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (548e067) into [master](https://codecov.io/gh/apache/pinot/commit/f2afe21b9962a0d676a7887edc999bcbee6c441d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f2afe21) will **decrease** coverage by `56.44%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10645       +/-   ##\n=============================================\n- Coverage     70.31%   13.88%   -56.44%     \n+ Complexity     6495      439     -6056     \n=============================================\n  Files          2106     2052       -54     \n  Lines        113381   110965     -2416     \n  Branches      17090    16802      -288     \n=============================================\n- Hits          79728    15403    -64325     \n- Misses        28059    94306    +66247     \n+ Partials       5594     1256     -4338     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.88% <0.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10645?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...gestion/batch/common/BaseSegmentPushJobRunner.java](https://codecov.io/gh/apache/pinot/pull/10645?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1iYXRjaC1pbmdlc3Rpb24vcGlub3QtYmF0Y2gtaW5nZXN0aW9uLWNvbW1vbi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL2luZ2VzdGlvbi9iYXRjaC9jb21tb24vQmFzZVNlZ21lbnRQdXNoSm9iUnVubmVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...tion/batch/standalone/SegmentTarPushJobRunner.java](https://codecov.io/gh/apache/pinot/pull/10645?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1iYXRjaC1pbmdlc3Rpb24vcGlub3QtYmF0Y2gtaW5nZXN0aW9uLXN0YW5kYWxvbmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9pbmdlc3Rpb24vYmF0Y2gvc3RhbmRhbG9uZS9TZWdtZW50VGFyUHVzaEpvYlJ1bm5lci5qYXZh) | `0.00% <0.00%> (ø)` | |\n\n... and [1661 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10645/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515192807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515255142","html_url":"https://github.com/apache/pinot/pull/10564#issuecomment-1515255142","issue_url":"https://api.github.com/repos/apache/pinot/issues/10564","id":1515255142,"node_id":"IC_kwDOATCU_c5aUPVm","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T19:23:11Z","updated_at":"2023-04-19T19:23:11Z","author_association":"CONTRIBUTOR","body":"tagging @Jackie-Jiang to take a look as well","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515255142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515375738","html_url":"https://github.com/apache/pinot/pull/10649#issuecomment-1515375738","issue_url":"https://api.github.com/repos/apache/pinot/issues/10649","id":1515375738,"node_id":"IC_kwDOATCU_c5aUsx6","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T21:02:37Z","updated_at":"2023-04-19T23:05:25Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10649?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10649](https://codecov.io/gh/apache/pinot/pull/10649?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9b0f67b) into [master](https://codecov.io/gh/apache/pinot/commit/f2afe21b9962a0d676a7887edc999bcbee6c441d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f2afe21) will **decrease** coverage by `1.85%`.\n> The diff coverage is `87.23%`.\n\n> :exclamation: Current head 9b0f67b differs from pull request most recent head b148a6b. Consider uploading reports for the commit b148a6b to get more accurate results\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10649      +/-   ##\n============================================\n- Coverage     70.31%   68.47%   -1.85%     \n+ Complexity     6495     5611     -884     \n============================================\n  Files          2106     2107       +1     \n  Lines        113381   113492     +111     \n  Branches      17090    17110      +20     \n============================================\n- Hits          79728    77713    -2015     \n- Misses        28059    30235    +2176     \n+ Partials       5594     5544      -50     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.35% <0.00%> (-0.04%)` | :arrow_down: |\n| integration2 | `?` | |\n| unittests1 | `67.88% <87.23%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.88% <0.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10649?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...gregation/function/AggregationFunctionFactory.java](https://codecov.io/gh/apache/pinot/pull/10649?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uRmFjdG9yeS5qYXZh) | `82.82% <78.57%> (+0.27%)` | :arrow_up: |\n| [...function/PercentileTDigestAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10649?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlVERpZ2VzdEFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `81.81% <82.35%> (+1.59%)` | :arrow_up: |\n| [...ction/PercentileRawTDigestAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10649?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlUmF3VERpZ2VzdEFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `100.00% <100.00%> (ø)` | |\n| [...ion/PercentileRawTDigestMVAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10649?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlUmF3VERpZ2VzdE1WQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `71.42% <100.00%> (+11.42%)` | :arrow_up: |\n| [...nction/PercentileTDigestMVAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/10649?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlVERpZ2VzdE1WQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `100.00% <100.00%> (ø)` | |\n\n... and [182 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10649/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515375738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515422574","html_url":"https://github.com/apache/pinot/pull/10623#issuecomment-1515422574","issue_url":"https://api.github.com/repos/apache/pinot/issues/10623","id":1515422574,"node_id":"IC_kwDOATCU_c5aU4Nu","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T21:42:06Z","updated_at":"2023-04-19T21:42:06Z","author_association":"CONTRIBUTOR","body":"If we can commit everything except the API, let us do that. And we can introduce the API in the next PR.\r\n\r\nBy \"internal\" I meant the table config that is stored in zk. I think what we are trying to do here is to return a (possibly) different representation other than what is stored in zk. Correct me if I am wrong.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515422574/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515464539","html_url":"https://github.com/apache/pinot/pull/10535#issuecomment-1515464539","issue_url":"https://api.github.com/repos/apache/pinot/issues/10535","id":1515464539,"node_id":"IC_kwDOATCU_c5aVCdb","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T22:30:25Z","updated_at":"2023-04-19T22:30:25Z","author_association":"CONTRIBUTOR","body":"> @xiangfu0 : Can you add tests which demonstrate what the plan is going to look like for queries with set-ops?\r\n\r\nAdded a SetOpPlans.json file","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515464539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515465915","html_url":"https://github.com/apache/pinot/pull/10650#issuecomment-1515465915","issue_url":"https://api.github.com/repos/apache/pinot/issues/10650","id":1515465915,"node_id":"IC_kwDOATCU_c5aVCy7","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T22:32:32Z","updated_at":"2023-05-26T01:18:24Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10650?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10650](https://app.codecov.io/gh/apache/pinot/pull/10650?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (950be4a) into [master](https://app.codecov.io/gh/apache/pinot/commit/ded7e8f5ed63dbf41fb1cdff2e6bc86672e496aa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (ded7e8f) will **decrease** coverage by `0.08%`.\n> The diff coverage is `82.05%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10650      +/-   ##\n============================================\n- Coverage     70.26%   70.18%   -0.08%     \n  Complexity     6517     6517              \n============================================\n  Files          2164     2164              \n  Lines        116311   116336      +25     \n  Branches      17590    17594       +4     \n============================================\n- Hits          81721    81655      -66     \n- Misses        28874    28990     +116     \n+ Partials       5716     5691      -25     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.01% <28.20%> (-0.05%)` | :arrow_down: |\n| integration2 | `23.43% <28.20%> (-0.25%)` | :arrow_down: |\n| unittests1 | `67.68% <82.05%> (-0.10%)` | :arrow_down: |\n| unittests2 | `13.67% <0.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...r/transform/function/LiteralTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vTGl0ZXJhbFRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `72.82% <0.00%> (-1.90%)` | :arrow_down: |\n| [...sform/function/ScalarTransformFunctionWrapper.java](https://app.codecov.io/gh/apache/pinot/pull/10650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vU2NhbGFyVHJhbnNmb3JtRnVuY3Rpb25XcmFwcGVyLmphdmE=) | `55.66% <50.00%> (-0.69%)` | :arrow_down: |\n| [...e/pinot/common/request/context/LiteralContext.java](https://app.codecov.io/gh/apache/pinot/pull/10650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L0xpdGVyYWxDb250ZXh0LmphdmE=) | `84.61% <90.62%> (-0.39%)` | :arrow_down: |\n\n... and [39 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10650/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515465915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515474467","html_url":"https://github.com/apache/pinot/issues/10567#issuecomment-1515474467","issue_url":"https://api.github.com/repos/apache/pinot/issues/10567","id":1515474467,"node_id":"IC_kwDOATCU_c5aVE4j","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T22:43:37Z","updated_at":"2023-04-19T22:43:37Z","author_association":"CONTRIBUTOR","body":"We can close this issue. thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515474467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515474710","html_url":"https://github.com/apache/pinot/issues/10459#issuecomment-1515474710","issue_url":"https://api.github.com/repos/apache/pinot/issues/10459","id":1515474710,"node_id":"IC_kwDOATCU_c5aVE8W","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T22:44:01Z","updated_at":"2023-04-19T22:44:01Z","author_association":"CONTRIBUTOR","body":"I think we can close this issue. thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515474710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515524026","html_url":"https://github.com/apache/pinot/pull/10649#issuecomment-1515524026","issue_url":"https://api.github.com/repos/apache/pinot/issues/10649","id":1515524026,"node_id":"IC_kwDOATCU_c5aVQ-6","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T23:58:59Z","updated_at":"2023-04-19T23:58:59Z","author_association":"CONTRIBUTOR","body":"The test failures don't seem to be related to this PR. Other PRs seem to be seeing the same env issues. \r\n\r\nLocally tests and build are passing so merging. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515524026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515535457","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1515535457","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1515535457,"node_id":"IC_kwDOATCU_c5aVTxh","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T00:08:58Z","updated_at":"2023-04-20T00:08:58Z","author_association":"CONTRIBUTOR","body":"Seems `ILIKE` is not in the SQL standard, but a PostgreSQL extension, and I cannot find it under the Calcite `SqlKind`. \r\nDifferent database have different behavior on `LIKE` (I tried the [engine](https://www.w3schools.com/sql/sql_like.asp) in W3 School and it is case insensitive).\r\nSince it is not standard SQL, we should discuss if we want to follow the PostgreSQL behavior.\r\ncc @siddharthteotia @jadami10 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515535457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515577099","html_url":"https://github.com/apache/pinot/issues/10637#issuecomment-1515577099","issue_url":"https://api.github.com/repos/apache/pinot/issues/10637","id":1515577099,"node_id":"IC_kwDOATCU_c5aVd8L","user":{"login":"elonazoulay","id":1587350,"node_id":"MDQ6VXNlcjE1ODczNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1587350?v=4","gravatar_id":"","url":"https://api.github.com/users/elonazoulay","html_url":"https://github.com/elonazoulay","followers_url":"https://api.github.com/users/elonazoulay/followers","following_url":"https://api.github.com/users/elonazoulay/following{/other_user}","gists_url":"https://api.github.com/users/elonazoulay/gists{/gist_id}","starred_url":"https://api.github.com/users/elonazoulay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elonazoulay/subscriptions","organizations_url":"https://api.github.com/users/elonazoulay/orgs","repos_url":"https://api.github.com/users/elonazoulay/repos","events_url":"https://api.github.com/users/elonazoulay/events{/privacy}","received_events_url":"https://api.github.com/users/elonazoulay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T01:16:05Z","updated_at":"2023-04-20T01:16:05Z","author_association":"CONTRIBUTOR","body":"For testing, I'm running the same version of everything except the pinot docker image - same config and args. \r\nBoth the 0.12.1 and 0.11.0 image use java 11.0.16.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515577099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515818759","html_url":"https://github.com/apache/pinot/pull/10623#issuecomment-1515818759","issue_url":"https://api.github.com/repos/apache/pinot/issues/10623","id":1515818759,"node_id":"IC_kwDOATCU_c5aWY8H","user":{"login":"shounakmk219","id":25409127,"node_id":"MDQ6VXNlcjI1NDA5MTI3","avatar_url":"https://avatars.githubusercontent.com/u/25409127?v=4","gravatar_id":"","url":"https://api.github.com/users/shounakmk219","html_url":"https://github.com/shounakmk219","followers_url":"https://api.github.com/users/shounakmk219/followers","following_url":"https://api.github.com/users/shounakmk219/following{/other_user}","gists_url":"https://api.github.com/users/shounakmk219/gists{/gist_id}","starred_url":"https://api.github.com/users/shounakmk219/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shounakmk219/subscriptions","organizations_url":"https://api.github.com/users/shounakmk219/orgs","repos_url":"https://api.github.com/users/shounakmk219/repos","events_url":"https://api.github.com/users/shounakmk219/events{/privacy}","received_events_url":"https://api.github.com/users/shounakmk219/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T07:06:30Z","updated_at":"2023-04-20T07:06:30Z","author_association":"COLLABORATOR","body":"Sure we can take the API changes in another PR. \r\n\r\n> I think what we are trying to do here is to return a (possibly) different representation other than what is stored in zk\r\n\r\nThat's correct, but only when the user demands it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515818759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515983152","html_url":"https://github.com/apache/pinot/pull/10653#issuecomment-1515983152","issue_url":"https://api.github.com/repos/apache/pinot/issues/10653","id":1515983152,"node_id":"IC_kwDOATCU_c5aXBEw","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T09:06:28Z","updated_at":"2023-10-04T09:28:33Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10653?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10653](https://app.codecov.io/gh/apache/pinot/pull/10653?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (72aa9aa) into [master](https://app.codecov.io/gh/apache/pinot/commit/873992f93d350ded958e20856ae455da89f990be?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (873992f) will **increase** coverage by `0.13%`.\n> The diff coverage is `42.85%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10653      +/-   ##\n============================================\n+ Coverage     62.95%   63.09%   +0.13%     \n- Complexity     1114     1115       +1     \n============================================\n  Files          2342     2342              \n  Lines        125919   125925       +6     \n  Branches      19362    19362              \n============================================\n+ Hits          79278    79458     +180     \n+ Misses        40979    40810     -169     \n+ Partials       5662     5657       -5     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (ø)` | |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (ø)` | |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.04% <42.85%> (+48.62%)` | :arrow_up: |\n| [java-17](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `62.95% <42.85%> (+48.54%)` | :arrow_up: |\n| [java-20](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `62.93% <42.85%> (-0.02%)` | :arrow_down: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.09% <42.85%> (+0.13%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.09% <42.85%> (+0.13%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `67.25% <42.85%> (+0.19%)` | :arrow_up: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/10653/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `14.42% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/10653?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...al/segment/index/nullvalue/NullValueIndexType.java](https://app.codecov.io/gh/apache/pinot/pull/10653?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L251bGx2YWx1ZS9OdWxsVmFsdWVJbmRleFR5cGUuamF2YQ==) | `75.00% <100.00%> (-9.62%)` | :arrow_down: |\n| [...che/pinot/segment/spi/index/AbstractIndexType.java](https://app.codecov.io/gh/apache/pinot/pull/10653?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L0Fic3RyYWN0SW5kZXhUeXBlLmphdmE=) | `90.19% <33.33%> (-3.69%)` | :arrow_down: |\n| [...ment/spi/index/MergedColumnConfigDeserializer.java](https://app.codecov.io/gh/apache/pinot/pull/10653?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L01lcmdlZENvbHVtbkNvbmZpZ0Rlc2VyaWFsaXplci5qYXZh) | `62.85% <0.00%> (-13.01%)` | :arrow_down: |\n\n... and [21 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10653/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1515983152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516031340","html_url":"https://github.com/apache/pinot/pull/10625#issuecomment-1516031340","issue_url":"https://api.github.com/repos/apache/pinot/issues/10625","id":1516031340,"node_id":"IC_kwDOATCU_c5aXM1s","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T09:42:55Z","updated_at":"2023-04-20T09:42:55Z","author_association":"CONTRIBUTOR","body":"@jtao15 can you also take a look please?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516031340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516781203","html_url":"https://github.com/apache/pinot/pull/10493#issuecomment-1516781203","issue_url":"https://api.github.com/repos/apache/pinot/issues/10493","id":1516781203,"node_id":"IC_kwDOATCU_c5aaD6T","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T18:40:34Z","updated_at":"2023-04-20T18:40:34Z","author_association":"CONTRIBUTOR","body":"closing as i discussed with @Jackie-Jiang we are mixing up serialized info and non-serialized context and causing some unrealistic refactor if we decided to go down this path. will redesign the changes ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516781203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516784366","html_url":"https://github.com/apache/pinot/pull/10639#issuecomment-1516784366","issue_url":"https://api.github.com/repos/apache/pinot/issues/10639","id":1516784366,"node_id":"IC_kwDOATCU_c5aaEru","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T18:43:25Z","updated_at":"2023-04-20T18:43:25Z","author_association":"CONTRIBUTOR","body":"LGTM. @Jackie-Jiang can you also take a look?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516784366/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516813309","html_url":"https://github.com/apache/pinot/pull/10655#issuecomment-1516813309","issue_url":"https://api.github.com/repos/apache/pinot/issues/10655","id":1516813309,"node_id":"IC_kwDOATCU_c5aaLv9","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T19:07:32Z","updated_at":"2023-04-27T12:34:54Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10655?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10655](https://codecov.io/gh/apache/pinot/pull/10655?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c649b12) into [master](https://codecov.io/gh/apache/pinot/commit/c7e05a7b58f5435080ab26e9ef8888e2b07dd974?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c7e05a7) will **increase** coverage by `42.57%`.\n> The diff coverage is `90.56%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10655       +/-   ##\n=============================================\n+ Coverage     27.66%   70.23%   +42.57%     \n- Complexity       58     6431     +6373     \n=============================================\n  Files          2090     2107       +17     \n  Lines        112578   113835     +1257     \n  Branches      16972    17201      +229     \n=============================================\n+ Hits          31145    79955    +48810     \n+ Misses        78333    28286    -50047     \n- Partials       3100     5594     +2494     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.37% <0.00%> (-0.09%)` | :arrow_down: |\n| integration2 | `23.95% <0.00%> (-0.16%)` | :arrow_down: |\n| unittests1 | `67.81% <96.00%> (?)` | |\n| unittests2 | `13.85% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10655?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ller/api/resources/PinotSchemaRestletResource.java](https://codecov.io/gh/apache/pinot/pull/10655?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2NoZW1hUmVzdGxldFJlc291cmNlLmphdmE=) | `67.07% <0.00%> (+44.09%)` | :arrow_up: |\n| [...rc/main/java/org/apache/pinot/spi/data/Schema.java](https://codecov.io/gh/apache/pinot/pull/10655?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9TY2hlbWEuamF2YQ==) | `75.21% <86.66%> (+75.21%)` | :arrow_up: |\n| [...main/java/org/apache/pinot/spi/data/FieldSpec.java](https://codecov.io/gh/apache/pinot/pull/10655?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9GaWVsZFNwZWMuamF2YQ==) | `85.48% <100.00%> (+85.48%)` | :arrow_up: |\n\n... and [1507 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10655/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516813309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516973176","html_url":"https://github.com/apache/pinot/pull/10656#issuecomment-1516973176","issue_url":"https://api.github.com/repos/apache/pinot/issues/10656","id":1516973176,"node_id":"IC_kwDOATCU_c5aayx4","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T21:33:09Z","updated_at":"2023-04-20T21:33:09Z","author_association":"CONTRIBUTOR","body":"This is backwards incompatible. Why do we want to do this without first ensuring / aligning that everyone has their production deployment migrated to new style replica group config ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516973176/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516978241","html_url":"https://github.com/apache/pinot/issues/10608#issuecomment-1516978241","issue_url":"https://api.github.com/repos/apache/pinot/issues/10608","id":1516978241,"node_id":"IC_kwDOATCU_c5aa0BB","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T21:39:25Z","updated_at":"2023-04-20T21:39:25Z","author_association":"CONTRIBUTOR","body":"This cleanup is backwards incompatible. I fully agree that we need to start using the new one and there is confusion / maintenance overhead etc but simply removing it right away is going to break things for people in production.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1516978241/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517047083","html_url":"https://github.com/apache/pinot/pull/10656#issuecomment-1517047083","issue_url":"https://api.github.com/repos/apache/pinot/issues/10656","id":1517047083,"node_id":"IC_kwDOATCU_c5abE0r","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T23:11:49Z","updated_at":"2023-04-20T23:11:49Z","author_association":"CONTRIBUTOR","body":"> This is backwards incompatible. Why do we want to do this without first ensuring / aligning that everyone has their production deployment migrated to new style replica group config ?\r\n\r\nThanks for mentioning it; I didn't consider backward compatibility while making the changes. So, to make this backward compatible, we can't delete the `ReplicaGroupStrategyConfig` class. \r\n\r\nAs the first step, can we add the `partitionColumn` field to the `InstanceReplicaGroupPartitionConfig` class? However, what if a user provides a different `partitionColumn` value in both configs? Which one would be applicable,  `ReplicaGroupStrategyConfig` or `InstanceReplicaGroupPartitionConfig`? \r\n\r\nAlso, please give pointers on some of the factors I should consider for making the change backward compatible. Thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517047083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517061450","html_url":"https://github.com/apache/pinot/pull/10656#issuecomment-1517061450","issue_url":"https://api.github.com/repos/apache/pinot/issues/10656","id":1517061450,"node_id":"IC_kwDOATCU_c5abIVK","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T23:37:03Z","updated_at":"2023-05-24T03:29:02Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10656?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10656](https://app.codecov.io/gh/apache/pinot/pull/10656?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (03ec85c) into [master](https://app.codecov.io/gh/apache/pinot/commit/7adac6f60eb6bafc98eb0f61f4860fadf40f4f03?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (7adac6f) will **increase** coverage by `0.02%`.\n> The diff coverage is `46.42%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10656      +/-   ##\n============================================\n+ Coverage     70.35%   70.37%   +0.02%     \n+ Complexity     6499     6494       -5     \n============================================\n  Files          2107     2159      +52     \n  Lines        113460   116028    +2568     \n  Branches      17101    17566     +465     \n============================================\n+ Hits          79822    81654    +1832     \n- Misses        28038    28688     +650     \n- Partials       5600     5686      +86     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.26% <14.28%> (-0.14%)` | :arrow_down: |\n| integration2 | `23.81% <17.85%> (-0.14%)` | :arrow_down: |\n| unittests1 | `67.91% <42.30%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.70% <7.14%> (-0.18%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10656?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...mmon/assignment/InstanceAssignmentConfigUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10656?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZUFzc2lnbm1lbnRDb25maWdVdGlscy5qYXZh) | `10.25% <0.00%> (ø)` | |\n| [...he/pinot/common/utils/config/TableConfigUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10656?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvY29uZmlnL1RhYmxlQ29uZmlnVXRpbHMuamF2YQ==) | `78.63% <33.33%> (-2.62%)` | :arrow_down: |\n| [...he/pinot/segment/local/utils/TableConfigUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10656?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91dGlscy9UYWJsZUNvbmZpZ1V0aWxzLmphdmE=) | `68.81% <44.44%> (+0.15%)` | :arrow_up: |\n| [...core/assignment/segment/BaseSegmentAssignment.java](https://app.codecov.io/gh/apache/pinot/pull/10656?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2Fzc2lnbm1lbnQvc2VnbWVudC9CYXNlU2VnbWVudEFzc2lnbm1lbnQuamF2YQ==) | `97.72% <100.00%> (-0.10%)` | :arrow_down: |\n| [...trategy/ReplicaGroupSegmentAssignmentStrategy.java](https://app.codecov.io/gh/apache/pinot/pull/10656?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2Fzc2lnbm1lbnQvc2VnbWVudC9zdHJhdGVneS9SZXBsaWNhR3JvdXBTZWdtZW50QXNzaWdubWVudFN0cmF0ZWd5LmphdmE=) | `90.56% <100.00%> (-0.35%)` | :arrow_down: |\n| [...ssignment/InstanceReplicaGroupPartitionConfig.java](https://app.codecov.io/gh/apache/pinot/pull/10656?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL2Fzc2lnbm1lbnQvSW5zdGFuY2VSZXBsaWNhR3JvdXBQYXJ0aXRpb25Db25maWcuamF2YQ==) | `100.00% <100.00%> (ø)` | |\n\n... and [332 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10656/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517061450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517070338","html_url":"https://github.com/apache/pinot/pull/10659#issuecomment-1517070338","issue_url":"https://api.github.com/repos/apache/pinot/issues/10659","id":1517070338,"node_id":"IC_kwDOATCU_c5abKgC","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T23:53:34Z","updated_at":"2023-04-21T00:31:19Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10659?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10659](https://codecov.io/gh/apache/pinot/pull/10659?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (da3aa3b) into [master](https://codecov.io/gh/apache/pinot/commit/2d6a38c0a13aecb055ea1d81efdc4cc8dfba197a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2d6a38c) will **decrease** coverage by `1.43%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10659      +/-   ##\n============================================\n- Coverage     70.33%   68.91%   -1.43%     \n+ Complexity     6499     6496       -3     \n============================================\n  Files          2108     2108              \n  Lines        113535   113535              \n  Branches      17117    17117              \n============================================\n- Hits          79859    78240    -1619     \n- Misses        28083    29793    +1710     \n+ Partials       5593     5502      -91     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `24.02% <0.00%> (-0.11%)` | :arrow_down: |\n| unittests1 | `67.87% <0.00%> (-0.03%)` | :arrow_down: |\n| unittests2 | `13.88% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10659?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/pinot/pull/10659?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `36.14% <0.00%> (-22.09%)` | :arrow_down: |\n\n... and [149 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10659/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517070338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517070351","html_url":"https://github.com/apache/pinot/pull/10659#issuecomment-1517070351","issue_url":"https://api.github.com/repos/apache/pinot/issues/10659","id":1517070351,"node_id":"IC_kwDOATCU_c5abKgP","user":{"login":"swaminathanmanish","id":126024920,"node_id":"U_kgDOB4L82A","avatar_url":"https://avatars.githubusercontent.com/u/126024920?v=4","gravatar_id":"","url":"https://api.github.com/users/swaminathanmanish","html_url":"https://github.com/swaminathanmanish","followers_url":"https://api.github.com/users/swaminathanmanish/followers","following_url":"https://api.github.com/users/swaminathanmanish/following{/other_user}","gists_url":"https://api.github.com/users/swaminathanmanish/gists{/gist_id}","starred_url":"https://api.github.com/users/swaminathanmanish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swaminathanmanish/subscriptions","organizations_url":"https://api.github.com/users/swaminathanmanish/orgs","repos_url":"https://api.github.com/users/swaminathanmanish/repos","events_url":"https://api.github.com/users/swaminathanmanish/events{/privacy}","received_events_url":"https://api.github.com/users/swaminathanmanish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T23:53:36Z","updated_at":"2023-04-20T23:53:36Z","author_association":"CONTRIBUTOR","body":"Please review @snleee ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517070351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517083285","html_url":"https://github.com/apache/pinot/issues/10658#issuecomment-1517083285","issue_url":"https://api.github.com/repos/apache/pinot/issues/10658","id":1517083285,"node_id":"IC_kwDOATCU_c5abNqV","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T00:10:14Z","updated_at":"2023-04-21T00:10:14Z","author_association":"CONTRIBUTOR","body":"Discussed with @xiangfu0 .\r\n\r\nI'd like @vvivekiyer to pick this up since he has been contributing some bug fixes and enhancements to multi stage. He can get going with this right away dedicatedly and work with us here on design / discussion etc as needed. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517083285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517084387","html_url":"https://github.com/apache/pinot/issues/10658#issuecomment-1517084387","issue_url":"https://api.github.com/repos/apache/pinot/issues/10658","id":1517084387,"node_id":"IC_kwDOATCU_c5abN7j","user":{"login":"vvivekiyer","id":21298365,"node_id":"MDQ6VXNlcjIxMjk4MzY1","avatar_url":"https://avatars.githubusercontent.com/u/21298365?v=4","gravatar_id":"","url":"https://api.github.com/users/vvivekiyer","html_url":"https://github.com/vvivekiyer","followers_url":"https://api.github.com/users/vvivekiyer/followers","following_url":"https://api.github.com/users/vvivekiyer/following{/other_user}","gists_url":"https://api.github.com/users/vvivekiyer/gists{/gist_id}","starred_url":"https://api.github.com/users/vvivekiyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvivekiyer/subscriptions","organizations_url":"https://api.github.com/users/vvivekiyer/orgs","repos_url":"https://api.github.com/users/vvivekiyer/repos","events_url":"https://api.github.com/users/vvivekiyer/events{/privacy}","received_events_url":"https://api.github.com/users/vvivekiyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T00:11:55Z","updated_at":"2023-04-21T00:11:55Z","author_association":"CONTRIBUTOR","body":"Thanks @siddharthteotia. Sure, I can pick it up. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517084387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517101707","html_url":"https://github.com/apache/pinot/pull/10656#issuecomment-1517101707","issue_url":"https://api.github.com/repos/apache/pinot/issues/10656","id":1517101707,"node_id":"IC_kwDOATCU_c5abSKL","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T00:43:44Z","updated_at":"2023-04-21T00:43:44Z","author_association":"CONTRIBUTOR","body":"+1 to @siddharthteotia 's comment.\r\n\r\nI'd encourage for any backwards incompatible change there should be a small doc which outlines how users can migrate and the motivation behind the same.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517101707/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517106330","html_url":"https://github.com/apache/pinot/pull/10646#issuecomment-1517106330","issue_url":"https://api.github.com/repos/apache/pinot/issues/10646","id":1517106330,"node_id":"IC_kwDOATCU_c5abTSa","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T00:52:53Z","updated_at":"2023-04-21T00:52:53Z","author_association":"CONTRIBUTOR","body":"+1 to Jackie's comment. I think we don't know the path forward here.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517106330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517108493","html_url":"https://github.com/apache/pinot/issues/10657#issuecomment-1517108493","issue_url":"https://api.github.com/repos/apache/pinot/issues/10657","id":1517108493,"node_id":"IC_kwDOATCU_c5abT0N","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T00:57:01Z","updated_at":"2023-04-21T00:57:01Z","author_association":"CONTRIBUTOR","body":"Nice. Will review\r\n\r\nFYI @vvivekiyer ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517108493/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517197677","html_url":"https://github.com/apache/pinot/pull/10662#issuecomment-1517197677","issue_url":"https://api.github.com/repos/apache/pinot/issues/10662","id":1517197677,"node_id":"IC_kwDOATCU_c5abplt","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T03:11:36Z","updated_at":"2023-04-21T19:22:48Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10662?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10662](https://codecov.io/gh/apache/pinot/pull/10662?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (37184fc) into [master](https://codecov.io/gh/apache/pinot/commit/3a631dd05e4eab29d3bbd420e4d7d9b6f0d0f6ea?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3a631dd) will **increase** coverage by `5.95%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10662      +/-   ##\n============================================\n+ Coverage     64.33%   70.28%   +5.95%     \n- Complexity     6474     6518      +44     \n============================================\n  Files          2054     2108      +54     \n  Lines        111056   113669    +2613     \n  Branches      16822    17128     +306     \n============================================\n+ Hits          71443    79895    +8452     \n+ Misses        34445    28177    -6268     \n- Partials       5168     5597     +429     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.40% <0.00%> (?)` | |\n| integration2 | `23.91% <0.00%> (?)` | |\n| unittests1 | `67.90% <100.00%> (+0.03%)` | :arrow_up: |\n| unittests2 | `13.86% <0.00%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10662?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...or/dociditerators/ExpressionScanDocIdIterator.java](https://codecov.io/gh/apache/pinot/pull/10662?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9FeHByZXNzaW9uU2NhbkRvY0lkSXRlcmF0b3IuamF2YQ==) | `60.52% <100.00%> (+10.86%)` | :arrow_up: |\n\n... and [451 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10662/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517197677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517632770","html_url":"https://github.com/apache/pinot/issues/10631#issuecomment-1517632770","issue_url":"https://api.github.com/repos/apache/pinot/issues/10631","id":1517632770,"node_id":"IC_kwDOATCU_c5adT0C","user":{"login":"shounakmk219","id":25409127,"node_id":"MDQ6VXNlcjI1NDA5MTI3","avatar_url":"https://avatars.githubusercontent.com/u/25409127?v=4","gravatar_id":"","url":"https://api.github.com/users/shounakmk219","html_url":"https://github.com/shounakmk219","followers_url":"https://api.github.com/users/shounakmk219/followers","following_url":"https://api.github.com/users/shounakmk219/following{/other_user}","gists_url":"https://api.github.com/users/shounakmk219/gists{/gist_id}","starred_url":"https://api.github.com/users/shounakmk219/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shounakmk219/subscriptions","organizations_url":"https://api.github.com/users/shounakmk219/orgs","repos_url":"https://api.github.com/users/shounakmk219/repos","events_url":"https://api.github.com/users/shounakmk219/events{/privacy}","received_events_url":"https://api.github.com/users/shounakmk219/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T10:40:02Z","updated_at":"2023-04-21T10:40:02Z","author_association":"COLLABORATOR","body":"The first point is addressed in https://github.com/apache/pinot/pull/10623\r\n@gortiz and @mcvsubbu  please let me know if we should take up the discussion on second point here or you want me to file a separate issue for that","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517632770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517960231","html_url":"https://github.com/apache/pinot/pull/10662#issuecomment-1517960231","issue_url":"https://api.github.com/repos/apache/pinot/issues/10662","id":1517960231,"node_id":"IC_kwDOATCU_c5aejwn","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T14:56:56Z","updated_at":"2023-04-21T14:57:25Z","author_association":"CONTRIBUTOR","body":"Please review. Also, please re-trigger the `Build Presto Pinot Driver` build check. Failure is not relevant to this PR.\r\n\r\ncc @walterddr, @ankitsultana, @Jackie-Jiang ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517960231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517966890","html_url":"https://github.com/apache/pinot/pull/10646#issuecomment-1517966890","issue_url":"https://api.github.com/repos/apache/pinot/issues/10646","id":1517966890,"node_id":"IC_kwDOATCU_c5aelYq","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T15:01:45Z","updated_at":"2023-04-21T15:01:45Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang @ankitsultana i think we are pretty sure that we want to change the behaviour of `LIKE` to case-sensitive from current case-insensitivity. Then should we just incorporate that change in this patch and continue the discussion of `ILIKE` in #10609?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517966890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517991114","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1517991114","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1517991114,"node_id":"IC_kwDOATCU_c5aerTK","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T15:19:30Z","updated_at":"2023-04-21T15:19:30Z","author_association":"CONTRIBUTOR","body":"Asking GPT4; sql server, MySQL, and SQLite all do case-insensitive LIKE. Postgres and Oracle do case sensitive LIKE. There's not a clear \"right\" way to do this, and what's more challenging is that each database handles the opposite of their default LIKE behavior differently. Most use different keywords: BINARY, GLOB, ILIKE, etc.\n\nThe cleanest approach I see is what oracle is doing. For case sensitive use `LIKE`. For case insensitive, do `WHERE UPPER(column_name) LIKE UPPER('%pattern%')`. Postgres's `ILIKE` is probably my favorite and feels the most intuitive, but that's just personal preference. Either of these would require changing the Pinot default behavior.\n\nUsing the MySQL approach of saying `WHERE BINARY column_name like '%A%'` also makes sense, but MySQL can also be case insensitive by default even on `=` queries. So I don't think it maps so cleanly here.\n\nI'm leaning slightly to changing the default behavior to avoid having to add something like `WHERE BINARY` or `WHERE GLOB`. But the rollout plan will be a little tedious if we don't want to break user queries. For example: in one release add ILIKE where it does the same thing as LIKE. Add a cluster config that can make LIKE case sensitive to unblock this issue. Give users a chance to switch to ILIKE. Then in a future release make LIKE case sensitive by default, and remove the cluster config.\n\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1517991114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518111235","html_url":"https://github.com/apache/pinot/issues/10631#issuecomment-1518111235","issue_url":"https://api.github.com/repos/apache/pinot/issues/10631","id":1518111235,"node_id":"IC_kwDOATCU_c5afIoD","user":{"login":"klsince","id":61892277,"node_id":"MDQ6VXNlcjYxODkyMjc3","avatar_url":"https://avatars.githubusercontent.com/u/61892277?v=4","gravatar_id":"","url":"https://api.github.com/users/klsince","html_url":"https://github.com/klsince","followers_url":"https://api.github.com/users/klsince/followers","following_url":"https://api.github.com/users/klsince/following{/other_user}","gists_url":"https://api.github.com/users/klsince/gists{/gist_id}","starred_url":"https://api.github.com/users/klsince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klsince/subscriptions","organizations_url":"https://api.github.com/users/klsince/orgs","repos_url":"https://api.github.com/users/klsince/repos","events_url":"https://api.github.com/users/klsince/events{/privacy}","received_events_url":"https://api.github.com/users/klsince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T17:06:59Z","updated_at":"2023-04-21T17:06:59Z","author_association":"CONTRIBUTOR","body":"could you help clarify what this 'updated format' is like? is it the use `indexes` as introduced by index-spi?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518111235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518174869","html_url":"https://github.com/apache/pinot/pull/10663#issuecomment-1518174869","issue_url":"https://api.github.com/repos/apache/pinot/issues/10663","id":1518174869,"node_id":"IC_kwDOATCU_c5afYKV","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T18:09:07Z","updated_at":"2023-04-21T18:09:07Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10663?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10663](https://codecov.io/gh/apache/pinot/pull/10663?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0474285) into [master](https://codecov.io/gh/apache/pinot/commit/178aa200a78d5ecebff163529c965739ac2594e4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (178aa20) will **increase** coverage by `42.60%`.\n> The diff coverage is `75.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10663       +/-   ##\n=============================================\n+ Coverage     27.74%   70.34%   +42.60%     \n- Complexity       58     6514     +6456     \n=============================================\n  Files          2090     2108       +18     \n  Lines        112642   113665     +1023     \n  Branches      16987    17126      +139     \n=============================================\n+ Hits          31247    79954    +48707     \n+ Misses        78272    28108    -50164     \n- Partials       3123     5603     +2480     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.39% <ø> (-0.07%)` | :arrow_down: |\n| integration2 | `24.00% <ø> (+0.09%)` | :arrow_up: |\n| unittests1 | `67.91% <ø> (?)` | |\n| unittests2 | `13.87% <75.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10663?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...nector/spark/common/query/ScanQueryGenerator.scala](https://codecov.io/gh/apache/pinot/pull/10663?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29ubmVjdG9ycy9waW5vdC1zcGFyay1jb21tb24vc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9waW5vdC9jb25uZWN0b3Ivc3BhcmsvY29tbW9uL3F1ZXJ5L1NjYW5RdWVyeUdlbmVyYXRvci5zY2FsYQ==) | `93.93% <50.00%> (ø)` | |\n| [...ot/connector/spark/common/PinotClusterClient.scala](https://codecov.io/gh/apache/pinot/pull/10663?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29ubmVjdG9ycy9waW5vdC1zcGFyay1jb21tb24vc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9waW5vdC9jb25uZWN0b3Ivc3BhcmsvY29tbW9uL1Bpbm90Q2x1c3RlckNsaWVudC5zY2FsYQ==) | `5.15% <100.00%> (ø)` | |\n\n... and [1496 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10663/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518174869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518248982","html_url":"https://github.com/apache/pinot/pull/10665#issuecomment-1518248982","issue_url":"https://api.github.com/repos/apache/pinot/issues/10665","id":1518248982,"node_id":"IC_kwDOATCU_c5afqQW","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T19:25:23Z","updated_at":"2023-04-21T19:50:37Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10665?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10665](https://codecov.io/gh/apache/pinot/pull/10665?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (79e45c6) into [master](https://codecov.io/gh/apache/pinot/commit/4481e1b1ab44e6fac53049a4d6612da79be0b92b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4481e1b) will **decrease** coverage by `0.01%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10665      +/-   ##\n============================================\n- Coverage     70.34%   70.34%   -0.01%     \n+ Complexity     6517     6515       -2     \n============================================\n  Files          2108     2108              \n  Lines        113664   113665       +1     \n  Branches      17126    17125       -1     \n============================================\n- Hits          79954    79952       -2     \n- Misses        28110    28112       +2     \n- Partials       5600     5601       +1     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.33% <0.00%> (+0.08%)` | :arrow_up: |\n| integration2 | `23.97% <0.00%> (-0.15%)` | :arrow_down: |\n| unittests1 | `67.91% <100.00%> (-0.02%)` | :arrow_down: |\n| unittests2 | `13.86% <0.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10665?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../org/apache/pinot/query/routing/WorkerManager.java](https://codecov.io/gh/apache/pinot/pull/10665?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcm91dGluZy9Xb3JrZXJNYW5hZ2VyLmphdmE=) | `86.86% <100.00%> (ø)` | |\n| [...va/org/apache/pinot/query/runtime/QueryRunner.java](https://codecov.io/gh/apache/pinot/pull/10665?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9RdWVyeVJ1bm5lci5qYXZh) | `81.66% <100.00%> (+0.15%)` | :arrow_up: |\n\n... and [30 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10665/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518248982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518251952","html_url":"https://github.com/apache/pinot/issues/10608#issuecomment-1518251952","issue_url":"https://api.github.com/repos/apache/pinot/issues/10608","id":1518251952,"node_id":"IC_kwDOATCU_c5afq-w","user":{"login":"GSharayu","id":21273286,"node_id":"MDQ6VXNlcjIxMjczMjg2","avatar_url":"https://avatars.githubusercontent.com/u/21273286?v=4","gravatar_id":"","url":"https://api.github.com/users/GSharayu","html_url":"https://github.com/GSharayu","followers_url":"https://api.github.com/users/GSharayu/followers","following_url":"https://api.github.com/users/GSharayu/following{/other_user}","gists_url":"https://api.github.com/users/GSharayu/gists{/gist_id}","starred_url":"https://api.github.com/users/GSharayu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GSharayu/subscriptions","organizations_url":"https://api.github.com/users/GSharayu/orgs","repos_url":"https://api.github.com/users/GSharayu/repos","events_url":"https://api.github.com/users/GSharayu/events{/privacy}","received_events_url":"https://api.github.com/users/GSharayu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T19:29:29Z","updated_at":"2023-04-21T19:29:29Z","author_association":"CONTRIBUTOR","body":"This is a good issue, but we should not deprecate the old flow since this will impact production systems. We should bring a plan  for migrations / compatibility  along these cleanups to align all the stakeholders before deprecating this fully.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518251952/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518320254","html_url":"https://github.com/apache/pinot/pull/10655#issuecomment-1518320254","issue_url":"https://api.github.com/repos/apache/pinot/issues/10655","id":1518320254,"node_id":"IC_kwDOATCU_c5af7p-","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T20:47:24Z","updated_at":"2023-04-21T20:47:24Z","author_association":"CONTRIBUTOR","body":"I understand the re-org of code to have metadata on fieldSpec, but why expose this via API? How will a user of Pinot make use of this API?\r\n\r\nShould we call the API `/schemata/fieldSpec`? Is this endpoint always going to be some general stuff (i.e. tableName, segmentName, etc. are not an argument)? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518320254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]