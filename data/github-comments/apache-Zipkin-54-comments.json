[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306181733","html_url":"https://github.com/openzipkin/zipkin/pull/1603#issuecomment-306181733","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1603","id":306181733,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjE4MTczMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-05T13:01:51Z","updated_at":"2017-06-05T13:01:51Z","author_association":"MEMBER","body":"Thanks @eirslett!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306181733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306211516","html_url":"https://github.com/openzipkin/zipkin/issues/1602#issuecomment-306211516","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1602","id":306211516,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjIxMTUxNg==","user":{"login":"devinsba","id":139938,"node_id":"MDQ6VXNlcjEzOTkzOA==","avatar_url":"https://avatars.githubusercontent.com/u/139938?v=4","gravatar_id":"","url":"https://api.github.com/users/devinsba","html_url":"https://github.com/devinsba","followers_url":"https://api.github.com/users/devinsba/followers","following_url":"https://api.github.com/users/devinsba/following{/other_user}","gists_url":"https://api.github.com/users/devinsba/gists{/gist_id}","starred_url":"https://api.github.com/users/devinsba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinsba/subscriptions","organizations_url":"https://api.github.com/users/devinsba/orgs","repos_url":"https://api.github.com/users/devinsba/repos","events_url":"https://api.github.com/users/devinsba/events{/privacy}","received_events_url":"https://api.github.com/users/devinsba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-05T15:04:54Z","updated_at":"2017-06-05T15:04:54Z","author_association":"MEMBER","body":"Yeah, it would be used most in zipkin-aws and zipkin-azure and any other places that people might be building plugins for layering into the server","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306211516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306383202","html_url":"https://github.com/openzipkin/zipkin/issues/1601#issuecomment-306383202","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1601","id":306383202,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjM4MzIwMg==","user":{"login":"Crevil","id":6881694,"node_id":"MDQ6VXNlcjY4ODE2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6881694?v=4","gravatar_id":"","url":"https://api.github.com/users/Crevil","html_url":"https://github.com/Crevil","followers_url":"https://api.github.com/users/Crevil/followers","following_url":"https://api.github.com/users/Crevil/following{/other_user}","gists_url":"https://api.github.com/users/Crevil/gists{/gist_id}","starred_url":"https://api.github.com/users/Crevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Crevil/subscriptions","organizations_url":"https://api.github.com/users/Crevil/orgs","repos_url":"https://api.github.com/users/Crevil/repos","events_url":"https://api.github.com/users/Crevil/events{/privacy}","received_events_url":"https://api.github.com/users/Crevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-06T05:07:38Z","updated_at":"2017-06-06T05:07:38Z","author_association":"NONE","body":"Sure, I'll give it a look some time this week.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306383202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306472719","html_url":"https://github.com/openzipkin/zipkin/issues/1605#issuecomment-306472719","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1605","id":306472719,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjQ3MjcxOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-06T12:35:51Z","updated_at":"2017-06-06T12:35:51Z","author_association":"MEMBER","body":"ftr I recommended setting `ES_HTTP_LOGGING=BODY` next time this happens. That way we can see the error amazon sent with the 403. Sometimes that's telling. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306472719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306773152","html_url":"https://github.com/openzipkin/zipkin/pull/1606#issuecomment-306773152","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1606","id":306773152,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjc3MzE1Mg==","user":{"login":"eirslett","id":1872593,"node_id":"MDQ6VXNlcjE4NzI1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1872593?v=4","gravatar_id":"","url":"https://api.github.com/users/eirslett","html_url":"https://github.com/eirslett","followers_url":"https://api.github.com/users/eirslett/followers","following_url":"https://api.github.com/users/eirslett/following{/other_user}","gists_url":"https://api.github.com/users/eirslett/gists{/gist_id}","starred_url":"https://api.github.com/users/eirslett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eirslett/subscriptions","organizations_url":"https://api.github.com/users/eirslett/orgs","repos_url":"https://api.github.com/users/eirslett/repos","events_url":"https://api.github.com/users/eirslett/events{/privacy}","received_events_url":"https://api.github.com/users/eirslett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-07T11:58:59Z","updated_at":"2017-06-07T11:58:59Z","author_association":"CONTRIBUTOR","body":"LGTM, thanks","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/306773152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307074260","html_url":"https://github.com/openzipkin/zipkin/issues/1480#issuecomment-307074260","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1480","id":307074260,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzA3NDI2MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-08T11:17:39Z","updated_at":"2017-06-08T11:17:39Z","author_association":"MEMBER","body":"one can model single producer multiple consumer messages with a parent-child relationship similar to single-host spans in RPC. For example, by using X-B3-SpanId as the parent id of the consumer span, many consumers will end up as different spans. So, this pattern for single-host spans also applies to SPMC\r\n\r\nhttps://github.com/openzipkin/b3-propagation#why-is-parentspanid-propagated","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307074260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307085137","html_url":"https://github.com/openzipkin/zipkin/issues/1607#issuecomment-307085137","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1607","id":307085137,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzA4NTEzNw==","user":{"login":"devinsba","id":139938,"node_id":"MDQ6VXNlcjEzOTkzOA==","avatar_url":"https://avatars.githubusercontent.com/u/139938?v=4","gravatar_id":"","url":"https://api.github.com/users/devinsba","html_url":"https://github.com/devinsba","followers_url":"https://api.github.com/users/devinsba/followers","following_url":"https://api.github.com/users/devinsba/following{/other_user}","gists_url":"https://api.github.com/users/devinsba/gists{/gist_id}","starred_url":"https://api.github.com/users/devinsba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinsba/subscriptions","organizations_url":"https://api.github.com/users/devinsba/orgs","repos_url":"https://api.github.com/users/devinsba/repos","events_url":"https://api.github.com/users/devinsba/events{/privacy}","received_events_url":"https://api.github.com/users/devinsba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-08T12:13:01Z","updated_at":"2017-06-08T12:13:01Z","author_association":"MEMBER","body":"I saw this when trying to test locally initially, our deployed instance uses its instance profile as its authentication though so I hadn't tried to dig any further. It would be nice to be able to use a real datastore for testing locally so I see the value here.\r\n\r\nMy initial thought was a flag for disabling (or defaulting to anonymous) the credentials providers. I saw you made the same suggestion in gitter so I'm on board there.\r\n\r\nI'll have time to start on some stuff again next week but our quarter is winding down so I'm pretty tied up in my real work","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307085137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307262333","html_url":"https://github.com/openzipkin/zipkin/issues/1608#issuecomment-307262333","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1608","id":307262333,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzI2MjMzMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-09T00:23:29Z","updated_at":"2017-06-09T00:23:29Z","author_association":"MEMBER","body":"What happens if you try one of those sql queries manually? Wondering if\nthere is something in this syntax aurora doesnt like.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307262333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307286236","html_url":"https://github.com/openzipkin/zipkin/issues/1608#issuecomment-307286236","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1608","id":307286236,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzI4NjIzNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-09T03:31:20Z","updated_at":"2017-06-09T03:31:20Z","author_association":"MEMBER","body":"edited issue title. once we get to the bottom of this, we can figure out whether to do detection (like we do with AWS elasticsearch vs normal elasticsearch) or if we can get by with just a small adjustment or some library compat stuff here.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307286236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307608094","html_url":"https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307608094","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1609","id":307608094,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzYwODA5NA==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-11T05:38:40Z","updated_at":"2017-06-11T06:38:13Z","author_association":"MEMBER","body":"The Spring counter metrics don't become, and shouldn't become Prometheus counter metrics, since in Spring Boot, counters can decrease. Current practice is to just make metrics like this `gauge`s in Prometheus (https://github.com/prometheus/client_java/pull/254#issuecomment-307566369).\r\n\r\nWe should also see more JVM metrics exposed, in a way more  Prometheus friendly way, letting up improve the dashboard further.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307608094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307618956","html_url":"https://github.com/openzipkin/zipkin/pull/1610#issuecomment-307618956","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1610","id":307618956,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzYxODk1Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-11T10:18:24Z","updated_at":"2017-06-11T10:18:24Z","author_association":"MEMBER","body":"the mystery of why CI is skipping license check is here: #1512","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307618956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307627586","html_url":"https://github.com/openzipkin/zipkin/pull/1610#issuecomment-307627586","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1610","id":307627586,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzYyNzU4Ng==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-11T12:58:17Z","updated_at":"2017-06-11T12:58:17Z","author_association":"MEMBER","body":"The thick plottens! Closing this then, it's not solving the right problem.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307627586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307627620","html_url":"https://github.com/openzipkin/zipkin/issues/1512#issuecomment-307627620","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1512","id":307627620,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzYyNzYyMA==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-11T12:59:12Z","updated_at":"2017-06-11T12:59:37Z","author_association":"MEMBER","body":"Oooh, juicy!  Random idea: migrate to http://www.mojohaus.org/license-maven-plugin/?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307627620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307683680","html_url":"https://github.com/openzipkin/zipkin/issues/1141#issuecomment-307683680","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1141","id":307683680,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzY4MzY4MA==","user":{"login":"xqliang","id":4370917,"node_id":"MDQ6VXNlcjQzNzA5MTc=","avatar_url":"https://avatars.githubusercontent.com/u/4370917?v=4","gravatar_id":"","url":"https://api.github.com/users/xqliang","html_url":"https://github.com/xqliang","followers_url":"https://api.github.com/users/xqliang/followers","following_url":"https://api.github.com/users/xqliang/following{/other_user}","gists_url":"https://api.github.com/users/xqliang/gists{/gist_id}","starred_url":"https://api.github.com/users/xqliang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xqliang/subscriptions","organizations_url":"https://api.github.com/users/xqliang/orgs","repos_url":"https://api.github.com/users/xqliang/repos","events_url":"https://api.github.com/users/xqliang/events{/privacy}","received_events_url":"https://api.github.com/users/xqliang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T03:43:46Z","updated_at":"2017-06-12T03:53:02Z","author_association":"NONE","body":"I use the latest Zipkin(1.26) and with a single node elasticsearch(2.3.4) for storage(the default docker-zipkin configuration), and still encounter data lost.\r\n\r\nHere is the test script(sendtozipkin.sh):\r\n```bash\r\n#!/bin/bash\r\n\r\nfunction send_to_zipkin() {\r\n    id=$1\r\n    id2=$2\r\n    millis=$(python -c 'import time; print \"%d\" % (time.time() * 1000 * 1000)')\r\n    curl localhost:9411/api/v1/spans -X POST -H \"Content-Type: application/json\" --data '[{\r\n        \"traceId\": \"'${id}'\",\r\n        \"name\": \"fermentum\",\r\n        \"id\": \"'${id}'\",\r\n        \"annotations\": [\r\n          {\r\n            \"timestamp\": '${millis}',\r\n            \"value\": \"sr\",\r\n            \"endpoint\": {\r\n              \"serviceName\": \"semper\",\r\n              \"ipv4\": \"113.29.89.129\",\r\n              \"port\": 2131\r\n            }\r\n          }\r\n        ]\r\n    }, {\r\n        \"traceId\": \"'${id}'\",\r\n        \"name\": \"fermentum1\",\r\n        \"id\": \"'${id2}'\",\r\n        \"annotations\": [\r\n         {\r\n            \"timestamp\": '${millis}',\r\n            \"value\": \"sr\",\r\n            \"endpoint\": {\r\n              \"serviceName\": \"semper\",\r\n              \"ipv4\": \"113.29.89.129\",\r\n              \"port\": 2131\r\n            }\r\n          }\r\n        ]\r\n    }]'\r\n}\r\ni=0\r\n\r\nwhile [ $i -lt $1 ]; do\r\n    let \"i=${i}+1\"\r\n    let \"j=${i}+16777216\"\r\n    echo $i\r\n    send_to_zipkin `printf \"%016x\" $i` `printf \"%016x\" $j`\r\ndone\r\n```\r\n\r\nThen send 100(50*2) messages to Zipkin:\r\n```bash\r\n$ ./sendtozipkin.sh 50\r\n```\r\n\r\nAnd some random messages are lost, I add`ES_HTTP_LOGGING=BODY` (introduced in Zipkin 1.25 ) environment to docker-compose-elasticsearch.yaml,  and saw these errors:\r\n\r\n```bash\r\n# grep 'errors\\\\\":true' $(docker inspect --format='{{.LogPath}}' zipkin) | head -1\r\n{\"log\":\"2017-06-12 03:04:29.733  INFO 6 --- [41.133:9200/...] z.s.e.http.ElasticsearchHttpStorage      : \r\n{\\\"took\\\":1,\\\"errors\\\":true,\\\"items\\\":[{\\\"create\\\":{\\\"_index\\\":\\\"zipkin-2017-06-03\\\",\\\"_type\\\":\\\"span\\\",\r\n\\\"_id\\\":\\\"AVyaQoUkPGYSeXOvPsRT\\\",\\\"status\\\":429,\\\"error\\\":{\\\"type\\\":\\\"es_rejected_execution_exception\\\",\r\n\\\"reason\\\":\\\"rejected execution of org.elasticsearch.transport.TransportService$4@5742b77e on EsThreadPoolExecutor[bulk, queue capacity = 50, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@2fcaec02[Running, pool size = 8, active threads = 8, queued tasks = 50, completed tasks = 0]]\\\"}}},\r\n{\\\"index\\\":{\\\"_index\\\":\\\"zipkin-2017-06-03\\\",\\\"_type\\\":\\\"servicespan\\\",\r\n\\\"_id\\\":\\\"gamerebategift|timeraddpoolamounttask\\\",\\\"status\\\":429,\\\"error\\\":{\\\"type\\\":\\\"es_rejected_execution_exception\\\",\r\n\\\"reason\\\":\\\"rejected execution of org.elasticsearch.transport.TransportService$4@70fc3bfe on EsThreadPoolExecutor[bulk, queue capacity = 50, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@2fcaec02[Running, pool size = 8, active threads = 8, queued tasks = 50, completed tasks = 0]]\\\"}}}]}\\n\",\r\n\"stream\":\"stdout\",\"time\":\"2017-06-12T03:04:29.733933728Z\"}\r\n```\r\n\r\nCheck the default configuration:\r\n```bash\r\n$ curl -XGUT localhost:9200/_cluster/settings \r\n{\"persistent\":{},\"transient\":{}}\r\n```\r\n\r\n[Change](https://stackoverflow.com/questions/37855803/rejected-execution-of-org-elasticsearch-transport-transportservice-error) `threadpool.bulk.queue_size` to 500:\r\n```bash\r\n$ curl -XPUT localhost:9200/_cluster/settings -d '{\"transient\": {\"threadpool.bulk.queue_size\": 500}}'\r\n{\"acknowledged\":true,\"persistent\":{},\"transient\":{\"threadpool\":{\"bulk\":{\"queue_size\":\"500\"}}}}\r\n```\r\n\r\nThen rerun the sendtozipkin.sh script, there were no data lost any more.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307683680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307690993","html_url":"https://github.com/openzipkin/zipkin/issues/1141#issuecomment-307690993","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1141","id":307690993,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzY5MDk5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T05:08:48Z","updated_at":"2017-06-12T05:08:48Z","author_association":"MEMBER","body":"What you are saying is that when there's an overload on the elasticsearch\ncluster, zipkin drops data. The only recourse besides tuning ES would be to\nbuffer (or push-back if using kafka), right?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307690993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307693281","html_url":"https://github.com/openzipkin/zipkin/issues/1141#issuecomment-307693281","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1141","id":307693281,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzY5MzI4MQ==","user":{"login":"xqliang","id":4370917,"node_id":"MDQ6VXNlcjQzNzA5MTc=","avatar_url":"https://avatars.githubusercontent.com/u/4370917?v=4","gravatar_id":"","url":"https://api.github.com/users/xqliang","html_url":"https://github.com/xqliang","followers_url":"https://api.github.com/users/xqliang/followers","following_url":"https://api.github.com/users/xqliang/following{/other_user}","gists_url":"https://api.github.com/users/xqliang/gists{/gist_id}","starred_url":"https://api.github.com/users/xqliang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xqliang/subscriptions","organizations_url":"https://api.github.com/users/xqliang/orgs","repos_url":"https://api.github.com/users/xqliang/repos","events_url":"https://api.github.com/users/xqliang/events{/privacy}","received_events_url":"https://api.github.com/users/xqliang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T05:30:25Z","updated_at":"2017-06-12T05:38:07Z","author_association":"NONE","body":"Yes, at least Zipkin should log a WARNING/ERROR log if writing ES with errors returned while not setting `ES_HTTP_LOGGING=BODY`, so we can monitor the log for alerting.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307693281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307702835","html_url":"https://github.com/openzipkin/zipkin/issues/1141#issuecomment-307702835","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1141","id":307702835,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzcwMjgzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T06:40:06Z","updated_at":"2017-06-12T06:40:06Z","author_association":"MEMBER","body":">\n> Yes, and I think Zipkin should log a WARNING/ERROR log if writing ES with\n> errors returned while not setting ES_HTTP_LOGGING=BODY.\n>\nlogging during collection, especially at warning or error level can fill\nlogs and cause even more problems. Not sure this will be a good solution.\nUsually, you'd monitor for dropped messages or such by monitoring collector\nmetrics. logging failures at debug or trace may be fine either way.\n\nNotes on collector metrics:\nhttps://github.com/openzipkin/zipkin/blob/master/zipkin-server/README.md#collector\n\nExample dashboard:\nhttps://github.com/openzipkin/docker-zipkin/pull/135#issuecomment-307609874\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307702835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307704050","html_url":"https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307704050","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1609","id":307704050,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzcwNDA1MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T06:47:31Z","updated_at":"2017-06-12T06:47:31Z","author_association":"MEMBER","body":"might be worth making some sample traffic against this to ensure that collector metrics show up (they are probably the most important metric). ex run one of the example projects like https://github.com/openzipkin/pyramid_zipkin-example","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307704050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307704411","html_url":"https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307704411","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1609","id":307704411,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzcwNDQxMQ==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T06:49:53Z","updated_at":"2017-06-12T06:49:53Z","author_association":"MEMBER","body":"The upstream client exposes all the Spring Boot Actuator metrics, in almost exactly the same way as the previous Zipkin implementation. Still, due diligence is due, I'll check.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307704411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307735177","html_url":"https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307735177","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1609","id":307735177,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzczNTE3Nw==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T09:19:32Z","updated_at":"2017-06-12T09:20:21Z","author_association":"MEMBER","body":"Metrics after sending a few spans using `pyramid_zipkin-example`: https://gist.github.com/abesto/93bd70bf907d16d3b7ef4e408408f69f\r\n\r\nMethinks we're fine:\r\n\r\n```\r\n# HELP counter_zipkin_collector_messages_http counter_zipkin_collector_messages_http\r\n# TYPE counter_zipkin_collector_messages_http gauge\r\ncounter_zipkin_collector_messages_http 13.0\r\n```\r\n\r\n> they are probably the most important metric\r\n\r\nOh! Then I guess I should add them to the Grafana dashboard.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307735177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307735707","html_url":"https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307735707","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1609","id":307735707,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzczNTcwNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T09:21:54Z","updated_at":"2017-06-12T09:21:54Z","author_association":"MEMBER","body":">\n> they are probably the most important metric\n>\n> Oh! Then I guess I should add them to the Grafana dashboard!\n>\nyes I had a nag in the back of my head to nag you on the other issue. By\nnaming convention substitute http for kafka (sqs scribe) etc as not\neveryone sends spans via http transport.\n\nmessages, spans and bytes are interesting metrics, especially if\ncoordinated client-side. drop metrics are something that one would alert on\nat some point.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307735707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307740186","html_url":"https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307740186","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1609","id":307740186,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzc0MDE4Ng==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T09:40:39Z","updated_at":"2017-06-12T09:40:39Z","author_association":"MEMBER","body":"Important note, just realized: this change does actually break the currently used metric names. The Zipkin implementation trims the `counter_` and `gauge_` prefixes (and sets the Prometheus metric type accordingly), while the upstream one does _not_ trim those prefixes, and makes everything a gauge in Prometheus (see https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307608094).\r\n\r\nAssumption: not a lot of people are currently using these metrics. Proposal: let's drop as much custom logic as we can, and break the metric names now, before publishing the dashboard using the metric names.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307740186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307744216","html_url":"https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307744216","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1609","id":307744216,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzc0NDIxNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T09:56:59Z","updated_at":"2017-06-12T09:56:59Z","author_association":"MEMBER","body":">\n> Assumption: not a lot of people are currently using these metrics.\n> Proposal: let's drop as much custom logic as we can, and break the metric\n> names now, before publishing the dashboard using the metric names.\n>\nI'd look at changelog for the directory and ping any implicated. After that\ngo for it\n\nOn Mon, Jun 12, 2017 at 5:40 PM, Zoltán Nagy <notifications@github.com>\nwrote:\n\n> Important note, just realized: this change does actually break the\n> currently used metric names. The Zipkin implementation trims the counter_\n> and gauge_ prefixes (and sets the Prometheus metric type accordingly),\n> while the upstream one does *not* trim those prefixes, and makes\n> everything a gauge in Prometheus (see #1609 (comment)\n> <https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307608094>).\n>\n> Assumption: not a lot of people are currently using these metrics.\n> Proposal: let's drop as much custom logic as we can, and break the metric\n> names now, before publishing the dashboard using the metric names.\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307740186>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD61xuKt-aXNt6rHIwJ_eeNonZcx50Tks5sDQeZgaJpZM4N2F3H>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307744216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307746781","html_url":"https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307746781","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1609","id":307746781,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzc0Njc4MQ==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T10:07:34Z","updated_at":"2017-06-12T10:07:57Z","author_association":"MEMBER","body":"@klette Having implemented the original Zipkin Prometheus exporter, what are your thoughts on this PR? Especially https://github.com/openzipkin/zipkin/pull/1609#issuecomment-307740186?\r\n\r\n(That exhausts the list of people who contributed to the Prometheus exporter :smile: )","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/307746781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308002210","html_url":"https://github.com/openzipkin/zipkin/issues/1602#issuecomment-308002210","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1602","id":308002210,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODAwMjIxMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-13T04:16:31Z","updated_at":"2017-06-13T04:16:31Z","author_association":"MEMBER","body":"so for repo name.. zipkin-layout-factory? or\nzipkin-spring-boot-loader-tools? (based on the implied jar)\n\ncc @shakuzen @llinder\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308002210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308077373","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308077373","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308077373,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODA3NzM3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-13T10:41:16Z","updated_at":"2017-06-13T10:41:16Z","author_association":"MEMBER","body":"hmm can you be more specific on what error you are receiving?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308077373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308089286","html_url":"https://github.com/openzipkin/zipkin/pull/1612#issuecomment-308089286","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1612","id":308089286,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODA4OTI4Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-13T11:38:37Z","updated_at":"2017-06-13T11:38:37Z","author_association":"MEMBER","body":"satisfies the rule-of-three. merge time!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308089286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308099360","html_url":"https://github.com/openzipkin/zipkin/issues/1232#issuecomment-308099360","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1232","id":308099360,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODA5OTM2MA==","user":{"login":"varyumin","id":22167263,"node_id":"MDQ6VXNlcjIyMTY3MjYz","avatar_url":"https://avatars.githubusercontent.com/u/22167263?v=4","gravatar_id":"","url":"https://api.github.com/users/varyumin","html_url":"https://github.com/varyumin","followers_url":"https://api.github.com/users/varyumin/followers","following_url":"https://api.github.com/users/varyumin/following{/other_user}","gists_url":"https://api.github.com/users/varyumin/gists{/gist_id}","starred_url":"https://api.github.com/users/varyumin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/varyumin/subscriptions","organizations_url":"https://api.github.com/users/varyumin/orgs","repos_url":"https://api.github.com/users/varyumin/repos","events_url":"https://api.github.com/users/varyumin/events{/privacy}","received_events_url":"https://api.github.com/users/varyumin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-13T12:25:43Z","updated_at":"2017-06-13T12:25:43Z","author_association":"NONE","body":"I too would like see a PostgreSQL backend","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308099360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308192341","html_url":"https://github.com/openzipkin/zipkin/issues/1614#issuecomment-308192341","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1614","id":308192341,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODE5MjM0MQ==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-13T17:37:21Z","updated_at":"2017-06-13T17:37:21Z","author_association":"MEMBER","body":"It is also worth noting that Spring Cloud Sleuth is one library that offers an option to use RabbitMQ via Spring Cloud Stream and a custom Zipkin server (Zipkin Stream Server), as per [the documentation](https://github.com/spring-cloud/spring-cloud-sleuth/#sleuth-with-zipkin-via-spring-cloud-stream). That implementation could be a good reference for standardizing this.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308192341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308284671","html_url":"https://github.com/openzipkin/zipkin/pull/1615#issuecomment-308284671","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1615","id":308284671,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODI4NDY3MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T00:22:00Z","updated_at":"2017-06-14T00:22:00Z","author_association":"MEMBER","body":"Sounds reasonable. cc @sityro\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308284671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308286306","html_url":"https://github.com/openzipkin/zipkin/issues/1614#issuecomment-308286306","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1614","id":308286306,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODI4NjMwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T00:33:45Z","updated_at":"2017-06-14T00:33:45Z","author_association":"MEMBER","body":"Thanks for finally raising this! I'd like to see a guage of sites\ninterested and also those who have rabbit experience or otherwise could\nhelp maintain this.\n\nOn data format, it is best to go with what's supported on the others imho.\nSerialized json or thrift lists. This allows the plumbing to be swappable.\n\nAnecdotally, I've heard one reason for popularity is cloud foundry\ndeployments which usually or always have rabbit.\n\nAnother thing to note here is the version range if any to indicate support\nof.\n\nFinally, and more of a note, spring-cloud-sleuth stream collector indeed\nsupports rabbit. However, the data format is sleuth-specific which would\ninterfere especially with non java apps who want to share the transport (as\nthere is no thrift or schema for that and also it is bespoke)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308286306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308307105","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308307105","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308307105,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODMwNzEwNQ==","user":{"login":"tianmingxing","id":5615719,"node_id":"MDQ6VXNlcjU2MTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5615719?v=4","gravatar_id":"","url":"https://api.github.com/users/tianmingxing","html_url":"https://github.com/tianmingxing","followers_url":"https://api.github.com/users/tianmingxing/followers","following_url":"https://api.github.com/users/tianmingxing/following{/other_user}","gists_url":"https://api.github.com/users/tianmingxing/gists{/gist_id}","starred_url":"https://api.github.com/users/tianmingxing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianmingxing/subscriptions","organizations_url":"https://api.github.com/users/tianmingxing/orgs","repos_url":"https://api.github.com/users/tianmingxing/repos","events_url":"https://api.github.com/users/tianmingxing/events{/privacy}","received_events_url":"https://api.github.com/users/tianmingxing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T03:08:27Z","updated_at":"2017-06-14T03:09:28Z","author_association":"NONE","body":"This seems to be caused by data structs (JSON) incompatibility, and specifically you need to troubleshoot.\r\n\r\n# zipkin error\r\n\r\n```\r\n2017-06-14 11:05:14.525  WARN 3478 --- [.0.0.1:9200/...] zipkin.server.ZipkinHttpCollector        : Cannot store spans [e6eca7b6c5f8f339299570389c2a1d15.9a10745372015704<:aa2aecaf47f57f79, e6eca7b6c5f8f339299570389c2a1d15.d773c06755a69ebd<:aa2aecaf47f57f79, e6eca7b6c5f8f339299570389c2a1d15.aa2aecaf47f57f79<:aa2aecaf47f57f79] due to IllegalStateException(response failed: {\"error\":{\"root_cause\":[{\"type\":\"json_parse_exception\",\"reason\":\"Unexpected character ('n' (code 110)): was expecting comma to separate Object entries\\n at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@7ef838ae; line: 1, column: 91]\"}],\"type\":\"json_parse_exception\",\"reason\":\"Unexpected character ('n' (code 110)): was expecting comma to separate Object entries\\n at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@7ef838ae; line:1, column: 91]\"},\"status\":500})\r\n\r\njava.lang.IllegalStateException: response failed: {\"error\":{\"root_cause\":[{\"type\":\"json_parse_exception\",\"reason\":\"Unexpected character ('n' (code 110)): was expecting comma to separate Object entries\\n at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@7ef838ae; line: 1, column: 91]\"}],\"type\":\"json_parse_exception\",\"reason\":\"Unexpected character ('n' (code 110)): was expecting comma to separate Object entries\\n at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@7ef838ae; line: 1, column: 91]\"},\"status\":500}\r\n\tat zipkin.storage.elasticsearch.http.internal.client.HttpCall$CallbackAdapter.onResponse(HttpCall.java:108) [zipkin-storage-elasticsearch-http-1.26.1-SNAPSHOT.jar!/:na]\r\n\tat okhttp3.RealCall$AsyncCall.execute(RealCall.java:141) [okhttp-3.8.0.jar!/:na]\r\n\tat okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32) [okhttp-3.8.0.jar!/:na]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_77]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_77]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_77]\r\n```\r\n\r\n# elasticsearch 5.4.1 error\r\n```\r\n[2017-06-14T11:05:14,286][WARN ][r.suppressed             ] path: /_bulk, params: {}\r\ncom.fasterxml.jackson.core.JsonParseException: Unexpected character ('n' (code 110)): was expecting comma to separate Object entries\r\n at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@7ef838ae; line: 1, column: 91]\r\n\tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1702) ~[jackson-core-2.8.6.jar:2.8.6]\r\n\tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:558) ~[jackson-core-2.8.6.jar:2.8.6]\r\n\tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:456) ~[jackson-core-2.8.6.jar:2.8.6]\r\n\tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:761) ~[jackson-core-2.8.6.jar:2.8.6]\r\n\tat org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:55) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n\tat org.elasticsearch.action.bulk.BulkRequest.add(BulkRequest.java:368) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n\tat org.elasticsearch.rest.action.document.RestBulkAction.prepareRequest(RestBulkAction.java:89) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n\tat org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:64) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n\tat org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:260) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n\tat org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:199) [elasticsearch-5.4.1.jar:5.4.1]\r\n\tat org.elasticsearch.http.netty4.Netty4HttpServerTransport.dispatchRequest(Netty4HttpServerTransport.java:505) [transport-netty4-5.4.1.jar:5.4.1]\r\n\tat org.elasticsearch.http.netty4.Netty4HttpRequestHandler.channelRead0(Netty4HttpRequestHandler.java:72) [transport-netty4-5.4.1.jar:5.4.1]\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat org.elasticsearch.http.netty4.pipelining.HttpPipeliningHandler.channelRead(HttpPipeliningHandler.java:63) [transport-netty4-5.4.1.jar:5.4.1]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) [netty-codec-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111) [netty-codec-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) [netty-codec-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) [netty-codec-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) [netty-codec-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) [netty-codec-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:134) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:544) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458) [netty-transport-4.1.11.Final.jar:4.1.11.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) [netty-common-4.1.11.Final.jar:4.1.11.Final]\r\n\tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_77]\r\n[2017-06-14T11:05:15,513][WARN ][r.suppressed             ] path: /_bulk, params: {}\r\ncom.fasterxml.jackson.core.JsonParseException: Unexpected character ('n' (code 110)): was expecting comma to separate Object entries\r\n at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@12ddb70a; line: 1, column: 91]\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308307105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308307539","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308307539","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308307539,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODMwNzUzOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T03:11:54Z","updated_at":"2017-06-14T03:11:54Z","author_association":"MEMBER","body":"hmm.. well indeed it is hard to promise forward compatibility when data formats change on a minor version!\r\n\r\n5.3 was working, maybe this is something new in 5.4? cc @openzipkin/elasticsearch ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308307539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308307708","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308307708","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308307708,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODMwNzcwOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T03:13:20Z","updated_at":"2017-06-14T03:13:20Z","author_association":"MEMBER","body":"@xiaoxing598 how are you creating spans. can you create a failing test? (ex I can upgrade my ES to 5.4, but just in case it doesn't break)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308307708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308308628","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308308628","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308308628,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODMwODYyOA==","user":{"login":"tianmingxing","id":5615719,"node_id":"MDQ6VXNlcjU2MTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5615719?v=4","gravatar_id":"","url":"https://api.github.com/users/tianmingxing","html_url":"https://github.com/tianmingxing","followers_url":"https://api.github.com/users/tianmingxing/followers","following_url":"https://api.github.com/users/tianmingxing/following{/other_user}","gists_url":"https://api.github.com/users/tianmingxing/gists{/gist_id}","starred_url":"https://api.github.com/users/tianmingxing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianmingxing/subscriptions","organizations_url":"https://api.github.com/users/tianmingxing/orgs","repos_url":"https://api.github.com/users/tianmingxing/repos","events_url":"https://api.github.com/users/tianmingxing/events{/privacy}","received_events_url":"https://api.github.com/users/tianmingxing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T03:20:15Z","updated_at":"2017-06-14T03:20:15Z","author_association":"NONE","body":"Sorry i do not quite understand what you need me to help? Please describe more clearly, I can meet you at the moment.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308308628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308334211","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308334211","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308334211,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODMzNDIxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T06:40:20Z","updated_at":"2017-06-14T06:40:28Z","author_association":"MEMBER","body":"@xiaoxing598 I ran our whole test suite against ES 5.4.1 and also an ad-hoc test as well.\r\n\r\nHow are you creating spans? Do you have sample JSON that causes this?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308334211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308335464","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308335464","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308335464,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODMzNTQ2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T06:47:11Z","updated_at":"2017-06-14T06:47:11Z","author_association":"MEMBER","body":"I also added a unit test with newlines wondering if this was a cause, but it wasn't as it passed fine..\r\n\r\n```java\r\n @Test\r\n  public void dataIncludesNewlines() {\r\n    Span withNewlines = span1.toBuilder()\r\n      .addAnnotation(ann1.toBuilder().value(\"h\\nello\").build())\r\n      .addBinaryAnnotation(BinaryAnnotation.create(\"hello\", \"w\\norld\", ep)).build();\r\n\r\n    accept(withNewlines);\r\n\r\n    assertThat(store().getTraces(QueryRequest.builder().build()))\r\n      .flatExtracting(t -> t)\r\n      .contains(withNewlines);\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308335464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308341777","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308341777","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308341777,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODM0MTc3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T07:17:54Z","updated_at":"2017-06-14T07:17:54Z","author_association":"MEMBER","body":"probably easiest way is to set `ES_HTTP_LOGGING=BODY` to get the json","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308341777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308342144","html_url":"https://github.com/openzipkin/zipkin/pull/1615#issuecomment-308342144","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1615","id":308342144,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODM0MjE0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T07:19:30Z","updated_at":"2017-06-14T07:19:30Z","author_association":"MEMBER","body":"sorry meant to cc @sirtyro","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308342144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308353317","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308353317","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308353317,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODM1MzMxNw==","user":{"login":"tianmingxing","id":5615719,"node_id":"MDQ6VXNlcjU2MTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5615719?v=4","gravatar_id":"","url":"https://api.github.com/users/tianmingxing","html_url":"https://github.com/tianmingxing","followers_url":"https://api.github.com/users/tianmingxing/followers","following_url":"https://api.github.com/users/tianmingxing/following{/other_user}","gists_url":"https://api.github.com/users/tianmingxing/gists{/gist_id}","starred_url":"https://api.github.com/users/tianmingxing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianmingxing/subscriptions","organizations_url":"https://api.github.com/users/tianmingxing/orgs","repos_url":"https://api.github.com/users/tianmingxing/repos","events_url":"https://api.github.com/users/tianmingxing/events{/privacy}","received_events_url":"https://api.github.com/users/tianmingxing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T08:03:21Z","updated_at":"2017-06-14T08:03:21Z","author_association":"NONE","body":"We mainly use the PHP language development, in the integration of Zipkin used a framework [whitemerry/phpkin](https://github.com/whitemerry/phpkin), now look like it is the reason?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308353317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308353790","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308353790","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308353790,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODM1Mzc5MA==","user":{"login":"tianmingxing","id":5615719,"node_id":"MDQ6VXNlcjU2MTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5615719?v=4","gravatar_id":"","url":"https://api.github.com/users/tianmingxing","html_url":"https://github.com/tianmingxing","followers_url":"https://api.github.com/users/tianmingxing/followers","following_url":"https://api.github.com/users/tianmingxing/following{/other_user}","gists_url":"https://api.github.com/users/tianmingxing/gists{/gist_id}","starred_url":"https://api.github.com/users/tianmingxing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianmingxing/subscriptions","organizations_url":"https://api.github.com/users/tianmingxing/orgs","repos_url":"https://api.github.com/users/tianmingxing/repos","events_url":"https://api.github.com/users/tianmingxing/events{/privacy}","received_events_url":"https://api.github.com/users/tianmingxing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T08:04:55Z","updated_at":"2017-06-14T08:04:55Z","author_association":"NONE","body":"I see this frame on the official website, which is your recommended PHP framework, so I used it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308353790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308360249","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308360249","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308360249,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODM2MDI0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T08:27:43Z","updated_at":"2017-06-14T08:27:43Z","author_association":"MEMBER","body":">\n> I see this frame on the official website, which is your recommended PHP\n> framework, so I used it.\n>\nphpkin is under the community support section, and it is very new. The\nauthor added it to the list, though there are other libraries, too\nhttps://github.com/openzipkin/zipkin/issues/1330\n\nRegardless, if you capture the http body we can tell for sure what is wrong.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308360249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308596240","html_url":"https://github.com/openzipkin/zipkin/pull/1615#issuecomment-308596240","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1615","id":308596240,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODU5NjI0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T00:39:07Z","updated_at":"2017-06-15T00:39:07Z","author_association":"MEMBER","body":"Looks good. On the env part, spring boot already avails upper underscore\nenv for correspinding properties. Here and elsewhere we are just making\nshorter ones available. At any rate, I think this is good. Thanks!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308596240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308608942","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308608942","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308608942,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODYwODk0Mg==","user":{"login":"tianmingxing","id":5615719,"node_id":"MDQ6VXNlcjU2MTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/5615719?v=4","gravatar_id":"","url":"https://api.github.com/users/tianmingxing","html_url":"https://github.com/tianmingxing","followers_url":"https://api.github.com/users/tianmingxing/followers","following_url":"https://api.github.com/users/tianmingxing/following{/other_user}","gists_url":"https://api.github.com/users/tianmingxing/gists{/gist_id}","starred_url":"https://api.github.com/users/tianmingxing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianmingxing/subscriptions","organizations_url":"https://api.github.com/users/tianmingxing/orgs","repos_url":"https://api.github.com/users/tianmingxing/repos","events_url":"https://api.github.com/users/tianmingxing/events{/privacy}","received_events_url":"https://api.github.com/users/tianmingxing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T02:13:51Z","updated_at":"2017-06-15T02:13:51Z","author_association":"NONE","body":"This is the frame to send data to Zipkin source code:\r\n\r\n```php\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    public function trace($spans)\r\n    {\r\n        $contextOptions = [\r\n            'http' => [\r\n                'method' => 'POST',\r\n                'header' => 'Content-type: application/json',\r\n                'content' => json_encode($spans),\r\n                'ignore_errors' => true\r\n            ]\r\n        ];\r\n        $context = stream_context_create(array_merge_recursive($contextOptions, $this->options['contextOptions']));\r\n        @file_get_contents($this->options['host'] . $this->options['endpoint'], false, $context);\r\n\r\n        if (\r\n            !$this->options['muteErrors']\r\n            && (empty($http_response_header) || !$this->validResponse($http_response_header))\r\n        ) {\r\n            throw new LoggerException('Trace upload failed');\r\n        }\r\n    }\r\n```\r\n\r\nI recorded the contents of the transmission, and through the log output, hoping to help you diagnose the problem lies.\r\n\r\n```\r\n[\r\n    {\r\n        \"id\": \"4ee9eb1aea216e0a\",\r\n        \"traceId\": \"a530341daffb8e6d9a3d4d7a32f9b1e5\",\r\n        \"name\": \"find({\\\"ns\\\":\\\"test.theme\\\",\\\"filter\\\":{\\\"_id\\\":\\\"MongoDB\\\\\\\\BSON\\\\\\\\ObjectID(5810690caee7c479be1c0082)\\\"},\\\"projection\\\":{\\\"_id\\\":null,\\\"images\\\":true,\\\"texts\\\":true}})\",\r\n        \"timestamp\": 1497492561507979,\r\n        \"duration\": 32901,\r\n        \"annotations\": [\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb query\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561507979,\r\n                \"value\": \"cs\"\r\n            },\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb query\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561540880,\r\n                \"value\": \"cr\"\r\n            }\r\n        ],\r\n        \"parentId\": \"d5ab31886d28bb54\"\r\n    },\r\n    {\r\n        \"id\": \"5e208e2ba87f4d41\",\r\n        \"traceId\": \"a530341daffb8e6d9a3d4d7a32f9b1e5\",\r\n        \"name\": \"test.event.bulkWrite([{\\\"type\\\":\\\"update\\\",\\\"condition\\\":{\\\"$and\\\":[{\\\"founder.id\\\":12035},{\\\"closeStatus\\\":\\\"\\\\u672a\\\\u5f00\\\\u59cb\\\"},{\\\"startTime\\\":{\\\"$lte\\\":1497492561}}]},\\\"document\\\":{\\\"$set\\\":{\\\"closeStatus\\\":\\\"\\\\u8fdb\\\\u884c\\\\u4e2d\\\"}},\\\"options\\\":{\\\"multi\\\":true,\\\"upsert\\\":false}}])\",\r\n        \"timestamp\": 1497492561549244,\r\n        \"duration\": 1174,\r\n        \"annotations\": [\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb execute batch\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561549244,\r\n                \"value\": \"cs\"\r\n            },\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb execute batch\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561550418,\r\n                \"value\": \"cr\"\r\n            }\r\n        ],\r\n        \"parentId\": \"d5ab31886d28bb54\"\r\n    },\r\n    {\r\n        \"id\": \"a3163671dd150df1\",\r\n        \"traceId\": \"a530341daffb8e6d9a3d4d7a32f9b1e5\",\r\n        \"name\": \"test.event.bulkWrite([{\\\"type\\\":\\\"update\\\",\\\"condition\\\":{\\\"$and\\\":[{\\\"founder.id\\\":12035},{\\\"closeStatus\\\":\\\"\\\\u8fdb\\\\u884c\\\\u4e2d\\\"},{\\\"endTime\\\":{\\\"$lte\\\":1497492561}}]},\\\"document\\\":{\\\"$set\\\":{\\\"closeStatus\\\":\\\"\\\\u5df2\\\\u7ed3\\\\u675f\\\"}},\\\"options\\\":{\\\"multi\\\":true,\\\"upsert\\\":false}}])\",\r\n        \"timestamp\": 1497492561550474,\r\n        \"duration\": 638,\r\n        \"annotations\": [\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb execute batch\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561550474,\r\n                \"value\": \"cs\"\r\n            },\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb execute batch\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561551112,\r\n                \"value\": \"cr\"\r\n            }\r\n        ],\r\n        \"parentId\": \"d5ab31886d28bb54\"\r\n    },\r\n    {\r\n        \"id\": \"f05f84dce91f83f0\",\r\n        \"traceId\": \"a530341daffb8e6d9a3d4d7a32f9b1e5\",\r\n        \"name\": \"test.command({\\\"count\\\":\\\"event\\\",\\\"query\\\":{\\\"founder.id\\\":12035,\\\"isDeleted\\\":0,\\\"themeId\\\":\\\"5810690caee7c479be1c0082\\\"}})\",\r\n        \"timestamp\": 1497492561551565,\r\n        \"duration\": 1059,\r\n        \"annotations\": [\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb execute\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561551565,\r\n                \"value\": \"cs\"\r\n            },\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb execute\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561552624,\r\n                \"value\": \"cr\"\r\n            }\r\n        ],\r\n        \"parentId\": \"d5ab31886d28bb54\"\r\n    },\r\n    {\r\n        \"id\": \"96e51c2ed5f20efa\",\r\n        \"traceId\": \"a530341daffb8e6d9a3d4d7a32f9b1e5\",\r\n        \"name\": \"find({\\\"ns\\\":\\\"test.event\\\",\\\"filter\\\":{\\\"founder.id\\\":12035,\\\"isDeleted\\\":0,\\\"themeId\\\":\\\"5810690caee7c479be1c0082\\\"},\\\"sort\\\":{\\\"createdTime\\\":-1},\\\"limit\\\":6,\\\"skip\\\":0,\\\"projection\\\":{\\\"_id\\\":true,\\\"name\\\":true,\\\"startTime\\\":true,\\\"endTime\\\":true,\\\"advancedSetting.keyword\\\":true,\\\"participants\\\":true,\\\"prizes\\\":true,\\\"closeStatus\\\":true}})\",\r\n        \"timestamp\": 1497492561552843,\r\n        \"duration\": 1068,\r\n        \"annotations\": [\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb query\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561552843,\r\n                \"value\": \"cs\"\r\n            },\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"mongodb query\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561553911,\r\n                \"value\": \"cr\"\r\n            }\r\n        ],\r\n        \"parentId\": \"d5ab31886d28bb54\"\r\n    },\r\n    {\r\n        \"id\": \"8a524be53cd3f4af\",\r\n        \"traceId\": \"a530341daffb8e6d9a3d4d7a32f9b1e5\",\r\n        \"name\": \"supplier/event-list\",\r\n        \"timestamp\": 1497492561543162,\r\n        \"duration\": 10983,\r\n        \"annotations\": [\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"action\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561543162,\r\n                \"value\": \"cs\"\r\n            },\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"action\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561554145,\r\n                \"value\": \"cr\"\r\n            }\r\n        ],\r\n        \"parentId\": \"d5ab31886d28bb54\"\r\n    },\r\n    {\r\n        \"id\": \"d5ab31886d28bb54\",\r\n        \"traceId\": \"a530341daffb8e6d9a3d4d7a32f9b1e5\",\r\n        \"name\": \"http://test.example.com/supplier/event-list?themeId=5810690caee7c479be1c0082themeId=5810690caee7c479be1c0082\",\r\n        \"timestamp\": 1497492561409431,\r\n        \"duration\": 145031,\r\n        \"annotations\": [\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"xxx\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561409431,\r\n                \"value\": \"sr\"\r\n            },\r\n            {\r\n                \"endpoint\": {\r\n                    \"serviceName\": \"xxx\",\r\n                    \"ipv4\": \"0.0.0.0\",\r\n                    \"port\": \"80\"\r\n                },\r\n                \"timestamp\": 1497492561554462,\r\n                \"value\": \"ss\"\r\n            }\r\n        ]\r\n    }\r\n]\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308608942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308616673","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308616673","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308616673,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODYxNjY3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T03:13:30Z","updated_at":"2017-06-15T03:13:30Z","author_association":"MEMBER","body":"hah.. so the tracer is sending json as a span name! that's probably what\nthe issue is. That's a bug in the tracer or how it is used. span names\nshould be low cardinality such as \"event-list\", not a json body.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308616673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308617154","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308617154","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308617154,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODYxNzE1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T03:17:31Z","updated_at":"2017-06-15T03:17:31Z","author_association":"MEMBER","body":"I think to make this easier to troubleshoot, we should probably escape\njson in span names (in ES) for now. Otherwise it is hard for people to\ntroubleshoot. anyone think otherwise?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308617154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308624725","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308624725","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308624725,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODYyNDcyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T04:22:31Z","updated_at":"2017-06-15T04:22:31Z","author_association":"MEMBER","body":"so turns out that this isn't a problem specific to an ES version, as plopping in this integration test also breaks ES 2.x\r\n\r\n```java\r\n  @Test\r\n  public void spanNameIsJson() {\r\n    String json = \"{\\\"foo\\\":\\\"bar\\\"}\";\r\n    Span withJsonSpanName = span1.toBuilder().name(json).build();\r\n\r\n    accept(withJsonSpanName);\r\n\r\n    assertThat(store().getTraces(QueryRequest.builder().spanName(json).build()))\r\n      .flatExtracting(t -> t)\r\n      .contains(withJsonSpanName);\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308624725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308624837","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308624837","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308624837,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODYyNDgzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T04:23:34Z","updated_at":"2017-06-15T04:23:47Z","author_association":"MEMBER","body":"it doesn't break on cassandra or mysql, so I think we can localize a fix","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308624837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308628205","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308628205","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308628205,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODYyODIwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T04:53:00Z","updated_at":"2017-06-15T04:53:00Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/1616 fixes this","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308628205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308629383","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-308629383","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":308629383,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODYyOTM4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T05:02:39Z","updated_at":"2017-06-15T05:02:39Z","author_association":"MEMBER","body":"here's a follow-up on the overall problem of span data https://github.com/openzipkin/zipkin/issues/1617","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308629383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308629408","html_url":"https://github.com/openzipkin/zipkin/pull/1616#issuecomment-308629408","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1616","id":308629408,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODYyOTQwOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T05:02:48Z","updated_at":"2017-06-15T05:02:48Z","author_association":"MEMBER","body":"here's a follow-up on the overall problem of span data https://github.com/openzipkin/zipkin/issues/1617","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308629408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308630554","html_url":"https://github.com/openzipkin/zipkin/issues/1602#issuecomment-308630554","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1602","id":308630554,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODYzMDU1NA==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T05:12:36Z","updated_at":"2017-06-15T05:15:39Z","author_association":"MEMBER","body":"I like the brevity of zipkin-layout-factory, but that (for better or worse) restricts the repo to a very narrow scope. zipkin-spring-boot-loader-tools on the other hand feels like it could have a couple related concerns in it (though so far I don't know what they would be other than the one mentioned in this issue)\r\nIf I had to pick one of the suggested names now, I would go with zipkin-layout-factory. I can’t think of a better one now, either.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308630554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308647949","html_url":"https://github.com/openzipkin/zipkin/pull/1615#issuecomment-308647949","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1615","id":308647949,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODY0Nzk0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T07:07:41Z","updated_at":"2017-06-15T07:07:41Z","author_association":"MEMBER","body":"thank you!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308647949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308670890","html_url":"https://github.com/openzipkin/zipkin/pull/1618#issuecomment-308670890","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1618","id":308670890,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODY3MDg5MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T08:53:58Z","updated_at":"2017-06-15T08:53:58Z","author_association":"MEMBER","body":"gonna merge and see if this helps with aws aurora","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308670890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308672655","html_url":"https://github.com/openzipkin/zipkin/issues/1611#issuecomment-308672655","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1611","id":308672655,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODY3MjY1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T09:00:59Z","updated_at":"2017-06-15T09:00:59Z","author_association":"MEMBER","body":"@swankjesse @jakewharton @brianm do y'all know of a friendly little library which lets you fan-out okhttp across multiple TLS connections such as you can with plain text connections by hacking okhttp3.Dns? I'm trying to not add many deps for our native Elasticsearch thing.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308672655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308677369","html_url":"https://github.com/openzipkin/zipkin/issues/1134#issuecomment-308677369","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1134","id":308677369,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODY3NzM2OQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T09:20:45Z","updated_at":"2017-06-15T09:20:45Z","author_association":"NONE","body":"thank you!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308677369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308689065","html_url":"https://github.com/openzipkin/zipkin/issues/1611#issuecomment-308689065","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1611","id":308689065,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODY4OTA2NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T10:10:32Z","updated_at":"2017-06-15T10:10:32Z","author_association":"MEMBER","body":"fan-out is a poor choice of terms, I think transparent round-robin and fail-over is more precisely what's needed here.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308689065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308712441","html_url":"https://github.com/openzipkin/zipkin/issues/1611#issuecomment-308712441","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1611","id":308712441,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODcxMjQ0MQ==","user":{"login":"swankjesse","id":133019,"node_id":"MDQ6VXNlcjEzMzAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/133019?v=4","gravatar_id":"","url":"https://api.github.com/users/swankjesse","html_url":"https://github.com/swankjesse","followers_url":"https://api.github.com/users/swankjesse/followers","following_url":"https://api.github.com/users/swankjesse/following{/other_user}","gists_url":"https://api.github.com/users/swankjesse/gists{/gist_id}","starred_url":"https://api.github.com/users/swankjesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swankjesse/subscriptions","organizations_url":"https://api.github.com/users/swankjesse/orgs","repos_url":"https://api.github.com/users/swankjesse/repos","events_url":"https://api.github.com/users/swankjesse/events{/privacy}","received_events_url":"https://api.github.com/users/swankjesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T12:12:41Z","updated_at":"2017-06-15T12:12:41Z","author_association":"NONE","body":"So our ConnectionPool tries it's best to minimize the number of connections. This would create more?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308712441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308715456","html_url":"https://github.com/openzipkin/zipkin/issues/1602#issuecomment-308715456","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1602","id":308715456,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODcxNTQ1Ng==","user":{"login":"llinder","id":99359,"node_id":"MDQ6VXNlcjk5MzU5","avatar_url":"https://avatars.githubusercontent.com/u/99359?v=4","gravatar_id":"","url":"https://api.github.com/users/llinder","html_url":"https://github.com/llinder","followers_url":"https://api.github.com/users/llinder/followers","following_url":"https://api.github.com/users/llinder/following{/other_user}","gists_url":"https://api.github.com/users/llinder/gists{/gist_id}","starred_url":"https://api.github.com/users/llinder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/llinder/subscriptions","organizations_url":"https://api.github.com/users/llinder/orgs","repos_url":"https://api.github.com/users/llinder/repos","events_url":"https://api.github.com/users/llinder/events{/privacy}","received_events_url":"https://api.github.com/users/llinder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T12:27:20Z","updated_at":"2017-06-15T12:27:20Z","author_association":"MEMBER","body":"zipkin-layout-factory sounds fine to me","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308715456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308715896","html_url":"https://github.com/openzipkin/zipkin/issues/1611#issuecomment-308715896","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1611","id":308715896,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODcxNTg5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T12:29:37Z","updated_at":"2017-06-15T12:29:37Z","author_association":"MEMBER","body":"I guess what I mean is to have different TLS endpoints, like\nhttps://foo.com https://bar.com\nI suspect that the different TLS identities between foo.com and\nbar.com would prevent me from using the dns trick.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308715896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308716494","html_url":"https://github.com/openzipkin/zipkin/issues/1602#issuecomment-308716494","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1602","id":308716494,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODcxNjQ5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T12:32:36Z","updated_at":"2017-06-15T12:32:36Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin-layout-factory\n\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308716494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308750024","html_url":"https://github.com/openzipkin/zipkin/issues/1608#issuecomment-308750024","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1608","id":308750024,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODc1MDAyNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T14:27:01Z","updated_at":"2017-06-15T14:27:01Z","author_association":"MEMBER","body":"This should be sorted in 1.26.1 which has corrected the mysql dialect setting in the client. If doesn't work, please re-open!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308750024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308883171","html_url":"https://github.com/openzipkin/zipkin/pull/1615#issuecomment-308883171","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1615","id":308883171,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODg4MzE3MQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T22:29:59Z","updated_at":"2017-06-15T22:29:59Z","author_association":"NONE","body":"Sorry @adriancole , late to the party, but we like this and will def use it!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/308883171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309016852","html_url":"https://github.com/openzipkin/zipkin/issues/1229#issuecomment-309016852","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1229","id":309016852,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTAxNjg1Mg==","user":{"login":"ggn06awu","id":2786837,"node_id":"MDQ6VXNlcjI3ODY4Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/2786837?v=4","gravatar_id":"","url":"https://api.github.com/users/ggn06awu","html_url":"https://github.com/ggn06awu","followers_url":"https://api.github.com/users/ggn06awu/followers","following_url":"https://api.github.com/users/ggn06awu/following{/other_user}","gists_url":"https://api.github.com/users/ggn06awu/gists{/gist_id}","starred_url":"https://api.github.com/users/ggn06awu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggn06awu/subscriptions","organizations_url":"https://api.github.com/users/ggn06awu/orgs","repos_url":"https://api.github.com/users/ggn06awu/repos","events_url":"https://api.github.com/users/ggn06awu/events{/privacy}","received_events_url":"https://api.github.com/users/ggn06awu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-16T12:44:51Z","updated_at":"2017-06-16T12:44:51Z","author_association":"NONE","body":"Any progress on this, would be nice to serve zipkin off a path under the main application's context, rather than off a different endpoint altogether. Seems like quite a big glaring omission for such a great tool!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309016852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309033261","html_url":"https://github.com/openzipkin/zipkin/issues/1229#issuecomment-309033261","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1229","id":309033261,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTAzMzI2MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-16T13:59:05Z","updated_at":"2017-06-16T13:59:05Z","author_association":"MEMBER","body":"Currently seems easiest+most acceptable way to implement this is by way of\n/zipkin\n\nZipkin is mostly volunteers, waiting for one on this!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309033261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309210740","html_url":"https://github.com/openzipkin/zipkin/issues/1620#issuecomment-309210740","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1620","id":309210740,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTIxMDc0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-17T11:56:19Z","updated_at":"2017-06-17T11:56:19Z","author_association":"MEMBER","body":"Custom fields could be added using elasticsearch 5+ pipeline feature\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/pipeline.html\n\nSorry I dont have an example but this is what you can try\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309210740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309249117","html_url":"https://github.com/openzipkin/zipkin/issues/1621#issuecomment-309249117","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1621","id":309249117,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTI0OTExNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-18T00:41:28Z","updated_at":"2017-06-18T00:41:28Z","author_association":"MEMBER","body":"Set the version of io.zipkin.java:zipkin\n\nI will raise something to update spring cloud sleuth's deps which might be\nsetting an earlier version (guess)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309249117/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309249450","html_url":"https://github.com/openzipkin/zipkin/issues/1621#issuecomment-309249450","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1621","id":309249450,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTI0OTQ1MA==","user":{"login":"xeraa","id":432211,"node_id":"MDQ6VXNlcjQzMjIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/432211?v=4","gravatar_id":"","url":"https://api.github.com/users/xeraa","html_url":"https://github.com/xeraa","followers_url":"https://api.github.com/users/xeraa/followers","following_url":"https://api.github.com/users/xeraa/following{/other_user}","gists_url":"https://api.github.com/users/xeraa/gists{/gist_id}","starred_url":"https://api.github.com/users/xeraa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xeraa/subscriptions","organizations_url":"https://api.github.com/users/xeraa/orgs","repos_url":"https://api.github.com/users/xeraa/repos","events_url":"https://api.github.com/users/xeraa/events{/privacy}","received_events_url":"https://api.github.com/users/xeraa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-18T00:51:12Z","updated_at":"2017-06-18T00:51:12Z","author_association":"MEMBER","body":"That works (now even with 1.26.1). Thanks a lot!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309249450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309287095","html_url":"https://github.com/openzipkin/zipkin/issues/1428#issuecomment-309287095","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1428","id":309287095,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTI4NzA5NQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-18T16:15:17Z","updated_at":"2017-06-18T16:15:17Z","author_association":"NONE","body":"Looking for this feature eagerly....\r\n\r\nOr could someone leave us a hint how to integrate with rabbitmq (RabbitTemplate) ?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309287095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309308449","html_url":"https://github.com/openzipkin/zipkin/issues/1428#issuecomment-309308449","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1428","id":309308449,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTMwODQ0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-18T22:56:17Z","updated_at":"2017-06-18T22:56:17Z","author_association":"MEMBER","body":"you can try something like we have in kafka, except rabbit has message properties. This means you can inject/extra the trace ID from headers instead of the kafka key.\r\n\r\nhttps://gist.github.com/adriancole/76d94054b77e3be338bd75424ca8ba30\r\n\r\nCheck with spring-cloud-sleuth (if you are using that) or brave for related functionality (raise an issue if one doesn't exist)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309308449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309323869","html_url":"https://github.com/openzipkin/zipkin/issues/1428#issuecomment-309323869","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1428","id":309323869,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTMyMzg2OQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-19T02:27:08Z","updated_at":"2017-06-19T02:27:08Z","author_association":"NONE","body":"Thanks for the hint. \r\n\r\nWe're trying to add tracing ability to a traditional project, neither spring-cloud nor \r\n spring-boot.\r\n\r\nI'll digest the one-way propogration. It makes me feel strange that only few information can be found for the integration of zipkin(brave) and mq.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309323869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309324486","html_url":"https://github.com/openzipkin/zipkin/issues/1620#issuecomment-309324486","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1620","id":309324486,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTMyNDQ4Ng==","user":{"login":"qq494679975","id":7577654,"node_id":"MDQ6VXNlcjc1Nzc2NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7577654?v=4","gravatar_id":"","url":"https://api.github.com/users/qq494679975","html_url":"https://github.com/qq494679975","followers_url":"https://api.github.com/users/qq494679975/followers","following_url":"https://api.github.com/users/qq494679975/following{/other_user}","gists_url":"https://api.github.com/users/qq494679975/gists{/gist_id}","starred_url":"https://api.github.com/users/qq494679975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qq494679975/subscriptions","organizations_url":"https://api.github.com/users/qq494679975/orgs","repos_url":"https://api.github.com/users/qq494679975/repos","events_url":"https://api.github.com/users/qq494679975/events{/privacy}","received_events_url":"https://api.github.com/users/qq494679975/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-19T02:32:42Z","updated_at":"2017-06-19T02:32:42Z","author_association":"NONE","body":"well，i use elasticsearch 2.4.4··Is there any other way?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309324486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309558890","html_url":"https://github.com/openzipkin/zipkin/issues/1428#issuecomment-309558890","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1428","id":309558890,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTU1ODg5MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-19T20:08:06Z","updated_at":"2017-06-19T20:08:06Z","author_association":"MEMBER","body":">\n>  It makes me feel strange that only few information can be found for the\n> integration of zipkin(brave) and mq.\n>\nNot strange, just we don't develop features until they are requested is\nall. If you look at the issues there has been no-one requesting rabbit\nbefore you (at least not here). There *have* been a lot of folks asking in\ngeneral on zipkin, and that's how the one-way span thing came to be.\n\nAnyway, if you need a hand, feel free to hop on\nhttps://gitter.im/openzipkin/zipkin If others end up interested in this, it\ncould become a feature.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309558890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309561642","html_url":"https://github.com/openzipkin/zipkin/issues/1620#issuecomment-309561642","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1620","id":309561642,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTU2MTY0Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-19T20:18:14Z","updated_at":"2017-06-19T20:18:14Z","author_association":"MEMBER","body":"no there isn't any supported way in 2.4\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309561642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309565367","html_url":"https://github.com/openzipkin/zipkin/pull/1622#issuecomment-309565367","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1622","id":309565367,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTU2NTM2Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-19T20:32:59Z","updated_at":"2017-06-19T20:32:59Z","author_association":"MEMBER","body":"seems handy, but would need a test and updates on the config docs. Also, we should make sure that this is something others agree with as I don't know the support implications of always using ConsumerRebalanceListener.\r\n\r\nSorry we don't have a kafka mailer at the moment. pinging @dgrabows as he touched this recently","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309565367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309573259","html_url":"https://github.com/openzipkin/zipkin/pull/1622#issuecomment-309573259","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1622","id":309573259,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTU3MzI1OQ==","user":{"login":"dgrabows","id":201525,"node_id":"MDQ6VXNlcjIwMTUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/201525?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrabows","html_url":"https://github.com/dgrabows","followers_url":"https://api.github.com/users/dgrabows/followers","following_url":"https://api.github.com/users/dgrabows/following{/other_user}","gists_url":"https://api.github.com/users/dgrabows/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrabows/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrabows/subscriptions","organizations_url":"https://api.github.com/users/dgrabows/orgs","repos_url":"https://api.github.com/users/dgrabows/repos","events_url":"https://api.github.com/users/dgrabows/events{/privacy}","received_events_url":"https://api.github.com/users/dgrabows/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-19T21:04:34Z","updated_at":"2017-06-19T21:04:34Z","author_association":"CONTRIBUTOR","body":"This change make sense to me.\r\n\r\nI don't think the ConsumerRebalanceListener is a concern. That was already there and not introduced with this change. It gets used for the worker to maintain a list of currently assigned partitions. That list is only used in the tests for multiple consumer threads, where the test needs to wait until each consumer has some assignment before proceeding.\r\n\r\nThe listener will be invoked each time partitions are reassigned in the consumer group, which will only happen once per restart if running a single instance of the collector. If running multiple collectors, invocations will occur whenever a collector is started, stopped, or looses connectivity to the kafka brokers. Those should be relatively infrequent events.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309573259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309608469","html_url":"https://github.com/openzipkin/zipkin/issues/1460#issuecomment-309608469","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1460","id":309608469,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTYwODQ2OQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T00:18:14Z","updated_at":"2017-06-20T00:18:14Z","author_association":"NONE","body":"@adriancole we've also experienced issues where by a trace with over 3,000 spans ended up crashing the chrome instance we were using to view the zipkin UI. The UI was also pretty non perform-ant prior to the crash.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309608469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309610181","html_url":"https://github.com/openzipkin/zipkin/issues/1428#issuecomment-309610181","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1428","id":309610181,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTYxMDE4MQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T00:30:34Z","updated_at":"2017-06-20T00:34:11Z","author_association":"NONE","body":"Thanks very much.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309610181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309650672","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309650672","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309650672,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTY1MDY3Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T05:43:45Z","updated_at":"2017-06-20T05:43:45Z","author_association":"MEMBER","body":"@eirslett @basvanbeek know anyone w/xss mitigation experience?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309650672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309653712","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309653712","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309653712,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTY1MzcxMg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T06:05:30Z","updated_at":"2017-06-20T06:05:30Z","author_association":"NONE","body":"I would imagine you can attack it in two ways. When you receive data, you sanitise it.\r\n\r\nand when you render it, you should be able to ask your framework to sanitise the data. What's the UI framework you're using?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309653712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309671941","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309671941","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309671941,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTY3MTk0MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T07:44:36Z","updated_at":"2017-06-20T07:44:36Z","author_association":"MEMBER","body":"Good points. Responses inline!\n\nI would imagine you can attack it in two ways. When you receive data, you\nsanitise it.\n\nThis is one use case of zipkin-sparkstreaming, though people making custom\nbuilds of zipkin server can likely intercept the Collector or Storage\ncomponent to do the same.\n\nand when you render it, you should be able to ask your framework to\nsanitise the data. What's the UI framework you're using\n\nWe are using flightjs and crossroads\nhttps://github.com/openzipkin/zipkin/blob/master/zipkin-ui/package.json\n\nThere is not yet started renovation idea towards react redux\nhttps://github.com/openzipkin/zipkin/issues/1577#issuecomment-297876694\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309671941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309725387","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309725387","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309725387,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTcyNTM4Nw==","user":{"login":"eirslett","id":1872593,"node_id":"MDQ6VXNlcjE4NzI1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1872593?v=4","gravatar_id":"","url":"https://api.github.com/users/eirslett","html_url":"https://github.com/eirslett","followers_url":"https://api.github.com/users/eirslett/followers","following_url":"https://api.github.com/users/eirslett/following{/other_user}","gists_url":"https://api.github.com/users/eirslett/gists{/gist_id}","starred_url":"https://api.github.com/users/eirslett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eirslett/subscriptions","organizations_url":"https://api.github.com/users/eirslett/orgs","repos_url":"https://api.github.com/users/eirslett/repos","events_url":"https://api.github.com/users/eirslett/events{/privacy}","received_events_url":"https://api.github.com/users/eirslett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T11:31:03Z","updated_at":"2017-06-20T11:31:03Z","author_association":"CONTRIBUTOR","body":"I'm surprised this is an issue. We use Mustache for templating, which escapes input by default...","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309725387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309727099","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309727099","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309727099,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTcyNzA5OQ==","user":{"login":"eirslett","id":1872593,"node_id":"MDQ6VXNlcjE4NzI1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1872593?v=4","gravatar_id":"","url":"https://api.github.com/users/eirslett","html_url":"https://github.com/eirslett","followers_url":"https://api.github.com/users/eirslett/followers","following_url":"https://api.github.com/users/eirslett/following{/other_user}","gists_url":"https://api.github.com/users/eirslett/gists{/gist_id}","starred_url":"https://api.github.com/users/eirslett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eirslett/subscriptions","organizations_url":"https://api.github.com/users/eirslett/orgs","repos_url":"https://api.github.com/users/eirslett/repos","events_url":"https://api.github.com/users/eirslett/events{/privacy}","received_events_url":"https://api.github.com/users/eirslett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T11:39:08Z","updated_at":"2017-06-20T11:39:08Z","author_association":"CONTRIBUTOR","body":"Looks like there's a lot of cowboy jQuery in our views, that don't escape input properly.\r\nI'm not sure if it's faster to just port the code to React/Redux, than to look through all the vulnerabilities and fix them...","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309727099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309769004","html_url":"https://github.com/openzipkin/zipkin/issues/1528#issuecomment-309769004","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1528","id":309769004,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTc2OTAwNA==","user":{"login":"joel-airspring","id":4552139,"node_id":"MDQ6VXNlcjQ1NTIxMzk=","avatar_url":"https://avatars.githubusercontent.com/u/4552139?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-airspring","html_url":"https://github.com/joel-airspring","followers_url":"https://api.github.com/users/joel-airspring/followers","following_url":"https://api.github.com/users/joel-airspring/following{/other_user}","gists_url":"https://api.github.com/users/joel-airspring/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-airspring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-airspring/subscriptions","organizations_url":"https://api.github.com/users/joel-airspring/orgs","repos_url":"https://api.github.com/users/joel-airspring/repos","events_url":"https://api.github.com/users/joel-airspring/events{/privacy}","received_events_url":"https://api.github.com/users/joel-airspring/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T14:15:10Z","updated_at":"2017-06-20T14:15:10Z","author_association":"CONTRIBUTOR","body":"This would be useful for us too.  I'd like to take a crack at it.\r\n\r\nI think it makes sense to take the approach of letting users either set a maximum number of spans or a maximum number of span bytes (using a rough estimate 500 bytes per span), so\r\n  --max-spans=10000\r\nand\r\n  --max-span-bytes=5mb\r\nwould be the same.  Or perhaps since this applies to the in-memory storage only, the options should be --max-inmemory-spans and --max-inmemory-span-bytes. . .something like that.\r\n\r\nIn the process of familiarizing myself with the code, I've made a few cleanups that I'll submit via separate PRs.  I haven't actually written the code to purge the old spans yet, but I hope to tackle that today.\r\n\r\nDoes that sound OK?\r\n\r\nJoel","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309769004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309800547","html_url":"https://github.com/openzipkin/zipkin/issues/1528#issuecomment-309800547","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1528","id":309800547,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTgwMDU0Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T15:43:32Z","updated_at":"2017-06-20T15:43:32Z","author_association":"MEMBER","body":"Go for simplest auto-purge based on oldest data. I suspect span or trace id\nis likely easier to implement, but happy to review whatever proves easiest.\n\nOne knob is ideal because we dont want to start encouraging use of mem\nstorage by adding too many features to it.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309800547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309865069","html_url":"https://github.com/openzipkin/zipkin/issues/1428#issuecomment-309865069","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1428","id":309865069,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTg2NTA2OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T19:37:09Z","updated_at":"2017-06-20T19:37:09Z","author_association":"MEMBER","body":"if you can chat then join https://gitter.im/openzipkin/zipkin otherwise,\nyou can do stackoverflow and I'll look out for it\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309865069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309865825","html_url":"https://github.com/openzipkin/zipkin/pull/1624#issuecomment-309865825","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1624","id":309865825,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTg2NTgyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T19:39:21Z","updated_at":"2017-06-20T19:39:21Z","author_association":"MEMBER","body":"Thanks for this. umm we currently only use this in tests, so we can go with as-is","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309865825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309866677","html_url":"https://github.com/openzipkin/zipkin/pull/1622#issuecomment-309866677","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1622","id":309866677,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTg2NjY3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T19:41:47Z","updated_at":"2017-06-20T19:41:47Z","author_association":"MEMBER","body":"ok great. @danielkwinsor mind adding a test? (can be as simple as checking that split worked)\r\n\r\nlemme know if you need help with this","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309866677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309913085","html_url":"https://github.com/openzipkin/zipkin/pull/1622#issuecomment-309913085","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1622","id":309913085,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTkxMzA4NQ==","user":{"login":"danielkwinsor","id":2822992,"node_id":"MDQ6VXNlcjI4MjI5OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2822992?v=4","gravatar_id":"","url":"https://api.github.com/users/danielkwinsor","html_url":"https://github.com/danielkwinsor","followers_url":"https://api.github.com/users/danielkwinsor/followers","following_url":"https://api.github.com/users/danielkwinsor/following{/other_user}","gists_url":"https://api.github.com/users/danielkwinsor/gists{/gist_id}","starred_url":"https://api.github.com/users/danielkwinsor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielkwinsor/subscriptions","organizations_url":"https://api.github.com/users/danielkwinsor/orgs","repos_url":"https://api.github.com/users/danielkwinsor/repos","events_url":"https://api.github.com/users/danielkwinsor/events{/privacy}","received_events_url":"https://api.github.com/users/danielkwinsor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T22:45:32Z","updated_at":"2017-06-20T22:45:32Z","author_association":"CONTRIBUTOR","body":"I was figuring a request for tests would come :)  I definitely will do it when I can fit it between my heavy work queue.  My only concern is that area didn't look easy to mock, so I don't know when I'll be able to get to it.\r\n\r\nManual testing did show this worked out with single or multiple topics, but I didn't test things like whitespace, etc.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309913085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309914035","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309914035","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309914035,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTkxNDAzNQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T22:51:25Z","updated_at":"2017-06-20T22:51:25Z","author_association":"NONE","body":"We only found the issue to be on the span detail modal, if that helps narrow it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309914035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309914233","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309914233","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309914233,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTkxNDIzMw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T22:52:30Z","updated_at":"2017-06-20T22:52:30Z","author_association":"NONE","body":"I must admit I was surprised as well when our security guy found it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309914233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309915367","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309915367","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309915367,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTkxNTM2Nw==","user":{"login":"eirslett","id":1872593,"node_id":"MDQ6VXNlcjE4NzI1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1872593?v=4","gravatar_id":"","url":"https://api.github.com/users/eirslett","html_url":"https://github.com/eirslett","followers_url":"https://api.github.com/users/eirslett/followers","following_url":"https://api.github.com/users/eirslett/following{/other_user}","gists_url":"https://api.github.com/users/eirslett/gists{/gist_id}","starred_url":"https://api.github.com/users/eirslett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eirslett/subscriptions","organizations_url":"https://api.github.com/users/eirslett/orgs","repos_url":"https://api.github.com/users/eirslett/repos","events_url":"https://api.github.com/users/eirslett/events{/privacy}","received_events_url":"https://api.github.com/users/eirslett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T22:59:18Z","updated_at":"2017-06-20T22:59:18Z","author_association":"CONTRIBUTOR","body":"I found it, it's all in this file: https://github.com/openzipkin/zipkin/blob/master/zipkin-ui/js/component_ui/spanPanel.js#L35\r\n\r\nIn some places, we're doing\r\n\r\n```javascript\r\nconst html = `<tag>${unescapedStuff}</tag>`;\r\n```\r\n\r\nand the fix is to do\r\n\r\n```javascript\r\n// https://stackoverflow.com/a/12034334\r\nconst entityMap = {\r\n  '&': '&amp;',\r\n  '<': '&lt;',\r\n  '>': '&gt;',\r\n  '\"': '&quot;',\r\n  \"'\": '&#39;',\r\n  '/': '&#x2F;',\r\n  '`': '&#x60;',\r\n  '=': '&#x3D;'\r\n};\r\n\r\nfunction escapeHtml (string) {\r\n  return String(string).replace(/[&<>\"'`=\\/]/g, s => entityMap[s]);\r\n}\r\n\r\nconst html = `<tag>${escapeHtml(unescapedStuff)}</tag>`;\r\n```\r\n\r\nI don't have time now to spin up Zipkin with test data and confirm that it works, but that should be the fix.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309915367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309916957","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309916957","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309916957,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTkxNjk1Nw==","user":{"login":"eirslett","id":1872593,"node_id":"MDQ6VXNlcjE4NzI1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1872593?v=4","gravatar_id":"","url":"https://api.github.com/users/eirslett","html_url":"https://github.com/eirslett","followers_url":"https://api.github.com/users/eirslett/followers","following_url":"https://api.github.com/users/eirslett/following{/other_user}","gists_url":"https://api.github.com/users/eirslett/gists{/gist_id}","starred_url":"https://api.github.com/users/eirslett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eirslett/subscriptions","organizations_url":"https://api.github.com/users/eirslett/orgs","repos_url":"https://api.github.com/users/eirslett/repos","events_url":"https://api.github.com/users/eirslett/events{/privacy}","received_events_url":"https://api.github.com/users/eirslett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T23:08:41Z","updated_at":"2017-06-20T23:08:51Z","author_association":"CONTRIBUTOR","body":"I made a quickie PR. @sirtyro do you still have a server available with the tampered data? Could you try running my patch and see if it helps?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309916957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309918467","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-309918467","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":309918467,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTkxODQ2Nw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T23:18:24Z","updated_at":"2017-06-20T23:18:24Z","author_association":"NONE","body":"Sure thing, give me about 20min","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309918467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309927141","html_url":"https://github.com/openzipkin/zipkin/issues/1428#issuecomment-309927141","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1428","id":309927141,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTkyNzE0MQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T00:17:29Z","updated_at":"2017-06-21T00:17:29Z","author_association":"NONE","body":"Thanks. So kind of you.\r\n\r\nProblem sovled yesterday.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309927141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309928691","html_url":"https://github.com/openzipkin/zipkin/pull/1625#issuecomment-309928691","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1625","id":309928691,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTkyODY5MQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T00:29:30Z","updated_at":"2017-06-21T00:29:30Z","author_association":"NONE","body":"Improved but not totally fixed. When I click on a span I get two pop ups. Its less than I was getting before. The detail screen looks better now and you can tell that a few more things are sanitised:\r\n![improved](https://user-images.githubusercontent.com/28124884/27361674-66a834fc-566c-11e7-95f6-901a2a91594f.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309928691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309947604","html_url":"https://github.com/openzipkin/zipkin/issues/1619#issuecomment-309947604","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1619","id":309947604,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTk0NzYwNA==","user":{"login":"trtg","id":1320184,"node_id":"MDQ6VXNlcjEzMjAxODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1320184?v=4","gravatar_id":"","url":"https://api.github.com/users/trtg","html_url":"https://github.com/trtg","followers_url":"https://api.github.com/users/trtg/followers","following_url":"https://api.github.com/users/trtg/following{/other_user}","gists_url":"https://api.github.com/users/trtg/gists{/gist_id}","starred_url":"https://api.github.com/users/trtg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trtg/subscriptions","organizations_url":"https://api.github.com/users/trtg/orgs","repos_url":"https://api.github.com/users/trtg/repos","events_url":"https://api.github.com/users/trtg/events{/privacy}","received_events_url":"https://api.github.com/users/trtg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T02:47:50Z","updated_at":"2017-06-21T02:47:50Z","author_association":"NONE","body":"the clock skew correction requires that all 4 of cs,sr,ss,cr be set or it kicks out early. I have a service written in python that calls a service written in golang. The first service has all four annotations set because py_zipkin does that by default, apparently. The first span in the second service has only sr and ss set but that means clock skew correction does not run and I'm getting negative or massively offset positive  times for this second(golang) service. Someone suggested that mergebyid in zipkin-server would have combined the client span and the server span, but they do not have the same span-id, so that's not happening either. I'm really beginning to grasp at straws as far getting one service to call a remote service and not have their spans be terribly mis-aligned in time.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309947604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309972704","html_url":"https://github.com/openzipkin/zipkin/issues/1619#issuecomment-309972704","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1619","id":309972704,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTk3MjcwNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T06:05:45Z","updated_at":"2017-06-21T06:05:45Z","author_association":"MEMBER","body":"In between now and then you should be able to configure go to use the same\nspan ID. Iirc it is something like ClienServerSameId or similary named (in\nzipkin-go-opentracing)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/309972704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/310045136","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-310045136","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":310045136,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDA0NTEzNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T11:06:05Z","updated_at":"2017-06-21T11:21:23Z","author_association":"MEMBER","body":"fwiw here's a span with the trace data in it, wrapped in an array for easy posting to zipkin.\r\n\r\n```bash\r\ncurl -s localhost:9411/api/v1/spans -H'Content-Type: application/json' -d '[{\r\n  \"traceId\": \"6add063375594175\",\r\n  \"id\": \"6add063375594175\",\r\n  \"name\": \"\",\r\n  \"timestamp\": 1498043010965929,\r\n  \"duration\": 6650,\r\n  \"annotations\": [\r\n    {\r\n      \"timestamp\": 1498043010971277,\r\n      \"value\": \"<script>alert(1)</script>\",\r\n      \"endpoint\": {\r\n        \"serviceName\": \"unknown\",\r\n        \"ipv4\": \"192.168.182.54\"\r\n      }\r\n    },\r\n    {\r\n      \"timestamp\": 1498043010971480,\r\n      \"value\": \"Annotation 2</td><script>alert(2)</script><td>\",\r\n      \"endpoint\": {\r\n        \"serviceName\": \"unknown\",\r\n        \"ipv4\": \"192.168.182.54\"\r\n      }\r\n    },\r\n    {\r\n      \"timestamp\": 1498043010971489,\r\n      \"value\": \"<img src=x onerror=alert(3) />\",\r\n      \"endpoint\": {\r\n        \"serviceName\": \"unknown\",\r\n        \"ipv4\": \"192.168.182.54\"\r\n      }\r\n    }\r\n  ],\r\n  \"binaryAnnotations\": [\r\n    {\r\n      \"key\": \"<img src=x onerror=alert(4) />\",\r\n      \"value\": \"\\\"quotes are great two\\\"\",\r\n      \"endpoint\": {\r\n        \"serviceName\": \"unknown\",\r\n        \"ipv4\": \"192.168.182.54\"\r\n      }\r\n    },\r\n    {\r\n      \"key\": \"Tag key 1</td><script>alert(tag key 5)</script><td>\",\r\n      \"value\": \"<script>alert(\\\"tag value 1\\\")</script>\",\r\n      \"endpoint\": {\r\n        \"serviceName\": \"unknown\",\r\n        \"ipv4\": \"192.168.182.54\"\r\n      }\r\n    },\r\n    {\r\n      \"key\": \"Tag key 2</td><!--\",\r\n      \"value\": \"\\\"quotes are great two\\\"\",\r\n      \"endpoint\": {\r\n        \"serviceName\": \"unknown\",\r\n        \"ipv4\": \"192.168.182.54\"\r\n      }\r\n    }\r\n  ]\r\n}]'\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/310045136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/310045570","html_url":"https://github.com/openzipkin/zipkin/issues/1623#issuecomment-310045570","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1623","id":310045570,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDA0NTU3MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T11:08:23Z","updated_at":"2017-06-21T11:08:23Z","author_association":"MEMBER","body":"I'm looking into this. thanks @eirslett for the headstart!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/310045570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]