[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603509229","html_url":"https://github.com/apache/accumulo/pull/1438#issuecomment-603509229","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1438","id":603509229,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzUwOTIyOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T21:16:29Z","updated_at":"2020-03-24T21:16:29Z","author_association":"CONTRIBUTOR","body":"There is an open issue that gives the same error: https://issues.apache.org/jira/browse/MJAVADOC-614\r\nIt is for a different reason so not sure if it's related.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603509229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603546450","html_url":"https://github.com/apache/accumulo/pull/1438#issuecomment-603546450","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1438","id":603546450,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzU0NjQ1MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T22:55:06Z","updated_at":"2020-03-24T22:55:26Z","author_association":"MEMBER","body":"> There is an open issue that gives the same error: https://issues.apache.org/jira/browse/MJAVADOC-614\r\n> It is for a different reason so not sure if it's related.\r\n\r\nI wonder if this is a legit javadoc bug (on our part)... it kinda seems right to error out like this... it doesn't make sense to have a document in a non-existent package. Although it's clear that this is an attempt to document the entire set of subpackages, aside from naming convention, there's no connection between a package and its subpackages, so it makes sense that there's an error here... we're effectively documenting nothingness.\r\n\r\nPerhaps it would be better to document this elsewhere, or to create a dummy class in the package to avoid the error.\r\n\r\nIt is weird, though, that this would only be triggered when automatic module names are used... it works otherwise.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603546450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603555031","html_url":"https://github.com/apache/accumulo/pull/1445#issuecomment-603555031","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1445","id":603555031,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzU1NTAzMQ==","user":{"login":"etseidl","id":25541553,"node_id":"MDQ6VXNlcjI1NTQxNTUz","avatar_url":"https://avatars.githubusercontent.com/u/25541553?v=4","gravatar_id":"","url":"https://api.github.com/users/etseidl","html_url":"https://github.com/etseidl","followers_url":"https://api.github.com/users/etseidl/followers","following_url":"https://api.github.com/users/etseidl/following{/other_user}","gists_url":"https://api.github.com/users/etseidl/gists{/gist_id}","starred_url":"https://api.github.com/users/etseidl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/etseidl/subscriptions","organizations_url":"https://api.github.com/users/etseidl/orgs","repos_url":"https://api.github.com/users/etseidl/repos","events_url":"https://api.github.com/users/etseidl/events{/privacy}","received_events_url":"https://api.github.com/users/etseidl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T23:21:46Z","updated_at":"2020-03-24T23:21:46Z","author_association":"CONTRIBUTOR","body":"Gotcha.  In the future I'll just merge then, and let all the merge commits get squashed later.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603555031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603590280","html_url":"https://github.com/apache/accumulo/pull/1568#issuecomment-603590280","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1568","id":603590280,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzU5MDI4MA==","user":{"login":"arvindshmicrosoft","id":16342666,"node_id":"MDQ6VXNlcjE2MzQyNjY2","avatar_url":"https://avatars.githubusercontent.com/u/16342666?v=4","gravatar_id":"","url":"https://api.github.com/users/arvindshmicrosoft","html_url":"https://github.com/arvindshmicrosoft","followers_url":"https://api.github.com/users/arvindshmicrosoft/followers","following_url":"https://api.github.com/users/arvindshmicrosoft/following{/other_user}","gists_url":"https://api.github.com/users/arvindshmicrosoft/gists{/gist_id}","starred_url":"https://api.github.com/users/arvindshmicrosoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvindshmicrosoft/subscriptions","organizations_url":"https://api.github.com/users/arvindshmicrosoft/orgs","repos_url":"https://api.github.com/users/arvindshmicrosoft/repos","events_url":"https://api.github.com/users/arvindshmicrosoft/events{/privacy}","received_events_url":"https://api.github.com/users/arvindshmicrosoft/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T01:30:42Z","updated_at":"2020-03-25T01:30:42Z","author_association":"MEMBER","body":"@ctubbsii I have redone this PR (hence the force push). Hopefully this version is more aligned with the guiding principles for the 2 scripts. One thing I'd like advice on (in addition to any other comments) is: given that accumulo-cluster currently does not source accumulo-env.sh, the user must export NUM_TSERVERS prior to invoking accumulo-cluster. This is probably fine for dev/test but I was hoping to define the variable somewhere on the node itself. Any thoughts on sourcing accumulo-env.sh in accumulo-cluster itself?\r\n\r\nI also observed in single-node testing (with Uno) with 2 TServers is that the user has to set gc.port.client to a number such as 10002 to avoid having GC pick port 9998 - which GC cannot - since 9998 has already been used by the second TServer running. So the second question I have is why do these scripts start TServers first, ahead of master, monitor and GC?\r\n\r\nI will try joining the Slack chat on Wednesday to discuss further if needed. Thank you and @keith-turner for working through this with me.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603590280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603600158","html_url":"https://github.com/apache/accumulo/pull/1568#issuecomment-603600158","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1568","id":603600158,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzYwMDE1OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T02:10:20Z","updated_at":"2020-03-25T02:10:20Z","author_association":"MEMBER","body":"> @ctubbsii I have redone this PR (hence the force push). Hopefully this version is more aligned with the guiding principles for the 2 scripts.\r\n\r\nThanks. I'll take a look as soon as I can.\r\n\r\n> One thing I'd like advice on (in addition to any other comments) is: given that accumulo-cluster currently does not source accumulo-env.sh, the user must export NUM_TSERVERS prior to invoking accumulo-cluster. This is probably fine for dev/test but I was hoping to define the variable somewhere on the node itself. Any thoughts on sourcing accumulo-env.sh in accumulo-cluster itself?\r\n\r\nI think it's okay to require exporting it for now. As follow-on work, I think it might be best if the `accumulo-cluster` script had its own config file (for similar reasons as why Apache Fluo Muchos has its own, but much more lightweight than that, of course). A config file could replace all the separate node list files, and offer additional features, like number of tservers, etc. I don't think sourcing `accumulo-env.sh` is best, only because I think it's important to keep the dividing between the cluster management/service scripts and the basic `bin/accumulo` script.\r\n\r\n(FWIW, I realize `accumulo-service` also sources `accumulo-env.sh`, which sort of breaks the dividing line a bit... I'm not a fan of this, but I understand why it needs to do it right now. I don't have an alternative to suggest right now, though. I think there are better alternatives for `accumulo-cluster`, though.)\r\n\r\n> \r\n> I also observed in single-node testing (with Uno) with 2 TServers is that the user has to set gc.port.client to a number such as 10002 to avoid having GC pick port 9998 - which GC cannot - since 9998 has already been used by the second TServer running. So the second question I have is why do these scripts start TServers first, ahead of master, monitor and GC?\r\n\r\nMainly, to give the tservers a chance to be ready, before master begins assigning tablets, so the system can start up with tablets balanced, insteady of thrashing on re-balance as new tservers start up and report in. monitor and gc also start creating work as soon as they start, work that depends on the master and tservers to be up (to report status, or to scan the metadata table).\r\n\r\nI'd have to investigate the issue of setting the conflicting ports... that might be an Uno-specific issue, since Uno does set up its own configuration. I'm not sure.\r\n\r\n> \r\n> I will try joining the Slack chat on Wednesday to discuss further if needed. Thank you and @keith-turner for working through this with me.\r\n\r\nCool. If you can't make it, let me know what time window might be better for you, and I can try to accommodate on a second video chat.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/603600158/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604396834","html_url":"https://github.com/apache/accumulo/issues/1203#issuecomment-604396834","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1203","id":604396834,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDM5NjgzNA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T12:16:20Z","updated_at":"2020-03-26T12:16:20Z","author_association":"CONTRIBUTOR","body":"After doing some cleanup of ServerContext and ClientContext, I don't think this refactor is needed.  ServerInfo is now just internal to ServerContext and needs to exist since it extends ClientInfo.  ClientInfo is used a lot in Tests, mainly where we don't have a full ClientContext.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604396834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604521975","html_url":"https://github.com/apache/accumulo/pull/1571#issuecomment-604521975","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1571","id":604521975,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDUyMTk3NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T16:12:34Z","updated_at":"2020-03-26T16:12:34Z","author_association":"CONTRIBUTOR","body":"Thanks for the fix @arvindshmicrosoft ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604521975/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604552940","html_url":"https://github.com/apache/accumulo/pull/1569#issuecomment-604552940","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1569","id":604552940,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDU1Mjk0MA==","user":{"login":"arvindshmicrosoft","id":16342666,"node_id":"MDQ6VXNlcjE2MzQyNjY2","avatar_url":"https://avatars.githubusercontent.com/u/16342666?v=4","gravatar_id":"","url":"https://api.github.com/users/arvindshmicrosoft","html_url":"https://github.com/arvindshmicrosoft","followers_url":"https://api.github.com/users/arvindshmicrosoft/followers","following_url":"https://api.github.com/users/arvindshmicrosoft/following{/other_user}","gists_url":"https://api.github.com/users/arvindshmicrosoft/gists{/gist_id}","starred_url":"https://api.github.com/users/arvindshmicrosoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvindshmicrosoft/subscriptions","organizations_url":"https://api.github.com/users/arvindshmicrosoft/orgs","repos_url":"https://api.github.com/users/arvindshmicrosoft/repos","events_url":"https://api.github.com/users/arvindshmicrosoft/events{/privacy}","received_events_url":"https://api.github.com/users/arvindshmicrosoft/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T17:07:17Z","updated_at":"2020-03-26T17:07:17Z","author_association":"MEMBER","body":"Thanks @milleruntime. In a single-node Uno test the duration of an importtable of 12,800 RFiles went from around 80 seconds to a few seconds (< 5 seconds for sure) with the default 20 threads. In my test, each RFile had just 1 entry but IMHO that should not affect the outcome.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604552940/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604662644","html_url":"https://github.com/apache/accumulo/issues/1249#issuecomment-604662644","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1249","id":604662644,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDY2MjY0NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T20:17:18Z","updated_at":"2020-03-26T20:17:18Z","author_association":"CONTRIBUTOR","body":"Here are some ideas for the displaying FATE status in the monitor (and an issue specific to the monitor, that can be done separately): https://issues.apache.org/jira/browse/ACCUMULO-809","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604662644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604908642","html_url":"https://github.com/apache/accumulo/pull/1568#issuecomment-604908642","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1568","id":604908642,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDkwODY0Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T09:45:25Z","updated_at":"2020-03-27T09:45:38Z","author_association":"MEMBER","body":"Thanks @arvindshmicrosoft ! I really like how this change worked out. This is a nice feature to have in our out-of-box cluster management script.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/604908642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/605033055","html_url":"https://github.com/apache/accumulo/pull/1568#issuecomment-605033055","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1568","id":605033055,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTAzMzA1NQ==","user":{"login":"arvindshmicrosoft","id":16342666,"node_id":"MDQ6VXNlcjE2MzQyNjY2","avatar_url":"https://avatars.githubusercontent.com/u/16342666?v=4","gravatar_id":"","url":"https://api.github.com/users/arvindshmicrosoft","html_url":"https://github.com/arvindshmicrosoft","followers_url":"https://api.github.com/users/arvindshmicrosoft/followers","following_url":"https://api.github.com/users/arvindshmicrosoft/following{/other_user}","gists_url":"https://api.github.com/users/arvindshmicrosoft/gists{/gist_id}","starred_url":"https://api.github.com/users/arvindshmicrosoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvindshmicrosoft/subscriptions","organizations_url":"https://api.github.com/users/arvindshmicrosoft/orgs","repos_url":"https://api.github.com/users/arvindshmicrosoft/repos","events_url":"https://api.github.com/users/arvindshmicrosoft/events{/privacy}","received_events_url":"https://api.github.com/users/arvindshmicrosoft/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T14:32:35Z","updated_at":"2020-03-27T14:32:35Z","author_association":"MEMBER","body":"Thank you @ctubbsii for the guidance and insights. I learnt a lot in this process. I'll follow up with a PR to update the docs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/605033055/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/605311214","html_url":"https://github.com/apache/accumulo/pull/1568#issuecomment-605311214","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1568","id":605311214,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTMxMTIxNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T20:55:55Z","updated_at":"2020-03-27T20:55:55Z","author_association":"MEMBER","body":"I tested this by setting `NUM_TSERVERS=3` in my Uno config file. I ran into issue #1573, but worked around it with:\r\n\r\n```diff\r\ndiff --git a/conf/accumulo/2/accumulo.properties b/conf/accumulo/2/accumulo.properties\r\nindex d0251bf..a2ddcb7 100755\r\n--- a/conf/accumulo/2/accumulo.properties\r\n+++ b/conf/accumulo/2/accumulo.properties\r\n@@ -6,3 +6,6 @@ instance.zookeeper.host=UNO_HOST:2181\r\n table.durability=flush\r\n tserver.memory.maps.native.enabled=ACCUMULO_USE_NATIVE_MAP\r\n tserver.walog.max.size=512M\r\n+tserver.port.search=true\r\n+master.port.client=9996\r\n+gc.port.client=9994\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/605311214/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/606212258","html_url":"https://github.com/apache/accumulo/issues/1576#issuecomment-606212258","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1576","id":606212258,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjIxMjI1OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T19:56:32Z","updated_at":"2020-03-30T19:56:32Z","author_association":"MEMBER","body":"Seems like a good idea, but I'd suggest `Set<String>` instead of `String[]`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/606212258/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/606370204","html_url":"https://github.com/apache/accumulo/pull/1575#issuecomment-606370204","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1575","id":606370204,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjM3MDIwNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T03:02:24Z","updated_at":"2020-03-31T03:02:24Z","author_association":"MEMBER","body":"Also, please avoid force-pushing, especially after reviewers have commented. It marks previous review comments as obsolete (regardless of whether they've been addressed) and makes it significantly harder to see the what changed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/606370204/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/606658757","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-606658757","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":606658757,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjY1ODc1Nw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T14:21:15Z","updated_at":"2020-03-31T14:21:15Z","author_association":"CONTRIBUTOR","body":"@keith-turner Can you take another look at these changes? The complexity of this pull request has increased quite a bit and I would rather get this portion merged before I push further refactors. Thanks! ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/606658757/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607176361","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-607176361","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":607176361,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzE3NjM2MQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T10:46:53Z","updated_at":"2020-04-01T10:46:53Z","author_association":"CONTRIBUTOR","body":"> @Manno15 this is looking good. One thing I am curious about is if DistributedStoreException could be removed AND if anything depends on DistributedStoreException. Does any important action take place when a DistributedStoreException is caught?\r\n\r\nNothing else seems to be using it after these changes take place so I will remove it as well. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607176361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607264131","html_url":"https://github.com/apache/accumulo/issues/1576#issuecomment-607264131","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1576","id":607264131,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzI2NDEzMQ==","user":{"login":"drewfarris","id":110922,"node_id":"MDQ6VXNlcjExMDkyMg==","avatar_url":"https://avatars.githubusercontent.com/u/110922?v=4","gravatar_id":"","url":"https://api.github.com/users/drewfarris","html_url":"https://github.com/drewfarris","followers_url":"https://api.github.com/users/drewfarris/followers","following_url":"https://api.github.com/users/drewfarris/following{/other_user}","gists_url":"https://api.github.com/users/drewfarris/gists{/gist_id}","starred_url":"https://api.github.com/users/drewfarris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewfarris/subscriptions","organizations_url":"https://api.github.com/users/drewfarris/orgs","repos_url":"https://api.github.com/users/drewfarris/repos","events_url":"https://api.github.com/users/drewfarris/events{/privacy}","received_events_url":"https://api.github.com/users/drewfarris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T13:54:39Z","updated_at":"2020-04-01T13:54:39Z","author_association":"CONTRIBUTOR","body":"Per @arvindshmicrosoft comment on #1060, this will include documentation updates for the `importTable` workflow.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607264131/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607273705","html_url":"https://github.com/apache/accumulo/pull/1487#issuecomment-607273705","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1487","id":607273705,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzI3MzcwNQ==","user":{"login":"rcarterjr","id":22849643,"node_id":"MDQ6VXNlcjIyODQ5NjQz","avatar_url":"https://avatars.githubusercontent.com/u/22849643?v=4","gravatar_id":"","url":"https://api.github.com/users/rcarterjr","html_url":"https://github.com/rcarterjr","followers_url":"https://api.github.com/users/rcarterjr/followers","following_url":"https://api.github.com/users/rcarterjr/following{/other_user}","gists_url":"https://api.github.com/users/rcarterjr/gists{/gist_id}","starred_url":"https://api.github.com/users/rcarterjr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rcarterjr/subscriptions","organizations_url":"https://api.github.com/users/rcarterjr/orgs","repos_url":"https://api.github.com/users/rcarterjr/repos","events_url":"https://api.github.com/users/rcarterjr/events{/privacy}","received_events_url":"https://api.github.com/users/rcarterjr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T14:12:00Z","updated_at":"2020-04-01T14:12:00Z","author_association":"NONE","body":"I made the changes that were requested @ivakegg \r\n\r\nI didn't make the change to set the property without restarting the tserver. I can work on that next as a separate issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607273705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607356557","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-607356557","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":607356557,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzM1NjU1Nw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T16:33:08Z","updated_at":"2020-04-01T16:33:08Z","author_association":"CONTRIBUTOR","body":"I made the requested changes and also removed Collection<assignment> from setFutreLocation under the assumption that it is a desired feature. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607356557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607416857","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-607416857","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":607416857,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzQxNjg1Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T18:26:54Z","updated_at":"2020-04-01T18:26:54Z","author_association":"MEMBER","body":"@karthick-rn Have you looked at the SetGoalState to verify that Accumulo isn't leaving any ZK objects unclosed?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/607416857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609731131","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-609731131","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":609731131,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTczMTEzMQ==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T11:14:39Z","updated_at":"2020-04-06T11:14:39Z","author_association":"CONTRIBUTOR","body":"> @karthick-rn Have you looked at the SetGoalState to verify that Accumulo isn't leaving any ZK objects unclosed?\r\n\r\n@ctubbsii Sorry for the delay. There is a 'goal_state' node that exist in ZK before starting Accumulo master and the value is 'NORMAL' as shown below. \r\nThis 'goal_state' does exist on a non-TLS ZK cluster as well where Accumulo master doesn't hang. Fyi\r\n\r\nBefore starting Accumulo master:\r\n```\r\n[zk: kn-fix-0:2281(CONNECTED) 2] get -s -w /accumulo/7a7a53a5-077b-4506-a674-a010a273ba5b/masters/goal_state\r\nNORMAL\r\ncZxid = 0x10000006a\r\nctime = Tue Mar 24 16:38:32 UTC 2020\r\nmZxid = 0x500000015\r\nmtime = Fri Apr 03 15:50:49 UTC 2020\r\npZxid = 0x10000006a\r\ncversion = 0\r\ndataVersion = 39\r\naclVersion = 0\r\nephemeralOwner = 0x0\r\ndataLength = 6\r\nnumChildren = 0\r\n[zk: kn-fix-0:2281(CONNECTED) 3] \r\nWATCHER::\r\n```\r\nTrying to start Accumulo master overwrites the 'goal_state' which can be noticed through the change in \"mtime\" as shown below \r\n\r\n```\r\nWatchedEvent state:SyncConnected type:NodeDataChanged path:/accumulo/7a7a53a5-077b-4506-a674-a010a273ba5b/masters/goal_state\r\n\r\n[zk: kn-fix-0:2281(CONNECTED) 3] get -s -w /accumulo/7a7a53a5-077b-4506-a674-a010a273ba5b/masters/goal_state\r\nNORMAL\r\ncZxid = 0x10000006a\r\nctime = Tue Mar 24 16:38:32 UTC 2020\r\nmZxid = 0x50000b7f6\r\nmtime = Mon Apr 06 09:31:43 UTC 2020\r\npZxid = 0x10000006a\r\ncversion = 0\r\ndataVersion = 40\r\naclVersion = 0\r\nephemeralOwner = 0x0\r\ndataLength = 6\r\nnumChildren = 0\r\n```\r\nFyi, below is the console output when starting Accumulo master. The hang happens exactly after \"Connected to HDFS\" and the last line is a result of killing that intermediate process.\r\n\r\n```\r\n[knarendran@kn-fix-0 ~]$ accumulo-service master start\r\nStarting master on kn-fix-0\r\nOpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/opt/muchos/install/accumulo-2.0.0/lib/slf4j-log4j12-1.7.26.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/opt/muchos/install/apache-zookeeper-3.5.7-bin/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\r\n2020-04-06 09:31:41,210 [conf.SiteConfiguration] INFO : Found Accumulo configuration on classpath at /opt/muchos/install/accumulo-2.0.0/conf/accumulo.properties\r\n2020-04-06 09:31:42,095 [conf.ConfigurationTypeHelper] DEBUG: Loaded class : org.apache.accumulo.server.fs.RandomVolumeChooser\r\n2020-04-06 09:31:43,417 [server.ServerUtil] INFO : Attempting to talk to zookeeper\r\n2020-04-06 09:31:43,939 [server.ServerUtil] INFO : ZooKeeper connected and initialized, attempting to talk to HDFS\r\n2020-04-06 09:31:43,958 [server.ServerUtil] INFO : Connected to HDFS\r\n/opt/muchos/install/accumulo-2.0.0/bin/accumulo-service: line 57: 116969 Killed                  \"${bin}/accumulo\" org.apache.accumulo.master.state.SetGoalState NORMAL\r\n```\r\n\r\nLet me know if there is any further checks you want me to perform?\r\n\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609731131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609813643","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-609813643","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":609813643,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTgxMzY0Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T14:01:00Z","updated_at":"2020-04-06T14:01:00Z","author_association":"CONTRIBUTOR","body":"@Manno15 thanks for all the work on this change.  I will merge the conflicts since they are related to the TabletFile work I did recently and push this change up.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609813643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609817910","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-609817910","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":609817910,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTgxNzkxMA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T14:08:29Z","updated_at":"2020-04-06T14:08:29Z","author_association":"CONTRIBUTOR","body":"@milleruntime Thanks! I was meaning to take a look at those conflicts but I haven't been in the office due to everything going on. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609817910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609848565","html_url":"https://github.com/apache/accumulo/issues/1169#issuecomment-609848565","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1169","id":609848565,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTg0ODU2NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T15:00:50Z","updated_at":"2020-04-06T15:00:50Z","author_association":"MEMBER","body":"Closed with #1453 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609848565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609853981","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-609853981","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":609853981,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTg1Mzk4MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T15:10:02Z","updated_at":"2020-04-06T15:10:02Z","author_association":"MEMBER","body":"@karthick-rn I'm not sure you answered my question about the `SetGoalState` Java class. In order to update the node in ZK, that class needs to create a connection to ZooKeeper, and issue the command to update the node. What I'm wondering is if the ZooKeeper connection object used for this is properly closed with a `.close()` call that might clean up the extra threads you saw. I'm just checking to see if you've ruled out this possibility of an unclosed ZooKeeper connection object in the Java code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609853981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609854769","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-609854769","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":609854769,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTg1NDc2OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T15:11:22Z","updated_at":"2020-04-06T15:11:22Z","author_association":"MEMBER","body":"Also, if you can explain the specific steps you took to configure TLS on ZK, so we can reproduce it, that could be helpful to test in different environments.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609854769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609897677","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-609897677","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":609897677,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTg5NzY3Nw==","user":{"login":"billierinaldi","id":1810597,"node_id":"MDQ6VXNlcjE4MTA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1810597?v=4","gravatar_id":"","url":"https://api.github.com/users/billierinaldi","html_url":"https://github.com/billierinaldi","followers_url":"https://api.github.com/users/billierinaldi/followers","following_url":"https://api.github.com/users/billierinaldi/following{/other_user}","gists_url":"https://api.github.com/users/billierinaldi/gists{/gist_id}","starred_url":"https://api.github.com/users/billierinaldi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billierinaldi/subscriptions","organizations_url":"https://api.github.com/users/billierinaldi/orgs","repos_url":"https://api.github.com/users/billierinaldi/repos","events_url":"https://api.github.com/users/billierinaldi/events{/privacy}","received_events_url":"https://api.github.com/users/billierinaldi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T16:26:04Z","updated_at":"2020-04-06T16:26:04Z","author_association":"CONTRIBUTOR","body":"I helped Karthick take a look at this. It seems like SetGoalState is using a ServerContext with SingletonReservation.noop(), so maybe that means that ZooKeeper is not automatically being closed. Should SetGoalState be using a client reservation instead?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609897677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609907620","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-609907620","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":609907620,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTkwNzYyMA==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T16:44:38Z","updated_at":"2020-04-06T17:07:09Z","author_association":"CONTRIBUTOR","body":"> Also, if you can explain the specific steps you took to configure TLS on ZK, so we can reproduce it, that could be helpful to test in different environments.\r\n\r\n**Steps to configure TLS on ZK:**\r\na) Generate certificates & keystores:\r\n1) Run the below commands on each hosts & generate a '.crt' file per host\r\n```\r\nkeytool -genkeypair -alias $(hostname -f) -keyalg RSA -keysize 2048 -dname \"cn=$(hostname -f)\" -keypass changeit -keystore keystore.jks -storepass changeit\r\nkeytool -exportcert -alias $(hostname -f) -keystore keystore.jks -file $(hostname -f).crt -rfc -storepass changeit\r\n```\r\n2) Copy the '*.crt' file generated on each hosts to host1 and generate the truststore.jks as shown below \r\n```\r\nfor i in `ls *.crt`; do\r\n    name=$(echo $i | sed 's/\\.crt//g')\r\n    keytool -importcert -alias $name -file $name.crt -keystore truststore.jks -storepass changeit -noprompt\r\ndone\r\n```\r\n3) Copy \"truststore.jks\" to all the hosts\r\n```\r\nfor i in `cat host_list`; do \r\n    scp truststore.jks $i:/path/to/truststore/; \r\ndone\r\n```\r\nwhere `host_list` is a file that contains fqdn of all hosts\r\n\r\n4) Verify the contents of the truststore.jks  & ensure it contains all the hosts in the cluster\r\n`keytool -list -v -keystore truststore.jks`\r\n\r\nb) Configurations:\r\n\r\n1) Update the server & quorum configs on $ZOOKEEPER_HOME/conf/zoo.cfg\r\n```\r\n# Server configuration\r\nsecureClientPort=2281\r\nserverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory\r\n\r\n# Quorum configuration\r\nsslQuorum=true\r\nssl.quorum.keyStore.location=/path/to/keystore.jks\r\nssl.quorum.keyStore.password=changeit\r\nssl.quorum.trustStore.location=/path/to/truststore.jks\r\nssl.quorum.trustStore.password=changeit\r\n\r\n# the port at which the clients will connect\r\n#clientPort=2181 (Comment or remove the insecure client port)\r\n```\r\n\r\n2) Update the client & server configs on $ZOOKEEPER_HOME/bin/zkEnv.sh\r\n```\r\nSERVER_JVMFLAGS=\"-Dzookeeper.serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory \\\r\n  -Dzookeeper.ssl.keyStore.location=/path/to/keystore.jks \\\r\n  -Dzookeeper.ssl.keyStore.password=changeit \\\r\n  -Dzookeeper.ssl.trustStore.location=/path/to/truststore.jks \\\r\n  -Dzookeeper.ssl.trustStore.password=changeit\"\r\n\r\nCLIENT_JVMFLAGS=\"-Dzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty \\\r\n  -Dzookeeper.client.secure=true \\\r\n  -Dzookeeper.ssl.keyStore.location=/path/to/keystore.jks \\\r\n  -Dzookeeper.ssl.keyStore.password=changeit \\\r\n  -Dzookeeper.ssl.trustStore.location=/path/to/truststore.jks \\\r\n  -Dzookeeper.ssl.trustStore.password=changeit\"\r\n```\r\nc) Testing\r\n1) Start Zookeeper service on the hosts running ZK\r\n`$ZOOKEEPER_HOME/bin/zkServer.sh start`\r\n\r\n2) The following messages in the ZK log confirms the ensemble is running on TLS\r\n```\r\nINFO  [main:QuorumPeer@1779] - Using TLS encrypted quorum communication\r\nINFO  [main:QuorumPeer@1787] - Port unification disabled\r\nINFO  [QuorumPeerListener:QuorumCnxManager$Listener@894] - Creating TLS-only quorum server socket\r\n```\r\n\r\nAccumulo (client connection)\r\n\r\nThe following changes are required to $ACCUMULO_HOME/conf/accumulo-env.sh\r\n<pre>\r\nCLASSPATH=\"${conf}:${lib}/*:${HADOOP_CONF_DIR}:${ZOOKEEPER_HOME}/*:<b>${ZOOKEEPER_HOME}/lib/\"\r\n\r\nCLIENT_JVMFLAGS=\"-Dzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty \\\r\n  -Dzookeeper.client.secure=true \\\r\n  -Dzookeeper.ssl.keyStore.location=/path/to/keystore.jks \\\r\n  -Dzookeeper.ssl.keyStore.password=changeit \\\r\n  -Dzookeeper.ssl.trustStore.location=/path/to/truststore.jks \\\r\n  -Dzookeeper.ssl.trustStore.password=changeit\"\r\n</b>\r\nJAVA_OPTS=(\"${JAVA_OPTS[@]}\"\r\n  \"-Daccumulo.log.dir=${ACCUMULO_LOG_DIR}\"\r\n  \"-Daccumulo.application=${cmd}${ACCUMULO_SERVICE_INSTANCE}_$(hostname)\"\r\n  \"-Daccumulo.metrics.service.instance=${ACCUMULO_SERVICE_INSTANCE}\" <b>$CLIENT_JVMFLAGS </b>)\r\n</pre>\r\n\r\nAlso, replace the ZK port from `2181` to `2281` on `accumulo.properties` & `accumulo-client.properties`\r\n\r\n\r\n**Reference:**\r\nhttps://zookeeper.apache.org/doc/r3.5.7/zookeeperAdmin.html#Quorum+TLS\r\nhttps://cwiki.apache.org/confluence/display/ZOOKEEPER/ZooKeeper+SSL+User+Guide\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609907620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609920935","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-609920935","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":609920935,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTkyMDkzNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T17:09:15Z","updated_at":"2020-04-06T17:09:15Z","author_association":"CONTRIBUTOR","body":"> I helped Karthick take a look at this. It seems like SetGoalState is using a ServerContext with SingletonReservation.noop(), so maybe that means that ZooKeeper is not automatically being closed. Should SetGoalState be using a client reservation instead?\r\n\r\nI noticed that SetGoalState is the only server utility using ServerContext that doesn't have a try-with-resources to automatically call close when finished.  I think this might be a bug with SetGoalState","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609920935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609924738","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-609924738","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":609924738,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTkyNDczOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T17:16:32Z","updated_at":"2020-04-06T17:16:58Z","author_association":"MEMBER","body":"> > I helped Karthick take a look at this. It seems like SetGoalState is using a ServerContext with SingletonReservation.noop(), so maybe that means that ZooKeeper is not automatically being closed. Should SetGoalState be using a client reservation instead?\r\n\r\n@keith-turner is the expert on the reservation stuff. I think most of that was done to try to internally manage resources when using Connector vs. the more lifecycle-oriented AccumuloClient (which can clean itself up when it closes). I'm not sure how it applies here.\r\n\r\n> \r\n> I noticed that SetGoalState is the only server utility using ServerContext that doesn't have a try-with-resources to automatically call close when finished. I think this might be a bug with SetGoalState\r\n\r\nThat's the kind of thing I was thinking of being at the center of this. I don't know if closing `ServerContext` will achieve the desired result, though and clean up the ZooKeeper threads.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609924738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609935522","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-609935522","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":609935522,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTkzNTUyMg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T17:37:00Z","updated_at":"2020-04-06T17:37:00Z","author_association":"CONTRIBUTOR","body":"> That's the kind of thing I was thinking of being at the center of this. I don't know if closing `ServerContext` will achieve the desired result, though and clean up the ZooKeeper threads.\r\n\r\nThis could be a separate issue with this utility.  I currently don't know enough TLS configuration to debug this deeper, since there seems to be an issue with it in the Master","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/609935522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610140419","html_url":"https://github.com/apache/accumulo/issues/1169#issuecomment-610140419","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1169","id":610140419,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDE0MDQxOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T02:38:32Z","updated_at":"2020-04-07T02:38:32Z","author_association":"MEMBER","body":"Reopening because #1453 is being reverted. It is not ready for merging. It caused fundamental breakage in the way locations are parsed, and broke dozens of ITs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610140419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610147726","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-610147726","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":610147726,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDE0NzcyNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T03:07:33Z","updated_at":"2020-04-07T03:07:33Z","author_association":"MEMBER","body":"I have reverted this change. It was not ready for merging. It caused fundamental breakage in the way locations are parsed, and broke dozens of ITs.\r\n\r\nReverted in 191701386e56e701f0562ea01de594a593093e9a\r\n\r\nPlease create a new PR to re-submit the proposed changes after more thorough testing.\r\n\r\nSince this wasn't a \"clean\" revert (there were two patches that were applied on top of it, so I had to surgically revert it without impacting those which were still relevant), the best way to create a new working branch for continuing work on this would be to do something like (assuming your upstream remote is named \"upstream\"):\r\n\r\n```bash\r\ngit remote update\r\ngit checkout -b new-branch-name upstream/master\r\ngit revert -n 191701386e56e701f0562ea01de594a593093e9a\r\ngit commit -m 'WIP Continuation of work...'\r\n```\r\n\r\nObviously, choose your own working branch name and log message for resuming the work.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610147726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610285913","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-610285913","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":610285913,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI4NTkxMw==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T09:40:23Z","updated_at":"2020-04-07T09:40:23Z","author_association":"CONTRIBUTOR","body":"I attempted try-with-resources for the ServerContext as shown below and still seeing the Accumulo master hangs.\r\n```\r\ntry (ServerContext context = new ServerContext(new SiteConfiguration())) {\r\n..\r\n..\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610285913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610378819","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-610378819","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":610378819,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDM3ODgxOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T13:13:40Z","updated_at":"2020-04-07T13:13:40Z","author_association":"CONTRIBUTOR","body":"@Manno15 you could revert everything after e217ce8 (the point where this change was only one line) and put it in a separate task. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610378819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610425219","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-610425219","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":610425219,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDQyNTIxOQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T14:38:04Z","updated_at":"2020-04-07T14:38:17Z","author_association":"CONTRIBUTOR","body":"The try-with-resources for the ServerContext will not work because the SingletonManager never closes anything for servers currently.  Creating a ServerContext puts the SingletonManager in server mode.  One possible solution to this is to add a new Mode.CLOSED for SingletonManager.  Then the SetGoalState could do something like the following.\r\n\r\n```java\r\nmain() {\r\n  try {\r\n    // current code in main\r\n  } finally {\r\n    // force stop of all singletons and render future attempts to get a singleton inoperable.\r\n    SingletonManager.setMode(Mode.CLOSED);\r\n  }\r\n}\r\n```\r\n\r\nI think it would also be good to open a zookeeper issue in their Jira.  While not closing ZK may be an Accumulo issue, I strongly suspect that ZK would like all background threads to be daemon threads.  So they may want to know they are creating non-deamon threads when using TLS.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610425219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610453403","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-610453403","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":610453403,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDQ1MzQwMw==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T15:26:35Z","updated_at":"2020-04-07T15:26:35Z","author_association":"CONTRIBUTOR","body":"@keith-turner I have initiated an email thread with ZK dev team but not JIRA. You can find the discussion [here](https://mail-archives.apache.org/mod_mbox/zookeeper-dev/202004.mbox/browser) with subject \"Zookeeper & Netty framework\". Feel free to comment your thoughts. Thanks","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610453403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610498375","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-610498375","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":610498375,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDQ5ODM3NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T16:47:11Z","updated_at":"2020-04-07T16:47:11Z","author_association":"MEMBER","body":"@keith-turner Do you suspect this is a ZK issue and not an Accumulo issue on how it is using ZK?\r\nIn order to create a ZK issue in their JIRA, it would be nice to describe the behavior of ZK in terms of expected vs. actual. Currently, the discussion is centered around the behavior of Accumulo. To create a ZK issue, I think we'd want to be able to reproduce and describe the issue for an arbitrary ZK client, independently of Accumulo's behavior.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610498375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610500976","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-610500976","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":610500976,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDUwMDk3Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T16:52:18Z","updated_at":"2020-04-07T16:52:18Z","author_association":"MEMBER","body":"@karthick-rn BTW, thanks for your very excellent, and detailed guide for reproducing! I haven't had a chance to try it, but your guide left me with zero questions as to how to proceed. :smiley_cat: Once this is all figured out and working, that would make an excellent blog post (and possibly an integration test for accumulo-minicluster).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610500976/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610576095","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-610576095","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":610576095,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDU3NjA5NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T19:27:01Z","updated_at":"2020-04-07T19:27:01Z","author_association":"CONTRIBUTOR","body":"> @keith-turner Do you suspect this is a ZK issue and not an Accumulo issue on how it is using ZK?\r\n\r\nAccumulo probably should be closing ZK.  I suspected that ZK would want all of their threads to be daemon threads because many of their threads are and daemon is not the default.  In the ZK mailing list thread that @karthick-rn linked to someone said it was a netty thread, so not under ZKs control.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610576095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610614780","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-610614780","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":610614780,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDYxNDc4MA==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T20:53:23Z","updated_at":"2020-04-07T20:53:23Z","author_association":"CONTRIBUTOR","body":"I & @keith-turner made changes to `SingletonManager` & `SetGoalState` Java class as described [here](https://github.com/apache/accumulo/issues/1578#issuecomment-610425219) & did a quick test with the new jars. When we started Accumulo master it now starts successfully without hang. I'll put these new jars cluster wide and perform some more tests and keep you all posted. Thanks","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/610614780/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611083233","html_url":"https://github.com/apache/accumulo/issues/1581#issuecomment-611083233","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1581","id":611083233,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTA4MzIzMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T17:16:45Z","updated_at":"2020-04-08T17:16:45Z","author_association":"MEMBER","body":"@andrewglowacki I agree. Go ahead and submit a pull request. Please keep the change as minimal as necessary to refactor the class out, in order to lessen the burden on any code reviewers. Any subsequent improvements can be handled in follow-on tasks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611083233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611089137","html_url":"https://github.com/apache/accumulo/issues/1581#issuecomment-611089137","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1581","id":611089137,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTA4OTEzNw==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T17:28:34Z","updated_at":"2020-04-08T17:28:34Z","author_association":"CONTRIBUTOR","body":"Sounds good, thanks!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611089137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611180688","html_url":"https://github.com/apache/accumulo/issues/1582#issuecomment-611180688","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1582","id":611180688,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTE4MDY4OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T20:36:00Z","updated_at":"2020-04-08T20:36:00Z","author_association":"MEMBER","body":"@andrewglowacki Are you filing this issue to document it for later, or are you interested in submitting a pull request to address this?\r\n\r\nIf you're just documenting the issue for potential later work (perhaps by some other volunteer), or if the work might be substantial enough to discuss first, in order to avoid potentially wasted or misdirected effort, then creating an issue first might make sense.\r\n\r\nIf the latter, especially for very small stuff, there is no need to create an issue first. You can just create the pull request, since pull requests are their own issues on GitHub.\r\n\r\nIt's up to you. I just wanted to make sure you knew it wasn't required to have a separate ticket for each PR, just for the sake of creating tickets. :smiley_cat:","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611180688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611182877","html_url":"https://github.com/apache/accumulo/issues/1582#issuecomment-611182877","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1582","id":611182877,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTE4Mjg3Nw==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T20:40:27Z","updated_at":"2020-04-08T20:40:27Z","author_association":"CONTRIBUTOR","body":"Whoops! Yea, I'm going to submit a PR when this build is complete. I wasn't sure, but next time I'll just submit a PR. Thanks for the clarification!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611182877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611185398","html_url":"https://github.com/apache/accumulo/issues/1582#issuecomment-611185398","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1582","id":611185398,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTE4NTM5OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T20:45:48Z","updated_at":"2020-04-08T20:45:48Z","author_association":"MEMBER","body":"> Whoops! Yea, I'm going to submit a PR when this build is complete. I wasn't sure, but next time I'll just submit a PR. Thanks for the clarification!\r\n\r\nNo problem. Just trying to make sure people don't do more work than they have to. Thanks for contributing! :smiley_cat: ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611185398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611300322","html_url":"https://github.com/apache/accumulo/pull/1583#issuecomment-611300322","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1583","id":611300322,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMwMDMyMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T02:58:11Z","updated_at":"2020-04-09T02:58:11Z","author_association":"MEMBER","body":"I updated the title to this PR to be more concise. I intend to use that title when I am ready to merge this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611300322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611525998","html_url":"https://github.com/apache/accumulo/pull/1583#issuecomment-611525998","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1583","id":611525998,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTUyNTk5OA==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T13:24:25Z","updated_at":"2020-04-09T13:24:25Z","author_association":"CONTRIBUTOR","body":"Yes, that sounds much better thanks!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611525998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611563256","html_url":"https://github.com/apache/accumulo/issues/1576#issuecomment-611563256","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1576","id":611563256,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTU2MzI1Ng==","user":{"login":"drewfarris","id":110922,"node_id":"MDQ6VXNlcjExMDkyMg==","avatar_url":"https://avatars.githubusercontent.com/u/110922?v=4","gravatar_id":"","url":"https://api.github.com/users/drewfarris","html_url":"https://github.com/drewfarris","followers_url":"https://api.github.com/users/drewfarris/followers","following_url":"https://api.github.com/users/drewfarris/following{/other_user}","gists_url":"https://api.github.com/users/drewfarris/gists{/gist_id}","starred_url":"https://api.github.com/users/drewfarris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewfarris/subscriptions","organizations_url":"https://api.github.com/users/drewfarris/orgs","repos_url":"https://api.github.com/users/drewfarris/repos","events_url":"https://api.github.com/users/drewfarris/events{/privacy}","received_events_url":"https://api.github.com/users/drewfarris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T14:37:21Z","updated_at":"2020-04-09T14:37:21Z","author_association":"CONTRIBUTOR","body":"Missed something, `ImportExportIT` failed in https://jenkins.revelc.net/job/2.1/75/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611563256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611640060","html_url":"https://github.com/apache/accumulo/issues/1578#issuecomment-611640060","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1578","id":611640060,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTY0MDA2MA==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T17:04:02Z","updated_at":"2020-04-09T17:04:02Z","author_association":"CONTRIBUTOR","body":"Following the changes done on `SingletonManager` & `SetGoalState` Java class, the patch was tested cluster wide & we are able to successfully start all Accumulo services including the master service without any hiccups. However, stopping the services exhibit similar hang and @keith-turner helped me with the code change on `ZooZap` & `Admin` Java class to fix those. With all these changes in-place, we're now able to start/stop Accumulo successfully. The next step would be to land these changes to the master branch.\r\nOn a side note, noticed the below warning message appear on the console during start & stop of services. May be I'll raise a separate issue to track what is causing this. Thanks!\r\n`2020-04-09 16:09:02,562 [zookeeper.ZooCache] WARN : Unhandled: WatchedEvent state:Closed type:None path:null` ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611640060/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611660698","html_url":"https://github.com/apache/accumulo/pull/1585#issuecomment-611660698","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1585","id":611660698,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTY2MDY5OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T17:45:37Z","updated_at":"2020-04-09T17:45:37Z","author_association":"MEMBER","body":"AuditMessageIT is also broken from #1576 . I have a fix ready and incoming momentarily.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611660698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611669018","html_url":"https://github.com/apache/accumulo/pull/1585#issuecomment-611669018","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1585","id":611669018,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTY2OTAxOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T18:00:54Z","updated_at":"2020-04-09T18:00:54Z","author_association":"MEMBER","body":"AuditMessageIT fixed in b9cc232af9717a00aeb76839fc9d42e33c1c4a13","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611669018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611674874","html_url":"https://github.com/apache/accumulo/pull/1583#issuecomment-611674874","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1583","id":611674874,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTY3NDg3NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T18:11:12Z","updated_at":"2020-04-09T18:11:12Z","author_association":"MEMBER","body":"Thanks for the PR @andrewglowacki . If you wish to be added as a contributor to https://accumulo.apache.org/people/ , please open a pull request to add yourself at https://github.com/apache/accumulo-website/edit/master/pages/people.md and leave a reference to `apache/accumulo#1583` in your commit log.\r\n\r\nIf you intend to be a regular contributor to Accumulo projects, please consider subscribing to our developer mailing list (https://accumulo.apache.org/contact-us/) and introducing yourself. :smiley_cat:","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/611674874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612149181","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-612149181","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":612149181,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjE0OTE4MQ==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T18:05:28Z","updated_at":"2020-04-10T18:09:00Z","author_association":"CONTRIBUTOR","body":"Thanks for the detailed review and great comments! \r\n\r\nUnfortunately, while I was making changes, I rebased master onto my branch (to get my vscode changes), and it re-wrote about 4-5 commits from master by mistake. I backed those out, but I had to force push since I had pushed them to my remote branch.\r\n\r\nSorry to cause problems - I'm still getting used to using GitHub like this. Everything looks to be the way it was, but let me know if you see otherwise.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612149181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612217214","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-612217214","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":612217214,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjIxNzIxNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T21:04:39Z","updated_at":"2020-04-10T21:04:39Z","author_association":"MEMBER","body":"Merging master onto your branch would have been okay if you need to pick up changes from there. It's just the force-push that breaks things... it causes all review comments to become automatically obsolete, and it makes it extremely difficult, if not impossible, to view what changed from the last code review. So, a code reviewer basically has to start over, reviewing from scratch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612217214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612231431","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-612231431","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":612231431,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjIzMTQzMQ==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T21:44:36Z","updated_at":"2020-04-10T21:44:36Z","author_association":"CONTRIBUTOR","body":"Good to know next time, sorry again! I didn't change the original commit, so all of the comments should still be applicable.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612231431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612314802","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-612314802","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":612314802,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjMxNDgwMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T03:38:53Z","updated_at":"2020-04-11T03:38:53Z","author_association":"MEMBER","body":"> Good to know next time, sorry again! I didn't change the original commit, so all of the comments should still be applicable.\r\n\r\nNo worries.\r\n\r\nTo be honest, I used to prefer force pushing a lot... and didn't understand why it mattered that much when others, such as @keith-turner, expressed a preference to avoid it. Then, I started doing a lot more code reviews, and then it became a pain point. So now I've become one of the ones advising people not to force push. Tables turned :smiley_cat:","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612314802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612945385","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-612945385","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":612945385,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk0NTM4NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T15:21:27Z","updated_at":"2020-04-13T15:21:27Z","author_association":"CONTRIBUTOR","body":"@andrewglowacki would you be able to highlight the places where these changes may be doing something different or new?  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612945385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612949478","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-612949478","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":612949478,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk0OTQ3OA==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T15:30:49Z","updated_at":"2020-04-13T15:33:51Z","author_association":"CONTRIBUTOR","body":"@keith-turner sorry, what changes do you mean? The force push didn't add/remove anything from the original commit, it just removed the commits that I accidently pulled in when I rebased master. This is what happened:\r\n\r\n1. Original commit: 8d99cdc\r\n2. Reviewed by @ctubbsii \r\n3. Rebased master which pulled in and modified the next 4 commits\r\n4. Pushed this to my remote branch before I realized the 4 commits were modified by the rebase\r\n5. Reset the head to 8d99cdc\r\n6. Force pushed the branch to remove the 4 commits\r\n7. Committed and pushed my changes from the review in 1bf3ba5","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612949478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612957146","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-612957146","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":612957146,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk1NzE0Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T15:48:56Z","updated_at":"2020-04-13T15:48:56Z","author_association":"CONTRIBUTOR","body":"@andrewglowacki this was my first time to look at the PR this morning, so the force push did not impact me. I think a lot of the changes are only something like adding `server.` with no other changes to code.   I was just wondering if you could point me to more substantial changes to review, like a changing a foreach loop to a java stream.  One possible way to do this is to comment on the PR where these more substantial changes are.   I am just looking for a way to review this more quickly, but I don't want to take much more of your time.  So if this would not be quick for you, don't worry about it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612957146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612973225","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-612973225","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":612973225,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk3MzIyNQ==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T16:25:48Z","updated_at":"2020-04-13T16:25:48Z","author_association":"CONTRIBUTOR","body":"@keith-turner I see, great! No problem, I don't mind pointing things out. I'll do anything to make it easier to review, especially since it's such a big change.\r\n\r\nUnfortunately there's quite a few changes, however virtually all of them are either:\r\n- prepending variables that were owned by TabletServer with 'server.' such as: \r\n`sessionManager.unreserveSession(scanSession);` \r\nto:\r\n`server.sessionManager.unreserveSession(scanSession);`\r\n\r\n- prepending methods that were owned by TabletServer with 'server.' such as:\r\n`long totalQueued = updateTotalQueuedMutationSize(additionalMutationSize);`\r\nto:\r\n`long totalQueued = server.updateTotalQueuedMutationSize(additionalMutationSize);`\r\n\r\n- changing private variables to package-private in TabletServer.java such as:\r\n`private final TabletServerResourceManager resourceManager;`\r\nto:\r\n`final TabletServerResourceManager resourceManager;`\r\n\r\nIn addition to making these types of changes to ThriftClientHandler, they were also necessary in AssignmentHandler and UnloadTabletHandler for the same reasons.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612973225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612987594","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-612987594","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":612987594,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk4NzU5NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T16:57:51Z","updated_at":"2020-04-13T16:57:51Z","author_association":"CONTRIBUTOR","body":"@andrewglowacki the three changes you just mentioned are great and I approve of those.  I was just looking for pointers to anything else you may know of.  I plan to take a look over the changes this afternoon.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/612987594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613190190","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-613190190","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":613190190,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzE5MDE5MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T02:22:31Z","updated_at":"2020-04-14T02:22:31Z","author_association":"MEMBER","body":"@andrewglowacki I will try to take a look at this Tuesday, and merge it in if I don't see any issues with it. I gave myself a break for the weekend. :smiley_cat: ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613190190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613190997","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-613190997","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":613190997,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzE5MDk5Nw==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T02:25:45Z","updated_at":"2020-04-14T02:25:45Z","author_association":"CONTRIBUTOR","body":"@ctubbsii no problem, thanks!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613190997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613194113","html_url":"https://github.com/apache/accumulo/pull/1586#issuecomment-613194113","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1586","id":613194113,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzE5NDExMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T02:37:13Z","updated_at":"2020-04-14T02:37:13Z","author_association":"MEMBER","body":"Hi @karthick-rn ; thanks for the pull request. Here are some tips to improve your git log messages: https://chris.beams.io/posts/git-commit/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613194113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613467144","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-613467144","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":613467144,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzQ2NzE0NA==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T14:12:36Z","updated_at":"2020-04-14T14:12:36Z","author_association":"CONTRIBUTOR","body":"@keith-turner thanks for the review! I will make these changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613467144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613513561","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-613513561","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":613513561,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzUxMzU2MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T15:34:02Z","updated_at":"2020-04-14T15:34:02Z","author_association":"CONTRIBUTOR","body":"> @keith-turner thanks for the review! I will make these changes.\r\n\r\nNo problem.  I did the refactoring locally in Eclipse and then compared that to your branch.  That made the diff much smaller and allowed me to see all of the changes you made that were not automatic.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613513561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613517176","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-613517176","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":613517176,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzUxNzE3Ng==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T15:40:19Z","updated_at":"2020-04-14T15:40:19Z","author_association":"CONTRIBUTOR","body":"> I did the refactoring locally in Eclipse and then compared that to your branch.  That made the diff much smaller and allowed me to see all of the changes you made that were not automatic.\r\n\r\nGood idea! Yes, it was pretty difficult to discern otherwise.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613517176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613601627","html_url":"https://github.com/apache/accumulo/pull/1586#issuecomment-613601627","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1586","id":613601627,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzYwMTYyNw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T18:19:28Z","updated_at":"2020-04-14T18:19:28Z","author_association":"CONTRIBUTOR","body":"> I feel like the three affected tools could simply have avoided using ZooReaderWriter and ZooSession and instead just used ZooKeeper directly. \r\n\r\nThis may lead to a lot of duplication and/or require a large refactoring of code to reuse things like the authentication code for ZK.   Not sure.\r\n\r\nAnother way to make this change cleaner would be to call `SingletonManager.setMode(CLOSED)` in `ServerContext.close()`.  However doing this may destabilize existing code using ServerContext.  To avoid the destabilization, could create an AdminUtilContext that extends ServerContext AND calls `SingletonManager.setMode(CLOSED)` in its close method.   Then admin util like the ones changed in this PR could do something like the following.\r\n\r\n```java\r\ntry(AdminUtilContext ctx = new AdminUtilContext()) {\r\n   // do admin stuff\r\n}\r\n```\r\n\r\nJust sharing my thoughts, not suggesting we do any of this at this point. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613601627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613639163","html_url":"https://github.com/apache/accumulo/pull/1586#issuecomment-613639163","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1586","id":613639163,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzYzOTE2Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T19:32:02Z","updated_at":"2020-04-14T19:32:02Z","author_association":"MEMBER","body":"> Another way to make this change cleaner would be to call `SingletonManager.setMode(CLOSED)` in `ServerContext.close()`. However doing this may destabilize existing code using ServerContext. To avoid the destabilization, could create an AdminUtilContext that extends ServerContext AND calls `SingletonManager.setMode(CLOSED)` in its close method. Then admin util like the ones changed in this PR could do something like the following.\r\n\r\nWe've talked about creating a Context for utilities before. I think it probably makes sense to do that for this reason as well.\r\n\r\nAnother way to simplify this is to let the context explicitly manage the ZooKeeper object, rather than use the SingletonManager stuff at all. In my view, the SingletonManager was a short-term hack to manage static object lifecycles, when the long-term fix is to avoid static objects. The context object is the primary lifecycle object, so we really should only be getting our ZooKeeper object from that. The context itself should close the ZooKeeper object when it is closed.\r\n\r\n> Just sharing my thoughts, not suggesting we do any of this at this point.\r\n\r\nYeah, all these ideas can be left for future changes/improvements. The approach taken by this PR is fine with me for now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613639163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613650094","html_url":"https://github.com/apache/accumulo/pull/1586#issuecomment-613650094","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1586","id":613650094,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzY1MDA5NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T19:56:44Z","updated_at":"2020-04-14T19:56:44Z","author_association":"MEMBER","body":"I'm preparing to merge this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613650094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613668692","html_url":"https://github.com/apache/accumulo/pull/1586#issuecomment-613668692","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1586","id":613668692,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzY2ODY5Mg==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T20:37:20Z","updated_at":"2020-04-14T20:37:20Z","author_association":"CONTRIBUTOR","body":"> Hi @karthick-rn ; thanks for the pull request. Here are some tips to improve your git log messages: https://chris.beams.io/posts/git-commit/\r\n\r\nThanks @ctubbsii for sharing the link. Going forward I'll ensure the git log messages are as described on the link. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613668692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613674197","html_url":"https://github.com/apache/accumulo/pull/1586#issuecomment-613674197","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1586","id":613674197,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzY3NDE5Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T20:49:27Z","updated_at":"2020-04-14T20:49:27Z","author_association":"MEMBER","body":"Merged. Thanks for the PR @karthick-rn . I know you've contributed a few times, but I didn't see you listed on https://accumulo.apache.org/people/, and didn't see a previous invitation to add yourself there. So apologies if you've received this information before:\r\n\r\nIf you wish to be added as a contributor to https://accumulo.apache.org/people/ , please open a pull request to add yourself at https://github.com/apache/accumulo-website/edit/master/pages/people.md and leave a reference to `apache/accumulo#1586` in your commit log.\r\n\r\nIf you intend to be a regular contributor to Accumulo projects, please consider subscribing to our developer mailing list (https://accumulo.apache.org/contact-us/) and introducing yourself. :smiley_cat:","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613674197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613760791","html_url":"https://github.com/apache/accumulo/issues/1587#issuecomment-613760791","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1587","id":613760791,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzc2MDc5MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T01:17:09Z","updated_at":"2020-04-15T01:17:09Z","author_association":"MEMBER","body":"This is a new ZooKeeper client-side generated event added as part of https://issues.apache.org/jira/browse/ZOOKEEPER-2368 (apache/zookeeper#529), added in ZK 3.5.5 and 3.6.0.\r\n\r\nOur code has not been updated to recognize it yet, but I think it's probably safe to ignore. It would be good for us to update our watchers to handle this explicitly, though.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613760791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613965318","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-613965318","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":613965318,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzk2NTMxOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T10:47:15Z","updated_at":"2020-04-15T10:47:15Z","author_association":"MEMBER","body":"All tests passed (well, SuspendedTabletsIT.crashAndResumeTserver\r\n experienced an unrelated timeout, but passed when I re-ran it; it's probably transient, performance related on the build system). I'm merging this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/613965318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614141520","html_url":"https://github.com/apache/accumulo/issues/1587#issuecomment-614141520","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1587","id":614141520,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDE0MTUyMA==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T16:26:28Z","updated_at":"2020-04-15T16:26:28Z","author_association":"CONTRIBUTOR","body":"@ctubbsii Thanks for the update. I'll keep this as a low priority issue and work on it. You can assign it to me. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614141520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614267350","html_url":"https://github.com/apache/accumulo/issues/1588#issuecomment-614267350","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1588","id":614267350,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDI2NzM1MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T20:37:29Z","updated_at":"2020-04-15T20:37:29Z","author_association":"CONTRIBUTOR","body":"https://the-asf.slack.com/archives/CERNB8NDC/p1586961071077000","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614267350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614271826","html_url":"https://github.com/apache/accumulo/issues/1588#issuecomment-614271826","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1588","id":614271826,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDI3MTgyNg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T20:47:38Z","updated_at":"2020-04-15T20:58:58Z","author_association":"CONTRIBUTOR","body":"Two possible solutions to the problem of failed compactions leaving files around.\r\n\r\n * Could place an entry in the metadata table like `row=<tablet row> family=compacting qualifier=<uri>` for files currently being created by compactions.  When a tablet is loaded it looks for these and deletes the URIs and then the metadata entries.  When a file is added to the metadata table for a compaction, it can delete the `compacting` family and add the `file` family atomically in the same mutation.\r\n * Could create a tool that looks for files in DFS that are not in metadata table.  Admins could periodically run this tool.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614271826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614424538","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-614424538","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":614424538,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDQyNDUzOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T05:31:37Z","updated_at":"2020-04-16T05:31:37Z","author_association":"MEMBER","body":"Thanks for the PR @andrewglowacki ; just to reiterate a previous comment: https://github.com/apache/accumulo/pull/1583#issuecomment-611674874","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614424538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614612853","html_url":"https://github.com/apache/accumulo/pull/1584#issuecomment-614612853","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1584","id":614612853,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDYxMjg1Mw==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T12:09:55Z","updated_at":"2020-04-16T12:09:55Z","author_association":"CONTRIBUTOR","body":"No problem. Thanks for the reviews and help!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/614612853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/617780886","html_url":"https://github.com/apache/accumulo/issues/1591#issuecomment-617780886","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1591","id":617780886,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzc4MDg4Ng==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T13:31:21Z","updated_at":"2020-04-22T13:31:21Z","author_association":"CONTRIBUTOR","body":"The filename is determined by the metrics config file - so just changing the filename may not be straight forward. Also, concurrent tests will be another issue - normally there would be only one gc running.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/617780886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/617926125","html_url":"https://github.com/apache/accumulo/issues/1591#issuecomment-617926125","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1591","id":617926125,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzkyNjEyNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T17:38:29Z","updated_at":"2020-04-22T17:38:29Z","author_association":"MEMBER","body":"It's also possible my assumption about how the test failed is wrong. I was going off of the embedded comment in the `gcMetricsPublished()` method, which explains that a previous run or another test could affect what is parsed from the file, since the file is appended to.\r\n\r\nIn the stack trace above, it appears the value parsed was of an event time that occurred before the current test started, which I thought could only make sense if it was from a different test... but I did not evaluate deeply.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/617926125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/617974360","html_url":"https://github.com/apache/accumulo/issues/1591#issuecomment-617974360","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1591","id":617974360,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzk3NDM2MA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T19:10:05Z","updated_at":"2020-04-22T19:16:41Z","author_association":"CONTRIBUTOR","body":"I didn't look closely either - but I will.  Either this test or possibly one of fate metrics tests was written so that it looked for an update - I'll check that this code does the same thing and that it's working as I intended.  Waiting for an update was to resolve times when previous tests also had written to the metrics file.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/617974360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/618495672","html_url":"https://github.com/apache/accumulo/issues/1574#issuecomment-618495672","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1574","id":618495672,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQ5NTY3Mg==","user":{"login":"arvindshmicrosoft","id":16342666,"node_id":"MDQ6VXNlcjE2MzQyNjY2","avatar_url":"https://avatars.githubusercontent.com/u/16342666?v=4","gravatar_id":"","url":"https://api.github.com/users/arvindshmicrosoft","html_url":"https://github.com/arvindshmicrosoft","followers_url":"https://api.github.com/users/arvindshmicrosoft/followers","following_url":"https://api.github.com/users/arvindshmicrosoft/following{/other_user}","gists_url":"https://api.github.com/users/arvindshmicrosoft/gists{/gist_id}","starred_url":"https://api.github.com/users/arvindshmicrosoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvindshmicrosoft/subscriptions","organizations_url":"https://api.github.com/users/arvindshmicrosoft/orgs","repos_url":"https://api.github.com/users/arvindshmicrosoft/repos","events_url":"https://api.github.com/users/arvindshmicrosoft/events{/privacy}","received_events_url":"https://api.github.com/users/arvindshmicrosoft/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T16:19:38Z","updated_at":"2020-04-23T16:19:38Z","author_association":"MEMBER","body":"@ctubbsii I would like to look into this if it's not already being investigated by someone else (to best of our knowledge)?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/618495672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/618514562","html_url":"https://github.com/apache/accumulo/issues/1044#issuecomment-618514562","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1044","id":618514562,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODUxNDU2Mg==","user":{"login":"billierinaldi","id":1810597,"node_id":"MDQ6VXNlcjE4MTA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1810597?v=4","gravatar_id":"","url":"https://api.github.com/users/billierinaldi","html_url":"https://github.com/billierinaldi","followers_url":"https://api.github.com/users/billierinaldi/followers","following_url":"https://api.github.com/users/billierinaldi/following{/other_user}","gists_url":"https://api.github.com/users/billierinaldi/gists{/gist_id}","starred_url":"https://api.github.com/users/billierinaldi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billierinaldi/subscriptions","organizations_url":"https://api.github.com/users/billierinaldi/orgs","repos_url":"https://api.github.com/users/billierinaldi/repos","events_url":"https://api.github.com/users/billierinaldi/events{/privacy}","received_events_url":"https://api.github.com/users/billierinaldi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T16:53:53Z","updated_at":"2020-04-23T16:53:53Z","author_association":"CONTRIBUTOR","body":"I was thinking that an Accumulo instance that uses cloud storage could have a mechanism to back up its ZK data to cloud storage as well. The VM instances could be spun down completely, and sometime later you could spin up new VMs, rehydrate ZK, and get a working Accumulo instance back. @keith-turner mentioned that snapshots could help support this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/618514562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/618678485","html_url":"https://github.com/apache/accumulo/issues/1574#issuecomment-618678485","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1574","id":618678485,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODY3ODQ4NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T21:20:49Z","updated_at":"2020-04-23T21:20:49Z","author_association":"MEMBER","body":"@arvindshmicrosoft Go right ahead!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/618678485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/619163419","html_url":"https://github.com/apache/accumulo/pull/1594#issuecomment-619163419","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1594","id":619163419,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTE2MzQxOQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-24T18:00:27Z","updated_at":"2020-04-24T18:00:27Z","author_association":"CONTRIBUTOR","body":"I think #1588 is a more general issue that could still be beneficial and be done at some point in the future.  Could change the commit message for this PR to something like `Handle spurious failure were rename succeeded but reported it failed` and omit #1588 or just reference #1588 in the commit message without the preceding `fix`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/619163419/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/619299148","html_url":"https://github.com/apache/accumulo/pull/1596#issuecomment-619299148","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1596","id":619299148,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTI5OTE0OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T01:32:46Z","updated_at":"2020-04-25T01:32:46Z","author_association":"MEMBER","body":"> This method will load all the iterators configured in the provided properties and scope. Placed method in TableOperations since it seemed similar to other iterator methods and uses table properties but is really just a static utility method.\r\n\r\nWhat is the clear and overwhelming value to end users for having this in the public API?\r\n\r\nI ask because this seems more useful for internal use and maybe for iterator testing (which we already have a separate iterator framework for that). I'm not necessarily opposed... but adding new stuff to the API adds a long-term obligation for the project. Iterators, in particular, are at higher risk of being negatively impacted by prior API decisions (see previous attempts to mark them closeable, or to add client-side iterators for offline scanning). So, I want to make sure I fully understand the value and that we've properly weighed the consequences before adding it as new public API.\r\n\r\n> This implementation always uses the Java classloader by calling `.useAccumuloClassLoader(false);`. I wasn't sure if we want to provide an option for using the AccumuloVFSClassLoader.\r\n\r\nDepends on the intent here. At the very least, I would not want to pass a boolean. If it is added, I would make the API accept an instance of `java.lang.ClassLoader`. This would help us support future work to loosen the tight coupling the custom ClassLoader stuff has with Accumulo bootup in `accumulo-start.jar`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/619299148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/619947819","html_url":"https://github.com/apache/accumulo/pull/1596#issuecomment-619947819","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1596","id":619947819,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTk0NzgxOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T12:15:09Z","updated_at":"2020-04-27T12:15:09Z","author_association":"CONTRIBUTOR","body":"> What is the clear and overwhelming value to end users for having this in the public API?\r\n\r\nShort answer is... I am not convinced there is overwhelming value.  \r\n\r\nI discovered that Datawave was using the method when it was a part of IteratorUtil (which I recently refactored since it used internal types).  That can be seen [here](https://github.com/NationalSecurityAgency/datawave/blob/master/warehouse/query-core/src/main/java/datawave/mr/bulk/RecordIterator.java#L390).  It seems to me this is either legacy use of internal code when there were no other options in the API or it is a more advanced use case of iterators, where there is need to load the iterators programmatically on the fly. I don't know enough about how it is used to know more.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/619947819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/619957733","html_url":"https://github.com/apache/accumulo/pull/1596#issuecomment-619957733","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1596","id":619957733,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTk1NzczMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-27T12:34:14Z","updated_at":"2020-04-27T12:34:14Z","author_association":"MEMBER","body":"> > What is the clear and overwhelming value to end users for having this in the public API?\r\n> \r\n> Short answer is... I am not convinced there is overwhelming value.\r\n\r\nIn that case, I'm very reluctant to support this API addition.\r\n\r\n> \r\n> I discovered that Datawave was using the method when it was a part of IteratorUtil (which I recently refactored since it used internal types). That can be seen [here](https://github.com/NationalSecurityAgency/datawave/blob/master/warehouse/query-core/src/main/java/datawave/mr/bulk/RecordIterator.java#L390). It seems to me this is either legacy use of internal code when there were no other options in the API or it is a more advanced use case of iterators, where there is need to load the iterators programmatically on the fly. I don't know enough about how it is used to know more.\r\n\r\nI think it would be good to try to understand the Datawave use case for this a bit better, before adding it as API. It's possible they are using some internals they don't need to, and shouldn't be. It's also possible there's a legitimate need for this kind of thing. I'm also curious what other projects might need to do this and why. Without knowing more about why they, or others, would need to construct the iterator stack in client code, I'm inclined to reserve judgement on whether or not it's a good idea to support this use case in the public API.\r\n\r\nMore information about this use case, might be better aggregated with other information about various iterator use cases to improve the overall design of the iterator stack and tooling, rather than be used to implement a quick fix. I would encourage any iterator users with complex needs like this to open a dialogue on the developer mailing list to discuss possible design and API changes, so we can think through what the best future course of action is, before making changes to the public API.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/619957733/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/620698845","html_url":"https://github.com/apache/accumulo/pull/1594#issuecomment-620698845","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1594","id":620698845,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDY5ODg0NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T16:02:16Z","updated_at":"2020-04-28T16:02:16Z","author_association":"CONTRIBUTOR","body":"@tushardhadiwal  thanks for the contribution.  If you would like to be listed as a contributor on the [people page](https://accumulo.apache.org/people), please [submit a PR to add yourself](https://github.com/apache/accumulo-website/edit/master/pages/people.md).  Let me know if you have any questions about editing the website.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/620698845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/621250177","html_url":"https://github.com/apache/accumulo/issues/1591#issuecomment-621250177","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1591","id":621250177,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTI1MDE3Nw==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T14:32:31Z","updated_at":"2020-04-29T14:32:31Z","author_association":"CONTRIBUTOR","body":"Merged PR  #1597 which will strength the check - if jenkins continues to show transient issues the test should be revisited.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/621250177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/623448834","html_url":"https://github.com/apache/accumulo/pull/1596#issuecomment-623448834","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1596","id":623448834,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzQ0ODgzNA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T12:59:49Z","updated_at":"2020-05-04T12:59:49Z","author_association":"CONTRIBUTOR","body":"Leaving this open for now until we can get more information and marked for 2.1 because if we are going to add this API, it should be in 2.1","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/623448834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/624115226","html_url":"https://github.com/apache/accumulo/pull/1603#issuecomment-624115226","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1603","id":624115226,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDExNTIyNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T15:12:55Z","updated_at":"2020-05-05T15:12:55Z","author_association":"MEMBER","body":"@jmark99 , @milleruntime , @EdColeman : please don't forget to apply the target version Project to the issue/PR for tracking purposes. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/624115226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/624475656","html_url":"https://github.com/apache/accumulo/pull/1427#issuecomment-624475656","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1427","id":624475656,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDQ3NTY1Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T06:55:58Z","updated_at":"2020-05-06T06:55:58Z","author_association":"MEMBER","body":"For reference, CMS was removed in JDK14.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/624475656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625575533","html_url":"https://github.com/apache/accumulo/pull/1589#issuecomment-625575533","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1589","id":625575533,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTU3NTUzMw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T01:13:58Z","updated_at":"2020-05-08T01:13:58Z","author_association":"CONTRIBUTOR","body":"This PR is superseded by #1605.  There were so many changes since this PR was made, that I decided to create a new PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625575533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625621542","html_url":"https://github.com/apache/accumulo/pull/1589#issuecomment-625621542","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1589","id":625621542,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTYyMTU0Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T04:20:06Z","updated_at":"2020-05-08T04:20:06Z","author_association":"MEMBER","body":"@keith-turner I never looked at this one, since it was still WIP. Should this one now be closed, since it is superseded?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625621542/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625944170","html_url":"https://github.com/apache/accumulo/pull/1605#issuecomment-625944170","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1605","id":625944170,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTk0NDE3MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T18:06:06Z","updated_at":"2020-05-08T18:06:06Z","author_association":"CONTRIBUTOR","body":"> Would there be value in marking the new properties/APIs as \"experimental\" until it bears out after a release or two?\r\n\r\nThat would entail keeping all the old code and then jamming this new code into the old code.  I don't think that would help achieve stability or maintainability.  There are actually a lot of big changes that have built up for 2.1.0.  I think we need to stop accepting new features for 2.1.0 at some point and start heavily testing it and only fixing bugs.\r\n\r\n> There are so many new classes. The number of new classes might make the compaction code a bit more logical, but it's a big shift from the current code, and very hard for a newcomer to quickly familiarize themselves with all the code.\r\n\r\nDid you look at the javadoc link I posted? The current plugins break down by data and execution.  The CompactionSelector, CompactionConfigurer, and iterators are only concerned with user data and can be set per table or per compaction.  The CompactionPlanner and CompactionDispatcher are only concerned with executing compactions. Planners are configured at the system level and dispatchers are configured per table. Users can set execution hints when initiating a compaction through the API and these hints are made available to the dispatcher and planner.   If this is helpful, I can work this into the javadoc.\r\n\r\n> It might help to organize a video chat or slide show to go over all the code changes at a high level, so that other Accumulo devs can quickly assess the new design.\r\n\r\nI can do a chat on slack.  One goal of that could be to determine how the written documentation could be improved. \r\n\r\n> I kind of liked the idea of setting a single compaction strategy property that encapsulates all the configuration\r\n\r\nThis is very vague and I don't know what this would concretely look like.  We could discuss this in the chat.  If you have more specific ideas, it would helpful to write them up somewhere.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625944170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625949255","html_url":"https://github.com/apache/accumulo/issues/1606#issuecomment-625949255","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1606","id":625949255,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTk0OTI1NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T18:18:17Z","updated_at":"2020-05-08T18:18:17Z","author_association":"CONTRIBUTOR","body":"Saw an issue where short scans were locking at this file limit gate so the client was killed.  The dead scans were stuck even after a client was killed and then new scans were waiting a long time at the semaphore for this file limit.  This situation could worsen as a user not seeing scans available, will retry creating more scans that get held up at this gate.   This is a situation where we want to prioritize scan availability over everything else, which is one of the trade offs @keith-turner mentions in https://issues.apache.org/jira/browse/ACCUMULO-416","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625949255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625972278","html_url":"https://github.com/apache/accumulo/pull/1605#issuecomment-625972278","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1605","id":625972278,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTk3MjI3OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T19:11:30Z","updated_at":"2020-05-08T19:11:30Z","author_association":"CONTRIBUTOR","body":"@ctubbsii something else that I eventually need to write is user facing documention.  The documentation written so for is a bit more internal.  The old WIP PR #1589 does have a bit of user facing documentation in its opening comment that would be useful to look at though.  It shows how to set configure different compaction services and make tables use them.  The properties have changed a bit, but all of the concepts are the same.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/625972278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]