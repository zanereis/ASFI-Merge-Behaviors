[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582248349","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-582248349","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":582248349,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjI0ODM0OQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T05:35:34Z","updated_at":"2020-02-05T05:35:34Z","author_association":"MEMBER","body":"Thanks for review this pr @vinothchandar, this pr does not lock the user into `spark-avro:2.4.4`. \r\n\r\nIf the user wants some changes in `spark-avro:3.0-preview2`, the right way is modify spark-version to `3.0-preview2` at pom.xml file, then build hudi project source.\r\n\r\nhttps://github.com/apache/incubator-hudi/blob/4de0fcfcb54ac76ed3b6852917588c32fec9bea8/pom.xml#L95\r\n\r\n```\r\n<dependency>\r\n  <groupId>org.apache.spark</groupId>\r\n  <artifactId>spark-avro_${scala.binary.version}</artifactId>\r\n  <version>${spark.version}</version>\r\n  <scope>provided</scope>\r\n</dependency>\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582248349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582259477","html_url":"https://github.com/apache/hudi/pull/1165#issuecomment-582259477","issue_url":"https://api.github.com/repos/apache/hudi/issues/1165","id":582259477,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjI1OTQ3Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T06:21:13Z","updated_at":"2020-02-05T06:21:13Z","author_association":"MEMBER","body":"cc @pratyakshsharma could you help review this? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582259477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582259704","html_url":"https://github.com/apache/hudi/pull/765#issuecomment-582259704","issue_url":"https://api.github.com/repos/apache/hudi/issues/765","id":582259704,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjI1OTcwNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T06:22:11Z","updated_at":"2020-02-05T06:22:11Z","author_association":"MEMBER","body":"cc @pratyakshsharma this has been around for long.. Could you take a look to understand if we still need this and may be retarget this for the next release ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582259704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582404480","html_url":"https://github.com/apache/hudi/pull/1165#issuecomment-582404480","issue_url":"https://api.github.com/repos/apache/hudi/issues/1165","id":582404480,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjQwNDQ4MA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T13:22:04Z","updated_at":"2020-02-05T13:22:04Z","author_association":"CONTRIBUTOR","body":"@vinothchandar ack.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582404480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582404722","html_url":"https://github.com/apache/hudi/pull/765#issuecomment-582404722","issue_url":"https://api.github.com/repos/apache/hudi/issues/765","id":582404722,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjQwNDcyMg==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T13:22:43Z","updated_at":"2020-02-05T13:22:43Z","author_association":"CONTRIBUTOR","body":"ack. Will take a pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582404722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582405982","html_url":"https://github.com/apache/hudi/pull/1293#issuecomment-582405982","issue_url":"https://api.github.com/repos/apache/hudi/issues/1293","id":582405982,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjQwNTk4Mg==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T13:25:47Z","updated_at":"2020-02-05T13:25:47Z","author_association":"CONTRIBUTOR","body":"@lamber-ken Sorry for late update, tested and worked fine in Linux, let's go forward.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582405982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582415582","html_url":"https://github.com/apache/hudi/pull/1293#issuecomment-582415582","issue_url":"https://api.github.com/repos/apache/hudi/issues/1293","id":582415582,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjQxNTU4Mg==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T13:48:45Z","updated_at":"2020-02-05T13:49:00Z","author_association":"MEMBER","body":"> @lamber-ken Sorry for late update, tested and worked fine in Linux, let's go forward.\r\n\r\nNo problem :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582415582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582456190","html_url":"https://github.com/apache/hudi/pull/1293#issuecomment-582456190","issue_url":"https://api.github.com/repos/apache/hudi/issues/1293","id":582456190,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjQ1NjE5MA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T15:16:24Z","updated_at":"2020-02-05T15:16:24Z","author_association":"MEMBER","body":"> +1 LGTM, also tested in window, except for hudi-integ-test(not install docker), other modules works fine. Thanks for your work @lamber-ken . Merging.\r\n\r\nThanks :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582456190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582498755","html_url":"https://github.com/apache/hudi/pull/1187#issuecomment-582498755","issue_url":"https://api.github.com/repos/apache/hudi/issues/1187","id":582498755,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjQ5ODc1NQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T16:43:18Z","updated_at":"2020-02-05T16:43:30Z","author_association":"MEMBER","body":"> @xushiyan I think there is a checkstyle error. can you please take a look\r\n\r\n@vinothchandar Fixed!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582498755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582500892","html_url":"https://github.com/apache/hudi/pull/1190#issuecomment-582500892","issue_url":"https://api.github.com/repos/apache/hudi/issues/1190","id":582500892,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjUwMDg5Mg==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T16:47:47Z","updated_at":"2020-02-05T16:48:33Z","author_association":"MEMBER","body":"@leesf As we discussed, this is blocked until `_docs/0.5.1`  is created","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582500892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582522731","html_url":"https://github.com/apache/hudi/pull/1187#issuecomment-582522731","issue_url":"https://api.github.com/repos/apache/hudi/issues/1187","id":582522731,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjUyMjczMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T17:33:48Z","updated_at":"2020-02-05T17:33:48Z","author_association":"MEMBER","body":"Thanks and Congrats! :) landed! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582522731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582587735","html_url":"https://github.com/apache/hudi/pull/1289#issuecomment-582587735","issue_url":"https://api.github.com/repos/apache/hudi/issues/1289","id":582587735,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjU4NzczNQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T20:05:48Z","updated_at":"2020-02-05T20:05:48Z","author_association":"MEMBER","body":"Spark History Server Screenshots\r\n\r\n![List of tests](https://user-images.githubusercontent.com/58448203/73878606-b1a03f80-480f-11ea-89c0-13da2feb244c.png)\r\n\r\n\r\n![Event timeline](https://user-images.githubusercontent.com/58448203/73878671-d1cffe80-480f-11ea-8ea7-770f80c4213a.png)\r\n\r\n\r\n![TestHoodieClientCopyOnWrite](https://user-images.githubusercontent.com/58448203/73878634-c086f200-480f-11ea-8b4f-96c810ee6fbf.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582587735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582605003","html_url":"https://github.com/apache/hudi/pull/1305#issuecomment-582605003","issue_url":"https://api.github.com/repos/apache/hudi/issues/1305","id":582605003,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjYwNTAwMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T20:48:34Z","updated_at":"2020-02-05T20:48:34Z","author_association":"MEMBER","body":"cc @yanghua  I actually thought of assigning this to you..to get your take on whether this qualifies as MINOR.. I think it does","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582605003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582605546","html_url":"https://github.com/apache/hudi/pull/1304#issuecomment-582605546","issue_url":"https://api.github.com/repos/apache/hudi/issues/1304","id":582605546,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjYwNTU0Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T20:49:59Z","updated_at":"2020-02-05T20:49:59Z","author_association":"MEMBER","body":"@yanghua Same here... This PR IMO is making a subjective argument.. I personally feel `Thread.sleep` is more universally known and this change does not improve the code quality per se significantly.. WDYT ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582605546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582609037","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-582609037","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":582609037,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjYwOTAzNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T20:58:14Z","updated_at":"2020-02-05T20:58:14Z","author_association":"MEMBER","body":">If the user wants some changes in spark-avro:3.0-preview2, the right way is modify spark-version to 3.0-preview2 at pom.xml file, then build hudi project source.\r\n\r\nUnderstood... but we would like to avoid this need for building a version of hudi by themselves. Users should be able to do `--packages <hudi-spark-bundle*.jar>` and be on their way.. This change forces everyone who is not on the spark version used by hudi to do their own builds.. I still feel this is not a good idea. \r\n\r\nOnce again, I wish we can have more upfront discussion on the JIRA, rather than on a PR, around issues like this. (I feel bad when someone puts in the work to do the implementation that we cannot take :() ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582609037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582627717","html_url":"https://github.com/apache/hudi/pull/1304#issuecomment-582627717","issue_url":"https://api.github.com/repos/apache/hudi/issues/1304","id":582627717,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjYyNzcxNw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T21:45:08Z","updated_at":"2020-02-05T21:45:08Z","author_association":"MEMBER","body":"> IMO anything that needs some kind of subjective debate, cannot be MINOR..\r\n> \r\n> @lamber-ken For these kinds of PRs, can we first check with one of the commiters or engage on a JIRA. I feel we need not do this change\r\n\r\nOkay, thanks. \r\n\r\n`TimeUnit` gives us a readability improvement, we no need to multiplied by 1000.\r\n![image](https://user-images.githubusercontent.com/20113411/73885833-6df71580-48a3-11ea-96ac-be3e6ed19fda.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582627717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582628959","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-582628959","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":582628959,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjYyODk1OQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T21:48:15Z","updated_at":"2020-02-05T21:59:55Z","author_association":"MEMBER","body":"> > If the user wants some changes in spark-avro:3.0-preview2, the right way is modify spark-version to 3.0-preview2 at pom.xml file, then build hudi project source.\r\n> \r\n> Understood... but we would like to avoid this need for building a version of hudi by themselves. Users should be able to do `--packages <hudi-spark-bundle*.jar>` and be on their way.. This change forces everyone who is not on the spark version used by hudi to do their own builds.. I still feel this is not a good idea.\r\n> \r\n> Once again, I wish we can have more upfront discussion on the JIRA, rather than on a PR, around issues like this. (I feel bad when someone puts in the work to do the implementation that we cannot take :()\r\n\r\nThanks, got it. Welcome, any suggestion is good to me. will file a disscuss email about this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582628959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582642492","html_url":"https://github.com/apache/hudi/pull/1309#issuecomment-582642492","issue_url":"https://api.github.com/repos/apache/hudi/issues/1309","id":582642492,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjY0MjQ5Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T22:23:37Z","updated_at":"2020-02-05T22:23:37Z","author_association":"CONTRIBUTOR","body":"@yanghua Could you take a look at the failed build please ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582642492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582650497","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-582650497","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":582650497,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjY1MDQ5Nw==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T22:48:10Z","updated_at":"2020-02-05T22:49:20Z","author_association":"CONTRIBUTOR","body":"As @vinothchandar mentioned we did discuss the possibility of doing this, but were thrown back because of the reason mentioned above by Vinoth.\r\n\r\nBut just thinking out aloud, now that Hudi has been migrated to `spark 2.4.4` is it really recommended for user's using older or newer versions of spark version to be simply dropping the pre-built hudi jars with spark 2.4.4 ? Shouldn't the recommendation for such users be to actually build their own hudi jars, with the spark version they use. This would help them catch any possible compatibility issues during compile time. I am not sure how safe it is for us to claim that user's use our pre-built jars regardless of spark versions.\r\n\r\nAnd if building own jars is the recommendation, then i think this change can be pulled in.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582650497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582654435","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-582654435","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":582654435,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjY1NDQzNQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T23:01:03Z","updated_at":"2020-02-05T23:01:03Z","author_association":"CONTRIBUTOR","body":"> > If the user wants some changes in spark-avro:3.0-preview2, the right way is modify spark-version to 3.0-preview2 at pom.xml file, then build hudi project source.\r\n> \r\n> Understood... but we would like to avoid this need for building a version of hudi by themselves. Users should be able to do `--packages <hudi-spark-bundle*.jar>` and be on their way.. This change forces everyone who is not on the spark version used by hudi to do their own builds.. I still feel this is not a good idea.\r\n> \r\n> Once again, I wish we can have more upfront discussion on the JIRA, rather than on a PR, around issues like this. (I feel bad when someone puts in the work to do the implementation that we cannot take :()\r\n\r\n+1.  Good catch. @lamber-ken I think Vinoth brings up a valid point. Although your PR intends to make it easier for users to not care about scala 2.11 or scala 2.12, we also need to avoid coupling Hudi with specific spark_avro versions be it 2.4.4 or 3.0-preview2.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582654435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582655960","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-582655960","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":582655960,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjY1NTk2MA==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T23:06:09Z","updated_at":"2020-02-05T23:06:09Z","author_association":"CONTRIBUTOR","body":"Also another thing to consider here, is `spark-avro` module is only used for converting between spark's struct type and avro schema. While all the code for actual conversion of the data, is maintained inside of Hudi.\r\n\r\nI recently fixed an issue with this schema conversion https://github.com/apache/incubator-hudi/pull/1223/files#diff-3c046573a91f36ba0f12dad0e3395dc9R346 where since the way spark-avro 2.4.4 created avro namespaces was different than earlier databricks avro. And this resulted in a change in Hudi's code as well. Considering this, it might be good to actually fix the spark-avro version and relocate it, to avoid customer's running into such issues as this would fix the schema conversion logic being used.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582655960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582661108","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-582661108","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":582661108,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjY2MTEwOA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T23:23:03Z","updated_at":"2020-02-05T23:23:03Z","author_association":"MEMBER","body":"hi @bhasudha, `Spark 3.0.0-preview2` is pre-built with Scala 2.12, user need to build hudi with scala-2.12 first. You can download spark-preview package from [here](https://www.apache.org/dyn/closer.lua/spark/spark-3.0.0-preview2/spark-3.0.0-preview2-bin-hadoop2.7.tgz).\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/73892288-78201080-48b1-11ea-8a68-ff4473640694.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582661108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582663093","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-582663093","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":582663093,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjY2MzA5Mw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T23:30:10Z","updated_at":"2020-02-05T23:30:10Z","author_association":"MEMBER","body":"Hi @vinothchandar @bhasudha @umehrot2, thanks you all talk about this here, I thinks it's a meaningful discusstion. I wrote a email to talk about this, more discussion about this, please using email, thanks. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582663093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582669261","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-582669261","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":582669261,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjY2OTI2MQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T23:53:09Z","updated_at":"2020-02-05T23:54:13Z","author_association":"MEMBER","body":"Hi @vinothchandar, sorry, I didn't know you and @umehrot2 had talked about this before. 😢  \r\nhttps://github.com/apache/incubator-hudi/pull/1005#pullrequestreview-340275874","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582669261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582695979","html_url":"https://github.com/apache/hudi/pull/1305#issuecomment-582695979","issue_url":"https://api.github.com/repos/apache/hudi/issues/1305","id":582695979,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjY5NTk3OQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T01:41:58Z","updated_at":"2020-02-06T01:41:58Z","author_association":"CONTRIBUTOR","body":"> cc @yanghua I actually thought of assigning this to you..to get your take on whether this qualifies as MINOR.. I think it does\r\n\r\n@vinothchandar +1 it does","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582695979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582756949","html_url":"https://github.com/apache/hudi/pull/1232#issuecomment-582756949","issue_url":"https://api.github.com/repos/apache/hudi/issues/1232","id":582756949,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjc1Njk0OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T06:26:12Z","updated_at":"2020-02-06T06:26:12Z","author_association":"MEMBER","body":"I see you want gradle mostly because of jacobo?  Lets hash out the need for bringing in gradle, which seems like an overkill.. \r\nyou can just an extra step in jenkins in a script like this ? https://github.com/rix0rrr/cover2cover (don't know if this specific one works. but you get my general point) .","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582756949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582758667","html_url":"https://github.com/apache/hudi/pull/1289#issuecomment-582758667","issue_url":"https://api.github.com/repos/apache/hudi/issues/1289","id":582758667,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjc1ODY2Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T06:33:08Z","updated_at":"2020-02-06T06:33:08Z","author_association":"MEMBER","body":"@prashantwason this is so awesome! Started reviewing this .. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582758667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582759343","html_url":"https://github.com/apache/hudi/pull/1289#issuecomment-582759343","issue_url":"https://api.github.com/repos/apache/hudi/issues/1289","id":582759343,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjc1OTM0Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T06:35:50Z","updated_at":"2020-02-06T06:36:01Z","author_association":"MEMBER","body":">The unit tests need to be run as follows:\r\n> mvn test -DSPARK_EVLOG_DIR=/path/for/spark/event/log\r\n\r\nlets add this to the README, under a new section `Running Tests` ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582759343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582763965","html_url":"https://github.com/apache/hudi/pull/1308#issuecomment-582763965","issue_url":"https://api.github.com/repos/apache/hudi/issues/1308","id":582763965,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjc2Mzk2NQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T06:55:01Z","updated_at":"2020-02-06T06:55:01Z","author_association":"CONTRIBUTOR","body":"Currently the Hudi partition field is configured using hoodie.datasource.write.partitionpath.field.\r\nIf the content of the partition field is 2020/02/06, we can correctly partition and build the hudi data directory\r\nBut usually the data is not 2020/02/06, but 2020-02-06 15:34:20 (yyyy-MM-dd HH: mm: ss), or other formats, such data format hudi cannot be correct or friendly Create hudu data directory.\r\nTherefore, I want to add the time format configuration of source and tartget in \r\ndfs-source.properties for time conversion.\r\n@vinothchandar \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582763965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582802669","html_url":"https://github.com/apache/hudi/pull/1311#issuecomment-582802669","issue_url":"https://api.github.com/repos/apache/hudi/issues/1311","id":582802669,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjgwMjY2OQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T09:02:17Z","updated_at":"2020-02-06T09:02:17Z","author_association":"CONTRIBUTOR","body":"I cannot find a good way to show these tips. I am open to listening to suggestions.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582802669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582850274","html_url":"https://github.com/apache/hudi/pull/1311#issuecomment-582850274","issue_url":"https://api.github.com/repos/apache/hudi/issues/1311","id":582850274,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjg1MDI3NA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T10:59:23Z","updated_at":"2020-02-06T10:59:23Z","author_association":"CONTRIBUTOR","body":"Looks good overall to me @yanghua, only left minor comments. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/582850274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583249124","html_url":"https://github.com/apache/hudi/pull/1311#issuecomment-583249124","issue_url":"https://api.github.com/repos/apache/hudi/issues/1311","id":583249124,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzI0OTEyNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T06:09:02Z","updated_at":"2020-02-07T06:09:02Z","author_association":"MEMBER","body":"Please go ahead merge when ready @yanghua  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583249124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583253681","html_url":"https://github.com/apache/hudi/pull/1216#issuecomment-583253681","issue_url":"https://api.github.com/repos/apache/hudi/issues/1216","id":583253681,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzI1MzY4MQ==","user":{"login":"liujianhuiouc","id":13215934,"node_id":"MDQ6VXNlcjEzMjE1OTM0","avatar_url":"https://avatars.githubusercontent.com/u/13215934?v=4","gravatar_id":"","url":"https://api.github.com/users/liujianhuiouc","html_url":"https://github.com/liujianhuiouc","followers_url":"https://api.github.com/users/liujianhuiouc/followers","following_url":"https://api.github.com/users/liujianhuiouc/following{/other_user}","gists_url":"https://api.github.com/users/liujianhuiouc/gists{/gist_id}","starred_url":"https://api.github.com/users/liujianhuiouc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujianhuiouc/subscriptions","organizations_url":"https://api.github.com/users/liujianhuiouc/orgs","repos_url":"https://api.github.com/users/liujianhuiouc/repos","events_url":"https://api.github.com/users/liujianhuiouc/events{/privacy}","received_events_url":"https://api.github.com/users/liujianhuiouc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T06:30:12Z","updated_at":"2020-02-07T06:30:12Z","author_association":"NONE","body":"@n3nash  I'm sorry to reply so late,  i have fix that with HoodieWriteStat.NULL_COMMIT","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583253681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583336865","html_url":"https://github.com/apache/hudi/issues/661#issuecomment-583336865","issue_url":"https://api.github.com/repos/apache/hudi/issues/661","id":583336865,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzMzNjg2NQ==","user":{"login":"smdahmed","id":6824174,"node_id":"MDQ6VXNlcjY4MjQxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6824174?v=4","gravatar_id":"","url":"https://api.github.com/users/smdahmed","html_url":"https://github.com/smdahmed","followers_url":"https://api.github.com/users/smdahmed/followers","following_url":"https://api.github.com/users/smdahmed/following{/other_user}","gists_url":"https://api.github.com/users/smdahmed/gists{/gist_id}","starred_url":"https://api.github.com/users/smdahmed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smdahmed/subscriptions","organizations_url":"https://api.github.com/users/smdahmed/orgs","repos_url":"https://api.github.com/users/smdahmed/repos","events_url":"https://api.github.com/users/smdahmed/events{/privacy}","received_events_url":"https://api.github.com/users/smdahmed/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T10:47:36Z","updated_at":"2020-02-07T10:47:36Z","author_association":"NONE","body":"We have used it in Investment Banking area from dev all the way into production. Hudi has been mainly used to build upsertable gas, energy and oil markets data where deals often need to get updated. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583336865/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583710732","html_url":"https://github.com/apache/hudi/pull/1309#issuecomment-583710732","issue_url":"https://api.github.com/repos/apache/hudi/issues/1309","id":583710732,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcxMDczMg==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T07:08:34Z","updated_at":"2020-02-08T07:08:34Z","author_association":"CONTRIBUTOR","body":"@n3nash It's very strange. The travis always fails caused by job log exceed or timeout.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583710732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583715237","html_url":"https://github.com/apache/hudi/pull/1314#issuecomment-583715237","issue_url":"https://api.github.com/repos/apache/hudi/issues/1314","id":583715237,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcxNTIzNw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T08:20:25Z","updated_at":"2020-02-08T08:20:25Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @leesf FYI: new module `hudi-writer-common` on `restructure-hudi-client`.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583715237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583719769","html_url":"https://github.com/apache/hudi/issues/1313#issuecomment-583719769","issue_url":"https://api.github.com/repos/apache/hudi/issues/1313","id":583719769,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcxOTc2OQ==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T09:28:48Z","updated_at":"2020-02-08T09:28:48Z","author_association":"CONTRIBUTOR","body":"@c-f-cooper would you please provide more info?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583719769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583720166","html_url":"https://github.com/apache/hudi/pull/1309#issuecomment-583720166","issue_url":"https://api.github.com/repos/apache/hudi/issues/1309","id":583720166,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcyMDE2Ng==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T09:34:52Z","updated_at":"2020-02-08T09:34:52Z","author_association":"CONTRIBUTOR","body":"> @n3nash It's very strange. The travis always fails caused by job log exceed or timeout.\r\n\r\nSeems like you need cherry-pick some avro related commits from master branch?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583720166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583722209","html_url":"https://github.com/apache/hudi/pull/1309#issuecomment-583722209","issue_url":"https://api.github.com/repos/apache/hudi/issues/1309","id":583722209,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcyMjIwOQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T10:03:12Z","updated_at":"2020-02-08T10:06:57Z","author_association":"CONTRIBUTOR","body":"> > @n3nash It's very strange. The travis always fails caused by job log exceed or timeout.\r\n> \r\n> Seems like you need cherry-pick some avro related commits from master branch?\r\n\r\nWhich commits? It seems I have fixed the avro specific issues. See pr #1297 and after that pr, there are no big changes. However, Travis starts to fail.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583722209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583741643","html_url":"https://github.com/apache/hudi/pull/1200#issuecomment-583741643","issue_url":"https://api.github.com/repos/apache/hudi/issues/1200","id":583741643,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc0MTY0Mw==","user":{"login":"OpenOpened","id":23738217,"node_id":"MDQ6VXNlcjIzNzM4MjE3","avatar_url":"https://avatars.githubusercontent.com/u/23738217?v=4","gravatar_id":"","url":"https://api.github.com/users/OpenOpened","html_url":"https://github.com/OpenOpened","followers_url":"https://api.github.com/users/OpenOpened/followers","following_url":"https://api.github.com/users/OpenOpened/following{/other_user}","gists_url":"https://api.github.com/users/OpenOpened/gists{/gist_id}","starred_url":"https://api.github.com/users/OpenOpened/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OpenOpened/subscriptions","organizations_url":"https://api.github.com/users/OpenOpened/orgs","repos_url":"https://api.github.com/users/OpenOpened/repos","events_url":"https://api.github.com/users/OpenOpened/events{/privacy}","received_events_url":"https://api.github.com/users/OpenOpened/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T14:32:50Z","updated_at":"2020-02-08T14:32:50Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @leesf please review again","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583741643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583845543","html_url":"https://github.com/apache/hudi/pull/1315#issuecomment-583845543","issue_url":"https://api.github.com/repos/apache/hudi/issues/1315","id":583845543,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzg0NTU0Mw==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T13:30:03Z","updated_at":"2020-02-09T13:30:03Z","author_association":"CONTRIBUTOR","body":"Looks much cleaner after change, @nsivabalan would you also please take a look at the travis failure.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583845543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583846298","html_url":"https://github.com/apache/hudi/pull/1200#issuecomment-583846298","issue_url":"https://api.github.com/repos/apache/hudi/issues/1200","id":583846298,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzg0NjI5OA==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T13:37:55Z","updated_at":"2020-02-09T13:37:55Z","author_association":"CONTRIBUTOR","body":"@OpenOpened Only left some minor comments, otherwise looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583846298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583918838","html_url":"https://github.com/apache/hudi/pull/1224#issuecomment-583918838","issue_url":"https://api.github.com/repos/apache/hudi/issues/1224","id":583918838,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkxODgzOA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T01:10:00Z","updated_at":"2020-02-10T01:10:00Z","author_association":"CONTRIBUTOR","body":"Hi @n3nash, Sorry for the delay, I'll fix it soon.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583918838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583936293","html_url":"https://github.com/apache/hudi/pull/1306#issuecomment-583936293","issue_url":"https://api.github.com/repos/apache/hudi/issues/1306","id":583936293,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkzNjI5Mw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T03:03:41Z","updated_at":"2020-02-10T03:03:41Z","author_association":"MEMBER","body":"hi @bhasudha, all review comments are addressed and fixed. :)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583936293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583975092","html_url":"https://github.com/apache/hudi/pull/1314#issuecomment-583975092","issue_url":"https://api.github.com/repos/apache/hudi/issues/1314","id":583975092,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzk3NTA5Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T06:27:47Z","updated_at":"2020-02-10T06:27:47Z","author_association":"MEMBER","body":"@yanghua ack. Do we need a feature branch for this work? can't we do this on master with incremental commits ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/583975092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584014077","html_url":"https://github.com/apache/hudi/pull/1314#issuecomment-584014077","issue_url":"https://api.github.com/repos/apache/hudi/issues/1314","id":584014077,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAxNDA3Nw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T08:43:13Z","updated_at":"2020-02-10T08:43:13Z","author_association":"CONTRIBUTOR","body":"> @yanghua ack. Do we need a feature branch for this work? can't we do this on master with incremental commits\r\n\r\nA new module will be added here. If we copy related class files from `hudi-client` to the new module instead of moving those class files. it can theoretically be completed on the master branch\r\n\r\nHowever, as a relatively large work (we will eventually move some classes in the `hubi-client` to other modules), it will be more reasonable to verify it on an independent branch to see whether those PRs can pass then migrate them to the master branch, which will not affect the master branch.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584014077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584021025","html_url":"https://github.com/apache/hudi/pull/1306#issuecomment-584021025","issue_url":"https://api.github.com/repos/apache/hudi/issues/1306","id":584021025,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAyMTAyNQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T09:02:34Z","updated_at":"2020-02-10T09:02:34Z","author_association":"CONTRIBUTOR","body":"> hi @bhasudha, all review comments are addressed and fixed. :)\r\n\r\nHi @lamber-ken . I am having some doc changes that pertain to cutting 0.5.1 doc version directory.  I ll send those PRs first and later merge this change so that 0.5.1 doc version does not contain newer changes. \r\n\r\nThe changes here looks okay. I am just waiting on those changes first to go in. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584021025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584027626","html_url":"https://github.com/apache/hudi/pull/1306#issuecomment-584027626","issue_url":"https://api.github.com/repos/apache/hudi/issues/1306","id":584027626,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAyNzYyNg==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T09:19:54Z","updated_at":"2020-02-10T09:19:54Z","author_association":"MEMBER","body":"> > hi @bhasudha, all review comments are addressed and fixed. :)\r\n> \r\n> Hi @lamber-ken . I am having some doc changes that pertain to cutting 0.5.1 doc version directory. I ll send those PRs first and later merge this change so that 0.5.1 doc version does not contain newer changes.\r\n> \r\n> The changes here looks okay. I am just waiting on those changes first to go in. Thanks!\r\n\r\nOkay, got. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584027626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584031406","html_url":"https://github.com/apache/hudi/pull/1308#issuecomment-584031406","issue_url":"https://api.github.com/repos/apache/hudi/issues/1308","id":584031406,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAzMTQwNg==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T09:29:05Z","updated_at":"2020-02-10T09:29:05Z","author_association":"CONTRIBUTOR","body":"@vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584031406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584056624","html_url":"https://github.com/apache/hudi/pull/765#issuecomment-584056624","issue_url":"https://api.github.com/repos/apache/hudi/issues/765","id":584056624,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDA1NjYyNA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T10:31:27Z","updated_at":"2020-02-10T10:31:27Z","author_association":"CONTRIBUTOR","body":"@haiminh87 Thank you for submitting this PR. Have left few comments. Apart from them, this PR needs a rebase and it would be great if we could add test cases as well. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584056624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584057017","html_url":"https://github.com/apache/hudi/pull/765#issuecomment-584057017","issue_url":"https://api.github.com/repos/apache/hudi/issues/765","id":584057017,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDA1NzAxNw==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T10:32:24Z","updated_at":"2020-02-10T10:32:24Z","author_association":"CONTRIBUTOR","body":"> cc @pratyakshsharma this has been around for long.. Could you take a look to understand if we still need this and may be retarget this for the next release\r\n\r\n@vinothchandar this is a good feature to have. Have left few comments. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584057017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584778574","html_url":"https://github.com/apache/hudi/pull/1310#issuecomment-584778574","issue_url":"https://api.github.com/repos/apache/hudi/issues/1310","id":584778574,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDc3ODU3NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T18:20:26Z","updated_at":"2020-02-11T18:20:26Z","author_association":"CONTRIBUTOR","body":"@modi95 can you fix the build ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584778574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584901409","html_url":"https://github.com/apache/hudi/pull/1312#issuecomment-584901409","issue_url":"https://api.github.com/repos/apache/hudi/issues/1312","id":584901409,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDkwMTQwOQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T23:04:22Z","updated_at":"2020-02-11T23:04:38Z","author_association":"CONTRIBUTOR","body":"@nbalajee can you review this ? Please ping here once you have approved this diff","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584901409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584901730","html_url":"https://github.com/apache/hudi/pull/1310#issuecomment-584901730","issue_url":"https://api.github.com/repos/apache/hudi/issues/1310","id":584901730,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDkwMTczMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T23:05:07Z","updated_at":"2020-02-11T23:05:07Z","author_association":"CONTRIBUTOR","body":"@prashantwason can you please help review this ? Ping here once you have approved the PR","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584901730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584943521","html_url":"https://github.com/apache/hudi/issues/1322#issuecomment-584943521","issue_url":"https://api.github.com/repos/apache/hudi/issues/1322","id":584943521,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDk0MzUyMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T00:32:45Z","updated_at":"2020-02-12T00:32:45Z","author_association":"MEMBER","body":"I think what @bvaradar meant was `0.4.7`. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584943521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584943656","html_url":"https://github.com/apache/hudi/issues/1322#issuecomment-584943656","issue_url":"https://api.github.com/repos/apache/hudi/issues/1322","id":584943656,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDk0MzY1Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T00:33:01Z","updated_at":"2020-02-12T00:33:01Z","author_association":"MEMBER","body":"Will wait for him to confirm and then update the wiki.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584943656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584950503","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-584950503","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":584950503,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDk1MDUwMw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T00:47:01Z","updated_at":"2020-02-12T00:47:01Z","author_association":"MEMBER","body":"Tip: Run hudi-spark-bundle:0.5.0-incubating, no need with `org.apache.spark:spark-avro_2.11:2.4.4`, it is needed when using hudi-spark-bundle:0.5.1-incubating. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/584950503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585006160","html_url":"https://github.com/apache/hudi/issues/1326#issuecomment-585006160","issue_url":"https://api.github.com/repos/apache/hudi/issues/1326","id":585006160,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTAwNjE2MA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T03:21:19Z","updated_at":"2020-02-12T03:21:19Z","author_association":"MEMBER","body":"Hi @matthewLiem, thanks for report this. Does this issue always happen? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585006160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585012752","html_url":"https://github.com/apache/hudi/issues/1326#issuecomment-585012752","issue_url":"https://api.github.com/repos/apache/hudi/issues/1326","id":585012752,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTAxMjc1Mg==","user":{"login":"matthewLiem","id":8581235,"node_id":"MDQ6VXNlcjg1ODEyMzU=","avatar_url":"https://avatars.githubusercontent.com/u/8581235?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewLiem","html_url":"https://github.com/matthewLiem","followers_url":"https://api.github.com/users/matthewLiem/followers","following_url":"https://api.github.com/users/matthewLiem/following{/other_user}","gists_url":"https://api.github.com/users/matthewLiem/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewLiem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewLiem/subscriptions","organizations_url":"https://api.github.com/users/matthewLiem/orgs","repos_url":"https://api.github.com/users/matthewLiem/repos","events_url":"https://api.github.com/users/matthewLiem/events{/privacy}","received_events_url":"https://api.github.com/users/matthewLiem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T03:43:38Z","updated_at":"2020-02-12T03:43:38Z","author_association":"NONE","body":"yup - it's happening consistently. i've reduced input data to a single file and still seeing error. Also regardless of upsert/delete, i get the error. will see what else i can run to help isolate the issue and try to produce a sample data file for repro","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585012752/reactions","total_count":2,"+1":1,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585013996","html_url":"https://github.com/apache/hudi/issues/1326#issuecomment-585013996","issue_url":"https://api.github.com/repos/apache/hudi/issues/1326","id":585013996,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTAxMzk5Ng==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T03:49:02Z","updated_at":"2020-02-12T03:49:02Z","author_association":"MEMBER","body":"Got it, trying to figure out it. Also, it's nicer if there is a sample data can reproduce this. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585013996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585128793","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-585128793","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":585128793,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTEyODc5Mw==","user":{"login":"adamjoneill","id":2063136,"node_id":"MDQ6VXNlcjIwNjMxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/2063136?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjoneill","html_url":"https://github.com/adamjoneill","followers_url":"https://api.github.com/users/adamjoneill/followers","following_url":"https://api.github.com/users/adamjoneill/following{/other_user}","gists_url":"https://api.github.com/users/adamjoneill/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjoneill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjoneill/subscriptions","organizations_url":"https://api.github.com/users/adamjoneill/orgs","repos_url":"https://api.github.com/users/adamjoneill/repos","events_url":"https://api.github.com/users/adamjoneill/events{/privacy}","received_events_url":"https://api.github.com/users/adamjoneill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T10:05:59Z","updated_at":"2020-02-12T10:07:11Z","author_association":"NONE","body":"thanks @lamber-ken \r\n\r\nI've updated my deploy step to remove all references to org.apache.spark:spark-avro_2.11:2.4.4\r\n```\r\naws emr add-steps --cluster-id j-xxxxxx --steps Type=spark,Name=ScalaStream,Args=[\\\r\n--deploy-mode,cluster,\\\r\n--master,yarn,\\\r\n--jars,\\'/usr/lib/hudi/hudi-spark-bundle.jar,/usr/lib/spark/external/lib/spark-streaming-kinesis-asl-assembly.jar\\',\\\r\n--conf,spark.yarn.submit.waitAppCompletion=false,\\\r\n--conf,yarn.log-aggregation-enable=true,\\\r\n--conf,spark.dynamicAllocation.enabled=true,\\\r\n--conf,spark.cores.max=4,\\\r\n--conf,spark.network.timeout=300,\\\r\n--conf,spark.serializer=org.apache.spark.serializer.KryoSerializer,\\\r\n--conf,spark.sql.hive.convertMetastoreParquet=false,\\\r\n--class,ScalaStream,\\\r\ns3://xxxx.xxxx/simple-project_2.11-1.0.jar\\\r\n],ActionOnFailure=CONTINUE\r\n```\r\n\r\nand i receive the following error, where no hudi file is created for a streaming record\r\n\r\n```\r\n20/02/12 09:56:45 INFO BlockManagerInfo: Removed broadcast_20_piece0 on ip-10-10-10-212.ap-southeast-2.compute.internal:33453 in memory (size: 7.9 KB, free: 2.6 GB)\r\nException in thread \"streaming-job-executor-0\" java.lang.NoClassDefFoundError: org/apache/spark/sql/avro/SchemaConverters$\r\n\tat org.apache.hudi.AvroConversionUtils$.convertStructTypeToAvroSchema(AvroConversionUtils.scala:80)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:81)\r\n\tat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:91)\r\n\tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:45)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:156)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:80)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:80)\r\n\tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.execution.SQLExecution$$anonfun$withNewExecutionId$1.apply(SQLExecution.scala:78)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:125)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:73)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:285)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:271)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:229)\r\n\tat ScalaStream$.handleOrderCreated(stream.scala:39)\r\n\tat ScalaStream$$anonfun$main$1.apply(stream.scala:110)\r\n\tat ScalaStream$$anonfun$main$1.apply(stream.scala:82)\r\n\tat org.apache.spark.streaming.dstream.DStream$$anonfun$foreachRDD$1$$anonfun$apply$mcV$sp$3.apply(DStream.scala:628)\r\n\tat org.apache.spark.streaming.dstream.DStream$$anonfun$foreachRDD$1$$anonfun$apply$mcV$sp$3.apply(DStream.scala:628)\r\n\tat org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(ForEachDStream.scala:51)\r\n\tat org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(ForEachDStream.scala:51)\r\n\tat org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(ForEachDStream.scala:51)\r\n\tat org.apache.spark.streaming.dstream.DStream.createRDDWithLocalProperties(DStream.scala:416)\r\n\tat org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1.apply$mcV$sp(ForEachDStream.scala:50)\r\n\tat org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1.apply(ForEachDStream.scala:50)\r\n\tat org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1.apply(ForEachDStream.scala:50)\r\n\tat scala.util.Try$.apply(Try.scala:192)\r\n\tat org.apache.spark.streaming.scheduler.Job.run(Job.scala:39)\r\n\tat org.apache.spark.streaming.scheduler.JobScheduler$JobHandler$$anonfun$run$1.apply$mcV$sp(JobScheduler.scala:257)\r\n\tat org.apache.spark.streaming.scheduler.JobScheduler$JobHandler$$anonfun$run$1.apply(JobScheduler.scala:257)\r\n\tat org.apache.spark.streaming.scheduler.JobScheduler$JobHandler$$anonfun$run$1.apply(JobScheduler.scala:257)\r\n\tat scala.util.DynamicVariable.withValue(DynamicVariable.scala:58)\r\n\tat org.apache.spark.streaming.scheduler.JobScheduler$JobHandler.run(JobScheduler.scala:256)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.sql.avro.SchemaConverters$\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 46 more\r\n```\r\n\r\nif i add the arvo dependency as a jar, rather than a package as above, the hudi directory and meta data is created, but no data is saved. ie missing the default directory i was expecting \r\n\r\nmissing default directory\r\n![image](https://user-images.githubusercontent.com/2063136/74324322-c8e6ac00-4d7e-11ea-9647-2a830c1b5b5b.png)\r\n\r\nwhat usually appears when i include `--package org.apache.spark:spark-avro_2.11:2.4.4`\r\n![image](https://user-images.githubusercontent.com/2063136/74324446-f59ac380-4d7e-11ea-93cf-b118c4a0f6c7.png)\r\n\r\ni notice the AWS blog post that has an example app running through the spark-shell uses the command line arguments\r\n\r\n`spark-shell --conf \"spark.serializer=org.apache.spark.serializer.KryoSerializer\" --conf \"spark.sql.hive.convertMetastoreParquet=false\" --jars /usr/lib/hudi/hudi-spark-bundle.jar,/usr/lib/spark/external/lib/spark-avro.jar`\r\n\r\n(from https://aws.amazon.com/blogs/aws/new-insert-update-delete-data-on-s3-with-amazon-emr-and-apache-hudi/)\r\n\r\nwhich i've tried to replicate in my application\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585128793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585147638","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-585147638","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":585147638,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTE0NzYzOA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T10:51:04Z","updated_at":"2020-02-12T10:51:04Z","author_association":"MEMBER","body":"I guess you used `release-0.5.1` or master branch.\r\n\r\n`release-0.5.0` use `com.databricks.spark.avro.SchemaConverters`.\r\n`release-0.5.1` use `org.apache.spark.sql.avro.SchemaConverters`.\r\n\r\nSource Code: \r\nhttps://github.com/apache/incubator-hudi/blob/release-0.5.0/hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala\r\n\r\nhttps://github.com/apache/incubator-hudi/blob/release-0.5.1/hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585147638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585338502","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-585338502","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":585338502,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTMzODUwMg==","user":{"login":"adamjoneill","id":2063136,"node_id":"MDQ6VXNlcjIwNjMxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/2063136?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjoneill","html_url":"https://github.com/adamjoneill","followers_url":"https://api.github.com/users/adamjoneill/followers","following_url":"https://api.github.com/users/adamjoneill/following{/other_user}","gists_url":"https://api.github.com/users/adamjoneill/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjoneill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjoneill/subscriptions","organizations_url":"https://api.github.com/users/adamjoneill/orgs","repos_url":"https://api.github.com/users/adamjoneill/repos","events_url":"https://api.github.com/users/adamjoneill/events{/privacy}","received_events_url":"https://api.github.com/users/adamjoneill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T18:05:43Z","updated_at":"2020-02-13T07:11:53Z","author_association":"NONE","body":"i've managed to narrow down the issue to the data that is coming off the kinesis stream.\r\n\r\nwhen i replace the data from the stream with some test data as follows\r\n\r\nwith the following code:\r\n\r\n```\r\n         if (!rdd.isEmpty()){\r\n                val json = rdd.map(record=>new String(record))\r\n                val dataFrame = spark.read.json(json)\r\n                dataFrame.printSchema();\r\n                dataFrame.show();\r\n            \r\n\r\n        val hudiTableName = \"order\"\r\n        val hudiTablePath = path + hudiTableName\r\n\r\n        val hudiOptions = Map[String,String](\r\n            DataSourceWriteOptions.RECORDKEY_FIELD_OPT_KEY -> \"id\",\r\n            HoodieWriteConfig.TABLE_NAME -> hudiTableName, \r\n            DataSourceWriteOptions.OPERATION_OPT_KEY -> DataSourceWriteOptions.INSERT_OPERATION_OPT_VAL, \r\n            DataSourceWriteOptions.PRECOMBINE_FIELD_OPT_KEY -> \"id\")\r\n\r\n        // Write data into the Hudi dataset\r\n  dataFrame.write.format(\"org.apache.hudi\").options(hudiOptions).mode(SaveMode.Overwrite).save(hudiTablePath)\r\n}\r\n```\r\n\r\ni replaced\r\n\r\n```\r\n     val dataFrame = spark.read.json(json)\r\n```\r\n\r\nwith\r\n\r\n```\r\n    val dataFrame = sparkContext.parallelize(Seq(Foo(1, Bar(1, \"first\")), Foo(2, Bar(2, \"second\")))).toDF()\r\n```\r\n\r\nand the `select * from table` worked as well as nested query `select id, bar.id, bar.name from table`\r\n\r\nSo at this stage it's looking like there's an issue with the data and how it's coming off the kinesis stream\r\n\r\nUpdate:\r\nI've pasted the data using `dataFrame.show()` from the rdd off the stream here:\r\n```\r\n+--------+-------+--------------------+--------+--------------------+-------------+\r\n|clientId|eventId|      eventTimestamp|      id|               order|  typeOfEvent|\r\n+--------+-------+--------------------+--------+--------------------+-------------+\r\n|     369| 115423|2020-02-12T15:54:...|34551840|[External, [[Aust...|order-created|\r\n+--------+-------+--------------------+--------+--------------------+-------------+\r\n```\r\nTaking the data off the stream but ignoring the nested column 'order' and the `select * from table` query works.\r\n```\r\nval jsonFrame = spark.read.json(json)\r\nval dataFrame = jsonFrame.select(\"clientid\", \"eventId\", \"id\", \"typeOfEvent\")\r\n```\r\n\r\nOther than being nested, is there something about the order column that would make this happen?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585338502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585357996","html_url":"https://github.com/apache/hudi/issues/1324#issuecomment-585357996","issue_url":"https://api.github.com/repos/apache/hudi/issues/1324","id":585357996,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTM1Nzk5Ng==","user":{"login":"adamjoneill","id":2063136,"node_id":"MDQ6VXNlcjIwNjMxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/2063136?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjoneill","html_url":"https://github.com/adamjoneill","followers_url":"https://api.github.com/users/adamjoneill/followers","following_url":"https://api.github.com/users/adamjoneill/following{/other_user}","gists_url":"https://api.github.com/users/adamjoneill/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjoneill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjoneill/subscriptions","organizations_url":"https://api.github.com/users/adamjoneill/orgs","repos_url":"https://api.github.com/users/adamjoneill/repos","events_url":"https://api.github.com/users/adamjoneill/events{/privacy}","received_events_url":"https://api.github.com/users/adamjoneill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T18:45:29Z","updated_at":"2020-02-12T18:45:29Z","author_association":"NONE","body":"i'll close this, i believe to be related to https://github.com/apache/incubator-hudi/issues/1325","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585357996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585358877","html_url":"https://github.com/apache/hudi/pull/1216#issuecomment-585358877","issue_url":"https://api.github.com/repos/apache/hudi/issues/1216","id":585358877,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTM1ODg3Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T18:47:35Z","updated_at":"2020-02-12T18:47:35Z","author_association":"CONTRIBUTOR","body":"@liujianhuiouc on second thoughts, do you have a definite use case for knowing the number of inserts during a failed write ? Since there are no fileIds, this information is actually use-less to Hudi - this intermediate commit metadata is meant for use internally by Hudi and not by external consumers so don't see the value in this. WDYT ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585358877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585385524","html_url":"https://github.com/apache/hudi/pull/1318#issuecomment-585385524","issue_url":"https://api.github.com/repos/apache/hudi/issues/1318","id":585385524,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTM4NTUyNA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T19:48:49Z","updated_at":"2020-02-12T19:48:49Z","author_association":"MEMBER","body":"@n3nash addressed comments. Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585385524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585392157","html_url":"https://github.com/apache/hudi/pull/1309#issuecomment-585392157","issue_url":"https://api.github.com/repos/apache/hudi/issues/1309","id":585392157,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTM5MjE1Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T20:02:40Z","updated_at":"2020-02-12T20:02:40Z","author_association":"CONTRIBUTOR","body":"Retriggered the build, it passes, i think there is still some flakiness in the build, lets investigate that separately","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585392157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585398180","html_url":"https://github.com/apache/hudi/pull/1320#issuecomment-585398180","issue_url":"https://api.github.com/repos/apache/hudi/issues/1320","id":585398180,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTM5ODE4MA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T20:18:11Z","updated_at":"2020-02-12T20:18:11Z","author_association":"MEMBER","body":"@n3nash thanks. looks like this may need some more discussion. Take a look at my reply and let me know what you think.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585398180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585444365","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-585444365","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":585444365,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTQ0NDM2NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T22:13:19Z","updated_at":"2020-02-12T22:13:19Z","author_association":"CONTRIBUTOR","body":"@yanghua merged the pom PR, can you rebase this so we can merge this PR ? I think we have gone through it multiple times, let's have the first version committed so we can come up with more action items around this ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585444365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585446206","html_url":"https://github.com/apache/hudi/issues/1326#issuecomment-585446206","issue_url":"https://api.github.com/repos/apache/hudi/issues/1326","id":585446206,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTQ0NjIwNg==","user":{"login":"matthewLiem","id":8581235,"node_id":"MDQ6VXNlcjg1ODEyMzU=","avatar_url":"https://avatars.githubusercontent.com/u/8581235?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewLiem","html_url":"https://github.com/matthewLiem","followers_url":"https://api.github.com/users/matthewLiem/followers","following_url":"https://api.github.com/users/matthewLiem/following{/other_user}","gists_url":"https://api.github.com/users/matthewLiem/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewLiem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewLiem/subscriptions","organizations_url":"https://api.github.com/users/matthewLiem/orgs","repos_url":"https://api.github.com/users/matthewLiem/repos","events_url":"https://api.github.com/users/matthewLiem/events{/privacy}","received_events_url":"https://api.github.com/users/matthewLiem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T22:18:07Z","updated_at":"2020-02-12T22:18:07Z","author_association":"NONE","body":"Thanks for the help @lamber-ken. The issue was due to a mismatch in data types between the hudi table and the DF we're looking to UPSERT. Casting properly and ensuring schema matched types across both resolved the issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585446206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585471970","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-585471970","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":585471970,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTQ3MTk3MA==","user":{"login":"bwu2","id":14202231,"node_id":"MDQ6VXNlcjE0MjAyMjMx","avatar_url":"https://avatars.githubusercontent.com/u/14202231?v=4","gravatar_id":"","url":"https://api.github.com/users/bwu2","html_url":"https://github.com/bwu2","followers_url":"https://api.github.com/users/bwu2/followers","following_url":"https://api.github.com/users/bwu2/following{/other_user}","gists_url":"https://api.github.com/users/bwu2/gists{/gist_id}","starred_url":"https://api.github.com/users/bwu2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwu2/subscriptions","organizations_url":"https://api.github.com/users/bwu2/orgs","repos_url":"https://api.github.com/users/bwu2/repos","events_url":"https://api.github.com/users/bwu2/events{/privacy}","received_events_url":"https://api.github.com/users/bwu2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T23:33:42Z","updated_at":"2020-02-13T00:01:16Z","author_association":"NONE","body":"An update on this: the job did eventually complete. But took 2.4 hours (other similar jobs ran more than 9 hours before we had to kill them). This doesn't seem reasonable for such a small table. \r\n\r\nAlso, i changed the bulk insert parallelism from 1 to 2 (and doubled the data size) and the problem still existed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585471970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585482228","html_url":"https://github.com/apache/hudi/issues/1326#issuecomment-585482228","issue_url":"https://api.github.com/repos/apache/hudi/issues/1326","id":585482228,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTQ4MjIyOA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T00:09:30Z","updated_at":"2020-02-13T00:09:30Z","author_association":"MEMBER","body":"@matthewLiem welcome :)\r\n\r\n**Record some  notes:**\r\n\r\nChange `lit(123456)` to `lit(123456L)`\r\n\r\n```\r\nval updateDF = inputDF.withColumn(\"run_detail_id\", lit(123456))\r\n```\r\n\r\nReproduce steps:\r\n```\r\nimport org.apache.spark.sql.functions._\r\nimport org.apache.spark.sql.SparkSession\r\n\r\nval inputDataPath = \"file:///tmp/test/ttt/*\"\r\nval hudiTableName = \"hudi_identity\"\r\nval hudiTablePath = \"file:///tmp/test/nnn\"\r\n\r\nval hudiOptions = Map[String,String](\r\n    \"hoodie.datasource.write.recordkey.field\" -> \"auth_id\",\r\n    \"hoodie.table.name\" -> hudiTableName, \r\n    \"hoodie.datasource.write.precombine.field\" -> \"last_mod_time\")\r\n\r\n// create\r\nval inputDF = spark.read.format(\"parquet\").load(inputDataPath)\r\ninputDF.write.format(\"org.apache.hudi\").options(hudiOptions).mode(\"Overwrite\").save(hudiTablePath)    \r\n\r\n// update\r\nval inputDF = spark.read.format(\"parquet\").load(inputDataPath)\r\nval updateDF = inputDF.withColumn(\"run_detail_id\", lit(123456))\r\nupdateDF.write.format(\"org.apache.hudi\").options(hudiOptions).mode(\"Append\").save(hudiTablePath)\r\n```\r\n\r\n[data.parquet.zip](https://github.com/apache/incubator-hudi/files/4195852/data.parquet.zip)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585482228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585487391","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-585487391","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":585487391,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTQ4NzM5MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T00:28:44Z","updated_at":"2020-02-13T00:28:44Z","author_association":"MEMBER","body":"@n3nash @yanghua once ready, please open a PR against master.. Love to do one final review before merging.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585487391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585487447","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-585487447","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":585487447,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTQ4NzQ0Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T00:29:00Z","updated_at":"2020-02-13T00:29:00Z","author_association":"MEMBER","body":"Or is it this PR? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585487447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585503340","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-585503340","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":585503340,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTUwMzM0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T01:27:16Z","updated_at":"2020-02-13T01:28:14Z","author_association":"MEMBER","body":"Reposting my response here.. \r\n\r\nThere seems to be a lot of common concerns here.. https://cwiki.apache.org/confluence/display/HUDI/Tuning+Guide is an useful resource, that hopefully can benefit here..\r\n\r\nFew high level thoughts:\r\n- It would be good to layout if the most time spent is on the indexing stages (ones tagged with HoodieBloomIndex) or the actual writing.. \r\n- Hudi does keep the input in memory to compute the stats it needs to size files. So if you don't provide sufficient executore/rdd storage memory, it will spill and can cause slowdowns.. (covered in tuning guide & have seen this happen with users often)\r\n- On workload pattern itself, BloomIndex range pruning can be turned off https://hudi.apache.org/docs/configurations.html#bloomIndexPruneByRanges if the keys ranges are random anyway.. Generally speaking, unless we have RFC-8 (record level indexing), cases of random write/upserting majority of the rows in a table, may give bloom index overhead, since the bloom filters/ranges are not at all useful in pruning out files . We have an interim solution coming out in the next release.. falling back to plain old join to implement the indexing. \r\n- In terms or MOR and COW, MOR will help only if you have lots of updates and bottleneck is on the writing.. \r\n- If listing is an issue, please turn the following so the table is listed once and we re-use the filesytem metadata hoodie.embed.timeline.server=true\r\n\r\nI would appreciate a JIRA, so that I can break each into sub-task and tackle/resolve independently..\r\n\r\n\r\nI am personally focussing on performance now and want to make it lot faster in 0.6.0 release. So all this help would be deeply appreciated","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585503340/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585504364","html_url":"https://github.com/apache/hudi/issues/1329#issuecomment-585504364","issue_url":"https://api.github.com/repos/apache/hudi/issues/1329","id":585504364,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTUwNDM2NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T01:31:11Z","updated_at":"2020-02-13T01:31:11Z","author_association":"MEMBER","body":"@bhasudha can you please help out here","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585504364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585504515","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-585504515","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":585504515,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTUwNDUxNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T01:31:42Z","updated_at":"2020-02-13T01:31:42Z","author_association":"MEMBER","body":"cc @bhasudha as well ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585504515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585512613","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-585512613","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":585512613,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTUxMjYxMw==","user":{"login":"bwu2","id":14202231,"node_id":"MDQ6VXNlcjE0MjAyMjMx","avatar_url":"https://avatars.githubusercontent.com/u/14202231?v=4","gravatar_id":"","url":"https://api.github.com/users/bwu2","html_url":"https://github.com/bwu2","followers_url":"https://api.github.com/users/bwu2/followers","following_url":"https://api.github.com/users/bwu2/following{/other_user}","gists_url":"https://api.github.com/users/bwu2/gists{/gist_id}","starred_url":"https://api.github.com/users/bwu2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwu2/subscriptions","organizations_url":"https://api.github.com/users/bwu2/orgs","repos_url":"https://api.github.com/users/bwu2/repos","events_url":"https://api.github.com/users/bwu2/events{/privacy}","received_events_url":"https://api.github.com/users/bwu2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T02:05:08Z","updated_at":"2020-02-13T02:13:31Z","author_association":"NONE","body":"@vinothchandar Thanks for taking the time to reply!\r\n\r\nLet me describe the simplest example of this problem on a tiny COW data set: Create a data frame with 4m rows and one column with values 1, 2, 3....4m in that column. Bulk insert that into Hudi (using the one column as the `recordkey`). This takes ~1 minute to run and the data size is about 30MB. Now upsert the same data frame into the existing table. This take >2 hours to run.\r\n\r\nAlternatively, if we upsert a new data frame into the existing table with values 4000001...8m (still 4m rows upserted), this takes ~1 minute to run.\r\n\r\nTo answer your other queries: \r\n* almost all of the time is spent in the  `HoodieSparkSqlWriter` job (and within that job, the `count at HoodieSparkSqlWriter.scala` stage (the `HoodieBloomIndex` jobs run quickly).\r\n* it seems highly unlikely to be resource constraint issue with such a small example.\r\n\r\nShall i raise a JIRA for this? Or is this the expected behavior for such a workload?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585512613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585519006","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-585519006","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":585519006,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTUxOTAwNg==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T02:31:19Z","updated_at":"2020-02-13T02:31:19Z","author_association":"CONTRIBUTOR","body":"> @yanghua merged the pom PR, can you rebase this so we can merge this PR ? I think we have gone through it multiple times, let's have the first version committed so we can come up with more action items around this\r\n\r\nOK, will rebase with the master branch.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585519006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585522237","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-585522237","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":585522237,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTUyMjIzNw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T02:45:06Z","updated_at":"2020-02-13T02:45:06Z","author_association":"CONTRIBUTOR","body":"> Or is it this PR?\r\n\r\nYes","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585522237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585528405","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-585528405","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":585528405,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTUyODQwNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T03:12:14Z","updated_at":"2020-02-13T03:12:14Z","author_association":"MEMBER","body":"sg. In that case, I would like to re-ask my intiial questions again.. How have we validated the framework? are there real tests now? How/when are they run? :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585528405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585549211","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-585549211","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":585549211,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTU0OTIxMQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T04:51:02Z","updated_at":"2020-02-13T04:51:02Z","author_association":"CONTRIBUTOR","body":"> sg. In that case, I would like to re-ask my intiial questions again.. How have we validated the framework? are there real tests now? How/when are they run? :)\r\n\r\nIn my opinion, we will trigger it with [azure-pipelines](https://github.com/apachehudi-ci/incubator-hudi/blob/master/azure-pipelines.yml) after it merges into master branch.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585549211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585748045","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-585748045","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":585748045,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTc0ODA0NQ==","user":{"login":"adamjoneill","id":2063136,"node_id":"MDQ6VXNlcjIwNjMxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/2063136?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjoneill","html_url":"https://github.com/adamjoneill","followers_url":"https://api.github.com/users/adamjoneill/followers","following_url":"https://api.github.com/users/adamjoneill/following{/other_user}","gists_url":"https://api.github.com/users/adamjoneill/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjoneill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjoneill/subscriptions","organizations_url":"https://api.github.com/users/adamjoneill/orgs","repos_url":"https://api.github.com/users/adamjoneill/repos","events_url":"https://api.github.com/users/adamjoneill/events{/privacy}","received_events_url":"https://api.github.com/users/adamjoneill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T13:13:49Z","updated_at":"2020-02-13T13:41:35Z","author_association":"NONE","body":"Futher update\r\nI've narrowed it down to the array on the nested object. \r\n\r\nThe following works when i place the following object on the kinesis stream\r\n\r\n```\r\nconst valueToUse = {\r\n      ...order,\r\n      tickets: {\r\n        items: [],\r\n      },\r\n    };\r\n```\r\n\r\nbut when placed on the kinesis stream with an object in the array it fails\r\n\r\n```\r\nconst valueToUse = {\r\n      ...order,\r\n      tickets: {\r\n        items: [\r\n          {\r\n            ticketType: {\r\n              id: 258815,\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    };\r\n```\r\n\r\nerror message and stack trace when running `select * from table`\r\n\r\n```\r\nQuery 20200213_131029_00032_hej8h failed: No value present\r\njava.util.NoSuchElementException: No value present\r\n\tat java.util.Optional.get(Optional.java:135)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readArray(ParquetReader.java:156)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readColumnChunk(ParquetReader.java:282)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readStruct(ParquetReader.java:193)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readColumnChunk(ParquetReader.java:276)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readStruct(ParquetReader.java:193)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readColumnChunk(ParquetReader.java:276)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readStruct(ParquetReader.java:193)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readColumnChunk(ParquetReader.java:276)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readBlock(ParquetReader.java:268)\r\n\tat com.facebook.presto.hive.parquet.ParquetPageSource$ParquetBlockLoader.load(ParquetPageSource.java:247)\r\n\tat com.facebook.presto.hive.parquet.ParquetPageSource$ParquetBlockLoader.load(ParquetPageSource.java:225)\r\n\tat com.facebook.presto.spi.block.LazyBlock.assureLoaded(LazyBlock.java:283)\r\n\tat com.facebook.presto.spi.block.LazyBlock.getLoadedBlock(LazyBlock.java:274)\r\n\tat com.facebook.presto.spi.Page.getLoadedPage(Page.java:261)\r\n\tat com.facebook.presto.operator.TableScanOperator.getOutput(TableScanOperator.java:254)\r\n\tat com.facebook.presto.operator.Driver.processInternal(Driver.java:379)\r\n\tat com.facebook.presto.operator.Driver.lambda$processFor$8(Driver.java:283)\r\n\tat com.facebook.presto.operator.Driver.tryWithLock(Driver.java:675)\r\n\tat com.facebook.presto.operator.Driver.processFor(Driver.java:276)\r\n\tat com.facebook.presto.execution.SqlTaskExecution$DriverSplitRunner.processFor(SqlTaskExecution.java:1077)\r\n\tat com.facebook.presto.execution.executor.PrioritizedSplitRunner.process(PrioritizedSplitRunner.java:162)\r\n\tat com.facebook.presto.execution.executor.TaskExecutor$TaskRunner.run(TaskExecutor.java:483)\r\n\tat com.facebook.presto.$gen.Presto_0_227____20200211_134743_1.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585748045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585777129","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-585777129","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":585777129,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTc3NzEyOQ==","user":{"login":"adamjoneill","id":2063136,"node_id":"MDQ6VXNlcjIwNjMxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/2063136?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjoneill","html_url":"https://github.com/adamjoneill","followers_url":"https://api.github.com/users/adamjoneill/followers","following_url":"https://api.github.com/users/adamjoneill/following{/other_user}","gists_url":"https://api.github.com/users/adamjoneill/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjoneill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjoneill/subscriptions","organizations_url":"https://api.github.com/users/adamjoneill/orgs","repos_url":"https://api.github.com/users/adamjoneill/repos","events_url":"https://api.github.com/users/adamjoneill/events{/privacy}","received_events_url":"https://api.github.com/users/adamjoneill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T14:19:45Z","updated_at":"2020-02-13T14:59:03Z","author_association":"NONE","body":"Had some success, if i added a property to the object of simple type ie. not a nested object hudi saves the parquet and the presto query (select * and nested) appear to work.\r\n\r\n```\r\nconst valueToUse = {\r\n      ...order,\r\n      tickets: {\r\n        items: [\r\n          {\r\n            dummyId: 2, // <-- added this property\r\n            ticketType: {\r\n              id: 258815,\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    };\r\n```\r\n\r\n\r\nJust to be sure, i saved the rdd to parquet using\r\n\r\n```\r\ndataFrame.withColumn(\"year\", year(col(\"eventTimestamp\")))\r\n                        .withColumn(\"month\", month(col(\"eventTimestamp\")))\r\n                        .withColumn(\"day\", dayofmonth(col(\"eventTimestamp\")))\r\n                        .write\r\n                        .mode(SaveMode.Append)\r\n                        .partitionBy(typeOfEventColumnName, \"year\", \"month\", \"day\")\r\n                        .parquet(rawOutPath)\r\n```\r\n\r\nhad AWS glue crawl over it to create a table. Then ran a query in presto against the table  and `select * from table` worked fine, whereas on the hudi parquet it failed ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585777129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585910315","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-585910315","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":585910315,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTkxMDMxNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T18:45:40Z","updated_at":"2020-02-13T18:45:40Z","author_association":"MEMBER","body":">How have we validated the framework? are there real tests now? \r\n\r\nCan you also please answer these?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585910315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585917397","html_url":"https://github.com/apache/hudi/pull/1314#issuecomment-585917397","issue_url":"https://api.github.com/repos/apache/hudi/issues/1314","id":585917397,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTkxNzM5Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T18:56:24Z","updated_at":"2020-02-13T18:56:24Z","author_association":"MEMBER","body":"@yanghua as I also mentioned on the JIRA. What you suggest makes sense when we are in the phase of separating hudi-spark and hudi-writer-common.. This model also makes for us to take the hit of rebasing, without thrashing all existing PRs. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585917397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585920479","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-585920479","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":585920479,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTkyMDQ3OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T19:02:52Z","updated_at":"2020-02-13T19:02:52Z","author_association":"MEMBER","body":"@adamjoneill I am wondering if this is simply a presto issue.. Hudi/Presto integration leaves all of the query planning and parquet reading to Presto itself..  Do you suspect , it is due to the way Hudi writes the parquet data?  I have seen tons of nested data being queries successfully using hudi and presto, so trying to understand.. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585920479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585932919","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-585932919","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":585932919,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTkzMjkxOQ==","user":{"login":"adamjoneill","id":2063136,"node_id":"MDQ6VXNlcjIwNjMxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/2063136?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjoneill","html_url":"https://github.com/adamjoneill","followers_url":"https://api.github.com/users/adamjoneill/followers","following_url":"https://api.github.com/users/adamjoneill/following{/other_user}","gists_url":"https://api.github.com/users/adamjoneill/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjoneill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjoneill/subscriptions","organizations_url":"https://api.github.com/users/adamjoneill/orgs","repos_url":"https://api.github.com/users/adamjoneill/repos","events_url":"https://api.github.com/users/adamjoneill/events{/privacy}","received_events_url":"https://api.github.com/users/adamjoneill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T19:31:36Z","updated_at":"2020-02-13T19:31:36Z","author_association":"NONE","body":"@vinothchandar from my investigation above it would suggest it to be how hudi writes parquet data. \r\n\r\nWhilst limited in its scope, and many moving parts, my investigation involved \r\n\r\n1. taking a record that includes an array of complex objects (no primitive or \"simple\" types belong to the array item object) off the kinesis stream\r\n2. saving it to parquet in S3 using the dataFrame API\r\n3. then using the same record, save it using hudi to S3 \r\n4. AWS Glue crawls over these files, creates database and tables\r\n5. presto query `select * from table` against hudi parquet file fails\r\n6. presto query `select * from table` spark api file succeeds\r\n\r\nI agree it does seem strange and the stack trace does point to a presto issue with reading the array. Unfortunately I'm not 100% across the project to know where to begin debugging the issue. What can I do to find out further?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585932919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585991857","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-585991857","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":585991857,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTk5MTg1Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T21:57:39Z","updated_at":"2020-02-13T21:57:39Z","author_association":"MEMBER","body":"There must be something else going on.. just used my own benchmark jobs to generate a pattern where the records are fully overwritten in a second (and a third) batch and it actually finishes fine.. \r\n\r\n```\r\nhudi:hoodie_benchmark->connect --path file:///tmp/hudi-benchmark/output/org.apache.hudi\r\n35394 [Spring Shell] INFO  org.apache.hudi.common.table.HoodieTableMetaClient  - Loading HoodieTableMetaClient from file:///tmp/hudi-benchmark/output/org.apache.hudi\r\n35415 [Spring Shell] INFO  org.apache.hudi.common.util.FSUtils  - Hadoop Configuration: fs.defaultFS: [file:///], Config:[Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml, yarn-default.xml, yarn-site.xml, hdfs-default.xml, hdfs-site.xml], FileSystem: [org.apache.hadoop.fs.LocalFileSystem@6851d345]\r\n35416 [Spring Shell] INFO  org.apache.hudi.common.table.HoodieTableConfig  - Loading table properties from file:/tmp/hudi-benchmark/output/org.apache.hudi/.hoodie/hoodie.properties\r\n35416 [Spring Shell] INFO  org.apache.hudi.common.table.HoodieTableMetaClient  - Finished Loading Table of type COPY_ON_WRITE(version=1) from file:///tmp/hudi-benchmark/output/org.apache.hudi\r\nMetadata for table hoodie_benchmark loaded\r\nhudi:hoodie_benchmark->commits show \r\n36774 [Spring Shell] INFO  org.apache.hudi.common.table.timeline.HoodieActiveTimeline  - Loaded instants [[20200213134159__clean__COMPLETED], [20200213134159__commit__COMPLETED], [20200213134410__clean__COMPLETED], [20200213134410__commit__COMPLETED], [20200213134548__clean__COMPLETED], [20200213134548__commit__COMPLETED]]\r\n╔════════════════╤═════════════════════╤═══════════════════╤═════════════════════╤══════════════════════════╤═══════════════════════╤══════════════════════════════╤══════════════╗\r\n║ CommitTime     │ Total Bytes Written │ Total Files Added │ Total Files Updated │ Total Partitions Written │ Total Records Written │ Total Update Records Written │ Total Errors ║\r\n╠════════════════╪═════════════════════╪═══════════════════╪═════════════════════╪══════════════════════════╪═══════════════════════╪══════════════════════════════╪══════════════╣\r\n║ 20200213134548 │ 384.8 MB            │ 0                 │ 34                  │ 3                        │ 4080024               │ 1211376                      │ 0            ║\r\n╟────────────────┼─────────────────────┼───────────────────┼─────────────────────┼──────────────────────────┼───────────────────────┼──────────────────────────────┼──────────────╢\r\n║ 20200213134410 │ 379.9 MB            │ 0                 │ 34                  │ 3                        │ 4040016               │ 1199234                      │ 0            ║\r\n╟────────────────┼─────────────────────┼───────────────────┼─────────────────────┼──────────────────────────┼───────────────────────┼──────────────────────────────┼──────────────╢\r\n║ 20200213134159 │ 374.8 MB            │ 34                │ 0                   │ 3                        │ 4000008               │ 0                            │ 0            ║\r\n╚════════════════╧═════════════════════╧═══════════════════╧═════════════════════╧══════════════════════════╧═══════════════════════╧══════════════════════════════╧══════════════╝\r\n\r\nhudi:hoodie_benchmark->\r\n```\r\n\r\nand the times below in ms\r\n\r\n```\r\n grep -n -e totalCreateTime -e totalUpsertTime  /tmp/hudi-benchmark/output/org.apache.hudi/.hoodie/*.commit \r\n/tmp/hudi-benchmark/output/org.apache.hudi/.hoodie/20200213134159.commit:697:  \"totalCreateTime\" : 195060,\r\n/tmp/hudi-benchmark/output/org.apache.hudi/.hoodie/20200213134159.commit:698:  \"totalUpsertTime\" : 0,\r\n/tmp/hudi-benchmark/output/org.apache.hudi/.hoodie/20200213134410.commit:697:  \"totalCreateTime\" : 0,\r\n/tmp/hudi-benchmark/output/org.apache.hudi/.hoodie/20200213134410.commit:698:  \"totalUpsertTime\" : 193693,\r\n/tmp/hudi-benchmark/output/org.apache.hudi/.hoodie/20200213134548.commit:697:  \"totalCreateTime\" : 0,\r\n/tmp/hudi-benchmark/output/org.apache.hudi/.hoodie/20200213134548.commit:698:  \"totalUpsertTime\" : 182277,\r\n```\r\n\r\n\r\nCan we drill into your dataset?  are you generating tons of files due to granular partitionining? can you share the spark UI and the hudi cli output like above?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585991857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585993053","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-585993053","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":585993053,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTk5MzA1Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T22:00:42Z","updated_at":"2020-02-13T22:00:42Z","author_association":"MEMBER","body":"@adamjoneill Hmmm. this is surprising.. \r\n\r\n- Does a `select * from table` on hudi table work using spark sql?  could you give this a shot (trying to narrow this down)\r\n- Are you able to provide a simple reproducible use-case using spark.parallelize() as you were trying before. \r\n\r\nI can then take a deeper look.. @bhasudha please chime in as well","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/585993053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586032324","html_url":"https://github.com/apache/hudi/pull/1333#issuecomment-586032324","issue_url":"https://api.github.com/repos/apache/hudi/issues/1333","id":586032324,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjAzMjMyNA==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T00:03:38Z","updated_at":"2020-02-14T00:03:38Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @leesf Attaching screenshot pdf here for look and feel [Querying Hudi Tables - Apache Hudi.pdf](https://github.com/apache/incubator-hudi/files/4202018/Querying.Hudi.Tables.-.Apache.Hudi.pdf)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586032324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586033608","html_url":"https://github.com/apache/hudi/pull/1316#issuecomment-586033608","issue_url":"https://api.github.com/repos/apache/hudi/issues/1316","id":586033608,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjAzMzYwOA==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T00:08:09Z","updated_at":"2020-02-14T00:08:09Z","author_association":"CONTRIBUTOR","body":"Will merge this with other doc changes later next week after cutting 0.5.1 doc version","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586033608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586038416","html_url":"https://github.com/apache/hudi/issues/1329#issuecomment-586038416","issue_url":"https://api.github.com/repos/apache/hudi/issues/1329","id":586038416,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjAzODQxNg==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T00:26:37Z","updated_at":"2020-02-14T00:26:37Z","author_association":"CONTRIBUTOR","body":"@popart  The stack trace you showed looks like somehow a partition metafile (\".hoodie_partition_metadata\") is created in the table path. If this file is present, Hudi tries to read the partition depth from this file by searchign for the key \"partitionDepth\" in that metafile. An exception \"Could not find partitionDepth in partition metafile\" is thrown in this case. Can you quickly check if this partition metafile is  present in your table base path. If that is the case, we need to dig why that is created even though you chose a non partitioned table. \r\n\r\n\r\nAlso, just wanted to check did you mean presto version 0.227 ? Also, from the stack trace ( that you posted specific to Presto ), it looks liek this is coming from earlier Hudi version 0.5.0-incubating. Can you also confirm if this is true for further debugging ? Do you mind creating a Jira issue with these details ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586038416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586060460","html_url":"https://github.com/apache/hudi/pull/1150#issuecomment-586060460","issue_url":"https://api.github.com/repos/apache/hudi/issues/1150","id":586060460,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA2MDQ2MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T01:57:35Z","updated_at":"2020-02-14T01:57:35Z","author_association":"MEMBER","body":"@pratyakshsharma  lets revive this ? :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586060460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586061084","html_url":"https://github.com/apache/hudi/pull/1165#issuecomment-586061084","issue_url":"https://api.github.com/repos/apache/hudi/issues/1165","id":586061084,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA2MTA4NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T02:00:24Z","updated_at":"2020-02-14T02:00:24Z","author_association":"MEMBER","body":"cc @nsivabalan  could you take over in case @pratyakshsharma is busy.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586061084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586061205","html_url":"https://github.com/apache/hudi/pull/1176#issuecomment-586061205","issue_url":"https://api.github.com/repos/apache/hudi/issues/1176","id":586061205,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA2MTIwNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T02:00:54Z","updated_at":"2020-02-14T02:00:54Z","author_association":"MEMBER","body":"@nsivabalan are you still blocked by the test failures for this one? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586061205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586062275","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-586062275","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":586062275,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA2MjI3NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T02:05:29Z","updated_at":"2020-02-14T02:05:29Z","author_association":"CONTRIBUTOR","body":"> > How have we validated the framework? are there real tests now?\r\n> \r\n> Can you also please answer these?\r\n\r\nWe validate the test suite via running the unit tests and e2e tests(`TestHoodieTestSuiteJob`) by local, Travis and docker. There is one mock test here[1](https://github.com/apache/incubator-hudi/blob/hudi_test_suite_refactor/hudi-test-suite/src/test/resources/hudi-test-suite-config/complex-workflow-dag-cow.yaml). About real tests, do you mean how to validate all the functions of hudi via this test suite?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586062275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586062515","html_url":"https://github.com/apache/hudi/pull/1200#issuecomment-586062515","issue_url":"https://api.github.com/repos/apache/hudi/issues/1200","id":586062515,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA2MjUxNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T02:06:32Z","updated_at":"2020-02-14T02:06:32Z","author_association":"MEMBER","body":"@OpenOpened Thanks for working through this issue with us patiently! merged!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586062515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586066884","html_url":"https://github.com/apache/hudi/pull/1312#issuecomment-586066884","issue_url":"https://api.github.com/repos/apache/hudi/issues/1312","id":586066884,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA2Njg4NA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T02:25:17Z","updated_at":"2020-02-14T02:25:17Z","author_association":"MEMBER","body":"@n3nash I removed the comment. please take a look. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586066884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586067261","html_url":"https://github.com/apache/hudi/pull/1308#issuecomment-586067261","issue_url":"https://api.github.com/repos/apache/hudi/issues/1308","id":586067261,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA2NzI2MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T02:26:53Z","updated_at":"2020-02-14T02:26:53Z","author_association":"MEMBER","body":"hi @UZi5136225 you can actually define your own key generator class to do this.. This PR should not necessary.. \r\n\r\nhttps://hudi.apache.org/docs/configurations.html#KEYGENERATOR_CLASS_OPT_KEY \r\n\r\nwe even have some built-in ones.. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586067261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]