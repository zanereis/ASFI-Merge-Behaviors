[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752318848","html_url":"https://github.com/apache/hudi/issues/2391#issuecomment-752318848","issue_url":"https://api.github.com/repos/apache/hudi/issues/2391","id":752318848,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjMxODg0OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T03:54:59Z","updated_at":"2020-12-30T03:54:59Z","author_association":"MEMBER","body":"Thanks for opening the ticket, @zuoyebushiwo . \r\n\r\n`TypedProperties` has not actually overridden Hashtable#containsKey() (which Properties does not override either and works). But this behavior is weird. the underlying hashtable seems empty. \r\n\r\n![image](https://user-images.githubusercontent.com/1179324/103328960-9f268a00-4a0f-11eb-91ac-202af05b0c65.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752318848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752319608","html_url":"https://github.com/apache/hudi/issues/2391#issuecomment-752319608","issue_url":"https://api.github.com/repos/apache/hudi/issues/2391","id":752319608,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjMxOTYwOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T03:59:38Z","updated_at":"2020-12-30T03:59:38Z","author_association":"MEMBER","body":"I think only `put()` calls populate the underlying hashtable. if you notice, `Properties` has the same behavior\r\n\r\n```\r\n    Properties properties = new Properties();\r\n    properties.put(\"key1\", \"value1\");\r\n\r\n    System.out.println(properties.containsKey(\"key1\"));\r\n    Properties newProperties = new Properties(properties);\r\n    System.out.println(newProperties.containsKey(\"key1\"));\r\n```\r\n\r\nprints\r\n\r\n```\r\ntrue\r\nfalse\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752319608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752330301","html_url":"https://github.com/apache/hudi/issues/2394#issuecomment-752330301","issue_url":"https://api.github.com/repos/apache/hudi/issues/2394","id":752330301,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjMzMDMwMQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T05:14:01Z","updated_at":"2020-12-30T05:14:01Z","author_association":"CONTRIBUTOR","body":"@ygordefraga : I am guessing there might be some schema mismatch between streaming input  records and the  dataset newly built. The exceptions that you pasted are the wrapped exceptions. The real root-cause exception should be some where below that. Can you look at the executor logs which ran the failed tasks ?  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752330301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752338459","html_url":"https://github.com/apache/hudi/issues/2393#issuecomment-752338459","issue_url":"https://api.github.com/repos/apache/hudi/issues/2393","id":752338459,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjMzODQ1OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T05:58:16Z","updated_at":"2020-12-30T05:58:16Z","author_association":"CONTRIBUTOR","body":"Can you look at the log message \"AvgRecordSize => \"  and see what value is getting printed. My suspicion is your second commit has comparatively very large record size (in bytes) when compared to the records in the next big batch. Hudi dynamically adapts to changing record size by leveraging record size seen in previous commits. \r\n\r\nWith 0.6.0, we have made the change to look for previous commits where number of records written per file was more than Small file limit (minimum size for a file to be not treated as small files).  Is it possible to try 0.6.0 and see if you are having the same experience (this can still happen for you in 0.6.0 if the 3 records that you are writing is big enough to become greater than the small file size limit). \r\n \r\nAdded Jira to let user override this estimate :  https://issues.apache.org/jira/browse/HUDI-1499","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752338459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752341051","html_url":"https://github.com/apache/hudi/issues/2391#issuecomment-752341051","issue_url":"https://api.github.com/repos/apache/hudi/issues/2391","id":752341051,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjM0MTA1MQ==","user":{"login":"zuoyebushiwo","id":10195503,"node_id":"MDQ6VXNlcjEwMTk1NTAz","avatar_url":"https://avatars.githubusercontent.com/u/10195503?v=4","gravatar_id":"","url":"https://api.github.com/users/zuoyebushiwo","html_url":"https://github.com/zuoyebushiwo","followers_url":"https://api.github.com/users/zuoyebushiwo/followers","following_url":"https://api.github.com/users/zuoyebushiwo/following{/other_user}","gists_url":"https://api.github.com/users/zuoyebushiwo/gists{/gist_id}","starred_url":"https://api.github.com/users/zuoyebushiwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuoyebushiwo/subscriptions","organizations_url":"https://api.github.com/users/zuoyebushiwo/orgs","repos_url":"https://api.github.com/users/zuoyebushiwo/repos","events_url":"https://api.github.com/users/zuoyebushiwo/events{/privacy}","received_events_url":"https://api.github.com/users/zuoyebushiwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T06:11:48Z","updated_at":"2020-12-30T06:11:48Z","author_association":"NONE","body":"> I think only `put()` calls populate the underlying hashtable. if you notice, `Properties` has the same behavior\r\n> \r\n> ```\r\n>     Properties properties = new Properties();\r\n>     properties.put(\"key1\", \"value1\");\r\n> \r\n>     System.out.println(properties.containsKey(\"key1\"));\r\n>     Properties newProperties = new Properties(properties);\r\n>     System.out.println(newProperties.containsKey(\"key1\"));\r\n> ```\r\n> \r\n> prints\r\n> \r\n> ```\r\n> true\r\n> false\r\n> ```\r\n\r\nthink for you reply. i got it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752341051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752343811","html_url":"https://github.com/apache/hudi/issues/2377#issuecomment-752343811","issue_url":"https://api.github.com/repos/apache/hudi/issues/2377","id":752343811,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjM0MzgxMQ==","user":{"login":"zuoyebushiwo","id":10195503,"node_id":"MDQ6VXNlcjEwMTk1NTAz","avatar_url":"https://avatars.githubusercontent.com/u/10195503?v=4","gravatar_id":"","url":"https://api.github.com/users/zuoyebushiwo","html_url":"https://github.com/zuoyebushiwo","followers_url":"https://api.github.com/users/zuoyebushiwo/followers","following_url":"https://api.github.com/users/zuoyebushiwo/following{/other_user}","gists_url":"https://api.github.com/users/zuoyebushiwo/gists{/gist_id}","starred_url":"https://api.github.com/users/zuoyebushiwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuoyebushiwo/subscriptions","organizations_url":"https://api.github.com/users/zuoyebushiwo/orgs","repos_url":"https://api.github.com/users/zuoyebushiwo/repos","events_url":"https://api.github.com/users/zuoyebushiwo/events{/privacy}","received_events_url":"https://api.github.com/users/zuoyebushiwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T06:24:33Z","updated_at":"2020-12-30T06:24:33Z","author_association":"NONE","body":"> > @zuoyebushiwo hive could, but you need to tell hive this is a hudi table. Please check the hive-sync module to learn more about how hudi works with hive.\r\n> \r\n> think you so very much. i will learn this chapter.\r\n\r\nCREATE EXTERNAL TABLE hudi_on_flink_local_9(\r\n_hoodie_commit_time string,\r\n_hoodie_commit_seqno string,\r\n_hoodie_record_key string,\r\n_hoodie_partition_path string,\r\n_hoodie_file_name string,\r\nuuid string,\r\nts bigint,\r\nsymbol string,\r\nyear int,\r\nmonth int,\r\nhigh double,\r\nlow double,\r\nkey string,\r\nclose double,\r\nopen double,\r\nday string)\r\nROW FORMAT SERDE\r\n'org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe'\r\nSTORED AS INPUTFORMAT\r\n'org.apache.hudi.hadoop.HoodieParquetInputFormat'\r\nOUTPUTFORMAT\r\n'org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat'\r\nLOCATION\r\n'hdfs://HDFSCluster/hudi/test/data/hudi_on_flink_local_9';\r\n\r\n**i have set STORED AS INPUTFORMAT\r\n'org.apache.hudi.hadoop.HoodieParquetInputFormat'**\r\n\r\nBy the way\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752343811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752345860","html_url":"https://github.com/apache/hudi/issues/2392#issuecomment-752345860","issue_url":"https://api.github.com/repos/apache/hudi/issues/2392","id":752345860,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjM0NTg2MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T06:32:11Z","updated_at":"2020-12-30T06:32:11Z","author_association":"CONTRIBUTOR","body":"Please note that since S3 does not support append operations so Hudi is forced to create new archive files every time it tries to archive. You can increase hoodie.commits.archival.batch moving forward to increase the number of commits archived per archive file. In addition, you can increase the difference between the 2 watermark configurations : hoodie.keep.max.commits (default : 30) and hoodie.keep.min.commits (default : 20). This way, you can reduce the number of archive files created and also at the same time increase the number of metadata archived per archive file. Note that post 0.7.0 release where we are adding consolidated Hudi metadata (RFC-15), the follow up work would involve re-organizing archival metadata so that we can do periodic compactions to control file-sizing of these archive files.\r\n\r\nAdded FAQ: https://cwiki.apache.org/confluence/display/HUDI/FAQ#FAQ-Iamseeinglotofarchivefiles.HowdoIcontrolthenumberofarchivecommitfilesgenerated?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752345860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752350073","html_url":"https://github.com/apache/hudi/issues/2383#issuecomment-752350073","issue_url":"https://api.github.com/repos/apache/hudi/issues/2383","id":752350073,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjM1MDA3Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T06:51:48Z","updated_at":"2020-12-30T06:51:48Z","author_association":"CONTRIBUTOR","body":"@echarso : The commit metadata in .hoodie/ folder has the operation type also logged.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752350073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752352337","html_url":"https://github.com/apache/hudi/issues/2377#issuecomment-752352337","issue_url":"https://api.github.com/repos/apache/hudi/issues/2377","id":752352337,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjM1MjMzNw==","user":{"login":"zuoyebushiwo","id":10195503,"node_id":"MDQ6VXNlcjEwMTk1NTAz","avatar_url":"https://avatars.githubusercontent.com/u/10195503?v=4","gravatar_id":"","url":"https://api.github.com/users/zuoyebushiwo","html_url":"https://github.com/zuoyebushiwo","followers_url":"https://api.github.com/users/zuoyebushiwo/followers","following_url":"https://api.github.com/users/zuoyebushiwo/following{/other_user}","gists_url":"https://api.github.com/users/zuoyebushiwo/gists{/gist_id}","starred_url":"https://api.github.com/users/zuoyebushiwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuoyebushiwo/subscriptions","organizations_url":"https://api.github.com/users/zuoyebushiwo/orgs","repos_url":"https://api.github.com/users/zuoyebushiwo/repos","events_url":"https://api.github.com/users/zuoyebushiwo/events{/privacy}","received_events_url":"https://api.github.com/users/zuoyebushiwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T07:01:08Z","updated_at":"2020-12-30T07:01:08Z","author_association":"NONE","body":"i got it.\r\nbecause this is partition table, bu i not set partition column.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752352337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752380831","html_url":"https://github.com/apache/hudi/issues/2392#issuecomment-752380831","issue_url":"https://api.github.com/repos/apache/hudi/issues/2392","id":752380831,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjM4MDgzMQ==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T08:58:11Z","updated_at":"2020-12-30T08:58:11Z","author_association":"NONE","body":"@bvaradar is there a way to disable archive files completely?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752380831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752405645","html_url":"https://github.com/apache/hudi/pull/2396#issuecomment-752405645","issue_url":"https://api.github.com/repos/apache/hudi/issues/2396","id":752405645,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjQwNTY0NQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T10:21:46Z","updated_at":"2020-12-30T10:21:46Z","author_association":"CONTRIBUTOR","body":"@yanghua please take a look when free","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752405645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752437086","html_url":"https://github.com/apache/hudi/pull/2396#issuecomment-752437086","issue_url":"https://api.github.com/repos/apache/hudi/issues/2396","id":752437086,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjQzNzA4Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T11:29:33Z","updated_at":"2020-12-30T11:40:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2396?src=pr&el=h1) Report\n> Merging [#2396](https://codecov.io/gh/apache/hudi/pull/2396?src=pr&el=desc) (8e96d16) into [master](https://codecov.io/gh/apache/hudi/commit/c6bf95233240d75160670ee96c356946c44c6169?el=desc) (c6bf952) will **increase** coverage by `0.52%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2396/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2396?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2396      +/-   ##\n============================================\n+ Coverage     52.21%   52.74%   +0.52%     \n- Complexity     2662     2923     +261     \n============================================\n  Files           335      383      +48     \n  Lines         14983    17273    +2290     \n  Branches       1506     1787     +281     \n============================================\n+ Hits           7824     9111    +1287     \n- Misses         6535     7406     +871     \n- Partials        624      756     +132     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.83% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `54.74% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.52% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `62.85% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudisync | `48.16% <ø> (?)` | `0.00 <ø> (?)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2396?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...i/bootstrap/SparkParquetBootstrapDataProvider.java](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYm9vdHN0cmFwL1NwYXJrUGFycXVldEJvb3RzdHJhcERhdGFQcm92aWRlci5qYXZh) | `80.00% <0.00%> (ø)` | `5.00% <0.00%> (?%)` | |\n| [...spark/src/main/scala/org/apache/hudi/package.scala](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL3BhY2thZ2Uuc2NhbGE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...e/hudi/exception/HoodieDeltaStreamerException.java](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZURlbHRhU3RyZWFtZXJFeGNlcHRpb24uamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [.../main/scala/org/apache/hudi/HoodieSparkUtils.scala](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVNwYXJrVXRpbHMuc2NhbGE=) | `88.88% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...c/main/java/org/apache/hudi/dla/DLASyncConfig.java](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktZGxhLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZGxhL0RMQVN5bmNDb25maWcuamF2YQ==) | `96.87% <0.00%> (ø)` | `2.00% <0.00%> (?%)` | |\n| [...src/main/java/org/apache/hudi/dla/DLASyncTool.java](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktZGxhLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZGxhL0RMQVN5bmNUb29sLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVNwYXJrU3FsV3JpdGVyLnNjYWxh) | `49.81% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [.../org/apache/hudi/hive/HoodieHiveSyncException.java](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSG9vZGllSGl2ZVN5bmNFeGNlcHRpb24uamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...ava/org/apache/hudi/payload/AWSDmsAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvcGF5bG9hZC9BV1NEbXNBdnJvUGF5bG9hZC5qYXZh) | `84.61% <0.00%> (ø)` | `7.00% <0.00%> (?%)` | |\n| [.../org/apache/hudi/MergeOnReadSnapshotRelation.scala](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL01lcmdlT25SZWFkU25hcHNob3RSZWxhdGlvbi5zY2FsYQ==) | `90.58% <0.00%> (ø)` | `16.00% <0.00%> (?%)` | |\n| ... and [38 more](https://codecov.io/gh/apache/hudi/pull/2396/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752437086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752452753","html_url":"https://github.com/apache/hudi/issues/2393#issuecomment-752452753","issue_url":"https://api.github.com/repos/apache/hudi/issues/2393","id":752452753,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjQ1Mjc1Mw==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T11:40:22Z","updated_at":"2020-12-30T11:40:22Z","author_association":"NONE","body":"@bvaradar \r\n\r\n1st run: INFO  org.apache.hudi.table.HoodieCopyOnWriteTable - AvgRecordSize => 1024\r\n2nd run: INFO  org.apache.hudi.table.HoodieCopyOnWriteTable - AvgRecordSize => 145826\r\n3rd run: INFO  org.apache.hudi.table.HoodieCopyOnWriteTable - AvgRecordSize => 145835\r\n\r\nrather than manually changing sizes, can hudi automatically look at incoming size of file being loaded (not caring about size in prior commits)?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752452753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752517398","html_url":"https://github.com/apache/hudi/pull/2281#issuecomment-752517398","issue_url":"https://api.github.com/repos/apache/hudi/issues/2281","id":752517398,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjUxNzM5OA==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T12:26:26Z","updated_at":"2020-12-30T12:26:26Z","author_association":"CONTRIBUTOR","body":"@garyli1019 Similar to the flink client, the java client also needs a similar test framework. Can it be added together?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752517398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752521046","html_url":"https://github.com/apache/hudi/issues/2394#issuecomment-752521046","issue_url":"https://api.github.com/repos/apache/hudi/issues/2394","id":752521046,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjUyMTA0Ng==","user":{"login":"ygordefraga","id":20543207,"node_id":"MDQ6VXNlcjIwNTQzMjA3","avatar_url":"https://avatars.githubusercontent.com/u/20543207?v=4","gravatar_id":"","url":"https://api.github.com/users/ygordefraga","html_url":"https://github.com/ygordefraga","followers_url":"https://api.github.com/users/ygordefraga/followers","following_url":"https://api.github.com/users/ygordefraga/following{/other_user}","gists_url":"https://api.github.com/users/ygordefraga/gists{/gist_id}","starred_url":"https://api.github.com/users/ygordefraga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ygordefraga/subscriptions","organizations_url":"https://api.github.com/users/ygordefraga/orgs","repos_url":"https://api.github.com/users/ygordefraga/repos","events_url":"https://api.github.com/users/ygordefraga/events{/privacy}","received_events_url":"https://api.github.com/users/ygordefraga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T12:29:01Z","updated_at":"2020-12-30T12:29:01Z","author_association":"NONE","body":"@bvaradar You were absolutely correct. I looked at the executor log and found the schema error in a partition field. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752521046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752552215","html_url":"https://github.com/apache/hudi/pull/2386#issuecomment-752552215","issue_url":"https://api.github.com/repos/apache/hudi/issues/2386","id":752552215,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjU1MjIxNQ==","user":{"login":"Karl-WangSK","id":53078090,"node_id":"MDQ6VXNlcjUzMDc4MDkw","avatar_url":"https://avatars.githubusercontent.com/u/53078090?v=4","gravatar_id":"","url":"https://api.github.com/users/Karl-WangSK","html_url":"https://github.com/Karl-WangSK","followers_url":"https://api.github.com/users/Karl-WangSK/followers","following_url":"https://api.github.com/users/Karl-WangSK/following{/other_user}","gists_url":"https://api.github.com/users/Karl-WangSK/gists{/gist_id}","starred_url":"https://api.github.com/users/Karl-WangSK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Karl-WangSK/subscriptions","organizations_url":"https://api.github.com/users/Karl-WangSK/orgs","repos_url":"https://api.github.com/users/Karl-WangSK/repos","events_url":"https://api.github.com/users/Karl-WangSK/events{/privacy}","received_events_url":"https://api.github.com/users/Karl-WangSK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T12:52:09Z","updated_at":"2020-12-30T12:52:09Z","author_association":"CONTRIBUTOR","body":"hi @liujinhui1994 ,a liitle concern.  \r\nThe schema In `SparkLazyInsertIterable`.`computeNext`  doesn't change  if use partial update, will this still work ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752552215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752562944","html_url":"https://github.com/apache/hudi/pull/2386#issuecomment-752562944","issue_url":"https://api.github.com/repos/apache/hudi/issues/2386","id":752562944,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjU2Mjk0NA==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T12:59:41Z","updated_at":"2020-12-30T12:59:41Z","author_association":"CONTRIBUTOR","body":"@Karl-WangSK  Can you describe it in detail？","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752562944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752601886","html_url":"https://github.com/apache/hudi/pull/2281#issuecomment-752601886","issue_url":"https://api.github.com/repos/apache/hudi/issues/2281","id":752601886,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjYwMTg4Ng==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T13:29:52Z","updated_at":"2020-12-30T13:29:52Z","author_association":"MEMBER","body":"> @garyli1019 Left some minor comments.\r\n\r\n@yanghua Thanks for reviewing. Addressed the comments","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752601886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752603991","html_url":"https://github.com/apache/hudi/pull/2281#issuecomment-752603991","issue_url":"https://api.github.com/repos/apache/hudi/issues/2281","id":752603991,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjYwMzk5MQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T13:31:26Z","updated_at":"2020-12-30T13:31:26Z","author_association":"MEMBER","body":"> @garyli1019 Similar to the flink client, the java client also needs a similar test framework. Can it be added together?\r\n\r\nHi @shenh062326 We should definitely add tests for the java client. I am targeting to land this before the release cut, so I am not sure we can add it to this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752603991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752636435","html_url":"https://github.com/apache/hudi/issues/1843#issuecomment-752636435","issue_url":"https://api.github.com/repos/apache/hudi/issues/1843","id":752636435,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjYzNjQzNQ==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T14:14:54Z","updated_at":"2020-12-30T16:34:59Z","author_association":"NONE","body":"@bvaradar i am getting same problem on table created in 0.5.3\r\n\r\nUPDATE: i found the cause, i had an empty file called x on the s3 path, after removing that file the hudi cli command worked","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752636435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752642375","html_url":"https://github.com/apache/hudi/pull/2281#issuecomment-752642375","issue_url":"https://api.github.com/repos/apache/hudi/issues/2281","id":752642375,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjY0MjM3NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T14:34:50Z","updated_at":"2020-12-30T14:34:50Z","author_association":"CONTRIBUTOR","body":"> @garyli1019 Similar to the flink client, the java client also needs a similar test framework. Can it be added together?\r\n\r\nIMO, we can open a new PR for the java client.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752642375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752665882","html_url":"https://github.com/apache/hudi/pull/2353#issuecomment-752665882","issue_url":"https://api.github.com/repos/apache/hudi/issues/2353","id":752665882,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjY2NTg4Mg==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T15:40:14Z","updated_at":"2020-12-30T15:40:14Z","author_association":"CONTRIBUTOR","body":"@shenh062326 please check travis failure, thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752665882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752731083","html_url":"https://github.com/apache/hudi/issues/2383#issuecomment-752731083","issue_url":"https://api.github.com/repos/apache/hudi/issues/2383","id":752731083,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjczMTA4Mw==","user":{"login":"echarso","id":23654732,"node_id":"MDQ6VXNlcjIzNjU0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/23654732?v=4","gravatar_id":"","url":"https://api.github.com/users/echarso","html_url":"https://github.com/echarso","followers_url":"https://api.github.com/users/echarso/followers","following_url":"https://api.github.com/users/echarso/following{/other_user}","gists_url":"https://api.github.com/users/echarso/gists{/gist_id}","starred_url":"https://api.github.com/users/echarso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/echarso/subscriptions","organizations_url":"https://api.github.com/users/echarso/orgs","repos_url":"https://api.github.com/users/echarso/repos","events_url":"https://api.github.com/users/echarso/events{/privacy}","received_events_url":"https://api.github.com/users/echarso/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T19:23:12Z","updated_at":"2020-12-30T19:23:12Z","author_association":"NONE","body":"thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752731083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752782886","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-752782886","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":752782886,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjc4Mjg4Ng==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T22:56:29Z","updated_at":"2020-12-30T22:56:29Z","author_association":"NONE","body":"@nsivabalan - In the original post, if you take a look at the 3rd MOR screenshot, you will see that ID=2 shows up twice. If I am reading the read optimized table, should it only show ID=2 where __op is NULL since compaction hasn't been executed at that time? Why do I see ID=2 where __op = D in the read optimized table?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752782886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752845905","html_url":"https://github.com/apache/hudi/pull/2379#issuecomment-752845905","issue_url":"https://api.github.com/repos/apache/hudi/issues/2379","id":752845905,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjg0NTkwNQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T05:09:04Z","updated_at":"2020-12-31T05:09:04Z","author_association":"CONTRIBUTOR","body":"@satishkotha @n3nash @leesf  hi, have resolved and reply the comments. Also this pr is depend on https://github.com/apache/hudi/pull/2389.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752845905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752876566","html_url":"https://github.com/apache/hudi/pull/1938#issuecomment-752876566","issue_url":"https://api.github.com/repos/apache/hudi/issues/1938","id":752876566,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjg3NjU2Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T07:34:47Z","updated_at":"2021-01-09T09:58:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/1938?src=pr&el=h1) Report\n> Merging [#1938](https://codecov.io/gh/apache/hudi/pull/1938?src=pr&el=desc) (7129974) into [master](https://codecov.io/gh/apache/hudi/commit/5ff8e88d58c2a6efa1046716e11dca0d61cdf872?el=desc) (5ff8e88) will **increase** coverage by `0.22%`.\n> The diff coverage is `74.86%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/1938/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/1938?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1938      +/-   ##\n============================================\n+ Coverage     50.28%   50.50%   +0.22%     \n- Complexity     2991     3014      +23     \n============================================\n  Files           410      416       +6     \n  Lines         18406    18603     +197     \n  Branches       1885     1909      +24     \n============================================\n+ Hits           9256     9396     +140     \n- Misses         8392     8438      +46     \n- Partials        758      769      +11     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.28% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.76% <ø> (-0.16%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `10.20% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.00% <0.00%> (-0.35%)` | `0.00 <0.00> (ø)` | |\n| hudisparkdatasource | `66.11% <83.03%> (+3.30%)` | `0.00 <27.00> (ø)` | |\n| hudisync | `48.61% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/1938?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/hadoop/utils/HoodieInputFormatUtils.java](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3V0aWxzL0hvb2RpZUlucHV0Rm9ybWF0VXRpbHMuamF2YQ==) | `44.26% <0.00%> (-4.83%)` | `26.00 <0.00> (ø)` | |\n| [.../org/apache/hudi/MergeOnReadSnapshotRelation.scala](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL01lcmdlT25SZWFkU25hcHNob3RSZWxhdGlvbi5zY2FsYQ==) | `90.58% <66.66%> (ø)` | `16.00 <0.00> (ø)` | |\n| [...g/apache/hudi/MergeOnReadIncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL01lcmdlT25SZWFkSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `82.50% <82.50%> (ø)` | `21.00 <21.00> (?)` | |\n| [...n/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZU1lcmdlT25SZWFkUkRELnNjYWxh) | `91.47% <82.85%> (+8.69%)` | `12.00 <5.00> (+2.00)` | |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0RlZmF1bHRTb3VyY2Uuc2NhbGE=) | `88.70% <100.00%> (+0.57%)` | `15.00 <0.00> (+1.00)` | |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0luY3JlbWVudGFsUmVsYXRpb24uc2NhbGE=) | `81.81% <100.00%> (+2.07%)` | `19.00 <1.00> (-1.00)` | :arrow_up: |\n| [...java/org/apache/hudi/common/engine/EngineType.java](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2VuZ2luZS9FbmdpbmVUeXBlLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...apache/hudi/common/engine/TaskContextSupplier.java](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2VuZ2luZS9UYXNrQ29udGV4dFN1cHBsaWVyLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [.../org/apache/hudi/common/engine/EngineProperty.java](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2VuZ2luZS9FbmdpbmVQcm9wZXJ0eS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| ... and [4 more](https://codecov.io/gh/apache/hudi/pull/1938/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752876566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752889711","html_url":"https://github.com/apache/hudi/pull/2398#issuecomment-752889711","issue_url":"https://api.github.com/repos/apache/hudi/issues/2398","id":752889711,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjg4OTcxMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T08:37:42Z","updated_at":"2021-01-04T11:52:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2398?src=pr&el=h1) Report\n> Merging [#2398](https://codecov.io/gh/apache/hudi/pull/2398?src=pr&el=desc) (49bf0e0) into [master](https://codecov.io/gh/apache/hudi/commit/a23aa41a1a3082eda080ec1cf3ad99e5ec37a9a0?el=desc) (a23aa41) will **decrease** coverage by `1.86%`.\n> The diff coverage is `17.85%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2398/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2398?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2398      +/-   ##\n============================================\n- Coverage     52.05%   50.18%   -1.87%     \n- Complexity     2953     2982      +29     \n============================================\n  Files           395      410      +15     \n  Lines         17652    18395     +743     \n  Branches       1809     1884      +75     \n============================================\n+ Hits           9188     9231      +43     \n- Misses         7706     8405     +699     \n- Partials        758      759       +1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.28% <1.12%> (-1.56%)` | `0.00 <1.00> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.71% <14.83%> (-3.28%)` | `0.00 <55.00> (ø)` | |\n| hudiflink | `10.20% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.35% <82.50%> (-0.18%)` | `0.00 <5.00> (ø)` | |\n| hudisparkdatasource | `62.81% <50.00%> (-0.05%)` | `0.00 <0.00> (ø)` | |\n| hudisync | `48.71% <86.66%> (+0.54%)` | `0.00 <2.00> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <100.00%> (ø)` | `0.00 <1.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2398?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pache/hudi/common/config/HoodieMetadataConfig.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Ib29kaWVNZXRhZGF0YUNvbmZpZy5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...c/main/java/org/apache/hudi/common/fs/FSUtils.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL0ZTVXRpbHMuamF2YQ==) | `45.23% <0.00%> (-2.03%)` | `54.00 <0.00> (ø)` | |\n| [...di/common/table/timeline/HoodieActiveTimeline.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZUFjdGl2ZVRpbWVsaW5lLmphdmE=) | `69.62% <ø> (ø)` | `41.00 <0.00> (ø)` | |\n| [.../hudi/common/table/view/FileSystemViewManager.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvRmlsZVN5c3RlbVZpZXdNYW5hZ2VyLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...va/org/apache/hudi/metadata/BaseTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvQmFzZVRhYmxlTWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...e/hudi/metadata/FileSystemBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvRmlsZVN5c3RlbUJhY2tlZFRhYmxlTWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...he/hudi/metadata/HoodieMetadataFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFGaWxlU3lzdGVtVmlldy5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...data/HoodieMetadataMergedInstantRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFNZXJnZWRJbnN0YW50UmVjb3JkU2Nhbm5lci5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...metadata/HoodieMetadataMergedLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFNZXJnZWRMb2dSZWNvcmRTY2FubmVyLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| ... and [53 more](https://codecov.io/gh/apache/hudi/pull/2398/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752889711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752890721","html_url":"https://github.com/apache/hudi/pull/2359#issuecomment-752890721","issue_url":"https://api.github.com/repos/apache/hudi/issues/2359","id":752890721,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjg5MDcyMQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T08:41:10Z","updated_at":"2020-12-31T08:41:10Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Addressed most your comments, replied to the others. At a high level, LAZY rollback is supported only for commits/deltacommits since there is contention when creating multiple writers. Since compactions/clustering don't have contention, they continue to do inline rollback which does not cause any issues -> reason is because they re-use the same instant time so changing them requires deeper changes which is not needed for multi-writer. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752890721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752987079","html_url":"https://github.com/apache/hudi/issues/2393#issuecomment-752987079","issue_url":"https://api.github.com/repos/apache/hudi/issues/2393","id":752987079,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjk4NzA3OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T15:22:10Z","updated_at":"2020-12-31T15:22:10Z","author_association":"CONTRIBUTOR","body":"@tooptoop4 : Hudi does not have access to incoming size of the files being loaded as it is managed by spark. The input dataframe is the interaction point for Hudi. With custom merge logic and payload size in memory different from that in file, it is not possible to get an accurate measure. I have opened an exploratory jira to look at this : https://issues.apache.org/jira/browse/HUDI-1501","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752987079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752988177","html_url":"https://github.com/apache/hudi/issues/2392#issuecomment-752988177","issue_url":"https://api.github.com/repos/apache/hudi/issues/2392","id":752988177,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjk4ODE3Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T15:28:30Z","updated_at":"2020-12-31T15:28:30Z","author_association":"CONTRIBUTOR","body":"@tooptoop4 : There is no flag to disable archiving. One way is to increase hoodie.keep.max.commits  and hoodie.keep.min.commits. But, if we are not archiving, then these files are going to be present in .hoodie folder. Too many of these could cause listing to become slow. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752988177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752988617","html_url":"https://github.com/apache/hudi/issues/2346#issuecomment-752988617","issue_url":"https://api.github.com/repos/apache/hudi/issues/2346","id":752988617,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjk4ODYxNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T15:31:04Z","updated_at":"2020-12-31T15:31:04Z","author_association":"CONTRIBUTOR","body":"@satishkotha : Any update on this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752988617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752988876","html_url":"https://github.com/apache/hudi/issues/2303#issuecomment-752988876","issue_url":"https://api.github.com/repos/apache/hudi/issues/2303","id":752988876,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjk4ODg3Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T15:32:18Z","updated_at":"2020-12-31T15:32:18Z","author_association":"CONTRIBUTOR","body":"Closing this due to inactivity.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752988876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752989110","html_url":"https://github.com/apache/hudi/issues/2277#issuecomment-752989110","issue_url":"https://api.github.com/repos/apache/hudi/issues/2277","id":752989110,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjk4OTExMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T15:33:32Z","updated_at":"2020-12-31T15:33:32Z","author_association":"CONTRIBUTOR","body":"closing this due to inactivity.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752989110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752990069","html_url":"https://github.com/apache/hudi/issues/2203#issuecomment-752990069","issue_url":"https://api.github.com/repos/apache/hudi/issues/2203","id":752990069,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjk5MDA2OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T15:38:38Z","updated_at":"2020-12-31T15:38:38Z","author_association":"CONTRIBUTOR","body":"Closing due to inactivity.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752990069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752990151","html_url":"https://github.com/apache/hudi/issues/2237#issuecomment-752990151","issue_url":"https://api.github.com/repos/apache/hudi/issues/2237","id":752990151,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjk5MDE1MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T15:39:00Z","updated_at":"2020-12-31T15:39:00Z","author_association":"CONTRIBUTOR","body":"Closing due to inactivity.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752990151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752990267","html_url":"https://github.com/apache/hudi/issues/2240#issuecomment-752990267","issue_url":"https://api.github.com/repos/apache/hudi/issues/2240","id":752990267,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjk5MDI2Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T15:39:29Z","updated_at":"2020-12-31T15:39:29Z","author_association":"CONTRIBUTOR","body":"@kpurella : Ay updates ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/752990267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753006093","html_url":"https://github.com/apache/hudi/pull/2398#issuecomment-753006093","issue_url":"https://api.github.com/repos/apache/hudi/issues/2398","id":753006093,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzAwNjA5Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T17:00:33Z","updated_at":"2020-12-31T17:00:33Z","author_association":"MEMBER","body":"@prashantwason @rmpifer @umehrot2 PR against master ready to go. Please take a pass at parts you have all worked on","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753006093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753030571","html_url":"https://github.com/apache/hudi/pull/2398#issuecomment-753030571","issue_url":"https://api.github.com/repos/apache/hudi/issues/2398","id":753030571,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzAzMDU3MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T19:16:53Z","updated_at":"2020-12-31T19:16:53Z","author_association":"MEMBER","body":"@prashantwason  tests pass . I m trying to get MOR tests running again in parallel","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753030571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753417157","html_url":"https://github.com/apache/hudi/issues/1679#issuecomment-753417157","issue_url":"https://api.github.com/repos/apache/hudi/issues/1679","id":753417157,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzQxNzE1Nw==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-02T02:04:23Z","updated_at":"2021-01-02T02:04:23Z","author_association":"NONE","body":"I am also experiencing this error on Hudi 0.6.0, EMR 5.31.0.\r\nI am setting the following property to false: hoodie.datasource.hive_sync.use_jdbc\r\nBut it does not fix anything. What do we need to set as our Hive URL when we have specified for the Glue catalog to be used as the metastore in both hive-site and hive-spark-site configs...\r\n\r\nI've tried referencing the json-1.8.jar found in /usr/lib/hive/lib/json-1.8.jar of my EMR server in my --jars parameter but that does not fix the issue either.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753417157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753499645","html_url":"https://github.com/apache/hudi/pull/2309#issuecomment-753499645","issue_url":"https://api.github.com/repos/apache/hudi/issues/2309","id":753499645,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzQ5OTY0NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-02T17:00:09Z","updated_at":"2021-01-02T17:00:09Z","author_association":"CONTRIBUTOR","body":"fyi, we have another patch that fixes schema evolution in hudi. not sure if there are any overlaps though as I haven't looked into this patch. \r\nhttps://github.com/apache/hudi/pull/2334","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753499645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753557036","html_url":"https://github.com/apache/hudi/pull/2400#issuecomment-753557036","issue_url":"https://api.github.com/repos/apache/hudi/issues/2400","id":753557036,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzU1NzAzNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-03T02:13:22Z","updated_at":"2021-02-06T17:00:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2400?src=pr&el=h1) Report\n> Merging [#2400](https://codecov.io/gh/apache/hudi/pull/2400?src=pr&el=desc) (729c34c) into [master](https://codecov.io/gh/apache/hudi/commit/a38612b10f6ae04644519270f9b5eb631a77c148?el=desc) (a38612b) will **increase** coverage by `18.75%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2400/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2400?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2400       +/-   ##\n=============================================\n+ Coverage     50.69%   69.44%   +18.75%     \n+ Complexity     3059      357     -2702     \n=============================================\n  Files           419       53      -366     \n  Lines         18810     1931    -16879     \n  Branches       1924      230     -1694     \n=============================================\n- Hits           9535     1341     -8194     \n+ Misses         8498      458     -8040     \n+ Partials        777      132      -645     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.44% <0.00%> (-0.04%)` | `0.00 <0.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2400?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.35% <0.00%> (-0.51%)` | `51.00 <0.00> (ø)` | |\n| [.../org/apache/hudi/io/storage/HoodieHFileReader.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vc3RvcmFnZS9Ib29kaWVIRmlsZVJlYWRlci5qYXZh) | | | |\n| [.../apache/hudi/hive/MultiPartKeysValueExtractor.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvTXVsdGlQYXJ0S2V5c1ZhbHVlRXh0cmFjdG9yLmphdmE=) | | | |\n| [...src/main/java/org/apache/hudi/QuickstartUtils.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvUXVpY2tzdGFydFV0aWxzLmphdmE=) | | | |\n| [...org/apache/hudi/cli/commands/RollbacksCommand.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1JvbGxiYWNrc0NvbW1hbmQuamF2YQ==) | | | |\n| [...he/hudi/hadoop/SafeParquetRecordReaderWrapper.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL1NhZmVQYXJxdWV0UmVjb3JkUmVhZGVyV3JhcHBlci5qYXZh) | | | |\n| [...e/hudi/common/table/log/block/HoodieDataBlock.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9ibG9jay9Ib29kaWVEYXRhQmxvY2suamF2YQ==) | | | |\n| [.../apache/hudi/common/fs/TimedFSDataInputStream.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL1RpbWVkRlNEYXRhSW5wdXRTdHJlYW0uamF2YQ==) | | | |\n| [...util/jvm/OpenJ9MemoryLayoutSpecification32bit.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL09wZW5KOU1lbW9yeUxheW91dFNwZWNpZmljYXRpb24zMmJpdC5qYXZh) | | | |\n| [...org/apache/hudi/common/util/collection/Triple.java](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9UcmlwbGUuamF2YQ==) | | | |\n| ... and [358 more](https://codecov.io/gh/apache/hudi/pull/2400/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753557036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753561734","html_url":"https://github.com/apache/hudi/pull/2398#issuecomment-753561734","issue_url":"https://api.github.com/repos/apache/hudi/issues/2398","id":753561734,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzU2MTczNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-03T03:18:36Z","updated_at":"2021-01-03T03:18:36Z","author_association":"MEMBER","body":"@rmpifer @prashantwason I ran into an issue trying to make MOR work. Essentially the check we added to skip rollback instants if their original instants have not been applied (discussion here https://github.com/apache/hudi/pull/2342#issuecomment-750473227 ) does not take into account the fact that for MOR tables, restore can add new log files to the table, to record the fact that this instant was rolled back. So tests fail since those logs are missed. Trying to find a cleaner fix. Will fix, get tests to pass before merging this. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753561734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753565153","html_url":"https://github.com/apache/hudi/pull/2389#issuecomment-753565153","issue_url":"https://api.github.com/repos/apache/hudi/issues/2389","id":753565153,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzU2NTE1Mw==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-03T04:13:01Z","updated_at":"2021-01-03T04:13:01Z","author_association":"MEMBER","body":"> @satishkotha LGTM, left 1 comment after which can merge this\r\n\r\n@n3nash addressed comment. PTAL","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753565153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753585562","html_url":"https://github.com/apache/hudi/pull/2359#issuecomment-753585562","issue_url":"https://api.github.com/repos/apache/hudi/issues/2359","id":753585562,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzU4NTU2Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-03T08:38:08Z","updated_at":"2021-01-03T08:38:08Z","author_association":"CONTRIBUTOR","body":"@vinothchandar ready for review","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753585562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753585893","html_url":"https://github.com/apache/hudi/pull/2374#issuecomment-753585893","issue_url":"https://api.github.com/repos/apache/hudi/issues/2374","id":753585893,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzU4NTg5Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-03T08:42:22Z","updated_at":"2021-01-03T08:43:01Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Addressed most of the code comments replied to some which needs clarification/resolution. 2 high level items are missing 1. Adding a new test class for multi-writer 2. Testing with test-suite / real job. It's ready for final review in the meantime. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753585893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753710467","html_url":"https://github.com/apache/hudi/issues/2338#issuecomment-753710467","issue_url":"https://api.github.com/repos/apache/hudi/issues/2338","id":753710467,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzcxMDQ2Nw==","user":{"login":"so-lazy","id":56884416,"node_id":"MDQ6VXNlcjU2ODg0NDE2","avatar_url":"https://avatars.githubusercontent.com/u/56884416?v=4","gravatar_id":"","url":"https://api.github.com/users/so-lazy","html_url":"https://github.com/so-lazy","followers_url":"https://api.github.com/users/so-lazy/followers","following_url":"https://api.github.com/users/so-lazy/following{/other_user}","gists_url":"https://api.github.com/users/so-lazy/gists{/gist_id}","starred_url":"https://api.github.com/users/so-lazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/so-lazy/subscriptions","organizations_url":"https://api.github.com/users/so-lazy/orgs","repos_url":"https://api.github.com/users/so-lazy/repos","events_url":"https://api.github.com/users/so-lazy/events{/privacy}","received_events_url":"https://api.github.com/users/so-lazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T01:14:31Z","updated_at":"2021-01-04T01:14:31Z","author_association":"NONE","body":"@nsivabalan Sir,can u help me out of this? I am so curious, thanks too much","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753710467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753716419","html_url":"https://github.com/apache/hudi/issues/2397#issuecomment-753716419","issue_url":"https://api.github.com/repos/apache/hudi/issues/2397","id":753716419,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzcxNjQxOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T01:44:40Z","updated_at":"2021-01-04T01:44:40Z","author_association":"CONTRIBUTOR","body":"@peng-xin : Sorry for the delay. Somehow, I missed this GH issue. Looking at how Hive handles Null values, this behavior is consistent with Hive null handling.  what is your partition path type ?One option here is to replace MultiPartKeysValueExtractor with your own implementation which handles the default value in partition-path differently based on your use case.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753716419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753717294","html_url":"https://github.com/apache/hudi/issues/2399#issuecomment-753717294","issue_url":"https://api.github.com/repos/apache/hudi/issues/2399","id":753717294,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzcxNzI5NA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T01:49:18Z","updated_at":"2021-01-04T01:49:18Z","author_association":"CONTRIBUTOR","body":"@afeldman1 : \"partitionToWriteStats\" : { }, indicates that  this is an empty commit.  Can you check if the input dataframe has the right keys setup for deletions.\r\n\r\ncc @nsivabalan \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753717294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753735669","html_url":"https://github.com/apache/hudi/pull/2271#issuecomment-753735669","issue_url":"https://api.github.com/repos/apache/hudi/issues/2271","id":753735669,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzczNTY2OQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T03:18:11Z","updated_at":"2021-01-04T03:18:11Z","author_association":"CONTRIBUTOR","body":"@yanghua please take a look when free","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753735669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753736657","html_url":"https://github.com/apache/hudi/pull/2271#issuecomment-753736657","issue_url":"https://api.github.com/repos/apache/hudi/issues/2271","id":753736657,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzczNjY1Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T03:22:07Z","updated_at":"2021-01-30T10:54:46Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2271?src=pr&el=h1) Report\n> Merging [#2271](https://codecov.io/gh/apache/hudi/pull/2271?src=pr&el=desc) (da3b6ae) into [master](https://codecov.io/gh/apache/hudi/commit/5d053b495b8cb44cce88a67e82cbdfdc3d8b3180?el=desc) (5d053b4) will **increase** coverage by `0.75%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2271/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2271?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2271      +/-   ##\n============================================\n+ Coverage     49.78%   50.54%   +0.75%     \n- Complexity     3089     3119      +30     \n============================================\n  Files           430      430              \n  Lines         19566    19566              \n  Branches       2004     2004              \n============================================\n+ Hits           9741     9889     +148     \n+ Misses         9033     8873     -160     \n- Partials        792      804      +12     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.21% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.51% <ø> (+0.02%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `33.03% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.16% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `69.51% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `66.49% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.43% <ø> (+7.56%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2271?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/hudi/pull/2271/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `64.16% <0.00%> (+1.15%)` | `33.00% <0.00%> (+1.00%)` | |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2271/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `68.97% <0.00%> (+1.22%)` | `18.00% <0.00%> (+1.00%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2271/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `79.68% <0.00%> (+1.56%)` | `26.00% <0.00%> (ø%)` | |\n| [...ties/deltastreamer/HoodieDeltaStreamerMetrics.java](https://codecov.io/gh/apache/hudi/pull/2271/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lck1ldHJpY3MuamF2YQ==) | `36.11% <0.00%> (+2.77%)` | `6.00% <0.00%> (+1.00%)` | |\n| [...utilities/deltastreamer/TableExecutionContext.java](https://codecov.io/gh/apache/hudi/pull/2271/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvVGFibGVFeGVjdXRpb25Db250ZXh0LmphdmE=) | `65.00% <0.00%> (+65.00%)` | `9.00% <0.00%> (+9.00%)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2271/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <0.00%> (+78.39%)` | `18.00% <0.00%> (+18.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753736657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753738861","html_url":"https://github.com/apache/hudi/pull/2309#issuecomment-753738861","issue_url":"https://api.github.com/repos/apache/hudi/issues/2309","id":753738861,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzczODg2MQ==","user":{"login":"nbalajee","id":47542891,"node_id":"MDQ6VXNlcjQ3NTQyODkx","avatar_url":"https://avatars.githubusercontent.com/u/47542891?v=4","gravatar_id":"","url":"https://api.github.com/users/nbalajee","html_url":"https://github.com/nbalajee","followers_url":"https://api.github.com/users/nbalajee/followers","following_url":"https://api.github.com/users/nbalajee/following{/other_user}","gists_url":"https://api.github.com/users/nbalajee/gists{/gist_id}","starred_url":"https://api.github.com/users/nbalajee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nbalajee/subscriptions","organizations_url":"https://api.github.com/users/nbalajee/orgs","repos_url":"https://api.github.com/users/nbalajee/repos","events_url":"https://api.github.com/users/nbalajee/events{/privacy}","received_events_url":"https://api.github.com/users/nbalajee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T03:32:07Z","updated_at":"2021-01-04T03:32:07Z","author_association":"CONTRIBUTOR","body":"> fyi, we have another patch that fixes schema evolution in hudi. not sure if there are any overlaps though as I haven't looked into this patch.\r\n> #2334\r\n\r\n@nsivabalan  - #2334 is using HoodieAvroUtils.rewrite() functionality to rewrite the generic records.  There is no overlap between the issues being corrected.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753738861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753746016","html_url":"https://github.com/apache/hudi/issues/2338#issuecomment-753746016","issue_url":"https://api.github.com/repos/apache/hudi/issues/2338","id":753746016,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mzc0NjAxNg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T04:09:43Z","updated_at":"2021-01-04T04:10:11Z","author_association":"CONTRIBUTOR","body":"@so-lazy : I am looping in @bvaradar to help you out here. But in the mean time, some context around Global_Bloom. Hudi has two kinds of indexes, regular and global. in regular bloom, all record keys within a partition are unique, and so there could be same record key across diff partitions. Within same partition, hudi will take care of updating the records based on record keys and will serve you only the latest snapshot for every record key of interest. \r\nWhere as in Global versions, record keys across the entire dataset is unique. in other words, there can't be same record key in different partitions. So, incase you insert a record, rec_1 in partition1 and later try to insert the same record(rec_1) to a diff partition, say partition2, Hudi by default will update the record in partition1. But there is a config which you can set, on which case, hudi will delete this record, rec1 of interest from partition1 and will insert to partition2. \r\nThis is the major difference between regular and global versions of index. Since in Global version, all partitions need to be looked up for all records, it is known to be less performant compared to regular index. So, unless you have this requirement, would suggest you to use regular indexes (BLOOM for ex). \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753746016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753794990","html_url":"https://github.com/apache/hudi/pull/2375#issuecomment-753794990","issue_url":"https://api.github.com/repos/apache/hudi/issues/2375","id":753794990,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mzc5NDk5MA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T06:56:49Z","updated_at":"2021-01-04T06:56:49Z","author_association":"MEMBER","body":"> Hi @garyli1019. Maybe I think the current implementation is OK. Beacause even in streaming job, we need to accumulate batch records in memory during the check-point cycle and upsert data into hudi-table when check-point triggers. WDYT?\r\n\r\n@Nieal-Yang sorry about the late reply. IMO The batch mode will work but not fully taking the advantage of flink. But we can optimize this step by step. To ensure this PR will work, would you add some unit tests to this PR? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753794990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753919104","html_url":"https://github.com/apache/hudi/pull/2382#issuecomment-753919104","issue_url":"https://api.github.com/repos/apache/hudi/issues/2382","id":753919104,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzkxOTEwNA==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T11:22:16Z","updated_at":"2021-01-04T11:22:16Z","author_association":"CONTRIBUTOR","body":"> @shenh062326 Thanks for your contribution, would you please add some tests to verify the java client functionally?\r\n\r\nSure, I will add a base test infra for java client","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753919104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753971774","html_url":"https://github.com/apache/hudi/pull/2402#issuecomment-753971774","issue_url":"https://api.github.com/repos/apache/hudi/issues/2402","id":753971774,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mzk3MTc3NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T13:22:18Z","updated_at":"2021-01-04T13:22:18Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2402?src=pr&el=h1) Report\n> Merging [#2402](https://codecov.io/gh/apache/hudi/pull/2402?src=pr&el=desc) (baebb71) into [master](https://codecov.io/gh/apache/hudi/commit/ff8313caf1dfe0b13fa9f160489a74600b0e8756?el=desc) (ff8313c) will **decrease** coverage by `41.97%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2402/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2402?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2402       +/-   ##\n=============================================\n- Coverage     52.02%   10.04%   -41.98%     \n+ Complexity     2952       48     -2904     \n=============================================\n  Files           395       52      -343     \n  Lines         17652     1852    -15800     \n  Branches       1809      223     -1586     \n=============================================\n- Hits           9183      186     -8997     \n+ Misses         7710     1653     -6057     \n+ Partials        759       13      -746     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.04% <ø> (-59.62%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2402?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [371 more](https://codecov.io/gh/apache/hudi/pull/2402/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/753971774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754132764","html_url":"https://github.com/apache/hudi/pull/2379#issuecomment-754132764","issue_url":"https://api.github.com/repos/apache/hudi/issues/2379","id":754132764,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDEzMjc2NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T18:16:43Z","updated_at":"2021-01-04T18:16:43Z","author_association":"CONTRIBUTOR","body":"@satishkotha Can you take a pass and see if this is ready to be landed ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754132764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754141140","html_url":"https://github.com/apache/hudi/pull/2111#issuecomment-754141140","issue_url":"https://api.github.com/repos/apache/hudi/issues/2111","id":754141140,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDE0MTE0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T18:33:21Z","updated_at":"2021-01-04T18:33:21Z","author_association":"MEMBER","body":"@nsivabalan this is also a good candidate for 0.7.0\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754141140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754142222","html_url":"https://github.com/apache/hudi/pull/2334#issuecomment-754142222","issue_url":"https://api.github.com/repos/apache/hudi/issues/2334","id":754142222,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDE0MjIyMg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T18:35:34Z","updated_at":"2021-01-04T18:35:34Z","author_association":"CONTRIBUTOR","body":"@pengzhiwei2018 @nsivabalan Is there a different way to resolve this issue ? The writer/reader schema is baked into many parts of the code, even on the reader side, see example here -> https://github.com/apache/hudi/blob/master/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java#L70\r\n\r\nTo be able to remove the concept of writer into input requires more changes in the code and also requires us to understand what does the readerSchema mean in this scenario. \r\n\r\nI'm OK if you want to introduce another transient field called `tableSchema` and compare the writer (in your case inputSchema) against the tableSchema to throw the exception, but keep the concepts of writer/reader intact. If you want to propose changing them, I think putting a 1 pager about how writer/reader schema maps to your new suggested way (input/table) will help to understand how to reason about schemas going forward to avoid any regressions. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754142222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754336738","html_url":"https://github.com/apache/hudi/pull/2188#issuecomment-754336738","issue_url":"https://api.github.com/repos/apache/hudi/issues/2188","id":754336738,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDMzNjczOA==","user":{"login":"hj2016","id":18521084,"node_id":"MDQ6VXNlcjE4NTIxMDg0","avatar_url":"https://avatars.githubusercontent.com/u/18521084?v=4","gravatar_id":"","url":"https://api.github.com/users/hj2016","html_url":"https://github.com/hj2016","followers_url":"https://api.github.com/users/hj2016/followers","following_url":"https://api.github.com/users/hj2016/following{/other_user}","gists_url":"https://api.github.com/users/hj2016/gists{/gist_id}","starred_url":"https://api.github.com/users/hj2016/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hj2016/subscriptions","organizations_url":"https://api.github.com/users/hj2016/orgs","repos_url":"https://api.github.com/users/hj2016/repos","events_url":"https://api.github.com/users/hj2016/events{/privacy}","received_events_url":"https://api.github.com/users/hj2016/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T02:02:07Z","updated_at":"2021-01-05T02:02:07Z","author_association":"CONTRIBUTOR","body":"@n3nash How do you feel about my suggestion？","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754336738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754359543","html_url":"https://github.com/apache/hudi/pull/2375#issuecomment-754359543","issue_url":"https://api.github.com/repos/apache/hudi/issues/2375","id":754359543,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDM1OTU0Mw==","user":{"login":"Nieal-Yang","id":25543575,"node_id":"MDQ6VXNlcjI1NTQzNTc1","avatar_url":"https://avatars.githubusercontent.com/u/25543575?v=4","gravatar_id":"","url":"https://api.github.com/users/Nieal-Yang","html_url":"https://github.com/Nieal-Yang","followers_url":"https://api.github.com/users/Nieal-Yang/followers","following_url":"https://api.github.com/users/Nieal-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Nieal-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Nieal-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nieal-Yang/subscriptions","organizations_url":"https://api.github.com/users/Nieal-Yang/orgs","repos_url":"https://api.github.com/users/Nieal-Yang/repos","events_url":"https://api.github.com/users/Nieal-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Nieal-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T03:07:02Z","updated_at":"2021-01-05T03:07:02Z","author_association":"CONTRIBUTOR","body":"> > Hi @garyli1019. Maybe I think the current implementation is OK. Beacause even in streaming job, we need to accumulate batch records in memory during the check-point cycle and upsert data into hudi-table when check-point triggers. WDYT?\r\n> \r\n> @Nieal-Yang sorry about the late reply. IMO The batch mode will work but not fully taking the advantage of flink. But we can optimize this step by step. To ensure this PR will work, would you add some unit tests to this PR?\r\n\r\nokay.  This index has been used in production in my company.  We will optimize it gradually","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754359543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754400800","html_url":"https://github.com/apache/hudi/pull/2334#issuecomment-754400800","issue_url":"https://api.github.com/repos/apache/hudi/issues/2334","id":754400800,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQwMDgwMA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T05:11:13Z","updated_at":"2021-01-07T03:17:17Z","author_association":"NONE","body":"Hi @n3nash ,Thanks for your suggestion.\r\n This PR only covers the part where HUDi writes the data, not the part where hudi reads the data. The introduced `inputSchema/tableSchema` is only used for parser the incoming record and read&write data in table.which is much different from the `writer/reader schema` in RealtimeCompactedRecordReader.\r\n\r\nAnd I have update the  describe the changes in more detail in the  **Brief change log** part for better  to understand. You take a look again when you have time.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754400800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754414853","html_url":"https://github.com/apache/hudi/pull/2400#issuecomment-754414853","issue_url":"https://api.github.com/repos/apache/hudi/issues/2400","id":754414853,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQxNDg1Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T05:51:12Z","updated_at":"2021-01-05T05:51:12Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Please work with @satishkotha before landing this since he is also looking to add similar tests around clustering","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754414853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754442329","html_url":"https://github.com/apache/hudi/issues/2401#issuecomment-754442329","issue_url":"https://api.github.com/repos/apache/hudi/issues/2401","id":754442329,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQ0MjMyOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T06:57:18Z","updated_at":"2021-01-05T06:57:18Z","author_association":"CONTRIBUTOR","body":"Added a jira to track this new dev feature : https://issues.apache.org/jira/browse/HUDI-1505","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754442329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754448424","html_url":"https://github.com/apache/hudi/issues/2338#issuecomment-754448424","issue_url":"https://api.github.com/repos/apache/hudi/issues/2338","id":754448424,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQ0ODQyNA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T07:10:06Z","updated_at":"2021-01-05T07:10:06Z","author_association":"CONTRIBUTOR","body":"@so-lazy : I think the hive table may not be a hudi table. can you show the output of the following hive command ?\r\n\r\ndesc formatted table <table>\r\n\r\n\r\nAlso, can you please attach the listing of .hoodie folder ?\r\n\r\nThanks,\r\nBalaji.V\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754448424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754502750","html_url":"https://github.com/apache/hudi/issues/2265#issuecomment-754502750","issue_url":"https://api.github.com/repos/apache/hudi/issues/2265","id":754502750,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDUwMjc1MA==","user":{"login":"hughfdjackson","id":545689,"node_id":"MDQ6VXNlcjU0NTY4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/545689?v=4","gravatar_id":"","url":"https://api.github.com/users/hughfdjackson","html_url":"https://github.com/hughfdjackson","followers_url":"https://api.github.com/users/hughfdjackson/followers","following_url":"https://api.github.com/users/hughfdjackson/following{/other_user}","gists_url":"https://api.github.com/users/hughfdjackson/gists{/gist_id}","starred_url":"https://api.github.com/users/hughfdjackson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hughfdjackson/subscriptions","organizations_url":"https://api.github.com/users/hughfdjackson/orgs","repos_url":"https://api.github.com/users/hughfdjackson/repos","events_url":"https://api.github.com/users/hughfdjackson/events{/privacy}","received_events_url":"https://api.github.com/users/hughfdjackson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T09:00:02Z","updated_at":"2021-01-05T09:00:02Z","author_association":"NONE","body":"@umehrot2 \r\n\r\nThanks for looking into this - I'm taking a bit of hope from error message of the code you linked ;) \r\n\r\n![image](https://user-images.githubusercontent.com/545689/103626620-5c474380-4f34-11eb-8ad9-a309b10b6d36.png)\r\n\r\nHave you had any further thoughts on this issue?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754502750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754638146","html_url":"https://github.com/apache/hudi/pull/2404#issuecomment-754638146","issue_url":"https://api.github.com/repos/apache/hudi/issues/2404","id":754638146,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDYzODE0Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T13:32:04Z","updated_at":"2021-01-05T13:32:04Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2404?src=pr&el=h1) Report\n> Merging [#2404](https://codecov.io/gh/apache/hudi/pull/2404?src=pr&el=desc) (fdeb851) into [master](https://codecov.io/gh/apache/hudi/commit/698694a1571cdcc9848fc79aa34c8cbbf9662bc4?el=desc) (698694a) will **decrease** coverage by `40.19%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2404/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2404?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2404       +/-   ##\n=============================================\n- Coverage     50.23%   10.04%   -40.20%     \n+ Complexity     2985       48     -2937     \n=============================================\n  Files           410       52      -358     \n  Lines         18398     1852    -16546     \n  Branches       1884      223     -1661     \n=============================================\n- Hits           9242      186     -9056     \n+ Misses         8398     1653     -6745     \n+ Partials        758       13      -745     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.04% <ø> (-59.62%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2404?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [387 more](https://codecov.io/gh/apache/hudi/pull/2404/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754638146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754643863","html_url":"https://github.com/apache/hudi/pull/2404#issuecomment-754643863","issue_url":"https://api.github.com/repos/apache/hudi/issues/2404","id":754643863,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDY0Mzg2Mw==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T13:42:48Z","updated_at":"2021-01-05T13:42:48Z","author_association":"CONTRIBUTOR","body":"@yanghua please take a look when free","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754643863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754644106","html_url":"https://github.com/apache/hudi/pull/2405#issuecomment-754644106","issue_url":"https://api.github.com/repos/apache/hudi/issues/2405","id":754644106,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDY0NDEwNg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T13:43:13Z","updated_at":"2021-01-05T13:43:13Z","author_association":"CONTRIBUTOR","body":"@yanghua please take a look when free","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754644106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754665459","html_url":"https://github.com/apache/hudi/pull/2405#issuecomment-754665459","issue_url":"https://api.github.com/repos/apache/hudi/issues/2405","id":754665459,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDY2NTQ1OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T14:22:41Z","updated_at":"2021-01-06T06:28:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2405?src=pr&el=h1) Report\n> Merging [#2405](https://codecov.io/gh/apache/hudi/pull/2405?src=pr&el=desc) (9bded33) into [master](https://codecov.io/gh/apache/hudi/commit/698694a1571cdcc9848fc79aa34c8cbbf9662bc4?el=desc) (698694a) will **increase** coverage by `0.02%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2405/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2405?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2405      +/-   ##\n============================================\n+ Coverage     50.23%   50.26%   +0.02%     \n- Complexity     2985     2988       +3     \n============================================\n  Files           410      410              \n  Lines         18398    18400       +2     \n  Branches       1884     1885       +1     \n============================================\n+ Hits           9242     9248       +6     \n+ Misses         8398     8394       -4     \n  Partials        758      758              \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.28% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.86% <100.00%> (+0.05%)` | `0.00 <0.00> (ø)` | |\n| hudiflink | `10.20% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.35% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `62.81% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.71% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2405?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ain/java/org/apache/hudi/avro/HoodieAvroUtils.java](https://codecov.io/gh/apache/hudi/pull/2405/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXZyby9Ib29kaWVBdnJvVXRpbHMuamF2YQ==) | `57.28% <100.00%> (+3.35%)` | `41.00 <0.00> (+3.00)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2405/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | `26.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754665459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754682021","html_url":"https://github.com/apache/hudi/pull/2404#issuecomment-754682021","issue_url":"https://api.github.com/repos/apache/hudi/issues/2404","id":754682021,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDY4MjAyMQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T14:50:46Z","updated_at":"2021-01-05T14:50:46Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Do you agree with this change?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754682021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754694548","html_url":"https://github.com/apache/hudi/pull/2405#issuecomment-754694548","issue_url":"https://api.github.com/repos/apache/hudi/issues/2405","id":754694548,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDY5NDU0OA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T15:08:51Z","updated_at":"2021-01-05T15:08:51Z","author_association":"CONTRIBUTOR","body":"@wangxianghu And Travis failed, please check what's wrong...","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754694548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754744538","html_url":"https://github.com/apache/hudi/pull/2380#issuecomment-754744538","issue_url":"https://api.github.com/repos/apache/hudi/issues/2380","id":754744538,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDc0NDUzOA==","user":{"login":"afilipchik","id":1406795,"node_id":"MDQ6VXNlcjE0MDY3OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1406795?v=4","gravatar_id":"","url":"https://api.github.com/users/afilipchik","html_url":"https://github.com/afilipchik","followers_url":"https://api.github.com/users/afilipchik/followers","following_url":"https://api.github.com/users/afilipchik/following{/other_user}","gists_url":"https://api.github.com/users/afilipchik/gists{/gist_id}","starred_url":"https://api.github.com/users/afilipchik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afilipchik/subscriptions","organizations_url":"https://api.github.com/users/afilipchik/orgs","repos_url":"https://api.github.com/users/afilipchik/repos","events_url":"https://api.github.com/users/afilipchik/events{/privacy}","received_events_url":"https://api.github.com/users/afilipchik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T16:28:01Z","updated_at":"2021-01-05T16:28:01Z","author_association":"CONTRIBUTOR","body":"On making AbstractHoodieKafkaAvroDeserializer abstract - it looks like modified Confluent deserializer, so it believe it should be called like that. If we want to support Confluent schema registry we need to use schema id to acquire writer's schema, otherwise schema evolutions will be a pain.\r\n\r\nI.E. to deserialize an avro message we need 2 things: schema it was written with (can come from properties, but with Confluent id in the beginning of the message tells you exact version and can be used to fetch it from the schema registry) and the reader schema (schema on the reader side which comes from the schema provider)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754744538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754812328","html_url":"https://github.com/apache/hudi/pull/2400#issuecomment-754812328","issue_url":"https://api.github.com/repos/apache/hudi/issues/2400","id":754812328,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDgxMjMyOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T18:20:51Z","updated_at":"2021-01-05T18:20:51Z","author_association":"CONTRIBUTOR","body":"@n3nash : Patch is ready for review. \r\n@satishkotha : I have added clustering node. Do check it out. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754812328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754894794","html_url":"https://github.com/apache/hudi/issues/2229#issuecomment-754894794","issue_url":"https://api.github.com/repos/apache/hudi/issues/2229","id":754894794,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg5NDc5NA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T20:57:47Z","updated_at":"2021-01-05T21:00:15Z","author_association":"NONE","body":"@bvaradar - I would like to understand a little bit more about what's going on here with the spark stage \"Getting small files from partitions\" from the screenshot.\r\n\r\n![img](https://user-images.githubusercontent.com/64644025/103697708-e956c080-4f65-11eb-9fdf-1e36d2165d5e.PNG)\r\n\r\nIn the executor logs, I see the following:\r\n`\r\n2021-01-05 20:26:52,176 INFO [dispatcher-event-loop-1] org.apache.spark.executor.CoarseGrainedExecutorBackend:Got assigned task 4686\r\n2021-01-05 20:26:52,176 INFO [Executor task launch worker for task 4686] org.apache.spark.executor.Executor:Running task 0.0 in stage 701.0 (TID 4686)\r\n2021-01-05 20:26:52,176 INFO [Executor task launch worker for task 4686] org.apache.spark.MapOutputTrackerWorker:Updating epoch to 202 and clearing cache\r\n2021-01-05 20:26:52,177 INFO [Executor task launch worker for task 4686] org.apache.spark.broadcast.TorrentBroadcast:Started reading broadcast variable 502\r\n2021-01-05 20:26:52,178 INFO [Executor task launch worker for task 4686] org.apache.spark.storage.memory.MemoryStore:Block broadcast_502_piece0 stored as bytes in memory (estimated size 196.8 KB, free 4.3 GB)\r\n2021-01-05 20:26:52,178 INFO [Executor task launch worker for task 4686] org.apache.spark.broadcast.TorrentBroadcast:Reading broadcast variable 502 took 1 ms\r\n2021-01-05 20:26:52,180 INFO [Executor task launch worker for task 4686] org.apache.spark.storage.memory.MemoryStore:Block broadcast_502 stored as values in memory (estimated size 637.1 KB, free 4.3 GB)\r\n2021-01-05 20:26:52,198 INFO [Executor task launch worker for task 4686] org.apache.spark.MapOutputTrackerWorker:Don't have map outputs for shuffle 201, fetching them\r\n2021-01-05 20:26:52,198 INFO [Executor task launch worker for task 4686] org.apache.spark.MapOutputTrackerWorker:Doing the fetch; tracker endpoint = NettyRpcEndpointRef(spark://MapOutputTracker@ip-xxx-xx-xxx-xxx:35039)\r\n2021-01-05 20:26:52,199 INFO [Executor task launch worker for task 4686] org.apache.spark.MapOutputTrackerWorker:Got the output locations\r\n2021-01-05 20:26:52,199 INFO [Executor task launch worker for task 4686] org.apache.spark.storage.ShuffleBlockFetcherIterator:Getting 18 non-empty blocks including 6 local blocks and 12 remote blocks\r\n2021-01-05 20:26:52,199 INFO [Executor task launch worker for task 4686] org.apache.spark.storage.ShuffleBlockFetcherIterator:Started 2 remote fetches in 0 ms\r\n2021-01-05 20:26:53,287 INFO [Executor task launch worker for task 4686] com.amazon.ws.emr.hadoop.fs.s3n.MultipartUploadOutputStream:close closed:false s3://...table/.hoodie/.temp/20210105202638/1900-01-01/6ac65ea6-5378-4022-9a54-dfda75d6b53d-0_0-701-4686_20210105202638.parquet.marker.MERGE\r\n2021-01-05 20:26:53,384 INFO [pool-22-thread-1] com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem:Opening 's3://...table/1900-01-01/6ac65ea6-5378-4022-9a54-dfda75d6b53d-0_0-659-4407_20210105202508.parquet' for reading\r\n2021-01-05 20:27:40,841 INFO [Executor task launch worker for task 4686] com.amazon.ws.emr.hadoop.fs.s3n.MultipartUploadOutputStream:close closed:false s3://...table/1900-01-01/6ac65ea6-5378-4022-9a54-dfda75d6b53d-0_0-701-4686_20210105202638.parquet\r\n2021-01-05 20:27:41,708 INFO [Executor task launch worker for task 4686] org.apache.spark.storage.memory.MemoryStore:Block rdd_2026_0 stored as values in memory (estimated size 390.0 B, free 4.3 GB)\r\n2021-01-05 20:27:41,713 INFO [Executor task launch worker for task 4686] org.apache.spark.executor.Executor:Finished task 0.0 in stage 701.0 (TID 4686). 3169 bytes result sent to driver\r\n`\r\n\r\nDoes this mean the 50 seconds for this task is used to create a SINGLE new parquet file with the new data using the \"small parquet file\" as its base? If my thoughts are correct here, is there a configuration to split the records evenly into each executor so that you can have multiple writes occurring in parallel?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754894794/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754918776","html_url":"https://github.com/apache/hudi/pull/2407#issuecomment-754918776","issue_url":"https://api.github.com/repos/apache/hudi/issues/2407","id":754918776,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkxODc3Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T21:40:22Z","updated_at":"2021-01-05T21:40:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2407?src=pr&el=h1) Report\n> Merging [#2407](https://codecov.io/gh/apache/hudi/pull/2407?src=pr&el=desc) (88ff431) into [master](https://codecov.io/gh/apache/hudi/commit/698694a1571cdcc9848fc79aa34c8cbbf9662bc4?el=desc) (698694a) will **decrease** coverage by `40.19%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2407/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2407?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2407       +/-   ##\n=============================================\n- Coverage     50.23%   10.04%   -40.20%     \n+ Complexity     2985       48     -2937     \n=============================================\n  Files           410       52      -358     \n  Lines         18398     1852    -16546     \n  Branches       1884      223     -1661     \n=============================================\n- Hits           9242      186     -9056     \n+ Misses         8398     1653     -6745     \n+ Partials        758       13      -745     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.04% <ø> (-59.62%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2407?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [386 more](https://codecov.io/gh/apache/hudi/pull/2407/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754918776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754997547","html_url":"https://github.com/apache/hudi/pull/2405#issuecomment-754997547","issue_url":"https://api.github.com/repos/apache/hudi/issues/2405","id":754997547,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk5NzU0Nw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T01:02:53Z","updated_at":"2021-01-06T01:02:53Z","author_association":"CONTRIBUTOR","body":"@wangxianghu Please check Travis again.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/754997547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755056830","html_url":"https://github.com/apache/hudi/pull/2375#issuecomment-755056830","issue_url":"https://api.github.com/repos/apache/hudi/issues/2375","id":755056830,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTA1NjgzMA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T03:37:43Z","updated_at":"2021-01-06T03:37:43Z","author_association":"CONTRIBUTOR","body":"> > > Hi @garyli1019. Maybe I think the current implementation is OK. Beacause even in streaming job, we need to accumulate batch records in memory during the check-point cycle and upsert data into hudi-table when check-point triggers. WDYT?\r\n> > \r\n> > \r\n> > @Nieal-Yang sorry about the late reply. IMO The batch mode will work but not fully taking the advantage of flink. But we can optimize this step by step. To ensure this PR will work, would you add some unit tests to this PR?\r\n> \r\n> okay. This index has been used in production in my company. We will optimize it gradually\r\n\r\nHi @Nieal-Yang Would you please tell me what's the Flink version you are using?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755056830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755103932","html_url":"https://github.com/apache/hudi/pull/2375#issuecomment-755103932","issue_url":"https://api.github.com/repos/apache/hudi/issues/2375","id":755103932,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTEwMzkzMg==","user":{"login":"Nieal-Yang","id":25543575,"node_id":"MDQ6VXNlcjI1NTQzNTc1","avatar_url":"https://avatars.githubusercontent.com/u/25543575?v=4","gravatar_id":"","url":"https://api.github.com/users/Nieal-Yang","html_url":"https://github.com/Nieal-Yang","followers_url":"https://api.github.com/users/Nieal-Yang/followers","following_url":"https://api.github.com/users/Nieal-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Nieal-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Nieal-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nieal-Yang/subscriptions","organizations_url":"https://api.github.com/users/Nieal-Yang/orgs","repos_url":"https://api.github.com/users/Nieal-Yang/repos","events_url":"https://api.github.com/users/Nieal-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Nieal-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T06:09:49Z","updated_at":"2021-01-06T06:09:49Z","author_association":"CONTRIBUTOR","body":"> > > > Hi @garyli1019. Maybe I think the current implementation is OK. Beacause even in streaming job, we need to accumulate batch records in memory during the check-point cycle and upsert data into hudi-table when check-point triggers. WDYT?\r\n> > > \r\n> > > \r\n> > > @Nieal-Yang sorry about the late reply. IMO The batch mode will work but not fully taking the advantage of flink. But we can optimize this step by step. To ensure this PR will work, would you add some unit tests to this PR?\r\n> > \r\n> > \r\n> > okay. This index has been used in production in my company. We will optimize it gradually\r\n> \r\n> Hi @Nieal-Yang Would you please tell me what's the Flink version you are using?\r\n@yanghua Yeah. The version we are using is flink-1.11.2.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755103932/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755121964","html_url":"https://github.com/apache/hudi/pull/2091#issuecomment-755121964","issue_url":"https://api.github.com/repos/apache/hudi/issues/2091","id":755121964,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTEyMTk2NA==","user":{"login":"ivorzhou","id":7235626,"node_id":"MDQ6VXNlcjcyMzU2MjY=","avatar_url":"https://avatars.githubusercontent.com/u/7235626?v=4","gravatar_id":"","url":"https://api.github.com/users/ivorzhou","html_url":"https://github.com/ivorzhou","followers_url":"https://api.github.com/users/ivorzhou/followers","following_url":"https://api.github.com/users/ivorzhou/following{/other_user}","gists_url":"https://api.github.com/users/ivorzhou/gists{/gist_id}","starred_url":"https://api.github.com/users/ivorzhou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivorzhou/subscriptions","organizations_url":"https://api.github.com/users/ivorzhou/orgs","repos_url":"https://api.github.com/users/ivorzhou/repos","events_url":"https://api.github.com/users/ivorzhou/events{/privacy}","received_events_url":"https://api.github.com/users/ivorzhou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T06:56:20Z","updated_at":"2021-01-06T06:56:20Z","author_association":"NONE","body":"> @ivorzhou : is the requirement to set default value or value from previous version of the record? if previous version of the record, then guess we already have another PR for this #2106\r\n\r\nI want to update record with specified field like SQL update.  \r\nUPDATE col='value' where id=1   ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755121964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755158309","html_url":"https://github.com/apache/hudi/pull/2410#issuecomment-755158309","issue_url":"https://api.github.com/repos/apache/hudi/issues/2410","id":755158309,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTE1ODMwOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T08:25:30Z","updated_at":"2021-01-07T06:39:13Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2410?src=pr&el=h1) Report\n> Merging [#2410](https://codecov.io/gh/apache/hudi/pull/2410?src=pr&el=desc) (0e81d6e) into [master](https://codecov.io/gh/apache/hudi/commit/698694a1571cdcc9848fc79aa34c8cbbf9662bc4?el=desc) (698694a) will **decrease** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2410/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2410?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2410      +/-   ##\n============================================\n- Coverage     50.23%   50.20%   -0.03%     \n- Complexity     2985     2991       +6     \n============================================\n  Files           410      415       +5     \n  Lines         18398    18439      +41     \n  Branches       1884     1885       +1     \n============================================\n+ Hits           9242     9258      +16     \n- Misses         8398     8424      +26     \n+ Partials        758      757       -1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.28% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.76% <ø> (-0.05%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `10.20% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.35% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `62.81% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (-0.10%)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2410?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../org/apache/hudi/common/engine/EngineProperty.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2VuZ2luZS9FbmdpbmVQcm9wZXJ0eS5qYXZh) | `0.00% <ø> (ø)` | `0.00 <0.00> (?)` | |\n| [...java/org/apache/hudi/common/engine/EngineType.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2VuZ2luZS9FbmdpbmVUeXBlLmphdmE=) | `0.00% <ø> (ø)` | `0.00 <0.00> (?)` | |\n| [...apache/hudi/common/engine/HoodieEngineContext.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2VuZ2luZS9Ib29kaWVFbmdpbmVDb250ZXh0LmphdmE=) | `0.00% <ø> (ø)` | `0.00 <0.00> (?)` | |\n| [...apache/hudi/common/engine/TaskContextSupplier.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2VuZ2luZS9UYXNrQ29udGV4dFN1cHBsaWVyLmphdmE=) | `0.00% <ø> (ø)` | `0.00 <0.00> (?)` | |\n| [...g/apache/hudi/common/function/FunctionWrapper.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2Z1bmN0aW9uL0Z1bmN0aW9uV3JhcHBlci5qYXZh) | `0.00% <ø> (ø)` | `0.00 <0.00> (?)` | |\n| [.../apache/hudi/operator/InstantGenerateOperator.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9vcGVyYXRvci9JbnN0YW50R2VuZXJhdGVPcGVyYXRvci5qYXZh) | `0.00% <ø> (ø)` | `0.00 <0.00> (ø)` | |\n| [...c/main/java/org/apache/hudi/util/StreamerUtil.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS91dGlsL1N0cmVhbWVyVXRpbC5qYXZh) | `11.62% <ø> (ø)` | `3.00 <0.00> (ø)` | |\n| [.../hudi/async/SparkStreamingAsyncCompactService.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXN5bmMvU3BhcmtTdHJlYW1pbmdBc3luY0NvbXBhY3RTZXJ2aWNlLmphdmE=) | `0.00% <ø> (ø)` | `0.00 <0.00> (ø)` | |\n| [.../apache/hudi/utilities/HoodieSnapshotExporter.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0hvb2RpZVNuYXBzaG90RXhwb3J0ZXIuamF2YQ==) | `88.69% <ø> (ø)` | `28.00 <0.00> (ø)` | |\n| [...in/java/org/apache/hudi/hive/HoodieHiveClient.java](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSG9vZGllSGl2ZUNsaWVudC5qYXZh) | `72.01% <0.00%> (-0.23%)` | `40.00% <0.00%> (ø%)` | |\n| ... and [9 more](https://codecov.io/gh/apache/hudi/pull/2410/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755158309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755171465","html_url":"https://github.com/apache/hudi/issues/2409#issuecomment-755171465","issue_url":"https://api.github.com/repos/apache/hudi/issues/2409","id":755171465,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTE3MTQ2NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T08:54:33Z","updated_at":"2021-01-06T08:54:33Z","author_association":"CONTRIBUTOR","body":"can you copy the contents of hoodie.properties of the dataset here ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755171465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755171962","html_url":"https://github.com/apache/hudi/issues/2408#issuecomment-755171962","issue_url":"https://api.github.com/repos/apache/hudi/issues/2408","id":755171962,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTE3MTk2Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T08:55:18Z","updated_at":"2021-01-06T08:55:18Z","author_association":"CONTRIBUTOR","body":"@umehrot2 : Can you take a look at this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755171962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755176463","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-755176463","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":755176463,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTE3NjQ2Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T09:04:51Z","updated_at":"2021-01-06T09:04:51Z","author_association":"CONTRIBUTOR","body":"I think the command line parameters are not passed correctly\r\n\r\n--hoodie-conf hoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.CustomKeyGenerator\r\n--hoodie-conf hoodie.datasource.write.recordkey.field=request_timestamp:TIMESTAMP\r\n--hoodie-conf  hoodie.deltastreamer.source.dfs.root=s3://athena-examples-us-west-2/elb/parquet/year=2015/month=1/day=1\r\n--hoodie-conf  hoodie.datasource.write.partitionpath.field=request_timestamp:TIMESTAMP\r\n\r\nOn a related note, your record key and partition path are both same. This is ok if you are testing out a sample dataset but wont scale in real world as you would end-up with one record per directory.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755176463/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755243599","html_url":"https://github.com/apache/hudi/pull/2379#issuecomment-755243599","issue_url":"https://api.github.com/repos/apache/hudi/issues/2379","id":755243599,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTI0MzU5OQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T11:22:08Z","updated_at":"2021-01-06T11:22:08Z","author_association":"CONTRIBUTOR","body":"> LGTM. @n3nash or @leesf would you mind taking a final pass and merge this?\r\n\r\n@satishkotha @n3nash @leesf thanks , happy new years! Have resolved all the comments.\r\n\r\n@satishkotha \r\nAlso have some questions for you. Why clustering instant time should greater than latest commit? I see BaseScheduleCompactionActionExecutor.execute() have check that should not have earliest write inflight instant time than compaction instant time. But BaseClusteringPlanActionExecutor.execute() do not have similarity check. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755243599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755255074","html_url":"https://github.com/apache/hudi/pull/2405#issuecomment-755255074","issue_url":"https://api.github.com/repos/apache/hudi/issues/2405","id":755255074,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTI1NTA3NA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T11:49:05Z","updated_at":"2021-01-06T11:49:05Z","author_association":"CONTRIBUTOR","body":"merging...","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755255074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755261406","html_url":"https://github.com/apache/hudi/pull/2410#issuecomment-755261406","issue_url":"https://api.github.com/repos/apache/hudi/issues/2410","id":755261406,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTI2MTQwNg==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T12:04:41Z","updated_at":"2021-01-06T12:04:41Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I have a concern about this operation. The common module seems not a good place to hold the context of the client engine. It will break the abstraction. The write client engine context should be hosted in the client common package.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755261406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755280426","html_url":"https://github.com/apache/hudi/pull/2411#issuecomment-755280426","issue_url":"https://api.github.com/repos/apache/hudi/issues/2411","id":755280426,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTI4MDQyNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T12:48:33Z","updated_at":"2021-01-06T13:32:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2411?src=pr&el=h1) Report\n> Merging [#2411](https://codecov.io/gh/apache/hudi/pull/2411?src=pr&el=desc) (f6dbaf7) into [master](https://codecov.io/gh/apache/hudi/commit/698694a1571cdcc9848fc79aa34c8cbbf9662bc4?el=desc) (698694a) will **increase** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2411/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2411?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2411      +/-   ##\n============================================\n+ Coverage     50.23%   50.26%   +0.02%     \n- Complexity     2985     2988       +3     \n============================================\n  Files           410      410              \n  Lines         18398    18400       +2     \n  Branches       1884     1885       +1     \n============================================\n+ Hits           9242     9248       +6     \n+ Misses         8398     8394       -4     \n  Partials        758      758              \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.28% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.86% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `10.20% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.35% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `62.81% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.71% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2411?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2411/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | `26.00% <0.00%> (ø%)` | |\n| [...ain/java/org/apache/hudi/avro/HoodieAvroUtils.java](https://codecov.io/gh/apache/hudi/pull/2411/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXZyby9Ib29kaWVBdnJvVXRpbHMuamF2YQ==) | `57.28% <0.00%> (+3.35%)` | `41.00% <0.00%> (+3.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755280426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755367224","html_url":"https://github.com/apache/hudi/pull/2411#issuecomment-755367224","issue_url":"https://api.github.com/repos/apache/hudi/issues/2411","id":755367224,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM2NzIyNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T15:29:35Z","updated_at":"2021-01-06T15:29:35Z","author_association":"MEMBER","body":"cc @zhedoubushishi @umehrot2 as FYI ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755367224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755372065","html_url":"https://github.com/apache/hudi/pull/2410#issuecomment-755372065","issue_url":"https://api.github.com/repos/apache/hudi/issues/2410","id":755372065,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM3MjA2NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T15:37:24Z","updated_at":"2021-01-06T15:37:24Z","author_association":"MEMBER","body":"@yanghua  Did mull this a lot, along similar lines. I was thinking about Engine as a general construct that provides parallel execution, rather than being tied to the client/writing. For e.g we can use parallelized listing even on the InputFormat implementations. \r\n\r\nThe core issue is we want to parallelize `FSUtils.getAllPartitionPaths()` (and the underlying call to the HoodieTableMetadata#getAllPartitionPaths()). if you can think of a better way, please let us know. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755372065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755391853","html_url":"https://github.com/apache/hudi/pull/2410#issuecomment-755391853","issue_url":"https://api.github.com/repos/apache/hudi/issues/2410","id":755391853,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM5MTg1Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T16:08:00Z","updated_at":"2021-01-06T16:08:00Z","author_association":"CONTRIBUTOR","body":"> @yanghua Did mull this a lot, along similar lines. I was thinking about Engine as a general construct that provides parallel execution, rather than being tied to the client/writing. For e.g we can use parallelized listing even on the InputFormat implementations.\r\n> \r\n> The core issue is we want to parallelize `FSUtils.getAllPartitionPaths()` (and the underlying call to the HoodieTableMetadata#getAllPartitionPaths()). if you can think of a better way, please let us know.\r\n\r\nMaybe I don't have a good way, but I personally tend to make common a little simpler, so that it does not blend with the engine. Engine can not be tied to client/writing, but can engine become a standalone module? For example, between common and client? `common <- engine <- client`. The operations to be parallelized are in the engine module, I don't know if it is feasible.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755391853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755441343","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-755441343","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":755441343,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTQ0MTM0Mw==","user":{"login":"SureshK-T2S","id":17935082,"node_id":"MDQ6VXNlcjE3OTM1MDgy","avatar_url":"https://avatars.githubusercontent.com/u/17935082?v=4","gravatar_id":"","url":"https://api.github.com/users/SureshK-T2S","html_url":"https://github.com/SureshK-T2S","followers_url":"https://api.github.com/users/SureshK-T2S/followers","following_url":"https://api.github.com/users/SureshK-T2S/following{/other_user}","gists_url":"https://api.github.com/users/SureshK-T2S/gists{/gist_id}","starred_url":"https://api.github.com/users/SureshK-T2S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SureshK-T2S/subscriptions","organizations_url":"https://api.github.com/users/SureshK-T2S/orgs","repos_url":"https://api.github.com/users/SureshK-T2S/repos","events_url":"https://api.github.com/users/SureshK-T2S/events{/privacy}","received_events_url":"https://api.github.com/users/SureshK-T2S/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T17:23:56Z","updated_at":"2021-01-06T17:23:56Z","author_association":"NONE","body":"Thanks for your response @bvaradar. Entering the parameters in that way did the trick for this particular issue.\r\n```\r\nspark-submit --class org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer  \\\r\n>   --packages org.apache.hudi:hudi-spark-bundle_2.11:0.6.0,org.apache.spark:spark-avro_2.11:2.4.4\\\r\n>   --master yarn --deploy-mode client \\\r\n> /usr/lib/hudi/hudi-utilities-bundle.jar --table-type MERGE_ON_READ \\\r\n>   --source-ordering-field updated_at \\\r\n>   --source-class org.apache.hudi.utilities.sources.ParquetDFSSource \\\r\n>   --target-base-path s3://mysqlcdc-stream-prod/kinesis-glue-original/hudi_order_table --target-table hudi_order_table \\\r\n> --hoodie-conf hoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.CustomKeyGenerator\\\r\n>   --hoodie-conf hoodie.datasource.write.recordkey.field=id:TIMESTAMP\\\r\n>   --hoodie-conf hoodie.deltastreamer.source.dfs.root=s3://mysqlcdc-stream-prod/kinesis-glue-original/order_table\\\r\n>   --hoodie-conf hoodie.datasource.write.partitionpath.field=order_placed_on:TIMESTAMP\r\n```\r\nHowever, I ran into another error shortly after(NullPointerException) that I assume is the same as the one seen here: https://issues.apache.org/jira/browse/HUDI-1200\r\n```\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.hudi.keygen.SimpleKeyGenerator.<init>(SimpleKeyGenerator.java:35)\r\n\tat org.apache.hudi.keygen.CustomKeyGenerator.getRecordKey(CustomKeyGenerator.java:128)\r\n```\r\n\r\nAs suggested in that ticket I pivoted to using TimeBasedKeyGenerator, but again I ran into another issue:\r\n```\r\nspark-submit --class org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer  \\\r\n>   --packages org.apache.hudi:hudi-spark-bundle_2.11:0.6.0,org.apache.spark:spark-avro_2.11:2.4.4\\\r\n>   --master yarn --deploy-mode client \\\r\n> /usr/lib/hudi/hudi-utilities-bundle.jar --table-type MERGE_ON_READ \\\r\n>   --source-ordering-field updated_at \\\r\n>   --source-class org.apache.hudi.utilities.sources.ParquetDFSSource \\\r\n>   --target-base-path s3://mysqlcdc-stream-prod/kinesis-glue-original/hudi_order_table_2 --target-table hudi_order_table_2 \\\r\n> --hoodie-conf hoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.TimestampBasedKeyGenerator\\\r\n>   --hoodie-conf hoodie.datasource.write.recordkey.field=id\\\r\n>   --hoodie-conf hoodie.deltastreamer.source.dfs.root=s3://mysqlcdc-stream-prod/kinesis-glue-original/order_table\\\r\n>   --hoodie-conf hoodie.datasource.write.partitionpath.field=order_placed_on:TIMESTAMP\\\r\n>   --hoodie-conf hoodie.deltastreamer.keygen.timebased.timestamp.type=DATE_STRING\\\r\n>   --hoodie-conf hoodie.deltastreamer.keygen.timebased.input.dateformat=\"yyyy-MM-dd hh:mm:ss\"\\\r\n>   --hoodie-conf hoodie.deltastreamer.keygen.timebased.output.dateformat=yyyy/MM/dd\r\n```\r\n\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: hoodie.deltastreamer.keygen.timebased.timestamp.scalar.time.unit is not specified but scalar it supplied as time value\r\n\tat org.apache.hudi.keygen.TimestampBasedKeyGenerator.convertLongTimeToMillis(TimestampBasedKeyGenerator.java:205)\r\n```\r\n\r\nI believe this is the same as the issue seen here: https://issues.apache.org/jira/browse/HUDI-1150\r\n\r\nAs per that ticket this might be caused by null values in the timestamp partition field. So I pivoted again, and opted for SimpleKeyGenerator on the same data with 3 simple fields instead, which worked great!\r\n\r\n```\r\nspark-submit --class org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer  \\\r\n>   --packages org.apache.hudi:hudi-spark-bundle_2.11:0.6.0,org.apache.spark:spark-avro_2.11:2.4.4\\\r\n>   --master yarn --deploy-mode client \\\r\n> /usr/lib/hudi/hudi-utilities-bundle.jar --table-type MERGE_ON_READ \\\r\n>   --source-ordering-field updated_at \\\r\n>   --source-class org.apache.hudi.utilities.sources.ParquetDFSSource \\\r\n>   --target-base-path s3://mysqlcdc-stream-prod/kinesis-glue-original/hudi_order_table_2 --target-table hudi_order_table_2 \\\r\n> --hoodie-conf hoodie.datasource.write.keygenerator.class=org.apache.hudi.utilities.keygen.ComplexKeyGenerator\\\r\n>   --hoodie-conf hoodie.datasource.write.recordkey.field=id\\\r\n>   --hoodie-conf hoodie.deltastreamer.source.dfs.root=s3://mysqlcdc-stream-prod/kinesis-glue-original/order_table\\\r\n>   --hoodie-conf hoodie.datasource.write.partitionpath.field=year,month,day\r\n```\r\nBut when I loaded the data on Spark and checked the field in question there were no null values, only 1970-01-01 values. Could the null values automatically have been converted to those values at some part in the process?\r\n![image](https://user-images.githubusercontent.com/17935082/103799774-8baf9a80-5071-11eb-89d6-01f378122c0d.png)\r\n\r\nIs it fine if I keep this ticket open while I troubleshoot further? If you'd rather I close this and open another ticket for a different issue please let me know.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755441343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755524721","html_url":"https://github.com/apache/hudi/pull/2410#issuecomment-755524721","issue_url":"https://api.github.com/repos/apache/hudi/issues/2410","id":755524721,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTUyNDcyMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T19:01:43Z","updated_at":"2021-01-06T19:01:43Z","author_association":"MEMBER","body":">Engine can not be tied to client/writing, but can engine become a standalone module? \r\n\r\nPotentially. We can consider this again, when we think about the additional abstractions needed to make more code move from flink-client, java-client etc back into client-common? \r\n\r\nThat said, the problem here is that FSUtils is in `hudi-common`. Alternatively we can move `FSUtils` & the `FileSystemBackedTableMetadata` to client-common? Seems like FSUtils not really called in hudi-common at all? \r\n\r\n\r\n![image](https://user-images.githubusercontent.com/1179324/103809116-e6170f80-500d-11eb-9086-e00ef434775a.png)\r\n\r\nBut, `FileSystemBackedTableMetadata` is used by the query side as well and has to be in `hudi-common`. So we can make a new class inside `client-common` that does parallelized `getAllPartitionPaths()`? \r\n\r\n\r\nwdyt? @umehrot2 \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755524721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755529282","html_url":"https://github.com/apache/hudi/pull/2410#issuecomment-755529282","issue_url":"https://api.github.com/repos/apache/hudi/issues/2410","id":755529282,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTUyOTI4Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T19:05:12Z","updated_at":"2021-01-06T20:55:31Z","author_association":"MEMBER","body":"This points to a deeper discussion. Right now, hudi-common is depended upon by `hudi-hadoop-mr` which has all the Hive/InputFormat code. Should that also be redone as a client-module, if saw we want to support Hive writing ultimately? That is a large change though. \r\n\r\nSo, we can do either of the two options here for now.\r\n\r\nA) move `HoodieEngineContext` to hudi-common; add a `HoodieMREngineContext` (very similar to `HoodieJavaEngineContext`)\r\nB) Move FSUtils#getAllPartitionPaths to hudi-client-common and have another parallelized impl. \r\n\r\nI still prefer A. But want to hear what you both think as well. Let's make a quick call, since we want this in soon :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755529282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755726635","html_url":"https://github.com/apache/hudi/pull/2412#issuecomment-755726635","issue_url":"https://api.github.com/repos/apache/hudi/issues/2412","id":755726635,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTcyNjYzNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T21:30:48Z","updated_at":"2021-01-11T19:51:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2412?src=pr&el=h1) Report\n> Merging [#2412](https://codecov.io/gh/apache/hudi/pull/2412?src=pr&el=desc) (9b9a5c9) into [master](https://codecov.io/gh/apache/hudi/commit/698694a1571cdcc9848fc79aa34c8cbbf9662bc4?el=desc) (698694a) will **increase** coverage by `0.53%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2412/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2412?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2412      +/-   ##\n============================================\n+ Coverage     50.23%   50.76%   +0.53%     \n- Complexity     2985     3063      +78     \n============================================\n  Files           410      419       +9     \n  Lines         18398    18779     +381     \n  Branches       1884     1918      +34     \n============================================\n+ Hits           9242     9534     +292     \n- Misses         8398     8470      +72     \n- Partials        758      775      +17     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.26% <ø> (-0.02%)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `52.09% <ø> (+0.28%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `10.20% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.06% <ø> (-0.29%)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `65.90% <ø> (+3.08%)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (-0.10%)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `66.84% <ø> (+1.54%)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.43% <ø> (-0.23%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2412?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/hadoop/utils/HoodieInputFormatUtils.java](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3V0aWxzL0hvb2RpZUlucHV0Rm9ybWF0VXRpbHMuamF2YQ==) | `44.56% <0.00%> (-4.53%)` | `26.00% <0.00%> (ø%)` | |\n| [...common/table/view/PriorityBasedFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvUHJpb3JpdHlCYXNlZEZpbGVTeXN0ZW1WaWV3LmphdmE=) | `94.36% <0.00%> (-2.74%)` | `33.00% <0.00%> (ø%)` | |\n| [...i/common/table/timeline/TimelineMetadataUtils.java](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL1RpbWVsaW5lTWV0YWRhdGFVdGlscy5qYXZh) | `71.69% <0.00%> (-1.38%)` | `17.00% <0.00%> (ø%)` | |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVNwYXJrU3FsV3JpdGVyLnNjYWxh) | `48.75% <0.00%> (-0.71%)` | `0.00% <0.00%> (ø%)` | |\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `64.16% <0.00%> (-0.30%)` | `33.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.50% <0.00%> (-0.26%)` | `50.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...in/java/org/apache/hudi/hive/HoodieHiveClient.java](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSG9vZGllSGl2ZUNsaWVudC5qYXZh) | `72.01% <0.00%> (-0.23%)` | `40.00% <0.00%> (ø%)` | |\n| [.../org/apache/hudi/cli/commands/MetadataCommand.java](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL01ldGFkYXRhQ29tbWFuZC5qYXZh) | `1.11% <0.00%> (-0.02%)` | `1.00% <0.00%> (ø%)` | |\n| [...va/org/apache/hudi/metadata/BaseTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvQmFzZVRhYmxlTWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [.../org/apache/hudi/metadata/HoodieTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| ... and [32 more](https://codecov.io/gh/apache/hudi/pull/2412/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755726635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755777542","html_url":"https://github.com/apache/hudi/pull/2410#issuecomment-755777542","issue_url":"https://api.github.com/repos/apache/hudi/issues/2410","id":755777542,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTc3NzU0Mg==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T23:29:37Z","updated_at":"2021-01-06T23:30:07Z","author_association":"CONTRIBUTOR","body":"@yanghua Thank you for the feedback and bringing up a good discussion. Me and Vinoth had a quick call on this, and we still feel that option A of moving `HoodieEngineContext` over to `hudi-common` would be more reasonable. By moving this to `hudi-common` and having like a `HoodieMREngineContext` or `HoodieQueryEngineContext`, different query engines can potentially be able to use the parallelization optimizations. That is why we would want to move just the interface over to `hudi-common`. The query side engine contexts can sit in `hudi-common`, while the writer side engine contexts will continue to be in `hudi-client`. Please let us know if you have concerns with this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755777542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755791465","html_url":"https://github.com/apache/hudi/issues/2346#issuecomment-755791465","issue_url":"https://api.github.com/repos/apache/hudi/issues/2346","id":755791465,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTc5MTQ2NQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T00:17:06Z","updated_at":"2021-01-07T00:19:31Z","author_association":"MEMBER","body":"@sumihehe I'm not able to reproduce this issue using dataset in [docker demo](https://hudi.apache.org/docs/docker_demo.html)\r\n\r\n0: jdbc:hive2://hiveserver:10000>  select `_hoodie_commit_time`, symbol, ts, volume, open, close  from stock_ticks_mor_rt where `_hoodie_commit_time`='20210106235525';\r\n+----------------------+---------+----------------------+---------+------------+------------+--+\r\n| _hoodie_commit_time  | symbol  |          ts          | volume  |    open    |   close    |\r\n+----------------------+---------+----------------------+---------+------------+------------+--+\r\n| 20210106235525       | NIHD    | 2018-08-31 10:29:00  | 2125    | 5.67       | 5.67       |\r\n| 20210106235525       | CDMO    | 2018-08-31 09:58:00  | 8577    | 7.02       | 7.07       |\r\n| 20210106235525       | MRTX    | 2018-08-31 10:28:00  | 1844    | 56.15      | 56.15      |\r\n| 20210106235525       | NTRA    | 2018-08-31 09:59:00  | 1326    | 27.45      | 27.45      |\r\n| 20210106235525       | DRNA    | 2018-08-31 09:51:00  | 334     | 16.0       | 16.0       |\r\n| 20210106235525       | STAA    | 2018-08-31 09:59:00  | 1709    | 47.95      | 47.95      |\r\n...\r\n197 rows selected (0.423 seconds)\r\n\r\n\r\nLooked at code closely, I dont see anything obviously wrong. Could you help explain little more about your dataset so i can try to reproduce it? \r\n\r\n- How many rows does it have? \r\n- How many commits and how many deltacommits? \r\n- Can you try the same query on **mor_ro table? \r\n- Could you try other input format such as HoodieParquetRealtimeInputFormat.  (as @bvaradar suggested)\r\n\r\nIt'd be awesome if you have a reproducible test using above docker demo or on simple spark shell","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755791465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755797895","html_url":"https://github.com/apache/hudi/issues/2100#issuecomment-755797895","issue_url":"https://api.github.com/repos/apache/hudi/issues/2100","id":755797895,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTc5Nzg5NQ==","user":{"login":"cdmikechen","id":12069428,"node_id":"MDQ6VXNlcjEyMDY5NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12069428?v=4","gravatar_id":"","url":"https://api.github.com/users/cdmikechen","html_url":"https://github.com/cdmikechen","followers_url":"https://api.github.com/users/cdmikechen/followers","following_url":"https://api.github.com/users/cdmikechen/following{/other_user}","gists_url":"https://api.github.com/users/cdmikechen/gists{/gist_id}","starred_url":"https://api.github.com/users/cdmikechen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdmikechen/subscriptions","organizations_url":"https://api.github.com/users/cdmikechen/orgs","repos_url":"https://api.github.com/users/cdmikechen/repos","events_url":"https://api.github.com/users/cdmikechen/events{/privacy}","received_events_url":"https://api.github.com/users/cdmikechen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T00:37:35Z","updated_at":"2021-01-07T00:37:35Z","author_association":"CONTRIBUTOR","body":"@bhasudha \r\nI have a new problem. If the timeline server is deployed separately in the kerberized hdfs environment, and the service is called after the token refresh time of Kerberos, the authorization failure exception will appear.\r\n```\r\nWARN security.UserGroupInformation: Exception encountered while running the renewal command for hdfs@XXXX.COM. (TGT end time:1609920920000, renewalFailures: org.apache.hadoop.metrics2.lib.MutableGaugeInt@7964ce9e,renewalFailuresTotal: org.apache.hadoop.metrics2.lib.MutableGaugeLong@7d5b456a)\r\nExitCodeException exitCode=1: kinit: KDC can't fulfill requested option while renewing credentials\r\n```\r\n\r\nI think this is a bug. If the timeline server is in a kerberized hdfs environment, it should refresh the credentials regularly. Otherwise, when the service is not called for a long time, the authorization will be invalid and the service will not be available.\r\nIf you have time, can you confirm this is a problem please. If it is a bug, I can propose an issue on JIRA and try to fix it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755797895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755814009","html_url":"https://github.com/apache/hudi/issues/2100#issuecomment-755814009","issue_url":"https://api.github.com/repos/apache/hudi/issues/2100","id":755814009,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgxNDAwOQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T00:52:19Z","updated_at":"2021-01-07T00:52:19Z","author_association":"MEMBER","body":"@cdmikechen are you deploying the timeline server separately on its own? That's interesting. Don't think anyone has tested it this way. cc @leesf as well, in case he has done something like this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755814009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755817612","html_url":"https://github.com/apache/hudi/pull/2413#issuecomment-755817612","issue_url":"https://api.github.com/repos/apache/hudi/issues/2413","id":755817612,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgxNzYxMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T01:04:03Z","updated_at":"2021-01-07T01:04:03Z","author_association":"MEMBER","body":"cc @prashantwason @rmpifer FYI ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755817612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755833153","html_url":"https://github.com/apache/hudi/pull/2413#issuecomment-755833153","issue_url":"https://api.github.com/repos/apache/hudi/issues/2413","id":755833153,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgzMzE1Mw==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T01:56:57Z","updated_at":"2021-01-07T01:56:57Z","author_association":"MEMBER","body":"Looks fine. \r\n\r\nI checked and you can verify too, there is no API in HoodieWriteClient which can be called before preWrite() and  end up returning a stale version of metadata.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/755833153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]