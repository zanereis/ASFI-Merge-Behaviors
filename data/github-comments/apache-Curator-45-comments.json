[{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783239","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783239","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783239,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyMzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T23:47:38Z","updated_at":"2025-01-21T13:46:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>I'd like to see this all addressed. So, yeah, let's do it. The <tt>EnsembleTracker</tt> is odd - I don't really understand it tbh but I think it gets called way too much. Do you have time to do this <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\" class=\"user-hover\" rel=\"cammckenzie\">Cam McKenzie</a> or <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ryarran\" class=\"user-hover\" rel=\"ryarran\">Rhys Yarranton</a>?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783244","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783244","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783244,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyNDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T23:52:44Z","updated_at":"2025-01-21T13:46:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>I won't have a chance to look this week, but I will try and get onto it next week. Would be good to have a unit test that reproduces the issue to start with.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783795","html_url":"https://github.com/apache/curator/issues/1092#issuecomment-2604783795","issue_url":"https://api.github.com/repos/apache/curator/issues/1092","id":2604783795,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM3OTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T22:35:40Z","updated_at":"2025-01-21T13:46:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>It would help if you can build a test case to show the problem.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783249","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783249","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783249,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyNDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T01:56:40Z","updated_at":"2025-01-21T13:46:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ryarran\" class=\"user-hover\" rel=\"ryarran\">Rhys Yarranton</a>, do you have a unit test that can reproduce this? I've been trying to write one, but I can't reproduce the problem. I see that if you configure the original connection string using hostnames, then you will get a single case of calling intoÂ updateServerList() unnecessarily (as the hostnames don't match the IPs in a string comparison), but after that, it seems to work fine, as the 'current' connection string stored by Curator is the one that contains the IPs.</p>\n\n<p>I'm only running on the test server, but I don't see the configured hostnames coming back in a different order either. I was only running with 3 instances in the cluster though, not sure if you were running with more which may provoke the issue.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783802","html_url":"https://github.com/apache/curator/issues/1092#issuecomment-2604783802","issue_url":"https://api.github.com/repos/apache/curator/issues/1092","id":2604783802,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM4MDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T03:52:37Z","updated_at":"2025-01-21T13:46:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viniti\">viniti</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a> I am facing this issue intermittently(last time was 15 days ago) on my staging environment, could not replicate on my local environment. When LSAdapter and CuratorClient are closed, I see below logs as well, if that helps:</p>\n\n<p>2020-06-04 18:23:29 INFO  CuratorFrameworkImpl:937 - backgroundOperationsLoop exiting<br/>\n2020-06-04 18:23:29 ERROR LeaderSelector:454 - The leader threw an exception<br/>\njava.lang.IllegalStateException: instance must be started before calling this method<br/>\nat org.apache.curator.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:444)<br/>\nat org.apache.curator.framework.imps.CuratorFrameworkImpl.delete(CuratorFrameworkImpl.java:424)<br/>\nat org.apache.curator.framework.recipes.locks.LockInternals.deleteOurPath(LockInternals.java:347)<br/>\nat org.apache.curator.framework.recipes.locks.LockInternals.releaseLock(LockInternals.java:124)<br/>\nat org.apache.curator.framework.recipes.locks.InterProcessMutex.release(InterProcessMutex.java:154)<br/>\nat org.apache.curator.framework.recipes.leader.LeaderSelector.doWork(LeaderSelector.java:449)<br/>\nat org.apache.curator.framework.recipes.leader.LeaderSelector.doWorkLoop(LeaderSelector.java:466)<br/>\nat org.apache.curator.framework.recipes.leader.LeaderSelector.access$100(LeaderSelector.java:65)<br/>\nat org.apache.curator.framework.recipes.leader.LeaderSelector$2.call(LeaderSelector.java:246)<br/>\nat org.apache.curator.framework.recipes.leader.LeaderSelector$2.call(LeaderSelector.java:240)<br/>\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)<br/>\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)<br/>\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)<br/>\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)<br/>\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)<br/>\nat java.lang.Thread.run(Thread.java:745)<br/>\n2020-06-04 18:23:29 INFO  ClientCnxn:524 - EventThread shut down for session: 0x302f056e0960036<br/>\n2020-06-04 18:23:29 INFO  ZooKeeper:1422 - Session: 0x302f056e0960036 closed<br/>\n2020-06-04 18:23:29 INFO  CuratorFrameworkImpl:937 - backgroundOperationsLoop exiting<br/>\n2020-06-04 18:23:29 INFO  ZooKeeper:1422 - Session: 0x302f056e0960035 closed<br/>\n2020-06-04 18:23:29 INFO  ClientCnxn:524 - EventThread shut down for session: 0x302f056e0960035</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783257","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783257","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783257,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyNTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T04:01:21Z","updated_at":"2025-01-21T13:46:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ryarran\">ryarran</a>:</i>\n<p>No unit test.Â  What you describe sounds plausible for 4.3 (<em>i.e.</em>, given the fix for <a href=\"https://issues.apache.org/jira/browse/CURATOR-551\" title=\"Curator client always call updateServerList with original serverList value, not the ones updated by EnsembleTracker\" class=\"issue-link\" data-issue-key=\"CURATOR-551\"><del>CURATOR-551</del></a>).Â  iiuc,</p>\n<ul>\n\t<li>At first FixedEnsembleProvider will have the connection string provided to Curator at start-up.Â  This value should also make its way into Helper.</li>\n\t<li>After connect or reconnect or the watch fires, EnsembleTracker will determine a (possibly different) connection string according to the ZK servers based on the special config node.Â  This is a background operation.Â  Once determined, this value gets put into the FixedEnsembleProvider, but is not immediately pushed into Helper.</li>\n\t<li>At a later time, say connection suspended, HandleHolder will check the FixedEnsembleProvider value against the Helper value.Â  If they differ, the FixedEnsembleProvider value will be returned.Â  (In 4.3, not 4.2.)</li>\n\t<li>Shortly after, but in a different method (ConnectionState.handleNewConnectionString)), this new value will be put back into Helper.Â  (So there may be a window for multiple check-fails to amass before it resolves itself, though it seems it should be small.)</li>\n</ul>\n\n\n<p>Remark: ExhibitorEnsembleProvider is different from FixedEnsembleProvider for our purposes.Â  It ignores the value from EnsembleTracker.</p>\n\n<p>Is the value from EnsembleTracker consistent, apart from genuine changes?Â  The servers are in a HashMap with a key of the server ID.Â  There are things that could make that inconsistent, like two keys in the same bucket inserted in different orders.Â  In practice this seems like it would be rare, maybe even never.Â  (Of course, ZooKeeper could change it to an inconsistent implementation, not that there's any obvious reason to.)</p>\n\n<p>You could guard against this if you wanted.Â Â EnsembleTracker.configToConnectionString is Curator code.Â  It could impose an order on the servers, <em>e.g.</em>, by interjecting a TreeMap.</p>\n\n<p>So ... absent HashMap madness, and unless values are getting reset somewere I haven't noticed ... in 4.3 there could be one glitch.Â  Or possibly one glitch detected more than once due to multiple threads.Â  But after that the value should ultimately have come from EnsembleTracker and things should clear up.</p>\n\n<p>Caveat, I do not pretend to understand this code well.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783808","html_url":"https://github.com/apache/curator/issues/1092#issuecomment-2604783808","issue_url":"https://api.github.com/repos/apache/curator/issues/1092","id":2604783808,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM4MDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T04:28:58Z","updated_at":"2025-01-21T13:46:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>You can see in the exception \"java.lang.IllegalStateException: instance must be started before calling this method\". That exception happens when the leader selector hasn't completed shutdown before the CuratorFramework instance is closed. But, that's not the source of your problem. Please reformat the code - I can't read it as it's presented here.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783818","html_url":"https://github.com/apache/curator/issues/1092#issuecomment-2604783818","issue_url":"https://api.github.com/repos/apache/curator/issues/1092","id":2604783818,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM4MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T05:04:51Z","updated_at":"2025-01-21T13:46:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viniti\">viniti</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a> Reformatted the code in description. For the IllegalStateException, should I put a sleep between LSAdapter::close() and CuratorFramework::close()?</p>\n\n<p>I also saw interruptLeadership() in LeaderSelector class which cancels a future task, should I call this before close()?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783824","html_url":"https://github.com/apache/curator/issues/1092#issuecomment-2604783824","issue_url":"https://api.github.com/repos/apache/curator/issues/1092","id":2604783824,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM4MjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T15:21:09Z","updated_at":"2025-01-21T13:46:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>You are swallowing the interrupted exception. When you get <tt>InterruptedException</tt> you must exit your <tt>takeLeadership()</tt>. In your code example, you are merely resetting the interrupted state and continuing the loop - this will cause an infinite loop of interrupted exceptions, btw. After calling <tt>Thread.currentThread().interrupt();</tt> you should exit the <tt>while</tt> loop.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783830","html_url":"https://github.com/apache/curator/issues/1092#issuecomment-2604783830","issue_url":"https://api.github.com/repos/apache/curator/issues/1092","id":2604783830,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM4MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T15:53:04Z","updated_at":"2025-01-21T13:46:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viniti\">viniti</a>:</i>\n<p>Sorry my bad Jordan, while pasting the code here, I removed the business logic to make things clear and unknowingly remove the line inside catch block where an exception was always expected to be thrown when LSAdapter.close() is called.</p>\n\n<p>So, what currently happens is, when an InterruptedException is catched, inside the catch block, code is trying to create a znode. If client 's current state is CLOSED(which will always be the case when LSAdapter.close() is called), this line will throw exception resulting in takeLeadership() exit. Else if, client state is STARTED, znode should be created. I am updating the code for your understanding. Apologies for the confusion. Please have a look once more.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783835","html_url":"https://github.com/apache/curator/issues/1092#issuecomment-2604783835","issue_url":"https://api.github.com/repos/apache/curator/issues/1092","id":2604783835,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM4MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T15:55:23Z","updated_at":"2025-01-21T13:46:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viniti\">viniti</a>:</i>\n<p>Updated the code for clarification</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783845","html_url":"https://github.com/apache/curator/issues/1092#issuecomment-2604783845","issue_url":"https://api.github.com/repos/apache/curator/issues/1092","id":2604783845,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM4NDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T16:32:44Z","updated_at":"2025-01-21T13:46:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>I'm not sure how the clarification helps. The <tt>takeLeadership()</tt> is called from a thread held by the LeaderSelector instance. Your <tt>takeLeadership()</tt> method can be interrupted for a variety of reasons: closing the LeaderSelector, a network partition that causes Curator to go to SUSPENDED, etc. Trying to create a ZNode in this instance is an application error and will almost certainly fail or hang for the period of the retry policy. In any event, it will be called from a different thread than the thread that is causing close on the LeaderSelector and Curator handle. This is an application issue not a Curator bug.</p>\n\n<p>If your <tt>takeLeadership()</tt> method is interrupted, you <em>must</em> exit immediately.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783852","html_url":"https://github.com/apache/curator/issues/1092#issuecomment-2604783852","issue_url":"https://api.github.com/repos/apache/curator/issues/1092","id":2604783852,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM4NTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T17:57:28Z","updated_at":"2025-01-21T13:46:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viniti\">viniti</a>:</i>\n<p>Sure, I will change the code as suggested(below are the changes). Please keep this bug opened for 2 days so that I can test if this change fixes the leader election issue. I will close this bug after that. Thanks for your time and help.</p>\n<div class=\"code panel\" style=\"border-style: solid;border-width: 1px;\"><div class=\"codeHeader panelHeader\" style=\"border-bottom-width: 1px;border-bottom-style: solid;\"><b>takeLeadership()</b></div><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">\n    @Override\n    <span class=\"code-keyword\">public</span> void takeLeadership(CuratorFramework client) <span class=\"code-keyword\">throws</span> Exception {\n<span class=\"code-comment\">// we are now the leader. This method should not <span class=\"code-keyword\">return</span> until we want to relinquish leadership\n</span>\n<span class=\"code-keyword\">final</span> <span class=\"code-object\">int</span> waitSeconds = (<span class=\"code-object\">int</span>) (5 * <span class=\"code-object\">Math</span>.random()) + 1;\n\nLOGGER.info(name + <span class=\"code-quote\">\" is now the leader. Waiting \"</span> + waitSeconds + <span class=\"code-quote\">\" seconds...\"</span>);\nLOGGER.debug(name + <span class=\"code-quote\">\" has been leader \"</span> + leaderCount.getAndIncrement() + <span class=\"code-quote\">\" time(s) before.\"</span>);\n<span class=\"code-comment\">//<span class=\"code-keyword\">do</span> leader task\n</span><span class=\"code-keyword\">try</span> {\n    <span class=\"code-keyword\">while</span> (<span class=\"code-keyword\">true</span>) {\n<span class=\"code-object\">Thread</span>.sleep(TimeUnit.SECONDS.toMillis(waitSeconds));\n    }\n} <span class=\"code-keyword\">catch</span> (InterruptedException e) {\n     LOGGER.error(name + <span class=\"code-quote\">\" was interrupted.\"</span>);\n     <span class=\"code-comment\">//application code cleanup <span class=\"code-keyword\">for</span> leader tasks       \n</span>    <span class=\"code-object\">Thread</span>.currentThread().interrupt();\n}\n    }\n</pre>\n</div></div>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783263","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783263","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783263,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyNjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-08T23:08:49Z","updated_at":"2025-01-21T13:46:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ryarran\" class=\"user-hover\" rel=\"ryarran\">Rhys Yarranton</a>, seems like it would make sense to modify Curator to have consistent ordering of clients. Additionally, it is probably worth preprocessing the connection string provided directly to Curator (rather than the one returned from Zookeeper), so that if Curator has been supplied hostnames rather than IP addresses, then we don't get the initial unnecessary call to updateServerList().</p>\n\n\n\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a>, do you know how this works on the Zookeeper side? I was just thinking that if the connection string provided to Curator is a list of hostnames, that storing them as IP addresses rather than resolving them each time may cause issues with load balancers etc.Â  If ZK resolves the hostnames to IP addresses anyway though, then we're just delaying the inevitable by not resolving the hostnames before the initial connection to ZK.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783268","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783268","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783268,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyNjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T14:54:21Z","updated_at":"2025-01-21T13:46:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>ZooKeeper has an abstraction for this now: <tt>HostProvider</tt> - we can't assume anything about this. We really should not alter the connection string given to Curator. I'm -1 on Curator doing any modification to the connection string. TBH - that was the idea of the EnsembleProvider as I recall. If it needs improving we should do that.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783272","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783272","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783272,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyNzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T15:41:44Z","updated_at":"2025-01-21T13:46:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ryarran\">ryarran</a>:</i>\n<p>Getting confused here.Â  ZooKeeper does not give Curator a connection string.Â  It supplies a node of configuration information.Â  Curator reads this and constructs a connection string from it.</p>\n\n<p>If you're using Exhibitor, then it's different, and ExhibitorEnsembleProviderÂ does a lot of work checking for updates <em>etc.</em>Â Â But if using ZooKeeper's dynamic reconfiguration, the FixedEnsembleProvider is essentially just a holder for the connection string.Â  The logic to decide when new connection strings are required and how to construct them lies elsewhere.</p>\n\n<p>Â </p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783275","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783275","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783275,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyNzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T15:50:23Z","updated_at":"2025-01-21T13:46:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>> ZooKeeper does not give Curator a connection string</p>\n\n<p>It does when there's a configuration change. I probably added confusion when I discussed <tt>HostProvider</tt>. That's probably not related. My larger point is that if we get a value from ZooKeeper's config we need to make sure we use it as given. </p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783278","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783278","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783278,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyNzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T16:11:27Z","updated_at":"2025-01-21T13:46:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ryarran\">ryarran</a>:</i>\n<p>Could you point me to what code you are looking at?Â  The code I'm looking at (4.3) starts in EnsembleTracker, which uses the getConfig() op with a watcher to monitor the ZooKeeper config node.Â  The ZooKeeper configuration node is not a connection string per se.Â  In the path I'm looking at, the connection string is constructed from this configuration node data in EnsembleTracker.processConfigData and configToConnectionString.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783288","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783288","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783288,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T16:15:25Z","updated_at":"2025-01-21T13:46:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Oh? It could be then. Sorry if I'm adding noise here. I'm not that familiar with that code.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783293","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783293","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783293,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyOTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T22:40:43Z","updated_at":"2025-01-21T13:46:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a>, the code in question is in EnsembleTracker.</p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">\n<span class=\"code-keyword\">public</span> <span class=\"code-keyword\">static</span> <span class=\"code-object\">String</span> configToConnectionString(QuorumVerifier data) <span class=\"code-keyword\">throws</span> Exception</pre>\n</div></div>\n<p>This turns the QuorumVerifier data returned from Zookeeper into a connection string that is used by Curator.</p>\n\n<p>There are 2 minor issues.</p>\n\n<p>1.) Zookeeper always returns IPs (based on my testing, not 100% sure on this) in the config update calls. So, even if the user of Curator provides the full set of ZK nodes in the connection string, if they are provided as hostnames rather than IPs, then when we get a config event, this always results in an update to the connection string.</p>\n\n<p>2.) The ordering of IP addresses may not be deterministic. I haven't seen ordering issues, by <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ryarran\" class=\"user-hover\" rel=\"ryarran\">Rhys Yarranton</a>Â has mentioned that he has. On the ZK side, I believe the data is stored in a map before streaming, so ordering is not guaranteed.</p>\n\n<p>So, one possible solution is to</p>\n\n<p>-Enforce ordering of IP addresses on the Curator side. I don't believe this has any effect on how connections to ZK are actually established. From memory, a host is chosen at random to connect to to try and distribute load.</p>\n\n<p>-Execute the conversion of hostnames to IP addresses and ordering them on the initial connection string provided to Curator. For the case where the specified connection string contains all configured ZK nodes, this prevents one unnecessary call to updateServerList() for the case where the client provides hostnames and ZK returns IP addresses.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783977","html_url":"https://github.com/apache/curator/issues/1093#issuecomment-2604783977","issue_url":"https://api.github.com/repos/apache/curator/issues/1093","id":2604783977,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM5Nzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T11:22:54Z","updated_at":"2025-01-21T13:46:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=itarakanov\">itarakanov</a>:</i>\n<p>Hello,Â </p>\n\n<p>We use Apache Zookeeper 3.6.1 + Apache Curator 5.0.0 and can observe the same error.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/647356586","html_url":"https://github.com/apache/curator/pull/367#issuecomment-647356586","issue_url":"https://api.github.com/repos/apache/curator/issues/367","id":647356586,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzM1NjU4Ng==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T08:06:03Z","updated_at":"2020-06-22T08:06:03Z","author_association":"CONTRIBUTOR","body":"@Randgalt \r\nthe patch is finally ready for review.\r\nI have added a few assertions on an existing test.\r\n\r\nWith this fix the errors on CURATOR-574 are not present anymore.\r\nI wonder if it is better to rename the issue, actually this was a problem on PathChildrenCacheListenerWrapper.java and not in ServiceDiscovery.\r\n\r\nThe change is not backward compatibile, but it is on a fresh new API of Curator 5.0, so if you release 5.0.1 (or 5.1 if you want to strictly observe SemVer) it won't be a big deal\r\n\r\nI can create the 5.0.1 release","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/647356586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/647531682","html_url":"https://github.com/apache/curator/pull/367#issuecomment-647531682","issue_url":"https://api.github.com/repos/apache/curator/issues/367","id":647531682,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzUzMTY4Mg==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T13:49:25Z","updated_at":"2020-06-22T13:49:25Z","author_association":"MEMBER","body":"> I can create the 5.0.1 release\r\n\r\nPlease do","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/647531682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/648086636","html_url":"https://github.com/apache/curator/pull/367#issuecomment-648086636","issue_url":"https://api.github.com/repos/apache/curator/issues/367","id":648086636,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODA4NjYzNg==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T11:29:20Z","updated_at":"2020-06-23T11:29:20Z","author_association":"CONTRIBUTOR","body":"@Randgalt I used the GitHub button and this resulted with a merge commit on git history.\r\nI apologize.\r\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/648086636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783979","html_url":"https://github.com/apache/curator/issues/1093#issuecomment-2604783979","issue_url":"https://api.github.com/repos/apache/curator/issues/1093","id":2604783979,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM5Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T11:31:17Z","updated_at":"2025-01-21T13:46:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli\">eolivelli</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a>  It looks like I cannot be assignee of this issue.<br/>\nCan you please give me the required permissions ?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783986","html_url":"https://github.com/apache/curator/issues/1093#issuecomment-2604783986","issue_url":"https://api.github.com/repos/apache/curator/issues/1093","id":2604783986,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODM5ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T13:59:01Z","updated_at":"2025-01-21T13:46:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>done</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783295","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783295","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783295,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMyOTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T06:51:39Z","updated_at":"2025-01-21T13:46:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli\">eolivelli</a>:</i>\n<p>Do we have some reproducer test case ?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783300","html_url":"https://github.com/apache/curator/issues/1089#issuecomment-2604783300","issue_url":"https://api.github.com/repos/apache/curator/issues/1089","id":2604783300,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODMzMDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T22:46:37Z","updated_at":"2025-01-21T13:46:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>No, the only way I could vaguely reproduce the problem was by going through with a debugger. The only time I could really see it being an issue is if the order of IP addresses returned from Zookeeper changes across each iteration (with the actual content remaining the same), but at least with the test server I did not see this happening.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604783300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784114","html_url":"https://github.com/apache/curator/issues/1094#issuecomment-2604784114","issue_url":"https://api.github.com/repos/apache/curator/issues/1094","id":2604784114,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQxMTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T06:47:21Z","updated_at":"2025-01-21T13:46:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli\">eolivelli</a>:</i>\n<p>committed to master branch</p>\n\n<p>thank you <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/649914073","html_url":"https://github.com/apache/curator/pull/369#issuecomment-649914073","issue_url":"https://api.github.com/repos/apache/curator/issues/369","id":649914073,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTkxNDA3Mw==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T02:23:55Z","updated_at":"2020-06-26T02:23:55Z","author_association":"MEMBER","body":"What does this do?","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/649914073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784237","html_url":"https://github.com/apache/curator/issues/1095#issuecomment-2604784237","issue_url":"https://api.github.com/repos/apache/curator/issues/1095","id":2604784237,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQyMzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T02:24:53Z","updated_at":"2025-01-21T13:46:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Does this need to be in the project/repo? Instead it could be posted on the wiki for those who want to use it.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/650001733","html_url":"https://github.com/apache/curator/pull/369#issuecomment-650001733","issue_url":"https://api.github.com/repos/apache/curator/issues/369","id":650001733,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDAwMTczMw==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T06:33:47Z","updated_at":"2020-06-26T06:33:47Z","author_association":"CONTRIBUTOR","body":"Sorry @Randgalt for the confusion\r\nI have sent an email to dev@curator.apache.org\r\n\r\nThis is the JIRA with full instructions (I have merged now the instructions that I sent on the ML)\r\nhttps://issues.apache.org/jira/browse/CURATOR-576\r\n\r\nThe docs are here\r\nhttps://cwiki.apache.org/confluence/display/ZOOKEEPER/Merging+Github+Pull+Requests\r\n\r\nwe will have our own page once the script is merged","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/650001733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/650777651","html_url":"https://github.com/apache/curator/pull/369#issuecomment-650777651","issue_url":"https://api.github.com/repos/apache/curator/issues/369","id":650777651,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc3NzY1MQ==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T15:13:08Z","updated_at":"2020-06-28T15:13:08Z","author_association":"MEMBER","body":"I'm -1 on this. This can be run locally by someone interested in it. The scripts can live on our wiki. Personally, I wouldn't use them.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/650777651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/650778293","html_url":"https://github.com/apache/curator/pull/369#issuecomment-650778293","issue_url":"https://api.github.com/repos/apache/curator/issues/369","id":650778293,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc3ODI5Mw==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T15:16:21Z","updated_at":"2020-06-28T15:16:21Z","author_association":"CONTRIBUTOR","body":"@Randgalt \r\nHaving a script helps the community in doing things all the same way and saves us from making errors.\r\n\r\nWe can make it non required.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/650778293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/656514566","html_url":"https://github.com/apache/curator/pull/370#issuecomment-656514566","issue_url":"https://api.github.com/repos/apache/curator/issues/370","id":656514566,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjUxNDU2Ng==","user":{"login":"tisonkun","id":18818196,"node_id":"MDQ6VXNlcjE4ODE4MTk2","avatar_url":"https://avatars.githubusercontent.com/u/18818196?v=4","gravatar_id":"","url":"https://api.github.com/users/tisonkun","html_url":"https://github.com/tisonkun","followers_url":"https://api.github.com/users/tisonkun/followers","following_url":"https://api.github.com/users/tisonkun/following{/other_user}","gists_url":"https://api.github.com/users/tisonkun/gists{/gist_id}","starred_url":"https://api.github.com/users/tisonkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tisonkun/subscriptions","organizations_url":"https://api.github.com/users/tisonkun/orgs","repos_url":"https://api.github.com/users/tisonkun/repos","events_url":"https://api.github.com/users/tisonkun/events{/privacy}","received_events_url":"https://api.github.com/users/tisonkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T06:49:21Z","updated_at":"2020-07-10T06:49:21Z","author_association":"MEMBER","body":"It's ok to name it as \"Download\" since people might be more interested in downloading. I get a bit confused because it also contains releases infos. Given other Apache projects use this pattern it should be fine :-)","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/656514566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/656516463","html_url":"https://github.com/apache/curator/pull/370#issuecomment-656516463","issue_url":"https://api.github.com/repos/apache/curator/issues/370","id":656516463,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjUxNjQ2Mw==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T06:55:00Z","updated_at":"2020-07-10T06:55:00Z","author_association":"CONTRIBUTOR","body":"@TisonKun would you mind to \"Approve\" formally this PR ? Your review is still in status \"left review comments\"","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/656516463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784389","html_url":"https://github.com/apache/curator/issues/1096#issuecomment-2604784389","issue_url":"https://api.github.com/repos/apache/curator/issues/1096","id":2604784389,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQzODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T06:57:22Z","updated_at":"2025-01-21T13:47:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli\">eolivelli</a>:</i>\n<p>committed to master branch</p>\n\n<p>thank you <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a></p>\n\n<p>I will rebuild the website</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/656517652","html_url":"https://github.com/apache/curator/pull/370#issuecomment-656517652","issue_url":"https://api.github.com/repos/apache/curator/issues/370","id":656517652,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjUxNzY1Mg==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T06:58:16Z","updated_at":"2020-07-10T06:58:16Z","author_association":"CONTRIBUTOR","body":"@TisonKun probably the \"approve\" button disappeared, sorry","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/656517652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/656560000","html_url":"https://github.com/apache/curator/pull/370#issuecomment-656560000","issue_url":"https://api.github.com/repos/apache/curator/issues/370","id":656560000,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjU2MDAwMA==","user":{"login":"tisonkun","id":18818196,"node_id":"MDQ6VXNlcjE4ODE4MTk2","avatar_url":"https://avatars.githubusercontent.com/u/18818196?v=4","gravatar_id":"","url":"https://api.github.com/users/tisonkun","html_url":"https://github.com/tisonkun","followers_url":"https://api.github.com/users/tisonkun/followers","following_url":"https://api.github.com/users/tisonkun/following{/other_user}","gists_url":"https://api.github.com/users/tisonkun/gists{/gist_id}","starred_url":"https://api.github.com/users/tisonkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tisonkun/subscriptions","organizations_url":"https://api.github.com/users/tisonkun/orgs","repos_url":"https://api.github.com/users/tisonkun/repos","events_url":"https://api.github.com/users/tisonkun/events{/privacy}","received_events_url":"https://api.github.com/users/tisonkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T08:40:10Z","updated_at":"2020-07-10T08:40:10Z","author_association":"MEMBER","body":"@eolivelli never mind. Will approve formally when discussion resolved the next time.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/656560000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784397","html_url":"https://github.com/apache/curator/issues/1096#issuecomment-2604784397","issue_url":"https://api.github.com/repos/apache/curator/issues/1096","id":2604784397,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQzOTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T13:49:48Z","updated_at":"2025-01-21T13:47:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Note: I've updated the wiki. Please review: <a href=\"https://cwiki.apache.org/confluence/display/CURATOR/For+Curator+Committers\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://cwiki.apache.org/confluence/display/CURATOR/For+Curator+Committers</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604778421","html_url":"https://github.com/apache/curator/issues/1057#issuecomment-2604778421","issue_url":"https://api.github.com/repos/apache/curator/issues/1057","id":2604778421,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Nzg0MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T16:37:53Z","updated_at":"2025-01-21T13:44:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Hi there,</p>\n\n<p>I am experiencing the same issue (NPE) on a K8S deployment with Curator 4.3.0</p>\n\n<p>Jordan, if I understand right your comment you are proposing to check ifÂ server.addr.getAddress() is null...</p>\n\n<p>Currently with the NPE it is enough that a single server in the loop throws the NPE to prevent that the connectString is modified. I can provide a patch to avoid the NPE.</p>\n\n<p>I see 2 options:</p>\n\n<p>1.- Keep a compatible behavior, that with a single server.addr.getAddress() resolution to null the method return an empty string and therefore the connecstring will be unmodified (I can add a LOG warn statement).</p>\n\n<p>2.- Another alternative is to continue the loop till the end ignoring servers that are resolved to null...</p>\n\n<p>What do you think is best?</p>\n\n<p>Â Regards,</p>\n\n<p>/Chevaris</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604778421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784671","html_url":"https://github.com/apache/curator/issues/1098#issuecomment-2604784671","issue_url":"https://api.github.com/repos/apache/curator/issues/1098","id":2604784671,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQ2NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T01:18:07Z","updated_at":"2025-01-21T13:47:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>I know nothing of OSGI either maybe we can ask:</p>\n\n<ul>\n\t<li><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=acosentino\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/secure/ViewProfile.jspa?name=acosentino</a></li>\n\t<li><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=skitching\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/secure/ViewProfile.jspa?name=skitching</a></li>\n</ul>\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784679","html_url":"https://github.com/apache/curator/issues/1098#issuecomment-2604784679","issue_url":"https://api.github.com/repos/apache/curator/issues/1098","id":2604784679,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQ2Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T09:46:59Z","updated_at":"2025-01-21T13:47:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tison\">tison</a>:</i>\n<p>HiÂ <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=acosentino\" class=\"user-hover\" rel=\"acosentino\">Andrea Cosentino</a> <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=skitching\" class=\"user-hover\" rel=\"skitching\">Simon Kitching</a>, I believe this issue would benefit from your advice.</p>\n\n<p>What if I change OSGi export pattern from</p>\n\n<p>Â </p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">\norg.apache.curator*;version=<span class=\"code-quote\">\"${project.version}\"</span>;-noimport:=<span class=\"code-keyword\">true</span>\n</pre>\n</div></div>\n<p>Â </p>\n\n<p>to</p>\n\n<p>Â </p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">\norg.apache.curator.*;version=<span class=\"code-quote\">\"${project.version}\"</span>;-noimport:=<span class=\"code-keyword\">true</span>\n</pre>\n</div></div>\n<p>I notice that the former form actually cannot export classes underÂ org.apache.curator and its child package while the latter can. I'd like to know if I can do the change without any other unexpected breaks.</p>\n\n<p>Â </p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/674186365","html_url":"https://github.com/apache/curator/pull/371#issuecomment-674186365","issue_url":"https://api.github.com/repos/apache/curator/issues/371","id":674186365,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDE4NjM2NQ==","user":{"login":"tisonkun","id":18818196,"node_id":"MDQ6VXNlcjE4ODE4MTk2","avatar_url":"https://avatars.githubusercontent.com/u/18818196?v=4","gravatar_id":"","url":"https://api.github.com/users/tisonkun","html_url":"https://github.com/tisonkun","followers_url":"https://api.github.com/users/tisonkun/followers","following_url":"https://api.github.com/users/tisonkun/following{/other_user}","gists_url":"https://api.github.com/users/tisonkun/gists{/gist_id}","starred_url":"https://api.github.com/users/tisonkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tisonkun/subscriptions","organizations_url":"https://api.github.com/users/tisonkun/orgs","repos_url":"https://api.github.com/users/tisonkun/repos","events_url":"https://api.github.com/users/tisonkun/events{/privacy}","received_events_url":"https://api.github.com/users/tisonkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T17:40:15Z","updated_at":"2020-08-14T17:40:15Z","author_association":"MEMBER","body":"BTW, I've build the website locally and verify the change manually. From the guide it requires a version bump but it is necessary for website rebuild?","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/674186365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/674201267","html_url":"https://github.com/apache/curator/pull/371#issuecomment-674201267","issue_url":"https://api.github.com/repos/apache/curator/issues/371","id":674201267,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDIwMTI2Nw==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T18:16:39Z","updated_at":"2020-08-14T18:16:39Z","author_association":"CONTRIBUTOR","body":"@TisonKun  I have merged this patch using gitHub button.\r\nWe do not have a \"standard\" rule about commits, it is better IMO to squash the commits into one single commit in order to have a good history.\r\n\r\nRegarding the website: \r\nI got into the same problem while adding myself.\r\nProbably the best thing is to push the website with the current -SNAPSHOT version.\r\nIIRC I have cherry picked the commit to a temporary local branch started from the latest released tag and then I rebuild the website,\r\nthen I dropped the temporary branch","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/674201267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/674314602","html_url":"https://github.com/apache/curator/pull/371#issuecomment-674314602","issue_url":"https://api.github.com/repos/apache/curator/issues/371","id":674314602,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDMxNDYwMg==","user":{"login":"tisonkun","id":18818196,"node_id":"MDQ6VXNlcjE4ODE4MTk2","avatar_url":"https://avatars.githubusercontent.com/u/18818196?v=4","gravatar_id":"","url":"https://api.github.com/users/tisonkun","html_url":"https://github.com/tisonkun","followers_url":"https://api.github.com/users/tisonkun/followers","following_url":"https://api.github.com/users/tisonkun/following{/other_user}","gists_url":"https://api.github.com/users/tisonkun/gists{/gist_id}","starred_url":"https://api.github.com/users/tisonkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tisonkun/subscriptions","organizations_url":"https://api.github.com/users/tisonkun/orgs","repos_url":"https://api.github.com/users/tisonkun/repos","events_url":"https://api.github.com/users/tisonkun/events{/privacy}","received_events_url":"https://api.github.com/users/tisonkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T23:53:18Z","updated_at":"2020-08-14T23:53:18Z","author_association":"MEMBER","body":"@eolivelli thanks for your advice! I think I've made the change.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/674314602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/675559073","html_url":"https://github.com/apache/curator/pull/372#issuecomment-675559073","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":675559073,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTU1OTA3Mw==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T15:47:31Z","updated_at":"2020-08-18T15:47:31Z","author_association":"MEMBER","body":"Thanks for your work. This will take time to review.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/675559073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/678597207","html_url":"https://github.com/apache/curator/pull/373#issuecomment-678597207","issue_url":"https://api.github.com/repos/apache/curator/issues/373","id":678597207,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODU5NzIwNw==","user":{"login":"tisonkun","id":18818196,"node_id":"MDQ6VXNlcjE4ODE4MTk2","avatar_url":"https://avatars.githubusercontent.com/u/18818196?v=4","gravatar_id":"","url":"https://api.github.com/users/tisonkun","html_url":"https://github.com/tisonkun","followers_url":"https://api.github.com/users/tisonkun/followers","following_url":"https://api.github.com/users/tisonkun/following{/other_user}","gists_url":"https://api.github.com/users/tisonkun/gists{/gist_id}","starred_url":"https://api.github.com/users/tisonkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tisonkun/subscriptions","organizations_url":"https://api.github.com/users/tisonkun/orgs","repos_url":"https://api.github.com/users/tisonkun/repos","events_url":"https://api.github.com/users/tisonkun/events{/privacy}","received_events_url":"https://api.github.com/users/tisonkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T05:23:46Z","updated_at":"2020-08-22T05:23:46Z","author_association":"MEMBER","body":"> I am not an oggi user but the change semestre reasonable.\r\n> \r\n> Is there any way to add an integration test that consumer our Osgi artifacts? This way we are sure that in the future we won't break it\r\n\r\nThanks for your review @eolivelli ! I hope so but failed to find some methods for testing the exports. BTW, it seems travis failed on unstable case. Retrigger.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/678597207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/678860923","html_url":"https://github.com/apache/curator/pull/373#issuecomment-678860923","issue_url":"https://api.github.com/repos/apache/curator/issues/373","id":678860923,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODg2MDkyMw==","user":{"login":"tisonkun","id":18818196,"node_id":"MDQ6VXNlcjE4ODE4MTk2","avatar_url":"https://avatars.githubusercontent.com/u/18818196?v=4","gravatar_id":"","url":"https://api.github.com/users/tisonkun","html_url":"https://github.com/tisonkun","followers_url":"https://api.github.com/users/tisonkun/followers","following_url":"https://api.github.com/users/tisonkun/following{/other_user}","gists_url":"https://api.github.com/users/tisonkun/gists{/gist_id}","starred_url":"https://api.github.com/users/tisonkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tisonkun/subscriptions","organizations_url":"https://api.github.com/users/tisonkun/orgs","repos_url":"https://api.github.com/users/tisonkun/repos","events_url":"https://api.github.com/users/tisonkun/events{/privacy}","received_events_url":"https://api.github.com/users/tisonkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T01:38:38Z","updated_at":"2020-08-24T01:38:38Z","author_association":"MEMBER","body":"Thanks for your reviews!","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/678860923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784685","html_url":"https://github.com/apache/curator/issues/1098#issuecomment-2604784685","issue_url":"https://api.github.com/repos/apache/curator/issues/1098","id":2604784685,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQ2ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T01:40:00Z","updated_at":"2025-01-21T13:47:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tison\">tison</a>:</i>\n<p>closed byÂ fdb8f79c1eddecf29f3cf23e43aec7ddba6ff7b0</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784517","html_url":"https://github.com/apache/curator/issues/1097#issuecomment-2604784517","issue_url":"https://api.github.com/repos/apache/curator/issues/1097","id":2604784517,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQ1MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T01:43:32Z","updated_at":"2025-01-21T13:47:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jrray\">jrray</a>:</i>\n<p>I am experiencing a combination of this problem and Curator eventually attempting to attempt to connect to 0.0.0.0 as inÂ <a href=\"https://issues.apache.org/jira/browse/CURATOR-392\" title=\"Zookeeper Ensemble Get Incorrect Address\" class=\"issue-link\" data-issue-key=\"CURATOR-392\"><del>CURATOR-392</del></a>; the fix for that does not handle the configuration scenario suggested by the <a href=\"https://hub.docker.com/_/zookeeper\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">official Zookeeper Docker image</a> for deploying to Docker Swarm, specifically, using \"0.0.0.0\" as the bind address.</p>\n\n<p>I have a deployment of three Zookeeper nodes in Docker Swarm, and have attempted to give them stable IPs by pinning each container to a dedicated node and using the node hostname when advertising the service:</p>\n\n<p><tt>ZOO_SERVERS: server.1=0.0.0.0:2888:3888;2181 server.2=host2:2888:3888;host2:2181 server.3=host3:2888:3888;host3:2181</tt><br/>\n{{ ZOO_SERVERS: server.1=host1:2888:3888;host1:2181 server.2=0.0.0.0:2888:3888;2181 server.3=host3:2888:3888;host3:2181}}<br/>\n{{ ZOO_SERVERS: server.1=host1:2888:3888;host1:2181 server.2=host2:2888:3888;host2:2181 server.3=0.0.0.0:2888:3888;2181}}</p>\n\n<p>Â </p>\n\n<p>Curator is configured initially with the connection string: <tt>host1:2181,host2:2181,host3:2183</tt>. Things are fine until a Zookeeper node is restarted for some reason.</p>\n\n<p>Â </p>\n\n<p>This log is from the application using Curator, at the moment Zookeeper is killed on host3. The addresses 10.5.x.x are the valid IP addresses for the Docker hosts. The addresses 10.0.x.x are the Docker Swarm node internal addresses, which change upon Zookeeper restarting.</p>\n\n<p><span class=\"nobr\"><a href=\"https://issues.apache.org/jira/secure/attachment/13010526/13010526_curator.log\" title=\"curator.log attached to CURATOR-578\">curator.log<sup><img class=\"rendericon\" src=\"https://issues.apache.org/jira/images/icons/link_attachment_7.gif\" height=\"7\" width=\"7\" align=\"absmiddle\" alt=\"\" border=\"0\"/></sup></a></span></p>\n\n<p>The client ends up in a loop trying to connect to 10.0.x.x addresses, which may no longer be valid, and 0.0.0.0.</p>\n\n<p>Â </p>\n\n<p>Apart from this, my Zookeeper cluster does not reliably recover from a node restart without manually stopping all but one node (for example, the restarted node rejecting new connections because client has a higher zxid), which is making me reconsider attempting to run the cluster with Swarm/k8s.</p>\n\n<p>Curator 5.1.0, Zookeeper 3.6.1.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776585","html_url":"https://github.com/apache/curator/issues/1045#issuecomment-2604776585","issue_url":"https://api.github.com/repos/apache/curator/issues/1045","id":2604776585,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NzY1ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-06T00:58:23Z","updated_at":"2025-01-21T13:43:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akhaku\">akhaku</a>:</i>\n<p>Did some digging this weekend - it appears that this is because as of ZooKeeper 3.5.0, clientPort should be specified via the server statements and not via a separate config property <a href=\"https://zookeeper.apache.org/doc/r3.5.3-beta/zookeeperReconfig.html#ch_reconfig_format\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://zookeeper.apache.org/doc/r3.5.3-beta/zookeeperReconfig.html#ch_reconfig_format</a></p>\n\n<p>If you don't set it this way, the config string returned by ZooKeeper doesn't have any client config, and so I believe Curator is doing the right thing by ignoring the config string.</p>\n\n<p>Sadly in our case we run ZooKeeper via Exhibitor, so it's not very easy to set that string. I have a patch for Exhibitor <a href=\"https://github.com/soabase/exhibitor/compare/master...akhaku:clientPort?expand=1\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/soabase/exhibitor/compare/master...akhaku:clientPort?expand=1</a>Â but it doesn't look like that project is very active. I can't open a PR because the project is marked as \"Archived\" on Github.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/695759670","html_url":"https://github.com/apache/curator/pull/374#issuecomment-695759670","issue_url":"https://api.github.com/repos/apache/curator/issues/374","id":695759670,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTc1OTY3MA==","user":{"login":"hjyun328","id":10741543,"node_id":"MDQ6VXNlcjEwNzQxNTQz","avatar_url":"https://avatars.githubusercontent.com/u/10741543?v=4","gravatar_id":"","url":"https://api.github.com/users/hjyun328","html_url":"https://github.com/hjyun328","followers_url":"https://api.github.com/users/hjyun328/followers","following_url":"https://api.github.com/users/hjyun328/following{/other_user}","gists_url":"https://api.github.com/users/hjyun328/gists{/gist_id}","starred_url":"https://api.github.com/users/hjyun328/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hjyun328/subscriptions","organizations_url":"https://api.github.com/users/hjyun328/orgs","repos_url":"https://api.github.com/users/hjyun328/repos","events_url":"https://api.github.com/users/hjyun328/events{/privacy}","received_events_url":"https://api.github.com/users/hjyun328/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T08:21:11Z","updated_at":"2020-09-20T08:21:11Z","author_association":"CONTRIBUTOR","body":" @eolivelli, @TisonKun\r\nThanks for your review.\r\nI just added a test case for `withNewMembers`.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/695759670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784924","html_url":"https://github.com/apache/curator/issues/1100#issuecomment-2604784924","issue_url":"https://api.github.com/repos/apache/curator/issues/1100","id":2604784924,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQ5MjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T09:35:51Z","updated_at":"2025-01-21T13:47:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tison\">tison</a>:</i>\n<p>master viaÂ 800fdf4c5cbe3f0e3cebc64357707ba743fc46e2</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/706771341","html_url":"https://github.com/apache/curator/pull/372#issuecomment-706771341","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":706771341,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjc3MTM0MQ==","user":{"login":"tamaashu","id":3925309,"node_id":"MDQ6VXNlcjM5MjUzMDk=","avatar_url":"https://avatars.githubusercontent.com/u/3925309?v=4","gravatar_id":"","url":"https://api.github.com/users/tamaashu","html_url":"https://github.com/tamaashu","followers_url":"https://api.github.com/users/tamaashu/followers","following_url":"https://api.github.com/users/tamaashu/following{/other_user}","gists_url":"https://api.github.com/users/tamaashu/gists{/gist_id}","starred_url":"https://api.github.com/users/tamaashu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamaashu/subscriptions","organizations_url":"https://api.github.com/users/tamaashu/orgs","repos_url":"https://api.github.com/users/tamaashu/repos","events_url":"https://api.github.com/users/tamaashu/events{/privacy}","received_events_url":"https://api.github.com/users/tamaashu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T21:33:19Z","updated_at":"2020-10-11T21:33:19Z","author_association":"CONTRIBUTOR","body":"Moved to maven based jUnit test repetition, rebased to head.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/706771341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/706783955","html_url":"https://github.com/apache/curator/pull/372#issuecomment-706783955","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":706783955,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjc4Mzk1NQ==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T23:19:53Z","updated_at":"2020-10-11T23:19:53Z","author_association":"CONTRIBUTOR","body":"I'm seeing the following. Is anyone else able to run a full 'mvn test'?\r\n\r\n[INFO] Curator Examples ................................... SUCCESS [  3.687 s]\r\n[INFO] Curator Service Discovery Server ................... SUCCESS [  9.275 s]\r\n[INFO] curator-test-zk35 .................................. FAILURE [  3.085 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  43:16 min\r\n[INFO] Finished at: 2020-10-12T10:02:09+11:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project curator-test-zk35: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test failed: org.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests: ClassSelector [className = 'org.apache.curator.framework.recipes.atomic.TestDistributedAtomicLong'] resolution failed: org/apache/commons/math/stat/descriptive/SummaryStatistics: org.apache.commons.math.stat.descriptive.SummaryStatistics -> [Help 1]\r\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/706783955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/706948333","html_url":"https://github.com/apache/curator/pull/372#issuecomment-706948333","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":706948333,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk0ODMzMw==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T07:57:16Z","updated_at":"2020-10-12T07:57:16Z","author_association":"CONTRIBUTOR","body":"Apart from that issue I am able to run tests from my IDE cleanly (Apache NetBeans)","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/706948333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/706949118","html_url":"https://github.com/apache/curator/pull/372#issuecomment-706949118","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":706949118,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk0OTExOA==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T07:58:33Z","updated_at":"2020-10-12T07:58:33Z","author_association":"CONTRIBUTOR","body":"Travis failed as well","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/706949118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/707074235","html_url":"https://github.com/apache/curator/pull/372#issuecomment-707074235","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":707074235,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzA3NDIzNQ==","user":{"login":"tamaashu","id":3925309,"node_id":"MDQ6VXNlcjM5MjUzMDk=","avatar_url":"https://avatars.githubusercontent.com/u/3925309?v=4","gravatar_id":"","url":"https://api.github.com/users/tamaashu","html_url":"https://github.com/tamaashu","followers_url":"https://api.github.com/users/tamaashu/followers","following_url":"https://api.github.com/users/tamaashu/following{/other_user}","gists_url":"https://api.github.com/users/tamaashu/gists{/gist_id}","starred_url":"https://api.github.com/users/tamaashu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamaashu/subscriptions","organizations_url":"https://api.github.com/users/tamaashu/orgs","repos_url":"https://api.github.com/users/tamaashu/repos","events_url":"https://api.github.com/users/tamaashu/events{/privacy}","received_events_url":"https://api.github.com/users/tamaashu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T11:54:46Z","updated_at":"2020-10-12T11:54:46Z","author_association":"CONTRIBUTOR","body":"Yeah, somehow curator-test-zk35 doesn't find the test files in the test jars, I'm trying to figure out what is the problem.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/707074235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/707179056","html_url":"https://github.com/apache/curator/pull/372#issuecomment-707179056","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":707179056,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzE3OTA1Ng==","user":{"login":"tamaashu","id":3925309,"node_id":"MDQ6VXNlcjM5MjUzMDk=","avatar_url":"https://avatars.githubusercontent.com/u/3925309?v=4","gravatar_id":"","url":"https://api.github.com/users/tamaashu","html_url":"https://github.com/tamaashu","followers_url":"https://api.github.com/users/tamaashu/followers","following_url":"https://api.github.com/users/tamaashu/following{/other_user}","gists_url":"https://api.github.com/users/tamaashu/gists{/gist_id}","starred_url":"https://api.github.com/users/tamaashu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamaashu/subscriptions","organizations_url":"https://api.github.com/users/tamaashu/orgs","repos_url":"https://api.github.com/users/tamaashu/repos","events_url":"https://api.github.com/users/tamaashu/events{/privacy}","received_events_url":"https://api.github.com/users/tamaashu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T15:11:01Z","updated_at":"2020-10-12T15:11:01Z","author_association":"CONTRIBUTOR","body":"> I see the same problem on \" curator-test-zk35\" module\r\n> \r\n> [INFO] ------------------------------------------------------------------------\r\n> [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project curator-test-zk35: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test failed: org.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests: ClassSelector [className = 'org.apache.curator.framework.recipes.atomic.TestDistributedAtomicLong'] resolution failed: org/apache/commons/math/stat/descriptive/SummaryStatistics: org.apache.commons.math.stat.descriptive.SummaryStatistics -> [Help 1]\r\n> [ERROR]\r\n> [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n> [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n> [ERROR]\r\n\r\nFixed","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/707179056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/707180053","html_url":"https://github.com/apache/curator/pull/372#issuecomment-707180053","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":707180053,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzE4MDA1Mw==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T15:12:47Z","updated_at":"2020-10-12T15:12:47Z","author_association":"CONTRIBUTOR","body":"+1\r\nAll tests passed on Travis.\r\n\r\nI would like to merge this awesome work\r\n\r\n@cammckenzie are you okay ?","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/707180053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/707330569","html_url":"https://github.com/apache/curator/pull/372#issuecomment-707330569","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":707330569,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzMzMDU2OQ==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T20:29:53Z","updated_at":"2020-10-12T20:29:53Z","author_association":"CONTRIBUTOR","body":"@eolivelli I will run the latest tests locally and confirm.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/707330569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/707368569","html_url":"https://github.com/apache/curator/pull/372#issuecomment-707368569","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":707368569,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzM2ODU2OQ==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T22:04:14Z","updated_at":"2020-10-12T22:04:14Z","author_association":"CONTRIBUTOR","body":"+1\r\nAll tests pass for me locally now. Thanks @tamaashu ","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/707368569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/712834546","html_url":"https://github.com/apache/curator/pull/372#issuecomment-712834546","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":712834546,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjgzNDU0Ng==","user":{"login":"tamaashu","id":3925309,"node_id":"MDQ6VXNlcjM5MjUzMDk=","avatar_url":"https://avatars.githubusercontent.com/u/3925309?v=4","gravatar_id":"","url":"https://api.github.com/users/tamaashu","html_url":"https://github.com/tamaashu","followers_url":"https://api.github.com/users/tamaashu/followers","following_url":"https://api.github.com/users/tamaashu/following{/other_user}","gists_url":"https://api.github.com/users/tamaashu/gists{/gist_id}","starred_url":"https://api.github.com/users/tamaashu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamaashu/subscriptions","organizations_url":"https://api.github.com/users/tamaashu/orgs","repos_url":"https://api.github.com/users/tamaashu/repos","events_url":"https://api.github.com/users/tamaashu/events{/privacy}","received_events_url":"https://api.github.com/users/tamaashu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-20T13:05:01Z","updated_at":"2020-10-20T13:05:01Z","author_association":"CONTRIBUTOR","body":"@eolivelli do you think this PR is ready to commit? If yes, can you please commit it? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/712834546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/712843293","html_url":"https://github.com/apache/curator/pull/372#issuecomment-712843293","issue_url":"https://api.github.com/repos/apache/curator/issues/372","id":712843293,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjg0MzI5Mw==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-20T13:18:39Z","updated_at":"2020-10-20T13:18:39Z","author_association":"CONTRIBUTOR","body":"@tamaashu  merged to master branch ! thank you","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/712843293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784810","html_url":"https://github.com/apache/curator/issues/1099#issuecomment-2604784810","issue_url":"https://api.github.com/repos/apache/curator/issues/1099","id":2604784810,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODQ4MTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-20T13:19:23Z","updated_at":"2025-01-21T13:47:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli\">eolivelli</a>:</i>\n<p>merged to master branch ! thank you <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tamaas\" class=\"user-hover\" rel=\"tamaas\">Tamas Penzes</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604784810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/730775686","html_url":"https://github.com/apache/curator/pull/369#issuecomment-730775686","issue_url":"https://api.github.com/repos/apache/curator/issues/369","id":730775686,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDc3NTY4Ng==","user":{"login":"andrepappa","id":23347022,"node_id":"MDQ6VXNlcjIzMzQ3MDIy","avatar_url":"https://avatars.githubusercontent.com/u/23347022?v=4","gravatar_id":"","url":"https://api.github.com/users/andrepappa","html_url":"https://github.com/andrepappa","followers_url":"https://api.github.com/users/andrepappa/followers","following_url":"https://api.github.com/users/andrepappa/following{/other_user}","gists_url":"https://api.github.com/users/andrepappa/gists{/gist_id}","starred_url":"https://api.github.com/users/andrepappa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrepappa/subscriptions","organizations_url":"https://api.github.com/users/andrepappa/orgs","repos_url":"https://api.github.com/users/andrepappa/repos","events_url":"https://api.github.com/users/andrepappa/events{/privacy}","received_events_url":"https://api.github.com/users/andrepappa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T01:23:41Z","updated_at":"2020-11-20T01:23:41Z","author_association":"NONE","body":"> What does this do?\r\n\r\nwhat do you mean?","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/730775686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/730793863","html_url":"https://github.com/apache/curator/pull/369#issuecomment-730793863","issue_url":"https://api.github.com/repos/apache/curator/issues/369","id":730793863,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDc5Mzg2Mw==","user":{"login":"xianjeng21","id":74748341,"node_id":"MDQ6VXNlcjc0NzQ4MzQx","avatar_url":"https://avatars.githubusercontent.com/u/74748341?v=4","gravatar_id":"","url":"https://api.github.com/users/xianjeng21","html_url":"https://github.com/xianjeng21","followers_url":"https://api.github.com/users/xianjeng21/followers","following_url":"https://api.github.com/users/xianjeng21/following{/other_user}","gists_url":"https://api.github.com/users/xianjeng21/gists{/gist_id}","starred_url":"https://api.github.com/users/xianjeng21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xianjeng21/subscriptions","organizations_url":"https://api.github.com/users/xianjeng21/orgs","repos_url":"https://api.github.com/users/xianjeng21/repos","events_url":"https://api.github.com/users/xianjeng21/events{/privacy}","received_events_url":"https://api.github.com/users/xianjeng21/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T01:50:06Z","updated_at":"2020-11-20T01:50:06Z","author_association":"NONE","body":"hmmmmm","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/730793863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785047","html_url":"https://github.com/apache/curator/issues/1101#issuecomment-2604785047","issue_url":"https://api.github.com/repos/apache/curator/issues/1101","id":2604785047,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODUwNDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T20:33:51Z","updated_at":"2025-01-21T13:47:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>hey <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmslocum16\" class=\"user-hover\" rel=\"jmslocum16\">Josh Slocum</a>, thanks for the offer of the PR.</p>\n\n<p>I haven't put heaps of though into this, but on the surface it sounds like a good feature.Â  It would probably need to sit above the existing retry framework. How do you envisage configuring the number of times retries will occur etc. in the connection loss retry loop?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785051","html_url":"https://github.com/apache/curator/issues/1101#issuecomment-2604785051","issue_url":"https://api.github.com/repos/apache/curator/issues/1101","id":2604785051,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODUwNTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T23:24:07Z","updated_at":"2025-01-21T13:47:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmslocum16\">jmslocum16</a>:</i>\n<p>Hi <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\" class=\"user-hover\" rel=\"cammckenzie\">Cam McKenzie</a>,  thanks for the quick response!<br/>\nI was also thinking it was probably too high-level for integrating with the retry framework, but too low-level for a recipe.<br/>\nBased on reading some of the Curator code, my current thought was to integrate it at the framework level as an extra option. Something like Versionable on SetDataBuilder/DeleteBuilder or orSetData() on CreateBuilder, which already influence behavior on subsequent retries.</p>\n\n<p>For example, adding a DataAndVersionable interface that works similarly to Versionable would work for SetDataBuilder/DeleteBuilder, and an Idempotent option to create.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785062","html_url":"https://github.com/apache/curator/issues/1101#issuecomment-2604785062","issue_url":"https://api.github.com/repos/apache/curator/issues/1101","id":2604785062,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODUwNjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T20:26:58Z","updated_at":"2025-01-21T13:47:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>Sounds good to me <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmslocum16\" class=\"user-hover\" rel=\"jmslocum16\">Josh Slocum</a>, if you would like to raise a PR I would be happy to review.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785203","html_url":"https://github.com/apache/curator/issues/1102#issuecomment-2604785203","issue_url":"https://api.github.com/repos/apache/curator/issues/1102","id":2604785203,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODUyMDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T07:25:59Z","updated_at":"2025-01-21T13:47:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iwangjie\">iwangjie</a>:</i>\n<p>I want to try to repair it myself and submit a PR</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785074","html_url":"https://github.com/apache/curator/issues/1101#issuecomment-2604785074","issue_url":"https://api.github.com/repos/apache/curator/issues/1101","id":2604785074,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODUwNzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T01:49:13Z","updated_at":"2025-01-21T13:47:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmslocum16\">jmslocum16</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\" class=\"user-hover\" rel=\"cammckenzie\">Cam McKenzie</a> I created an early version of the PR (only create requests, only foreground) to make sure my overall approach was on track before implementing the whole thing: <a href=\"https://github.com/apache/curator/pull/376\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/376</a><br/>\nI'd appreciate any feedback you have, I'll continue working on the other parts.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/745019125","html_url":"https://github.com/apache/curator/pull/376#issuecomment-745019125","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":745019125,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTAxOTEyNQ==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T02:56:45Z","updated_at":"2020-12-15T02:56:45Z","author_association":"CONTRIBUTOR","body":"@jmslocum16 the basic interface looks OK to me, as does the idempotent logic.\r\n\r\nJust to confirm my understanding of your solution, your plan is to still have the connection loss exception propagate up to the client code, and they will retry create / update commands with the idempotent flag set, which will succeed if the versions / data match?","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/745019125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/745344702","html_url":"https://github.com/apache/curator/pull/376#issuecomment-745344702","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":745344702,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM0NDcwMg==","user":{"login":"jmslocum16","id":3376624,"node_id":"MDQ6VXNlcjMzNzY2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3376624?v=4","gravatar_id":"","url":"https://api.github.com/users/jmslocum16","html_url":"https://github.com/jmslocum16","followers_url":"https://api.github.com/users/jmslocum16/followers","following_url":"https://api.github.com/users/jmslocum16/following{/other_user}","gists_url":"https://api.github.com/users/jmslocum16/gists{/gist_id}","starred_url":"https://api.github.com/users/jmslocum16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmslocum16/subscriptions","organizations_url":"https://api.github.com/users/jmslocum16/orgs","repos_url":"https://api.github.com/users/jmslocum16/repos","events_url":"https://api.github.com/users/jmslocum16/events{/privacy}","received_events_url":"https://api.github.com/users/jmslocum16/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T14:54:34Z","updated_at":"2020-12-15T14:54:34Z","author_association":"NONE","body":"> @jmslocum16 the basic interface looks OK to me, as does the idempotent logic.\r\n> \r\n> Just to confirm my understanding of your solution, your plan is to still have the connection loss exception propagate up to the client code, and they will retry create / update commands with the idempotent flag set, which will succeed if the versions / data match?\r\n\r\nHi Cam, thanks for the quick response!\r\nI'm glad I submitted this patch early - having the client retry was actually not the intended behavior. I had assumed the retry loop inside pathInForeground would handle retrying upon connection loss. It sounds like my assumptions were not correct there and i need to dig more into how retrying works, to make sure the client doesn't have to explicitly retry, and write some tests to validate that behavior.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/745344702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/745346475","html_url":"https://github.com/apache/curator/pull/376#issuecomment-745346475","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":745346475,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM0NjQ3NQ==","user":{"login":"jmslocum16","id":3376624,"node_id":"MDQ6VXNlcjMzNzY2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3376624?v=4","gravatar_id":"","url":"https://api.github.com/users/jmslocum16","html_url":"https://github.com/jmslocum16","followers_url":"https://api.github.com/users/jmslocum16/followers","following_url":"https://api.github.com/users/jmslocum16/following{/other_user}","gists_url":"https://api.github.com/users/jmslocum16/gists{/gist_id}","starred_url":"https://api.github.com/users/jmslocum16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmslocum16/subscriptions","organizations_url":"https://api.github.com/users/jmslocum16/orgs","repos_url":"https://api.github.com/users/jmslocum16/repos","events_url":"https://api.github.com/users/jmslocum16/events{/privacy}","received_events_url":"https://api.github.com/users/jmslocum16/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T14:57:24Z","updated_at":"2020-12-15T14:57:24Z","author_association":"NONE","body":"Also should I be worried about the CI failing for jdk8 but not jdk11?\r\nIt looks unrelated but I'd want to make sure - https://travis-ci.com/github/apache/curator/jobs/459964173","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/745346475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/745373676","html_url":"https://github.com/apache/curator/pull/376#issuecomment-745373676","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":745373676,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM3MzY3Ng==","user":{"login":"jmslocum16","id":3376624,"node_id":"MDQ6VXNlcjMzNzY2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3376624?v=4","gravatar_id":"","url":"https://api.github.com/users/jmslocum16","html_url":"https://github.com/jmslocum16","followers_url":"https://api.github.com/users/jmslocum16/followers","following_url":"https://api.github.com/users/jmslocum16/following{/other_user}","gists_url":"https://api.github.com/users/jmslocum16/gists{/gist_id}","starred_url":"https://api.github.com/users/jmslocum16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmslocum16/subscriptions","organizations_url":"https://api.github.com/users/jmslocum16/orgs","repos_url":"https://api.github.com/users/jmslocum16/repos","events_url":"https://api.github.com/users/jmslocum16/events{/privacy}","received_events_url":"https://api.github.com/users/jmslocum16/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T15:40:04Z","updated_at":"2020-12-15T15:40:04Z","author_association":"NONE","body":"@cammckenzie I added additional testing and comments that hopefully help to clarify the intended behavior. It appears that TestCreate uses the RetryOnce retry policy, so CreateBuilder is doing one automatic retry, which is sufficient to demonstrate that it successfully retries on ConnectionLoss.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/745373676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/745552963","html_url":"https://github.com/apache/curator/pull/376#issuecomment-745552963","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":745552963,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTU1Mjk2Mw==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T20:38:20Z","updated_at":"2020-12-15T20:38:20Z","author_association":"CONTRIBUTOR","body":"@jmslocum16 I probably worded my question poorly. The retry policy will certainly execute a retry on connection loss, but if that retry fails after the configured number of attempts, the error will propagate back to the client which must then do something with it.  I was thinking that perhaps you were suggesting something like the Curator guaranteed deletes, which will retry indefinitely until the zNode in question no longer exists (this approach of retrying in the background indefinitely obviously won't work for create / update cases).\r\n\r\nI will try and take a look at your updates today.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/745552963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/745568796","html_url":"https://github.com/apache/curator/pull/376#issuecomment-745568796","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":745568796,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTU2ODc5Ng==","user":{"login":"jmslocum16","id":3376624,"node_id":"MDQ6VXNlcjMzNzY2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3376624?v=4","gravatar_id":"","url":"https://api.github.com/users/jmslocum16","html_url":"https://github.com/jmslocum16","followers_url":"https://api.github.com/users/jmslocum16/followers","following_url":"https://api.github.com/users/jmslocum16/following{/other_user}","gists_url":"https://api.github.com/users/jmslocum16/gists{/gist_id}","starred_url":"https://api.github.com/users/jmslocum16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmslocum16/subscriptions","organizations_url":"https://api.github.com/users/jmslocum16/orgs","repos_url":"https://api.github.com/users/jmslocum16/repos","events_url":"https://api.github.com/users/jmslocum16/events{/privacy}","received_events_url":"https://api.github.com/users/jmslocum16/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T21:09:19Z","updated_at":"2020-12-15T21:09:19Z","author_association":"NONE","body":"Ah @cammckenzie I see what you meant! Apologies for misinterpreting. That's correct. If the retry limit is exceeded, the exception will propagate back to the client. I agree that for creates/updates, retrying indefinitely in the background wouldn't make sense, and I think propagating the exception and having the client decide to retry or not is the best approach.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/745568796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/745731111","html_url":"https://github.com/apache/curator/pull/376#issuecomment-745731111","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":745731111,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTczMTExMQ==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T02:58:46Z","updated_at":"2020-12-16T02:58:46Z","author_association":"CONTRIBUTOR","body":"This looks like a good start to me @jmslocum16. Don't worry about the CI failing for now, some of the unit tests are a bit flaky, will look in more detail before we merge.This looks like a good start to me @jmslocum16. Don't worry about the CI failing for now, some of the unit tests are a bit flaky, will look in more detail before we merge.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/745731111/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776589","html_url":"https://github.com/apache/curator/issues/1045#issuecomment-2604776589","issue_url":"https://api.github.com/repos/apache/curator/issues/1045","id":2604776589,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NzY1ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T17:15:01Z","updated_at":"2025-01-21T13:43:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat\">symat</a>:</i>\n<blockquote><p>as of ZooKeeper 3.5.0, clientPort should be specified via the server statements and not via a separate config property <a href=\"https://zookeeper.apache.org/doc/r3.5.3-beta/zookeeperReconfig.html#ch_reconfig_format\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://zookeeper.apache.org/doc/r3.5.3-beta/zookeeperReconfig.html#ch_reconfig_format</a></p></blockquote>\n<p>I'm not sure if this is true. The ZooKeeper docs are not really clear here. Even in ZooKeeper 3.6.2, in the same document (<a href=\"https://zookeeper.apache.org/doc/r3.6.2/zookeeperReconfig.html\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://zookeeper.apache.org/doc/r3.6.2/zookeeperReconfig.html</a>) states in the section <b><em>Backward compatibility:</em></b></p>\n<blockquote><p>Backward compatibility<br/>\n We still support the old configuration format. For example, the following configuration file is acceptable (but not recommended):</p>\n\n<p>zoo_replicated1.cfg<br/>\n tickTime=2000<br/>\n dataDir=/zookeeper/data/zookeeper1<br/>\n initLimit=5<br/>\n syncLimit=2<br/>\n clientPort=2791<br/>\n server.1=125.23.63.23:2780:2783:participant<br/>\n server.2=125.23.63.24:2781:2784:participant<br/>\n server.3=125.23.63.25:2782:2785:participant</p></blockquote>\n<p>Also when you are using both secure (SSL) and unsecure (non-SSL) ports in ZooKeeper, then it is unclear for me what to put to the end of the \"server\" string.</p>\n\n<p>I think this is still a bug and the server config should be parsed by Curator even without the client config.</p>\n\n<p>What do you think?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776601","html_url":"https://github.com/apache/curator/issues/1045#issuecomment-2604776601","issue_url":"https://api.github.com/repos/apache/curator/issues/1045","id":2604776601,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NzY2MDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T17:24:39Z","updated_at":"2025-01-21T13:43:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat\">symat</a>:</i>\n<p>So it looks to me that ZooKeeper is backward compatible and supports the old config format (which seems to me still valid, if one doesn't use the dynamic reconfig feature of the new ZooKeeper). However, Curator doesn't support the old config format, and this leads to this error message.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776603","html_url":"https://github.com/apache/curator/issues/1045#issuecomment-2604776603","issue_url":"https://api.github.com/repos/apache/curator/issues/1045","id":2604776603,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NzY2MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T04:05:41Z","updated_at":"2025-01-21T13:43:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akhaku\">akhaku</a>:</i>\n<p>That makes sense, yeah. Today there's an <a href=\"https://github.com/apache/curator/blob/apache-curator-4.3.0/curator-framework/src/test/java/org/apache/curator/framework/imps/TestReconfiguration.java#L372\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">explicit test</a> to verify that the client connection string comes back empty for this case so perhaps the only required change is to replace that error with a debug message like the one <a href=\"https://github.com/apache/curator/blob/apache-curator-4.3.0/curator-framework/src/main/java/org/apache/curator/framework/imps/EnsembleTracker.java#L219\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">right below</a>.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776608","html_url":"https://github.com/apache/curator/issues/1045#issuecomment-2604776608","issue_url":"https://api.github.com/repos/apache/curator/issues/1045","id":2604776608,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NzY2MDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T11:06:46Z","updated_at":"2025-01-21T13:43:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat\">symat</a>:</i>\n<p>+1 for changing the error to debug.</p>\n\n<p>Also I just found <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3577\" title=\"SSL support in ZooKeeper Dynamic Reconfiguration\" class=\"issue-link\" data-issue-key=\"ZOOKEEPER-3577\">ZOOKEEPER-3577</a>. I think we will need to change the dynamic reconfig messages in ZooKeeper to include the secure client port values, otherwise the Curator EnsambleTracker won't work on SSL-enabled clusters.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776617","html_url":"https://github.com/apache/curator/issues/1045#issuecomment-2604776617","issue_url":"https://api.github.com/repos/apache/curator/issues/1045","id":2604776617,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NzY2MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T13:31:29Z","updated_at":"2025-01-21T13:43:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<blockquote><p>Sadly in our case we run ZooKeeper via Exhibitor, so it's not very easy to set that string. I have a patch for Exhibitor <a href=\"https://github.com/soabase/exhibitor/compare/master...akhaku:clientPort?expand=1\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/soabase/exhibitor/compare/master...akhaku:clientPort?expand=1</a> but it doesn't look like that project is very active</p></blockquote>\n\n<p>I stopped work on Exhibitor many years ago. There was a small community for a while, but it's really a dead project. FYI</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776632","html_url":"https://github.com/apache/curator/issues/1045#issuecomment-2604776632","issue_url":"https://api.github.com/repos/apache/curator/issues/1045","id":2604776632,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NzY2MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T23:19:57Z","updated_at":"2025-01-21T13:43:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akhaku\">akhaku</a>:</i>\n<p>Thanks Jordan, yes I reached out to the last person who committed to Exhibitor and got some additional context. You may be surprised at the number of things you touched here that are still in active use <img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/smile.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776656","html_url":"https://github.com/apache/curator/issues/1045#issuecomment-2604776656","issue_url":"https://api.github.com/repos/apache/curator/issues/1045","id":2604776656,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NzY2NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-09T01:30:49Z","updated_at":"2025-01-21T13:43:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p><img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/biggrin.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/> I'm very proud of my years at Netflix. I'm glad part of me is still there. You made my day.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604776656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/760474527","html_url":"https://github.com/apache/curator/pull/369#issuecomment-760474527","issue_url":"https://api.github.com/repos/apache/curator/issues/369","id":760474527,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDQ3NDUyNw==","user":{"login":"anmolnar","id":4997876,"node_id":"MDQ6VXNlcjQ5OTc4NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4997876?v=4","gravatar_id":"","url":"https://api.github.com/users/anmolnar","html_url":"https://github.com/anmolnar","followers_url":"https://api.github.com/users/anmolnar/followers","following_url":"https://api.github.com/users/anmolnar/following{/other_user}","gists_url":"https://api.github.com/users/anmolnar/gists{/gist_id}","starred_url":"https://api.github.com/users/anmolnar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anmolnar/subscriptions","organizations_url":"https://api.github.com/users/anmolnar/orgs","repos_url":"https://api.github.com/users/anmolnar/repos","events_url":"https://api.github.com/users/anmolnar/events{/privacy}","received_events_url":"https://api.github.com/users/anmolnar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T21:03:23Z","updated_at":"2021-01-14T21:03:23Z","author_association":"NONE","body":"@Randgalt This script is super useful for ZooKeeper commits. It makes the process super fast and easy for everyone. Is it really better to keep scripts on a wiki instead of source control? People should use their own handmade rubbish instead of an official and well maintained script?\r\nSorry for horning in, this patch just caught my eye. ","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/760474527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/761536766","html_url":"https://github.com/apache/curator/pull/369#issuecomment-761536766","issue_url":"https://api.github.com/repos/apache/curator/issues/369","id":761536766,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTUzNjc2Ng==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T09:56:02Z","updated_at":"2021-01-16T09:56:02Z","author_association":"MEMBER","body":"OK, sure","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/761536766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/761928034","html_url":"https://github.com/apache/curator/pull/375#issuecomment-761928034","issue_url":"https://api.github.com/repos/apache/curator/issues/375","id":761928034,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTkyODAzNA==","user":{"login":"iwangjie","id":23075587,"node_id":"MDQ6VXNlcjIzMDc1NTg3","avatar_url":"https://avatars.githubusercontent.com/u/23075587?v=4","gravatar_id":"","url":"https://api.github.com/users/iwangjie","html_url":"https://github.com/iwangjie","followers_url":"https://api.github.com/users/iwangjie/followers","following_url":"https://api.github.com/users/iwangjie/following{/other_user}","gists_url":"https://api.github.com/users/iwangjie/gists{/gist_id}","starred_url":"https://api.github.com/users/iwangjie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwangjie/subscriptions","organizations_url":"https://api.github.com/users/iwangjie/orgs","repos_url":"https://api.github.com/users/iwangjie/repos","events_url":"https://api.github.com/users/iwangjie/events{/privacy}","received_events_url":"https://api.github.com/users/iwangjie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T01:46:03Z","updated_at":"2021-01-18T01:46:03Z","author_association":"NONE","body":"Do I have anything to deal with?","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/761928034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/762162859","html_url":"https://github.com/apache/curator/pull/369#issuecomment-762162859","issue_url":"https://api.github.com/repos/apache/curator/issues/369","id":762162859,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjE2Mjg1OQ==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T10:47:14Z","updated_at":"2021-01-18T10:47:14Z","author_association":"CONTRIBUTOR","body":"@anmolnar @Randgalt \r\nI am taking your discussion as finally \"let's merge this script\"","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/762162859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/762172923","html_url":"https://github.com/apache/curator/pull/375#issuecomment-762172923","issue_url":"https://api.github.com/repos/apache/curator/issues/375","id":762172923,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjE3MjkyMw==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T11:02:39Z","updated_at":"2021-01-18T11:02:39Z","author_association":"CONTRIBUTOR","body":"committed to master branch\r\nthanks","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/762172923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/762472104","html_url":"https://github.com/apache/curator/pull/377#issuecomment-762472104","issue_url":"https://api.github.com/repos/apache/curator/issues/377","id":762472104,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjQ3MjEwNA==","user":{"login":"nryanov","id":19765449,"node_id":"MDQ6VXNlcjE5NzY1NDQ5","avatar_url":"https://avatars.githubusercontent.com/u/19765449?v=4","gravatar_id":"","url":"https://api.github.com/users/nryanov","html_url":"https://github.com/nryanov","followers_url":"https://api.github.com/users/nryanov/followers","following_url":"https://api.github.com/users/nryanov/following{/other_user}","gists_url":"https://api.github.com/users/nryanov/gists{/gist_id}","starred_url":"https://api.github.com/users/nryanov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nryanov/subscriptions","organizations_url":"https://api.github.com/users/nryanov/orgs","repos_url":"https://api.github.com/users/nryanov/repos","events_url":"https://api.github.com/users/nryanov/events{/privacy}","received_events_url":"https://api.github.com/users/nryanov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T21:11:32Z","updated_at":"2021-01-18T21:11:32Z","author_association":"NONE","body":"Done ð","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/762472104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/762822581","html_url":"https://github.com/apache/curator/pull/377#issuecomment-762822581","issue_url":"https://api.github.com/repos/apache/curator/issues/377","id":762822581,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjgyMjU4MQ==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T12:54:23Z","updated_at":"2021-01-19T12:54:23Z","author_association":"MEMBER","body":"I recall that every time we've touched this in the past there were problems. I'd feel more comfortable if some users tested this with their code.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/762822581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785354","html_url":"https://github.com/apache/curator/issues/1103#issuecomment-2604785354","issue_url":"https://api.github.com/repos/apache/curator/issues/1103","id":2604785354,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODUzNTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T21:26:29Z","updated_at":"2025-01-21T13:47:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>I seem to recall some users having issues with a similar fix in the past too. I can't find the specifics but the NamespaceFacadeCache has an explicit 'null namespace' set up in it and NamespaceImpl has explicit checks for a null namespace in the fix/unfix forNamespace methods.</p>\n\n<p>So, really I think this is only an issue for clients that are explicitly calling getNamespace() on the NamespaceFacade and doing something custom with that string. Internally, the null namespace seems to be supported correctly.</p>\n\n<p>So, I'm not convinced this should be changed.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785360","html_url":"https://github.com/apache/curator/issues/1103#issuecomment-2604785360","issue_url":"https://api.github.com/repos/apache/curator/issues/1103","id":2604785360,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODUzNjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T21:56:53Z","updated_at":"2025-01-21T13:47:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nickryan\">nickryan</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\" class=\"user-hover\" rel=\"cammckenzie\">Cam McKenzie</a>Â thank you for your response.</p>\n\n<p>Yes, the issue only in cases when getNamespace was called explicitly and the result was expected to be a not null value according to javadoc.Â </p>\n\n<p>I'm not sure that this fix is also correct, maybe it even better to just mention it in doc, but i absolutely agree that this is probably a seldom use case and it can be kept as is</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785476","html_url":"https://github.com/apache/curator/issues/1104#issuecomment-2604785476","issue_url":"https://api.github.com/repos/apache/curator/issues/1104","id":2604785476,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3ODU0NzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T15:01:42Z","updated_at":"2025-01-21T13:47:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Sounds good to me if it can be done. That embedded ZooKeeper code is really tricky. It also has some hooks to force shutdowns, session ends, etc.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604785476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/763709723","html_url":"https://github.com/apache/curator/pull/376#issuecomment-763709723","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":763709723,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzcwOTcyMw==","user":{"login":"jmslocum16","id":3376624,"node_id":"MDQ6VXNlcjMzNzY2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3376624?v=4","gravatar_id":"","url":"https://api.github.com/users/jmslocum16","html_url":"https://github.com/jmslocum16","followers_url":"https://api.github.com/users/jmslocum16/followers","following_url":"https://api.github.com/users/jmslocum16/following{/other_user}","gists_url":"https://api.github.com/users/jmslocum16/gists{/gist_id}","starred_url":"https://api.github.com/users/jmslocum16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmslocum16/subscriptions","organizations_url":"https://api.github.com/users/jmslocum16/orgs","repos_url":"https://api.github.com/users/jmslocum16/repos","events_url":"https://api.github.com/users/jmslocum16/events{/privacy}","received_events_url":"https://api.github.com/users/jmslocum16/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T15:28:00Z","updated_at":"2021-01-20T15:28:00Z","author_association":"NONE","body":"@cammckenzie Sorry for the delay on this - I was busy with work and the holidays.\r\nI just completed these changes, so they should be good for review whenever is convenient for you. (And apologies for the size of the change, it was a bigger change than anticipated even if ~2/3 of it is test code).\r\n\r\nA couple follow-up notes after finishing my implementation:\r\n - I realized that quietly() for deletes is the same as idempotent(), but I still inherited the Idempotentable interface in DeleteBuilder and reused the quietly() functionality to be consistent with Create and SetData.\r\n - I didn't implement compareAndDelete or compareAndSetData since those aren't as widely useful as the main Create/SetData/Delete. I could do so in a new PR if desired.\r\n - I did not add idempotent operations to the x-async framework, since this change was already getting large and i'm not sure what the x-async framework is used for. I could do that in a new PR if desired.\r\n - I did not change any of the higher-level recipes to use idempotent operations to simplify their implementation. I could do this in a new PR if desired.\r\n - I did not add idempotent operations to transactions, since I don't think it makes sense to do so.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/763709723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/766454397","html_url":"https://github.com/apache/curator/pull/376#issuecomment-766454397","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":766454397,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NjQ1NDM5Nw==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-24T22:56:13Z","updated_at":"2021-01-24T22:56:13Z","author_association":"CONTRIBUTOR","body":"Thanks @jmslocum16, will try and take a look in the next few day.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/766454397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/767825853","html_url":"https://github.com/apache/curator/pull/376#issuecomment-767825853","issue_url":"https://api.github.com/repos/apache/curator/issues/376","id":767825853,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NzgyNTg1Mw==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-26T21:02:57Z","updated_at":"2021-01-26T21:02:57Z","author_association":"CONTRIBUTOR","body":"@jmslocum16, looks good. Some minor comments, but looks pretty close to mergeable to me.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/767825853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]